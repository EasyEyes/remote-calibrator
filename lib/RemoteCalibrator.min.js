/*! For license information please see RemoteCalibrator.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.RemoteCalibrator=t():e.RemoteCalibrator=t()}(self,(()=>(()=>{var __webpack_modules__={3769:()=>{window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(e,1e3/60)},window.cancelRequestAnimFrame=window.cancelCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout},9438:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,".animated{-webkit-animation-duration:var(--animate-duration);animation-duration:var(--animate-duration);-webkit-animation-fill-mode:both;animation-fill-mode:both}.animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.animated.repeat-1{-webkit-animation-iteration-count:var(--animate-repeat);animation-iteration-count:var(--animate-repeat)}.animated.repeat-2{-webkit-animation-iteration-count:calc(var(--animate-repeat)*2);animation-iteration-count:calc(var(--animate-repeat)*2)}.animated.repeat-3{-webkit-animation-iteration-count:calc(var(--animate-repeat)*3);animation-iteration-count:calc(var(--animate-repeat)*3)}.animated.delay-1s{-webkit-animation-delay:var(--animate-delay);animation-delay:var(--animate-delay)}.animated.delay-2s{-webkit-animation-delay:calc(var(--animate-delay)*2);animation-delay:calc(var(--animate-delay)*2)}.animated.delay-3s{-webkit-animation-delay:calc(var(--animate-delay)*3);animation-delay:calc(var(--animate-delay)*3)}.animated.delay-4s{-webkit-animation-delay:calc(var(--animate-delay)*4);animation-delay:calc(var(--animate-delay)*4)}.animated.delay-5s{-webkit-animation-delay:calc(var(--animate-delay)*5);animation-delay:calc(var(--animate-delay)*5)}.animated.faster{-webkit-animation-duration:calc(var(--animate-duration)/2);animation-duration:calc(var(--animate-duration)/2)}.animated.fast{-webkit-animation-duration:calc(var(--animate-duration)*.8);animation-duration:calc(var(--animate-duration)*.8)}.animated.slow{-webkit-animation-duration:calc(var(--animate-duration)*2);animation-duration:calc(var(--animate-duration)*2)}.animated.slower{-webkit-animation-duration:calc(var(--animate-duration)*3);animation-duration:calc(var(--animate-duration)*3)}@media (prefers-reduced-motion:reduce),print{.animated{-webkit-animation-duration:1ms!important;animation-duration:1ms!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important;-webkit-transition-duration:1ms!important;transition-duration:1ms!important}.animated[class*=Out]{opacity:0}}","",{version:3,sources:["webpack://./node_modules/animate.css/source/_base.css"],names:[],mappings:"AAAA,UACE,kDAA2C,CAA3C,0CAA2C,CAC3C,gCAAyB,CAAzB,wBACF,CAEA,mBACE,0CAAmC,CAAnC,kCACF,CAEA,mBACE,uDAAgD,CAAhD,+CACF,CAEA,mBACE,+DAA0D,CAA1D,uDACF,CAEA,mBACE,+DAA0D,CAA1D,uDACF,CAEA,mBACE,4CAAqC,CAArC,oCACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,iBACE,0DAAqD,CAArD,kDACF,CAEA,eACE,2DAAuD,CAAvD,mDACF,CAEA,eACE,0DAAqD,CAArD,kDACF,CAEA,iBACE,0DAAqD,CAArD,kDACF,CAEA,6CACE,UACE,wCAAkC,CAAlC,gCAAkC,CAElC,6CAAuC,CAAvC,qCAAuC,CADvC,yCAAmC,CAAnC,iCAEF,CAEA,sBACE,SACF,CACF",sourcesContent:[".animated {\n  animation-duration: var(--animate-duration);\n  animation-fill-mode: both;\n}\n\n.animated.infinite {\n  animation-iteration-count: infinite;\n}\n\n.animated.repeat-1 {\n  animation-iteration-count: var(--animate-repeat);\n}\n\n.animated.repeat-2 {\n  animation-iteration-count: calc(var(--animate-repeat) * 2);\n}\n\n.animated.repeat-3 {\n  animation-iteration-count: calc(var(--animate-repeat) * 3);\n}\n\n.animated.delay-1s {\n  animation-delay: var(--animate-delay);\n}\n\n.animated.delay-2s {\n  animation-delay: calc(var(--animate-delay) * 2);\n}\n\n.animated.delay-3s {\n  animation-delay: calc(var(--animate-delay) * 3);\n}\n\n.animated.delay-4s {\n  animation-delay: calc(var(--animate-delay) * 4);\n}\n\n.animated.delay-5s {\n  animation-delay: calc(var(--animate-delay) * 5);\n}\n\n.animated.faster {\n  animation-duration: calc(var(--animate-duration) / 2);\n}\n\n.animated.fast {\n  animation-duration: calc(var(--animate-duration) * 0.8);\n}\n\n.animated.slow {\n  animation-duration: calc(var(--animate-duration) * 2);\n}\n\n.animated.slower {\n  animation-duration: calc(var(--animate-duration) * 3);\n}\n\n@media print, (prefers-reduced-motion: reduce) {\n  .animated {\n    animation-duration: 1ms !important;\n    transition-duration: 1ms !important;\n    animation-iteration-count: 1 !important;\n  }\n\n  .animated[class*='Out'] {\n    opacity: 0;\n  }\n}\n"],sourceRoot:""}]);const o=i},7705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,":root{--animate-duration:1s;--animate-delay:1s;--animate-repeat:1}","",{version:3,sources:["webpack://./node_modules/animate.css/source/_vars.css"],names:[],mappings:"AAAA,MACE,qBAAsB,CACtB,kBAAmB,CACnB,kBACF",sourcesContent:[":root {\n  --animate-duration: 1s;\n  --animate-delay: 1s;\n  --animate-repeat: 1;\n}\n"],sourceRoot:""}]);const o=i},7448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,"@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInUp{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}","",{version:3,sources:["webpack://./node_modules/animate.css/source/fading_entrances/fadeInUp.css"],names:[],mappings:"AAAA,4BACE,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CAEA,GACE,SAAU,CACV,+BAA+B,CAA/B,uBACF,CACF,CAVA,oBACE,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CAEA,GACE,SAAU,CACV,+BAA+B,CAA/B,uBACF,CACF,CAEA,UACE,+BAAwB,CAAxB,uBACF",sourcesContent:["@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n.fadeInUp {\n  animation-name: fadeInUp;\n}\n"],sourceRoot:""}]);const o=i},9485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,"@-webkit-keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.fadeOutDown{-webkit-animation-name:fadeOutDown;animation-name:fadeOutDown}","",{version:3,sources:["webpack://./node_modules/animate.css/source/fading_exits/fadeOutDown.css"],names:[],mappings:"AAAA,+BACE,GACE,SACF,CAEA,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CACF,CATA,uBACE,GACE,SACF,CAEA,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CACF,CAEA,aACE,kCAA2B,CAA3B,0BACF",sourcesContent:["@keyframes fadeOutDown {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n}\n\n.fadeOutDown {\n  animation-name: fadeOutDown;\n}\n"],sourceRoot:""}]);const o=i},2601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,'.swal2-popup.swal2-toast{background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;overflow-y:hidden;padding:1em;pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{font-size:1em;margin:.5em 1em;padding:0;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{font-size:1em;height:2em;margin:.5em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{font-size:.8em;margin:.5em 0 0;padding:.5em 0 0}.swal2-popup.swal2-toast .swal2-close{align-self:center;font-size:2em;grid-column:3/3;grid-row:1/99;height:.8em;margin:0;width:.8em}.swal2-popup.swal2-toast .swal2-html-container{font-size:1em;margin:.5em 1em;overflow:initial;padding:0;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{align-self:center;grid-column:1;grid-row:1/99;height:2em;margin:.25em;width:2em}.swal2-popup.swal2-toast .swal2-icon{align-self:center;grid-column:1;grid-row:1/99;height:2em;margin:0 .5em 0 0;min-width:2em;width:2em}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{align-items:center;display:flex;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{height:2em;width:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{height:auto;justify-content:flex-start;margin:.5em 0 0;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{font-size:1em;margin:.25em .5em;padding:.4em .6em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{border-radius:50%;height:3em;position:absolute;transform:rotate(45deg);width:1.6em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{border-radius:4em 0 0 4em;left:-.5em;top:-.8em;transform:rotate(-45deg);transform-origin:2em 2em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{border-radius:0 4em 4em 0;left:.9375em;top:-.25em;transform-origin:0 1.5em}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{height:2em;width:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{height:2.6875em;left:.4375em;top:0;width:.4375em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{left:.1875em;top:1.125em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{right:.1875em;top:.9375em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{-webkit-overflow-scrolling:touch;bottom:0;box-sizing:border-box;display:grid;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;left:0;overflow-x:hidden;padding:.625em;position:fixed;right:0;top:0;transition:background-color .1s;z-index:1060}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:transparent!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{align-self:start;grid-column:2;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{align-self:start;grid-column:3;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{align-self:center;grid-row:2}.swal2-container.swal2-center>.swal2-popup{align-self:center;grid-column:2;grid-row:2;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{align-self:center;grid-column:3;grid-row:2;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{align-self:end;grid-column:1;grid-row:3}.swal2-container.swal2-bottom>.swal2-popup{align-self:end;grid-column:2;grid-row:3;justify-self:center}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{align-self:end;grid-column:3;grid-row:3;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{align-self:stretch;grid-row:1/4}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{background:#fff;border:none;border-radius:5px;box-sizing:border-box;color:#545454;display:none;font-family:inherit;font-size:1rem;grid-template-columns:minmax(0,100%);max-width:100%;padding:0 0 1.25em;position:relative;width:32em}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{word-wrap:break-word;color:inherit;font-size:1.875em;font-weight:600;margin:0;max-width:100%;padding:.8em 1em 0;position:relative;text-align:center;text-transform:none}.swal2-actions{align-items:center;box-sizing:border-box;display:flex;flex-wrap:wrap;justify-content:center;margin:1.25em auto 0;padding:0;width:auto;z-index:1}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{align-items:center;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-color:#2778c4 transparent;border-radius:100%;border-style:solid;border-width:.25em;display:none;height:2.2em;justify-content:center;margin:0 1.875em;width:2.2em}.swal2-styled{box-shadow:0 0 0 3px transparent;font-weight:500;margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{background:initial;background-color:#7066e0;border:0;border-radius:.25em;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{background:initial;background-color:#dc3741;border:0;border-radius:.25em;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{background:initial;background-color:#6e7881;border:0;border-radius:.25em;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px hsla(208,8%,47%,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{border-top:1px solid #eee;color:inherit;font-size:1em;justify-content:center;margin:1em 0 0;padding:1em 1em 0}.swal2-timer-progress-bar-container{border-bottom-left-radius:5px;border-bottom-right-radius:5px;bottom:0;grid-column:auto!important;left:0;overflow:hidden;position:absolute;right:0}.swal2-timer-progress-bar{background:rgba(0,0,0,.2);height:.25em;width:100%}.swal2-image{margin:2em auto 1em;max-width:100%}.swal2-close{align-items:center;background:transparent;border:none;border-radius:5px;color:#ccc;cursor:pointer;font-family:serif;font-family:monospace;font-size:2.5em;height:1.2em;justify-content:center;justify-self:end;margin-bottom:-1.2em;margin-right:0;margin-top:0;overflow:hidden;padding:0;transition:color .1s,box-shadow .1s;width:1.2em;z-index:2}.swal2-close:hover{background:transparent;color:#f27474;transform:none}.swal2-close:focus{box-shadow:inset 0 0 0 3px rgba(100,150,200,.5);outline:none}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{word-wrap:break-word;color:inherit;font-size:1.125em;font-weight:400;justify-content:center;line-height:normal;margin:1em 1.6em .3em;overflow:auto;padding:0;text-align:center;word-break:break-word;z-index:1}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{background:transparent;border:1px solid #d9d9d9;border-radius:.1875em;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;box-sizing:border-box;color:inherit;font-size:1.125em;transition:border-color .1s,box-shadow .1s;width:auto}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5);outline:none}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{background:#fff;margin:1em 2em 3px}.swal2-range input{width:80%}.swal2-range output{color:inherit;font-weight:600;text-align:center;width:20%}.swal2-range input,.swal2-range output{font-size:1.125em;height:2.625em;line-height:2.625em;padding:0}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{background:transparent;font-size:1.125em;margin-left:auto;margin-right:auto;width:75%}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{background:transparent;color:inherit;font-size:1.125em;max-width:100%;min-width:50%;padding:.375em .625em}.swal2-checkbox,.swal2-radio{align-items:center;background:#fff;color:inherit;justify-content:center}.swal2-checkbox label,.swal2-radio label{font-size:1.125em;margin:0 .6em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;background:#f0f0f0;color:#666;font-size:1em;font-weight:300;justify-content:center;margin:1em 0 0;overflow:hidden;padding:.625em}.swal2-validation-message:before{background-color:#f27474;border-radius:50%;color:#fff;content:"!";display:inline-block;font-weight:600;height:1.5em;line-height:1.5em;margin:0 .625em;min-width:1.5em;text-align:center;width:1.5em}.swal2-icon{border:.25em solid #000;border-radius:50%;box-sizing:content-box;cursor:default;font-family:inherit;height:5em;justify-content:center;line-height:5em;margin:2.5em auto .6em;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:5em}.swal2-icon .swal2-icon-content{align-items:center;display:flex;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{flex-grow:1;position:relative}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{background-color:#f27474;border-radius:.125em;display:block;height:.3125em;position:absolute;top:2.3125em;width:2.9375em}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{border-radius:50%;height:7.5em;position:absolute;transform:rotate(45deg);width:3.75em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{border-radius:7.5em 0 0 7.5em;left:-2.0635em;top:-.4375em;transform:rotate(-45deg);transform-origin:3.75em 3.75em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{border-radius:0 7.5em 7.5em 0;left:1.875em;top:-.6875em;transform:rotate(-45deg);transform-origin:0 3.75em}.swal2-icon.swal2-success .swal2-success-ring{border:.25em solid hsla(98,55%,69%,.3);border-radius:50%;box-sizing:content-box;height:100%;left:-.25em;position:absolute;top:-.25em;width:100%;z-index:2}.swal2-icon.swal2-success .swal2-success-fix{height:5.625em;left:1.625em;position:absolute;top:.5em;transform:rotate(-45deg);width:.4375em;z-index:1}.swal2-icon.swal2-success [class^=swal2-success-line]{background-color:#a5dc86;border-radius:.125em;display:block;height:.3125em;position:absolute;z-index:2}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{left:.8125em;top:2.875em;transform:rotate(45deg);width:1.5625em}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{right:.5em;top:2.375em;transform:rotate(-45deg);width:2.9375em}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{align-items:center;background:transparent;flex-wrap:wrap;font-weight:600;margin:1.25em auto;max-width:100%;padding:0}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{background:#2778c4;border-radius:2em;color:#fff;flex-shrink:0;height:2em;line-height:2em;text-align:center;width:2em;z-index:20}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{background:#2778c4;flex-shrink:0;height:.4em;margin:0 -1px;width:2.5em;z-index:10}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{height:50px;overflow:scroll;position:absolute;top:-9999px;width:50px}.swal2-rtl .swal2-close{margin-left:0;margin-right:0}.swal2-rtl .swal2-timer-progress-bar{left:auto;right:0}.leave-russia-now-and-apply-your-skills-to-the-world{align-items:center;background:#20232a;bottom:0;color:#fff;display:flex;flex-direction:column;justify-content:center;left:0;padding:25px 0 20px;position:fixed;right:0;text-align:center;top:0;z-index:1939}.leave-russia-now-and-apply-your-skills-to-the-world div{line-height:146%;margin:10px;max-width:560px}.leave-russia-now-and-apply-your-skills-to-the-world iframe{margin:16px auto;max-height:55.5555555556vmin;max-width:100%}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{align-items:center;background:transparent;border:none;color:#aaa;cursor:pointer;display:flex;font-size:48px;font-weight:700;height:48px;justify-content:center;margin-bottom:-10px;margin-right:10px;position:fixed;right:0;top:0;width:48px;z-index:1940}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotate(2deg)}33%{transform:translateY(0) rotate(-2deg)}66%{transform:translateY(.3125em) rotate(2deg)}to{transform:translateY(0) rotate(0deg)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotate(2deg)}33%{transform:translateY(0) rotate(-2deg)}66%{transform:translateY(.3125em) rotate(2deg)}to{transform:translateY(0) rotate(0deg)}}@-webkit-keyframes swal2-toast-hide{to{opacity:0;transform:rotate(1deg)}}@keyframes swal2-toast-hide{to{opacity:0;transform:rotate(1deg)}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{left:.0625em;top:.5625em;width:0}54%{left:.125em;top:.125em;width:0}70%{left:-.25em;top:.625em;width:1.625em}84%{left:.75em;top:1.0625em;width:.5em}to{left:.1875em;top:1.125em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{left:.0625em;top:.5625em;width:0}54%{left:.125em;top:.125em;width:0}70%{left:-.25em;top:.625em;width:1.625em}84%{left:.75em;top:1.0625em;width:.5em}to{left:.1875em;top:1.125em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{right:1.375em;top:1.625em;width:0}65%{right:.9375em;top:1.25em;width:0}84%{right:0;top:.9375em;width:1.125em}to{right:.1875em;top:.9375em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{right:1.375em;top:1.625em;width:0}65%{right:.9375em;top:1.25em;width:0}84%{right:0;top:.9375em;width:1.125em}to{right:.1875em;top:.9375em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}to{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}to{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.5)}}@keyframes swal2-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.5)}}@-webkit-keyframes swal2-animate-success-line-tip{0%{left:.0625em;top:1.1875em;width:0}54%{left:.125em;top:1.0625em;width:0}70%{left:-.375em;top:2.1875em;width:3.125em}84%{left:1.3125em;top:3em;width:1.0625em}to{left:.8125em;top:2.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{left:.0625em;top:1.1875em;width:0}54%{left:.125em;top:1.0625em;width:0}70%{left:-.375em;top:2.1875em;width:3.125em}84%{left:1.3125em;top:3em;width:1.0625em}to{left:.8125em;top:2.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{right:2.875em;top:3.375em;width:0}65%{right:2.875em;top:3.375em;width:0}84%{right:0;top:2.1875em;width:3.4375em}to{right:.5em;top:2.375em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{right:2.875em;top:3.375em;width:0}65%{right:2.875em;top:3.375em;width:0}84%{right:0;top:2.1875em;width:3.4375em}to{right:.5em;top:2.375em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}to{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}to{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;opacity:0;transform:scale(.4)}50%{margin-top:1.625em;opacity:0;transform:scale(.4)}80%{margin-top:-.375em;transform:scale(1.15)}to{margin-top:0;opacity:1;transform:scale(1)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;opacity:0;transform:scale(.4)}50%{margin-top:1.625em;opacity:0;transform:scale(.4)}80%{margin-top:-.375em;transform:scale(1.15)}to{margin-top:0;opacity:1;transform:scale(1)}}@-webkit-keyframes swal2-animate-error-icon{0%{opacity:0;transform:rotateX(100deg)}to{opacity:1;transform:rotateX(0deg)}}@keyframes swal2-animate-error-icon{0%{opacity:0;transform:rotateX(100deg)}to{opacity:1;transform:rotateX(0deg)}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-1turn)}to{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-1turn)}to{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{opacity:0;transform:rotate(45deg)}25%{opacity:.4;transform:rotate(-25deg)}50%{opacity:.8;transform:rotate(15deg)}75%{opacity:1;transform:rotate(-5deg)}to{opacity:1;transform:rotateX(0)}}@keyframes swal2-animate-i-mark{0%{opacity:0;transform:rotate(45deg)}25%{opacity:.4;transform:rotate(-25deg)}50%{opacity:.8;transform:rotate(15deg)}75%{opacity:1;transform:rotate(-5deg)}to{opacity:1;transform:rotateX(0)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent;box-sizing:border-box;max-width:100%;pointer-events:none;width:360px}body.swal2-toast-shown .swal2-container.swal2-top{bottom:auto;left:50%;right:auto;top:0;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{bottom:auto;left:auto;right:0;top:0}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{bottom:auto;left:0;right:auto;top:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{bottom:auto;left:0;right:auto;top:50%;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{bottom:auto;left:50%;right:auto;top:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{bottom:auto;left:auto;right:0;top:50%;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{bottom:0;left:0;right:auto;top:auto}body.swal2-toast-shown .swal2-container.swal2-bottom{bottom:0;left:50%;right:auto;top:auto;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{bottom:0;left:auto;right:0;top:auto}',"",{version:3,sources:["webpack://./node_modules/sweetalert2/src/scss/_toasts.scss","webpack://./node_modules/sweetalert2/src/variables.scss","webpack://./node_modules/sweetalert2/src/scss/_core.scss","webpack://./node_modules/sweetalert2/src/scss/_toasts-animations.scss","webpack://./node_modules/sweetalert2/src/scss/_animations.scss","webpack://./node_modules/sweetalert2/src/scss/_mixins.scss","webpack://./node_modules/sweetalert2/src/scss/_body.scss","webpack://./node_modules/sweetalert2/src/scss/_toasts-body.scss"],names:[],mappings:"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AAA,CAGA,cDFwB,CCIxB,sBDF8B,CCI9B,oBDFqB,CCGrB,SDFsB,CCAtB,UDFoB,CCHpB,SDKsB,CCMlB,2DACE,UAAA,CAGF,uDACE,+DAAA,CAGF,wDACE,+DAAA,CAMR,cAEE,kBDkByB,CCbzB,qEDkBuB,CClBvB,6DDkBuB,CCdvB,gCDkB0B,CCnB1B,kBDkB2B,CCjB3B,kBDkB0B,CClB1B,kBDkB0B,CC5B1B,YAAA,CAIA,YDkBoB,CCpBpB,sBDkB6B,CCf7B,gBDkBoB,CCpBpB,WDyB0B,CCf5B,cAIE,gCDjCwB,CCkCxB,eDjCyB,CC6BzB,cDjCoB,CCkCpB,oBDjCqB,CCkCrB,yBD/ByB,CCmCzB,8BACE,cAAA,CAGF,4BAIE,kBAAA,CACA,wBDlCoC,CC+BpC,QDjC0B,CCkC1B,mBDjCiC,CCoCjC,UDhOU,CCiOV,aDlC6B,CCoC7B,kCACE,yCDpCkC,CCwCtC,yBAIE,kBAAA,CACA,wBDvCiC,CCoCjC,QDtCuB,CCuCvB,mBDtC8B,CCyC9B,UD9OU,CC+OV,aDvC0B,CCyC1B,+BACE,uCDzC+B,CC6CnC,2BAIE,kBAAA,CACA,wBD5CmC,CCyCnC,QD3CyB,CC4CzB,mBD3CgC,CC8ChC,UD5PU,CC6PV,aD5C4B,CC8C5B,iCACE,wCD9CiC,CCmDnC,0CACE,yCD/E0B,CCmF9B,oBACE,YDrFyB,CCwF3B,gCACE,QAAA,CAIJ,cAIE,yBAAA,CACA,aDrJmB,CCsJnB,aDrJuB,CCgJvB,sBAAA,CACA,cDrJoB,CCsJpB,iBDlJuB,CCwJzB,oCAQE,6BDxRoB,CCuRpB,8BDvRoB,CCmRpB,QAAA,CAEA,0BAAA,CADA,MAAA,CAEA,eAAA,CALA,iBAAA,CACA,ODlRoB,CC2RtB,0BAGE,yBDlKoC,CCiKpC,YDlKgC,CCiKhC,UDhKoC,CCqKtC,aAEE,mBDjQmB,CCgQnB,cDhQmB,CCoQrB,aAGE,kBDzK+B,CCsL/B,sBD3K8B,CCwK9B,WD3K0B,CC4K1B,iBDpToB,CCuTpB,UD3KyB,CC+KzB,cAAA,CAHA,iBD3K+B,CC4K/B,qBAAA,CACA,eD5K6B,CC8J7B,YDzK0B,CCuK1B,sBDzKmC,CC2LnC,gBD7LgC,CCgLhC,oBAAA,CADA,cDzKuB,CCwKvB,YDxKuB,CC4KvB,eAAA,CADA,SD1K2B,CC4K3B,mCD3K8B,CCoK9B,WDzKyB,CCsKzB,SDzKgC,CC+LhC,mBAEE,sBD5KkC,CC6KlC,aDrSU,CCmSV,cDnSU,CCwSZ,mBAEE,+CD9KkC,CC6KlC,YD7KkC,CCiLpC,+BACE,QAAA,CAIJ,sBAWE,oBDjS+B,CC4R/B,aDjS2B,CCkS3B,iBDjS+B,CCkS/B,eDjSiC,CC2RjC,sBDjSqC,CCwSrC,kBDjSiC,CC2RjC,qBDjS4B,CCmS5B,aDjS8B,CCgS9B,SDjS6B,CCuS7B,iBDjSgC,CCmShC,qBDjSgC,CCsRhC,SDtRgC,CCoSlC,oFAME,kBDvSmB,CC0SrB,yCAQE,sBD1SuB,CCwSvB,wBD5SmB,CC6SnB,qBD5S0B,CC8S1B,gED7SuB,CCuSvB,qBAAA,CAOA,aD3SkB,CC4SlB,iBD9SsB,CCwStB,0CDrSuB,CCoSvB,UDvSsB,CCgTtB,4FACE,8BAAA,CACA,oCAAA,CAGF,2DACE,wBDhTuB,CCkTvB,yEDhT2B,CC+S3B,YD/S2B,CCmT7B,+FACE,UAAA,CADF,gFACE,UAAA,CAIJ,aAEE,eDjZY,CCgZZ,kBDhZY,CCmZZ,mBACE,SAAA,CAGF,oBAEE,aDxUgB,CCyUhB,eAAA,CACA,iBAAA,CAHA,SAGA,CAGF,uCAIE,iBDnVoB,CCiVpB,cDtViB,CCyVjB,mBDzViB,CCuVjB,SDvViB,CC6VrB,aACE,cD9VmB,CC+VnB,eD9VoB,CCiWtB,YAIE,sBDhWuB,CCiWvB,iBDlWsB,CCgWtB,gBAAA,CADA,iBAAA,CADA,SD9VsB,CCqWxB,gBACE,aD3VsB,CC4VtB,aD3VuB,CC8VzB,cAIE,sBD7WuB,CC8WvB,aD7WkB,CC8WlB,iBDhXsB,CC4WtB,cAAA,CADA,aAAA,CAEA,qBD7WsB,CCmXxB,6BAEE,kBAAA,CAEA,eDtcY,CCucZ,aDtXkB,CCoXlB,sBDpXkB,CCwXlB,yCAEE,iBD5XoB,CC2XpB,aD3XoB,CC+XtB,yCACE,aAAA,CACA,aAAA,CAIJ,mBACE,YAAA,CACA,sBDvXkC,CC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",sourcesContent:[".swal2-popup {\n  &.swal2-toast {\n    box-sizing: border-box;\n    grid-column: 1/4 !important;\n    grid-row: 1/4 !important;\n    grid-template-columns: 1fr 99fr 1fr;\n    padding: $swal2-toast-padding;\n    overflow-y: hidden;\n    background: $swal2-toast-background;\n    box-shadow: $swal2-toast-box-shadow;\n    pointer-events: all;\n\n    > * {\n      grid-column: 2;\n    }\n\n    .swal2-title {\n      margin: $swal2-toast-title-margin;\n      padding: $swal2-toast-title-padding;\n      font-size: $swal2-toast-title-font-size;\n      text-align: initial;\n    }\n\n    .swal2-loading {\n      justify-content: center;\n    }\n\n    .swal2-input {\n      height: $swal2-toast-input-height;\n      margin: $swal2-toast-input-margin;\n      font-size: $swal2-toast-input-font-size;\n    }\n\n    .swal2-validation-message {\n      font-size: $swal2-toast-validation-font-size;\n    }\n\n    .swal2-footer {\n      margin: $swal2-toast-footer-margin;\n      padding: $swal2-toast-footer-margin;\n      font-size: $swal2-toast-footer-font-size;\n    }\n\n    .swal2-close {\n      grid-column: 3/3;\n      grid-row: 1/99;\n      align-self: center;\n      width: $swal2-toast-close-button-width;\n      height: $swal2-toast-close-button-height;\n      margin: $swal2-toast-close-button-margin;\n      font-size: $swal2-toast-close-button-font-size;\n    }\n\n    .swal2-html-container {\n      margin: $swal2-toast-html-container-margin;\n      padding: $swal2-toast-html-container-padding;\n      overflow: initial;\n      font-size: $swal2-toast-html-container-font-size;\n      text-align: initial;\n\n      &:empty {\n        padding: 0;\n      }\n    }\n\n    .swal2-loader {\n      grid-column: 1;\n      grid-row: 1/99;\n      align-self: center;\n      width: 2em;\n      height: 2em;\n      margin: 0.25em;\n    }\n\n    .swal2-icon {\n      grid-column: 1;\n      grid-row: 1/99;\n      align-self: center;\n      width: 2em;\n      min-width: 2em;\n      height: 2em;\n      margin: 0 0.5em 0 0;\n\n      .swal2-icon-content {\n        display: flex;\n        align-items: center;\n        font-size: $swal2-toast-icon-font-size;\n        font-weight: bold;\n      }\n\n      &.swal2-success {\n        .swal2-success-ring {\n          width: 2em;\n          height: 2em;\n        }\n      }\n\n      &.swal2-error {\n        [class^='swal2-x-mark-line'] {\n          top: 0.875em;\n          width: 1.375em;\n\n          &[class$='left'] {\n            left: 0.3125em;\n          }\n\n          &[class$='right'] {\n            right: 0.3125em;\n          }\n        }\n      }\n    }\n\n    .swal2-actions {\n      justify-content: flex-start;\n      height: auto;\n      margin: 0;\n      margin-top: 0.5em;\n      padding: 0 0.5em;\n    }\n\n    .swal2-styled {\n      margin: 0.25em 0.5em;\n      padding: 0.4em 0.6em;\n      font-size: $swal2-toast-buttons-font-size;\n    }\n\n    .swal2-success {\n      border-color: $swal2-success;\n\n      [class^='swal2-success-circular-line'] {\n        // Emulate moving circular line\n        position: absolute;\n        width: 1.6em;\n        height: 3em;\n        transform: rotate(45deg);\n        border-radius: 50%;\n\n        &[class$='left'] {\n          top: -0.8em;\n          left: -0.5em;\n          transform: rotate(-45deg);\n          transform-origin: 2em 2em;\n          border-radius: 4em 0 0 4em;\n        }\n\n        &[class$='right'] {\n          top: -0.25em;\n          left: 0.9375em;\n          transform-origin: 0 1.5em;\n          border-radius: 0 4em 4em 0;\n        }\n      }\n\n      .swal2-success-ring {\n        width: 2em;\n        height: 2em;\n      }\n\n      .swal2-success-fix {\n        top: 0;\n        left: 0.4375em;\n        width: 0.4375em;\n        height: 2.6875em;\n      }\n\n      [class^='swal2-success-line'] {\n        height: 0.3125em;\n\n        &[class$='tip'] {\n          top: 1.125em;\n          left: 0.1875em;\n          width: 0.75em;\n        }\n\n        &[class$='long'] {\n          top: 0.9375em;\n          right: 0.1875em;\n          width: 1.375em;\n        }\n      }\n\n      &.swal2-icon-show {\n        @if $swal2-icon-animations {\n          .swal2-success-line-tip {\n            animation: swal2-toast-animate-success-line-tip 0.75s;\n          }\n\n          .swal2-success-line-long {\n            animation: swal2-toast-animate-success-line-long 0.75s;\n          }\n        }\n      }\n    }\n\n    &.swal2-show {\n      animation: $swal2-toast-show-animation;\n    }\n\n    &.swal2-hide {\n      animation: $swal2-toast-hide-animation;\n    }\n  }\n}\n","$swal2-white: #fff !default;\n$swal2-black: #000 !default;\n$swal2-outline-color: rgba(100, 150, 200, 0.5) !default;\n\n// CONTAINER\n$swal2-container-padding: 0.625em !default;\n\n// POPUP\n$swal2-width: 32em !default;\n$swal2-padding: 0 0 1.25em !default;\n$swal2-border: none !default;\n$swal2-color: lighten($swal2-black, 33) !default;\n$swal2-border-radius: 5px !default;\n$swal2-box-shadow: #d9d9d9 !default;\n\n// ANIMATIONS\n$swal2-show-animation: swal2-show 0.3s !default;\n$swal2-hide-animation: swal2-hide 0.15s forwards !default;\n\n// BACKGROUND\n$swal2-background: $swal2-white !default;\n\n// TYPOGRAPHY\n$swal2-font: inherit !default;\n$swal2-font-size: 1rem !default;\n\n// BACKDROP\n$swal2-backdrop: rgba($swal2-black, 0.4) !default;\n$swal2-backdrop-transition: background-color 0.1s !default;\n\n// ICONS\n$swal2-icon-size: 5em !default;\n$swal2-icon-animations: true !default;\n$swal2-icon-margin: 2.5em auto 0.6em !default;\n$swal2-icon-font-family: inherit !default;\n$swal2-icon-font-size: 3.75em !default;\n$swal2-icon-border-color: #000 !default;\n$swal2-icon-zoom: null !default;\n$swal2-success: #a5dc86 !default;\n$swal2-success-border: rgba($swal2-success, 0.3) !default;\n$swal2-error: #f27474 !default;\n$swal2-warning: #f8bb86 !default;\n$swal2-info: #3fc3ee !default;\n$swal2-question: #87adbd !default;\n\n// IMAGE\n$swal2-image-margin: 2em auto 1em !default;\n\n// TITLE\n$swal2-title-position: relative !default;\n$swal2-title-max-width: 100% !default;\n$swal2-title-margin: 0 !default;\n$swal2-title-padding: 0.8em 1em 0 !default;\n$swal2-title-color: inherit !default;\n$swal2-title-font-size: 1.875em !default;\n$swal2-title-font-weight: 600 !default;\n$swal2-title-text-align: center !default;\n\n// HTML CONTAINER\n$swal2-html-container-justify-content: center !default;\n$swal2-html-container-margin: 1em 1.6em 0.3em !default;\n$swal2-html-container-padding: 0 !default;\n$swal2-html-container-overflow: auto !default;\n$swal2-html-container-color: inherit !default;\n$swal2-html-container-font-size: 1.125em !default;\n$swal2-html-container-font-weight: normal !default;\n$swal2-html-container-line-height: normal !default;\n$swal2-html-container-text-align: center !default;\n$swal2-html-container-word-wrap: break-word !default;\n$swal2-html-container-word-break: break-word !default;\n\n// INPUT\n$swal2-input-margin: 1em 2em 3px !default;\n$swal2-input-width: auto !default;\n$swal2-input-height: 2.625em !default;\n$swal2-input-padding: 0 0.75em !default;\n$swal2-input-border: 1px solid lighten($swal2-black, 85) !default;\n$swal2-input-border-radius: 0.1875em !default;\n$swal2-input-box-shadow: inset 0 1px 1px rgba($swal2-black, 0.06), 0 0 0 3px transparent !default;\n$swal2-input-font-size: 1.125em !default;\n$swal2-input-background: transparent !default;\n$swal2-input-color: inherit !default;\n$swal2-input-transition: border-color 0.1s, box-shadow 0.1s !default;\n\n// INPUT:FOCUS\n$swal2-input-focus-border: 1px solid #b4dbed !default;\n$swal2-input-focus-outline: none !default;\n$swal2-input-focus-box-shadow: inset 0 1px 1px rgba($swal2-black, 0.06), 0 0 0 3px $swal2-outline-color !default;\n\n// TEXTAREA SPECIFIC VARIABLES\n$swal2-textarea-height: 6.75em !default;\n$swal2-textarea-padding: 0.75em !default;\n\n// INPUT LABEL\n$swal2-input-label-margin: 1em auto 0 !default;\n$swal2-input-label-justify-content: center !default;\n\n// VALIDATION MESSAGE\n$swal2-validation-message-align-items: center !default;\n$swal2-validation-message-justify-content: center !default;\n$swal2-validation-message-margin: 1em 0 0 !default;\n$swal2-validation-message-padding: 0.625em !default;\n$swal2-validation-message-background: lighten($swal2-black, 94) !default;\n$swal2-validation-message-color: lighten($swal2-black, 40) !default;\n$swal2-validation-message-font-size: 1em !default;\n$swal2-validation-message-font-weight: 300 !default;\n$swal2-validation-message-icon-background: $swal2-error !default;\n$swal2-validation-message-icon-color: $swal2-white !default;\n$swal2-validation-message-icon-zoom: null !default;\n\n// PROGRESS STEPS\n$swal2-progress-steps-flex-wrap: wrap !default;\n$swal2-progress-steps-align-items: center !default;\n$swal2-progress-steps-max-width: 100% !default;\n$swal2-progress-steps-background: transparent !default;\n$swal2-progress-steps-margin: 1.25em auto !default;\n$swal2-progress-steps-padding: 0 !default;\n$swal2-progress-steps-font-weight: 600 !default;\n$swal2-progress-steps-distance: 2.5em !default;\n$swal2-progress-step-width: 2em;\n$swal2-progress-step-height: 2em;\n$swal2-progress-step-border-radius: 2em;\n$swal2-progress-step-background: #add8e6 !default;\n$swal2-progress-step-color: $swal2-white !default;\n$swal2-active-step-background: #2778c4 !default;\n$swal2-active-step-color: $swal2-white !default;\n\n// FOOTER\n$swal2-footer-margin: 1em 0 0 !default;\n$swal2-footer-padding: 1em 1em 0 !default;\n$swal2-footer-border-color: #eee !default;\n$swal2-footer-color: inherit !default;\n$swal2-footer-font-size: 1em !default;\n\n// TIMER POGRESS BAR\n$swal2-timer-progress-bar-height: 0.25em;\n$swal2-timer-progress-bar-background: rgba($swal2-black, 0.2) !default;\n\n// CLOSE BUTTON\n$swal2-close-button-justify-self: end !default;\n$swal2-close-button-align-items: center !default;\n$swal2-close-button-justify-content: center !default;\n$swal2-close-button-width: 1.2em !default;\n$swal2-close-button-height: 1.2em !default;\n$swal2-close-button-position: null !default;\n$swal2-close-button-gap: 0 !default;\n$swal2-close-button-padding: 0 !default;\n$swal2-close-button-transition: color 0.1s, box-shadow 0.1s !default;\n$swal2-close-button-border: none !default;\n$swal2-close-button-border-radius: $swal2-border-radius !default;\n$swal2-close-button-outline: null !default;\n$swal2-close-button-background: transparent !default;\n$swal2-close-button-color: #ccc !default;\n$swal2-close-button-font-family: serif !default;\n$swal2-close-button-font-size: 2.5em !default;\n$swal2-close-button-box-shadow: inset 0 0 0 3px transparent !default;\n\n// CLOSE BUTTON:HOVER\n$swal2-close-button-hover-transform: none !default;\n$swal2-close-button-hover-color: $swal2-error !default;\n$swal2-close-button-hover-background: transparent !default;\n\n// CLOSE BUTTON:FOCUS\n$swal2-close-button-focus-outline: none !default;\n$swal2-close-button-focus-box-shadow: inset 0 0 0 3px $swal2-outline-color !default;\n\n// ACTIONS\n$swal2-actions-flex-wrap: wrap !default;\n$swal2-actions-align-items: center !default;\n$swal2-actions-justify-content: center !default;\n$swal2-actions-width: auto !default;\n$swal2-actions-margin: 1.25em auto 0 !default;\n$swal2-actions-padding: 0 !default;\n\n// COMMON VARIABLES FOR ALL ACTION BUTTONS\n$swal2-button-margin: 0.3125em !default;\n$swal2-button-padding: 0.625em 1.1em !default;\n$swal2-button-transition: box-shadow 0.1s !default;\n$swal2-button-box-shadow: 0 0 0 3px transparent !default;\n$swal2-button-font-weight: 500 !default;\n$swal2-button-darken-hover: rgba($swal2-black, 0.1) !default;\n$swal2-button-darken-active: rgba($swal2-black, 0.2) !default;\n$swal2-button-focus-outline: none !default;\n$swal2-button-focus-box-shadow: 0 0 0 3px $swal2-outline-color !default;\n\n// CONFIRM BUTTON\n$swal2-confirm-button-order: null !default;\n$swal2-confirm-button-border: 0 !default;\n$swal2-confirm-button-border-radius: 0.25em !default;\n$swal2-confirm-button-background-color: #7066e0 !default;\n$swal2-confirm-button-color: $swal2-white !default;\n$swal2-confirm-button-font-size: 1em !default;\n$swal2-confirm-button-focus-box-shadow: 0 0 0 3px rgba($swal2-confirm-button-background-color, 0.5) !default;\n\n// DENY BUTTON\n$swal2-deny-button-order: null !default;\n$swal2-deny-button-border: 0 !default;\n$swal2-deny-button-border-radius: 0.25em !default;\n$swal2-deny-button-background-color: #dc3741 !default;\n$swal2-deny-button-color: $swal2-white !default;\n$swal2-deny-button-font-size: 1em !default;\n$swal2-deny-button-focus-box-shadow: 0 0 0 3px rgba($swal2-deny-button-background-color, 0.5) !default;\n\n// CANCEL BUTTON\n$swal2-cancel-button-order: null !default;\n$swal2-cancel-button-border: 0 !default;\n$swal2-cancel-button-border-radius: 0.25em !default;\n$swal2-cancel-button-background-color: #6e7881 !default;\n$swal2-cancel-button-color: $swal2-white !default;\n$swal2-cancel-button-font-size: 1em !default;\n$swal2-cancel-button-focus-box-shadow: 0 0 0 3px rgba($swal2-cancel-button-background-color, 0.5) !default;\n\n// LOADER\n$swal2-loader-align-items: center !default;\n$swal2-loader-justify-content: center !default;\n$swal2-loader-width: 2.2em !default;\n$swal2-loader-height: 2.2em !default;\n$swal2-loader-margin: 0 1.875em !default;\n$swal2-loader-animation: swal2-rotate-loading 1.5s linear 0s infinite normal !default;\n$swal2-loader-border-width: 0.25em !default;\n$swal2-loader-border-style: solid !default;\n$swal2-loader-border-radius: 100% !default;\n$swal2-loader-border-color: #2778c4 transparent #2778c4 transparent !default;\n\n// TOASTS\n$swal2-toast-show-animation: swal2-toast-show 0.5s !default;\n$swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards !default;\n$swal2-toast-border: none !default;\n$swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075),\n  1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075) !default;\n$swal2-toast-background: $swal2-white !default;\n$swal2-toast-close-button-width: 0.8em !default;\n$swal2-toast-close-button-height: 0.8em !default;\n$swal2-toast-close-button-margin: 0 !default;\n$swal2-toast-close-button-font-size: 2em !default;\n$swal2-toast-width: 360px !default;\n$swal2-toast-padding: 1em !default;\n$swal2-toast-title-margin: 0.5em 1em !default;\n$swal2-toast-title-padding: 0 !default;\n$swal2-toast-title-font-size: 1em !default;\n$swal2-toast-icon-font-size: 1.8em !default;\n$swal2-toast-html-container-margin: 0.5em 1em !default;\n$swal2-toast-html-container-padding: 0 !default;\n$swal2-toast-html-container-font-size: 1em !default;\n$swal2-toast-input-height: 2em !default;\n$swal2-toast-input-margin: 0.5em !default;\n$swal2-toast-input-font-size: 1em !default;\n$swal2-toast-validation-font-size: 1em !default;\n$swal2-toast-buttons-font-size: 1em !default;\n$swal2-toast-footer-margin: 0.5em 0 0 !default;\n$swal2-toast-footer-padding: 0.5em 0 0 !default;\n$swal2-toast-footer-font-size: 0.8em !default;\n","@use 'sass:math';\n\n.swal2-container {\n  display: grid;\n  position: fixed;\n  z-index: 1060;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  box-sizing: border-box;\n  grid-template-areas:\n    'top-start     top            top-end'\n    'center-start  center         center-end'\n    'bottom-start  bottom-center  bottom-end';\n  grid-template-rows: minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);\n  height: 100%; // Safari\n  padding: $swal2-container-padding;\n  overflow-x: hidden;\n  transition: $swal2-backdrop-transition;\n\n  // sweetalert2/issues/905\n  -webkit-overflow-scrolling: touch;\n\n  &.swal2-backdrop-show,\n  &.swal2-noanimation {\n    background: $swal2-backdrop;\n  }\n\n  &.swal2-backdrop-hide {\n    background: transparent !important;\n  }\n\n  &.swal2-top-start,\n  &.swal2-center-start,\n  &.swal2-bottom-start {\n    grid-template-columns: minmax(0, 1fr) auto auto;\n  }\n\n  &.swal2-top,\n  &.swal2-center,\n  &.swal2-bottom {\n    grid-template-columns: auto minmax(0, 1fr) auto;\n  }\n\n  &.swal2-top-end,\n  &.swal2-center-end,\n  &.swal2-bottom-end {\n    grid-template-columns: auto auto minmax(0, 1fr);\n  }\n\n  &.swal2-top-start > .swal2-popup {\n    align-self: start;\n  }\n\n  &.swal2-top > .swal2-popup {\n    grid-column: 2;\n    align-self: start;\n    justify-self: center;\n  }\n\n  &.swal2-top-end > .swal2-popup,\n  &.swal2-top-right > .swal2-popup {\n    grid-column: 3;\n    align-self: start;\n    justify-self: end;\n  }\n\n  &.swal2-center-start > .swal2-popup,\n  &.swal2-center-left > .swal2-popup {\n    grid-row: 2;\n    align-self: center;\n  }\n\n  &.swal2-center > .swal2-popup {\n    grid-column: 2;\n    grid-row: 2;\n    align-self: center;\n    justify-self: center;\n  }\n\n  &.swal2-center-end > .swal2-popup,\n  &.swal2-center-right > .swal2-popup {\n    grid-column: 3;\n    grid-row: 2;\n    align-self: center;\n    justify-self: end;\n  }\n\n  &.swal2-bottom-start > .swal2-popup,\n  &.swal2-bottom-left > .swal2-popup {\n    grid-column: 1;\n    grid-row: 3;\n    align-self: end;\n  }\n\n  &.swal2-bottom > .swal2-popup {\n    grid-column: 2;\n    grid-row: 3;\n    justify-self: center;\n    align-self: end;\n  }\n\n  &.swal2-bottom-end > .swal2-popup,\n  &.swal2-bottom-right > .swal2-popup {\n    grid-column: 3;\n    grid-row: 3;\n    align-self: end;\n    justify-self: end;\n  }\n\n  &.swal2-grow-row > .swal2-popup,\n  &.swal2-grow-fullscreen > .swal2-popup {\n    grid-column: 1/4;\n    width: 100%;\n  }\n\n  &.swal2-grow-column > .swal2-popup,\n  &.swal2-grow-fullscreen > .swal2-popup {\n    grid-row: 1/4;\n    align-self: stretch;\n  }\n\n  &.swal2-no-transition {\n    transition: none !important;\n  }\n}\n\n.swal2-popup {\n  display: none;\n  position: relative;\n  box-sizing: border-box;\n  grid-template-columns: minmax(0, 100%);\n  width: $swal2-width;\n  max-width: 100%;\n  padding: $swal2-padding;\n  border: $swal2-border;\n  border-radius: $swal2-border-radius;\n  background: $swal2-background;\n  color: $swal2-color;\n  font-family: $swal2-font;\n  font-size: $swal2-font-size;\n\n  &:focus {\n    outline: none;\n  }\n\n  &.swal2-loading {\n    overflow-y: hidden;\n  }\n}\n\n.swal2-title {\n  position: $swal2-title-position;\n  max-width: $swal2-title-max-width;\n  margin: $swal2-title-margin;\n  padding: $swal2-title-padding;\n  color: $swal2-title-color;\n  font-size: $swal2-title-font-size;\n  font-weight: $swal2-title-font-weight;\n  text-align: $swal2-title-text-align;\n  text-transform: none;\n  word-wrap: break-word;\n}\n\n.swal2-actions {\n  display: flex;\n  z-index: 1; // prevent success icon from overlapping buttons\n  box-sizing: border-box;\n  flex-wrap: $swal2-actions-flex-wrap;\n  align-items: $swal2-actions-align-items;\n  justify-content: $swal2-actions-justify-content;\n  width: $swal2-actions-width;\n  margin: $swal2-actions-margin;\n  padding: $swal2-actions-padding;\n\n  &:not(.swal2-loading) {\n    .swal2-styled {\n      &[disabled] {\n        opacity: 0.4;\n      }\n\n      &:hover {\n        background-image: linear-gradient($swal2-button-darken-hover, $swal2-button-darken-hover);\n      }\n\n      &:active {\n        background-image: linear-gradient($swal2-button-darken-active, $swal2-button-darken-active);\n      }\n    }\n  }\n}\n\n.swal2-loader {\n  display: none;\n  align-items: $swal2-loader-align-items;\n  justify-content: $swal2-loader-justify-content;\n  width: $swal2-loader-width;\n  height: $swal2-loader-height;\n  margin: $swal2-loader-margin;\n  animation: $swal2-loader-animation;\n  border-width: $swal2-loader-border-width;\n  border-style: $swal2-loader-border-style;\n  border-radius: $swal2-loader-border-radius;\n  border-color: $swal2-loader-border-color;\n}\n\n.swal2-styled {\n  margin: $swal2-button-margin;\n  padding: $swal2-button-padding;\n  transition: $swal2-button-transition;\n  box-shadow: $swal2-button-box-shadow;\n  font-weight: $swal2-button-font-weight;\n\n  &:not([disabled]) {\n    cursor: pointer;\n  }\n\n  &.swal2-confirm {\n    order: $swal2-confirm-button-order;\n    border: $swal2-confirm-button-border;\n    border-radius: $swal2-confirm-button-border-radius;\n    background: initial;\n    background-color: $swal2-confirm-button-background-color;\n    color: $swal2-confirm-button-color;\n    font-size: $swal2-confirm-button-font-size;\n\n    &:focus {\n      box-shadow: $swal2-confirm-button-focus-box-shadow;\n    }\n  }\n\n  &.swal2-deny {\n    order: $swal2-deny-button-order;\n    border: $swal2-deny-button-border;\n    border-radius: $swal2-deny-button-border-radius;\n    background: initial;\n    background-color: $swal2-deny-button-background-color;\n    color: $swal2-deny-button-color;\n    font-size: $swal2-deny-button-font-size;\n\n    &:focus {\n      box-shadow: $swal2-deny-button-focus-box-shadow;\n    }\n  }\n\n  &.swal2-cancel {\n    order: $swal2-cancel-button-order;\n    border: $swal2-cancel-button-border;\n    border-radius: $swal2-cancel-button-border-radius;\n    background: initial;\n    background-color: $swal2-cancel-button-background-color;\n    color: $swal2-cancel-button-color;\n    font-size: $swal2-cancel-button-font-size;\n\n    &:focus {\n      box-shadow: $swal2-cancel-button-focus-box-shadow;\n    }\n  }\n\n  &.swal2-default-outline {\n    &:focus {\n      box-shadow: $swal2-button-focus-box-shadow;\n    }\n  }\n\n  &:focus {\n    outline: $swal2-button-focus-outline;\n  }\n\n  &::-moz-focus-inner {\n    border: 0;\n  }\n}\n\n.swal2-footer {\n  justify-content: center;\n  margin: $swal2-footer-margin;\n  padding: $swal2-footer-padding;\n  border-top: 1px solid $swal2-footer-border-color;\n  color: $swal2-footer-color;\n  font-size: $swal2-footer-font-size;\n}\n\n.swal2-timer-progress-bar-container {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  grid-column: auto !important;\n  overflow: hidden;\n  border-bottom-right-radius: $swal2-border-radius;\n  border-bottom-left-radius: $swal2-border-radius;\n}\n\n.swal2-timer-progress-bar {\n  width: 100%;\n  height: $swal2-timer-progress-bar-height;\n  background: $swal2-timer-progress-bar-background;\n}\n\n.swal2-image {\n  max-width: 100%;\n  margin: $swal2-image-margin;\n}\n\n.swal2-close {\n  position: $swal2-close-button-position;\n  z-index: 2; // sweetalert2/issues/1617\n  align-items: $swal2-close-button-align-items;\n  justify-content: $swal2-close-button-justify-content;\n  width: $swal2-close-button-width;\n  height: $swal2-close-button-height;\n  margin-top: $swal2-close-button-gap;\n  margin-right: $swal2-close-button-gap;\n  margin-bottom: -$swal2-close-button-height;\n  padding: $swal2-close-button-padding;\n  overflow: hidden;\n  transition: $swal2-close-button-transition;\n  border: $swal2-close-button-border;\n  border-radius: $swal2-close-button-border-radius;\n  outline: $swal2-close-button-outline;\n  background: $swal2-close-button-background;\n  color: $swal2-close-button-color;\n  font-family: $swal2-close-button-font-family;\n  font-family: monospace;\n  font-size: $swal2-close-button-font-size;\n  cursor: pointer;\n  justify-self: $swal2-close-button-justify-self;\n\n  &:hover {\n    transform: $swal2-close-button-hover-transform;\n    background: $swal2-close-button-hover-background;\n    color: $swal2-close-button-hover-color;\n  }\n\n  &:focus {\n    outline: $swal2-close-button-focus-outline;\n    box-shadow: $swal2-close-button-focus-box-shadow;\n  }\n\n  &::-moz-focus-inner {\n    border: 0;\n  }\n}\n\n.swal2-html-container {\n  z-index: 1; // prevent sucess icon overlapping the content\n  justify-content: $swal2-html-container-justify-content;\n  margin: $swal2-html-container-margin;\n  padding: $swal2-html-container-padding;\n  overflow: $swal2-html-container-overflow;\n  color: $swal2-html-container-color;\n  font-size: $swal2-html-container-font-size;\n  font-weight: $swal2-html-container-font-weight;\n  line-height: $swal2-html-container-line-height;\n  text-align: $swal2-html-container-text-align;\n  word-wrap: $swal2-html-container-word-wrap;\n  word-break: $swal2-html-container-word-break;\n}\n\n.swal2-input,\n.swal2-file,\n.swal2-textarea,\n.swal2-select,\n.swal2-radio,\n.swal2-checkbox {\n  margin: $swal2-input-margin;\n}\n\n.swal2-input,\n.swal2-file,\n.swal2-textarea {\n  box-sizing: border-box;\n  width: $swal2-input-width;\n  transition: $swal2-input-transition;\n  border: $swal2-input-border;\n  border-radius: $swal2-input-border-radius;\n  background: $swal2-input-background;\n  box-shadow: $swal2-input-box-shadow;\n  color: $swal2-input-color;\n  font-size: $swal2-input-font-size;\n\n  &.swal2-inputerror {\n    border-color: $swal2-error !important;\n    box-shadow: 0 0 2px $swal2-error !important;\n  }\n\n  &:focus {\n    border: $swal2-input-focus-border;\n    outline: $swal2-input-focus-outline;\n    box-shadow: $swal2-input-focus-box-shadow;\n  }\n\n  &::placeholder {\n    color: #ccc;\n  }\n}\n\n.swal2-range {\n  margin: $swal2-input-margin;\n  background: $swal2-background;\n\n  input {\n    width: 80%;\n  }\n\n  output {\n    width: 20%;\n    color: $swal2-input-color;\n    font-weight: 600;\n    text-align: center;\n  }\n\n  input,\n  output {\n    height: $swal2-input-height;\n    padding: 0;\n    font-size: $swal2-input-font-size;\n    line-height: $swal2-input-height;\n  }\n}\n\n.swal2-input {\n  height: $swal2-input-height;\n  padding: $swal2-input-padding;\n}\n\n.swal2-file {\n  width: 75%;\n  margin-right: auto;\n  margin-left: auto;\n  background: $swal2-input-background;\n  font-size: $swal2-input-font-size;\n}\n\n.swal2-textarea {\n  height: $swal2-textarea-height;\n  padding: $swal2-textarea-padding;\n}\n\n.swal2-select {\n  min-width: 50%;\n  max-width: 100%;\n  padding: 0.375em 0.625em;\n  background: $swal2-input-background;\n  color: $swal2-input-color;\n  font-size: $swal2-input-font-size;\n}\n\n.swal2-radio,\n.swal2-checkbox {\n  align-items: center;\n  justify-content: center;\n  background: $swal2-background;\n  color: $swal2-input-color;\n\n  label {\n    margin: 0 0.6em;\n    font-size: $swal2-input-font-size;\n  }\n\n  input {\n    flex-shrink: 0;\n    margin: 0 0.4em;\n  }\n}\n\n.swal2-input-label {\n  display: flex;\n  justify-content: $swal2-input-label-justify-content;\n  margin: $swal2-input-label-margin;\n}\n\n.swal2-validation-message {\n  align-items: $swal2-validation-message-align-items;\n  justify-content: $swal2-validation-message-justify-content;\n  margin: $swal2-validation-message-margin;\n  padding: $swal2-validation-message-padding;\n  overflow: hidden;\n  background: $swal2-validation-message-background;\n  color: $swal2-validation-message-color;\n  font-size: $swal2-validation-message-font-size;\n  font-weight: $swal2-validation-message-font-weight;\n\n  &::before {\n    content: '!';\n    display: inline-block;\n    width: 1.5em;\n    min-width: 1.5em;\n    height: 1.5em;\n    margin: 0 0.625em;\n    zoom: $swal2-validation-message-icon-zoom;\n    border-radius: 50%;\n    background-color: $swal2-validation-message-icon-background;\n    color: $swal2-validation-message-icon-color;\n    font-weight: 600;\n    line-height: 1.5em;\n    text-align: center;\n  }\n}\n\n// https://stackoverflow.com/a/12335841/1331425\n@function strip-units($number) {\n  @return math.div($number, ($number * 0 + 1));\n}\n$icon-zoom: math.div(strip-units($swal2-icon-size), 5);\n\n.swal2-icon {\n  position: relative;\n  box-sizing: content-box;\n  justify-content: center;\n  width: $swal2-icon-size;\n  height: $swal2-icon-size;\n  margin: $swal2-icon-margin;\n  zoom: $swal2-icon-zoom;\n  border: #{0.25em * $icon-zoom} solid transparent;\n  border-radius: 50%;\n  border-color: $swal2-icon-border-color;\n  font-family: $swal2-icon-font-family;\n  line-height: $swal2-icon-size;\n  cursor: default;\n  user-select: none;\n\n  .swal2-icon-content {\n    display: flex;\n    align-items: center;\n    font-size: $swal2-icon-font-size;\n  }\n\n  &.swal2-error {\n    border-color: $swal2-error;\n    color: $swal2-error;\n\n    .swal2-x-mark {\n      position: relative;\n      flex-grow: 1;\n\n      @if $icon-zoom != 1 {\n        zoom: $icon-zoom;\n      }\n    }\n\n    [class^='swal2-x-mark-line'] {\n      display: block;\n      position: absolute;\n      top: 2.3125em;\n      width: 2.9375em;\n      height: 0.3125em;\n      border-radius: 0.125em;\n      background-color: $swal2-error;\n\n      &[class$='left'] {\n        left: 1.0625em;\n        transform: rotate(45deg);\n      }\n\n      &[class$='right'] {\n        right: 1em;\n        transform: rotate(-45deg);\n      }\n    }\n\n    // Error icon animation\n    &.swal2-icon-show {\n      @if $swal2-icon-animations {\n        animation: swal2-animate-error-icon 0.5s;\n\n        .swal2-x-mark {\n          animation: swal2-animate-error-x-mark 0.5s;\n        }\n      }\n    }\n  }\n\n  &.swal2-warning {\n    border-color: lighten($swal2-warning, 7);\n    color: $swal2-warning;\n\n    // Warning icon animation\n    &.swal2-icon-show {\n      @if $swal2-icon-animations {\n        animation: swal2-animate-error-icon 0.5s;\n\n        .swal2-icon-content {\n          animation: swal2-animate-i-mark 0.5s;\n        }\n      }\n    }\n  }\n\n  &.swal2-info {\n    border-color: lighten($swal2-info, 20);\n    color: $swal2-info;\n\n    // Info icon animation\n    &.swal2-icon-show {\n      @if $swal2-icon-animations {\n        animation: swal2-animate-error-icon 0.5s;\n\n        .swal2-icon-content {\n          animation: swal2-animate-i-mark 0.8s;\n        }\n      }\n    }\n  }\n\n  &.swal2-question {\n    border-color: lighten($swal2-question, 20);\n    color: $swal2-question;\n\n    // Question icon animation\n    &.swal2-icon-show {\n      @if $swal2-icon-animations {\n        animation: swal2-animate-error-icon 0.5s;\n\n        .swal2-icon-content {\n          animation: swal2-animate-question-mark 0.8s;\n        }\n      }\n    }\n  }\n\n  &.swal2-success {\n    border-color: $swal2-success;\n    color: $swal2-success;\n\n    [class^='swal2-success-circular-line'] {\n      // Emulate moving circular line\n      position: absolute;\n      width: 3.75em;\n      height: 7.5em;\n      transform: rotate(45deg);\n      border-radius: 50%;\n\n      &[class$='left'] {\n        top: -0.4375em;\n        left: -2.0635em;\n        transform: rotate(-45deg);\n        transform-origin: 3.75em 3.75em;\n        border-radius: 7.5em 0 0 7.5em;\n\n        @if $icon-zoom != 1 {\n          zoom: $icon-zoom;\n        }\n      }\n\n      &[class$='right'] {\n        top: -0.6875em;\n        left: 1.875em;\n        transform: rotate(-45deg);\n        transform-origin: 0 3.75em;\n        border-radius: 0 7.5em 7.5em 0;\n\n        @if $icon-zoom != 1 {\n          zoom: $icon-zoom;\n        }\n      }\n    }\n\n    .swal2-success-ring {\n      // Ring\n      position: absolute;\n      z-index: 2;\n      top: -0.25em;\n      left: -0.25em;\n      box-sizing: content-box;\n      width: 100%;\n      height: 100%;\n      border: 0.25em solid $swal2-success-border;\n      border-radius: 50%;\n\n      @if $icon-zoom != 1 {\n        zoom: $icon-zoom;\n      }\n    }\n\n    .swal2-success-fix {\n      // Hide corners left from animation\n      position: absolute;\n      z-index: 1;\n      top: 0.5em;\n      left: 1.625em;\n      width: 0.4375em;\n      height: 5.625em;\n      transform: rotate(-45deg);\n\n      @if $icon-zoom != 1 {\n        zoom: $icon-zoom;\n      }\n    }\n\n    [class^='swal2-success-line'] {\n      display: block;\n      position: absolute;\n      z-index: 2;\n      height: 0.3125em;\n      border-radius: 0.125em;\n      background-color: $swal2-success;\n\n      &[class$='tip'] {\n        top: 2.875em;\n        left: 0.8125em;\n        width: 1.5625em;\n        transform: rotate(45deg);\n      }\n\n      &[class$='long'] {\n        top: 2.375em;\n        right: 0.5em;\n        width: 2.9375em;\n        transform: rotate(-45deg);\n      }\n\n      @if $icon-zoom != 1 {\n        zoom: $icon-zoom;\n      }\n    }\n\n    // Success icon animation\n    &.swal2-icon-show {\n      @if $swal2-icon-animations {\n        .swal2-success-line-tip {\n          animation: swal2-animate-success-line-tip 0.75s;\n        }\n\n        .swal2-success-line-long {\n          animation: swal2-animate-success-line-long 0.75s;\n        }\n\n        .swal2-success-circular-line-right {\n          animation: swal2-rotate-success-circular-line 4.25s ease-in;\n        }\n      }\n    }\n  }\n}\n\n.swal2-progress-steps {\n  flex-wrap: $swal2-progress-steps-flex-wrap;\n  align-items: $swal2-progress-steps-align-items;\n  max-width: $swal2-progress-steps-max-width;\n  margin: $swal2-progress-steps-margin;\n  padding: $swal2-progress-steps-padding;\n  background: $swal2-progress-steps-background;\n  font-weight: $swal2-progress-steps-font-weight;\n\n  li {\n    display: inline-block;\n    position: relative;\n  }\n\n  .swal2-progress-step {\n    z-index: 20;\n    flex-shrink: 0;\n    width: $swal2-progress-step-width;\n    height: $swal2-progress-step-height;\n    border-radius: $swal2-progress-step-border-radius;\n    background: $swal2-active-step-background;\n    color: $swal2-active-step-color;\n    line-height: $swal2-progress-step-height;\n    text-align: center;\n\n    &.swal2-active-progress-step {\n      background: $swal2-active-step-background;\n\n      ~ .swal2-progress-step {\n        background: $swal2-progress-step-background;\n        color: $swal2-progress-step-color;\n      }\n\n      ~ .swal2-progress-step-line {\n        background: $swal2-progress-step-background;\n      }\n    }\n  }\n\n  .swal2-progress-step-line {\n    z-index: 10;\n    flex-shrink: 0;\n    width: $swal2-progress-steps-distance;\n    height: 0.4em;\n    margin: 0 -1px;\n    background: $swal2-active-step-background;\n  }\n}\n\n// github.com/sweetalert2/sweetalert2/issues/268\n[class^='swal2'] {\n  -webkit-tap-highlight-color: transparent;\n}\n\n.swal2-show {\n  animation: $swal2-show-animation;\n}\n\n.swal2-hide {\n  animation: $swal2-hide-animation;\n}\n\n.swal2-noanimation {\n  transition: none;\n}\n\n// Measure scrollbar width for padding body during modal show/hide\n.swal2-scrollbar-measure {\n  position: absolute;\n  top: -9999px;\n  width: 50px;\n  height: 50px;\n  overflow: scroll;\n}\n\n// Right-to-left support\n.swal2-rtl {\n  .swal2-close {\n    margin-right: initial;\n    margin-left: $swal2-close-button-gap;\n  }\n\n  .swal2-timer-progress-bar {\n    right: 0;\n    left: auto;\n  }\n}\n\n.leave-russia-now-and-apply-your-skills-to-the-world {\n  display: flex;\n  position: fixed;\n  z-index: 1939;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 25px 0 20px;\n  background: #20232a;\n  color: #fff;\n  text-align: center;\n\n  div {\n    max-width: 560px;\n    margin: 10px;\n    line-height: 146%;\n  }\n\n  iframe {\n    max-width: 100%;\n    max-height: calc(100vmin / 1.8);\n    margin: 16px auto;\n  }\n\n  strong {\n    border-bottom: 2px dashed white;\n  }\n\n  button {\n    display: flex;\n    position: fixed;\n    z-index: 1940;\n    top: 0;\n    right: 0;\n    align-items: center;\n    justify-content: center;\n    width: 48px;\n    height: 48px;\n    margin-right: 10px;\n    margin-bottom: -10px;\n    border: none;\n    background: transparent;\n    color: #aaa;\n    font-size: 48px;\n    font-weight: bold;\n    cursor: pointer;\n\n    &:hover {\n      color: #fff;\n    }\n  }\n}\n","// Animations\n@keyframes swal2-toast-show {\n  0% {\n    transform: translateY(-0.625em) rotateZ(2deg);\n  }\n\n  33% {\n    transform: translateY(0) rotateZ(-2deg);\n  }\n\n  66% {\n    transform: translateY(0.3125em) rotateZ(2deg);\n  }\n\n  100% {\n    transform: translateY(0) rotateZ(0deg);\n  }\n}\n\n@keyframes swal2-toast-hide {\n  100% {\n    transform: rotateZ(1deg);\n    opacity: 0;\n  }\n}\n\n@keyframes swal2-toast-animate-success-line-tip {\n  0% {\n    top: 0.5625em;\n    left: 0.0625em;\n    width: 0;\n  }\n\n  54% {\n    top: 0.125em;\n    left: 0.125em;\n    width: 0;\n  }\n\n  70% {\n    top: 0.625em;\n    left: -0.25em;\n    width: 1.625em;\n  }\n\n  84% {\n    top: 1.0625em;\n    left: 0.75em;\n    width: 0.5em;\n  }\n\n  100% {\n    top: 1.125em;\n    left: 0.1875em;\n    width: 0.75em;\n  }\n}\n\n@keyframes swal2-toast-animate-success-line-long {\n  0% {\n    top: 1.625em;\n    right: 1.375em;\n    width: 0;\n  }\n\n  65% {\n    top: 1.25em;\n    right: 0.9375em;\n    width: 0;\n  }\n\n  84% {\n    top: 0.9375em;\n    right: 0;\n    width: 1.125em;\n  }\n\n  100% {\n    top: 0.9375em;\n    right: 0.1875em;\n    width: 1.375em;\n  }\n}\n","@import 'toasts-animations';\n\n// Appearance animation\n@keyframes swal2-show {\n  0% {\n    transform: scale(0.7);\n  }\n\n  45% {\n    transform: scale(1.05);\n  }\n\n  80% {\n    transform: scale(0.95);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n// Disppearance animation\n@keyframes swal2-hide {\n  0% {\n    transform: scale(1);\n    opacity: 1;\n  }\n\n  100% {\n    transform: scale(0.5);\n    opacity: 0;\n  }\n}\n\n// Success icon animations\n@keyframes swal2-animate-success-line-tip {\n  0% {\n    top: 1.1875em;\n    left: 0.0625em;\n    width: 0;\n  }\n\n  54% {\n    top: 1.0625em;\n    left: 0.125em;\n    width: 0;\n  }\n\n  70% {\n    top: 2.1875em;\n    left: -0.375em;\n    width: 3.125em;\n  }\n\n  84% {\n    top: 3em;\n    left: 1.3125em;\n    width: 1.0625em;\n  }\n\n  100% {\n    top: 2.8125em;\n    left: 0.8125em;\n    width: 1.5625em;\n  }\n}\n\n@keyframes swal2-animate-success-line-long {\n  0% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0;\n  }\n\n  65% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0;\n  }\n\n  84% {\n    top: 2.1875em;\n    right: 0;\n    width: 3.4375em;\n  }\n\n  100% {\n    top: 2.375em;\n    right: 0.5em;\n    width: 2.9375em;\n  }\n}\n\n@keyframes swal2-rotate-success-circular-line {\n  0% {\n    transform: rotate(-45deg);\n  }\n\n  5% {\n    transform: rotate(-45deg);\n  }\n\n  12% {\n    transform: rotate(-405deg);\n  }\n\n  100% {\n    transform: rotate(-405deg);\n  }\n}\n\n// Error icon animations\n@keyframes swal2-animate-error-x-mark {\n  0% {\n    margin-top: 1.625em;\n    transform: scale(0.4);\n    opacity: 0;\n  }\n\n  50% {\n    margin-top: 1.625em;\n    transform: scale(0.4);\n    opacity: 0;\n  }\n\n  80% {\n    margin-top: -0.375em;\n    transform: scale(1.15);\n  }\n\n  100% {\n    margin-top: 0;\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes swal2-animate-error-icon {\n  0% {\n    transform: rotateX(100deg);\n    opacity: 0;\n  }\n\n  100% {\n    transform: rotateX(0deg);\n    opacity: 1;\n  }\n}\n\n@keyframes swal2-rotate-loading {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n// Question mark animation\n@keyframes swal2-animate-question-mark {\n  0% {\n    transform: rotateY(-360deg);\n  }\n\n  100% {\n    transform: rotateY(0);\n  }\n}\n\n// Info and Warning mark animation\n@keyframes swal2-animate-i-mark {\n  0% {\n    transform: rotateZ(45deg);\n    opacity: 0;\n  }\n\n  25% {\n    transform: rotateZ(-25deg);\n    opacity: 0.4;\n  }\n\n  50% {\n    transform: rotateZ(15deg);\n    opacity: 0.8;\n  }\n\n  75% {\n    transform: rotateZ(-5deg);\n    opacity: 1;\n  }\n\n  100% {\n    transform: rotateX(0);\n    opacity: 1;\n  }\n}\n","// https://stackoverflow.com/a/30250161\n@mixin not($ignor-list...) {\n  @if (length($ignor-list) == 1) {\n    $ignor-list: nth($ignor-list, 1);\n  }\n\n  $not-output: '';\n\n  @each $not in $ignor-list {\n    $not-output: $not-output + ':not(#{$not})'; // stylelint-disable-line scss/no-duplicate-dollar-variables\n  }\n\n  &#{$not-output} {\n    @content;\n  }\n}\n","@import 'toasts-body';\n\n@mixin sweetalert2-body() {\n  &.swal2-shown {\n    @include not('.swal2-no-backdrop', '.swal2-toast-shown') {\n      overflow: hidden; // not overflow-y because of Sarari, #1253\n    }\n  }\n\n  &.swal2-height-auto {\n    height: auto !important; // #781 #1107\n  }\n\n  &.swal2-no-backdrop {\n    .swal2-container {\n      background-color: transparent !important;\n      pointer-events: none;\n\n      .swal2-popup {\n        pointer-events: all;\n      }\n\n      .swal2-modal {\n        box-shadow: 0 0 10px $swal2-backdrop;\n      }\n    }\n  }\n\n  @media print {\n    &.swal2-shown {\n      @include not('.swal2-no-backdrop', '.swal2-toast-shown') {\n        overflow-y: scroll !important;\n\n        > [aria-hidden='true'] {\n          display: none;\n        }\n\n        .swal2-container {\n          position: static !important;\n        }\n      }\n    }\n  }\n}\n","@mixin sweetalert2-toasts-body() {\n  &.swal2-toast-shown {\n    .swal2-container {\n      box-sizing: border-box;\n      width: $swal2-toast-width;\n      max-width: 100%;\n      background-color: transparent;\n      pointer-events: none;\n\n      &.swal2-top {\n        top: 0;\n        right: auto;\n        bottom: auto;\n        left: 50%;\n        transform: translateX(-50%);\n      }\n\n      &.swal2-top-end,\n      &.swal2-top-right {\n        top: 0;\n        right: 0;\n        bottom: auto;\n        left: auto;\n      }\n\n      &.swal2-top-start,\n      &.swal2-top-left {\n        top: 0;\n        right: auto;\n        bottom: auto;\n        left: 0;\n      }\n\n      &.swal2-center-start,\n      &.swal2-center-left {\n        top: 50%;\n        right: auto;\n        bottom: auto;\n        left: 0;\n        transform: translateY(-50%);\n      }\n\n      &.swal2-center {\n        top: 50%;\n        right: auto;\n        bottom: auto;\n        left: 50%;\n        transform: translate(-50%, -50%);\n      }\n\n      &.swal2-center-end,\n      &.swal2-center-right {\n        top: 50%;\n        right: 0;\n        bottom: auto;\n        left: auto;\n        transform: translateY(-50%);\n      }\n\n      &.swal2-bottom-start,\n      &.swal2-bottom-left {\n        top: auto;\n        right: auto;\n        bottom: 0;\n        left: 0;\n      }\n\n      &.swal2-bottom {\n        top: auto;\n        right: auto;\n        bottom: 0;\n        left: 50%;\n        transform: translateX(-50%);\n      }\n\n      &.swal2-bottom-end,\n      &.swal2-bottom-right {\n        top: auto;\n        right: 0;\n        bottom: 0;\n        left: auto;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]);const o=i},9686:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,".rc-buttons{z-index:10}.rc-absolute-buttons{bottom:1.25rem;position:fixed;right:1.25rem;text-align:right}.rc-button{border:none!important;border-radius:7px!important;cursor:pointer;font-size:1rem!important;font-weight:700!important;line-height:150%!important;margin:.25rem!important;padding:1rem 1.5rem!important;text-align:center!important}.rc-go-button{background:rgba(255,154,0,.667)!important;color:#fff!important}.rc-go-button:hover{background:#ff9a00!important}.rc-go-button:active{background:#d68200!important}.rc-cancel-button,.rc-custom-button{background:hsla(0,0%,100%,.933)!important;color:#333!important}.rc-cancel-button:hover,.rc-custom-button:hover{background:#ddd!important}.rc-cancel-button:active,.rc-custom-button:active{background:#aaa!important;color:#000!important}.rc-button:disabled{background:#ddd!important;color:#999!important;cursor:default!important}","",{version:3,sources:["webpack://./src/css/buttons.scss"],names:[],mappings:"AAAA,YACE,UAAA,CAGF,qBAGE,cAAA,CAFA,cAAA,CAGA,aAAA,CAFA,gBAEA,CAGF,WAEE,qBAAA,CAMA,2BAAA,CACA,cAAA,CALA,wBAAA,CACA,yBAAA,CAFA,0BAAA,CAIA,uBAAA,CADA,6BAAA,CALA,2BAQA,CAGF,cACE,yCAAA,CACA,oBAAA,CAEA,oBACE,4BAAA,CAGF,qBACE,4BAAA,CAIJ,oCAEE,yCAAA,CACA,oBAAA,CAEA,gDACE,yBAAA,CAGF,kDACE,yBAAA,CACA,oBAAA,CAIJ,oBACE,yBAAA,CACA,oBAAA,CACA,wBAAA",sourcesContent:[".rc-buttons {\n  z-index: 10;\n}\n\n.rc-absolute-buttons {\n  position: fixed;\n  text-align: right;\n  bottom: 1.25rem;\n  right: 1.25rem;\n}\n\n.rc-button {\n  text-align: center !important;\n  border: none !important;\n  line-height: 150% !important;\n  font-size: 1rem !important;\n  font-weight: 700 !important;\n  padding: 1rem 1.5rem !important;\n  margin: 0.25rem !important;\n  border-radius: 7px !important;\n  cursor: pointer;\n}\n\n.rc-go-button {\n  background: #ff9a00aa !important;\n  color: #fff !important;\n\n  &:hover {\n    background: #ff9a00 !important;\n  }\n\n  &:active {\n    background: #d68200 !important;\n  }\n}\n\n.rc-cancel-button,\n.rc-custom-button {\n  background: #ffffffee !important;\n  color: #333 !important;\n\n  &:hover {\n    background: #ddd !important;\n  }\n\n  &:active {\n    background: #aaa !important;\n    color: #000 !important;\n  }\n}\n\n.rc-button:disabled {\n  background: #ddd !important;\n  color: #999 !important;\n  cursor: default !important;\n}\n"],sourceRoot:""}]);const o=i},2120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,".my__swal2__container .swal2-select{border:2px solid #aaa!important;border-radius:5px!important;font-family:inherit!important;font-size:1.2rem!important;margin:auto 1.6rem!important;outline:none!important;padding-top:.5rem!important}.rc-form{font-family:inherit;font-size:2rem;pointer-events:auto!important}.rc-form .rc-form-inputs{display:flex;justify-content:space-between!important;margin:1rem 0}.rc-form .rc-form-inputs .rc-form-input,.rc-form .rc-form-inputs span{flex-grow:1;font-family:inherit;font-size:inherit;padding:.5rem}.rc-form .rc-form-inputs span{font-weight:700}.rc-form .rc-form-input{border:2px solid #aaa;border-radius:5px;outline:none;width:min(100%,10rem)}.rc-form .rc-form-input.rc-input-error{border-color:#ac0d0d!important;color:#ac0d0d!important}.rc-form .rc-form-input+.rc-form-input{margin-left:.5rem}.arrow-two-sided-svg{position:fixed}.arrow-two-sided-svg .arrow-two-sided{fill:#ff9a00}.arrow-two-sided-horizontal{bottom:10%;left:0;right:0;width:100%}.arrow-two-sided-vertical{bottom:0;height:100%;right:5%;top:0}","",{version:3,sources:["webpack://./src/css/check.scss"],names:[],mappings:"AAAA,oCAME,+BAAA,CADA,2BAAA,CADA,6BAAA,CAHA,0BAAA,CACA,4BAAA,CAKA,sBAAA,CAJA,2BAIA,CAOF,SAEE,mBAAA,CADA,cAAA,CAEA,6BAAA,CAEA,yBACE,YAAA,CACA,uCAAA,CACA,aAAA,CAEA,sEAEE,WAAA,CAEA,mBAAA,CACA,iBAAA,CAFA,aAEA,CAGF,8BACE,eAAA,CAIJ,wBACE,qBAAA,CAEA,iBAAA,CADA,YAAA,CAEA,qBAAA,CAEA,uCACE,8BAAA,CACA,uBAAA,CAIJ,uCACE,iBAAA,CAIJ,qBACE,cAAA,CAEA,sCACE,YAAA,CAIJ,4BAEE,UAAA,CACA,MAAA,CACA,OAAA,CAHA,UAGA,CAGF,0BAIE,QAAA,CAHA,WAAA,CACA,QAAA,CACA,KACA",sourcesContent:[".my__swal2__container .swal2-select {\n  font-size: 1.2rem !important;\n  margin: auto 1.6rem !important;\n  padding-top: 0.5rem !important;\n  font-family: inherit !important;\n  border-radius: 5px !important;\n  border: 2px solid #aaa !important;\n  outline: none !important;\n}\n\n/* -------------------------------------------------------------------------- */\n/*                                Measure Input                               */\n/* -------------------------------------------------------------------------- */\n\n.rc-form {\n  font-size: 2rem;\n  font-family: inherit;\n  pointer-events: auto !important;\n\n  .rc-form-inputs {\n    display: flex;\n    justify-content: space-between !important;\n    margin: 1rem 0;\n\n    .rc-form-input,\n    span {\n      flex-grow: 1;\n      padding: 0.5rem;\n      font-family: inherit;\n      font-size: inherit;\n    }\n\n    span {\n      font-weight: 700;\n    }\n  }\n\n  .rc-form-input {\n    border: 2px solid #aaa;\n    outline: none;\n    border-radius: 5px;\n    width: min(100%, 10rem);\n\n    &.rc-input-error {\n      border-color: #ac0d0d !important;\n      color: #ac0d0d !important;\n    }\n  }\n\n  .rc-form-input + .rc-form-input {\n    margin-left: 0.5rem;\n  }\n}\n\n.arrow-two-sided-svg {\n  position: fixed;\n\n  .arrow-two-sided {\n    fill: #ff9a00;\n  }\n}\n\n.arrow-two-sided-horizontal {\n  width: 100%;\n  bottom: 10%;\n  left: 0;\n  right: 0;\n}\n\n.arrow-two-sided-vertical {\n  height: 100%;\n  right: 5%;\n  top: 0;\n  bottom: 0;\n}\n"],sourceRoot:""}]);const o=i},3359:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,"#eye-side{font-weight:700}#blind-spot-canvas{bottom:0;display:block;left:0;margin:0;padding:0;position:fixed;right:0;top:0;z-index:-1}#pip-video{display:none}#video-canvas{border-radius:6px;bottom:1rem;display:block;left:1rem;position:absolute;z-index:1000}#rc-ruler{max-height:120px;overflow:hidden;position:fixed}#rc-ruler-scales{left:30px;pointer-events:none;position:absolute;top:0;z-index:1}#rc-ruler-scales #size-arrow{opacity:.5;transform:rotate(90deg) translateY(calc(50% + 3px))}#rc-ruler-scales .rc-ruler-scale-text{color:rgba(44,46,67,.667);font-weight:700;margin:0!important;padding:0;position:absolute;top:32px!important;transform:translate(-50%)!important}#rc-ruler-scales .rc-ruler-scale{display:block;position:absolute;top:0;transform:translate(-1px);width:2px;z-index:2}#rc-ruler-scales .rc-ruler-major{background-color:rgba(44,46,67,.933);height:30px}#rc-ruler-scales .rc-ruler-secondary{background-color:rgba(89,82,96,.867);height:24px}#rc-ruler-scales .rc-ruler-minor{background-color:rgba(89,82,96,.4);height:16px}.hide-nudger .calibration-nudger{display:none!important;opacity:0!important}.calibration-nudger,.gaze-nudger{bottom:0;box-sizing:border-box;height:100%;left:0;margin:0;overflow:hidden;position:fixed;right:0;scrollbar-width:none;text-align:center;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:999999999}.calibration-nudger *,.gaze-nudger *{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}#rc-distance-correct{margin:3rem auto auto;overflow-wrap:break-word;padding:2rem;text-align:center;width:100%}#rc-distance-correct #rc-distance-correct-instruction{font-size:7rem;font-weight:700;line-height:100%;margin:2rem auto}#rc-distance-correct #rc-distance-correct-guide{font-size:3rem;font-weight:500;line-height:150%}#rc-distance-correct #rc-distance-correct-guide .rc-distance-num{border-radius:7px!important;font-family:monospace!important;font-weight:700;padding:.5rem;vertical-align:middle}#rc-distance-correct #rc-distance-correct-guide .rc-distance-now{background-color:rgba(255,154,0,.4);border:2px solid #ff9a00}#rc-distance-correct #rc-distance-correct-guide .rc-distance-desired{background-color:rgba(52,144,222,.4);border:2px solid #3490de}","",{version:3,sources:["webpack://./src/css/distance.scss"],names:[],mappings:"AAAA,UACE,eAAA,CAGF,mBAME,QAAA,CAJA,aAAA,CAGA,MAAA,CAIA,QAAA,CADA,SAAA,CAPA,cAAA,CAMA,OAAA,CAHA,KAAA,CADA,UAMA,CASF,WACE,YAAA,CAGF,cAME,iBAAA,CAFA,WAAA,CADA,aAAA,CAEA,SAAA,CAHA,iBAAA,CADA,YAKA,CAKF,UAEE,gBAAA,CACA,eAAA,CAFA,cAEA,CAGF,iBAGE,SAAA,CAEA,mBAAA,CAJA,iBAAA,CACA,KAAA,CAEA,SACA,CAEA,6BAEE,UAAA,CADA,mDACA,CAGF,sCAKE,yBAAA,CACA,eAAA,CAHA,kBAAA,CACA,SAAA,CAHA,iBAAA,CACA,kBAAA,CAKA,mCAAA,CAGF,iCAEE,aAAA,CADA,iBAAA,CAEA,KAAA,CAEA,yBAAA,CADA,SAAA,CAEA,SAAA,CAGF,iCACE,oCAAA,CACA,WAAA,CAGF,qCACE,oCAAA,CACA,WAAA,CAGF,iCACE,kCAAA,CACA,WAAA,CAOF,iCACE,sBAAA,CACA,mBAAA,CAIJ,iCASE,QAAA,CAIA,qBAAA,CARA,WAAA,CAEA,MAAA,CAGA,QAAA,CACA,eAAA,CARA,cAAA,CAKA,OAAA,CAOA,oBAAA,CADA,iBAAA,CARA,KAAA,CAMA,wBAAA,CAAA,qBAAA,CAAA,gBAAA,CARA,UAAA,CAFA,iBAaA,CAEA,qCACE,wHAAA,CAKJ,qBAGE,qBAAA,CAEA,wBAAA,CADA,YAAA,CAHA,iBAAA,CACA,UAGA,CAEA,sDAEE,cAAA,CADA,eAAA,CAGA,gBAAA,CADA,gBACA,CAGF,gDAEE,cAAA,CADA,eAAA,CAEA,gBAAA,CAEA,iEAEE,2BAAA,CAEA,+BAAA,CADA,eAAA,CAFA,aAAA,CAIA,qBAAA,CAGF,iEAEE,mCAAA,CADA,wBACA,CAGF,qEAEE,oCAAA,CADA,wBACA",sourcesContent:["#eye-side {\n  font-weight: bold;\n}\n\n#blind-spot-canvas {\n  position: fixed;\n  display: block;\n  z-index: -1;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 0;\n  margin: 0;\n}\n\n// #blind-spot-instruction {\n//   display: block !important;\n//   top: 65%;\n//   position: fixed;\n// }\n\n#pip-video {\n  display: none;\n}\n\n#video-canvas {\n  z-index: 1000;\n  position: absolute;\n  display: block;\n  bottom: 1rem;\n  left: 1rem;\n  border-radius: 6px;\n}\n\n/* ----------------------------------- PD ----------------------------------- */\n\n#rc-ruler {\n  position: fixed;\n  max-height: 120px;\n  overflow: hidden;\n}\n\n#rc-ruler-scales {\n  position: absolute;\n  top: 0;\n  left: 30px;\n  z-index: 1;\n  pointer-events: none;\n\n  #size-arrow {\n    transform: rotate(90deg) translate(0, calc(50% + 3px));\n    opacity: 0.5;\n  }\n\n  .rc-ruler-scale-text {\n    position: absolute;\n    top: 32px !important;\n    margin: 0 !important;\n    padding: 0;\n    color: #2c2e43aa;\n    font-weight: 700;\n    transform: translate(-50%, 0) !important;\n  }\n\n  .rc-ruler-scale {\n    position: absolute;\n    display: block;\n    top: 0;\n    width: 2px;\n    transform: translate(-1px, 0);\n    z-index: 2;\n  }\n\n  .rc-ruler-major {\n    background-color: #2c2e43ee;\n    height: 30px;\n  }\n\n  .rc-ruler-secondary {\n    background-color: #595260dd;\n    height: 24px;\n  }\n\n  .rc-ruler-minor {\n    background-color: #59526066;\n    height: 16px;\n  }\n}\n\n/* ---------------------------------- Check --------------------------------- */\n\n.hide-nudger {\n  .calibration-nudger {\n    display: none !important;\n    opacity: 0 !important;\n  }\n}\n\n.calibration-nudger,\n.gaze-nudger {\n  z-index: 999999999;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n  overflow: hidden;\n  user-select: none;\n  box-sizing: border-box;\n  text-align: center;\n  scrollbar-width: none;\n\n  * {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n}\n\n#rc-distance-correct {\n  text-align: center;\n  width: 100%;\n  margin: 3rem auto auto auto;\n  padding: 2rem;\n  overflow-wrap: break-word;\n\n  #rc-distance-correct-instruction {\n    font-weight: 700;\n    font-size: 7rem;\n    margin: 2rem auto;\n    line-height: 100%;\n  }\n\n  #rc-distance-correct-guide {\n    font-weight: 500;\n    font-size: 3rem;\n    line-height: 150%;\n\n    .rc-distance-num {\n      padding: 0.5rem;\n      border-radius: 7px !important;\n      font-weight: 700;\n      font-family: monospace !important;\n      vertical-align: middle;\n    }\n\n    .rc-distance-now {\n      border: 2px solid #ff9a00;\n      background-color: #ff9a0066;\n    }\n\n    .rc-distance-desired {\n      border: 2px solid #3490de;\n      background-color: #3490de66;\n    }\n  }\n}\n"],sourceRoot:""}]);const o=i},9230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,".rc-look-at-guide{background:#ff9a00;border-radius:.5rem;color:#fff;max-width:10rem;padding:.75rem;position:fixed;transition:all .3s ease;z-index:99}","",{version:3,sources:["webpack://./src/css/lookAtGuide.scss","webpack://./src/css/root.scss"],names:[],mappings:"AAEA,kBAQE,kBCTO,CDWP,mBCTO,CDMP,UCTM,CDON,eAAA,CAMA,cCPc,CDHd,cAAA,CACA,uBAAA,CACA,UCCc",sourcesContent:["@import 'root.scss';\n\n.rc-look-at-guide {\n  position: fixed;\n  transition: all 0.3s ease;\n  z-index: 99;\n\n  max-width: 10rem;\n\n  color: $white;\n  background: $orange;\n\n  border-radius: $radius;\n  padding: $padding-large;\n}\n","$white: #fff;\n$orange: #ff9a00;\n\n$radius: 0.5rem;\n\n$padding: 0.5rem;\n$padding-large: 0.75rem;\n"],sourceRoot:""}]);const o=i},5912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,":root{--rc-panel-theme-color:#3490de;--rc-panel-darken-color:#185b94;--rc-panel-theme-color-semi:#3490de66;--rc-panel-darken-color-semi:#185b9488}.rc-panel{background-color:var(--rc-panel-theme-color);border-radius:10px!important;box-shadow:var(--rc-panel-darken-color-semi) 0 50px 100px -20px,var(--rc-panel-theme-color-semi) 0 30px 60px -30px!important;display:block;margin-left:auto!important;margin-right:auto!important;max-width:720px!important;overflow:hidden;padding:.75rem!important;position:relative;width:100%}.rc-panel *{text-rendering:optimizeLegibility;-webkit-font-smoothing:auto;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-kerning:normal;outline:none;scrollbar-width:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:baseline}.rc-panel .rc-panel-title{color:#fff!important;font-size:2rem!important;font-weight:600!important;margin:1rem 1rem 0!important}.rc-panel .rc-panel-description{color:hsla(0,0%,100%,.8)!important;font-size:1rem!important;font-weight:500!important;margin:.5rem 1rem 0!important}.rc-panel #rc-panel-language-parent{display:flex;flex-direction:row-reverse;margin:0;padding:0}.rc-panel #rc-panel-language-parent #rc-panel-lang-picker{background-color:hsla(0,0%,100%,.8)!important;border:none!important;border-radius:5px!important;display:block;font-size:1rem!important;font-weight:500!important;margin:.25rem .25rem 0!important;outline:none!important;padding:.25rem!important}.rc-panel .rc-panel-steps{margin:-3rem 0 0!important;padding-top:4rem!important}.rc-panel .rc-panel-steps.rc-panel-steps-l,.rc-panel .rc-panel-steps.rc-panel-steps-s{display:flex!important;justify-content:space-between!important}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step{background:hsla(0,0%,100%,.8);flex-grow:1!important;margin:.25rem!important;padding:0!important;position:relative;text-align:center;transition:background-color .2s}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step .rc-panel-step-use,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step .rc-panel-step-use{font-size:1rem!important;line-height:170%!important;margin:0!important;padding:0 .3rem!important;position:absolute;right:0;top:0}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step .rc-panel-step-use svg,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step .rc-panel-step-use svg{fill:var(--rc-panel-darken-color);height:1rem;width:1rem}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step .rc-panel-step-name,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step .rc-panel-step-name{color:var(--rc-panel-darken-color);font-size:1rem!important;font-weight:700!important;line-height:150%!important;white-space:nowrap}.rc-panel .rc-panel-steps.rc-panel-steps-l{flex-flow:row nowrap;max-width:100%;overflow-x:scroll}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step-name{margin:1.5rem .5rem!important}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step-use-tip{bottom:110%!important;display:flex!important;left:50%!important;position:absolute!important;transform:translate(-50%)!important}.rc-panel .rc-panel-steps.rc-panel-steps-s{flex-flow:column nowrap;overflow-x:hidden}.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step{overflow-x:hidden;text-align:left;white-space:nowrap}.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step-name{margin:1.2rem .75rem 1.2rem 1.5rem!important}.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step-use-tip{display:inline-flex!important;position:relative!important}.rc-panel .rc-panel-steps .rc-panel-step{border:none!important;border-radius:7px!important}.rc-panel .rc-panel-steps .rc-panel-step .rc-panel-step-name{display:inline-block!important;position:relative!important}.rc-panel .rc-panel-steps .rc-panel-step-use-tip{align-items:center!important;background-color:rgba(255,154,0,.933)!important;border:none!important;border-radius:7px!important;color:#fff!important;font-size:.75rem!important;font-weight:500!important;justify-content:center!important;line-height:100%!important;margin:0!important;opacity:0;padding:.7rem .5rem!important;pointer-events:none;text-align:center!important;transition:opacity .2s;width:-webkit-max-content!important;width:-moz-max-content!important;width:max-content!important;z-index:10!important}.rc-panel .rc-panel-steps .rc-panel-step-use-tip svg{fill:#fff;height:.75rem;width:.75rem}.rc-panel .rc-panel-steps .rc-panel-step-use-tip svg:last-of-type{margin-right:5px}.rc-panel .rc-panel-steps .rc-panel-step-todo:focus,.rc-panel .rc-panel-steps .rc-panel-step-todo:hover{background-color:#fff}.rc-panel .rc-panel-steps .rc-panel-step-todo:focus .rc-panel-step-use-tip,.rc-panel .rc-panel-steps .rc-panel-step-todo:hover .rc-panel-step-use-tip{opacity:1!important}.rc-panel .rc-panel-steps .rc-panel-step-todo:active{background-color:hsla(0,0%,93%,.8)}.rc-panel .rc-panel-steps .rc-panel-step-finished{background-color:hsla(0,0%,73%,.8)!important}.rc-panel .rc-panel-steps .rc-panel-step-inactive{opacity:.6;pointer-events:none}.rc-panel .rc-panel-steps .rc-panel-step-active{cursor:pointer;opacity:1}.rc-panel ::-webkit-scrollbar{display:none;width:0}.rc-panel .rc-panel-debug-control{background-color:hsla(0,0%,100%,.8);border:3px solid #e00;border-radius:7px;margin:1rem 0 0;overflow:hidden;padding:.5rem}.rc-panel .rc-panel-debug-control *{color:#ac0d0d}.rc-panel .rc-panel-debug-control h2,.rc-panel .rc-panel-debug-control h3,.rc-panel .rc-panel-debug-control p{margin:0!important}.rc-panel .rc-panel-debug-control h2{font-size:1.2rem!important;font-weight:700!important}.rc-panel .rc-panel-debug-control h3{font-size:.9rem!important;font-variant:small-caps!important;font-weight:500!important;padding-bottom:.3rem!important;padding-top:.5rem!important}.rc-panel .rc-panel-debug-control .rc-panel-debug-bold-text{font-size:1rem!important;font-weight:700!important;line-height:150%!important;margin:.3rem 0!important}.rc-panel .rc-panel-debug-control .rc-panel-debug-bold-text code{color:#e00!important;font-size:.875rem;vertical-align:bottom!important}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-next{background-color:#e00;border:none;border-radius:5px;color:#fff;cursor:pointer;font-size:.9rem!important;margin:1rem 0 0;padding:.5rem 1.2rem!important}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-next:hover{background-color:#ac0d0d}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row{display:inline-flex;justify-content:flex-start!important;width:100%}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element{flex-grow:1;overflow-x:hidden;padding:0 .1rem;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element:first-of-type{padding-left:0}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element:last-of-type{padding-right:0}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element p{color:#ac0d0d;font-size:.65rem!important;line-height:150%!important;padding-left:1px!important}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element input{background-color:hsla(0,0%,100%,.8);border:1px solid #e99!important;border-radius:3px!important;font-size:.8rem;margin:0!important;padding:.3rem!important;pointer-events:auto;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto;width:100%}","",{version:3,sources:["webpack://./src/css/panel.scss"],names:[],mappings:"AAAA,MACE,8BAAA,CACA,+BAAA,CACA,qCAAA,CACA,sCAAA,CAGF,UAKE,4CAAA,CAIA,4BAAA,CACA,4HAAA,CARA,aAAA,CACA,0BAAA,CACA,2BAAA,CAGA,yBAAA,CAKA,eAAA,CAJA,wBAAA,CAPA,iBAAA,CAKA,UAMA,CAEA,YAIE,iCAAA,CACA,2BAAA,CACA,iCAAA,CAHA,qBAAA,CAMA,wHAAA,CAFA,mBAAA,CANA,YAAA,CAUA,oBAAA,CAHA,wBAAA,CAAA,qBAAA,CAAA,gBAAA,CANA,uBASA,CAGF,0BACE,oBAAA,CAEA,wBAAA,CACA,yBAAA,CAFA,4BAEA,CAGF,gCACE,kCAAA,CAEA,wBAAA,CACA,yBAAA,CAFA,6BAEA,CAGF,oCACE,YAAA,CACA,0BAAA,CACA,QAAA,CACA,SAAA,CAEA,0DAEE,6CAAA,CACA,qBAAA,CAMA,2BAAA,CARA,aAAA,CAMA,wBAAA,CACA,yBAAA,CAHA,gCAAA,CADA,sBAAA,CAEA,wBAGA,CAIJ,0BACE,0BAAA,CACA,0BAAA,CAEA,sFAEE,sBAAA,CACA,uCAAA,CAEA,oHAME,6BAAA,CAJA,qBAAA,CACA,uBAAA,CAEA,mBAAA,CAJA,iBAAA,CAGA,iBAAA,CAGA,+BAAA,CAMA,0JAME,wBAAA,CACA,0BAAA,CAFA,kBAAA,CADA,yBAAA,CAHA,iBAAA,CACA,OAAA,CACA,KAIA,CAEA,kKAGE,iCAAA,CADA,WAAA,CADA,UAEA,CAIJ,4JAIE,kCAAA,CAFA,wBAAA,CACA,yBAAA,CAFA,0BAAA,CAIA,kBAAA,CAKN,2CACE,oBAAA,CACA,cAAA,CACA,iBAAA,CAEA,+DACE,6BAAA,CAGF,kEAGE,qBAAA,CADA,sBAAA,CAEA,kBAAA,CAHA,2BAAA,CAIA,mCAAA,CAIJ,2CACE,uBAAA,CACA,iBAAA,CAEA,0DAEE,iBAAA,CADA,eAAA,CAEA,kBAAA,CAGF,+DACE,4CAAA,CAGF,kEAEE,6BAAA,CADA,2BACA,CAIJ,yCAEE,qBAAA,CADA,2BACA,CAEA,6DAEE,8BAAA,CADA,2BACA,CAUJ,iDAUE,4BAAA,CAJA,+CAAA,CAQA,qBAAA,CADA,2BAAA,CANA,oBAAA,CAIA,0BAAA,CACA,yBAAA,CAHA,gCAAA,CASA,0BAAA,CAFA,kBAAA,CAZA,SAAA,CAWA,6BAAA,CAKA,mBAAA,CAZA,2BAAA,CAWA,sBAAA,CAdA,mCAAA,CAAA,gCAAA,CAAA,2BAAA,CAYA,oBAGA,CAEA,qDAGE,SAAA,CADA,aAAA,CADA,YAEA,CAGF,kEACE,gBAAA,CAKF,wGAEE,qBAAA,CAEA,sJAEE,mBAAA,CAIJ,qDACE,kCAAA,CAIJ,kDACE,4CAAA,CAGF,kDACE,UAAA,CACA,mBAAA,CAGF,gDAEE,cAAA,CADA,SACA,CAIJ,8BAEE,YAAA,CADA,OACA,CAKF,kCAME,mCAAA,CAFA,qBAAA,CACA,iBAAA,CAHA,eAAA,CAKA,eAAA,CAJA,aAIA,CAEA,oCACE,aAAA,CAGF,8GAGE,kBAAA,CAGF,qCAEE,0BAAA,CADA,yBACA,CAGF,qCAEE,yBAAA,CADA,iCAAA,CAEA,yBAAA,CAEA,8BAAA,CADA,2BACA,CAGF,4DAIE,wBAAA,CACA,yBAAA,CACA,0BAAA,CACA,wBAAA,CAEA,iEAGE,oBAAA,CAFA,iBAAA,CAGA,+BAAA,CAIJ,+DAIE,qBAAA,CAGA,WAAA,CADA,iBAAA,CAHA,UAAA,CAKA,cAAA,CAPA,yBAAA,CACA,eAAA,CAGA,8BAGA,CAEA,qEACE,wBAAA,CAIJ,mEACE,mBAAA,CACA,oCAAA,CACA,UAAA,CAEA,kFACE,WAAA,CAEA,iBAAA,CADA,eAAA,CAKA,mBAAA,CADA,wBAAA,CAAA,qBAAA,CAAA,gBAAA,CAFA,kBAGA,CAEA,gGACE,cAAA,CAGF,+FACE,eAAA,CAGF,oFAIE,aAAA,CADA,0BAAA,CADA,0BAAA,CADA,0BAGA,CAGF,wFAOE,mCAAA,CAFA,+BAAA,CACA,2BAAA,CAHA,eAAA,CAFA,kBAAA,CACA,uBAAA,CAOA,mBAAA,CADA,wBAAA,CAAA,qBAAA,CAAA,gBAAA,CAJA,UAKA",sourcesContent:[":root {\n  --rc-panel-theme-color: #3490de;\n  --rc-panel-darken-color: #185b94;\n  --rc-panel-theme-color-semi: #3490de66;\n  --rc-panel-darken-color-semi: #185b9488;\n}\n\n.rc-panel {\n  position: relative;\n  display: block;\n  margin-left: auto !important;\n  margin-right: auto !important;\n  background-color: var(--rc-panel-theme-color);\n  width: 100%;\n  max-width: 720px !important;\n  padding: 0.75rem !important;\n  border-radius: 10px !important;\n  box-shadow: var(--rc-panel-darken-color-semi) 0px 50px 100px -20px,\n    var(--rc-panel-theme-color-semi) 0px 30px 60px -30px !important;\n  overflow: hidden;\n\n  * {\n    outline: none;\n    vertical-align: baseline;\n    box-sizing: border-box;\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: auto;\n    -moz-osx-font-smoothing: grayscale;\n    font-kerning: normal;\n    user-select: none;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    scrollbar-width: none;\n  }\n\n  .rc-panel-title {\n    color: #fff !important;\n    margin: 1rem 1rem 0 1rem !important;\n    font-size: 2rem !important;\n    font-weight: 600 !important;\n  }\n\n  .rc-panel-description {\n    color: #ffffffcc !important;\n    margin: 0.5rem 1rem 0 1rem !important;\n    font-size: 1rem !important;\n    font-weight: 500 !important;\n  }\n\n  #rc-panel-language-parent {\n    display: flex;\n    flex-direction: row-reverse;\n    margin: 0;\n    padding: 0;\n\n    #rc-panel-lang-picker {\n      display: block;\n      background-color: #ffffffcc !important;\n      border: none !important;\n      outline: none !important;\n      margin: 0.25rem 0.25rem 0 0.25rem !important;\n      padding: 0.25rem !important;\n      font-size: 1rem !important;\n      font-weight: 500 !important;\n      border-radius: 5px !important;\n    }\n  }\n\n  .rc-panel-steps {\n    margin: -3rem 0 0 0 !important;\n    padding-top: 4rem !important;\n\n    &.rc-panel-steps-l,\n    &.rc-panel-steps-s {\n      display: flex !important;\n      justify-content: space-between !important;\n\n      .rc-panel-step {\n        position: relative;\n        flex-grow: 1 !important;\n        margin: 0.25rem !important;\n        text-align: center;\n        padding: 0 !important;\n        background: #ffffffcc;\n        transition: background-color 0.2s;\n\n        // &:focus {\n        //   outline: 3px solid black !important;\n        // }\n\n        .rc-panel-step-use {\n          position: absolute;\n          right: 0;\n          top: 0;\n          padding: 0 0.3rem !important;\n          margin: 0 !important;\n          font-size: 1rem !important;\n          line-height: 170% !important;\n\n          svg {\n            width: 1rem;\n            height: 1rem;\n            fill: var(--rc-panel-darken-color);\n          }\n        }\n\n        .rc-panel-step-name {\n          line-height: 150% !important;\n          font-size: 1rem !important;\n          font-weight: 700 !important;\n          color: var(--rc-panel-darken-color);\n          white-space: nowrap;\n        }\n      }\n    }\n\n    &.rc-panel-steps-l {\n      flex-flow: row nowrap;\n      max-width: 100%;\n      overflow-x: scroll;\n\n      .rc-panel-step-name {\n        margin: 1.5rem 0.5rem !important;\n      }\n\n      .rc-panel-step-use-tip {\n        position: absolute !important;\n        display: flex !important;\n        bottom: 110% !important;\n        left: 50% !important;\n        transform: translate(-50%, 0) !important;\n      }\n    }\n\n    &.rc-panel-steps-s {\n      flex-flow: column nowrap;\n      overflow-x: hidden;\n\n      .rc-panel-step {\n        text-align: left;\n        overflow-x: hidden;\n        white-space: nowrap;\n      }\n\n      .rc-panel-step-name {\n        margin: 1.2rem 0.75rem 1.2rem 1.5rem !important;\n      }\n\n      .rc-panel-step-use-tip {\n        position: relative !important;\n        display: inline-flex !important;\n      }\n    }\n\n    .rc-panel-step {\n      border-radius: 7px !important;\n      border: none !important;\n\n      .rc-panel-step-name {\n        position: relative !important;\n        display: inline-block !important;\n      }\n    }\n\n    // .rc-panel-next-button {\n    //   .rc-panel-step-name::after {\n    //     content: ' ' !important;\n    //   }\n    // }\n\n    .rc-panel-step-use-tip {\n      // visibility: hidden;\n      // backdrop-filter: blur(2px);\n      // box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 8px !important;\n      opacity: 0;\n      width: max-content !important;\n      background-color: #ff9a00ee !important;\n      color: #fff !important;\n      text-align: center !important;\n      justify-content: center !important;\n      align-items: center !important;\n      font-size: 0.75rem !important;\n      font-weight: 500 !important;\n      border-radius: 7px !important;\n      border: none !important;\n      padding: 0.7rem 0.5rem !important;\n      margin: 0 !important;\n      z-index: 10 !important;\n      line-height: 100% !important;\n      transition: opacity 0.2s;\n      pointer-events: none;\n\n      svg {\n        width: 0.75rem;\n        height: 0.75rem;\n        fill: #fff;\n      }\n\n      svg:last-of-type {\n        margin-right: 5px;\n      }\n    }\n\n    .rc-panel-step-todo {\n      &:hover,\n      &:focus {\n        background-color: #fff;\n\n        .rc-panel-step-use-tip {\n          // visibility: visible !important;\n          opacity: 1 !important;\n        }\n      }\n\n      &:active {\n        background-color: #eeeeeecc;\n      }\n    }\n\n    .rc-panel-step-finished {\n      background-color: #bbbbbbcc !important;\n    }\n\n    .rc-panel-step-inactive {\n      opacity: 0.6;\n      pointer-events: none;\n    }\n\n    .rc-panel-step-active {\n      opacity: 1;\n      cursor: pointer;\n    }\n  }\n\n  ::-webkit-scrollbar {\n    width: 0;\n    display: none;\n  }\n\n  /* ---------------------------------- DEBUG --------------------------------- */\n\n  .rc-panel-debug-control {\n    margin: 0;\n    margin-top: 1rem;\n    padding: 0.5rem;\n    border: 3px solid #ee0000;\n    border-radius: 7px;\n    background-color: #ffffffcc;\n    overflow: hidden;\n\n    * {\n      color: #ac0d0d;\n    }\n\n    h2,\n    h3,\n    p {\n      margin: 0 !important;\n    }\n\n    h2 {\n      font-weight: 700 !important;\n      font-size: 1.2rem !important;\n    }\n\n    h3 {\n      font-variant: small-caps !important;\n      font-size: 0.9rem !important;\n      font-weight: 500 !important;\n      padding-top: 0.5rem !important;\n      padding-bottom: 0.3rem !important;\n    }\n\n    .rc-panel-debug-bold-text {\n      // display: inline-flex;\n      // align-items: center;\n\n      font-size: 1rem !important;\n      font-weight: bold !important;\n      line-height: 150% !important;\n      margin: 0.3rem 0 !important;\n\n      code {\n        font-size: 0.875rem;\n        // color: #cb2d2d !important;\n        color: #ee0000 !important;\n        vertical-align: bottom !important;\n      }\n    }\n\n    .rc-panel-debug-control-next {\n      font-size: 0.9rem !important;\n      margin: 1rem 0 0 0;\n      color: #fff;\n      background-color: #ee0000;\n      padding: 0.5rem 1.2rem !important;\n      border-radius: 5px;\n      border: none;\n      cursor: pointer;\n\n      &:hover {\n        background-color: #ac0d0d;\n      }\n    }\n\n    .rc-panel-debug-control-task-row {\n      display: inline-flex;\n      justify-content: flex-start !important;\n      width: 100%;\n\n      .value-element {\n        flex-grow: 1;\n        padding: 0 0.1rem;\n        overflow-x: hidden;\n        white-space: nowrap;\n        // max-width: 10rem;\n        user-select: none;\n        pointer-events: none;\n\n        &:first-of-type {\n          padding-left: 0;\n        }\n\n        &:last-of-type {\n          padding-right: 0;\n        }\n\n        p {\n          padding-left: 1px !important;\n          line-height: 150% !important;\n          font-size: 0.65rem !important;\n          color: #ac0d0d;\n        }\n\n        input {\n          margin: 0 !important;\n          padding: 0.3rem !important;\n          font-size: 0.8rem;\n          width: 100%;\n          border: 1px solid #ee9999 !important;\n          border-radius: 3px !important;\n          background-color: #ffffffcc;\n          user-select: auto;\n          pointer-events: auto;\n        }\n      }\n    }\n  }\n}\n"],sourceRoot:""}]);const o=i},3224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,"#size-card,#size-usba,#size-usbc{display:block;height:auto;left:2rem;position:absolute;z-index:2}#size-arrow{display:block;height:auto;position:absolute;width:70px;z-index:1}#size-arrow-fill{transition:fill .3s}.minor{transition:opacity .25s}.rc-slider:active~.size-obj .minor{opacity:0}#matching-obj{background-color:#fff;border:none;border-radius:7px;font-size:1.1rem;font-weight:600;margin-bottom:unset;margin-left:.3rem;margin-right:.3rem;margin-top:unset;padding-bottom:unset;padding-left:.3rem;padding-right:.3rem;padding-top:unset;pointer-events:auto!important;vertical-align:middle}@media(min-width:481px){.rc-size-obj-selection{display:inline-flex}}@media(max-width:480px){.rc-size-obj-selection{display:inline-block}}","",{version:3,sources:["webpack://./src/css/screenSize.scss"],names:[],mappings:"AAAA,iCAIE,aAAA,CAGA,WAAA,CADA,SAAA,CAHA,iBAAA,CAKA,SAAA,CAGF,YAEE,aAAA,CAGA,WAAA,CAJA,iBAAA,CAGA,UAAA,CAEA,SAAA,CAGF,iBACE,mBAAA,CAGF,OACE,uBAAA,CAIF,mCACE,SAAA,CAKF,cAGE,qBAAA,CADA,WAAA,CADA,iBAAA,CAMA,gBAAA,CADA,eAAA,CADA,mBAAA,CAAA,iBAAA,CAAA,kBAAA,CAAA,gBAAA,CADA,oBAAA,CAAA,kBAAA,CAAA,mBAAA,CAAA,iBAAA,CAKA,6BAAA,CADA,qBACA,CAGF,wBACE,uBACE,mBAAA,CAAA,CAIJ,wBACE,uBACE,oBAAA,CAAA",sourcesContent:["#size-card,\n#size-usba,\n#size-usbc {\n  position: absolute;\n  display: block;\n  /* top: calc(max(45%, 200px) + 50px); */\n  left: 2rem;\n  height: auto;\n  z-index: 2;\n}\n\n#size-arrow {\n  position: absolute;\n  display: block;\n  /* display: none; */\n  width: 70px;\n  height: auto;\n  z-index: 1;\n}\n\n#size-arrow-fill {\n  transition: fill 0.3s;\n}\n\n.minor {\n  transition: opacity 0.25s;\n}\n\n/* .rc-slider:hover ~ .size-obj .minor, */\n.rc-slider:active ~ .size-obj .minor {\n  opacity: 0;\n}\n\n/* -------------------------------------------------------------------------- */\n\n#matching-obj {\n  border-radius: 7px;\n  border: none;\n  background-color: #fff;\n  padding: unset 0.3rem;\n  margin: unset 0.3rem;\n  font-weight: 600;\n  font-size: 1.1rem;\n  vertical-align: middle;\n  pointer-events: auto !important;\n}\n\n@media (min-width: 481px) {\n  .rc-size-obj-selection {\n    display: inline-flex;\n  }\n}\n\n@media (max-width: 480px) {\n  .rc-size-obj-selection {\n    display: inline-block;\n  }\n}\n"],sourceRoot:""}]);const o=i},5904:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,".rc-slider{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:linear-gradient(90deg,#ffc772,#ffc772 60%,#fff 0);border-radius:5px;cursor:-webkit-grab;cursor:grab;direction:ltr!important;display:block;height:10px;left:2rem;opacity:1;position:absolute;transition:opacity .3s;width:calc(100% - 4rem);z-index:10}.rc-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:#ff9a00;border:1px solid #cc7a00;border-radius:15px;box-shadow:0 0 12px 0 rgba(136,82,0,.2);cursor:inherit;height:30px;width:30px}.rc-slider::-moz-range-thumb{-moz-appearance:none;appearance:none;background:#ff9a00;border:1px solid #cc7a00;border-radius:15px;box-shadow:0 0 12px 0 rgba(136,82,0,.2);cursor:inherit;height:30px;width:30px}.rc-slider::-ms-thumb{appearance:none;background:#ff9a00;border:1px solid #cc7a00;border-radius:15px;box-shadow:0 0 12px 0 rgba(136,82,0,.2);cursor:inherit;height:30px;width:30px}","",{version:3,sources:["webpack://./src/css/slider.scss"],names:[],mappings:"AAAA,WAGE,uBAAA,CAAA,oBAAA,CAAA,eAAA,CAGA,4DAAA,CAIA,iBAAA,CAEA,mBAAA,CAAA,WAAA,CAEA,uBAAA,CAZA,aAAA,CAGA,WAAA,CAIA,SAAA,CAFA,SAAA,CANA,iBAAA,CAYA,sBAAA,CATA,uBAAA,CAOA,UAGA,CAkBF,iCAVE,uBAAA,CAAA,eAAA,CAKA,kBAAA,CADA,wBAAA,CADA,kBAAA,CAGA,uCAAA,CACA,cAAA,CALA,WAAA,CADA,UAMA,CAOF,6BAdE,oBAAA,CAAA,eAAA,CAKA,kBAAA,CADA,wBAAA,CADA,kBAAA,CAGA,uCAAA,CACA,cAAA,CALA,WAAA,CADA,UAMA,CAWF,sBAlBE,eAAA,CAKA,kBAAA,CADA,wBAAA,CADA,kBAAA,CAGA,uCAAA,CACA,cAAA,CALA,WAAA,CADA,UAMA",sourcesContent:[".rc-slider {\n  position: absolute;\n  display: block;\n  appearance: none;\n  width: calc(100% - 4rem);\n  height: 10px;\n  background: linear-gradient(90deg, #ffc772, #ffc772 60%, #fff 60%);\n  opacity: 1;\n  /* top: max(45%, 200px); */\n  left: 2rem;\n  border-radius: 5px;\n  z-index: 10;\n  cursor: grab;\n  transition: opacity 0.3s;\n  direction: ltr !important;\n}\n\n// .rc-slider:hover {\n//   opacity: 1;\n// }\n\n@mixin thumb-style {\n  appearance: none;\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  border: 1px solid #cc7a00;\n  background: #ff9a00;\n  box-shadow: 0 0 12px 0 #88520033;\n  cursor: inherit;\n}\n\n.rc-slider::-webkit-slider-thumb {\n  @include thumb-style;\n}\n\n.rc-slider::-moz-range-thumb {\n  @include thumb-style;\n}\n\n.rc-slider::-ms-thumb {\n  @include thumb-style;\n}\n"],sourceRoot:""}]);const o=i},6616:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,"#webgazerVideoContainer .webgazer-videoinput-select{background:hsla(0,0%,100%,.8)!important;border:none!important;border-radius:.6rem!important;color:#666;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:.6rem;left:0;line-height:100%;margin:.3rem;outline:none!important;padding:.2rem .3rem;position:absolute;top:0;z-index:9}","",{version:3,sources:["webpack://./src/css/video.scss"],names:[],mappings:"AACE,oDAcE,uCAAA,CAHA,qBAAA,CAEA,6BAAA,CAEA,UAAA,CARA,wHAAA,CAEA,eAAA,CALA,MAAA,CAMA,gBAAA,CALA,YAAA,CAOA,sBAAA,CANA,mBAAA,CAJA,iBAAA,CACA,KAAA,CAFA,SAcA",sourcesContent:["#webgazerVideoContainer {\n  .webgazer-videoinput-select {\n    z-index: 9;\n    position: absolute;\n    top: 0;\n    left: 0;\n    margin: 0.3rem;\n    padding: 0.2rem 0.3rem;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 0.6rem;\n    line-height: 100%;\n    border: none !important;\n    outline: none !important;\n    border-radius: 0.6rem !important;\n    background: #ffffffcc !important;\n    color: #666;\n  }\n}\n"],sourceRoot:""}]);const o=i},2013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,"#gaze-system-instruction{top:65%;white-space:pre}.gaze-nudge-instruction{top:65%}.gaze-calibration-dot{background:#ff005c80;cursor:auto;display:block;position:fixed!important;transition-timing-function:ease-in-out;transition:left .5s,right .5s,top .5s,bottom .5s;z-index:999999998}.gaze-calibration-dot-click{background:#ff005c;cursor:pointer;margin:auto;position:absolute;text-align:center;vertical-align:middle}.gaze-calibration-dot-click:active{opacity:.3}.gaze-calibration-dot-text{color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:.9rem;font-weight:500;vertical-align:text-bottom}#webgazerGazeDot,#webgazerGazeDot-tempClone,.gaze-calibration-dot-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}#webgazerGazeDot,#webgazerGazeDot-tempClone{background-color:#111d5e;border-radius:5px;opacity:.5;position:fixed;z-index:9999999999}#webgazerVideoContainer{border-radius:5px;display:block;overflow:hidden;position:fixed!important;transform-origin:bottom left;z-index:999999997}#webgazerFaceFeedbackBox,#webgazerVideoContainer,#webgazerVideoContainer *{-webkit-user-select:none;-moz-user-select:none;user-select:none}#webgazerFaceFeedbackBox{border-radius:10px;box-sizing:border-box;opacity:.6;pointer-events:none}.rc-crosshair,.rc-gaze-nudger-arrows{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.rc-crosshair{border-radius:50%;cursor:pointer;display:block;height:40px;position:fixed!important;transition-timing-function:ease-in-out;transition:left .5s,right .5s,top .5s,bottom .5s;width:40px;z-index:999999999}.rc-crosshair-component{background-color:#000;left:50%;margin:auto;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none}","",{version:3,sources:["webpack://./src/css/gaze.css"],names:[],mappings:"AAAA,yBACE,OAAQ,CACR,eACF,CAEA,wBACE,OACF,CAEA,sBACE,oBAAqB,CAGrB,WAAe,CADf,aAAc,CADd,wBAA0B,CAI1B,sCAAuC,CACvC,gDAAwD,CAFxD,iBAGF,CAEA,4BAEE,kBAAmB,CAEnB,cAAe,CADf,WAAY,CAFZ,iBAAkB,CAIlB,iBAAkB,CAClB,qBACF,CAEA,mCACE,UACF,CAEA,2BAIE,UAAW,CAHX,wHAC8D,CAG9D,eAAiB,CAFjB,eAAgB,CAGhB,0BAGF,CAIA,uEALE,mBAAoB,CADpB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAeF,CATA,4CAKE,wBAAyB,CACzB,iBAAkB,CAFlB,UAAY,CAFZ,cAAe,CACf,kBAMF,CAEA,wBAKE,iBAAkB,CAHlB,aAAc,CAKd,eAAgB,CAJhB,wBAA0B,CAC1B,4BAA6B,CAH7B,iBASF,CAMA,2EAPE,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAcF,CAPA,yBAGE,kBAAmB,CADnB,qBAAsB,CAEtB,UAAY,CACZ,mBAEF,CAIA,qCAEE,iBAAkB,CAIlB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBACF,CAEA,cAUE,iBAAkB,CAJlB,cAAe,CAJf,aAAc,CAEd,WAAY,CAHZ,wBAA0B,CAM1B,sCAAuC,CACvC,gDAAwD,CALxD,UAAW,CAEX,iBAMF,CAEA,wBAQE,qBAAsB,CALtB,QAAS,CAET,WAAY,CACZ,mBAAoB,CALpB,iBAAkB,CAClB,OAAQ,CAER,8BAAgC,CAGhC,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAEF",sourcesContent:["#gaze-system-instruction {\n  top: 65%;\n  white-space: pre;\n}\n\n.gaze-nudge-instruction {\n  top: 65%;\n}\n\n.gaze-calibration-dot {\n  background: #ff005c80;\n  position: fixed !important;\n  display: block;\n  cursor: initial;\n  z-index: 999999998;\n  transition-timing-function: ease-in-out;\n  transition: left 0.5s, right 0.5s, top 0.5s, bottom 0.5s;\n}\n\n.gaze-calibration-dot-click {\n  position: absolute;\n  background: #ff005c;\n  margin: auto;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n}\n\n.gaze-calibration-dot-click:active {\n  opacity: 0.3;\n}\n\n.gaze-calibration-dot-text {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 500;\n  color: #fff;\n  font-size: 0.9rem;\n  vertical-align: text-bottom;\n  user-select: none;\n  pointer-events: none;\n}\n\n/* ----------------------------- WebGazer Native ---------------------------- */\n\n#webgazerGazeDot,\n#webgazerGazeDot-tempClone {\n  position: fixed;\n  z-index: 9999999999;\n  opacity: 0.5;\n  background-color: #111d5e;\n  border-radius: 5px;\n  pointer-events: none;\n  user-select: none;\n}\n\n#webgazerVideoContainer {\n  z-index: 999999997;\n  display: block;\n  position: fixed !important;\n  transform-origin: bottom left;\n  border-radius: 5px;\n  /* opacity: 0.8; */\n  overflow: hidden;\n  /* pointer-events: none; */\n  user-select: none;\n}\n\n#webgazerVideoContainer * {\n  user-select: none;\n}\n\n#webgazerFaceFeedbackBox {\n  /* TODO Set style in sub-module */\n  box-sizing: border-box;\n  border-radius: 10px;\n  opacity: 0.6;\n  pointer-events: none;\n  user-select: none;\n}\n\n/* ------------------------------- Gaze Nudger ------------------------------ */\n\n.rc-crosshair,\n.rc-gaze-nudger-arrows {\n  position: absolute;\n  /* top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%); */\n  user-select: none;\n}\n\n.rc-crosshair {\n  position: fixed !important;\n  display: block;\n  width: 40px;\n  height: 40px;\n  z-index: 999999999;\n  cursor: pointer;\n  transition-timing-function: ease-in-out;\n  transition: left 0.5s, right 0.5s, top 0.5s, bottom 0.5s;\n  /* filter: drop-shadow(0 0 3px #fff); */\n  border-radius: 50%;\n}\n\n.rc-crosshair-component {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin: auto;\n  pointer-events: none;\n  user-select: none;\n  background-color: #000;\n}\n"],sourceRoot:""}]);const o=i},3668:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,"#calibration-background{bottom:0;box-sizing:border-box;height:100%;left:0;margin:0;overflow:hidden;overflow-y:scroll;position:fixed;right:0;scrollbar-width:none;text-align:center;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:999999990}#calibration-background::-webkit-scrollbar{display:none;width:0}#calibration-background *{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}#calibration-background p{line-height:150%}.calibration-instruction{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.calibration-instruction-scrollable{height:200%}.calibration-instruction h1{font-weight:700;min-width:360px}.calibration-instruction *{font-size:1.2rem;line-height:170%;margin:0;padding:0}.calibration-instruction p{margin-top:1rem;white-space:pre-line}.calibration-description{line-height:170%}.rc-hang-description{font-size:1rem!important;margin-top:50vh!important}@media (min-width:481px){.calibration-instruction{margin:2rem}.calibration-instruction h1{font-size:2.5rem!important;line-height:100%}.calibration-description{width:calc(100% - 4rem);width:max(min(100% - 4rem,960px),300px)}.calibration-description,.calibration-description *{font-size:1.2rem}.calibration-credit-text{font-size:.9rem!important}}@media (max-width:480px){.calibration-instruction{margin:1rem}.calibration-instruction h1{font-size:1.8rem!important;line-height:120%}.calibration-description{width:calc(100% - 1rem)}.calibration-description,.calibration-description *{font-size:1rem}.calibration-credit-text{font-size:.7rem!important}}.float-instruction{background:hsla(0,0%,100%,.9);border-radius:10px;font-size:1rem;font-weight:500;left:50%;margin:0;max-width:25rem;padding:10px 17px;position:fixed;text-align:center;transform:translate(-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:999999991}.swal2-container{z-index:999999999!important}.calibration-credit-text{bottom:3px!important;color:#999!important;line-height:100%!important;margin:0!important;padding:0!important;position:fixed!important;text-align:center!important;width:100%!important}.lock-view{overflow:hidden!important}.rc-lang-ltr{direction:ltr!important;text-align:left!important}.rc-lang-rtl{direction:rtl!important;text-align:right!important}.cursor-grab{cursor:-webkit-grab;cursor:grab}.cursor-grabbing{cursor:-webkit-grabbing;cursor:grabbing}","",{version:3,sources:["webpack://./src/css/main.css"],names:[],mappings:"AACA,wBAQE,QAAS,CAMT,qBAAsB,CAVtB,WAAY,CAEZ,MAAO,CAGP,QAAS,CAET,eAAgB,CAChB,iBAAkB,CAVlB,cAAe,CAKf,OAAQ,CASR,oBAAqB,CADrB,iBAAkB,CAVlB,KAAM,CAQN,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAAiB,CAVjB,UAAW,CAFX,iBAgBF,CAEA,2CAEE,YAAa,CADb,OAEF,CAEA,0BACE,wHAEF,CAEA,0BACE,gBACF,CAEA,yBAGE,mBAAoB,CAFpB,iBAAkB,CAClB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAEF,CAEA,oCACE,WACF,CAEA,4BAEE,eAAgB,CADhB,eAEF,CAEA,2BACE,gBAAiB,CACjB,gBAAiB,CACjB,QAAS,CACT,SACF,CAEA,2BAEE,eAAgB,CADhB,oBAEF,CAEA,yBACE,gBACF,CAEA,qBAEE,wBAA0B,CAD1B,yBAEF,CAKA,yBACE,yBACE,WACF,CAEA,4BAEE,0BAA4B,CAD5B,gBAEF,CAEA,yBACE,uBAAwB,CACxB,uCACF,CAEA,oDAEE,gBACF,CAEA,yBACE,yBACF,CACF,CAEA,yBACE,yBACE,WACF,CAEA,4BAEE,0BAA4B,CAD5B,gBAEF,CAEA,yBACE,uBACF,CAEA,oDAEE,cACF,CAEA,yBACE,yBACF,CACF,CAEA,mBAIE,6BAAoC,CAMpC,kBAAmB,CACnB,cAAe,CACf,eAAgB,CALhB,QAAS,CADT,QAAS,CAET,eAAgB,CAHhB,iBAAkB,CAJlB,cAAe,CACf,iBAAkB,CAOlB,yBAA6B,CAN7B,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAAiB,CAUjB,iBACF,CAIA,iBACE,2BACF,CAIA,yBAGE,oBAAsB,CACtB,oBAAsB,CAGtB,0BAA4B,CAF5B,kBAAoB,CACpB,mBAAqB,CALrB,wBAA0B,CAO1B,2BAA6B,CAN7B,oBAOF,CAIA,WACE,yBACF,CAIA,aACE,uBAAyB,CACzB,yBACF,CAEA,aACE,uBAAyB,CACzB,0BACF,CAMA,aACE,mBAAY,CAAZ,WACF,CAEA,iBACE,uBAAgB,CAAhB,eACF",sourcesContent:["/* background div */\n#calibration-background {\n  z-index: 999999990;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n  /* background: #eee; */\n  overflow: hidden;\n  overflow-y: scroll;\n  user-select: none;\n  box-sizing: border-box;\n  text-align: center;\n  scrollbar-width: none;\n}\n\n#calibration-background::-webkit-scrollbar {\n  width: 0;\n  display: none;\n}\n\n#calibration-background * {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n}\n\n#calibration-background p {\n  line-height: 150%;\n}\n\n.calibration-instruction {\n  position: absolute;\n  user-select: none;\n  pointer-events: none;\n}\n\n.calibration-instruction-scrollable {\n  height: 200%;\n}\n\n.calibration-instruction h1 {\n  min-width: 360px;\n  font-weight: 700;\n}\n\n.calibration-instruction * {\n  font-size: 1.2rem;\n  line-height: 170%;\n  margin: 0;\n  padding: 0;\n}\n\n.calibration-instruction p {\n  white-space: pre-line;\n  margin-top: 1rem;\n}\n\n.calibration-description {\n  line-height: 170%;\n}\n\n.rc-hang-description {\n  margin-top: 50vh !important;\n  font-size: 1rem !important;\n}\n\n/* -------------------------------------------------------------------------- */\n/* Screen size specific */\n\n@media (min-width: 481px) {\n  .calibration-instruction {\n    margin: 2rem;\n  }\n\n  .calibration-instruction h1 {\n    line-height: 100%;\n    font-size: 2.5rem !important;\n  }\n\n  .calibration-description {\n    width: calc(100% - 4rem);\n    width: max(min(100% - 4rem, 960px), 300px);\n  }\n\n  .calibration-description,\n  .calibration-description * {\n    font-size: 1.2rem;\n  }\n\n  .calibration-credit-text {\n    font-size: 0.9rem !important;\n  }\n}\n\n@media (max-width: 480px) {\n  .calibration-instruction {\n    margin: 1rem;\n  }\n\n  .calibration-instruction h1 {\n    line-height: 120%;\n    font-size: 1.8rem !important;\n  }\n\n  .calibration-description {\n    width: calc(100% - 1rem);\n  }\n\n  .calibration-description,\n  .calibration-description * {\n    font-size: 1rem;\n  }\n\n  .calibration-credit-text {\n    font-size: 0.7rem !important;\n  }\n}\n\n.float-instruction {\n  position: fixed;\n  text-align: center;\n  user-select: none;\n  background: rgba(255, 255, 255, 0.9);\n  padding: 10px 17px;\n  margin: 0;\n  left: 50%;\n  max-width: 25rem;\n  transform: translate(-50%, 0);\n  border-radius: 10px;\n  font-size: 1rem;\n  font-weight: 500;\n  z-index: 999999991;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.swal2-container {\n  z-index: 999999999 !important;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.calibration-credit-text {\n  position: fixed !important;\n  width: 100% !important;\n  bottom: 3px !important;\n  color: #999 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  line-height: 100% !important;\n  text-align: center !important;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.lock-view {\n  overflow: hidden !important;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.rc-lang-ltr {\n  direction: ltr !important;\n  text-align: left !important;\n}\n\n.rc-lang-rtl {\n  direction: rtl !important;\n  text-align: right !important;\n}\n\n/* -------------------------------------------------------------------------- */\n/* --------------------------------- CURSOR --------------------------------- */\n/* -------------------------------------------------------------------------- */\n\n.cursor-grab {\n  cursor: grab;\n}\n\n.cursor-grabbing {\n  cursor: grabbing;\n}\n"],sourceRoot:""}]);const o=i},6771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7537),a=n.n(r),s=n(3645),i=n.n(s)()(a());i.push([e.id,".swal2-container{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif!important}.my__swal2__icon{font-weight:700!important;-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.my__swal2__icon *{color:#ff9a00!important}.my__swal2__title{color:#000!important;font-size:2rem!important;font-weight:700!important}.my__swal2__html,.my__swal2__title{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.my__swal2__html{color:#444!important;font-size:1.2rem!important;font-weight:400!important;line-height:150%!important;margin:1.6rem}.animate__animated.animate__fadeInUp,.animate__animated.animate__fadeOutDown{--animate-duration:400ms!important;--animate-delay:0!important}.fadeInUp,.fadeOutDown{-webkit-animation-delay:0!important;animation-delay:0!important;-webkit-animation-duration:.4s!important;animation-duration:.4s!important}","",{version:3,sources:["webpack://./src/css/swal.css"],names:[],mappings:"AAAA,iBACE,kIAEF,CAEA,iBACE,yBAA4B,CAC5B,kCAA4B,CAA5B,+BAA4B,CAA5B,0BACF,CAEA,mBACE,uBACF,CAEA,kBACE,oBAAsB,CACtB,wBAA0B,CAC1B,yBAEF,CAEA,mCAHE,kCAA4B,CAA5B,+BAA4B,CAA5B,0BAUF,CAPA,iBAEE,oBAAsB,CACtB,0BAA4B,CAE5B,yBAA8B,CAD9B,0BAA4B,CAH5B,aAMF,CAEA,6EAEE,kCAAoC,CACpC,2BACF,CAEA,uBAGE,mCAA6B,CAA7B,2BAA6B,CAD7B,wCAAoC,CAApC,gCAEF",sourcesContent:[".swal2-container {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif !important;\n}\n\n.my__swal2__icon {\n  font-weight: bold !important;\n  user-select: none !important;\n}\n\n.my__swal2__icon * {\n  color: #ff9a00 !important;\n}\n\n.my__swal2__title {\n  color: #000 !important;\n  font-size: 2rem !important;\n  font-weight: bold !important;\n  user-select: none !important;\n}\n\n.my__swal2__html {\n  margin: 1.6rem;\n  color: #444 !important;\n  font-size: 1.2rem !important;\n  line-height: 150% !important;\n  font-weight: normal !important;\n  user-select: none !important;\n}\n\n.animate__animated.animate__fadeInUp,\n.animate__animated.animate__fadeOutDown {\n  --animate-duration: 400ms !important;\n  --animate-delay: 0 !important;\n}\n\n.fadeInUp,\n.fadeOutDown {\n  animation-duration: 400ms !important;\n  animation-delay: 0 !important;\n}\n"],sourceRoot:""}]);const o=i},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(i[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&i[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),t.push(c))}},t}},7537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(a," */"),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([s]).join("\n")}return[t].join("\n")}},7781:function(e){var t=function(){"use strict";var e,t,n,r,a,s,i,o,l,u,c,h,d,p,m,f,g,y,b,w,v,A,x,k="leader-line",C={top:1,right:2,bottom:3,left:4},S={straight:1,arc:2,fluid:3,magnet:4,grid:5},E="behind",I={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},T={behind:E,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},N={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},D=[1,2,3,4],_="auto",O={x:"left",y:"top",width:"width",height:"height"},B=10,z=30,R=.5522847,M=.25*Math.PI,F=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,P="http://www.w3.org/2000/svg",L="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,V=!L&&!!document.uniqueID,W="MozAppearance"in document.documentElement.style,U=!(L||W||!window.chrome||!window.CSS),j=!(L||V||W||U||window.chrome||!("WebkitAppearance"in document.documentElement.style)),G=V||L?.2:.1,q={path:3,lineColor:"coral",lineSize:4,plugSE:[E,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},$=(v={}.toString,A={}.hasOwnProperty.toString,x=A.call(Object),function(e){var t,n;return e&&"[object Object]"===v.call(e)&&(!(t=Object.getPrototypeOf(e))||(n=t.hasOwnProperty("constructor")&&t.constructor)&&"function"==typeof n&&A.call(n)===x)}),H=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},K=(p={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},m=1e3/60/2,f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,m)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},y=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},b=[],w=0,{add:function(e,t,n,r,a,s,i){var o,l,u,c,h,d,f,g,y,v,A,x,k,C=++w;function S(t,n){return{value:e(n),timeRatio:t,outputRatio:n}}if("string"==typeof a&&(a=p[a]),e=e||function(){},n<m)l=[S(0,0),S(1,1)];else{if(u=m/n,l=[S(0,0)],0===a[0]&&0===a[1]&&1===a[2]&&1===a[3])for(h=u;h<=1;h+=u)l.push(S(h,h));else for(d=c=(h=u)/10;d<=1;d+=c)void 0,v=(y=(g=d)*g)*g,k=3*(A=1-g)*y,h<=(f={x:(x=A*A*3*g)*a[0]+k*a[2]+v,y:x*a[1]+k*a[3]+v}).x&&(l.push(S(f.x,f.y)),h+=u);l.push(S(1,1))}return o={animId:C,frameCallback:t,duration:n,count:r,frames:l,reverse:!!s},b.push(o),!1!==i&&ie(o,i),C},remove:function(e){var t;b.some((function(n,r){return n.animId===e&&(t=r,!(n.framesStart=null))}))&&b.splice(t,1)},start:function(e,t,n){b.some((function(r){return r.animId===e&&(r.reverse=!!t,ie(r,n),!0)}))},stop:function(e,t){var n;return b.some((function(r){return r.animId===e&&(t?null!=r.lastFrame&&(n=r.frames[r.lastFrame].timeRatio):(n=(Date.now()-r.framesStart)/r.duration,r.reverse&&(n=1-n),n<0?n=0:1<n&&(n=1)),!(r.framesStart=null))})),n},validTiming:function(e){return"string"==typeof e?p[e]:Array.isArray(e)&&[0,1,2,3].every((function(t){return y(e[t])&&0<=e[t]&&e[t]<=1}))?[e[0],e[1],e[2],e[3]]:null}}),Z=(h={},ae.m=c=[function(e,t,n){n.r(t);var r=[],a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return clearTimeout(e)},i=Date.now(),o=void 0;function l(){var e=void 0,t=void 0;o&&(s.call(window,o),o=null),r.forEach((function(t){var n;(n=t.event)&&(t.event=null,t.listener(n),e=!0)})),e?(i=Date.now(),t=!0):Date.now()-i<500&&(t=!0),t&&(o=a.call(window,l))}function u(e){var t=-1;return r.some((function(n,r){return n.listener===e&&(t=r,!0)})),t}var c={add:function(e){var t=void 0;return-1===u(e)?(r.push(t={listener:e}),function(e){t.event=e,o||l()}):null},remove:function(e){var t;-1<(t=u(e))&&(r.splice(t,1),!r.length&&o&&(s.call(window,o),o=null))}};t.default=c}],ae.c=h,ae.d=function(e,t,n){ae.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},ae.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},ae.t=function(e,t){if(1&t&&(e=ae(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(ae.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)ae.d(n,r,function(t){return e[t]}.bind(null,r));return n},ae.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return ae.d(t,"a",t),t},ae.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ae.p="",ae(ae.s=0).default),X={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:E},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:E},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:E},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},Y={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},Q="fade",J=[],ee={},te=0,ne={},re=0;function ae(e){if(h[e])return h[e].exports;var t=h[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,ae),t.l=!0,t.exports}function se(){var e=Date.now(),t=!1;d&&(g.call(window,d),d=null),b.forEach((function(n){var r,a,s;if(n.framesStart){if((r=e-n.framesStart)>=n.duration&&n.count&&n.loopsLeft<=1)return s=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(s.value,!0,s.timeRatio,s.outputRatio),void(n.framesStart=null);if(r>n.duration){if(a=Math.floor(r/n.duration),n.count){if(a>=n.loopsLeft)return s=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(s.value,!0,s.timeRatio,s.outputRatio),void(n.framesStart=null);n.loopsLeft-=a}n.framesStart+=n.duration*a,r=e-n.framesStart}n.reverse&&(r=n.duration-r),s=n.frames[n.lastFrame=Math.round(r/m)],!1!==n.frameCallback(s.value,!1,s.timeRatio,s.outputRatio)?t=!0:n.framesStart=null}})),t&&(d=f.call(window,se))}function ie(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,se()}function oe(e,t){var n,r;return typeof e!=typeof t||(n=$(e)?"obj":Array.isArray(e)?"array":"")!=($(t)?"obj":Array.isArray(t)?"array":"")||("obj"===n?oe(r=Object.keys(e).sort(),Object.keys(t).sort())||r.some((function(n){return oe(e[n],t[n])})):"array"===n?e.length!==t.length||e.some((function(e,n){return oe(e,t[n])})):e!==t)}function le(e){return e?$(e)?Object.keys(e).reduce((function(t,n){return t[n]=le(e[n]),t}),{}):Array.isArray(e)?e.map(le):e:e}function ue(e){var t,n,r,a=1,s=e=(e+"").trim();function i(e){var t=1,n=F.exec(e);return n&&(t=parseFloat(n[1]),n[2]?t=0<=t&&t<=100?t/100:1:(t<0||1<t)&&(t=1)),t}return(t=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(n=t[1].toLowerCase(),r=t[2].trim().split(/\s*,\s*/),"rgba"===n&&4===r.length?(a=i(r[3]),s="rgb("+r.slice(0,3).join(", ")+")"):"hsla"===n&&4===r.length?(a=i(r[3]),s="hsl("+r.slice(0,3).join(", ")+")"):"hwb"===n&&4===r.length?(a=i(r[3]),s="hwb("+r.slice(0,3).join(", ")+")"):"gray"===n&&2===r.length?(a=i(r[1]),s="gray("+r[0]+")"):"device-cmyk"===n&&5<=r.length&&(a=i(r[4]),s="device-cmyk("+r.slice(0,4).join(", ")+")")):(t=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?s=t[1]?(a=parseInt(t[2],16)/255,"#"+t[1]):(a=parseInt(t[4]+t[4],16)/255,"#"+t[3]):"transparent"===e.toLocaleLowerCase()&&(a=0),[a,s]}function ce(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function he(e,t){var n,r,a,s,i={};if(!(a=e.ownerDocument))return null;if(e.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_DISCONNECTED)return null;for(r in n=e.getBoundingClientRect())i[r]=n[r];if(!t){if(!(s=a.defaultView))return null;i.left+=s.pageXOffset,i.right+=s.pageXOffset,i.top+=s.pageYOffset,i.bottom+=s.pageYOffset}return i}function de(e,t){var n,r,a=[],s=e;for(t=t||window;;){if(!(n=s.ownerDocument))return null;if(!(r=n.defaultView))return null;if(r===t)break;if(!(s=r.frameElement))return null;a.unshift(s)}return a}function pe(e,t){var n,r,a=0,s=0;return(r=de(e,t=t||window))?r.length?(r.forEach((function(e,t){var n,r,i=he(e,0<t);a+=i.left,s+=i.top,r=(n=e).ownerDocument.defaultView.getComputedStyle(n,""),i={left:n.clientLeft+parseFloat(r.paddingLeft),top:n.clientTop+parseFloat(r.paddingTop)},a+=i.left,s+=i.top})),(n=he(e,!0)).left+=a,n.right+=a,n.top+=s,n.bottom+=s,n):he(e):null}function me(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function fe(e,t,n){var r=t.x-e.x,a=t.y-e.y;return{x:e.x+r*n,y:e.y+a*n,angle:Math.atan2(a,r)/(Math.PI/180)}}function ge(e,t,n){var r=Math.atan2(e.y-t.y,t.x-e.x);return{x:t.x+Math.cos(r)*n,y:t.y+Math.sin(r)*n*-1}}function ye(e,t,n,r,a){var s=a*a,i=s*a,o=1-a,l=o*o,u=l*o,c=u*e.x+3*l*a*t.x+3*o*s*n.x+i*r.x,h=u*e.y+3*l*a*t.y+3*o*s*n.y+i*r.y,d=e.x+2*a*(t.x-e.x)+s*(n.x-2*t.x+e.x),p=e.y+2*a*(t.y-e.y)+s*(n.y-2*t.y+e.y),m=t.x+2*a*(n.x-t.x)+s*(r.x-2*n.x+t.x),f=t.y+2*a*(n.y-t.y)+s*(r.y-2*n.y+t.y),g=o*e.x+a*t.x,y=o*e.y+a*t.y,b=o*n.x+a*r.x,w=o*n.y+a*r.y,v=90-180*Math.atan2(d-m,p-f)/Math.PI;return{x:c,y:h,fromP2:{x:d,y:p},toP1:{x:m,y:f},fromP1:{x:g,y},toP2:{x:b,y:w},angle:v+=180<v?-180:180}}function be(e,t,n,r,a){function s(e,t,n,r,a){return e*(e*(-3*t+9*n-9*r+3*a)+6*t-12*n+6*r)-3*t+3*n}var i,o,l,u,c=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,d=(a=null==a||1<a?1:a<0?0:a)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach((function(a,p){o=s(i=d*a+d,e.x,t.x,n.x,r.x),l=s(i,e.y,t.y,n.y,r.y),u=o*o+l*l,h+=c[p]*Math.sqrt(u)})),d*h}function we(e,t,n,r,a){for(var s,i=.5,o=1-i;s=be(e,t,n,r,o),!(Math.abs(s-a)<=.01);)o+=(s<a?1:-1)*(i/=2);return o}function ve(e,t){var n;return e.forEach((function(e){var r=t?e.map((function(e){var n={x:e.x,y:e.y};return t(n),n})):e;(n=n||[{type:"M",values:[r[0].x,r[0].y]}]).push(r.length?2===r.length?{type:"L",values:[r[1].x,r[1].y]}:{type:"C",values:[r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]}:{type:"Z",values:[]})})),n}function Ae(e){var t=[],n=0;return e.forEach((function(e){var r=(2===e.length?me:be).apply(null,e);t.push(r),n+=r})),{segsLen:t,lenAll:n}}function xe(e,t){return null==e||null==t||e.length!==t.length||e.some((function(e,n){var r=t[n];return e.type!==r.type||e.values.some((function(e,t){return e!==r.values[t]}))}))}function ke(e,t,n){e.events[t]?e.events[t].indexOf(n)<0&&e.events[t].push(n):e.events[t]=[n]}function Ce(e,t,n){var r;e.events[t]&&-1<(r=e.events[t].indexOf(n))&&e.events[t].splice(r,1)}function Se(e){i&&clearTimeout(i),J.push(e),i=setTimeout((function(){J.forEach((function(e){e()})),J=[]}),0)}function Ee(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function Ie(e){e.reflowTargets.forEach((function(e){var t;t=e,setTimeout((function(){var e=t.parentNode,n=t.nextSibling;e.insertBefore(e.removeChild(t),n)}),0)})),e.reflowTargets=[]}function Te(e,t,n,r,a,s,i){var l,u,c;"auto-start-reverse"===n?("boolean"!=typeof o&&(t.setAttribute("orient","auto-start-reverse"),o=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),o?t.setAttribute("orient",n):((l=a.createSVGTransform()).setRotate(180,0,0),s.transform.baseVal.appendItem(l),t.setAttribute("orient","auto"),c=!0)):(t.setAttribute("orient",n),!1===o&&s.transform.baseVal.clear()),u=t.viewBox.baseVal,c?(u.x=-r.right,u.y=-r.bottom):(u.x=r.left,u.y=r.top),u.width=r.width,u.height=r.height,V&&Ee(e,i)}function Ne(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function De(e,t){Object.keys(t).forEach((function(n){var r=t[n];e[n]=null!=r.iniValue?r.hasSE?[r.iniValue,r.iniValue]:r.iniValue:r.hasSE?r.hasProps?[{},{}]:[]:r.hasProps?{}:null}))}function _e(e,t,n,r,a){return r!==t[n]&&(t[n]=r,a&&a.forEach((function(t){t(e,r,n)})),!0)}function Oe(e){function t(e,t){return e+parseFloat(t)}var n=e.document,r=e.getComputedStyle(n.documentElement,""),a=e.getComputedStyle(n.body,""),s={x:0,y:0};return"static"!==a.position?(s.x-=[r.marginLeft,r.borderLeftWidth,r.paddingLeft,a.marginLeft,a.borderLeftWidth].reduce(t,0),s.y-=[r.marginTop,r.borderTopWidth,r.paddingTop,a.marginTop,a.borderTopWidth].reduce(t,0)):"static"!==r.position&&(s.x-=[r.marginLeft,r.borderLeftWidth].reduce(t,0),s.y-=[r.marginTop,r.borderTopWidth].reduce(t,0)),s}function Be(e){var t,n=e.document;n.getElementById("leader-line-defs")||(t=(new e.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',"image/svg+xml"),n.body.appendChild(t.documentElement),function(e){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData||function(){function t(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var n={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},r=-1!==e.navigator.userAgent.indexOf("MSIE ");function a(e){if(!e||0===e.length)return[];var n=new t(e),r=[];if(n.initialCommandIsMoveTo())for(;n.hasMoreData();){var a=n.parseSegment();if(null===a)break;r.push(a)}return r}function s(e){return e.map((function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}}))}function i(e){var t=[],n=null,r=null,a=null,s=null,i=null,o=null,l=null;return e.forEach((function(e){var u,c,d,p,m,f,g,y,b,w,v,A,x,k,C;"M"===e.type?(k=e.values[0],C=e.values[1],t.push({type:"M",values:[k,C]}),s=o=k,i=l=C):"C"===e.type?(d=e.values[0],p=e.values[1],u=e.values[2],c=e.values[3],k=e.values[4],C=e.values[5],t.push({type:"C",values:[d,p,u,c,k,C]}),r=u,a=c,s=k,i=C):"L"===e.type?(k=e.values[0],C=e.values[1],t.push({type:"L",values:[k,C]}),s=k,i=C):"H"===e.type?(k=e.values[0],t.push({type:"L",values:[k,i]}),s=k):"V"===e.type?(C=e.values[0],t.push({type:"L",values:[s,C]}),i=C):"S"===e.type?(u=e.values[0],c=e.values[1],k=e.values[2],C=e.values[3],f="C"===n||"S"===n?(m=s+(s-r),i+(i-a)):(m=s,i),t.push({type:"C",values:[m,f,u,c,k,C]}),r=u,a=c,s=k,i=C):"T"===e.type?(k=e.values[0],C=e.values[1],p="Q"===n||"T"===n?(d=s+(s-r),i+(i-a)):(d=s,i),m=s+2*(d-s)/3,f=i+2*(p-i)/3,g=k+2*(d-k)/3,y=C+2*(p-C)/3,t.push({type:"C",values:[m,f,g,y,k,C]}),r=d,a=p,s=k,i=C):"Q"===e.type?(d=e.values[0],p=e.values[1],k=e.values[2],C=e.values[3],m=s+2*(d-s)/3,f=i+2*(p-i)/3,g=k+2*(d-k)/3,y=C+2*(p-C)/3,t.push({type:"C",values:[m,f,g,y,k,C]}),r=d,a=p,s=k,i=C):"A"===e.type?(b=e.values[0],w=e.values[1],v=e.values[2],A=e.values[3],x=e.values[4],k=e.values[5],C=e.values[6],0===b||0===w?(t.push({type:"C",values:[s,i,k,C,k,C]}),s=k,i=C):s===k&&i===C||h(s,i,k,C,b,w,v,A,x).forEach((function(e){t.push({type:"C",values:e}),s=k,i=C}))):"Z"===e.type&&(t.push(e),s=o,i=l),n=e.type})),t}t.prototype={parseSegment:function(){var e=this._string[this._currentIndex],t=n[e]?n[e]:null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||"0"<=e&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var r=null,a=(this._prevCommand=t).toUpperCase();return"H"===a||"V"===a?r=[this._parseNumber()]:"M"===a||"L"===a||"T"===a?r=[this._parseNumber(),this._parseNumber()]:"S"===a||"Q"===a?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===a?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===a?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===a&&(this._skipOptionalSpaces(),r=[]),null===r||0<=r.indexOf(null)?null:{type:t,values:r}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return n[e]?n[e]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,n=1,r=0,a=1,s=1,i=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,a=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var o=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==o)for(var l=this._currentIndex-1,u=1;o<=l;)t+=u*(this._string[l]-"0"),--l,u*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)n*=10,r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==i&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,s=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var c=t+r;return c*=a,e&&(c*=Math.pow(10,s*e)),i===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),c)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};var o=e.SVGPathElement.prototype.setAttribute,l=e.SVGPathElement.prototype.removeAttribute,u=e.Symbol?e.Symbol():"__cachedPathData",c=e.Symbol?e.Symbol():"__cachedNormalizedPathData",h=function(e,t,n,r,a,s,i,o,l,u){function c(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}var d,p,m,f,g,y,b,w,v,A,x,k,C,S,E,I=(d=i,Math.PI*d/180),T=[];u?(S=u[0],E=u[1],k=u[2],C=u[3]):(e=(p=c(e,t,-I)).x,t=p.y,1<(y=(f=(e-(n=(m=c(n,r,-I)).x))/2)*f/(a*a)+(g=(t-(r=m.y))/2)*g/(s*s))&&(a*=y=Math.sqrt(y),s*=y),v=(b=a*a)*(w=s*s)-b*g*g-w*f*f,A=b*g*g+w*f*f,k=(x=(o===l?-1:1)*Math.sqrt(Math.abs(v/A)))*a*g/s+(e+n)/2,C=x*-s*f/a+(t+r)/2,S=Math.asin(parseFloat(((t-C)/s).toFixed(9))),E=Math.asin(parseFloat(((r-C)/s).toFixed(9))),e<k&&(S=Math.PI-S),n<k&&(E=Math.PI-E),S<0&&(S=2*Math.PI+S),E<0&&(E=2*Math.PI+E),l&&E<S&&(S-=2*Math.PI),!l&&S<E&&(E-=2*Math.PI));var N,D,_,O=E-S;Math.abs(O)>120*Math.PI/180&&(N=E,D=n,_=r,E=l&&S<E?S+120*Math.PI/180*1:S+120*Math.PI/180*-1,n=k+a*Math.cos(E),r=C+s*Math.sin(E),T=h(n,r,D,_,a,s,i,0,l,[E,N,k,C])),O=E-S;var B=Math.cos(S),z=Math.sin(S),R=Math.cos(E),M=Math.sin(E),F=Math.tan(O/4),P=4/3*a*F,L=4/3*s*F,V=[e,t],W=[e+P*z,t-L*B],U=[n+P*M,r-L*R],j=[n,r];if(W[0]=2*V[0]-W[0],W[1]=2*V[1]-W[1],u)return[W,U,j].concat(T);T=[W,U,j].concat(T).join().split(",");var G=[],q=[];return T.forEach((function(e,t){t%2?q.push(c(T[t-1],T[t],I).y):q.push(c(T[t],T[t+1],I).x),6===q.length&&(G.push(q),q=[])})),G};e.SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[u]=null,this[c]=null),o.call(this,e,t)},e.SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[u]=null,this[c]=null),l.call(this,e)},e.SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize){if(this[c])return s(this[c]);this[u]?d=s(this[u]):(d=a(this.getAttribute("d")||""),this[u]=s(d));var t=i((n=[],h=l=o=r=null,d.forEach((function(e){var t,a,s,i,u,c,d=e.type;"M"===d?(u=e.values[0],c=e.values[1],n.push({type:"M",values:[u,c]}),r=l=u,o=h=c):"m"===d?(u=r+e.values[0],c=o+e.values[1],n.push({type:"M",values:[u,c]}),r=l=u,o=h=c):"L"===d?(u=e.values[0],c=e.values[1],n.push({type:"L",values:[u,c]}),r=u,o=c):"l"===d?(u=r+e.values[0],c=o+e.values[1],n.push({type:"L",values:[u,c]}),r=u,o=c):"C"===d?(t=e.values[0],a=e.values[1],s=e.values[2],i=e.values[3],u=e.values[4],c=e.values[5],n.push({type:"C",values:[t,a,s,i,u,c]}),r=u,o=c):"c"===d?(t=r+e.values[0],a=o+e.values[1],s=r+e.values[2],i=o+e.values[3],u=r+e.values[4],c=o+e.values[5],n.push({type:"C",values:[t,a,s,i,u,c]}),r=u,o=c):"Q"===d?(t=e.values[0],a=e.values[1],u=e.values[2],c=e.values[3],n.push({type:"Q",values:[t,a,u,c]}),r=u,o=c):"q"===d?(t=r+e.values[0],a=o+e.values[1],u=r+e.values[2],c=o+e.values[3],n.push({type:"Q",values:[t,a,u,c]}),r=u,o=c):"A"===d?(u=e.values[5],c=e.values[6],n.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],u,c]}),r=u,o=c):"a"===d?(u=r+e.values[5],c=o+e.values[6],n.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],u,c]}),r=u,o=c):"H"===d?(u=e.values[0],n.push({type:"H",values:[u]}),r=u):"h"===d?(u=r+e.values[0],n.push({type:"H",values:[u]}),r=u):"V"===d?(c=e.values[0],n.push({type:"V",values:[c]}),o=c):"v"===d?(c=o+e.values[0],n.push({type:"V",values:[c]}),o=c):"S"===d?(s=e.values[0],i=e.values[1],u=e.values[2],c=e.values[3],n.push({type:"S",values:[s,i,u,c]}),r=u,o=c):"s"===d?(s=r+e.values[0],i=o+e.values[1],u=r+e.values[2],c=o+e.values[3],n.push({type:"S",values:[s,i,u,c]}),r=u,o=c):"T"===d?(u=e.values[0],c=e.values[1],n.push({type:"T",values:[u,c]}),r=u,o=c):"t"===d?(u=r+e.values[0],c=o+e.values[1],n.push({type:"T",values:[u,c]}),r=u,o=c):"Z"!==d&&"z"!==d||(n.push({type:"Z",values:[]}),r=l,o=h)})),n));return this[c]=s(t),t}if(this[u])return s(this[u]);var n,r,o,l,h,d=a(this.getAttribute("d")||"");return this[u]=s(d),d},e.SVGPathElement.prototype.setPathData=function(e){if(0===e.length)r?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",n=0,a=e.length;n<a;n+=1){var s=e[n];0<n&&(t+=" "),t+=s.type,s.values&&0<s.values.length&&(t+=" "+s.values.join(" "))}this.setAttribute("d",t)}},e.SVGRectElement.prototype.getPathData=function(e){var t=this.x.baseVal.value,n=this.y.baseVal.value,r=this.width.baseVal.value,a=this.height.baseVal.value,s=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,o=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;r/2<s&&(s=r/2),a/2<o&&(o=a/2);var l=(l=[{type:"M",values:[t+s,n]},{type:"H",values:[t+r-s]},{type:"A",values:[s,o,0,0,1,t+r,n+o]},{type:"V",values:[n+a-o]},{type:"A",values:[s,o,0,0,1,t+r-s,n+a]},{type:"H",values:[t+s]},{type:"A",values:[s,o,0,0,1,t,n+a-o]},{type:"V",values:[n+o]},{type:"A",values:[s,o,0,0,1,t+s,n]},{type:"Z",values:[]}]).filter((function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]}));return e&&!0===e.normalize&&(l=i(l)),l},e.SVGCircleElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,r=this.r.baseVal.value,a=[{type:"M",values:[t+r,n]},{type:"A",values:[r,r,0,0,1,t,n+r]},{type:"A",values:[r,r,0,0,1,t-r,n]},{type:"A",values:[r,r,0,0,1,t,n-r]},{type:"A",values:[r,r,0,0,1,t+r,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(a=i(a)),a},e.SVGEllipseElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,r=this.rx.baseVal.value,a=this.ry.baseVal.value,s=[{type:"M",values:[t+r,n]},{type:"A",values:[r,a,0,0,1,t,n+a]},{type:"A",values:[r,a,0,0,1,t-r,n]},{type:"A",values:[r,a,0,0,1,t,n-a]},{type:"A",values:[r,a,0,0,1,t+r,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(s=i(s)),s},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e},e.SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e.push({type:"Z",values:[]}),e}}()}(e))}function ze(e){var t,n,r,a,s,i,o,l,u,c,h,d,p,m,f,g,y,b,w,v=e.options,A=e.curStats,x=e.aplStats,k=A.position_socketXYSE,C=!1;function S(e,t){var n=1===t?{x:e.left+e.width/2,y:e.top}:2===t?{x:e.right,y:e.top+e.height/2}:3===t?{x:e.left+e.width/2,y:e.bottom}:{x:e.left,y:e.top+e.height/2};return n.socketId=t,n}function E(e){return{x:e.x,y:e.y}}if(A.position_path=v.path,A.position_lineStrokeWidth=A.line_strokeWidth,A.position_socketGravitySE=t=le(v.socketGravitySE),n=[0,1].map((function(t){var n,r,a,s=v.anchorSE[t],i=e.optionIsAttach.anchorSE[t],o=!1!==i?ne[s._id]:null,l=!1!==i&&o.conf.getStrokeWidth?o.conf.getStrokeWidth(o,e):0,u=!1!==i&&o.conf.getBBoxNest?o.conf.getBBoxNest(o,e,l):pe(s,e.baseWindow);return A.capsMaskAnchor_pathDataSE[t]=!1!==i&&o.conf.getPathData?o.conf.getPathData(o,e,l):(r=null!=(n=u).right?n.right:n.left+n.width,a=null!=n.bottom?n.bottom:n.top+n.height,[{type:"M",values:[n.left,n.top]},{type:"L",values:[r,n.top]},{type:"L",values:[r,a]},{type:"L",values:[n.left,a]},{type:"Z",values:[]}]),A.capsMaskAnchor_strokeWidthSE[t]=l,u})),o=-1,v.socketSE[0]&&v.socketSE[1]?(k[0]=S(n[0],v.socketSE[0]),k[1]=S(n[1],v.socketSE[1])):(v.socketSE[0]||v.socketSE[1]?(i=v.socketSE[0]?(s=0,1):(s=1,0),k[s]=S(n[s],v.socketSE[s]),(a=D.map((function(e){return S(n[i],e)}))).forEach((function(e){var t=me(e,k[s]);(t<o||-1===o)&&(k[i]=e,o=t)}))):(a=D.map((function(e){return S(n[1],e)})),D.map((function(e){return S(n[0],e)})).forEach((function(e){a.forEach((function(t){var n=me(e,t);(n<o||-1===o)&&(k[0]=e,k[1]=t,o=n)}))}))),[0,1].forEach((function(e){var t,r;v.socketSE[e]||(n[e].width||n[e].height?n[e].width||4!==k[e].socketId&&2!==k[e].socketId?n[e].height||1!==k[e].socketId&&3!==k[e].socketId||(k[e].socketId=0<=k[e?0:1].y-n[e].top?3:1):k[e].socketId=0<=k[e?0:1].x-n[e].left?2:4:(t=k[e?0:1].x-n[e].left,r=k[e?0:1].y-n[e].top,k[e].socketId=Math.abs(t)>=Math.abs(r)?0<=t?2:4:0<=r?3:1))}))),A.position_path!==x.position_path||A.position_lineStrokeWidth!==x.position_lineStrokeWidth||[0,1].some((function(e){return A.position_plugOverheadSE[e]!==x.position_plugOverheadSE[e]||(s=k[e],i=x.position_socketXYSE[e],s.x!==i.x||s.y!==i.y||s.socketId!==i.socketId)||(n=t[e],r=x.position_socketGravitySE[e],(a=null==n?"auto":Array.isArray(n)?"array":"number")!=(null==r?"auto":Array.isArray(r)?"array":"number")||("array"==a?n[0]!==r[0]||n[1]!==r[1]:n!==r));var n,r,a,s,i}))){switch(e.pathList.baseVal=r=[],e.pathList.animVal=null,A.position_path){case 1:r.push([E(k[0]),E(k[1])]);break;case 2:d="number"==typeof t[0]&&0<t[0]||"number"==typeof t[1]&&0<t[1],f=(p=M*(d?-1:1))-(m=Math.atan2(k[1].y-k[0].y,k[1].x-k[0].x)),g=Math.PI-m-p,y=me(k[0],k[1])/Math.sqrt(2)*R,b={x:k[0].x+Math.cos(f)*y,y:k[0].y+Math.sin(f)*y*-1},w={x:k[1].x+Math.cos(g)*y,y:k[1].y+Math.sin(g)*y*-1},r.push([E(k[0]),b,w,E(k[1])]);break;case 3:case 4:u=[t[0],4===A.position_path?0:t[1]],c=[],h=[],k.forEach((function(e,t){var n,r,a,s,i=u[t],o=Array.isArray(i)?{x:i[0],y:i[1]}:"number"==typeof i?1===e.socketId?{x:0,y:-i}:2===e.socketId?{x:i,y:0}:3===e.socketId?{x:0,y:i}:{x:-i,y:0}:(n=k[t?0:1],a=0<(r=A.position_plugOverheadSE[t])?120+(8<r?3.75*(r-8):0):80+(A.position_lineStrokeWidth>4?5*(A.position_lineStrokeWidth-4):0),1===e.socketId?((s=(e.y-n.y)/2)<a&&(s=a),{x:0,y:-s}):2===e.socketId?((s=(n.x-e.x)/2)<a&&(s=a),{x:s,y:0}):3===e.socketId?((s=(n.y-e.y)/2)<a&&(s=a),{x:0,y:s}):((s=(e.x-n.x)/2)<a&&(s=a),{x:-s,y:0}));c[t]=e.x+o.x,h[t]=e.y+o.y})),r.push([E(k[0]),{x:c[0],y:h[0]},{x:c[1],y:h[1]},E(k[1])]);break;case 5:!function(){var e,n=[[],[]],a=[];function s(e){return 1===e?3:2===e?4:3===e?1:2}function i(e){return 2===e||4===e?"x":"y"}function o(e,t,n){var r={x:e.x,y:e.y};if(n){if(n===s(e.dirId))throw new Error("Invalid dirId: "+n);r.dirId=n}else r.dirId=e.dirId;return 1===r.dirId?r.y-=t:2===r.dirId?r.x+=t:3===r.dirId?r.y+=t:r.x-=t,r}function l(e,t){return 1===t.dirId?e.y<=t.y:2===t.dirId?e.x>=t.x:3===t.dirId?e.y>=t.y:e.x<=t.x}function u(e,t){return 1===t.dirId||3===t.dirId?e.x===t.x:e.y===t.y}function c(e){return e[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function h(e,t,n){return Math.abs(t[n]-e[n])}function d(e,t,n){return"x"===n?e.x<t.x?2:4:e.y<t.y?3:1}for(k.forEach((function(e,r){var i,l=E(e),u=t[r];i=Array.isArray(u)?u[0]<0?[4,-u[0]]:0<u[0]?[2,u[0]]:u[1]<0?[1,-u[1]]:0<u[1]?[3,u[1]]:[e.socketId,0]:"number"!=typeof u?[e.socketId,z]:0<=u?[e.socketId,u]:[s(e.socketId),-u],l.dirId=i[0],u=i[1],n[r].push(l),a[r]=o(l,u)}));function(){var e,t,r,s,p=[l(a[1],a[0]),l(a[0],a[1])],m=[i(a[0].dirId),i(a[1].dirId)];if(m[0]===m[1]){if(p[0]&&p[1])return void(u(a[1],a[0])||(a[0][m[0]]===a[1][m[1]]?(n[0].push(a[0]),n[1].push(a[1])):(e=a[0][m[0]]+(a[1][m[1]]-a[0][m[0]])/2,n[0].push(o(a[0],Math.abs(e-a[0][m[0]]))),n[1].push(o(a[1],Math.abs(e-a[1][m[1]]))))));p[0]!==p[1]?(t=c(p),(r=h(a[t.notContain],a[t.contain],m[t.notContain]))<z&&(a[t.notContain]=o(a[t.notContain],z-r)),n[t.notContain].push(a[t.notContain]),a[t.notContain]=o(a[t.notContain],z,u(a[t.contain],a[t.notContain])?"x"===m[t.notContain]?3:2:d(a[t.notContain],a[t.contain],"x"===m[t.notContain]?"y":"x"))):(r=h(a[0],a[1],"x"===m[0]?"y":"x"),n.forEach((function(e,t){var n=0===t?1:0;e.push(a[t]),a[t]=o(a[t],z,60<=r?d(a[t],a[n],"x"===m[t]?"y":"x"):"x"===m[t]?3:2)})))}else{if(p[0]&&p[1])return void(u(a[1],a[0])?n[1].push(a[1]):u(a[0],a[1])?n[0].push(a[0]):n[0].push("x"===m[0]?{x:a[1].x,y:a[0].y}:{x:a[0].x,y:a[1].y}));p[0]!==p[1]?(t=c(p),n[t.notContain].push(a[t.notContain]),a[t.notContain]=o(a[t.notContain],z,h(a[t.notContain],a[t.contain],m[t.contain])>=z?d(a[t.notContain],a[t.contain],m[t.contain]):a[t.contain].dirId)):(s=[{x:a[0].x,y:a[0].y},{x:a[1].x,y:a[1].y}],n.forEach((function(e,t){var n=0===t?1:0,r=h(s[t],s[n],m[t]);r<z&&(a[t]=o(a[t],z-r)),e.push(a[t]),a[t]=o(a[t],z,d(a[t],a[n],m[n]))})))}return 1}(););n[1].reverse(),n[0].concat(n[1]).forEach((function(t,n){var a={x:t.x,y:t.y};0<n&&r.push([e,a]),e=a}))}()}l=[],A.position_plugOverheadSE.forEach((function(e,t){var a,s,i,o,u,c,h,d,p,m,f,g=!t;0<e?2===(a=r[s=g?0:r.length-1]).length?(l[s]=l[s]||me.apply(null,a),l[s]>B&&(l[s]-e<B&&(e=l[s]-B),i=fe(a[0],a[1],(g?e:l[s]-e)/l[s]),r[s]=g?[i,a[1]]:[a[0],i],l[s]-=e)):(l[s]=l[s]||be.apply(null,a),l[s]>B&&(l[s]-e<B&&(e=l[s]-B),i=ye(a[0],a[1],a[2],a[3],we(a[0],a[1],a[2],a[3],g?e:l[s]-e)),u=g?(o=a[0],i.toP1):(o=a[3],i.fromP2),c=Math.atan2(o.y-i.y,i.x-o.x),h=me(i,u),i.x=o.x+Math.cos(c)*e,i.y=o.y+Math.sin(c)*e*-1,u.x=i.x+Math.cos(c)*h,u.y=i.y+Math.sin(c)*h*-1,r[s]=g?[i,i.toP1,i.toP2,a[3]]:[a[0],i.fromP1,i.fromP2,i],l[s]=null)):e<0&&(a=r[s=g?0:r.length-1],d=k[t].socketId,p=4===d||2===d?"x":"y",e<(f=-n[t]["x"==p?"width":"height"])&&(e=f),m=e*(4===d||1===d?-1:1),2===a.length?a[g?0:a.length-1][p]+=m:(g?[0,1]:[a.length-2,a.length-1]).forEach((function(e){a[e][p]+=m})),l[s]=null)})),x.position_socketXYSE=le(k),x.position_plugOverheadSE=le(A.position_plugOverheadSE),x.position_path=A.position_path,x.position_lineStrokeWidth=A.position_lineStrokeWidth,x.position_socketGravitySE=le(t),C=!0,e.events.apl_position&&e.events.apl_position.forEach((function(t){t(e,r)}))}return C}function Re(e,t){t!==e.isShown&&(!!t!=!!e.isShown&&(e.svg.style.visibility=t?"":"hidden"),e.isShown=t,e.events&&e.events.svgShow&&e.events.svgShow.forEach((function(n){n(e,t)})))}function Me(t,n){var r,a,s,i,o,l,u,c,h,d,p,m,f,g,y,b,w,v,A,x,k,C,S,T,D,_,B,z,R,M,F,P,L,$,H,K,Z,X,Y,Q,J,ee,te,ne,re,ae,se,ie,ce,he,de,pe,me={};n.line&&(me.line=(a=(r=t).options,s=r.curStats,i=r.events,o=!1,o=_e(r,s,"line_color",a.lineColor,i.cur_line_color)||o,o=_e(r,s,"line_colorTra",ue(s.line_color)[0]<1)||o,o=_e(r,s,"line_strokeWidth",a.lineSize,i.cur_line_strokeWidth)||o)),(n.plug||me.line)&&(me.plug=(u=(l=t).options,c=l.curStats,h=l.events,d=!1,[0,1].forEach((function(e){var t,n,r,a,s,i,o,p,m=u.plugSE[e];d=_e(l,c.plug_enabledSE,e,m!==E)||d,d=_e(l,c.plug_plugSE,e,m)||d,d=_e(l,c.plug_colorSE,e,p=u.plugColorSE[e]||c.line_color,h.cur_plug_colorSE)||d,d=_e(l,c.plug_colorTraSE,e,ue(p)[0]<1)||d,m!==E&&(a=n=(t=I[N[m]]).widthR*u.plugSizeSE[e],s=r=t.heightR*u.plugSizeSE[e],j&&(a*=c.line_strokeWidth,s*=c.line_strokeWidth),d=_e(l,c.plug_markerWidthSE,e,a)||d,d=_e(l,c.plug_markerHeightSE,e,s)||d,c.capsMaskMarker_markerWidthSE[e]=n,c.capsMaskMarker_markerHeightSE[e]=r),c.plugOutline_plugSE[e]=c.capsMaskMarker_plugSE[e]=m,c.plug_enabledSE[e]?(p=c.line_strokeWidth/q.lineSize*u.plugSizeSE[e],c.position_plugOverheadSE[e]=t.overhead*p,c.viewBox_plugBCircleSE[e]=t.bCircle*p,i=t.sideLen*p,o=t.backLen*p):(c.position_plugOverheadSE[e]=-c.line_strokeWidth/2,c.viewBox_plugBCircleSE[e]=i=o=0),_e(l,c.attach_plugSideLenSE,e,i,h.cur_attach_plugSideLenSE),_e(l,c.attach_plugBackLenSE,e,o,h.cur_attach_plugBackLenSE),c.capsMaskAnchor_enabledSE[e]=!c.plug_enabledSE[e]})),d=_e(l,c,"plug_enabled",c.plug_enabledSE[0]||c.plug_enabledSE[1])||d)),(n.lineOutline||me.line)&&(me.lineOutline=(f=(p=t).options,y=!1,y=_e(p,g=p.curStats,"lineOutline_enabled",f.lineOutlineEnabled)||y,y=_e(p,g,"lineOutline_color",f.lineOutlineColor)||y,y=_e(p,g,"lineOutline_colorTra",ue(g.lineOutline_color)[0]<1)||y,m=g.line_strokeWidth*f.lineOutlineSize,y=_e(p,g,"lineOutline_strokeWidth",g.line_strokeWidth-2*m)||y,y=_e(p,g,"lineOutline_inStrokeWidth",g.lineOutline_colorTra?g.lineOutline_strokeWidth+2*G:g.line_strokeWidth-m)||y)),(n.plugOutline||me.line||me.plug||me.lineOutline)&&(me.plugOutline=(w=(b=t).options,v=b.curStats,A=!1,[0,1].forEach((function(e){var t,n=v.plugOutline_plugSE[e],r=n!==E?I[N[n]]:null;A=_e(b,v.plugOutline_enabledSE,e,w.plugOutlineEnabledSE[e]&&v.plug_enabled&&v.plug_enabledSE[e]&&!!r&&!!r.outlineBase)||A,A=_e(b,v.plugOutline_colorSE,e,t=w.plugOutlineColorSE[e]||v.lineOutline_color)||A,A=_e(b,v.plugOutline_colorTraSE,e,ue(t)[0]<1)||A,r&&r.outlineBase&&((t=w.plugOutlineSizeSE[e])>r.outlineMax&&(t=r.outlineMax),t*=2*r.outlineBase,A=_e(b,v.plugOutline_strokeWidthSE,e,t)||A,A=_e(b,v.plugOutline_inStrokeWidthSE,e,v.plugOutline_colorTraSE[e]?t-G/(v.line_strokeWidth/q.lineSize)/w.plugSizeSE[e]*2:t/2)||A)})),A)),(n.faces||me.line||me.plug||me.lineOutline||me.plugOutline)&&(me.faces=(C=(x=t).curStats,S=x.aplStats,T=x.events,D=!1,!C.line_altColor&&_e(x,S,"line_color",k=C.line_color,T.apl_line_color)&&(x.lineFace.style.stroke=k,D=!0),_e(x,S,"line_strokeWidth",k=C.line_strokeWidth,T.apl_line_strokeWidth)&&(x.lineShape.style.strokeWidth=k+"px",D=!0,(W||V)&&(Ee(x,x.lineShape),V&&(Ee(x,x.lineFace),Ee(x,x.lineMaskCaps)))),_e(x,S,"lineOutline_enabled",k=C.lineOutline_enabled,T.apl_lineOutline_enabled)&&(x.lineOutlineFace.style.display=k?"inline":"none",D=!0),C.lineOutline_enabled&&(_e(x,S,"lineOutline_color",k=C.lineOutline_color,T.apl_lineOutline_color)&&(x.lineOutlineFace.style.stroke=k,D=!0),_e(x,S,"lineOutline_strokeWidth",k=C.lineOutline_strokeWidth,T.apl_lineOutline_strokeWidth)&&(x.lineOutlineMaskShape.style.strokeWidth=k+"px",D=!0,V&&(Ee(x,x.lineOutlineMaskCaps),Ee(x,x.lineOutlineFace))),_e(x,S,"lineOutline_inStrokeWidth",k=C.lineOutline_inStrokeWidth,T.apl_lineOutline_inStrokeWidth)&&(x.lineMaskShape.style.strokeWidth=k+"px",D=!0,V&&(Ee(x,x.lineOutlineMaskCaps),Ee(x,x.lineOutlineFace)))),_e(x,S,"plug_enabled",k=C.plug_enabled,T.apl_plug_enabled)&&(x.plugsFace.style.display=k?"inline":"none",D=!0),C.plug_enabled&&[0,1].forEach((function(e){var t=C.plug_plugSE[e],n=t!==E?I[N[t]]:null,r=Ne(e,n);_e(x,S.plug_enabledSE,e,k=C.plug_enabledSE[e],T.apl_plug_enabledSE)&&(x.plugsFace.style[r.prop]=k?"url(#"+x.plugMarkerIdSE[e]+")":"none",D=!0),C.plug_enabledSE[e]&&(_e(x,S.plug_plugSE,e,t,T.apl_plug_plugSE)&&(x.plugFaceSE[e].href.baseVal="#"+n.elmId,Te(x,x.plugMarkerSE[e],r.orient,n.bBox,x.svg,x.plugMarkerShapeSE[e],x.plugsFace),D=!0,W&&Ee(x,x.plugsFace)),_e(x,S.plug_colorSE,e,k=C.plug_colorSE[e],T.apl_plug_colorSE)&&(x.plugFaceSE[e].style.fill=k,D=!0,(U||j||V)&&!C.line_colorTra&&Ee(x,V?x.lineMaskCaps:x.capsMaskLine)),["markerWidth","markerHeight"].forEach((function(t){var n="plug_"+t+"SE";_e(x,S[n],e,k=C[n][e],T["apl_"+n])&&(x.plugMarkerSE[e][t].baseVal.value=k,D=!0)})),_e(x,S.plugOutline_enabledSE,e,k=C.plugOutline_enabledSE[e],T.apl_plugOutline_enabledSE)&&(k?(x.plugFaceSE[e].style.mask="url(#"+x.plugMaskIdSE[e]+")",x.plugOutlineFaceSE[e].style.display="inline"):(x.plugFaceSE[e].style.mask="none",x.plugOutlineFaceSE[e].style.display="none"),D=!0),C.plugOutline_enabledSE[e]&&(_e(x,S.plugOutline_plugSE,e,t,T.apl_plugOutline_plugSE)&&(x.plugOutlineFaceSE[e].href.baseVal=x.plugMaskShapeSE[e].href.baseVal=x.plugOutlineMaskShapeSE[e].href.baseVal="#"+n.elmId,[x.plugMaskSE[e],x.plugOutlineMaskSE[e]].forEach((function(e){e.x.baseVal.value=n.bBox.left,e.y.baseVal.value=n.bBox.top,e.width.baseVal.value=n.bBox.width,e.height.baseVal.value=n.bBox.height})),D=!0),_e(x,S.plugOutline_colorSE,e,k=C.plugOutline_colorSE[e],T.apl_plugOutline_colorSE)&&(x.plugOutlineFaceSE[e].style.fill=k,D=!0,V&&(Ee(x,x.lineMaskCaps),Ee(x,x.lineOutlineMaskCaps))),_e(x,S.plugOutline_strokeWidthSE,e,k=C.plugOutline_strokeWidthSE[e],T.apl_plugOutline_strokeWidthSE)&&(x.plugOutlineMaskShapeSE[e].style.strokeWidth=k+"px",D=!0),_e(x,S.plugOutline_inStrokeWidthSE,e,k=C.plugOutline_inStrokeWidthSE[e],T.apl_plugOutline_inStrokeWidthSE)&&(x.plugMaskShapeSE[e].style.strokeWidth=k+"px",D=!0)))})),D)),(n.position||me.line||me.plug)&&(me.position=ze(t)),(n.path||me.position)&&(me.path=(z=(_=t).curStats,R=_.aplStats,M=_.pathList.animVal||_.pathList.baseVal,F=z.path_edge,P=!1,M&&(F.x1=F.x2=M[0][0].x,F.y1=F.y2=M[0][0].y,z.path_pathData=B=ve(M,(function(e){e.x<F.x1&&(F.x1=e.x),e.y<F.y1&&(F.y1=e.y),e.x>F.x2&&(F.x2=e.x),e.y>F.y2&&(F.y2=e.y)})),xe(B,R.path_pathData)&&(_.linePath.setPathData(B),R.path_pathData=B,P=!0,V?(Ee(_,_.plugsFace),Ee(_,_.lineMaskCaps)):W&&Ee(_,_.linePath),_.events.apl_path&&_.events.apl_path.forEach((function(e){e(_,B)})))),P)),me.viewBox=($=(L=t).curStats,H=L.aplStats,K=$.path_edge,Z=$.viewBox_bBox,X=H.viewBox_bBox,Y=L.svg.viewBox.baseVal,Q=L.svg.style,J=!1,ee=Math.max($.line_strokeWidth/2,$.viewBox_plugBCircleSE[0]||0,$.viewBox_plugBCircleSE[1]||0),te={x1:K.x1-ee,y1:K.y1-ee,x2:K.x2+ee,y2:K.y2+ee},L.events.new_edge4viewBox&&L.events.new_edge4viewBox.forEach((function(e){e(L,te)})),Z.x=$.lineMask_x=$.lineOutlineMask_x=$.maskBGRect_x=te.x1,Z.y=$.lineMask_y=$.lineOutlineMask_y=$.maskBGRect_y=te.y1,Z.width=te.x2-te.x1,Z.height=te.y2-te.y1,["x","y","width","height"].forEach((function(e){var t;(t=Z[e])!==X[e]&&(Y[e]=X[e]=t,Q[O[e]]=t+("x"===e||"y"===e?L.bodyOffset[e]:0)+"px",J=!0)})),J),me.mask=(ae=(ne=t).curStats,se=ne.aplStats,ie=!1,ae.plug_enabled?[0,1].forEach((function(e){ae.capsMaskMarker_enabledSE[e]=ae.plug_enabledSE[e]&&ae.plug_colorTraSE[e]||ae.plugOutline_enabledSE[e]&&ae.plugOutline_colorTraSE[e]})):ae.capsMaskMarker_enabledSE[0]=ae.capsMaskMarker_enabledSE[1]=!1,ae.capsMaskMarker_enabled=ae.capsMaskMarker_enabledSE[0]||ae.capsMaskMarker_enabledSE[1],ae.lineMask_outlineMode=ae.lineOutline_enabled,ae.caps_enabled=ae.capsMaskMarker_enabled||ae.capsMaskAnchor_enabledSE[0]||ae.capsMaskAnchor_enabledSE[1],ae.lineMask_enabled=ae.caps_enabled||ae.lineMask_outlineMode,(ae.lineMask_enabled&&!ae.lineMask_outlineMode||ae.lineOutline_enabled)&&["x","y"].forEach((function(e){var t="maskBGRect_"+e;_e(ne,se,t,re=ae[t])&&(ne.maskBGRect[e].baseVal.value=re,ie=!0)})),_e(ne,se,"lineMask_enabled",re=ae.lineMask_enabled)&&(ne.lineFace.style.mask=re?"url(#"+ne.lineMaskId+")":"none",ie=!0,j&&Ee(ne,ne.lineMask)),ae.lineMask_enabled&&(_e(ne,se,"lineMask_outlineMode",re=ae.lineMask_outlineMode)&&(re?(ne.lineMaskBG.style.display="none",ne.lineMaskShape.style.display="inline"):(ne.lineMaskBG.style.display="inline",ne.lineMaskShape.style.display="none"),ie=!0),["x","y"].forEach((function(e){var t="lineMask_"+e;_e(ne,se,t,re=ae[t])&&(ne.lineMask[e].baseVal.value=re,ie=!0)})),_e(ne,se,"caps_enabled",re=ae.caps_enabled)&&(ne.lineMaskCaps.style.display=ne.lineOutlineMaskCaps.style.display=re?"inline":"none",ie=!0,j&&Ee(ne,ne.capsMaskLine)),ae.caps_enabled&&([0,1].forEach((function(e){var t;_e(ne,se.capsMaskAnchor_enabledSE,e,re=ae.capsMaskAnchor_enabledSE[e])&&(ne.capsMaskAnchorSE[e].style.display=re?"inline":"none",ie=!0,j&&Ee(ne,ne.lineMask)),ae.capsMaskAnchor_enabledSE[e]&&(xe(t=ae.capsMaskAnchor_pathDataSE[e],se.capsMaskAnchor_pathDataSE[e])&&(ne.capsMaskAnchorSE[e].setPathData(t),se.capsMaskAnchor_pathDataSE[e]=t,ie=!0),_e(ne,se.capsMaskAnchor_strokeWidthSE,e,re=ae.capsMaskAnchor_strokeWidthSE[e])&&(ne.capsMaskAnchorSE[e].style.strokeWidth=re+"px",ie=!0))})),_e(ne,se,"capsMaskMarker_enabled",re=ae.capsMaskMarker_enabled)&&(ne.capsMaskLine.style.display=re?"inline":"none",ie=!0),ae.capsMaskMarker_enabled&&[0,1].forEach((function(e){var t=ae.capsMaskMarker_plugSE[e],n=t!==E?I[N[t]]:null,r=Ne(e,n);_e(ne,se.capsMaskMarker_enabledSE,e,re=ae.capsMaskMarker_enabledSE[e])&&(ne.capsMaskLine.style[r.prop]=re?"url(#"+ne.lineMaskMarkerIdSE[e]+")":"none",ie=!0),ae.capsMaskMarker_enabledSE[e]&&(_e(ne,se.capsMaskMarker_plugSE,e,t)&&(ne.capsMaskMarkerShapeSE[e].href.baseVal="#"+n.elmId,Te(ne,ne.capsMaskMarkerSE[e],r.orient,n.bBox,ne.svg,ne.capsMaskMarkerShapeSE[e],ne.capsMaskLine),ie=!0,W&&(Ee(ne,ne.capsMaskLine),Ee(ne,ne.lineFace))),["markerWidth","markerHeight"].forEach((function(t){var n="capsMaskMarker_"+t+"SE";_e(ne,se[n],e,re=ae[n][e])&&(ne.capsMaskMarkerSE[e][t].baseVal.value=re,ie=!0)})))})))),ae.lineOutline_enabled&&["x","y"].forEach((function(e){var t="lineOutlineMask_"+e;_e(ne,se,t,re=ae[t])&&(ne.lineOutlineMask[e].baseVal.value=re,ie=!0)})),ie),n.effect&&(de=(ce=t).curStats,pe=ce.aplStats,Object.keys(e).forEach((function(t){var n=e[t],r=t+"_enabled",a=t+"_options",s=de[a];_e(ce,pe,r,he=de[r])?(he&&(pe[a]=le(s)),n[he?"init":"remove"](ce)):he&&oe(s,pe[a])&&(n.remove(ce),pe[r]=!0,pe[a]=le(s),n.init(ce))}))),(U||j)&&me.line&&!me.path&&Ee(t,t.lineShape),U&&me.plug&&!me.line&&Ee(t,t.plugsFace),Ie(t)}function Fe(e,t){return{duration:H(e.duration)&&0<e.duration?e.duration:t.duration,timing:K.validTiming(e.timing)?e.timing:le(t.timing)}}function Pe(e,n,r,a){var s,i=e.curStats,o=e.aplStats,l={};function u(){["show_on","show_effect","show_animOptions"].forEach((function(e){o[e]=i[e]}))}i.show_on=n,r&&t[r]&&(i.show_effect=r,i.show_animOptions=Fe($(a)?a:{},t[r].defaultAnimOptions)),l.show_on=i.show_on!==o.show_on,l.show_effect=i.show_effect!==o.show_effect,l.show_animOptions=oe(i.show_animOptions,o.show_animOptions),l.show_effect||l.show_animOptions?i.show_inAnim?(s=l.show_effect?t[o.show_effect].stop(e,!0,!0):t[o.show_effect].stop(e),u(),t[o.show_effect].init(e,s)):l.show_on&&(o.show_effect&&l.show_effect&&t[o.show_effect].stop(e,!0,!0),u(),t[o.show_effect].init(e)):l.show_on&&(u(),t[o.show_effect].start(e))}function Le(e,t,n){var r={props:e,optionName:n};return e.attachments.indexOf(t)<0&&(!t.conf.bind||t.conf.bind(t,r))&&(e.attachments.push(t),t.boundTargets.push(r),1)}function Ve(e,t,n){var r=e.attachments.indexOf(t);-1<r&&e.attachments.splice(r,1),t.boundTargets.some((function(n,a){return n.props===e&&(t.conf.unbind&&t.conf.unbind(t,n),r=a,!0)}))&&(t.boundTargets.splice(r,1),n||Se((function(){t.boundTargets.length||s(t)})))}function We(s,i){var o,l,u,c,h,d,p,m,f,g,y,b,w,v,A,x,E,I=s.options,N={};function D(e,t,n,r,a){var s={};return n?null!=r?(s.container=e[n],s.key=r):(s.container=e,s.key=n):(s.container=e,s.key=t),s.default=a,s.acceptsAuto=null==s.default,s}function O(e,t,n,r,a,s,i){var o,l,u,c=D(e,n,a,s,i);return null!=t[n]&&(l=(t[n]+"").toLowerCase())&&(c.acceptsAuto&&l===_||(u=r[l]))&&u!==c.container[c.key]&&(c.container[c.key]=u,o=!0),null!=c.container[c.key]||c.acceptsAuto||(c.container[c.key]=c.default,o=!0),o}function B(e,t,n,r,a,s,i,o,l){var u,c,h,d,p=D(e,n,a,s,i);if(!r){if(null==p.default)throw new Error("Invalid `type`: "+n);r=typeof p.default}return null!=t[n]&&(p.acceptsAuto&&(t[n]+"").toLowerCase()===_||(h=c=t[n],("number"===(d=r)?H(h):typeof h===d)&&(c=l&&"string"===r&&c?c.trim():c,1)&&(!o||o(c))))&&c!==p.container[p.key]&&(p.container[p.key]=c,u=!0),null!=p.container[p.key]||p.acceptsAuto||(p.container[p.key]=p.default,u=!0),u}if(i=i||{},["start","end"].forEach((function(e,t){var n=i[e],r=!1;if(n&&(ce(n)||(r=a(n,"anchor")))&&n!==I.anchorSE[t]){if(!1!==s.optionIsAttach.anchorSE[t]&&Ve(s,ne[I.anchorSE[t]._id]),r&&!Le(s,ne[n._id],e))throw new Error("Can't bind attachment");I.anchorSE[t]=n,s.optionIsAttach.anchorSE[t]=r,l=N.position=!0}})),!I.anchorSE[0]||!I.anchorSE[1]||I.anchorSE[0]===I.anchorSE[1])throw new Error("`start` and `end` are required.");function z(e){var t=d.appendChild(x.createElementNS(P,"mask"));return t.id=e,t.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x,t.y,t.width,t.height].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)})),t}function R(e){var t=d.appendChild(x.createElementNS(P,"marker"));return t.id=e,t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),t}function M(e){return[e.width,e.height].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)})),e}l&&(o=function(e,t){var n,r,a;if(!(n=de(e))||!(r=de(t)))throw new Error("Cannot get frames.");return n.length&&r.length&&(n.reverse(),r.reverse(),n.some((function(e){return r.some((function(t){return t===e&&(a=t.contentWindow,!0)}))}))),a||window}(!1!==s.optionIsAttach.anchorSE[0]?ne[I.anchorSE[0]._id].element:I.anchorSE[0],!1!==s.optionIsAttach.anchorSE[1]?ne[I.anchorSE[1]._id].element:I.anchorSE[1]))!==s.baseWindow&&(c=o,A=(u=s).aplStats,x=c.document,E=k+"-"+u._id,u.pathList={},De(A,X),Object.keys(e).forEach((function(t){var n=t+"_enabled";A[n]&&(e[t].remove(u),A[n]=!1)})),u.baseWindow&&u.svg&&u.baseWindow.document.body.removeChild(u.svg),Be(u.baseWindow=c),u.bodyOffset=Oe(c),u.svg=h=x.createElementNS(P,"svg"),h.className.baseVal=k,h.viewBox.baseVal||h.setAttribute("viewBox","0 0 0 0"),u.defs=d=h.appendChild(x.createElementNS(P,"defs")),u.linePath=m=d.appendChild(x.createElementNS(P,"path")),m.id=f=E+"-line-path",m.className.baseVal=k+"-line-path",j&&(m.style.fill="none"),u.lineShape=m=d.appendChild(x.createElementNS(P,"use")),m.id=g=E+"-line-shape",m.href.baseVal="#"+f,(p=d.appendChild(x.createElementNS(P,"g"))).id=y=E+"-caps",u.capsMaskAnchorSE=[0,1].map((function(){var e=p.appendChild(x.createElementNS(P,"path"));return e.className.baseVal=k+"-caps-mask-anchor",e})),u.lineMaskMarkerIdSE=[E+"-caps-mask-marker-0",E+"-caps-mask-marker-1"],u.capsMaskMarkerSE=[0,1].map((function(e){return R(u.lineMaskMarkerIdSE[e])})),u.capsMaskMarkerShapeSE=[0,1].map((function(e){var t=u.capsMaskMarkerSE[e].appendChild(x.createElementNS(P,"use"));return t.className.baseVal=k+"-caps-mask-marker-shape",t})),u.capsMaskLine=m=p.appendChild(x.createElementNS(P,"use")),m.className.baseVal=k+"-caps-mask-line",m.href.baseVal="#"+g,u.maskBGRect=m=M(d.appendChild(x.createElementNS(P,"rect"))),m.id=b=E+"-mask-bg-rect",m.className.baseVal=k+"-mask-bg-rect",j&&(m.style.fill="white"),u.lineMask=M(z(u.lineMaskId=E+"-line-mask")),u.lineMaskBG=m=u.lineMask.appendChild(x.createElementNS(P,"use")),m.href.baseVal="#"+b,u.lineMaskShape=m=u.lineMask.appendChild(x.createElementNS(P,"use")),m.className.baseVal=k+"-line-mask-shape",m.href.baseVal="#"+f,m.style.display="none",u.lineMaskCaps=m=u.lineMask.appendChild(x.createElementNS(P,"use")),m.href.baseVal="#"+y,u.lineOutlineMask=M(z(w=E+"-line-outline-mask")),(m=u.lineOutlineMask.appendChild(x.createElementNS(P,"use"))).href.baseVal="#"+b,u.lineOutlineMaskShape=m=u.lineOutlineMask.appendChild(x.createElementNS(P,"use")),m.className.baseVal=k+"-line-outline-mask-shape",m.href.baseVal="#"+f,u.lineOutlineMaskCaps=m=u.lineOutlineMask.appendChild(x.createElementNS(P,"use")),m.href.baseVal="#"+y,u.face=h.appendChild(x.createElementNS(P,"g")),u.lineFace=m=u.face.appendChild(x.createElementNS(P,"use")),m.href.baseVal="#"+g,u.lineOutlineFace=m=u.face.appendChild(x.createElementNS(P,"use")),m.href.baseVal="#"+g,m.style.mask="url(#"+w+")",m.style.display="none",u.plugMaskIdSE=[E+"-plug-mask-0",E+"-plug-mask-1"],u.plugMaskSE=[0,1].map((function(e){return z(u.plugMaskIdSE[e])})),u.plugMaskShapeSE=[0,1].map((function(e){var t=u.plugMaskSE[e].appendChild(x.createElementNS(P,"use"));return t.className.baseVal=k+"-plug-mask-shape",t})),v=[],u.plugOutlineMaskSE=[0,1].map((function(e){return z(v[e]=E+"-plug-outline-mask-"+e)})),u.plugOutlineMaskShapeSE=[0,1].map((function(e){var t=u.plugOutlineMaskSE[e].appendChild(x.createElementNS(P,"use"));return t.className.baseVal=k+"-plug-outline-mask-shape",t})),u.plugMarkerIdSE=[E+"-plug-marker-0",E+"-plug-marker-1"],u.plugMarkerSE=[0,1].map((function(e){var t=R(u.plugMarkerIdSE[e]);return j&&(t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),t})),u.plugMarkerShapeSE=[0,1].map((function(e){return u.plugMarkerSE[e].appendChild(x.createElementNS(P,"g"))})),u.plugFaceSE=[0,1].map((function(e){return u.plugMarkerShapeSE[e].appendChild(x.createElementNS(P,"use"))})),u.plugOutlineFaceSE=[0,1].map((function(e){var t=u.plugMarkerShapeSE[e].appendChild(x.createElementNS(P,"use"));return t.style.mask="url(#"+v[e]+")",t.style.display="none",t})),u.plugsFace=m=u.face.appendChild(x.createElementNS(P,"use")),m.className.baseVal=k+"-plugs-face",m.href.baseVal="#"+g,m.style.display="none",u.curStats.show_inAnim?(u.isShown=1,t[A.show_effect].stop(u,!0)):u.isShown||(h.style.visibility="hidden"),x.body.appendChild(h),[0,1,2].forEach((function(e){var t,n=u.options.labelSEM[e];n&&a(n,"label")&&(t=ne[n._id]).conf.initSvg&&t.conf.initSvg(t,u)})),N.line=N.plug=N.lineOutline=N.plugOutline=N.faces=N.effect=!0),N.position=O(I,i,"path",S,null,null,q.path)||N.position,N.position=O(I,i,"startSocket",C,"socketSE",0)||N.position,N.position=O(I,i,"endSocket",C,"socketSE",1)||N.position,[i.startSocketGravity,i.endSocketGravity].forEach((function(e,t){var n,r,a=!1;null!=e&&(Array.isArray(e)?H(e[0])&&H(e[1])&&(a=[e[0],e[1]],Array.isArray(I.socketGravitySE[t])&&(n=a,r=I.socketGravitySE[t],n.length===r.length&&n.every((function(e,t){return e===r[t]})))&&(a=!1)):((e+"").toLowerCase()===_?a=null:H(e)&&0<=e&&(a=e),a===I.socketGravitySE[t]&&(a=!1)),!1!==a&&(I.socketGravitySE[t]=a,N.position=!0))})),N.line=B(I,i,"color",null,"lineColor",null,q.lineColor,null,!0)||N.line,N.line=B(I,i,"size",null,"lineSize",null,q.lineSize,(function(e){return 0<e}))||N.line,["startPlug","endPlug"].forEach((function(e,t){N.plug=O(I,i,e,T,"plugSE",t,q.plugSE[t])||N.plug,N.plug=B(I,i,e+"Color","string","plugColorSE",t,null,null,!0)||N.plug,N.plug=B(I,i,e+"Size",null,"plugSizeSE",t,q.plugSizeSE[t],(function(e){return 0<e}))||N.plug})),N.lineOutline=B(I,i,"outline",null,"lineOutlineEnabled",null,q.lineOutlineEnabled)||N.lineOutline,N.lineOutline=B(I,i,"outlineColor",null,"lineOutlineColor",null,q.lineOutlineColor,null,!0)||N.lineOutline,N.lineOutline=B(I,i,"outlineSize",null,"lineOutlineSize",null,q.lineOutlineSize,(function(e){return 0<e&&e<=.48}))||N.lineOutline,["startPlugOutline","endPlugOutline"].forEach((function(e,t){N.plugOutline=B(I,i,e,null,"plugOutlineEnabledSE",t,q.plugOutlineEnabledSE[t])||N.plugOutline,N.plugOutline=B(I,i,e+"Color","string","plugOutlineColorSE",t,null,null,!0)||N.plugOutline,N.plugOutline=B(I,i,e+"Size",null,"plugOutlineSizeSE",t,q.plugOutlineSizeSE[t],(function(e){return 1<=e}))||N.plugOutline})),["startLabel","endLabel","middleLabel"].forEach((function(e,t){var o,l,u,c=i[e],h=I.labelSEM[t]&&!s.optionIsAttach.labelSEM[t]?ne[I.labelSEM[t]._id].text:I.labelSEM[t],d=!1;if((o="string"==typeof c)&&(c=c.trim()),(o||c&&(d=a(c,"label")))&&c!==h){if(I.labelSEM[t]&&(Ve(s,ne[I.labelSEM[t]._id]),I.labelSEM[t]=""),c){if(d?(l=ne[(u=c)._id]).boundTargets.slice().forEach((function(e){l.conf.removeOption(l,e)})):u=new r(n.captionLabel,[c]),!Le(s,ne[u._id],e))throw new Error("Can't bind attachment");I.labelSEM[t]=u}s.optionIsAttach.labelSEM[t]=d}})),Object.keys(e).forEach((function(t){var n,r,a=e[t],o=t+"_enabled",l=t+"_options";function u(e){var t={};return a.optionsConf.forEach((function(n){var r=n[0],a=n[3];null==n[4]||t[a]||(t[a]=[]),("function"==typeof r?r:"id"===r?O:B).apply(null,[t,e].concat(n.slice(1)))})),t}function c(e){var n,r=t+"_animOptions";return e.hasOwnProperty("animation")?$(e.animation)?n=s.curStats[r]=Fe(e.animation,a.defaultAnimOptions):(n=!!e.animation,s.curStats[r]=n?Fe({},a.defaultAnimOptions):null):(n=!!a.defaultEnabled,s.curStats[r]=n?Fe({},a.defaultAnimOptions):null),n}i.hasOwnProperty(t)&&(n=i[t],$(n)?(s.curStats[o]=!0,r=s.curStats[l]=u(n),a.anim&&(s.curStats[l].animation=c(n))):(r=s.curStats[o]=!!n)&&(s.curStats[l]=u({}),a.anim&&(s.curStats[l].animation=c({}))),oe(r,I[t])&&(I[t]=r,N.effect=!0))})),Me(s,N)}function Ue(n,r,a){var s={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};De(s.curStats,X),De(s.aplStats,X),Object.keys(e).forEach((function(t){var n=e[t].stats;De(s.curStats,n),De(s.aplStats,n),s.options[t]=!1})),De(s.curStats,Y),De(s.aplStats,Y),s.curStats.show_effect=Q,s.curStats.show_animOptions=le(t[Q].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++te}),s._id=this._id,ee[this._id]=s,1===arguments.length&&(a=n,n=null),a=a||{},(n||r)&&(a=le(a),n&&(a.start=n),r&&(a.end=r)),s.isShown=s.aplStats.show_on=!a.hide,this.setOptions(a)}function je(e){return function(t){var n={};n[e]=t,this.setOptions(n)}}function Ge(e,t){var n,r={conf:e,curStats:{},aplStats:{},boundTargets:[]},a={};e.argOptions.every((function(e){return!(!t.length||("string"==typeof e.type?typeof t[0]!==e.type:"function"!=typeof e.type||!e.type(t[0]))||(a[e.optionName]=t.shift(),0))})),n=t.length&&$(t[0])?le(t[0]):{},Object.keys(a).forEach((function(e){n[e]=a[e]})),e.stats&&(De(r.curStats,e.stats),De(r.aplStats,e.stats)),Object.defineProperty(this,"_id",{value:++re}),Object.defineProperty(this,"isRemoved",{get:function(){return!ne[this._id]}}),r._id=this._id,e.init&&!e.init(r,n)||(ne[this._id]=r)}return e={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(t){ke(t,"apl_line_strokeWidth",e.dash.update),t.lineFace.style.strokeDashoffset=0,e.dash.update(t)},remove:function(t){var n=t.curStats;Ce(t,"apl_line_strokeWidth",e.dash.update),n.dash_animId&&(K.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDasharray="none",t.lineFace.style.strokeDashoffset=0,De(t.aplStats,e.dash.stats)},update:function(e){var t,n=e.curStats,r=e.aplStats,a=r.dash_options,s=!1;n.dash_len=a.len||2*r.line_strokeWidth,n.dash_gap=a.gap||r.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,s=_e(e,r,"dash_len",n.dash_len)||s,(s=_e(e,r,"dash_gap",n.dash_gap)||s)&&(e.lineFace.style.strokeDasharray=r.dash_len+","+r.dash_gap),n.dash_animOptions?(s=_e(e,r,"dash_maxOffset",n.dash_maxOffset),r.dash_animOptions&&(s||oe(n.dash_animOptions,r.dash_animOptions))&&(n.dash_animId&&(t=K.stop(n.dash_animId),K.remove(n.dash_animId)),r.dash_animOptions=null),r.dash_animOptions||(n.dash_animId=K.add((function(e){return(1-e)*r.dash_maxOffset+"px"}),(function(t){e.lineFace.style.strokeDashoffset=t}),n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,t),r.dash_animOptions=le(n.dash_animOptions))):r.dash_animOptions&&(n.dash_animId&&(K.remove(n.dash_animId),n.dash_animId=null),e.lineFace.style.strokeDashoffset=0,r.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(t){var n,r=t.baseWindow.document,a=t.defs,s=k+"-"+t._id+"-gradient";t.efc_gradient_gradient=n=a.appendChild(r.createElementNS(P,"linearGradient")),n.id=s,n.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[n.x1,n.y1,n.x2,n.y2].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)})),t.efc_gradient_stopSE=[0,1].map((function(e){var n=t.efc_gradient_gradient.appendChild(r.createElementNS(P,"stop"));try{n.offset.baseVal=e}catch(t){if(t.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw t;n.setAttribute("offset",e)}return n})),ke(t,"cur_plug_colorSE",e.gradient.update),ke(t,"apl_path",e.gradient.update),t.curStats.line_altColor=!0,t.lineFace.style.stroke="url(#"+s+")",e.gradient.update(t)},remove:function(t){t.efc_gradient_gradient&&(t.defs.removeChild(t.efc_gradient_gradient),t.efc_gradient_gradient=t.efc_gradient_stopSE=null),Ce(t,"cur_plug_colorSE",e.gradient.update),Ce(t,"apl_path",e.gradient.update),t.curStats.line_altColor=!1,t.lineFace.style.stroke=t.curStats.line_color,De(t.aplStats,e.gradient.stats)},update:function(e){var t,n,r=e.curStats,a=e.aplStats,s=a.gradient_options,i=e.pathList.animVal||e.pathList.baseVal;[0,1].forEach((function(e){r.gradient_colorSE[e]=s.colorSE[e]||r.plug_colorSE[e]})),n=i[0][0],r.gradient_pointSE[0]={x:n.x,y:n.y},n=(t=i[i.length-1])[t.length-1],r.gradient_pointSE[1]={x:n.x,y:n.y},[0,1].forEach((function(t){var n;_e(e,a.gradient_colorSE,t,n=r.gradient_colorSE[t])&&(j?(n=ue(n),e.efc_gradient_stopSE[t].style.stopColor=n[1],e.efc_gradient_stopSE[t].style.stopOpacity=n[0]):e.efc_gradient_stopSE[t].style.stopColor=n),["x","y"].forEach((function(s){(n=r.gradient_pointSE[t][s])!==a.gradient_pointSE[t][s]&&(e.efc_gradient_gradient[s+(t+1)].baseVal.value=a.gradient_pointSE[t][s]=n)}))}))}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(t){var n,r,a,s,i,o=t.baseWindow.document,l=t.defs,c=k+"-"+t._id+"-dropShadow",h=(n=o,r=c,i={},"boolean"!=typeof u&&(u=!!window.SVGFEDropShadowElement&&!j),i.elmsAppend=[i.elmFilter=a=n.createElementNS(P,"filter")],a.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,a.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.id=r,u?(i.elmOffset=i.elmBlur=s=a.appendChild(n.createElementNS(P,"feDropShadow")),i.styleFlood=s.style):(i.elmBlur=a.appendChild(n.createElementNS(P,"feGaussianBlur")),i.elmOffset=s=a.appendChild(n.createElementNS(P,"feOffset")),s.result.baseVal="offsetblur",s=a.appendChild(n.createElementNS(P,"feFlood")),i.styleFlood=s.style,(s=a.appendChild(n.createElementNS(P,"feComposite"))).in2.baseVal="offsetblur",s.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(s=a.appendChild(n.createElementNS(P,"feMerge"))).appendChild(n.createElementNS(P,"feMergeNode")),s.appendChild(n.createElementNS(P,"feMergeNode")).in1.baseVal="SourceGraphic"),i);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach((function(e){t["efc_dropShadow_"+e]=h[e]})),h.elmsAppend.forEach((function(e){l.appendChild(e)})),t.face.setAttribute("filter","url(#"+c+")"),ke(t,"new_edge4viewBox",e.dropShadow.adjustEdge),e.dropShadow.update(t)},remove:function(t){var n=t.defs;t.efc_dropShadow_elmsAppend&&(t.efc_dropShadow_elmsAppend.forEach((function(e){n.removeChild(e)})),t.efc_dropShadow_elmFilter=t.efc_dropShadow_elmOffset=t.efc_dropShadow_elmBlur=t.efc_dropShadow_styleFlood=t.efc_dropShadow_elmsAppend=null),Ce(t,"new_edge4viewBox",e.dropShadow.adjustEdge),Me(t,{}),t.face.removeAttribute("filter"),De(t.aplStats,e.dropShadow.stats)},update:function(e){var t,n,r=e.curStats,a=e.aplStats,s=a.dropShadow_options;r.dropShadow_dx=t=s.dx,_e(e,a,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,n=!0),r.dropShadow_dy=t=s.dy,_e(e,a,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,n=!0),r.dropShadow_blur=t=s.blur,_e(e,a,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),n=!0),n&&Me(e,{}),r.dropShadow_color=t=s.color,_e(e,a,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),r.dropShadow_opacity=t=s.opacity,_e(e,a,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(e,t){var n,r,a=e.curStats,s=e.aplStats;null!=a.dropShadow_dx&&(n=3*a.dropShadow_blur,(r={x1:t.x1-n+a.dropShadow_dx,y1:t.y1-n+a.dropShadow_dy,x2:t.x2+n+a.dropShadow_dx,y2:t.y2+n+a.dropShadow_dy}).x1<t.x1&&(t.x1=r.x1),r.y1<t.y1&&(t.y1=r.y1),r.x2>t.x2&&(t.x2=r.x2),r.y2>t.y2&&(t.y2=r.y2),["x","y"].forEach((function(n){var r,i="dropShadow_"+n;a[i]=r=t[n+"1"],_e(e,s,i,r)&&(e.efc_dropShadow_elmFilter[n].baseVal.value=r)})))}}},Object.keys(e).forEach((function(t){var n=e[t],r=n.stats;r[t+"_enabled"]={iniValue:!1},r[t+"_options"]={hasProps:!0},n.anim&&(r[t+"_animOptions"]={},r[t+"_animId"]={})})),t={none:{defaultAnimOptions:{},init:function(e,n){var r=e.curStats;r.show_animId&&(K.remove(r.show_animId),r.show_animId=null),t.none.start(e,n)},start:function(e,n){t.none.stop(e,!0)},stop:function(e,t,n){var r=e.curStats;return n=null!=n?n:e.aplStats.show_on,r.show_inAnim=!1,t&&Re(e,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(e,n){var r=e.curStats,a=e.aplStats;r.show_animId&&K.remove(r.show_animId),r.show_animId=K.add((function(e){return e}),(function(n,r){r?t.fade.stop(e,!0):(e.svg.style.opacity=n+"",V&&(Ee(e,e.svg),Ie(e)))}),a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),t.fade.start(e,n)},start:function(e,t){var n,r=e.curStats;r.show_inAnim&&(n=K.stop(r.show_animId)),Re(e,1),r.show_inAnim=!0,K.start(r.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var r,a=e.curStats;return n=null!=n?n:e.aplStats.show_on,r=a.show_inAnim?K.stop(a.show_animId):n?1:0,a.show_inAnim=!1,t&&(e.svg.style.opacity=n?"":"0",Re(e,n)),r}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(e,n){var r=e.curStats,a=e.aplStats,s=e.pathList.baseVal,i=Ae(s),o=i.segsLen,l=i.lenAll;r.show_animId&&K.remove(r.show_animId),r.show_animId=K.add((function(e){var t,n,r,a,i=-1;if(0===e)n=[[s[0][0],s[0][0]]];else if(1===e)n=s;else{for(t=l*e,n=[];t>=o[++i];)n.push(s[i]),t-=o[i];t&&(2===(r=s[i]).length?n.push([r[0],fe(r[0],r[1],t/o[i])]):(a=ye(r[0],r[1],r[2],r[3],we(r[0],r[1],r[2],r[3],t)),n.push([r[0],a.fromP1,a.fromP2,a])))}return n}),(function(n,r){r?t.draw.stop(e,!0):(e.pathList.animVal=n,Me(e,{path:!0}))}),a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),t.draw.start(e,n)},start:function(e,n){var r,a=e.curStats;a.show_inAnim&&(r=K.stop(a.show_animId)),Re(e,1),a.show_inAnim=!0,ke(e,"apl_position",t.draw.update),K.start(a.show_animId,!e.aplStats.show_on,null!=n?n:r)},stop:function(e,t,n){var r,a=e.curStats;return n=null!=n?n:e.aplStats.show_on,r=a.show_inAnim?K.stop(a.show_animId):n?1:0,a.show_inAnim=!1,t&&(e.pathList.animVal=n?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],Me(e,{path:!0}),Re(e,n)),r},update:function(e){Ce(e,"apl_position",t.draw.update),e.curStats.show_inAnim?t.draw.init(e,t.draw.stop(e)):e.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach((function(e){var t=e[0],n=e[1],r=e[2];Object.defineProperty(Ue.prototype,t,{get:function(){var e=null!=r?ee[this._id].options[n][r]:n?ee[this._id].options[n]:ee[this._id].options[t];return null==e?_:le(e)},set:je(t),enumerable:!0})})),[["path",S],["startSocket",C,"socketSE",0],["endSocket",C,"socketSE",1],["startPlug",T,"plugSE",0],["endPlug",T,"plugSE",1]].forEach((function(e){var t=e[0],n=e[1],r=e[2],a=e[3];Object.defineProperty(Ue.prototype,t,{get:function(){var e,s=null!=a?ee[this._id].options[r][a]:r?ee[this._id].options[r]:ee[this._id].options[t];return s?Object.keys(n).some((function(t){return n[t]===s&&(e=t,!0)}))?e:new Error("It's broken"):_},set:je(t),enumerable:!0})})),Object.keys(e).forEach((function(t){var n=e[t];Object.defineProperty(Ue.prototype,t,{get:function(){var e,r,a=ee[this._id].options[t];return $(a)?(e=a,r=n.optionsConf.reduce((function(t,n){var r,a=n[0],s=n[1],i=n[2],o=n[3],l=n[4],u=null!=l?e[o][l]:o?e[o]:e[s];return t[s]="id"===a?u?Object.keys(i).some((function(e){return i[e]===u&&(r=e,!0)}))?r:new Error("It's broken"):_:null==u?_:le(u),t}),{}),n.anim&&(r.animation=le(e.animation)),r):a},set:je(t),enumerable:!0})})),["startLabel","endLabel","middleLabel"].forEach((function(e,t){Object.defineProperty(Ue.prototype,e,{get:function(){var e=ee[this._id],n=e.options;return n.labelSEM[t]&&!e.optionIsAttach.labelSEM[t]?ne[n.labelSEM[t]._id].text:n.labelSEM[t]||""},set:je(e),enumerable:!0})})),Ue.prototype.setOptions=function(e){return We(ee[this._id],e),this},Ue.prototype.position=function(){return Me(ee[this._id],{position:!0}),this},Ue.prototype.remove=function(){var t=ee[this._id],n=t.curStats;Object.keys(e).forEach((function(e){var t=e+"_animId";n[t]&&K.remove(n[t])})),n.show_animId&&K.remove(n.show_animId),t.attachments.slice().forEach((function(e){Ve(t,e)})),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete ee[this._id]},Ue.prototype.show=function(e,t){return Pe(ee[this._id],!0,e,t),this},Ue.prototype.hide=function(e,t){return Pe(ee[this._id],!1,e,t),this},s=function(e){e&&ne[e._id]&&(e.boundTargets.slice().forEach((function(t){Ve(t.props,e,!0)})),e.conf.remove&&e.conf.remove(e),delete ne[e._id])},Ge.prototype.remove=function(){var e=this,t=ne[e._id];t&&(t.boundTargets.slice().forEach((function(e){t.conf.removeOption(t,e)})),Se((function(){var t=ne[e._id];t&&s(t)})))},r=Ge,window.LeaderLineAttachment=r,a=function(e,t){return e instanceof r&&(!(e.isRemoved||t&&ne[e._id].conf.type!==t)||null)},n={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:ce}],init:function(e,t){return e.element=n.pointAnchor.checkElement(t.element),e.x=n.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=n.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(e,t){var a=t.props,s={},i=e.element,o=a.options.anchorSE["start"===t.optionName?1:0];i===o&&(i=o===document.body?new r(n.pointAnchor,[i]):document.body),s[t.optionName]=i,We(a,s)},getBBoxNest:function(e,t){var n=pe(e.element,t.baseWindow),r=n.width,a=n.height;return n.width=n.height=0,n.left=n.right=n.left+e.x[0]*(e.x[1]?r:1),n.top=n.bottom=n.top+e.y[0]*(e.y[1]?a:1),n},parsePercent:function(e,t){var n,r,a=!1;return H(e)?r=e:"string"==typeof e&&(n=F.exec(e))&&n[2]&&(a=0!=(r=parseFloat(n[1])/100)),null!=r&&(t||0<=r)?[r,a]:null},checkElement:function(e){if(null==e)e=document.body;else if(!ce(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:ce},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(e,t){var r,a,s,i=[];return e.element=n.pointAnchor.checkElement(t.element),"string"==typeof t.color&&(e.color=t.color.trim()),"string"==typeof t.fillColor&&(e.fill=t.fillColor.trim()),H(t.size)&&0<=t.size&&(e.size=t.size),t.dash&&(e.dash=!0,H(t.dash.len)&&0<t.dash.len&&(e.dashLen=t.dash.len),H(t.dash.gap)&&0<t.dash.gap&&(e.dashGap=t.dash.gap)),"circle"===t.shape?e.shape=t.shape:"polygon"===t.shape&&Array.isArray(t.points)&&3<=t.points.length&&t.points.every((function(t){var r={};return!(!(r.x=n.pointAnchor.parsePercent(t[0],!0))||!(r.y=n.pointAnchor.parsePercent(t[1],!0))||(i.push(r),(r.x[1]||r.y[1])&&(e.hasRatio=!0),0))}))?(e.shape=t.shape,e.points=i):(e.shape="rect",e.radius=H(t.radius)&&0<=t.radius?t.radius:0),"rect"!==e.shape&&"circle"!==e.shape||(e.x=n.pointAnchor.parsePercent(t.x,!0)||[-.05,!0],e.y=n.pointAnchor.parsePercent(t.y,!0)||[-.05,!0],e.width=n.pointAnchor.parsePercent(t.width)||[1.1,!0],e.height=n.pointAnchor.parsePercent(t.height)||[1.1,!0],(e.x[1]||e.y[1]||e.width[1]||e.height[1])&&(e.hasRatio=!0)),r=e.element.ownerDocument,e.svg=a=r.createElementNS(P,"svg"),a.className.baseVal=k+"-areaAnchor",a.viewBox.baseVal||a.setAttribute("viewBox","0 0 0 0"),e.path=a.appendChild(r.createElementNS(P,"path")),e.path.style.fill=e.fill||"none",e.isShown=!1,a.style.visibility="hidden",r.body.appendChild(a),Be(s=r.defaultView),e.bodyOffset=Oe(s),e.updateColor=function(){var t,n=e.curStats,r=e.aplStats,a=e.boundTargets.length?e.boundTargets[0].props.curStats:null;n.color=t=e.color||(a?a.line_color:q.lineColor),_e(e,r,"color",t)&&(e.path.style.stroke=t)},e.updateShow=function(){Re(e,e.boundTargets.some((function(e){return!0===e.props.isShown})))},!0},bind:function(e,t){var n=t.props;return e.color||ke(n,"cur_line_color",e.updateColor),ke(n,"svgShow",e.updateShow),Se((function(){e.updateColor(),e.updateShow()})),!0},unbind:function(e,t){var r=t.props;e.color||Ce(r,"cur_line_color",e.updateColor),Ce(r,"svgShow",e.updateShow),1<e.boundTargets.length&&Se((function(){e.updateColor(),e.updateShow(),n.areaAnchor.update(e)&&e.boundTargets.forEach((function(e){Me(e.props,{position:!0})}))}))},removeOption:function(e,t){n.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.areaAnchor.unbind(e,t)})),e.svg.parentNode.removeChild(e.svg)},getStrokeWidth:function(e,t){return n.areaAnchor.update(e)&&1<e.boundTargets.length&&Se((function(){e.boundTargets.forEach((function(e){e.props!==t&&Me(e.props,{position:!0})}))})),e.curStats.strokeWidth},getPathData:function(e,t){var n=pe(e.element,t.baseWindow);return ve(e.curStats.pathListRel,(function(e){e.x+=n.left,e.y+=n.top}))},getBBoxNest:function(e,t){var n=pe(e.element,t.baseWindow),r=e.curStats.bBoxRel;return{left:r.left+n.left,top:r.top+n.top,right:r.right+n.left,bottom:r.bottom+n.top,width:r.width,height:r.height}},update:function(e){var t,n,r,a,s,i,o,l,u,c,h,d,p,m,f,g,y,b,w,v,A,x,k,C,S,E,I,T,N,D,_,B,z=e.curStats,M=e.aplStats,F=e.boundTargets.length?e.boundTargets[0].props.curStats:null,P={};if(P.strokeWidth=_e(e,z,"strokeWidth",null!=e.size?e.size:F?F.line_strokeWidth:q.lineSize),t=he(e.element),P.elementWidth=_e(e,z,"elementWidth",t.width),P.elementHeight=_e(e,z,"elementHeight",t.height),P.elementLeft=_e(e,z,"elementLeft",t.left),P.elementTop=_e(e,z,"elementTop",t.top),P.strokeWidth||e.hasRatio&&(P.elementWidth||P.elementHeight)){switch(e.shape){case"rect":(T={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).right=T.left+T.width,T.bottom=T.top+T.height,k=z.strokeWidth/2,A=(x=Math.min(T.width,T.height))?x/2*Math.SQRT2+k:0,E=(v=e.radius?e.radius<=A?e.radius:A:0)?(S=v-(C=(v-k)/Math.SQRT2),I=v*R,E=[{x:T.left-S,y:T.top+C},{x:T.left+C,y:T.top-S},{x:T.right-C,y:T.top-S},{x:T.right+S,y:T.top+C},{x:T.right+S,y:T.bottom-C},{x:T.right-C,y:T.bottom+S},{x:T.left+C,y:T.bottom+S},{x:T.left-S,y:T.bottom-C}],z.pathListRel=[[E[0],{x:E[0].x,y:E[0].y-I},{x:E[1].x-I,y:E[1].y},E[1]]],E[1].x!==E[2].x&&z.pathListRel.push([E[1],E[2]]),z.pathListRel.push([E[2],{x:E[2].x+I,y:E[2].y},{x:E[3].x,y:E[3].y-I},E[3]]),E[3].y!==E[4].y&&z.pathListRel.push([E[3],E[4]]),z.pathListRel.push([E[4],{x:E[4].x,y:E[4].y+I},{x:E[5].x+I,y:E[5].y},E[5]]),E[5].x!==E[6].x&&z.pathListRel.push([E[5],E[6]]),z.pathListRel.push([E[6],{x:E[6].x-I,y:E[6].y},{x:E[7].x,y:E[7].y+I},E[7]]),E[7].y!==E[0].y&&z.pathListRel.push([E[7],E[0]]),z.pathListRel.push([]),S=v-C+z.strokeWidth/2,[{x:T.left-S,y:T.top-S},{x:T.right+S,y:T.bottom+S}]):(S=z.strokeWidth/2,E=[{x:T.left-S,y:T.top-S},{x:T.right+S,y:T.bottom+S}],z.pathListRel=[[E[0],{x:E[1].x,y:E[0].y}],[{x:E[1].x,y:E[0].y},E[1]],[E[1],{x:E[0].x,y:E[1].y}],[]],[{x:T.left-z.strokeWidth,y:T.top-z.strokeWidth},{x:T.right+z.strokeWidth,y:T.bottom+z.strokeWidth}]),z.bBoxRel={left:E[0].x,top:E[0].y,right:E[1].x,bottom:E[1].y,width:E[1].x-E[0].x,height:E[1].y-E[0].y};break;case"circle":(w={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).width||w.height||(w.width=w.height=10),w.width||(w.width=w.height),w.height||(w.height=w.width),w.right=w.left+w.width,w.bottom=w.top+w.height,o=w.left+w.width/2,l=w.top+w.height/2,p=z.strokeWidth/2,m=w.width/2,f=w.height/2,u=m*Math.SQRT2+p,c=f*Math.SQRT2+p,h=u*R,d=c*R,b=[{x:o-u,y:l},{x:o,y:l-c},{x:o+u,y:l},{x:o,y:l+c}],z.pathListRel=[[b[0],{x:b[0].x,y:b[0].y-d},{x:b[1].x-h,y:b[1].y},b[1]],[b[1],{x:b[1].x+h,y:b[1].y},{x:b[2].x,y:b[2].y-d},b[2]],[b[2],{x:b[2].x,y:b[2].y+d},{x:b[3].x+h,y:b[3].y},b[3]],[b[3],{x:b[3].x-h,y:b[3].y},{x:b[0].x,y:b[0].y+d},b[0]],[]],g=u-m+z.strokeWidth/2,y=c-f+z.strokeWidth/2,b=[{x:w.left-g,y:w.top-y},{x:w.right+g,y:w.bottom+y}],z.bBoxRel={left:b[0].x,top:b[0].y,right:b[1].x,bottom:b[1].y,width:b[1].x-b[0].x,height:b[1].y-b[0].y};break;case"polygon":e.points.forEach((function(e){var n=e.x[0]*(e.x[1]?t.width:1),s=e.y[0]*(e.y[1]?t.height:1);r?(n<r.left&&(r.left=n),n>r.right&&(r.right=n),s<r.top&&(r.top=s),s>r.bottom&&(r.bottom=s)):r={left:n,right:n,top:s,bottom:s},a?z.pathListRel.push([a,{x:n,y:s}]):z.pathListRel=[],a={x:n,y:s}})),z.pathListRel.push([]),s=z.strokeWidth/2,i=[{x:r.left-s,y:r.top-s},{x:r.right+s,y:r.bottom+s}],z.bBoxRel={left:i[0].x,top:i[0].y,right:i[1].x,bottom:i[1].y,width:i[1].x-i[0].x,height:i[1].y-i[0].y}}P.pathListRel=P.bBoxRel=!0}return(P.pathListRel||P.elementLeft||P.elementTop)&&(z.pathData=ve(z.pathListRel,(function(e){e.x+=t.left,e.y+=t.top}))),_e(e,M,"strokeWidth",n=z.strokeWidth)&&(e.path.style.strokeWidth=n+"px"),xe(n=z.pathData,M.pathData)&&(e.path.setPathData(n),M.pathData=n,P.pathData=!0),e.dash&&(!P.pathData&&(!P.strokeWidth||e.dashLen&&e.dashGap)||(z.dashLen=e.dashLen||2*z.strokeWidth,z.dashGap=e.dashGap||z.strokeWidth),P.dash=_e(e,M,"dashLen",z.dashLen)||P.dash,P.dash=_e(e,M,"dashGap",z.dashGap)||P.dash,P.dash&&(e.path.style.strokeDasharray=M.dashLen+","+M.dashGap)),N=z.viewBoxBBox,D=M.viewBoxBBox,_=e.svg.viewBox.baseVal,B=e.svg.style,N.x=z.bBoxRel.left+t.left,N.y=z.bBoxRel.top+t.top,N.width=z.bBoxRel.width,N.height=z.bBoxRel.height,["x","y","width","height"].forEach((function(t){(n=N[t])!==D[t]&&(_[t]=D[t]=n,B[O[t]]=n+("x"===t||"y"===t?e.bodyOffset[t]:0)+"px")})),P.strokeWidth||P.pathListRel||P.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:ce},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(e,r){var a,s,i,o,l,u,c,h,d,p,m,f=n.mouseHoverAnchor,g={};if(e.element=n.pointAnchor.checkElement(r.element),!((p=(h=e.element).ownerDocument)&&(d=p.defaultView)&&d.HTMLElement&&h instanceof d.HTMLElement))throw new Error("`element` must be HTML element");return f.style.backgroundSize=f.backgroundSize.width+"px "+f.backgroundSize.height+"px",["style","hoverStyle"].forEach((function(t){var n=f[t];e[t]=Object.keys(n).reduce((function(e,t){return e[t]=n[t],e}),{})})),"inline"===(a=e.element.ownerDocument.defaultView.getComputedStyle(e.element,"")).display?e.style.display="inline-block":"none"===a.display&&(e.style.display="block"),n.mouseHoverAnchor.dirKeys.forEach((function(t){var n=t[0],r="padding"+t[1];parseFloat(a[r])<f.padding[n]&&(e.style[r]=f.padding[n]+"px")})),e.style.display&&(o=e.element.style.display,e.element.style.display=e.style.display),n.mouseHoverAnchor.dirKeys.forEach((function(t){var n="padding"+t[1];e.style[n]&&(g[n]=e.element.style[n],e.element.style[n]=e.style[n])})),(i=e.element.getBoundingClientRect()).height<f.minHeight&&(V?(m=f.minHeight,"content-box"===a.boxSizing?m-=parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth)+parseFloat(a.paddingTop)+parseFloat(a.paddingBottom):"padding-box"===a.boxSizing&&(m-=parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth)),e.style.height=m+"px"):e.style.height=parseFloat(a.height)+(f.minHeight-i.height)+"px"),e.style.backgroundPosition=j?i.width-f.backgroundSize.width-f.backgroundPosition.right+"px "+f.backgroundPosition.top+"px":"right "+f.backgroundPosition.right+"px top "+f.backgroundPosition.top+"px",e.style.display&&(e.element.style.display=o),n.mouseHoverAnchor.dirKeys.forEach((function(t){var n="padding"+t[1];e.style[n]&&(e.element.style[n]=g[n])})),["style","hoverStyle"].forEach((function(t){var n=e[t],a=r[t];$(a)&&Object.keys(a).forEach((function(e){"string"==typeof a[e]||H(a[e])?n[e]=a[e]:null==a[e]&&delete n[e]}))})),"function"==typeof r.onSwitch&&(c=r.onSwitch),r.showEffectName&&t[r.showEffectName]&&(e.showEffectName=l=r.showEffectName),u=r.animOptions,e.elmStyle=s=e.element.style,e.mouseenter=function(t){e.hoverStyleSave=f.getStyles(s,Object.keys(e.hoverStyle)),f.setStyles(s,e.hoverStyle),e.boundTargets.forEach((function(e){Pe(e.props,!0,l,u)})),c&&c(t)},e.mouseleave=function(t){f.setStyles(s,e.hoverStyleSave),e.boundTargets.forEach((function(e){Pe(e.props,!1,l,u)})),c&&c(t)},!0},bind:function(e,t){var r,a,s,i,o;return t.props.svg?n.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):Se((function(){n.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)})),e.enabled||(e.styleSave=n.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),n.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(r=e.element,a=e.mouseenter,s=e.mouseleave,"onmouseenter"in r&&"onmouseleave"in r?(r.addEventListener("mouseenter",a,!1),r.addEventListener("mouseleave",s,!1),function(){r.removeEventListener("mouseenter",a,!1),r.removeEventListener("mouseleave",s,!1)}):(i=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||a.apply(this,arguments)},r.addEventListener("mouseover",i),o=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||s.apply(this,arguments)},r.addEventListener("mouseout",o),function(){r.removeEventListener("mouseover",i,!1),r.removeEventListener("mouseout",o,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),n.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),n.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){n.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.mouseHoverAnchor.unbind(e,t)}))},getBBoxNest:function(e,t){return pe(e.element,t.baseWindow)},llShow:function(e,n,r){t[r||e.curStats.show_effect].stop(e,!0,n),e.aplStats.show_on=n},getStyles:function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})},setStyles:function(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}))}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&H(t.offset[0])&&H(t.offset[1])&&(e.offset={x:t.offset[0],y:t.offset[1]}),H(t.lineOffset)&&(e.lineOffset=t.lineOffset),n.captionLabel.textStyleProps.forEach((function(n){null!=t[n]&&(e[n]=t[n])})),e.updateColor=function(t){n.captionLabel.updateColor(e,t)},e.updateSocketXY=function(t){var n,r,a,s,i=e.curStats,o=e.aplStats,l=t.curStats,u=l.position_socketXYSE[e.socketIndex];null!=u.x&&(e.offset?(i.x=u.x+e.offset.x,i.y=u.y+e.offset.y):(n=e.height/2,r=Math.max(l.attach_plugSideLenSE[e.socketIndex]||0,l.line_strokeWidth/2),a=l.position_socketXYSE[e.socketIndex?0:1],4===u.socketId||2===u.socketId?(i.x=4===u.socketId?u.x-n-e.width:u.x+n,i.y=a.y<u.y?u.y+r+n:u.y-r-n-e.height):(i.x=a.x<u.x?u.x+r+n:u.x-r-n-e.width,i.y=1===u.socketId?u.y-n-e.height:u.y+n)),_e(e,o,"x",s=i.x)&&(e.elmPosition.x.baseVal.getItem(0).value=s),_e(e,o,"y",s=i.y)&&(e.elmPosition.y.baseVal.getItem(0).value=s+e.height))},e.updatePath=function(t){var r,a,s=e.curStats,i=e.aplStats,o=t.pathList.animVal||t.pathList.baseVal;o&&(r=n.captionLabel.getMidPoint(o,e.lineOffset),s.x=r.x-e.width/2,s.y=r.y-e.height/2,_e(e,i,"x",a=s.x)&&(e.elmPosition.x.baseVal.getItem(0).value=a),_e(e,i,"y",a=s.y)&&(e.elmPosition.y.baseVal.getItem(0).value=a+e.height))},e.updateShow=function(t){n.captionLabel.updateShow(e,t)},j&&(e.adjustEdge=function(t,r){var a=e.curStats;null!=a.x&&n.captionLabel.adjustEdge(r,{x:a.x,y:a.y,width:e.width,height:e.height},e.strokeWidth/2)}),!0)},updateColor:function(e,t){var n,r=e.curStats,a=e.aplStats,s=t.curStats;r.color=n=e.color||s.line_color,_e(e,a,"color",n)&&(e.styleFill.fill=n)},updateShow:function(e,t){var n=!0===t.isShown;n!==e.isShown&&(e.styleShow.visibility=n?"":"hidden",e.isShown=n)},adjustEdge:function(e,t,n){var r={x1:t.x-n,y1:t.y-n,x2:t.x+t.width+n,y2:t.y+t.height+n};r.x1<e.x1&&(e.x1=r.x1),r.y1<e.y1&&(e.y1=r.y1),r.x2>e.x2&&(e.x2=r.x2),r.y2>e.y2&&(e.y2=r.y2)},newText:function(e,t,n,r,a){var s,i,o,u,c,h=t.createElementNS(P,"text");return h.textContent=e,[h.x,h.y].forEach((function(e){var t=n.createSVGLength();t.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),e.baseVal.initialize(t)})),"boolean"!=typeof l&&(l="paintOrder"in h.style),a&&!l?(i=t.createElementNS(P,"defs"),h.id=r,i.appendChild(h),(u=(s=t.createElementNS(P,"g")).appendChild(t.createElementNS(P,"use"))).href.baseVal="#"+r,(o=s.appendChild(t.createElementNS(P,"use"))).href.baseVal="#"+r,(c=u.style).strokeLinejoin="round",{elmPosition:h,styleText:h.style,styleFill:o.style,styleStroke:c,styleShow:s.style,elmsAppend:[i,s]}):(c=h.style,a&&(c.strokeLinejoin="round",c.paintOrder="stroke"),{elmPosition:h,styleText:c,styleFill:c,styleStroke:a?c:null,styleShow:c,elmsAppend:[h]})},getMidPoint:function(e,t){var n,r,a=Ae(e),s=a.segsLen,i=a.lenAll,o=-1,l=i/2+(t||0);if(l<=0)return 2===(n=e[0]).length?fe(n[0],n[1],0):ye(n[0],n[1],n[2],n[3],0);if(i<=l)return 2===(n=e[e.length-1]).length?fe(n[0],n[1],1):ye(n[0],n[1],n[2],n[3],1);for(r=[];l>s[++o];)r.push(e[o]),l-=s[o];return 2===(n=e[o]).length?fe(n[0],n[1],l/s[o]):ye(n[0],n[1],n[2],n[3],we(n[0],n[1],n[2],n[3],l))},initSvg:function(e,t){var r,a,s=n.captionLabel.newText(e.text,t.baseWindow.document,t.svg,k+"-captionLabel-"+e._id,e.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach((function(t){e[t]=s[t]})),e.isShown=!1,e.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach((function(t){null!=e[t]&&(s.styleText[t]=e[t])})),s.elmsAppend.forEach((function(e){t.svg.appendChild(e)})),r=s.elmPosition.getBBox(),e.width=r.width,e.height=r.height,e.outlineColor&&(a=10<(a=r.height/9)?10:a<2?2:a,s.styleStroke.strokeWidth=a+"px",s.styleStroke.stroke=e.outlineColor),e.strokeWidth=a||0,De(e.aplStats,n.captionLabel.stats),e.updateColor(t),e.refSocketXY?e.updateSocketXY(t):e.updatePath(t),j&&Me(t,{}),e.updateShow(t)},bind:function(e,t){var r=t.props;return e.color||ke(r,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===t.optionName||"endLabel"===t.optionName)?(e.socketIndex="startLabel"===t.optionName?0:1,ke(r,"apl_position",e.updateSocketXY),e.offset||(ke(r,"cur_attach_plugSideLenSE",e.updateSocketXY),ke(r,"cur_line_strokeWidth",e.updateSocketXY))):ke(r,"apl_path",e.updatePath),ke(r,"svgShow",e.updateShow),j&&ke(r,"new_edge4viewBox",e.adjustEdge),n.captionLabel.initSvg(e,r),!0},unbind:function(e,t){var r=t.props;e.elmsAppend&&(e.elmsAppend.forEach((function(e){r.svg.removeChild(e)})),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),De(e.curStats,n.captionLabel.stats),De(e.aplStats,n.captionLabel.stats),e.color||Ce(r,"cur_line_color",e.updateColor),e.refSocketXY?(Ce(r,"apl_position",e.updateSocketXY),e.offset||(Ce(r,"cur_attach_plugSideLenSE",e.updateSocketXY),Ce(r,"cur_line_strokeWidth",e.updateSocketXY))):Ce(r,"apl_path",e.updatePath),Ce(r,"svgShow",e.updateShow),j&&(Ce(r,"new_edge4viewBox",e.adjustEdge),Me(r,{}))},removeOption:function(e,t){var n=t.props,r={};r[t.optionName]="",We(n,r)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.captionLabel.unbind(e,t)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",H(t.lineOffset)&&(e.lineOffset=t.lineOffset),n.captionLabel.textStyleProps.forEach((function(n){null!=t[n]&&(e[n]=t[n])})),e.updateColor=function(t){n.captionLabel.updateColor(e,t)},e.updatePath=function(t){var r,a=e.curStats,s=e.aplStats,i=t.curStats,o=t.pathList.animVal||t.pathList.baseVal;o&&(a.pathData=r=n.pathLabel.getOffsetPathData(o,i.line_strokeWidth/2+e.strokeWidth/2+e.height/4,1.25*e.height),xe(r,s.pathData)&&(e.elmPath.setPathData(r),s.pathData=r,e.bBox=e.elmPosition.getBBox(),e.updateStartOffset(t)))},e.updateStartOffset=function(t){var n,r,a,s,i=e.curStats,o=e.aplStats,l=t.curStats;i.pathData&&(2===e.semIndex&&!e.lineOffset||(a=i.pathData.reduce((function(e,t){var n,a=t.values;switch(t.type){case"M":r={x:a[0],y:a[1]};break;case"L":n={x:a[0],y:a[1]},r&&(e+=me(r,n)),r=n;break;case"C":n={x:a[4],y:a[5]},r&&(e+=be(r,{x:a[0],y:a[1]},{x:a[2],y:a[3]},n)),r=n}return e}),0),s=0===e.semIndex?0:1===e.semIndex?a:a/2,2!==e.semIndex&&(n=Math.max(l.attach_plugBackLenSE[e.semIndex]||0,l.line_strokeWidth/2)+e.strokeWidth/2+e.height/4,s=(s+=0===e.semIndex?n:-n)<0?0:a<s?a:s),e.lineOffset&&(s=(s+=e.lineOffset)<0?0:a<s?a:s),i.startOffset=s,_e(e,o,"startOffset",s)&&(e.elmOffset.startOffset.baseVal.value=s)))},e.updateShow=function(t){n.captionLabel.updateShow(e,t)},j&&(e.adjustEdge=function(t,r){e.bBox&&n.captionLabel.adjustEdge(r,e.bBox,e.strokeWidth/2)}),!0)},getOffsetPathData:function(e,t,n){var r,a,s=[];function i(e,t){return Math.abs(e.x-t.x)<3&&Math.abs(e.y-t.y)<3}return e.forEach((function(e){var n,a,o,l,u,c,h,d,p,m,f,g,y,b,w,v,A,x,k,C,S;2===e.length?(x=e[0],k=e[1],C=t,S=Math.atan2(x.y-k.y,k.x-x.x)+.5*Math.PI,n=[{x:x.x+Math.cos(S)*C,y:x.y+Math.sin(S)*C*-1},{x:k.x+Math.cos(S)*C,y:k.y+Math.sin(S)*C*-1}],r?(o=r.points,0<=(l=Math.atan2(o[1].y-o[0].y,o[0].x-o[1].x)-Math.atan2(e[0].y-e[1].y,e[1].x-e[0].x))&&l<=Math.PI?a={type:"line",points:n,inside:!0}:(c=ge(o[0],o[1],t),u=ge(n[1],n[0],t),d=o[0],m=u,f=n[1],g=(p=c).x-d.x,y=p.y-d.y,b=f.x-m.x,w=f.y-m.y,v=(-y*(d.x-m.x)+g*(d.y-m.y))/(-b*y+g*w),A=(b*(d.y-m.y)-w*(d.x-m.x))/(-b*y+g*w),a=(h=0<=v&&v<=1&&0<=A&&A<=1?{x:d.x+A*g,y:d.y+A*y}:null)?{type:"line",points:[o[1]=h,n[1]]}:(o[1]=i(u,c)?u:c,{type:"line",points:[u,n[1]]}),r.len=me(o[0],o[1]))):a={type:"line",points:n},a.len=me(a.points[0],a.points[1]),s.push(r=a)):(s.push({type:"cubic",points:function(e,t,n,r,a,s){for(var i,o,l=be(e,t,n,r)/16,u=1/(16<a?a/16*l:l),c=[],h=0;o=(90-(i=ye(e,t,n,r,h)).angle)*(Math.PI/180),c.push({x:i.x+Math.cos(o)*a,y:i.y+Math.sin(o)*a*-1}),!(1<=h);)1<(h+=u)&&(h=1);return c}(e[0],e[1],e[2],e[3],t)}),r=null)})),r=null,s.forEach((function(e){var a;r="line"===e.type?(e.inside&&(r.len>t?((a=r.points)[1]=ge(a[0],a[1],-t),r.len=me(a[0],a[1])):(r.points=null,r.len=0),e.len>t+n?((a=e.points)[0]=ge(a[1],a[0],-(t+n)),e.len=me(a[0],a[1])):(e.points=null,e.len=0)),e):null})),s.reduce((function(e,t){var n=t.points;return n&&(a&&i(n[0],a)||e.push({type:"M",values:[n[0].x,n[0].y]}),"line"===t.type?e.push({type:"L",values:[n[1].x,n[1].y]}):(n.shift(),n.forEach((function(t){e.push({type:"L",values:[t.x,t.y]})}))),a=n[n.length-1]),e}),[])},newText:function(e,t,n,r){var a,s,i,o,u,c,h,d,p=t.createElementNS(P,"defs"),m=p.appendChild(t.createElementNS(P,"path"));return m.id=a=n+"-path",(o=(i=t.createElementNS(P,"text")).appendChild(t.createElementNS(P,"textPath"))).href.baseVal="#"+a,o.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.textContent=e,"boolean"!=typeof l&&(l="paintOrder"in i.style),r&&!l?(i.id=s=n+"-text",p.appendChild(i),(h=(u=t.createElementNS(P,"g")).appendChild(t.createElementNS(P,"use"))).href.baseVal="#"+s,(c=u.appendChild(t.createElementNS(P,"use"))).href.baseVal="#"+s,(d=h.style).strokeLinejoin="round",{elmPosition:i,elmPath:m,elmOffset:o,styleText:i.style,styleFill:c.style,styleStroke:d,styleShow:u.style,elmsAppend:[p,u]}):(d=i.style,r&&(d.strokeLinejoin="round",d.paintOrder="stroke"),{elmPosition:i,elmPath:m,elmOffset:o,styleText:d,styleFill:d,styleStroke:r?d:null,styleShow:d,elmsAppend:[p,i]})},initSvg:function(e,t){var r,a,s=n.pathLabel.newText(e.text,t.baseWindow.document,k+"-pathLabel-"+e._id,e.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach((function(t){e[t]=s[t]})),e.isShown=!1,e.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach((function(t){null!=e[t]&&(s.styleText[t]=e[t])})),s.elmsAppend.forEach((function(e){t.svg.appendChild(e)})),s.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),r=s.elmPosition.getBBox(),s.styleText.textAnchor=["start","end","middle"][e.semIndex],2!==e.semIndex||e.lineOffset||s.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),e.height=r.height,e.outlineColor&&(a=10<(a=r.height/9)?10:a<2?2:a,s.styleStroke.strokeWidth=a+"px",s.styleStroke.stroke=e.outlineColor),e.strokeWidth=a||0,De(e.aplStats,n.pathLabel.stats),e.updateColor(t),e.updatePath(t),e.updateStartOffset(t),j&&Me(t,{}),e.updateShow(t)},bind:function(e,t){var r=t.props;return e.color||ke(r,"cur_line_color",e.updateColor),ke(r,"cur_line_strokeWidth",e.updatePath),ke(r,"apl_path",e.updatePath),e.semIndex="startLabel"===t.optionName?0:"endLabel"===t.optionName?1:2,2===e.semIndex&&!e.lineOffset||ke(r,"cur_attach_plugBackLenSE",e.updateStartOffset),ke(r,"svgShow",e.updateShow),j&&ke(r,"new_edge4viewBox",e.adjustEdge),n.pathLabel.initSvg(e,r),!0},unbind:function(e,t){var r=t.props;e.elmsAppend&&(e.elmsAppend.forEach((function(e){r.svg.removeChild(e)})),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),De(e.curStats,n.pathLabel.stats),De(e.aplStats,n.pathLabel.stats),e.color||Ce(r,"cur_line_color",e.updateColor),Ce(r,"cur_line_strokeWidth",e.updatePath),Ce(r,"apl_path",e.updatePath),2===e.semIndex&&!e.lineOffset||Ce(r,"cur_attach_plugBackLenSE",e.updateStartOffset),Ce(r,"svgShow",e.updateShow),j&&(Ce(r,"new_edge4viewBox",e.adjustEdge),Me(r,{}))},removeOption:function(e,t){var n=t.props,r={};r[t.optionName]="",We(n,r)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.pathLabel.unbind(e,t)}))}}},Object.keys(n).forEach((function(e){Ue[e]=function(){return new r(n[e],Array.prototype.slice.call(arguments))}})),Ue.positionByWindowResize=!0,window.addEventListener("resize",Z.add((function(){Ue.positionByWindowResize&&Object.keys(ee).forEach((function(e){Me(ee[e],{position:!0})}))})),!1),Ue}();e.exports=t},1795:function(e,t,n){var r;e=n.nmd(e),function(){"use strict";var a={function:!0,object:!0},s=a[typeof window]&&window||this,i=a[typeof t]&&t,o=a.object&&e&&!e.nodeType&&e,l=i&&o&&"object"==typeof n.g&&n.g;!l||l.global!==l&&l.window!==l&&l.self!==l||(s=l);var u=Math.pow(2,53)-1,c=/\bOpera/,h=Object.prototype,d=h.hasOwnProperty,p=h.toString;function m(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function f(e){return e=v(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:m(e)}function g(e,t){for(var n in e)d.call(e,n)&&t(e[n],n,e)}function y(e){return null==e?m(e):p.call(e).slice(8,-1)}function b(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function w(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=u)for(;++n<r;)t(e[n],n,e);else g(e,t)}(e,(function(r,a){n=t(n,r,a,e)})),n}function v(e){return String(e).replace(/^ +| +$/g,"")}var A=function e(t){var n=s,r=t&&"object"==typeof t&&"String"!=y(t);r&&(n=t,t=null);var a=n.navigator||{},i=a.userAgent||"";t||(t=i);var o,l,u,h,d,m=r?!!a.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(p.toString()),A="Object",x=r?A:"ScriptBridgingProxyObject",k=r?A:"Environment",C=r&&n.java?"JavaPackage":y(n.java),S=r?A:"RuntimeObject",E=/\bJava/.test(C)&&n.java,I=E&&y(n.environment)==k,T=E?"a":"",N=E?"b":"",D=n.document||{},_=n.operamini||n.opera,O=c.test(O=r&&_?_["[[Class]]"]:y(_))?O:_=null,B=t,z=[],R=null,M=t==i,F=M&&_&&"function"==typeof _.version&&_.version(),P=w([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)})),L=function(e){return w(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),V=j([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),W=function(e){return w(e,(function(e,n,r){return e||(n[V]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(V)]||RegExp("\\b"+b(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),U=function(e){return w(e,(function(e,n){var r=n.pattern||b(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),f(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function j(e){return w(e,(function(e,n){var r=n.pattern||b(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=f(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function G(e){return w(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(P&&(P=[P]),/\bAndroid\b/.test(U)&&!V&&(o=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(V=v(o[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),W&&!V?V=j([W]):W&&V&&(V=V.replace(RegExp("^("+b(W)+")[-_.\\s]","i"),W+" ").replace(RegExp("^("+b(W)+")[-_.]?(\\w)","i"),W+" $2")),(o=/\bGoogle TV\b/.exec(V))&&(V=o[0]),/\bSimulator\b/i.test(t)&&(V=(V?V+" ":"")+"Simulator"),"Opera Mini"==L&&/\bOPiOS\b/.test(t)&&z.push("running in Turbo/Uncompressed mode"),"IE"==L&&/\blike iPhone OS\b/.test(t)?(W=(o=e(t.replace(/like iPhone OS/,""))).manufacturer,V=o.product):/^iP/.test(V)?(L||(L="Safari"),U="iOS"+((o=/ OS ([\d_]+)/i.exec(t))?" "+o[1].replace(/_/g,"."):"")):"Konqueror"==L&&/^Linux\b/i.test(U)?U="Kubuntu":W&&"Google"!=W&&(/Chrome/.test(L)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(V))||/\bAndroid\b/.test(U)&&/^Chrome/.test(L)&&/\bVersion\//i.test(t)?(L="Android Browser",U=/\bAndroid\b/.test(U)?U:"Android"):"Silk"==L?(/\bMobi/i.test(t)||(U="Android",z.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&z.unshift("accelerated")):"UC Browser"==L&&/\bUCWEB\b/.test(t)?z.push("speed mode"):"PaleMoon"==L&&(o=/\bFirefox\/([\d.]+)\b/.exec(t))?z.push("identifying as Firefox "+o[1]):"Firefox"==L&&(o=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(U||(U="Firefox OS"),V||(V=o[1])):!L||(o=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(L))?(L&&!V&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(o+"/")+8))&&(L=null),(o=V||W||U)&&(V||W||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(U))&&(L=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(U)?U:o)+" Browser")):"Electron"==L&&(o=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&z.push("Chromium "+o),F||(F=G(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",b(L),"(?:Firefox|Minefield|NetFront)"])),(o=("iCab"==P&&parseFloat(F)>3?"WebKit":/\bOpera\b/.test(L)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(P)&&"WebKit"||!P&&/\bMSIE\b/i.test(t)&&("Mac OS"==U?"Tasman":"Trident")||"WebKit"==P&&/\bPlayStation\b(?! Vita\b)/i.test(L)&&"NetFront")&&(P=[o]),"IE"==L&&(o=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(L+=" Mobile",U="Windows Phone "+(/\+$/.test(o)?o:o+".x"),z.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(L="IE Mobile",U="Windows Phone 8.x",z.unshift("desktop mode"),F||(F=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=L&&"Trident"==P&&(o=/\brv:([\d.]+)/.exec(t))&&(L&&z.push("identifying as "+L+(F?" "+F:"")),L="IE",F=o[1]),M){if(h="global",d=null!=(u=n)?typeof u[h]:"number",/^(?:boolean|number|string|undefined)$/.test(d)||"object"==d&&!u[h])y(o=n.runtime)==x?(L="Adobe AIR",U=o.flash.system.Capabilities.os):y(o=n.phantom)==S?(L="PhantomJS",F=(o=o.version||null)&&o.major+"."+o.minor+"."+o.patch):"number"==typeof D.documentMode&&(o=/\bTrident\/(\d+)/i.exec(t))?(F=[F,D.documentMode],(o=+o[1]+4)!=F[1]&&(z.push("IE "+F[1]+" mode"),P&&(P[1]=""),F[1]=o),F="IE"==L?String(F[1].toFixed(1)):F[0]):"number"==typeof D.documentMode&&/^(?:Chrome|Firefox)\b/.test(L)&&(z.push("masking as "+L+" "+F),L="IE",F="11.0",P=["Trident"],U="Windows");else if(E&&(B=(o=E.lang.System).getProperty("os.arch"),U=U||o.getProperty("os.name")+" "+o.getProperty("os.version")),I){try{F=n.require("ringo/engine").version.join("."),L="RingoJS"}catch(e){(o=n.system)&&o.global.system==n.system&&(L="Narwhal",U||(U=o[0].os||null))}L||(L="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(o=n.process)&&("object"==typeof o.versions&&("string"==typeof o.versions.electron?(z.push("Node "+o.versions.node),L="Electron",F=o.versions.electron):"string"==typeof o.versions.nw&&(z.push("Chromium "+F,"Node "+o.versions.node),L="NW.js",F=o.versions.nw)),L||(L="Node.js",B=o.arch,U=o.platform,F=(F=/[\d.]+/.exec(o.version))?F[0]:null));U=U&&f(U)}if(F&&(o=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(F)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(M&&a.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(R=/b/i.test(o)?"beta":"alpha",F=F.replace(RegExp(o+"\\+?$"),"")+("beta"==R?N:T)+(/\d+\+?/.exec(o)||"")),"Fennec"==L||"Firefox"==L&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(U))L="Firefox Mobile";else if("Maxthon"==L&&F)F=F.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(V))"Xbox 360"==V&&(U=null),"Xbox 360"==V&&/\bIEMobile\b/.test(t)&&z.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(L)&&(!L||V||/Browser|Mobi/.test(L))||"Windows CE"!=U&&!/Mobi/i.test(t))if("IE"==L&&M)try{null===n.external&&z.unshift("platform preview")}catch(e){z.unshift("embedded")}else(/\bBlackBerry\b/.test(V)||/\bBB10\b/.test(t))&&(o=(RegExp(V.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||F)?(U=((o=[o,/BB10/.test(t)])[1]?(V=null,W="BlackBerry"):"Device Software")+" "+o[0],F=null):this!=g&&"Wii"!=V&&(M&&_||/Opera/.test(L)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==L&&/\bOS X (?:\d+\.){2,}/.test(U)||"IE"==L&&(U&&!/^Win/.test(U)&&F>5.5||/\bWindows XP\b/.test(U)&&F>8||8==F&&!/\bTrident\b/.test(t)))&&!c.test(o=e.call(g,t.replace(c,"")+";"))&&o.name&&(o="ing as "+o.name+((o=o.version)?" "+o:""),c.test(L)?(/\bIE\b/.test(o)&&"Mac OS"==U&&(U=null),o="identify"+o):(o="mask"+o,L=O?f(O.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(o)&&(U=null),M||(F=null)),P=["Presto"],z.push(o));else L+=" Mobile";(o=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(o=[parseFloat(o.replace(/\.(\d)$/,".0$1")),o],"Safari"==L&&"+"==o[1].slice(-1)?(L="WebKit Nightly",R="alpha",F=o[1].slice(0,-1)):F!=o[1]&&F!=(o[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(F=null),o[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==o[0]&&537.36==o[2]&&parseFloat(o[1])>=28&&"WebKit"==P&&(P=["Blink"]),M&&(m||o[1])?(P&&(P[1]="like Chrome"),o=o[1]||((o=o[0])<530?1:o<532?2:o<532.05?3:o<533?4:o<534.03?5:o<534.07?6:o<534.1?7:o<534.13?8:o<534.16?9:o<534.24?10:o<534.3?11:o<535.01?12:o<535.02?"13+":o<535.07?15:o<535.11?16:o<535.19?17:o<536.05?18:o<536.1?19:o<537.01?20:o<537.11?"21+":o<537.13?23:o<537.18?24:o<537.24?25:o<537.36?26:"Blink"!=P?"27":"28")):(P&&(P[1]="like Safari"),o=(o=o[0])<400?1:o<500?2:o<526?3:o<533?4:o<534?"4+":o<535?5:o<537?6:o<538?7:o<601?8:o<602?9:o<604?10:o<606?11:o<608?12:"12"),P&&(P[1]+=" "+(o+="number"==typeof o?".x":/[.+]/.test(o)?"":"+")),"Safari"==L&&(!F||parseInt(F)>45)?F=o:"Chrome"==L&&/\bHeadlessChrome/i.test(t)&&z.unshift("headless")),"Opera"==L&&(o=/\bzbov|zvav$/.exec(U))?(L+=" ",z.unshift("desktop mode"),"zvav"==o?(L+="Mini",F=null):L+="Mobile",U=U.replace(RegExp(" *"+o+"$"),"")):"Safari"==L&&/\bChrome\b/.exec(P&&P[1])?(z.unshift("desktop mode"),L="Chrome Mobile",F=null,/\bOS X\b/.test(U)?(W="Apple",U="iOS 4.3+"):U=null):/\bSRWare Iron\b/.test(L)&&!F&&(F=G("Chrome")),F&&0==F.indexOf(o=/[\d.]+$/.exec(U))&&t.indexOf("/"+o+"-")>-1&&(U=v(U.replace(o,""))),U&&-1!=U.indexOf(L)&&!RegExp(L+" OS").test(U)&&(U=U.replace(RegExp(" *"+b(L)+" *"),"")),P&&!/\b(?:Avant|Nook)\b/.test(L)&&(/Browser|Lunascape|Maxthon/.test(L)||"Safari"!=L&&/^iOS/.test(U)&&/\bSafari\b/.test(P[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(L)&&P[1])&&(o=P[P.length-1])&&z.push(o),z.length&&(z=["("+z.join("; ")+")"]),W&&V&&V.indexOf(W)<0&&z.push("on "+W),V&&z.push((/^on /.test(z[z.length-1])?"":"on ")+V),U&&(o=/ ([\d.+]+)$/.exec(U),l=o&&"/"==U.charAt(U.length-o[0].length-1),U={architecture:32,family:o&&!l?U.replace(o[0],""):U,version:o?o[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(o=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(B))&&!/\bi686\b/i.test(B)?(U&&(U.architecture=64,U.family=U.family.replace(RegExp(" *"+o),"")),L&&(/\bWOW64\b/i.test(t)||M&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(t))&&z.unshift("32-bit")):U&&/^OS X/.test(U.family)&&"Chrome"==L&&parseFloat(F)>=39&&(U.architecture=64),t||(t=null);var q={};return q.description=t,q.layout=P&&P[0],q.manufacturer=W,q.name=L,q.prerelease=R,q.product=V,q.ua=t,q.version=L&&F,q.os=U||{architecture:null,family:null,version:null,toString:function(){return"null"}},q.parse=e,q.toString=function(){return this.description||""},q.version&&z.unshift(F),q.name&&z.unshift(L),U&&L&&(U!=String(U).split(" ")[0]||U!=L.split(" ")[0]&&!V)&&z.push(V?"("+U+")":"on "+U),z.length&&(q.description=z.join(" ")),q}();s.platform=A,void 0===(r=function(){return A}.call(t,n,t,e))||(e.exports=r)}.call(this)},9590:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,a="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;var o,l,u,c;if(Array.isArray(e)){if((o=e.length)!=i.length)return!1;for(l=o;0!=l--;)if(!s(e[l],i[l]))return!1;return!0}if(n&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!i.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!s(l.value[1],i.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!i.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if((o=e.length)!=i.length)return!1;for(l=o;0!=l--;)if(e[l]!==i[l])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if((o=(u=Object.keys(e)).length)!==Object.keys(i).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(i,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!s(e[u[l]],i[u[l]]))return!1;return!0}return e!=e&&i!=i}e.exports=function(e,t){try{return s(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return!1;throw e}}},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},i=[],o=0;o<e.length;o++){var l=e[o],u=r.base?l[0]+r.base:l[0],c=s[u]||0,h="".concat(u," ").concat(c);s[u]=c+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var m=a(p,r);r.byIndex=o,t.splice(o,0,{identifier:h,updater:m,references:1})}i.push(h)}return i}function a(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var s=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var o=n(s[i]);t[o].references--}for(var l=r(e,a),u=0;u<s.length;u++){var c=n(s[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9731:e=>{e.exports='<svg class="size-obj" id="size-arrow" viewBox="0 0 110 100" xmlns="http://www.w3.org/2000/svg"><path id="size-arrow-fill" d="m60 25v-25l-60 50 60 50v-25h50v-50z"></path></svg>'},3443:e=>{e.exports='<svg class="size-obj" id="size-card" viewBox="0 0 242.65 153.01" xmlns="http://www.w3.org/2000/svg"><rect fill="#555" height="153.01" rx="9" width="242.65"></rect><g fill="#595959"><path d="m0 12.79h242.65v1h-242.65z"></path><path d="m0 15.96h242.65v1h-242.65z"></path><path d="m0 19.12h242.65v1h-242.65z"></path><path d="m0 22.28h242.65v1h-242.65z"></path><path d="m0 25.44h242.65v1h-242.65z"></path><path d="m0 28.6h242.65v1h-242.65z"></path><path d="m0 31.76h242.65v1h-242.65z"></path><path d="m0 34.92h242.65v1h-242.65z"></path><path d="m0 38.08h242.65v1h-242.65z"></path><path d="m0 41.24h242.65v1h-242.65z"></path><path d="m0 44.4h242.65v1h-242.65z"></path><path d="m0 47.56h242.65v1h-242.65z"></path><path d="m0 50.72h242.65v1h-242.65z"></path><path d="m0 53.88h242.65v1h-242.65z"></path><path d="m0 57.04h242.65v1h-242.65z"></path><path d="m0 60.2h242.65v1h-242.65z"></path><path d="m0 63.36h242.65v1h-242.65z"></path><path d="m0 66.53h242.65v1h-242.65z"></path><path d="m0 69.69h242.65v1h-242.65z"></path><path d="m0 72.85h242.65v1h-242.65z"></path><path d="m0 76.01h242.65v1h-242.65z"></path><path d="m0 79.17h242.65v1h-242.65z"></path><path d="m0 82.33h242.65v1h-242.65z"></path><path d="m0 85.49h242.65v1h-242.65z"></path><path d="m0 88.65h242.65v1h-242.65z"></path><path d="m0 91.81h242.65v1h-242.65z"></path><path d="m0 94.97h242.65v1h-242.65z"></path><path d="m0 98.13h242.65v1h-242.65z"></path><path d="m0 101.29h242.65v1h-242.65z"></path><path d="m0 104.45h242.65v1h-242.65z"></path><path d="m0 107.61h242.65v1h-242.65z"></path><path d="m0 110.77h242.65v1h-242.65z"></path><path d="m0 113.93h242.65v1h-242.65z"></path><path d="m0 117.1h242.65v1h-242.65z"></path><path d="m0 120.26h242.65v1h-242.65z"></path><path d="m0 123.42h242.65v1h-242.65z"></path><path d="m0 126.58h242.65v1h-242.65z"></path><path d="m0 129.74h242.65v1h-242.65z"></path><path d="m0 132.9h242.65v1h-242.65z"></path><path d="m0 136.06h242.65v1h-242.65z"></path><path d="m0 139.22h242.65v1h-242.65z"></path></g><rect fill="#aaa" height="24.09" rx="4.25" width="34.02" x="20.27" y="53.15"></rect><path d="m28.27 102.89a4.28 4.28 0 0 1 -.8 1.58 3.5 3.5 0 0 1 -1.3 1 4.78 4.78 0 0 1 -3.49 0 3.28 3.28 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.67 4.67 0 0 1 3.5 0 3.64 3.64 0 0 1 1.31 1 4.45 4.45 0 0 1 .8 1.6 7.48 7.48 0 0 1 .29 2.16v3a7.55 7.55 0 0 1 -.29 2.17zm-1.38-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.9 1.9 0 0 0 -.74-.5 2.79 2.79 0 0 0 -1-.17 2.74 2.74 0 0 0 -1 .18 2.07 2.07 0 0 0 -.75.52 2.87 2.87 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.77 1.77 0 0 0 .72.45 3.08 3.08 0 0 0 1.93 0 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m39.08 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.81 4.81 0 0 1 -3.5 0 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.44 4.44 0 0 1 1.75-.34 4.37 4.37 0 0 1 1.79.38 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.86 7.86 0 0 1 .28 2.16v3a7.93 7.93 0 0 1 -.32 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.66 2.66 0 0 0 -1 .18 2 2 0 0 0 -.76.52 2.87 2.87 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 .95.15 2.72 2.72 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m49.88 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.81 4.81 0 0 1 -3.5 0 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .85-1.56 3.44 3.44 0 0 1 1.3-1 4.65 4.65 0 0 1 3.49 0 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.49 7.49 0 0 1 .28 2.16v3a7.56 7.56 0 0 1 -.31 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.25 2.25 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1.02-.14 2.66 2.66 0 0 0 -1 .18 1.91 1.91 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.38 2.38 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 1 .15 2.69 2.69 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.61 2.61 0 0 0 .6-1.12 6.63 6.63 0 0 0 .18-1.64z" fill="#eee"></path><path d="m60.68 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.37 4.37 0 0 1 -1.75.33 4.44 4.44 0 0 1 -1.75-.33 3.43 3.43 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.93 7.93 0 0 1 -.28-2.17v-3a7.86 7.86 0 0 1 .33-2.16 4.48 4.48 0 0 1 .82-1.6 3.52 3.52 0 0 1 1.3-1 4.35 4.35 0 0 1 1.74-.34 4.45 4.45 0 0 1 1.76.34 3.61 3.61 0 0 1 1.3 1 4.63 4.63 0 0 1 .81 1.6 7.49 7.49 0 0 1 .27 2.16v3a7.56 7.56 0 0 1 -.32 2.17zm-1.39-6.32a5 5 0 0 0 -.29-1.12 2.25 2.25 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.69 2.69 0 0 0 -1 .18 1.91 1.91 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.38 2.38 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 .95.15 2.69 2.69 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.61 2.61 0 0 0 .6-1.12 6.6 6.6 0 0 0 .19-1.64z" fill="#eee"></path><path d="m82.28 102.89a4.15 4.15 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.37 4.37 0 0 1 -1.75.33 4.44 4.44 0 0 1 -1.75-.33 3.32 3.32 0 0 1 -1.3-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.67 4.67 0 0 1 3.5 0 3.52 3.52 0 0 1 1.3 1 4.31 4.31 0 0 1 .81 1.6 7.49 7.49 0 0 1 .28 2.16v3a7.56 7.56 0 0 1 -.28 2.17zm-1.39-6.32a4.5 4.5 0 0 0 -.25-1.12 2.39 2.39 0 0 0 -.48-.81 1.9 1.9 0 0 0 -.74-.5 2.79 2.79 0 0 0 -1-.17 2.74 2.74 0 0 0 -1 .18 2.07 2.07 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.36 2.36 0 0 0 .52.81 1.91 1.91 0 0 0 .72.45 2.87 2.87 0 0 0 1 .15 2.78 2.78 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.6 2.6 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m93.09 102.89a4.45 4.45 0 0 1 -.81 1.58 3.5 3.5 0 0 1 -1.3 1 4.35 4.35 0 0 1 -1.74.33 4.4 4.4 0 0 1 -1.75-.33 3.28 3.28 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.67 4.67 0 0 1 3.53.04 3.64 3.64 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.86 7.86 0 0 1 .28 2.16v3a7.93 7.93 0 0 1 -.31 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.9 1.9 0 0 0 -.74-.5 2.79 2.79 0 0 0 -1-.17 2.74 2.74 0 0 0 -1 .18 2.07 2.07 0 0 0 -.75.52 2.87 2.87 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.84 1.84 0 0 0 .72.45 3.08 3.08 0 0 0 1.93 0 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m103.89 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.81 4.81 0 0 1 -3.5 0 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .84-1.56 3.44 3.44 0 0 1 1.3-1 4.65 4.65 0 0 1 3.49 0 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.86 7.86 0 0 1 .28 2.16v3a7.93 7.93 0 0 1 -.3 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.66 2.66 0 0 0 -1 .18 2 2 0 0 0 -.76.52 3 3 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 1 .15 2.72 2.72 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m114.69 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.37 4.37 0 0 1 -1.75.33 4.44 4.44 0 0 1 -1.75-.33 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.93 7.93 0 0 1 -.28-2.17v-3a7.86 7.86 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.44 3.44 0 0 1 1.3-1 4.65 4.65 0 0 1 3.49 0 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.49 7.49 0 0 1 .28 2.16v3a7.56 7.56 0 0 1 -.28 2.17zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.25 2.25 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.66 2.66 0 0 0 -1 .18 1.91 1.91 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.38 2.38 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 1 .15 2.69 2.69 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.61 2.61 0 0 0 .6-1.12 6.6 6.6 0 0 0 .19-1.64z" fill="#eee"></path><path d="m132.19 105.62v-10.73l-3.35 1.28v-1.49l4.84-1.86h.13v12.8z" fill="#eee"></path><path d="m138.81 105.62v-1.17l4.19-4.66c.37-.42.69-.79.94-1.11a7.55 7.55 0 0 0 .61-.9 3.18 3.18 0 0 0 .32-.76 3.23 3.23 0 0 0 .1-.76 2.42 2.42 0 0 0 -.16-.89 2 2 0 0 0 -.44-.72 2.14 2.14 0 0 0 -.72-.49 2.35 2.35 0 0 0 -.94-.18 3.07 3.07 0 0 0 -1.11.18 2.09 2.09 0 0 0 -.78.52 2.19 2.19 0 0 0 -.47.83 3.6 3.6 0 0 0 -.16 1.08h-1.63a4.12 4.12 0 0 1 .28-1.53 3.73 3.73 0 0 1 2.16-2.06 4.55 4.55 0 0 1 1.75-.32 4.64 4.64 0 0 1 1.63.27 3.62 3.62 0 0 1 1.22.74 3.16 3.16 0 0 1 .77 1.13 3.62 3.62 0 0 1 .27 1.41 3.39 3.39 0 0 1 -.19 1.13 5.86 5.86 0 0 1 -.52 1.11 9.25 9.25 0 0 1 -.77 1.07c-.29.36-.6.71-.92 1.06l-3.43 3.73h6.42v1.33z" fill="#eee"></path><path d="m153.2 98.43a3.33 3.33 0 0 0 1.09-.16 2.35 2.35 0 0 0 .79-.46 1.89 1.89 0 0 0 .49-.69 2.35 2.35 0 0 0 .16-.89 3 3 0 0 0 -.15-1 1.78 1.78 0 0 0 -.44-.71 1.75 1.75 0 0 0 -.69-.4 2.85 2.85 0 0 0 -1-.14 2.81 2.81 0 0 0 -.94.15 2 2 0 0 0 -.73.45 2 2 0 0 0 -.47.69 2.38 2.38 0 0 0 -.17.91h-1.63a3.34 3.34 0 0 1 1.09-2.51 3.68 3.68 0 0 1 1.24-.75 4.35 4.35 0 0 1 1.61-.28 4.94 4.94 0 0 1 1.58.24 3.26 3.26 0 0 1 1.22.69 3.07 3.07 0 0 1 .79 1.13 4 4 0 0 1 .28 1.56 3 3 0 0 1 -.11.77 2.93 2.93 0 0 1 -.36.76 2.88 2.88 0 0 1 -.61.71 3.27 3.27 0 0 1 -.89.55 3.18 3.18 0 0 1 1 .53 2.73 2.73 0 0 1 1 1.58 3.86 3.86 0 0 1 .1.89 4 4 0 0 1 -.3 1.59 3.36 3.36 0 0 1 -.86 1.17 3.71 3.71 0 0 1 -1.29.73 4.84 4.84 0 0 1 -1.6.25 5.08 5.08 0 0 1 -1.58-.24 3.63 3.63 0 0 1 -1.29-.69 3.29 3.29 0 0 1 -.87-1.12 3.44 3.44 0 0 1 -.32-1.5h1.63a2.24 2.24 0 0 0 .17.91 1.85 1.85 0 0 0 .49.71 2.24 2.24 0 0 0 .77.45 3.52 3.52 0 0 0 2 0 2.16 2.16 0 0 0 .77-.44 2.08 2.08 0 0 0 .49-.75 3 3 0 0 0 .17-1 2.49 2.49 0 0 0 -.2-1 2.1 2.1 0 0 0 -.55-.73 2.53 2.53 0 0 0 -.87-.43 4.21 4.21 0 0 0 -1.11-.14h-1.1v-1.39z" fill="#eee"></path><path d="m169.32 101.32v1.32h-1.78v3h-1.63v-3h-5.83v-1l5.73-8.87h1.73v8.5zm-3.41 0v-6.32l-.26.49-3.77 5.85z" fill="#eee"></path><path d="m183.77 92.82h6.57v1.58h-5.2l-.36 3.41a4.87 4.87 0 0 1 .91-.39 4.1 4.1 0 0 1 1.22-.16 4 4 0 0 1 1.59.3 3.37 3.37 0 0 1 1.19.87 3.86 3.86 0 0 1 .76 1.35 5.42 5.42 0 0 1 .26 1.76 5.7 5.7 0 0 1 -.24 1.69 3.76 3.76 0 0 1 -.74 1.35 3.31 3.31 0 0 1 -1.26.89 4.55 4.55 0 0 1 -1.77.32 4.78 4.78 0 0 1 -1.48-.22 3.49 3.49 0 0 1 -1.23-.66 3.38 3.38 0 0 1 -.89-1.11 4.26 4.26 0 0 1 -.44-1.55h1.55a2.54 2.54 0 0 0 .8 1.65 2.48 2.48 0 0 0 1.69.56 2.43 2.43 0 0 0 1-.2 2.08 2.08 0 0 0 .75-.6 2.5 2.5 0 0 0 .45-.91 4.1 4.1 0 0 0 .16-1.2 3.63 3.63 0 0 0 -.17-1.11 2.77 2.77 0 0 0 -.5-.91 2.25 2.25 0 0 0 -.8-.59 2.53 2.53 0 0 0 -1.09-.22 4.68 4.68 0 0 0 -.7 0 2.54 2.54 0 0 0 -.53.17 2.09 2.09 0 0 0 -.44.25c-.14.1-.28.21-.43.34l-1.3-.33z" fill="#eee"></path><path d="m199.34 94.27h-.14a5.15 5.15 0 0 0 -2 .33 3.77 3.77 0 0 0 -1.34.88 3.88 3.88 0 0 0 -.84 1.38 6.13 6.13 0 0 0 -.34 1.65 3.21 3.21 0 0 1 .53-.51 4 4 0 0 1 .65-.41 4.33 4.33 0 0 1 .74-.27 3.86 3.86 0 0 1 .84-.1 3.41 3.41 0 0 1 1.65.37 3.27 3.27 0 0 1 1.15 1 4 4 0 0 1 .66 1.35 5.8 5.8 0 0 1 0 3.23 3.86 3.86 0 0 1 -.76 1.38 3.43 3.43 0 0 1 -1.24.94 4 4 0 0 1 -1.72.34 3.71 3.71 0 0 1 -1.73-.39 4.1 4.1 0 0 1 -1.26-1 4.82 4.82 0 0 1 -.85-1.62 6.31 6.31 0 0 1 -.28-1.86v-.77a13.29 13.29 0 0 1 .38-3.14 5.41 5.41 0 0 1 1.48-2.65 4.9 4.9 0 0 1 1.83-1.14 7.46 7.46 0 0 1 2.45-.38h.14zm-2.92 4.44a2.73 2.73 0 0 0 -.72.37 2.45 2.45 0 0 0 -.59.57 2.81 2.81 0 0 0 -.41.74v.54a4.94 4.94 0 0 0 .21 1.5 3.32 3.32 0 0 0 .54 1.1 2.3 2.3 0 0 0 .79.68 2 2 0 0 0 .94.24 2.31 2.31 0 0 0 1-.22 2.13 2.13 0 0 0 .75-.61 2.69 2.69 0 0 0 .45-.93 4 4 0 0 0 .16-1.17 4.34 4.34 0 0 0 -.14-1.09 3.17 3.17 0 0 0 -.43-1 2.42 2.42 0 0 0 -.73-.66 2.15 2.15 0 0 0 -1-.24 2.4 2.4 0 0 0 -.82.18z" fill="#eee"></path><path d="m207 105.62h-1.71l5.28-11.38h-6.92v-1.42h8.65v.91z" fill="#eee"></path><path d="m222.58 97.36a3 3 0 0 1 -.66 1 4.15 4.15 0 0 1 -.44.38 4.6 4.6 0 0 1 -.48.26 4.33 4.33 0 0 1 .89.52 3.36 3.36 0 0 1 .69.72 3.45 3.45 0 0 1 .44.88 3.33 3.33 0 0 1 .15 1 3.64 3.64 0 0 1 -.32 1.55 3.26 3.26 0 0 1 -.87 1.13 3.85 3.85 0 0 1 -1.29.71 5.08 5.08 0 0 1 -1.58.24 5.22 5.22 0 0 1 -1.61-.24 3.54 3.54 0 0 1 -1.28-.7 3.15 3.15 0 0 1 -.87-1.13 3.65 3.65 0 0 1 -.32-1.56 3.33 3.33 0 0 1 .15-1 3.19 3.19 0 0 1 .43-.89 3.5 3.5 0 0 1 .68-.71 3.74 3.74 0 0 1 .89-.53 3.4 3.4 0 0 1 -.77-.5 3.07 3.07 0 0 1 -.58-.67 3 3 0 0 1 -.37-.79 3 3 0 0 1 -.13-.9 3.7 3.7 0 0 1 .28-1.49 3.05 3.05 0 0 1 .78-1.1 3.37 3.37 0 0 1 1.18-.69 4.87 4.87 0 0 1 3 0 3.56 3.56 0 0 1 1.2.69 3 3 0 0 1 .8 1.1 3.7 3.7 0 0 1 .29 1.49 3.18 3.18 0 0 1 -.28 1.23zm-1.27 3.78a2.38 2.38 0 0 0 -.5-.77 2.25 2.25 0 0 0 -.78-.49 2.84 2.84 0 0 0 -2 0 2.2 2.2 0 0 0 -.77.49 2.18 2.18 0 0 0 -.48.77 2.64 2.64 0 0 0 -.17 1 2.61 2.61 0 0 0 .17 1 2 2 0 0 0 .48.73 2.29 2.29 0 0 0 .77.46 3.22 3.22 0 0 0 1 .15 3.05 3.05 0 0 0 1-.15 2.33 2.33 0 0 0 .78-.46 2.18 2.18 0 0 0 .49-.73 2.61 2.61 0 0 0 .18-1 2.64 2.64 0 0 0 -.17-1zm-.31-5.84a2.24 2.24 0 0 0 -.44-.71 2.17 2.17 0 0 0 -.69-.45 2.21 2.21 0 0 0 -.87-.14 2.39 2.39 0 0 0 -.86.15 1.93 1.93 0 0 0 -.67.45 2 2 0 0 0 -.43.7 2.64 2.64 0 0 0 0 1.81 2 2 0 0 0 .44.68 1.91 1.91 0 0 0 .67.44 2.57 2.57 0 0 0 1.73 0 2.08 2.08 0 0 0 .69-.44 2.21 2.21 0 0 0 .44-.69 2.57 2.57 0 0 0 .15-.9 2.3 2.3 0 0 0 -.16-.9z" fill="#eee"></path><path d="m134.18 130.55a3.06 3.06 0 0 1 -.54 1 2.31 2.31 0 0 1 -.86.66 2.87 2.87 0 0 1 -1.17.22 2.94 2.94 0 0 1 -1.17-.22 2.15 2.15 0 0 1 -.87-.66 2.75 2.75 0 0 1 -.54-1 5 5 0 0 1 -.19-1.45v-2a4.88 4.88 0 0 1 .19-1.44 2.92 2.92 0 0 1 .54-1.07 2.34 2.34 0 0 1 .87-.65 3.07 3.07 0 0 1 2.33 0 2.43 2.43 0 0 1 .87.65 3.26 3.26 0 0 1 .54 1.07 5.25 5.25 0 0 1 .18 1.44v2a5.33 5.33 0 0 1 -.18 1.45zm-.93-4.21a3 3 0 0 0 -.17-.75 1.44 1.44 0 0 0 -.32-.54 1.31 1.31 0 0 0 -.49-.34 2 2 0 0 0 -.67-.11 1.76 1.76 0 0 0 -.68.12 1.29 1.29 0 0 0 -.5.35 1.78 1.78 0 0 0 -.37.74 4.1 4.1 0 0 0 -.12 1v2zm0 1.78v-.75l-3.25 2.54a2.66 2.66 0 0 0 .19.75 1.49 1.49 0 0 0 .35.54 1.31 1.31 0 0 0 .48.3 1.81 1.81 0 0 0 .63.1 1.69 1.69 0 0 0 .66-.11 1.23 1.23 0 0 0 .48-.32 1.79 1.79 0 0 0 .4-.75 4.37 4.37 0 0 0 .12-1.09z" fill="#aaa"></path><path d="m138.25 127.58a2.27 2.27 0 0 0 .72-.11 1.61 1.61 0 0 0 .53-.31 1.39 1.39 0 0 0 .33-.46 1.63 1.63 0 0 0 .11-.59 2.2 2.2 0 0 0 -.1-.67 1.19 1.19 0 0 0 -.3-.47 1.17 1.17 0 0 0 -.46-.27 2.11 2.11 0 0 0 -.64-.09 1.81 1.81 0 0 0 -.63.1 1.31 1.31 0 0 0 -.48.3 1.27 1.27 0 0 0 -.32.46 1.64 1.64 0 0 0 -.11.6h-1.09a2.4 2.4 0 0 1 .19-.92 2.47 2.47 0 0 1 .54-.75 2.56 2.56 0 0 1 .83-.5 3 3 0 0 1 1.07-.18 3.46 3.46 0 0 1 1.05.15 2.27 2.27 0 0 1 .82.46 2.06 2.06 0 0 1 .52.76 2.61 2.61 0 0 1 .19 1 1.59 1.59 0 0 1 -.08.51 1.67 1.67 0 0 1 -.23.51 2.23 2.23 0 0 1 -.41.47 2 2 0 0 1 -.59.37 2 2 0 0 1 .69.35 1.73 1.73 0 0 1 .45.49 1.7 1.7 0 0 1 .23.56 2.46 2.46 0 0 1 .07.6 2.57 2.57 0 0 1 -.21 1.06 2.29 2.29 0 0 1 -.56.78 2.58 2.58 0 0 1 -.86.48 3.12 3.12 0 0 1 -1.07.17 3.32 3.32 0 0 1 -1.06-.16 2.45 2.45 0 0 1 -.86-.46 2.24 2.24 0 0 1 -.79-1.75h1.09a1.48 1.48 0 0 0 .11.61 1.31 1.31 0 0 0 .32.47 1.58 1.58 0 0 0 .52.3 2 2 0 0 0 .67.11 2.35 2.35 0 0 0 .67-.1 1.29 1.29 0 0 0 .83-.79 1.86 1.86 0 0 0 .12-.7 1.6 1.6 0 0 0 -.14-.69 1.32 1.32 0 0 0 -.36-.48 1.58 1.58 0 0 0 -.58-.29 2.83 2.83 0 0 0 -.74-.09h-.77v-.88z" fill="#aaa"></path><path d="m143.87 132.48 3.56-9.26h1l-3.56 9.26z" fill="#aaa"></path><path d="m150.26 132.48v-.78l2.79-3.1c.25-.28.46-.53.63-.74a6.22 6.22 0 0 0 .4-.6 2.18 2.18 0 0 0 .22-.51 2.07 2.07 0 0 0 .06-.5 1.72 1.72 0 0 0 -.1-.6 1.5 1.5 0 0 0 -.3-.48 1.43 1.43 0 0 0 -.47-.33 1.61 1.61 0 0 0 -.63-.12 1.82 1.82 0 0 0 -.74.13 1.27 1.27 0 0 0 -.52.34 1.5 1.5 0 0 0 -.32.55 2.37 2.37 0 0 0 -.1.72h-1.09a2.63 2.63 0 0 1 .19-1 2.47 2.47 0 0 1 .54-.84 2.63 2.63 0 0 1 .87-.57 3.35 3.35 0 0 1 2.25 0 2.31 2.31 0 0 1 .82.5 2.17 2.17 0 0 1 .51.75 2.42 2.42 0 0 1 .18.94 2.15 2.15 0 0 1 -.13.75 3.78 3.78 0 0 1 -.34.74 6.49 6.49 0 0 1 -.52.72c-.19.23-.39.47-.61.7l-2.29 2.49h4.28v.88z" fill="#aaa"></path><path d="m163 130.55a2.75 2.75 0 0 1 -.54 1 2.23 2.23 0 0 1 -.86.66 3.19 3.19 0 0 1 -2.33 0 2.09 2.09 0 0 1 -.87-.66 2.91 2.91 0 0 1 -.55-1 5.31 5.31 0 0 1 -.19-1.45v-2a5.23 5.23 0 0 1 .19-1.44 3.09 3.09 0 0 1 .55-1.07 2.31 2.31 0 0 1 .86-.65 3.07 3.07 0 0 1 2.33 0 2.43 2.43 0 0 1 .87.65 2.92 2.92 0 0 1 .54 1.07 4.88 4.88 0 0 1 .19 1.44v2a5 5 0 0 1 -.19 1.45zm-.92-4.21a3.47 3.47 0 0 0 -.17-.75 1.45 1.45 0 0 0 -.33-.54 1.23 1.23 0 0 0 -.49-.34 1.92 1.92 0 0 0 -.67-.11 1.83 1.83 0 0 0 -.68.12 1.37 1.37 0 0 0 -.5.35 1.91 1.91 0 0 0 -.37.74 4.1 4.1 0 0 0 -.12 1v2zm0 1.78v-.75l-3.32 2.54a3 3 0 0 0 .19.75 1.63 1.63 0 0 0 .35.54 1.31 1.31 0 0 0 .48.3 1.83 1.83 0 0 0 .64.1 1.67 1.67 0 0 0 .65-.11 1.34 1.34 0 0 0 .49-.32 1.68 1.68 0 0 0 .39-.75 3.92 3.92 0 0 0 .13-1.09z" fill="#aaa"></path><path d="m21.35 128.88v3.48h-1.08v-8.53h2.5a4.45 4.45 0 0 1 1.12.17 2.83 2.83 0 0 1 .93.48 2.21 2.21 0 0 1 .62.79 2.6 2.6 0 0 1 .22 1.12 2.35 2.35 0 0 1 -.12.77 2.3 2.3 0 0 1 -.33.62 2.37 2.37 0 0 1 -.5.5 3 3 0 0 1 -.65.37l1.82 3.64v.07h-1.15l-1.68-3.48zm1.45-.88a2.15 2.15 0 0 0 .68-.11 1.74 1.74 0 0 0 .57-.31 1.48 1.48 0 0 0 .38-.51 1.45 1.45 0 0 0 .14-.68 1.81 1.81 0 0 0 -.13-.72 1.48 1.48 0 0 0 -.38-.51 1.57 1.57 0 0 0 -.57-.31 2.36 2.36 0 0 0 -.72-.12h-1.42v3.27z" fill="#aaa"></path><path d="m29.17 131.07a.8.8 0 0 1 .63-.25.81.81 0 0 1 .65.25.88.88 0 0 1 .22.59.8.8 0 0 1 -.23.58.83.83 0 0 1 -.64.24.79.79 0 0 1 -.63-.24.85.85 0 0 1 -.22-.58.88.88 0 0 1 .22-.59z" fill="#aaa"></path><path d="m46 130.89a2.7 2.7 0 0 1 -.59.84 2.82 2.82 0 0 1 -.87.56 3.1 3.1 0 0 1 -1.12.19 2.93 2.93 0 0 1 -1-.15 2.78 2.78 0 0 1 -.76-.41 2.63 2.63 0 0 1 -.58-.62 3.2 3.2 0 0 1 -.4-.78 5.07 5.07 0 0 1 -.25-.89 5.74 5.74 0 0 1 -.08-.93v-1.19a5.86 5.86 0 0 1 .08-.94 5.33 5.33 0 0 1 .25-.89 3.2 3.2 0 0 1 .4-.78 2.45 2.45 0 0 1 .58-.62 2.53 2.53 0 0 1 .76-.41 2.93 2.93 0 0 1 1-.15 3.19 3.19 0 0 1 1.15.19 2.51 2.51 0 0 1 .86.56 2.92 2.92 0 0 1 .59.86 4.28 4.28 0 0 1 .29 1.12h-1.12a2.71 2.71 0 0 0 -.18-.72 1.92 1.92 0 0 0 -.35-.59 1.52 1.52 0 0 0 -.53-.4 1.84 1.84 0 0 0 -.74-.14 1.62 1.62 0 0 0 -.68.13 1.52 1.52 0 0 0 -.51.34 2.06 2.06 0 0 0 -.36.5 4 4 0 0 0 -.23.61 3.82 3.82 0 0 0 -.12.66 5 5 0 0 0 0 .66v1.2a4.82 4.82 0 0 0 0 .65 3.82 3.82 0 0 0 .12.66 3.67 3.67 0 0 0 .23.61 1.68 1.68 0 0 0 .36.51 1.54 1.54 0 0 0 .51.35 1.76 1.76 0 0 0 .68.12 1.85 1.85 0 0 0 .74-.13 1.47 1.47 0 0 0 .53-.38 1.82 1.82 0 0 0 .35-.57 2.71 2.71 0 0 0 .18-.72h1.09a4.29 4.29 0 0 1 -.28 1.09z" fill="#aaa"></path><path d="m51.65 132.06c0-.13 0-.25 0-.39a2.25 2.25 0 0 1 -.37.31 2.13 2.13 0 0 1 -.44.26 2.9 2.9 0 0 1 -.52.18 2.74 2.74 0 0 1 -.59.06 2.9 2.9 0 0 1 -.91-.14 2.32 2.32 0 0 1 -.69-.4 1.69 1.69 0 0 1 -.44-.59 1.85 1.85 0 0 1 -.15-.74 2 2 0 0 1 .2-.92 1.84 1.84 0 0 1 .59-.65 2.75 2.75 0 0 1 .92-.39 5 5 0 0 1 1.2-.13h1.18v-.52a1.19 1.19 0 0 0 -.1-.51 1.08 1.08 0 0 0 -.3-.4 1.6 1.6 0 0 0 -.47-.24 2.2 2.2 0 0 0 -1.21 0 1.58 1.58 0 0 0 -.43.22 1.18 1.18 0 0 0 -.27.32.86.86 0 0 0 -.1.38h-1.14a1.72 1.72 0 0 1 .18-.68 2.16 2.16 0 0 1 .5-.6 2.6 2.6 0 0 1 .79-.43 3.19 3.19 0 0 1 1.06-.16 3.56 3.56 0 0 1 1 .13 2.39 2.39 0 0 1 .8.39 1.92 1.92 0 0 1 .53.67 2.12 2.12 0 0 1 .2.93v2.98a5.29 5.29 0 0 0 0 .67 3.07 3.07 0 0 0 .17.62v.09h-1.08a1 1 0 0 1 -.11-.32zm-1.22-.6a2.61 2.61 0 0 0 .51-.22 1.66 1.66 0 0 0 .38-.31 1.27 1.27 0 0 0 .26-.36v-1.28h-1a4.1 4.1 0 0 0 -1 .1 1.55 1.55 0 0 0 -.66.29.94.94 0 0 0 -.27.33 1 1 0 0 0 -.09.44 1.23 1.23 0 0 0 .08.44.88.88 0 0 0 .24.34 1.06 1.06 0 0 0 .39.23 1.89 1.89 0 0 0 .56.08 2.21 2.21 0 0 0 .6-.08z" fill="#aaa"></path><path d="m57.84 123.36v8.07h2.07v.93h-5.31v-.93h2.16v-7.12h-2.16v-1z" fill="#aaa"></path><path d="m64.68 126v5.41h2.07v.93h-5.31v-.93h2.16v-4.41h-2.16v-1zm-1.18-1.9a.46.46 0 0 1 .14-.21.56.56 0 0 1 .2-.12.75.75 0 0 1 .54 0 .52.52 0 0 1 .19.12.48.48 0 0 1 .14.2.76.76 0 0 1 .05.27.61.61 0 0 1 -.16.44.64.64 0 0 1 -.49.18.63.63 0 0 1 -.49-.18.61.61 0 0 1 -.16-.44.75.75 0 0 1 .04-.26z" fill="#aaa"></path><path d="m73.43 130.06a3.79 3.79 0 0 1 -.18.72 3.12 3.12 0 0 1 -.42.79 2.24 2.24 0 0 1 -.61.58 2.15 2.15 0 0 1 -.56.24 2.41 2.41 0 0 1 -.67.09 2.57 2.57 0 0 1 -.75-.1 1.86 1.86 0 0 1 -.6-.29 2.43 2.43 0 0 1 -.25-.2 1.79 1.79 0 0 1 -.22-.25v.72h-1v-9h1.03v3.34a2.13 2.13 0 0 1 .3-.3 1.74 1.74 0 0 1 .36-.24 1.93 1.93 0 0 1 .51-.19 2.93 2.93 0 0 1 .61-.06 2.33 2.33 0 0 1 .76.11 2.08 2.08 0 0 1 1.07.76 3.53 3.53 0 0 1 .36.6 4.41 4.41 0 0 1 .24.82 5.58 5.58 0 0 1 .08.94v.12a5.1 5.1 0 0 1 -.06.8zm-1.06-1.5a4.28 4.28 0 0 0 -.12-.54 3 3 0 0 0 -.27-.57 1.38 1.38 0 0 0 -.8-.56 1.65 1.65 0 0 0 -1.4.21 1.44 1.44 0 0 0 -.33.32 2 2 0 0 0 -.25.39v2.77a3.73 3.73 0 0 0 .25.39 1.93 1.93 0 0 0 .33.31 1.56 1.56 0 0 0 .43.21 1.61 1.61 0 0 0 .51.07 1.49 1.49 0 0 0 .49-.07 1.24 1.24 0 0 0 .4-.19 1.46 1.46 0 0 0 .4-.42 2.87 2.87 0 0 0 .25-.56 2.61 2.61 0 0 0 .11-.5 5.12 5.12 0 0 0 0-.56v-.12a5.49 5.49 0 0 0 0-.58z" fill="#aaa"></path><path d="m79.73 126a1.89 1.89 0 0 1 .49.11l-.14 1.06a4.69 4.69 0 0 0 -.6-.1 5.74 5.74 0 0 0 -.6 0 2.73 2.73 0 0 0 -.72.09 1.75 1.75 0 0 0 -.56.29 1.61 1.61 0 0 0 -.38.4 2.2 2.2 0 0 0 -.27.53v4.06h-1.09v-6.44h1v.85.15a2.9 2.9 0 0 1 .93-.82 2.49 2.49 0 0 1 1.23-.3 4.4 4.4 0 0 1 .71.12z" fill="#aaa"></path><path d="m85.86 132.06c0-.13 0-.25-.06-.39a2.17 2.17 0 0 1 -.36.31 2.43 2.43 0 0 1 -.44.26 3 3 0 0 1 -.53.18 2.65 2.65 0 0 1 -.58.06 2.85 2.85 0 0 1 -.91-.14 2.32 2.32 0 0 1 -.69-.4 1.76 1.76 0 0 1 -.6-1.33 1.92 1.92 0 0 1 .21-.92 1.75 1.75 0 0 1 .59-.65 2.66 2.66 0 0 1 .92-.39 4.82 4.82 0 0 1 1.19-.13h1.19v-.52a1.19 1.19 0 0 0 -.11-.51 1.08 1.08 0 0 0 -.3-.4 1.48 1.48 0 0 0 -.47-.24 2 2 0 0 0 -.62-.09 2 2 0 0 0 -.58.08 1.58 1.58 0 0 0 -.43.22.91.91 0 0 0 -.27.32.75.75 0 0 0 -.1.38h-1.09a1.44 1.44 0 0 1 .18-.68 1.86 1.86 0 0 1 .5-.6 2.48 2.48 0 0 1 .79-.43 3.15 3.15 0 0 1 1.06-.16 3.56 3.56 0 0 1 1 .13 2.49 2.49 0 0 1 .8.39 2 2 0 0 1 .53.67 2.12 2.12 0 0 1 .19.93v2.99a4 4 0 0 0 .06.67 3.1 3.1 0 0 0 .16.62v.09h-1.09a1.5 1.5 0 0 1 -.14-.32zm-1.22-.6a2.52 2.52 0 0 0 .5-.22 1.72 1.72 0 0 0 .39-.31 1.5 1.5 0 0 0 .26-.36v-1.28h-1a4 4 0 0 0 -1 .1 1.66 1.66 0 0 0 -.67.29 1 1 0 0 0 -.26.33 1 1 0 0 0 -.09.44 1.23 1.23 0 0 0 .07.44 1.16 1.16 0 0 0 .24.34 1.2 1.2 0 0 0 .4.23 1.89 1.89 0 0 0 .56.08 2.21 2.21 0 0 0 .6-.08z" fill="#aaa"></path><path d="m91.2 126h2.42v.84h-2.42v3.45a1.77 1.77 0 0 0 .1.61 1 1 0 0 0 .26.38.89.89 0 0 0 .37.2 1.76 1.76 0 0 0 .46.06h.36.37l.33-.06.26-.06.15.77a1.7 1.7 0 0 1 -.33.15l-.42.1-.48.07h-.51a2.52 2.52 0 0 1 -.79-.12 1.73 1.73 0 0 1 -.64-.38 1.87 1.87 0 0 1 -.42-.67 3 3 0 0 1 -.16-1v-3.45h-1.66v-.89h1.66v-1.53h1.09z" fill="#aaa"></path><path d="m95.37 127.86a3.19 3.19 0 0 1 .58-1 2.53 2.53 0 0 1 .9-.68 3 3 0 0 1 2.41 0 2.56 2.56 0 0 1 .91.68 3 3 0 0 1 .57 1 4 4 0 0 1 .2 1.28v.12a4 4 0 0 1 -.2 1.28 3 3 0 0 1 -.57 1 2.82 2.82 0 0 1 -.91.68 2.86 2.86 0 0 1 -1.2.24 2.94 2.94 0 0 1 -1.21-.24 2.78 2.78 0 0 1 -.9-.68 3.19 3.19 0 0 1 -.58-1 4 4 0 0 1 -.2-1.28v-.12a4 4 0 0 1 .2-1.28zm1 2.3a2.33 2.33 0 0 0 .34.75 1.82 1.82 0 0 0 .56.51 1.82 1.82 0 0 0 1.58 0 1.82 1.82 0 0 0 .56-.51 2.57 2.57 0 0 0 .34-.75 3.7 3.7 0 0 0 .11-.9v-.12a3.24 3.24 0 0 0 -.12-.89 2.55 2.55 0 0 0 -.33-.75 2 2 0 0 0 -.57-.51 1.54 1.54 0 0 0 -.79-.19 1.5 1.5 0 0 0 -.78.19 1.71 1.71 0 0 0 -.56.51 2.33 2.33 0 0 0 -.34.75 3.68 3.68 0 0 0 -.11.89v.12a3.7 3.7 0 0 0 .11.9z" fill="#aaa"></path><path d="m107.1 126a1.89 1.89 0 0 1 .49.11l-.15 1.06a4.69 4.69 0 0 0 -.6-.1 5.68 5.68 0 0 0 -.59 0 2.63 2.63 0 0 0 -.72.09 1.7 1.7 0 0 0 -.57.29 1.57 1.57 0 0 0 -.37.4 2.2 2.2 0 0 0 -.27.53v4.06h-1.09v-6.44h1v.85.15a2.9 2.9 0 0 1 .93-.82 2.5 2.5 0 0 1 1.24-.3 4.59 4.59 0 0 1 .7.12z" fill="#aaa"></path></svg>'},923:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"></path><circle cx="12" cy="12" r="3"></circle><path d="M20 4h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65H9.88c-.56 0-1.1.24-1.48.65L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></svg>'},8859:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000"><path d="M0 0h24v24H0z" fill="none"></path><path d="M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></svg>'},3450:e=>{e.exports='<svg class="arrow-two-sided-svg arrow-two-sided-horizontal" viewBox="0 0 1440 163" fill="none" xmlns="http://www.w3.org/2000/svg"><path class="arrow-two-sided" fill-rule="evenodd" clip-rule="evenodd" d="M3.49996 88.7818C-0.795805 84.486 -0.795805 77.5212 3.49996 73.2254L73.5035 3.22183C77.7993 -1.07393 84.7641 -1.07393 89.0599 3.22183C93.3557 7.5176 93.3557 14.4824 89.0599 18.7782L37.8345 70.0036L1402.17 70.0036L1350.94 18.7782C1346.64 14.4824 1346.64 7.5176 1350.94 3.22183C1355.24 -1.07394 1362.2 -1.07394 1366.5 3.22183L1436.5 73.2254C1440.8 77.5212 1440.8 84.486 1436.5 88.7817L1366.5 158.785C1362.2 163.081 1355.24 163.081 1350.94 158.785C1346.64 154.49 1346.64 147.525 1350.94 143.229L1402.17 92.0036L37.8345 92.0036L89.0599 143.229C93.3557 147.525 93.3557 154.49 89.0599 158.785C84.7641 163.081 77.7993 163.081 73.5035 158.785L3.49996 88.7818Z"></path></svg>'},1462:e=>{e.exports='<svg class="arrow-two-sided-svg arrow-two-sided-vertical" viewBox="0 0 164 900" fill="none" xmlns="http://www.w3.org/2000/svg"><path class="arrow-two-sided" fill-rule="evenodd" clip-rule="evenodd" d="M74.2218 4C78.5175 -0.295771 85.4824 -0.295771 89.7781 4L159.782 74.0036C164.077 78.2993 164.077 85.2641 159.782 89.5599C155.486 93.8557 148.521 93.8557 144.225 89.5599L93 38.3345L93 861.665L144.225 810.44C148.521 806.144 155.486 806.144 159.782 810.44C164.078 814.736 164.078 821.701 159.782 825.996L89.7782 896C85.4824 900.296 78.5176 900.296 74.2218 896L4.21825 825.996C-0.0775169 821.701 -0.0775172 814.736 4.21825 810.44C8.51402 806.144 15.4788 806.144 19.7746 810.44L71 861.665L71 38.3345L19.7746 89.5599C15.4788 93.8557 8.51397 93.8557 4.2182 89.5599C-0.0775644 85.2642 -0.0775647 78.2993 4.2182 74.0036L74.2218 4Z"></path></svg>'},3304:e=>{e.exports='<svg class="size-obj" id="size-usba" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 56.69 90.71"><defs><linearGradient id="a" x1="11.34" y1="17.01" x2="45.35" y2="17.01" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#4d4d4d"></stop><stop offset="0" stop-color="#565656"></stop><stop offset="0.02" stop-color="#757575"></stop><stop offset="0.04" stop-color="#919191"></stop><stop offset="0.05" stop-color="#a7a7a7"></stop><stop offset="0.08" stop-color="#b8b8b8"></stop><stop offset="0.1" stop-color="#c3c3c3"></stop><stop offset="0.14" stop-color="#cacaca"></stop><stop offset="0.25" stop-color="#ccc"></stop><stop offset="0.75" stop-color="#ccc"></stop><stop offset="0.86" stop-color="#cacaca"></stop><stop offset="0.9" stop-color="#c3c3c3"></stop><stop offset="0.92" stop-color="#b8b8b8"></stop><stop offset="0.95" stop-color="#a7a7a7"></stop><stop offset="0.96" stop-color="#919191"></stop><stop offset="0.98" stop-color="#757575"></stop><stop offset="1" stop-color="#565656"></stop><stop offset="1" stop-color="#4d4d4d"></stop></linearGradient></defs><path d="M45.35,34h-34V.71A.71.71,0,0,1,12.05,0h32.6a.7.7,0,0,1,.7.71Z" style="fill:url(#a)"></path><path d="M28.35,34V28.59a.71.71,0,0,0-.86-.69l-2.81.62a.71.71,0,0,1-.86-.69V23.19a.71.71,0,0,1,.86-.69l2.81.62a.71.71,0,0,0,.86-.69V11.59a.71.71,0,0,0-.86-.7l-2.81.62a.71.71,0,0,1-.86-.69V6.19a.7.7,0,0,1,.86-.69l2.81.61a.7.7,0,0,0,.86-.69V0" style="fill:none;stroke:#999;stroke-miterlimit:10;stroke-width:0.30000000000000004px"></path><rect x="16.3" y="14.6" width="7.09" height="4.82" rx="0.71" style="fill:#fff;stroke:#666;stroke-miterlimit:10;stroke-width:0.1px"></rect><rect x="33.31" y="14.6" width="7.09" height="4.82" rx="0.71" style="fill:#fff;stroke:#666;stroke-miterlimit:10;stroke-width:0.1px"></rect><g class="minor"><rect y="34.02" width="56.69" height="56.69" style="fill:#666"></rect><path d="M12.55,84.88a3.87,3.87,0,0,1-.28,1.49,3.68,3.68,0,0,1-.77,1.21,3.61,3.61,0,0,1-1.17.83,3.69,3.69,0,0,1-1.5.3,3.65,3.65,0,0,1-1.5-.3,3.48,3.48,0,0,1-1.17-.82,3.74,3.74,0,0,1-.75-1.21,4.17,4.17,0,0,1-.29-1.5l0-7.7H6.51l0,7.7a3,3,0,0,0,.16,1,2.45,2.45,0,0,0,.44.83,2,2,0,0,0,.7.57,2.08,2.08,0,0,0,1,.22,2.17,2.17,0,0,0,1-.21,2.24,2.24,0,0,0,.71-.58,2.62,2.62,0,0,0,.43-.83,3.6,3.6,0,0,0,.17-1l0-7.7h1.4Z" style="fill:#fff"></path><path d="M20.71,84.79a2.18,2.18,0,0,0-.61-.6,3.7,3.7,0,0,0-.82-.41l-.87-.3c-.4-.13-.81-.29-1.22-.47a6,6,0,0,1-1.13-.67,3.42,3.42,0,0,1-.84-.94,2.51,2.51,0,0,1-.32-1.28,2.7,2.7,0,0,1,.32-1.31,3.33,3.33,0,0,1,.85-1,3.92,3.92,0,0,1,1.19-.6A4.35,4.35,0,0,1,18.59,77a4.06,4.06,0,0,1,1.43.25,3.75,3.75,0,0,1,1.22.69A3.21,3.21,0,0,1,22.09,79a3.12,3.12,0,0,1,.34,1.41H20.94a3,3,0,0,0-.24-.89,2.46,2.46,0,0,0-.47-.7,2.07,2.07,0,0,0-.71-.44,2.49,2.49,0,0,0-.93-.16,2.82,2.82,0,0,0-.81.11,2.42,2.42,0,0,0-.7.35,1.83,1.83,0,0,0-.49.58,1.71,1.71,0,0,0-.18.8,1.34,1.34,0,0,0,.25.83,2.12,2.12,0,0,0,.61.58,5,5,0,0,0,.8.39l.82.27c.42.13.84.29,1.27.47a5,5,0,0,1,1.15.71,2.92,2.92,0,0,1,.83,1,2.73,2.73,0,0,1,.32,1.33A2.54,2.54,0,0,1,22.12,87a3,3,0,0,1-.88.94,3.82,3.82,0,0,1-1.22.58,4.88,4.88,0,0,1-2.95-.08,4.21,4.21,0,0,1-1.37-.79,3.44,3.44,0,0,1-.81-1.05,3.22,3.22,0,0,1-.33-1.33H16a2.47,2.47,0,0,0,.29.94,2,2,0,0,0,.56.69,2.27,2.27,0,0,0,.79.44,3.41,3.41,0,0,0,1,.14,3.31,3.31,0,0,0,.83-.1,2.09,2.09,0,0,0,.74-.34,1.82,1.82,0,0,0,.52-.55,1.62,1.62,0,0,0,.2-.81A1.58,1.58,0,0,0,20.71,84.79Z" style="fill:#fff"></path><path d="M24.58,77.18H28a5.26,5.26,0,0,1,1.37.18,3.86,3.86,0,0,1,1.2.54,2.68,2.68,0,0,1,.83.94,2.8,2.8,0,0,1,.31,1.37,2.54,2.54,0,0,1-.15.81,2.13,2.13,0,0,1-.37.66,2.77,2.77,0,0,1-.53.5,4.63,4.63,0,0,1-.71.38v0a2.55,2.55,0,0,1,.83.37,3.16,3.16,0,0,1,.66.59,2.6,2.6,0,0,1,.42.79,2.85,2.85,0,0,1,.15.94,2.93,2.93,0,0,1-.3,1.41,3.05,3.05,0,0,1-.84,1,3.84,3.84,0,0,1-1.2.64,4.83,4.83,0,0,1-1.41.22H24.58ZM28.05,82a3.11,3.11,0,0,0,.8-.13,2.21,2.21,0,0,0,.7-.36A1.77,1.77,0,0,0,30,81a1.61,1.61,0,0,0,.19-.78,1.67,1.67,0,0,0-.19-.81,1.56,1.56,0,0,0-.49-.56,2.19,2.19,0,0,0-.71-.31,3.77,3.77,0,0,0-.83-.11H26V82Zm-2,5.3h2.22a2.68,2.68,0,0,0,.86-.16,2.3,2.3,0,0,0,.72-.4,1.82,1.82,0,0,0,.5-.63,2.23,2.23,0,0,0,0-1.71,1.75,1.75,0,0,0-.46-.64,1.94,1.94,0,0,0-.7-.4,2.63,2.63,0,0,0-.86-.16H26Z" style="fill:#fff"></path><path d="M34.55,84.17V83h6v1.19Z" style="fill:#fff"></path><path d="M45.44,85.61l-.92,2.94H43.08l3.67-11.37H48l3.61,11.37H50.13l-.9-2.94Zm3.41-1.26-1.5-4.94-1.52,4.94Z" style="fill:#fff"></path></g></svg>'},8669:e=>{e.exports='<svg class="size-obj" id="size-usbc" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 56.69 75.54"><defs><linearGradient id="aaa" x1="16.44" y1="9.43" x2="40.25" y2="9.43" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#4d4d4d"></stop><stop offset="0.01" stop-color="#565656"></stop><stop offset="0.03" stop-color="#757575"></stop><stop offset="0.06" stop-color="#919191"></stop><stop offset="0.09" stop-color="#a7a7a7"></stop><stop offset="0.12" stop-color="#b8b8b8"></stop><stop offset="0.17" stop-color="#c3c3c3"></stop><stop offset="0.23" stop-color="#cacaca"></stop><stop offset="0.4" stop-color="#ccc"></stop><stop offset="0.6" stop-color="#ccc"></stop><stop offset="0.77" stop-color="#cacaca"></stop><stop offset="0.83" stop-color="#c3c3c3"></stop><stop offset="0.88" stop-color="#b8b8b8"></stop><stop offset="0.91" stop-color="#a7a7a7"></stop><stop offset="0.94" stop-color="#919191"></stop><stop offset="0.97" stop-color="#757575"></stop><stop offset="0.99" stop-color="#565656"></stop><stop offset="1" stop-color="#4d4d4d"></stop></linearGradient></defs><g><path d="M40.25,18.85H16.44V.71A.71.71,0,0,1,17.15,0H39.54a.71.71,0,0,1,.71.71Z" style="fill:url(#aaa)"></path></g><g class="minor"><rect y="18.85" width="56.69" height="56.69" style="fill:#333"></rect><path d="M12.75,69.72a3.9,3.9,0,0,1-1.05,2.7,3.59,3.59,0,0,1-1.17.82,3.69,3.69,0,0,1-1.5.3,3.82,3.82,0,0,1-1.5-.29,3.48,3.48,0,0,1-1.17-.82,4,4,0,0,1-.76-1.22,4.29,4.29,0,0,1-.28-1.49l0-7.71H6.71l0,7.71a3.19,3.19,0,0,0,.17,1,2.45,2.45,0,0,0,.44.83,2.09,2.09,0,0,0,.7.58,2.21,2.21,0,0,0,1,.22,2.05,2.05,0,0,0,1-.22,2.11,2.11,0,0,0,.71-.58,2.62,2.62,0,0,0,.43-.83,4,4,0,0,0,.17-1l0-7.71h1.4Z" style="fill:#fff"></path><path d="M20.91,69.63A2.21,2.21,0,0,0,20.3,69a4.19,4.19,0,0,0-.82-.41l-.87-.29a11,11,0,0,1-1.22-.48,5.49,5.49,0,0,1-1.13-.66,3.46,3.46,0,0,1-.84-1A2.37,2.37,0,0,1,15.1,65a2.63,2.63,0,0,1,.32-1.32,3.17,3.17,0,0,1,.85-1,3.72,3.72,0,0,1,1.19-.61,4.66,4.66,0,0,1,1.33-.2,4.29,4.29,0,0,1,1.43.24,4.16,4.16,0,0,1,1.22.69,3.45,3.45,0,0,1,.85,1.08,3.13,3.13,0,0,1,.34,1.42H21.14a3.13,3.13,0,0,0-.24-.9,2.14,2.14,0,0,0-.48-.69,2.11,2.11,0,0,0-.7-.45,2.49,2.49,0,0,0-.93-.16,2.84,2.84,0,0,0-.81.12,2.19,2.19,0,0,0-.7.35,1.83,1.83,0,0,0-.49.58,1.68,1.68,0,0,0-.19.79,1.52,1.52,0,0,0,.25.84,2.42,2.42,0,0,0,.62.57,3.71,3.71,0,0,0,.8.39c.29.11.56.2.82.27a10.82,10.82,0,0,1,1.26.48,4.84,4.84,0,0,1,1.16.7,3.26,3.26,0,0,1,.83,1,2.77,2.77,0,0,1,.32,1.34,2.51,2.51,0,0,1-.34,1.33,3.08,3.08,0,0,1-.88,1,4.14,4.14,0,0,1-1.22.57,4.85,4.85,0,0,1-1.36.19,4.93,4.93,0,0,1-1.6-.27,4.09,4.09,0,0,1-1.36-.79,3.43,3.43,0,0,1-.82-1,3.22,3.22,0,0,1-.32-1.33h1.48a2.59,2.59,0,0,0,.29.94,2.21,2.21,0,0,0,.56.69,2.25,2.25,0,0,0,.79.43,3.1,3.1,0,0,0,1,.15,3.32,3.32,0,0,0,.83-.11,2.12,2.12,0,0,0,.73-.33,1.77,1.77,0,0,0,.53-.56,1.62,1.62,0,0,0,.2-.81A1.54,1.54,0,0,0,20.91,69.63Z" style="fill:#fff"></path><path d="M24.78,62h3.39a5.73,5.73,0,0,1,1.37.19,3.45,3.45,0,0,1,1.2.54,2.59,2.59,0,0,1,.83.94A2.76,2.76,0,0,1,31.88,65a2.66,2.66,0,0,1-.15.82,2.2,2.2,0,0,1-.37.65,2.49,2.49,0,0,1-.53.5,3.37,3.37,0,0,1-.71.38v0a2.55,2.55,0,0,1,.83.37,2.83,2.83,0,0,1,.65.58,2.64,2.64,0,0,1,.43.79,2.91,2.91,0,0,1,.15,1,2.86,2.86,0,0,1-.3,1.4,3,3,0,0,1-.84,1,4,4,0,0,1-1.21.63,4.73,4.73,0,0,1-1.41.23H24.78Zm3.47,4.85a2.44,2.44,0,0,0,.8-.13,2,2,0,0,0,.69-.35,1.79,1.79,0,0,0,.5-.56,1.66,1.66,0,0,0,.18-.78,1.74,1.74,0,0,0-.18-.82,1.52,1.52,0,0,0-.49-.55,2.07,2.07,0,0,0-.71-.31,3.32,3.32,0,0,0-.83-.11h-2v3.61Zm-2,5.3h2.22a2.68,2.68,0,0,0,.86-.15,2.52,2.52,0,0,0,.72-.4,2,2,0,0,0,.5-.64,1.93,1.93,0,0,0,.18-.85,1.91,1.91,0,0,0-.62-1.5,2.29,2.29,0,0,0-.7-.4,2.92,2.92,0,0,0-.86-.15h-2.3Z" style="fill:#fff"></path><path d="M34.74,69V67.82h6V69Z" style="fill:#fff"></path><path d="M51,71.41a3.53,3.53,0,0,1-.79,1.13,3.25,3.25,0,0,1-1.16.74,3.9,3.9,0,0,1-1.48.26,3.7,3.7,0,0,1-1.28-.2,3.35,3.35,0,0,1-1-.55,3.8,3.8,0,0,1-.78-.82,5.35,5.35,0,0,1-.53-1,5.89,5.89,0,0,1-.33-1.18,7.45,7.45,0,0,1-.11-1.25V66.91a7.45,7.45,0,0,1,.11-1.25,5.89,5.89,0,0,1,.33-1.18,5.35,5.35,0,0,1,.53-1,3.63,3.63,0,0,1,.78-.83,3.41,3.41,0,0,1,1-.55,3.72,3.72,0,0,1,1.29-.2,4.08,4.08,0,0,1,1.52.26,3.34,3.34,0,0,1,1.16.74A3.57,3.57,0,0,1,51,64a4.94,4.94,0,0,1,.39,1.49H49.92a3.56,3.56,0,0,0-.24-1,2.69,2.69,0,0,0-.46-.79,2,2,0,0,0-.71-.52,2.26,2.26,0,0,0-1-.19,2.31,2.31,0,0,0-.91.16,2.2,2.2,0,0,0-.68.46,2.72,2.72,0,0,0-.48.67,4.67,4.67,0,0,0-.31.81A6.51,6.51,0,0,0,45,66c0,.3,0,.59,0,.87V68.5c0,.28,0,.57,0,.87a6.51,6.51,0,0,0,.17.88,4.47,4.47,0,0,0,.31.82,2.45,2.45,0,0,0,.47.67,2,2,0,0,0,.68.46,2.19,2.19,0,0,0,.92.17,2.42,2.42,0,0,0,1-.18,1.93,1.93,0,0,0,.71-.51,2.31,2.31,0,0,0,.46-.76,3.58,3.58,0,0,0,.24-1h1.45A4.8,4.8,0,0,1,51,71.41Z" style="fill:#fff"></path></g></svg>'},6455:function(e){e.exports=function(){"use strict";const e=e=>{const t=[];for(let n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},t=e=>e.charAt(0).toUpperCase()+e.slice(1),n=e=>{},r=e=>{},a=[],s=e=>{a.includes(e)||(a.push(e),n(e))},i=(e,t)=>{s('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},o=e=>"function"==typeof e?e():e,l=e=>e&&"function"==typeof e.toPromise,u=e=>l(e)?e.toPromise():Promise.resolve(e),c=e=>e&&Promise.resolve(e)===e,h=e=>e[Math.floor(Math.random()*e.length)],d={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},p=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],m={},f=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],g=e=>Object.prototype.hasOwnProperty.call(d,e),y=e=>-1!==p.indexOf(e),b=e=>m[e],w=e=>{g(e)||n('Unknown parameter "'.concat(e,'"'))},v=e=>{f.includes(e)&&n('The parameter "'.concat(e,'" is incompatible with toasts'))},A=e=>{b(e)&&i(e,b(e))},x=e=>{!e.backdrop&&e.allowOutsideClick&&n('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)w(t),e.toast&&v(t),A(t)},k="swal2-",C=e=>{const t={};for(const n in e)t[e[n]]=k+e[n];return t},S=C(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),E=C(["success","warning","info","question","error"]),I=()=>document.body.querySelector(".".concat(S.container)),T=e=>{const t=I();return t?t.querySelector(e):null},N=e=>T(".".concat(e)),D=()=>N(S.popup),_=()=>N(S.icon),O=()=>N(S.title),B=()=>N(S["html-container"]),z=()=>N(S.image),R=()=>N(S["progress-steps"]),M=()=>N(S["validation-message"]),F=()=>T(".".concat(S.actions," .").concat(S.confirm)),P=()=>T(".".concat(S.actions," .").concat(S.deny)),L=()=>N(S["input-label"]),V=()=>T(".".concat(S.loader)),W=()=>T(".".concat(S.actions," .").concat(S.cancel)),U=()=>N(S.actions),j=()=>N(S.footer),G=()=>N(S["timer-progress-bar"]),q=()=>N(S.close),$='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',H=()=>{const t=Array.from(D().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),n=Array.from(D().querySelectorAll($)).filter((e=>"-1"!==e.getAttribute("tabindex")));return e(t.concat(n)).filter((e=>pe(e)))},K=()=>J(document.body,S.shown)&&!J(document.body,S["toast-shown"])&&!J(document.body,S["no-backdrop"]),Z=()=>D()&&J(D(),S.toast),X=()=>D().hasAttribute("data-loading"),Y={previousBodyPadding:null},Q=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html");Array.from(n.querySelector("head").childNodes).forEach((t=>{e.appendChild(t)})),Array.from(n.querySelector("body").childNodes).forEach((t=>{e.appendChild(t)}))}},J=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let t=0;t<n.length;t++)if(!e.classList.contains(n[t]))return!1;return!0},ee=(e,t)=>{Array.from(e.classList).forEach((n=>{Object.values(S).includes(n)||Object.values(E).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))},te=(e,t,r)=>{if(ee(e,t),t.customClass&&t.customClass[r]){if("string"!=typeof t.customClass[r]&&!t.customClass[r].forEach)return n("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(typeof t.customClass[r],'"'));se(e,t.customClass[r])}},ne=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(S.popup," > .").concat(S[t]));case"checkbox":return e.querySelector(".".concat(S.popup," > .").concat(S.checkbox," input"));case"radio":return e.querySelector(".".concat(S.popup," > .").concat(S.radio," input:checked"))||e.querySelector(".".concat(S.popup," > .").concat(S.radio," input:first-child"));case"range":return e.querySelector(".".concat(S.popup," > .").concat(S.range," input"));default:return e.querySelector(".".concat(S.popup," > .").concat(S.input))}},re=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ae=(e,t,n)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},se=(e,t)=>{ae(e,t,!0)},ie=(e,t)=>{ae(e,t,!1)},oe=(e,t)=>{const n=Array.from(e.children);for(let e=0;e<n.length;e++){const r=n[e];if(r instanceof HTMLElement&&J(r,t))return r}},le=(e,t,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},ce=e=>{e.style.display="none"},he=(e,t,n,r)=>{const a=e.querySelector(t);a&&(a.style[n]=r)},de=function(e,t){t?ue(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ce(e)},pe=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),me=()=>!pe(F())&&!pe(P())&&!pe(W()),fe=e=>!!(e.scrollHeight>e.clientHeight),ge=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},ye=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=G();pe(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},be=()=>{const e=G(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(n,"%")},we=()=>"undefined"==typeof window||"undefined"==typeof document,ve=100,Ae={},xe=()=>{Ae.previousActiveElement instanceof HTMLElement?(Ae.previousActiveElement.focus(),Ae.previousActiveElement=null):document.body&&document.body.focus()},ke=e=>new Promise((t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;Ae.restoreFocusTimeout=setTimeout((()=>{xe(),t()}),ve),window.scrollTo(n,r)})),Ce='\n <div aria-labelledby="'.concat(S.title,'" aria-describedby="').concat(S["html-container"],'" class="').concat(S.popup,'" tabindex="-1">\n   <button type="button" class="').concat(S.close,'"></button>\n   <ul class="').concat(S["progress-steps"],'"></ul>\n   <div class="').concat(S.icon,'"></div>\n   <img class="').concat(S.image,'" />\n   <h2 class="').concat(S.title,'" id="').concat(S.title,'"></h2>\n   <div class="').concat(S["html-container"],'" id="').concat(S["html-container"],'"></div>\n   <input class="').concat(S.input,'" />\n   <input type="file" class="').concat(S.file,'" />\n   <div class="').concat(S.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(S.select,'"></select>\n   <div class="').concat(S.radio,'"></div>\n   <label for="').concat(S.checkbox,'" class="').concat(S.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(S.label,'"></span>\n   </label>\n   <textarea class="').concat(S.textarea,'"></textarea>\n   <div class="').concat(S["validation-message"],'" id="').concat(S["validation-message"],'"></div>\n   <div class="').concat(S.actions,'">\n     <div class="').concat(S.loader,'"></div>\n     <button type="button" class="').concat(S.confirm,'"></button>\n     <button type="button" class="').concat(S.deny,'"></button>\n     <button type="button" class="').concat(S.cancel,'"></button>\n   </div>\n   <div class="').concat(S.footer,'"></div>\n   <div class="').concat(S["timer-progress-bar-container"],'">\n     <div class="').concat(S["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Se=()=>{const e=I();return!!e&&(e.remove(),ie([document.documentElement,document.body],[S["no-backdrop"],S["toast-shown"],S["has-column"]]),!0)},Ee=()=>{Ae.currentInstance.resetValidationMessage()},Ie=()=>{const e=D(),t=oe(e,S.input),n=oe(e,S.file),r=e.querySelector(".".concat(S.range," input")),a=e.querySelector(".".concat(S.range," output")),s=oe(e,S.select),i=e.querySelector(".".concat(S.checkbox," input")),o=oe(e,S.textarea);t.oninput=Ee,n.onchange=Ee,s.onchange=Ee,i.onchange=Ee,o.oninput=Ee,r.oninput=()=>{Ee(),a.value=r.value},r.onchange=()=>{Ee(),a.value=r.value}},Te=e=>"string"==typeof e?document.querySelector(e):e,Ne=e=>{const t=D();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},De=e=>{"rtl"===window.getComputedStyle(e).direction&&se(I(),S.rtl)},_e=e=>{const t=Se();if(we())return void r("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=S.container,t&&se(n,S["no-transition"]),Q(n,Ce);const a=Te(e.target);a.appendChild(n),Ne(e),De(a),Ie()},Oe=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?Be(e,t):e&&Q(t,e)},Be=(e,t)=>{e.jquery?ze(t,e):Q(t,e.toString())},ze=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Re=(()=>{if(we())return!1;const e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1})(),Me=()=>{const e=document.createElement("div");e.className=S["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},Fe=(e,t)=>{const n=U(),r=V();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ue(n):ce(n),te(n,t,"actions"),Pe(n,r,t),Q(r,t.loaderHtml),te(r,t,"loader")};function Pe(e,t,n){const r=F(),a=P(),s=W();Ve(r,"confirm",n),Ve(a,"deny",n),Ve(s,"cancel",n),Le(r,a,s,n),n.reverseButtons&&(n.toast?(e.insertBefore(s,r),e.insertBefore(a,r)):(e.insertBefore(s,t),e.insertBefore(a,t),e.insertBefore(r,t)))}function Le(e,t,n,r){if(!r.buttonsStyling)return ie([e,t,n],S.styled);se([e,t,n],S.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,se(e,S["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,se(t,S["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,se(n,S["default-outline"]))}function Ve(e,n,r){de(e,r["show".concat(t(n),"Button")],"inline-block"),Q(e,r["".concat(n,"ButtonText")]),e.setAttribute("aria-label",r["".concat(n,"ButtonAriaLabel")]),e.className=S[n],te(e,r,"".concat(n,"Button")),se(e,r["".concat(n,"ButtonClass")])}const We=(e,t)=>{const n=I();n&&(Ue(n,t.backdrop),je(n,t.position),Ge(n,t.grow),te(n,t,"container"))};function Ue(e,t){"string"==typeof t?e.style.background=t:t||se([document.documentElement,document.body],S["no-backdrop"])}function je(e,t){t in S?se(e,S[t]):(n('The "position" parameter is not valid, defaulting to "center"'),se(e,S.center))}function Ge(e,t){if(t&&"string"==typeof t){const n="grow-".concat(t);n in S&&se(e,S[n])}}var qe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const $e=["input","file","range","select","radio","checkbox","textarea"],He=(e,t)=>{const n=D(),r=qe.innerParams.get(e),a=!r||t.input!==r.input;$e.forEach((e=>{const r=oe(n,S[e]);Xe(e,t.inputAttributes),r.className=S[e],a&&ce(r)})),t.input&&(a&&Ke(t),Ye(t))},Ke=e=>{if(!nt[e.input])return r('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));const t=et(e.input),n=nt[e.input](t,e);ue(t),setTimeout((()=>{re(n)}))},Ze=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}},Xe=(e,t)=>{const n=ne(D(),e);if(n){Ze(n);for(const e in t)n.setAttribute(e,t[e])}},Ye=e=>{const t=et(e.input);"object"==typeof e.customClass&&se(t,e.customClass.input)},Qe=(e,t)=>{e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Je=(e,t,n)=>{if(n.inputLabel){e.id=S.input;const r=document.createElement("label"),a=S["input-label"];r.setAttribute("for",e.id),r.className=a,"object"==typeof n.customClass&&se(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},et=e=>oe(D(),S[e]||S.input),tt=(e,t)=>{["string","number"].includes(typeof t)?e.value="".concat(t):c(t)||n('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},nt={};nt.text=nt.email=nt.password=nt.number=nt.tel=nt.url=(e,t)=>(tt(e,t.inputValue),Je(e,e,t),Qe(e,t),e.type=t.input,e),nt.file=(e,t)=>(Je(e,e,t),Qe(e,t),e),nt.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return tt(n,t.inputValue),n.type=t.input,tt(r,t.inputValue),Je(n,e,t),e},nt.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");Q(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Je(e,e,t),e},nt.radio=e=>(e.textContent="",e),nt.checkbox=(e,t)=>{const n=ne(D(),"checkbox");n.value="1",n.id=S.checkbox,n.checked=Boolean(t.inputValue);const r=e.querySelector("span");return Q(r,t.inputPlaceholder),n},nt.textarea=(e,t)=>{tt(e,t.inputValue),Qe(e,t),Je(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout((()=>{if("MutationObserver"in window){const t=parseInt(window.getComputedStyle(D()).width);new MutationObserver((()=>{const r=e.offsetWidth+n(e);D().style.width=r>t?"".concat(r,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const rt=(e,t)=>{const n=B();te(n,t,"htmlContainer"),t.html?(Oe(t.html,n),ue(n,"block")):t.text?(n.textContent=t.text,ue(n,"block")):ce(n),He(e,t)},at=(e,t)=>{const n=j();de(n,t.footer),t.footer&&Oe(t.footer,n),te(n,t,"footer")},st=(e,t)=>{const n=q();Q(n,t.closeButtonHtml),te(n,t,"closeButton"),de(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)},it=(e,t)=>{const n=qe.innerParams.get(e),a=_();if(n&&t.icon===n.icon)return ht(a,t),void ot(a,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(E).indexOf(t.icon))return r('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void ce(a);ue(a),ht(a,t),ot(a,t),se(a,t.showClass.icon)}else ce(a)},ot=(e,t)=>{for(const n in E)t.icon!==n&&ie(e,E[n]);se(e,E[t.icon]),dt(e,t),lt(),te(e,t,"icon")},lt=()=>{const e=D(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t},ut='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',ct='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',ht=(e,t)=>{let n,r=e.innerHTML;t.iconHtml?n=pt(t.iconHtml):"success"===t.icon?(n=ut,r=r.replace(/ style=".*?"/g,"")):n="error"===t.icon?ct:pt({question:"?",warning:"!",info:"i"}[t.icon]),r.trim()!==n.trim()&&Q(e,n)},dt=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])he(e,n,"backgroundColor",t.iconColor);he(e,".swal2-success-ring","borderColor",t.iconColor)}},pt=e=>'<div class="'.concat(S["icon-content"],'">').concat(e,"</div>"),mt=(e,t)=>{const n=z();if(!t.imageUrl)return ce(n);ue(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),le(n,"width",t.imageWidth),le(n,"height",t.imageHeight),n.className=S.image,te(n,t,"image")},ft=(e,t)=>{const r=R();if(!t.progressSteps||0===t.progressSteps.length)return ce(r);ue(r),r.textContent="",t.currentProgressStep>=t.progressSteps.length&&n("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(((e,n)=>{const a=gt(e);if(r.appendChild(a),n===t.currentProgressStep&&se(a,S["active-progress-step"]),n!==t.progressSteps.length-1){const e=yt(t);r.appendChild(e)}}))},gt=e=>{const t=document.createElement("li");return se(t,S["progress-step"]),Q(t,e),t},yt=e=>{const t=document.createElement("li");return se(t,S["progress-step-line"]),e.progressStepsDistance&&le(t,"width",e.progressStepsDistance),t},bt=(e,t)=>{const n=O();de(n,t.title||t.titleText,"block"),t.title&&Oe(t.title,n),t.titleText&&(n.innerText=t.titleText),te(n,t,"title")},wt=(e,t)=>{const n=I(),r=D();t.toast?(le(n,"width",t.width),r.style.width="100%",r.insertBefore(V(),_())):le(r,"width",t.width),le(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),ce(M()),vt(r,t)},vt=(e,t)=>{e.className="".concat(S.popup," ").concat(pe(e)?t.showClass.popup:""),t.toast?(se([document.documentElement,document.body],S["toast-shown"]),se(e,S.toast)):se(e,S.modal),te(e,t,"popup"),"string"==typeof t.customClass&&se(e,t.customClass),t.icon&&se(e,S["icon-".concat(t.icon)])},At=(e,t)=>{wt(e,t),We(e,t),ft(e,t),it(e,t),mt(e,t),bt(e,t),st(e,t),rt(e,t),Fe(e,t),at(e,t),"function"==typeof t.didRender&&t.didRender(D())},xt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),kt=()=>{Array.from(document.body.children).forEach((e=>{e===I()||e.contains(I())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))},Ct=()=>{Array.from(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},St=["swal-title","swal-html","swal-footer"],Et=e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Bt(n),Object.assign(It(n),Tt(n),Nt(n),Dt(n),_t(n),Ot(n,St))},It=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach((e=>{zt(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"==typeof d[n]&&"false"===r&&(t[n]=!1),"object"==typeof d[n]&&(t[n]=JSON.parse(r))})),t},Tt=e=>{const n={};return Array.from(e.querySelectorAll("swal-button")).forEach((e=>{zt(e,["type","color","aria-label"]);const r=e.getAttribute("type");n["".concat(r,"ButtonText")]=e.innerHTML,n["show".concat(t(r),"Button")]=!0,e.hasAttribute("color")&&(n["".concat(r,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(n["".concat(r,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),n},Nt=e=>{const t={},n=e.querySelector("swal-image");return n&&(zt(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Dt=e=>{const t={},n=e.querySelector("swal-icon");return n&&(zt(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},_t=e=>{const t={},n=e.querySelector("swal-input");n&&(zt(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((e=>{zt(e,["value"]);const n=e.getAttribute("value"),r=e.innerHTML;t.inputOptions[n]=r}))),t},Ot=(e,t)=>{const n={};for(const r in t){const a=t[r],s=e.querySelector(a);s&&(zt(s,[]),n[a.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},Bt=e=>{const t=St.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((e=>{const r=e.tagName.toLowerCase();-1===t.indexOf(r)&&n("Unrecognized element <".concat(r,">"))}))},zt=(e,t)=>{Array.from(e.attributes).forEach((r=>{-1===t.indexOf(r.name)&&n(['Unrecognized attribute "'.concat(r.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))};var Rt={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Mt(e){e.inputValidator||Object.keys(Rt).forEach((t=>{e.input===t&&(e.inputValidator=Rt[t])}))}function Ft(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(n('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Pt(e){Mt(e),e.showLoaderOnConfirm&&!e.preConfirm&&n("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),Ft(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),_e(e)}class Lt{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Vt=()=>{null===Y.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Y.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Y.previousBodyPadding+Me(),"px"))},Wt=()=>{null!==Y.previousBodyPadding&&(document.body.style.paddingRight="".concat(Y.previousBodyPadding,"px"),Y.previousBodyPadding=null)},Ut=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!J(document.body,S.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),se(document.body,S.iosfix),Gt(),jt()}},jt=()=>{const e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){const e=44;D().scrollHeight>window.innerHeight-e&&(I().style.paddingBottom="".concat(e,"px"))}},Gt=()=>{const e=I();let t;e.ontouchstart=e=>{t=qt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},qt=e=>{const t=e.target,n=I();return!($t(e)||Ht(e)||t!==n&&(fe(n)||!(t instanceof HTMLElement)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||fe(B())&&B().contains(t)))},$t=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Ht=e=>e.touches&&e.touches.length>1,Kt=()=>{if(J(document.body,S.iosfix)){const e=parseInt(document.body.style.top,10);ie(document.body,S.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Zt=10,Xt=e=>{const t=I(),n=D();"function"==typeof e.willOpen&&e.willOpen(n);const r=window.getComputedStyle(document.body).overflowY;en(t,n,e),setTimeout((()=>{Qt(t,n)}),Zt),K()&&(Jt(t,e.scrollbarPadding,r),kt()),Z()||Ae.previousActiveElement||(Ae.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((()=>e.didOpen(n))),ie(t,S["no-transition"])},Yt=e=>{const t=D();if(e.target!==t)return;const n=I();t.removeEventListener(Re,Yt),n.style.overflowY="auto"},Qt=(e,t)=>{Re&&ge(t)?(e.style.overflowY="hidden",t.addEventListener(Re,Yt)):e.style.overflowY="auto"},Jt=(e,t,n)=>{Ut(),t&&"hidden"!==n&&Vt(),setTimeout((()=>{e.scrollTop=0}))},en=(e,t,n)=>{se(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),ue(t,"grid"),setTimeout((()=>{se(t,n.showClass.popup),t.style.removeProperty("opacity")}),Zt),se([document.documentElement,document.body],S.shown),n.heightAuto&&n.backdrop&&!n.toast&&se([document.documentElement,document.body],S["height-auto"])},tn=e=>{let t=D();t||new $r,t=D();const n=V();Z()?ce(_()):nn(t,e),ue(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},nn=(e,t)=>{const n=U(),r=V();!t&&pe(F())&&(t=F()),ue(n),t&&(ce(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),se([e,n],S.loading)},rn=(e,t)=>{"select"===t.input||"radio"===t.input?un(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(l(t.inputValue)||c(t.inputValue))&&(tn(F()),cn(e,t))},an=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return sn(n);case"radio":return on(n);case"file":return ln(n);default:return t.inputAutoTrim?n.value.trim():n.value}},sn=e=>e.checked?1:0,on=e=>e.checked?e.value:null,ln=e=>e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,un=(e,t)=>{const n=D(),a=e=>hn[t.input](n,dn(e),t);l(t.inputOptions)||c(t.inputOptions)?(tn(F()),u(t.inputOptions).then((t=>{e.hideLoading(),a(t)}))):"object"==typeof t.inputOptions?a(t.inputOptions):r("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},cn=(e,t)=>{const n=e.getInput();ce(n),u(t.inputValue).then((r=>{n.value="number"===t.input?parseFloat(r)||0:"".concat(r),ue(n),n.focus(),e.hideLoading()})).catch((t=>{r("Error in inputValue promise: ".concat(t)),n.value="",ue(n),n.focus(),e.hideLoading()}))},hn={select:(e,t,n)=>{const r=oe(e,S.select),a=(e,t,r)=>{const a=document.createElement("option");a.value=r,Q(a,t),a.selected=pn(r,n.inputValue),e.appendChild(a)};t.forEach((e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach((t=>a(e,t[1],t[0])))}else a(r,n,t)})),r.focus()},radio:(e,t,n)=>{const r=oe(e,S.radio);t.forEach((e=>{const t=e[0],a=e[1],s=document.createElement("input"),i=document.createElement("label");s.type="radio",s.name=S.radio,s.value=t,pn(t,n.inputValue)&&(s.checked=!0);const o=document.createElement("span");Q(o,a),o.className=S.label,i.appendChild(s),i.appendChild(o),r.appendChild(i)}));const a=r.querySelectorAll("input");a.length&&a[0].focus()}},dn=e=>{const t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach(((e,n)=>{let r=e;"object"==typeof r&&(r=dn(r)),t.push([n,r])})):Object.keys(e).forEach((n=>{let r=e[n];"object"==typeof r&&(r=dn(r)),t.push([n,r])})),t},pn=(e,t)=>t&&t.toString()===e.toString();function mn(){const e=qe.innerParams.get(this);if(!e)return;const t=qe.domCache.get(this);ce(t.loader),Z()?e.icon&&ue(_()):fn(t),ie([t.popup,t.actions],S.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const fn=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ue(t[0],"inline-block"):me()&&ce(e.actions)};function gn(e){const t=qe.innerParams.get(e||this),n=qe.domCache.get(e||this);return n?ne(n.popup,t.input):null}var yn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const bn=()=>pe(D()),wn=()=>F()&&F().click(),vn=()=>P()&&P().click(),An=()=>W()&&W().click(),xn=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},kn=(e,t,n,r)=>{xn(t),n.toast||(t.keydownHandler=t=>In(e,t,r),t.keydownTarget=n.keydownListenerCapture?window:D(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Cn=(e,t,n)=>{const r=H();if(r.length)return(t+=n)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();D().focus()},Sn=["ArrowRight","ArrowDown"],En=["ArrowLeft","ArrowUp"],In=(e,t,n)=>{const r=qe.innerParams.get(e);r&&(t.isComposing||229===t.keyCode||(r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Tn(e,t,r):"Tab"===t.key?Nn(t,r):[...Sn,...En].includes(t.key)?Dn(t.key):"Escape"===t.key&&_n(t,r,n)))},Tn=(e,t,n)=>{if(o(n.allowEnterKey)&&t.target&&e.getInput()&&t.target instanceof HTMLElement&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;wn(),t.preventDefault()}},Nn=(e,t)=>{const n=e.target,r=H();let a=-1;for(let e=0;e<r.length;e++)if(n===r[e]){a=e;break}e.shiftKey?Cn(t,a,-1):Cn(t,a,1),e.stopPropagation(),e.preventDefault()},Dn=e=>{const t=F(),n=P(),r=W();if(document.activeElement instanceof HTMLElement&&![t,n,r].includes(document.activeElement))return;const a=Sn.includes(e)?"nextElementSibling":"previousElementSibling";let s=document.activeElement;for(let e=0;e<U().children.length;e++){if(s=s[a],!s)return;if(s instanceof HTMLButtonElement&&pe(s))break}s instanceof HTMLButtonElement&&s.focus()},_n=(e,t,n)=>{o(t.allowEscapeKey)&&(e.preventDefault(),n(xt.esc))};function On(e,t,n,r){Z()?Un(e,r):(ke(n).then((()=>Un(e,r))),xn(Ae)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),K()&&(Wt(),Kt(),Ct()),Bn()}function Bn(){ie([document.documentElement,document.body],[S.shown,S["height-auto"],S["no-backdrop"],S["toast-shown"]])}function zn(e){e=Ln(e);const t=yn.swalPromiseResolve.get(this),n=Mn(this);this.isAwaitingPromise()?e.isDismissed||(Pn(this),t(e)):n&&t(e)}function Rn(){return!!qe.awaitingPromise.get(this)}const Mn=e=>{const t=D();if(!t)return!1;const n=qe.innerParams.get(e);if(!n||J(t,n.hideClass.popup))return!1;ie(t,n.showClass.popup),se(t,n.hideClass.popup);const r=I();return ie(r,n.showClass.backdrop),se(r,n.hideClass.backdrop),Vn(e,t,n),!0};function Fn(e){const t=yn.swalPromiseReject.get(this);Pn(this),t&&t(e)}const Pn=e=>{e.isAwaitingPromise()&&(qe.awaitingPromise.delete(e),qe.innerParams.get(e)||e._destroy())},Ln=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Vn=(e,t,n)=>{const r=I(),a=Re&&ge(t);"function"==typeof n.willClose&&n.willClose(t),a?Wn(e,t,r,n.returnFocus,n.didClose):On(e,r,n.returnFocus,n.didClose)},Wn=(e,t,n,r,a)=>{Ae.swalCloseEventFinishedCallback=On.bind(null,e,n,r,a),t.addEventListener(Re,(function(e){e.target===t&&(Ae.swalCloseEventFinishedCallback(),delete Ae.swalCloseEventFinishedCallback)}))},Un=(e,t)=>{setTimeout((()=>{"function"==typeof t&&t.bind(e.params)(),e._destroy()}))};function jn(e,t,n){const r=qe.domCache.get(e);t.forEach((e=>{r[e].disabled=n}))}function Gn(e,t){if(!e)return!1;if("radio"===e.type){const n=e.parentNode.parentNode.querySelectorAll("input");for(let e=0;e<n.length;e++)n[e].disabled=t}else e.disabled=t}function qn(){jn(this,["confirmButton","denyButton","cancelButton"],!1)}function $n(){jn(this,["confirmButton","denyButton","cancelButton"],!0)}function Hn(){return Gn(this.getInput(),!1)}function Kn(){return Gn(this.getInput(),!0)}function Zn(e){const t=qe.domCache.get(this),n=qe.innerParams.get(this);Q(t.validationMessage,e),t.validationMessage.className=S["validation-message"],n.customClass&&n.customClass.validationMessage&&se(t.validationMessage,n.customClass.validationMessage),ue(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",S["validation-message"]),re(r),se(r,S.inputerror))}function Xn(){const e=qe.domCache.get(this);e.validationMessage&&ce(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ie(t,S.inputerror))}function Yn(){return qe.domCache.get(this).progressSteps}function Qn(e){const t=D(),r=qe.innerParams.get(this);if(!t||J(t,r.hideClass.popup))return n("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const a=Jn(e),s=Object.assign({},r,a);At(this,s),qe.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const Jn=e=>{const t={};return Object.keys(e).forEach((r=>{y(r)?t[r]=e[r]:n("Invalid parameter to update: ".concat(r))})),t};function er(){const e=qe.domCache.get(this),t=qe.innerParams.get(this);t?(e.popup&&Ae.swalCloseEventFinishedCallback&&(Ae.swalCloseEventFinishedCallback(),delete Ae.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),tr(this)):nr(this)}const tr=e=>{nr(e),delete e.params,delete Ae.keydownHandler,delete Ae.keydownTarget,delete Ae.currentInstance},nr=e=>{e.isAwaitingPromise()?(rr(qe,e),qe.awaitingPromise.set(e,!0)):(rr(yn,e),rr(qe,e))},rr=(e,t)=>{for(const n in e)e[n].delete(t)};var ar=Object.freeze({hideLoading:mn,disableLoading:mn,getInput:gn,close:zn,isAwaitingPromise:Rn,rejectPromise:Fn,handleAwaitingPromise:Pn,closePopup:zn,closeModal:zn,closeToast:zn,enableButtons:qn,disableButtons:$n,enableInput:Hn,disableInput:Kn,showValidationMessage:Zn,resetValidationMessage:Xn,getProgressSteps:Yn,update:Qn,_destroy:er});const sr=e=>{const t=qe.innerParams.get(e);e.disableButtons(),t.input?lr(e,"confirm"):pr(e,!0)},ir=e=>{const t=qe.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?lr(e,"deny"):cr(e,!1)},or=(e,t)=>{e.disableButtons(),t(xt.cancel)},lr=(e,n)=>{const a=qe.innerParams.get(e);if(!a.input)return void r('The "input" parameter is needed to be set when using returnInputValueOn'.concat(t(n)));const s=an(e,a);a.inputValidator?ur(e,s,n):e.getInput().checkValidity()?"deny"===n?cr(e,s):pr(e,s):(e.enableButtons(),e.showValidationMessage(a.validationMessage))},ur=(e,t,n)=>{const r=qe.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>u(r.inputValidator(t,r.validationMessage)))).then((r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?cr(e,t):pr(e,t)}))},cr=(e,t)=>{const n=qe.innerParams.get(e||void 0);n.showLoaderOnDeny&&tn(P()),n.preDeny?(qe.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>u(n.preDeny(t,n.validationMessage)))).then((n=>{!1===n?(e.hideLoading(),Pn(e)):e.close({isDenied:!0,value:void 0===n?t:n})})).catch((t=>dr(e||void 0,t)))):e.close({isDenied:!0,value:t})},hr=(e,t)=>{e.close({isConfirmed:!0,value:t})},dr=(e,t)=>{e.rejectPromise(t)},pr=(e,t)=>{const n=qe.innerParams.get(e||void 0);n.showLoaderOnConfirm&&tn(),n.preConfirm?(e.resetValidationMessage(),qe.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>u(n.preConfirm(t,n.validationMessage)))).then((n=>{pe(M())||!1===n?(e.hideLoading(),Pn(e)):hr(e,void 0===n?t:n)})).catch((t=>dr(e||void 0,t)))):hr(e,t)},mr=(e,t,n)=>{qe.innerParams.get(e).toast?fr(e,t,n):(br(t),wr(t),vr(e,t,n))},fr=(e,t,n)=>{t.popup.onclick=()=>{const t=qe.innerParams.get(e);t&&(gr(t)||t.timer||t.input)||n(xt.close)}},gr=e=>e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton;let yr=!1;const br=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(yr=!0)}}},wr=e=>{e.container.onmousedown=()=>{e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(yr=!0)}}},vr=(e,t,n)=>{t.container.onclick=r=>{const a=qe.innerParams.get(e);yr?yr=!1:r.target===t.container&&o(a.allowOutsideClick)&&n(xt.backdrop)}},Ar=e=>"object"==typeof e&&e.jquery,xr=e=>e instanceof Element||Ar(e),kr=e=>{const t={};return"object"!=typeof e[0]||xr(e[0])?["title","html","icon"].forEach(((n,a)=>{const s=e[a];"string"==typeof s||xr(s)?t[n]=s:void 0!==s&&r("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof s))})):Object.assign(t,e[0]),t};function Cr(){const e=this;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e(...n)}function Sr(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const Er=()=>Ae.timeout&&Ae.timeout.getTimerLeft(),Ir=()=>{if(Ae.timeout)return be(),Ae.timeout.stop()},Tr=()=>{if(Ae.timeout){const e=Ae.timeout.start();return ye(e),e}},Nr=()=>{const e=Ae.timeout;return e&&(e.running?Ir():Tr())},Dr=e=>{if(Ae.timeout){const t=Ae.timeout.increase(e);return ye(t,!0),t}},_r=()=>Ae.timeout&&Ae.timeout.isRunning();let Or=!1;const Br={};function zr(){Br[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Or||(document.body.addEventListener("click",Rr),Or=!0)}const Rr=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in Br){const n=t.getAttribute(e);if(n)return void Br[e].fire({template:n})}};var Mr=Object.freeze({isValidParameter:g,isUpdatableParameter:y,isDeprecatedParameter:b,argsToParams:kr,isVisible:bn,clickConfirm:wn,clickDeny:vn,clickCancel:An,getContainer:I,getPopup:D,getTitle:O,getHtmlContainer:B,getImage:z,getIcon:_,getInputLabel:L,getCloseButton:q,getActions:U,getConfirmButton:F,getDenyButton:P,getCancelButton:W,getLoader:V,getFooter:j,getTimerProgressBar:G,getFocusableElements:H,getValidationMessage:M,isLoading:X,fire:Cr,mixin:Sr,showLoading:tn,enableLoading:tn,getTimerLeft:Er,stopTimer:Ir,resumeTimer:Tr,toggleTimer:Nr,increaseTimer:Dr,isTimerRunning:_r,bindClickHandler:zr});let Fr;class Pr{constructor(){if("undefined"==typeof window)return;Fr=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});const a=Fr._main(Fr.params);qe.promise.set(this,a)}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(Object.assign({},t,e)),Ae.currentInstance&&(Ae.currentInstance._destroy(),K()&&Ct()),Ae.currentInstance=Fr;const n=Vr(e,t);Pt(n),Object.freeze(n),Ae.timeout&&(Ae.timeout.stop(),delete Ae.timeout),clearTimeout(Ae.restoreFocusTimeout);const r=Wr(Fr);return At(Fr,n),qe.innerParams.set(Fr,n),Lr(Fr,r,n)}then(e){return qe.promise.get(this).then(e)}finally(e){return qe.promise.get(this).finally(e)}}const Lr=(e,t,n)=>new Promise(((r,a)=>{const s=t=>{e.closePopup({isDismissed:!0,dismiss:t})};yn.swalPromiseResolve.set(e,r),yn.swalPromiseReject.set(e,a),t.confirmButton.onclick=()=>sr(e),t.denyButton.onclick=()=>ir(e),t.cancelButton.onclick=()=>or(e,s),t.closeButton.onclick=()=>s(xt.close),mr(e,t,s),kn(e,Ae,n,s),rn(e,n),Xt(n),Ur(Ae,n,s),jr(t,n),setTimeout((()=>{t.container.scrollTop=0}))})),Vr=(e,t)=>{const n=Et(e),r=Object.assign({},d,t,n,e);return r.showClass=Object.assign({},d.showClass,r.showClass),r.hideClass=Object.assign({},d.hideClass,r.hideClass),r},Wr=e=>{const t={popup:D(),container:I(),actions:U(),confirmButton:F(),denyButton:P(),cancelButton:W(),loader:V(),closeButton:q(),validationMessage:M(),progressSteps:R()};return qe.domCache.set(e,t),t},Ur=(e,t,n)=>{const r=G();ce(r),t.timer&&(e.timeout=new Lt((()=>{n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ue(r),te(r,t,"timerProgressBar"),setTimeout((()=>{e.timeout&&e.timeout.running&&ye(t.timer)}))))},jr=(e,t)=>{if(!t.toast)return o(t.allowEnterKey)?void(Gr(e,t)||Cn(t,-1,1)):qr()},Gr=(e,t)=>t.focusDeny&&pe(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&pe(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!pe(e.confirmButton)||(e.confirmButton.focus(),0)),qr=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const e=document.createElement("div");e.className="leave-russia-now-and-apply-your-skills-to-the-world";const t=h([{text:"           ,\n        <strong>      </strong>:",id:"4CfDhaRkw7I"},{text:" -  <strong></strong> .  . <strong>     .</strong>",id:"s-GLAIY4DXA"}]);Q(e,"\n      <div>\n            ,     <strong>  </strong>     <strong></strong>.\n      </div>\n      <div>\n           20       ,          . <strong>  !</strong>\n      </div>\n      <div>\n        ".concat(t.text,'\n      </div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/').concat(t.id,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\n         !\n      </div>\n      '));const n=document.createElement("button");n.innerHTML="&times;",n.onclick=()=>e.remove(),e.appendChild(n),window.addEventListener("load",(()=>{setTimeout((()=>{document.body.appendChild(e)}),1e3)}))}Object.assign(Pr.prototype,ar),Object.assign(Pr,Mr),Object.keys(ar).forEach((e=>{Pr[e]=function(){if(Fr)return Fr[e](...arguments)}})),Pr.DismissReason=xt,Pr.version="11.4.29";const $r=Pr;return $r.default=$r,$r}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.leave-russia-now-and-apply-your-skills-to-the-world{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.leave-russia-now-and-apply-your-skills-to-the-world div{max-width:560px;margin:10px;line-height:146%}.leave-russia-now-and-apply-your-skills-to-the-world iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8764:function(e){e.exports=function(){"use strict";const e=e=>{const t=[];for(let n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},t=e=>e.charAt(0).toUpperCase()+e.slice(1),n=e=>{},r=e=>{},a=[],s=e=>{a.includes(e)||(a.push(e),n(e))},i=(e,t)=>{s('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},o=e=>"function"==typeof e?e():e,l=e=>e&&"function"==typeof e.toPromise,u=e=>l(e)?e.toPromise():Promise.resolve(e),c=e=>e&&Promise.resolve(e)===e,h=e=>e[Math.floor(Math.random()*e.length)],d={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},p=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],m={},f=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],g=e=>Object.prototype.hasOwnProperty.call(d,e),y=e=>-1!==p.indexOf(e),b=e=>m[e],w=e=>{g(e)||n('Unknown parameter "'.concat(e,'"'))},v=e=>{f.includes(e)&&n('The parameter "'.concat(e,'" is incompatible with toasts'))},A=e=>{b(e)&&i(e,b(e))},x=e=>{!e.backdrop&&e.allowOutsideClick&&n('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)w(t),e.toast&&v(t),A(t)},k="swal2-",C=e=>{const t={};for(const n in e)t[e[n]]=k+e[n];return t},S=C(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),E=C(["success","warning","info","question","error"]),I=()=>document.body.querySelector(".".concat(S.container)),T=e=>{const t=I();return t?t.querySelector(e):null},N=e=>T(".".concat(e)),D=()=>N(S.popup),_=()=>N(S.icon),O=()=>N(S.title),B=()=>N(S["html-container"]),z=()=>N(S.image),R=()=>N(S["progress-steps"]),M=()=>N(S["validation-message"]),F=()=>T(".".concat(S.actions," .").concat(S.confirm)),P=()=>T(".".concat(S.actions," .").concat(S.deny)),L=()=>N(S["input-label"]),V=()=>T(".".concat(S.loader)),W=()=>T(".".concat(S.actions," .").concat(S.cancel)),U=()=>N(S.actions),j=()=>N(S.footer),G=()=>N(S["timer-progress-bar"]),q=()=>N(S.close),$='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',H=()=>{const t=Array.from(D().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),n=Array.from(D().querySelectorAll($)).filter((e=>"-1"!==e.getAttribute("tabindex")));return e(t.concat(n)).filter((e=>pe(e)))},K=()=>J(document.body,S.shown)&&!J(document.body,S["toast-shown"])&&!J(document.body,S["no-backdrop"]),Z=()=>D()&&J(D(),S.toast),X=()=>D().hasAttribute("data-loading"),Y={previousBodyPadding:null},Q=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html");Array.from(n.querySelector("head").childNodes).forEach((t=>{e.appendChild(t)})),Array.from(n.querySelector("body").childNodes).forEach((t=>{e.appendChild(t)}))}},J=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let t=0;t<n.length;t++)if(!e.classList.contains(n[t]))return!1;return!0},ee=(e,t)=>{Array.from(e.classList).forEach((n=>{Object.values(S).includes(n)||Object.values(E).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))},te=(e,t,r)=>{if(ee(e,t),t.customClass&&t.customClass[r]){if("string"!=typeof t.customClass[r]&&!t.customClass[r].forEach)return n("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(typeof t.customClass[r],'"'));se(e,t.customClass[r])}},ne=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(S.popup," > .").concat(S[t]));case"checkbox":return e.querySelector(".".concat(S.popup," > .").concat(S.checkbox," input"));case"radio":return e.querySelector(".".concat(S.popup," > .").concat(S.radio," input:checked"))||e.querySelector(".".concat(S.popup," > .").concat(S.radio," input:first-child"));case"range":return e.querySelector(".".concat(S.popup," > .").concat(S.range," input"));default:return e.querySelector(".".concat(S.popup," > .").concat(S.input))}},re=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ae=(e,t,n)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},se=(e,t)=>{ae(e,t,!0)},ie=(e,t)=>{ae(e,t,!1)},oe=(e,t)=>{const n=Array.from(e.children);for(let e=0;e<n.length;e++){const r=n[e];if(r instanceof HTMLElement&&J(r,t))return r}},le=(e,t,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},ce=e=>{e.style.display="none"},he=(e,t,n,r)=>{const a=e.querySelector(t);a&&(a.style[n]=r)},de=function(e,t){t?ue(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ce(e)},pe=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),me=()=>!pe(F())&&!pe(P())&&!pe(W()),fe=e=>!!(e.scrollHeight>e.clientHeight),ge=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},ye=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=G();pe(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},be=()=>{const e=G(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(n,"%")},we=()=>"undefined"==typeof window||"undefined"==typeof document,ve=100,Ae={},xe=()=>{Ae.previousActiveElement instanceof HTMLElement?(Ae.previousActiveElement.focus(),Ae.previousActiveElement=null):document.body&&document.body.focus()},ke=e=>new Promise((t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;Ae.restoreFocusTimeout=setTimeout((()=>{xe(),t()}),ve),window.scrollTo(n,r)})),Ce='\n <div aria-labelledby="'.concat(S.title,'" aria-describedby="').concat(S["html-container"],'" class="').concat(S.popup,'" tabindex="-1">\n   <button type="button" class="').concat(S.close,'"></button>\n   <ul class="').concat(S["progress-steps"],'"></ul>\n   <div class="').concat(S.icon,'"></div>\n   <img class="').concat(S.image,'" />\n   <h2 class="').concat(S.title,'" id="').concat(S.title,'"></h2>\n   <div class="').concat(S["html-container"],'" id="').concat(S["html-container"],'"></div>\n   <input class="').concat(S.input,'" />\n   <input type="file" class="').concat(S.file,'" />\n   <div class="').concat(S.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(S.select,'"></select>\n   <div class="').concat(S.radio,'"></div>\n   <label for="').concat(S.checkbox,'" class="').concat(S.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(S.label,'"></span>\n   </label>\n   <textarea class="').concat(S.textarea,'"></textarea>\n   <div class="').concat(S["validation-message"],'" id="').concat(S["validation-message"],'"></div>\n   <div class="').concat(S.actions,'">\n     <div class="').concat(S.loader,'"></div>\n     <button type="button" class="').concat(S.confirm,'"></button>\n     <button type="button" class="').concat(S.deny,'"></button>\n     <button type="button" class="').concat(S.cancel,'"></button>\n   </div>\n   <div class="').concat(S.footer,'"></div>\n   <div class="').concat(S["timer-progress-bar-container"],'">\n     <div class="').concat(S["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Se=()=>{const e=I();return!!e&&(e.remove(),ie([document.documentElement,document.body],[S["no-backdrop"],S["toast-shown"],S["has-column"]]),!0)},Ee=()=>{Ae.currentInstance.resetValidationMessage()},Ie=()=>{const e=D(),t=oe(e,S.input),n=oe(e,S.file),r=e.querySelector(".".concat(S.range," input")),a=e.querySelector(".".concat(S.range," output")),s=oe(e,S.select),i=e.querySelector(".".concat(S.checkbox," input")),o=oe(e,S.textarea);t.oninput=Ee,n.onchange=Ee,s.onchange=Ee,i.onchange=Ee,o.oninput=Ee,r.oninput=()=>{Ee(),a.value=r.value},r.onchange=()=>{Ee(),a.value=r.value}},Te=e=>"string"==typeof e?document.querySelector(e):e,Ne=e=>{const t=D();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},De=e=>{"rtl"===window.getComputedStyle(e).direction&&se(I(),S.rtl)},_e=e=>{const t=Se();if(we())return void r("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=S.container,t&&se(n,S["no-transition"]),Q(n,Ce);const a=Te(e.target);a.appendChild(n),Ne(e),De(a),Ie()},Oe=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?Be(e,t):e&&Q(t,e)},Be=(e,t)=>{e.jquery?ze(t,e):Q(t,e.toString())},ze=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Re=(()=>{if(we())return!1;const e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1})(),Me=()=>{const e=document.createElement("div");e.className=S["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},Fe=(e,t)=>{const n=U(),r=V();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ue(n):ce(n),te(n,t,"actions"),Pe(n,r,t),Q(r,t.loaderHtml),te(r,t,"loader")};function Pe(e,t,n){const r=F(),a=P(),s=W();Ve(r,"confirm",n),Ve(a,"deny",n),Ve(s,"cancel",n),Le(r,a,s,n),n.reverseButtons&&(n.toast?(e.insertBefore(s,r),e.insertBefore(a,r)):(e.insertBefore(s,t),e.insertBefore(a,t),e.insertBefore(r,t)))}function Le(e,t,n,r){if(!r.buttonsStyling)return ie([e,t,n],S.styled);se([e,t,n],S.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,se(e,S["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,se(t,S["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,se(n,S["default-outline"]))}function Ve(e,n,r){de(e,r["show".concat(t(n),"Button")],"inline-block"),Q(e,r["".concat(n,"ButtonText")]),e.setAttribute("aria-label",r["".concat(n,"ButtonAriaLabel")]),e.className=S[n],te(e,r,"".concat(n,"Button")),se(e,r["".concat(n,"ButtonClass")])}const We=(e,t)=>{const n=I();n&&(Ue(n,t.backdrop),je(n,t.position),Ge(n,t.grow),te(n,t,"container"))};function Ue(e,t){"string"==typeof t?e.style.background=t:t||se([document.documentElement,document.body],S["no-backdrop"])}function je(e,t){t in S?se(e,S[t]):(n('The "position" parameter is not valid, defaulting to "center"'),se(e,S.center))}function Ge(e,t){if(t&&"string"==typeof t){const n="grow-".concat(t);n in S&&se(e,S[n])}}var qe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const $e=["input","file","range","select","radio","checkbox","textarea"],He=(e,t)=>{const n=D(),r=qe.innerParams.get(e),a=!r||t.input!==r.input;$e.forEach((e=>{const r=oe(n,S[e]);Xe(e,t.inputAttributes),r.className=S[e],a&&ce(r)})),t.input&&(a&&Ke(t),Ye(t))},Ke=e=>{if(!nt[e.input])return r('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));const t=et(e.input),n=nt[e.input](t,e);ue(t),setTimeout((()=>{re(n)}))},Ze=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}},Xe=(e,t)=>{const n=ne(D(),e);if(n){Ze(n);for(const e in t)n.setAttribute(e,t[e])}},Ye=e=>{const t=et(e.input);"object"==typeof e.customClass&&se(t,e.customClass.input)},Qe=(e,t)=>{e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Je=(e,t,n)=>{if(n.inputLabel){e.id=S.input;const r=document.createElement("label"),a=S["input-label"];r.setAttribute("for",e.id),r.className=a,"object"==typeof n.customClass&&se(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},et=e=>oe(D(),S[e]||S.input),tt=(e,t)=>{["string","number"].includes(typeof t)?e.value="".concat(t):c(t)||n('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},nt={};nt.text=nt.email=nt.password=nt.number=nt.tel=nt.url=(e,t)=>(tt(e,t.inputValue),Je(e,e,t),Qe(e,t),e.type=t.input,e),nt.file=(e,t)=>(Je(e,e,t),Qe(e,t),e),nt.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return tt(n,t.inputValue),n.type=t.input,tt(r,t.inputValue),Je(n,e,t),e},nt.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");Q(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Je(e,e,t),e},nt.radio=e=>(e.textContent="",e),nt.checkbox=(e,t)=>{const n=ne(D(),"checkbox");n.value="1",n.id=S.checkbox,n.checked=Boolean(t.inputValue);const r=e.querySelector("span");return Q(r,t.inputPlaceholder),n},nt.textarea=(e,t)=>{tt(e,t.inputValue),Qe(e,t),Je(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout((()=>{if("MutationObserver"in window){const t=parseInt(window.getComputedStyle(D()).width);new MutationObserver((()=>{const r=e.offsetWidth+n(e);D().style.width=r>t?"".concat(r,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const rt=(e,t)=>{const n=B();te(n,t,"htmlContainer"),t.html?(Oe(t.html,n),ue(n,"block")):t.text?(n.textContent=t.text,ue(n,"block")):ce(n),He(e,t)},at=(e,t)=>{const n=j();de(n,t.footer),t.footer&&Oe(t.footer,n),te(n,t,"footer")},st=(e,t)=>{const n=q();Q(n,t.closeButtonHtml),te(n,t,"closeButton"),de(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)},it=(e,t)=>{const n=qe.innerParams.get(e),a=_();if(n&&t.icon===n.icon)return ht(a,t),void ot(a,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(E).indexOf(t.icon))return r('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void ce(a);ue(a),ht(a,t),ot(a,t),se(a,t.showClass.icon)}else ce(a)},ot=(e,t)=>{for(const n in E)t.icon!==n&&ie(e,E[n]);se(e,E[t.icon]),dt(e,t),lt(),te(e,t,"icon")},lt=()=>{const e=D(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t},ut='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',ct='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',ht=(e,t)=>{let n,r=e.innerHTML;t.iconHtml?n=pt(t.iconHtml):"success"===t.icon?(n=ut,r=r.replace(/ style=".*?"/g,"")):n="error"===t.icon?ct:pt({question:"?",warning:"!",info:"i"}[t.icon]),r.trim()!==n.trim()&&Q(e,n)},dt=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])he(e,n,"backgroundColor",t.iconColor);he(e,".swal2-success-ring","borderColor",t.iconColor)}},pt=e=>'<div class="'.concat(S["icon-content"],'">').concat(e,"</div>"),mt=(e,t)=>{const n=z();if(!t.imageUrl)return ce(n);ue(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),le(n,"width",t.imageWidth),le(n,"height",t.imageHeight),n.className=S.image,te(n,t,"image")},ft=(e,t)=>{const r=R();if(!t.progressSteps||0===t.progressSteps.length)return ce(r);ue(r),r.textContent="",t.currentProgressStep>=t.progressSteps.length&&n("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(((e,n)=>{const a=gt(e);if(r.appendChild(a),n===t.currentProgressStep&&se(a,S["active-progress-step"]),n!==t.progressSteps.length-1){const e=yt(t);r.appendChild(e)}}))},gt=e=>{const t=document.createElement("li");return se(t,S["progress-step"]),Q(t,e),t},yt=e=>{const t=document.createElement("li");return se(t,S["progress-step-line"]),e.progressStepsDistance&&le(t,"width",e.progressStepsDistance),t},bt=(e,t)=>{const n=O();de(n,t.title||t.titleText,"block"),t.title&&Oe(t.title,n),t.titleText&&(n.innerText=t.titleText),te(n,t,"title")},wt=(e,t)=>{const n=I(),r=D();t.toast?(le(n,"width",t.width),r.style.width="100%",r.insertBefore(V(),_())):le(r,"width",t.width),le(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),ce(M()),vt(r,t)},vt=(e,t)=>{e.className="".concat(S.popup," ").concat(pe(e)?t.showClass.popup:""),t.toast?(se([document.documentElement,document.body],S["toast-shown"]),se(e,S.toast)):se(e,S.modal),te(e,t,"popup"),"string"==typeof t.customClass&&se(e,t.customClass),t.icon&&se(e,S["icon-".concat(t.icon)])},At=(e,t)=>{wt(e,t),We(e,t),ft(e,t),it(e,t),mt(e,t),bt(e,t),st(e,t),rt(e,t),Fe(e,t),at(e,t),"function"==typeof t.didRender&&t.didRender(D())},xt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),kt=()=>{Array.from(document.body.children).forEach((e=>{e===I()||e.contains(I())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))},Ct=()=>{Array.from(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},St=["swal-title","swal-html","swal-footer"],Et=e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Bt(n),Object.assign(It(n),Tt(n),Nt(n),Dt(n),_t(n),Ot(n,St))},It=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach((e=>{zt(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"==typeof d[n]&&"false"===r&&(t[n]=!1),"object"==typeof d[n]&&(t[n]=JSON.parse(r))})),t},Tt=e=>{const n={};return Array.from(e.querySelectorAll("swal-button")).forEach((e=>{zt(e,["type","color","aria-label"]);const r=e.getAttribute("type");n["".concat(r,"ButtonText")]=e.innerHTML,n["show".concat(t(r),"Button")]=!0,e.hasAttribute("color")&&(n["".concat(r,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(n["".concat(r,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),n},Nt=e=>{const t={},n=e.querySelector("swal-image");return n&&(zt(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Dt=e=>{const t={},n=e.querySelector("swal-icon");return n&&(zt(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},_t=e=>{const t={},n=e.querySelector("swal-input");n&&(zt(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((e=>{zt(e,["value"]);const n=e.getAttribute("value"),r=e.innerHTML;t.inputOptions[n]=r}))),t},Ot=(e,t)=>{const n={};for(const r in t){const a=t[r],s=e.querySelector(a);s&&(zt(s,[]),n[a.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},Bt=e=>{const t=St.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((e=>{const r=e.tagName.toLowerCase();-1===t.indexOf(r)&&n("Unrecognized element <".concat(r,">"))}))},zt=(e,t)=>{Array.from(e.attributes).forEach((r=>{-1===t.indexOf(r.name)&&n(['Unrecognized attribute "'.concat(r.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))};var Rt={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Mt(e){e.inputValidator||Object.keys(Rt).forEach((t=>{e.input===t&&(e.inputValidator=Rt[t])}))}function Ft(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(n('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Pt(e){Mt(e),e.showLoaderOnConfirm&&!e.preConfirm&&n("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),Ft(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),_e(e)}class Lt{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Vt=()=>{null===Y.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Y.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Y.previousBodyPadding+Me(),"px"))},Wt=()=>{null!==Y.previousBodyPadding&&(document.body.style.paddingRight="".concat(Y.previousBodyPadding,"px"),Y.previousBodyPadding=null)},Ut=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!J(document.body,S.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),se(document.body,S.iosfix),Gt(),jt()}},jt=()=>{const e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){const e=44;D().scrollHeight>window.innerHeight-e&&(I().style.paddingBottom="".concat(e,"px"))}},Gt=()=>{const e=I();let t;e.ontouchstart=e=>{t=qt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},qt=e=>{const t=e.target,n=I();return!($t(e)||Ht(e)||t!==n&&(fe(n)||!(t instanceof HTMLElement)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||fe(B())&&B().contains(t)))},$t=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Ht=e=>e.touches&&e.touches.length>1,Kt=()=>{if(J(document.body,S.iosfix)){const e=parseInt(document.body.style.top,10);ie(document.body,S.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Zt=10,Xt=e=>{const t=I(),n=D();"function"==typeof e.willOpen&&e.willOpen(n);const r=window.getComputedStyle(document.body).overflowY;en(t,n,e),setTimeout((()=>{Qt(t,n)}),Zt),K()&&(Jt(t,e.scrollbarPadding,r),kt()),Z()||Ae.previousActiveElement||(Ae.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((()=>e.didOpen(n))),ie(t,S["no-transition"])},Yt=e=>{const t=D();if(e.target!==t)return;const n=I();t.removeEventListener(Re,Yt),n.style.overflowY="auto"},Qt=(e,t)=>{Re&&ge(t)?(e.style.overflowY="hidden",t.addEventListener(Re,Yt)):e.style.overflowY="auto"},Jt=(e,t,n)=>{Ut(),t&&"hidden"!==n&&Vt(),setTimeout((()=>{e.scrollTop=0}))},en=(e,t,n)=>{se(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),ue(t,"grid"),setTimeout((()=>{se(t,n.showClass.popup),t.style.removeProperty("opacity")}),Zt),se([document.documentElement,document.body],S.shown),n.heightAuto&&n.backdrop&&!n.toast&&se([document.documentElement,document.body],S["height-auto"])},tn=e=>{let t=D();t||new $r,t=D();const n=V();Z()?ce(_()):nn(t,e),ue(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},nn=(e,t)=>{const n=U(),r=V();!t&&pe(F())&&(t=F()),ue(n),t&&(ce(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),se([e,n],S.loading)},rn=(e,t)=>{"select"===t.input||"radio"===t.input?un(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(l(t.inputValue)||c(t.inputValue))&&(tn(F()),cn(e,t))},an=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return sn(n);case"radio":return on(n);case"file":return ln(n);default:return t.inputAutoTrim?n.value.trim():n.value}},sn=e=>e.checked?1:0,on=e=>e.checked?e.value:null,ln=e=>e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,un=(e,t)=>{const n=D(),a=e=>hn[t.input](n,dn(e),t);l(t.inputOptions)||c(t.inputOptions)?(tn(F()),u(t.inputOptions).then((t=>{e.hideLoading(),a(t)}))):"object"==typeof t.inputOptions?a(t.inputOptions):r("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},cn=(e,t)=>{const n=e.getInput();ce(n),u(t.inputValue).then((r=>{n.value="number"===t.input?parseFloat(r)||0:"".concat(r),ue(n),n.focus(),e.hideLoading()})).catch((t=>{r("Error in inputValue promise: ".concat(t)),n.value="",ue(n),n.focus(),e.hideLoading()}))},hn={select:(e,t,n)=>{const r=oe(e,S.select),a=(e,t,r)=>{const a=document.createElement("option");a.value=r,Q(a,t),a.selected=pn(r,n.inputValue),e.appendChild(a)};t.forEach((e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach((t=>a(e,t[1],t[0])))}else a(r,n,t)})),r.focus()},radio:(e,t,n)=>{const r=oe(e,S.radio);t.forEach((e=>{const t=e[0],a=e[1],s=document.createElement("input"),i=document.createElement("label");s.type="radio",s.name=S.radio,s.value=t,pn(t,n.inputValue)&&(s.checked=!0);const o=document.createElement("span");Q(o,a),o.className=S.label,i.appendChild(s),i.appendChild(o),r.appendChild(i)}));const a=r.querySelectorAll("input");a.length&&a[0].focus()}},dn=e=>{const t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach(((e,n)=>{let r=e;"object"==typeof r&&(r=dn(r)),t.push([n,r])})):Object.keys(e).forEach((n=>{let r=e[n];"object"==typeof r&&(r=dn(r)),t.push([n,r])})),t},pn=(e,t)=>t&&t.toString()===e.toString();function mn(){const e=qe.innerParams.get(this);if(!e)return;const t=qe.domCache.get(this);ce(t.loader),Z()?e.icon&&ue(_()):fn(t),ie([t.popup,t.actions],S.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const fn=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ue(t[0],"inline-block"):me()&&ce(e.actions)};function gn(e){const t=qe.innerParams.get(e||this),n=qe.domCache.get(e||this);return n?ne(n.popup,t.input):null}var yn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const bn=()=>pe(D()),wn=()=>F()&&F().click(),vn=()=>P()&&P().click(),An=()=>W()&&W().click(),xn=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},kn=(e,t,n,r)=>{xn(t),n.toast||(t.keydownHandler=t=>In(e,t,r),t.keydownTarget=n.keydownListenerCapture?window:D(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Cn=(e,t,n)=>{const r=H();if(r.length)return(t+=n)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();D().focus()},Sn=["ArrowRight","ArrowDown"],En=["ArrowLeft","ArrowUp"],In=(e,t,n)=>{const r=qe.innerParams.get(e);r&&(t.isComposing||229===t.keyCode||(r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Tn(e,t,r):"Tab"===t.key?Nn(t,r):[...Sn,...En].includes(t.key)?Dn(t.key):"Escape"===t.key&&_n(t,r,n)))},Tn=(e,t,n)=>{if(o(n.allowEnterKey)&&t.target&&e.getInput()&&t.target instanceof HTMLElement&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;wn(),t.preventDefault()}},Nn=(e,t)=>{const n=e.target,r=H();let a=-1;for(let e=0;e<r.length;e++)if(n===r[e]){a=e;break}e.shiftKey?Cn(t,a,-1):Cn(t,a,1),e.stopPropagation(),e.preventDefault()},Dn=e=>{const t=F(),n=P(),r=W();if(document.activeElement instanceof HTMLElement&&![t,n,r].includes(document.activeElement))return;const a=Sn.includes(e)?"nextElementSibling":"previousElementSibling";let s=document.activeElement;for(let e=0;e<U().children.length;e++){if(s=s[a],!s)return;if(s instanceof HTMLButtonElement&&pe(s))break}s instanceof HTMLButtonElement&&s.focus()},_n=(e,t,n)=>{o(t.allowEscapeKey)&&(e.preventDefault(),n(xt.esc))};function On(e,t,n,r){Z()?Un(e,r):(ke(n).then((()=>Un(e,r))),xn(Ae)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),K()&&(Wt(),Kt(),Ct()),Bn()}function Bn(){ie([document.documentElement,document.body],[S.shown,S["height-auto"],S["no-backdrop"],S["toast-shown"]])}function zn(e){e=Ln(e);const t=yn.swalPromiseResolve.get(this),n=Mn(this);this.isAwaitingPromise()?e.isDismissed||(Pn(this),t(e)):n&&t(e)}function Rn(){return!!qe.awaitingPromise.get(this)}const Mn=e=>{const t=D();if(!t)return!1;const n=qe.innerParams.get(e);if(!n||J(t,n.hideClass.popup))return!1;ie(t,n.showClass.popup),se(t,n.hideClass.popup);const r=I();return ie(r,n.showClass.backdrop),se(r,n.hideClass.backdrop),Vn(e,t,n),!0};function Fn(e){const t=yn.swalPromiseReject.get(this);Pn(this),t&&t(e)}const Pn=e=>{e.isAwaitingPromise()&&(qe.awaitingPromise.delete(e),qe.innerParams.get(e)||e._destroy())},Ln=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Vn=(e,t,n)=>{const r=I(),a=Re&&ge(t);"function"==typeof n.willClose&&n.willClose(t),a?Wn(e,t,r,n.returnFocus,n.didClose):On(e,r,n.returnFocus,n.didClose)},Wn=(e,t,n,r,a)=>{Ae.swalCloseEventFinishedCallback=On.bind(null,e,n,r,a),t.addEventListener(Re,(function(e){e.target===t&&(Ae.swalCloseEventFinishedCallback(),delete Ae.swalCloseEventFinishedCallback)}))},Un=(e,t)=>{setTimeout((()=>{"function"==typeof t&&t.bind(e.params)(),e._destroy()}))};function jn(e,t,n){const r=qe.domCache.get(e);t.forEach((e=>{r[e].disabled=n}))}function Gn(e,t){if(!e)return!1;if("radio"===e.type){const n=e.parentNode.parentNode.querySelectorAll("input");for(let e=0;e<n.length;e++)n[e].disabled=t}else e.disabled=t}function qn(){jn(this,["confirmButton","denyButton","cancelButton"],!1)}function $n(){jn(this,["confirmButton","denyButton","cancelButton"],!0)}function Hn(){return Gn(this.getInput(),!1)}function Kn(){return Gn(this.getInput(),!0)}function Zn(e){const t=qe.domCache.get(this),n=qe.innerParams.get(this);Q(t.validationMessage,e),t.validationMessage.className=S["validation-message"],n.customClass&&n.customClass.validationMessage&&se(t.validationMessage,n.customClass.validationMessage),ue(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",S["validation-message"]),re(r),se(r,S.inputerror))}function Xn(){const e=qe.domCache.get(this);e.validationMessage&&ce(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ie(t,S.inputerror))}function Yn(){return qe.domCache.get(this).progressSteps}function Qn(e){const t=D(),r=qe.innerParams.get(this);if(!t||J(t,r.hideClass.popup))return n("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const a=Jn(e),s=Object.assign({},r,a);At(this,s),qe.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const Jn=e=>{const t={};return Object.keys(e).forEach((r=>{y(r)?t[r]=e[r]:n("Invalid parameter to update: ".concat(r))})),t};function er(){const e=qe.domCache.get(this),t=qe.innerParams.get(this);t?(e.popup&&Ae.swalCloseEventFinishedCallback&&(Ae.swalCloseEventFinishedCallback(),delete Ae.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),tr(this)):nr(this)}const tr=e=>{nr(e),delete e.params,delete Ae.keydownHandler,delete Ae.keydownTarget,delete Ae.currentInstance},nr=e=>{e.isAwaitingPromise()?(rr(qe,e),qe.awaitingPromise.set(e,!0)):(rr(yn,e),rr(qe,e))},rr=(e,t)=>{for(const n in e)e[n].delete(t)};var ar=Object.freeze({hideLoading:mn,disableLoading:mn,getInput:gn,close:zn,isAwaitingPromise:Rn,rejectPromise:Fn,handleAwaitingPromise:Pn,closePopup:zn,closeModal:zn,closeToast:zn,enableButtons:qn,disableButtons:$n,enableInput:Hn,disableInput:Kn,showValidationMessage:Zn,resetValidationMessage:Xn,getProgressSteps:Yn,update:Qn,_destroy:er});const sr=e=>{const t=qe.innerParams.get(e);e.disableButtons(),t.input?lr(e,"confirm"):pr(e,!0)},ir=e=>{const t=qe.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?lr(e,"deny"):cr(e,!1)},or=(e,t)=>{e.disableButtons(),t(xt.cancel)},lr=(e,n)=>{const a=qe.innerParams.get(e);if(!a.input)return void r('The "input" parameter is needed to be set when using returnInputValueOn'.concat(t(n)));const s=an(e,a);a.inputValidator?ur(e,s,n):e.getInput().checkValidity()?"deny"===n?cr(e,s):pr(e,s):(e.enableButtons(),e.showValidationMessage(a.validationMessage))},ur=(e,t,n)=>{const r=qe.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>u(r.inputValidator(t,r.validationMessage)))).then((r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?cr(e,t):pr(e,t)}))},cr=(e,t)=>{const n=qe.innerParams.get(e||void 0);n.showLoaderOnDeny&&tn(P()),n.preDeny?(qe.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>u(n.preDeny(t,n.validationMessage)))).then((n=>{!1===n?(e.hideLoading(),Pn(e)):e.close({isDenied:!0,value:void 0===n?t:n})})).catch((t=>dr(e||void 0,t)))):e.close({isDenied:!0,value:t})},hr=(e,t)=>{e.close({isConfirmed:!0,value:t})},dr=(e,t)=>{e.rejectPromise(t)},pr=(e,t)=>{const n=qe.innerParams.get(e||void 0);n.showLoaderOnConfirm&&tn(),n.preConfirm?(e.resetValidationMessage(),qe.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>u(n.preConfirm(t,n.validationMessage)))).then((n=>{pe(M())||!1===n?(e.hideLoading(),Pn(e)):hr(e,void 0===n?t:n)})).catch((t=>dr(e||void 0,t)))):hr(e,t)},mr=(e,t,n)=>{qe.innerParams.get(e).toast?fr(e,t,n):(br(t),wr(t),vr(e,t,n))},fr=(e,t,n)=>{t.popup.onclick=()=>{const t=qe.innerParams.get(e);t&&(gr(t)||t.timer||t.input)||n(xt.close)}},gr=e=>e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton;let yr=!1;const br=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(yr=!0)}}},wr=e=>{e.container.onmousedown=()=>{e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(yr=!0)}}},vr=(e,t,n)=>{t.container.onclick=r=>{const a=qe.innerParams.get(e);yr?yr=!1:r.target===t.container&&o(a.allowOutsideClick)&&n(xt.backdrop)}},Ar=e=>"object"==typeof e&&e.jquery,xr=e=>e instanceof Element||Ar(e),kr=e=>{const t={};return"object"!=typeof e[0]||xr(e[0])?["title","html","icon"].forEach(((n,a)=>{const s=e[a];"string"==typeof s||xr(s)?t[n]=s:void 0!==s&&r("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof s))})):Object.assign(t,e[0]),t};function Cr(){const e=this;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e(...n)}function Sr(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const Er=()=>Ae.timeout&&Ae.timeout.getTimerLeft(),Ir=()=>{if(Ae.timeout)return be(),Ae.timeout.stop()},Tr=()=>{if(Ae.timeout){const e=Ae.timeout.start();return ye(e),e}},Nr=()=>{const e=Ae.timeout;return e&&(e.running?Ir():Tr())},Dr=e=>{if(Ae.timeout){const t=Ae.timeout.increase(e);return ye(t,!0),t}},_r=()=>Ae.timeout&&Ae.timeout.isRunning();let Or=!1;const Br={};function zr(){Br[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Or||(document.body.addEventListener("click",Rr),Or=!0)}const Rr=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in Br){const n=t.getAttribute(e);if(n)return void Br[e].fire({template:n})}};var Mr=Object.freeze({isValidParameter:g,isUpdatableParameter:y,isDeprecatedParameter:b,argsToParams:kr,isVisible:bn,clickConfirm:wn,clickDeny:vn,clickCancel:An,getContainer:I,getPopup:D,getTitle:O,getHtmlContainer:B,getImage:z,getIcon:_,getInputLabel:L,getCloseButton:q,getActions:U,getConfirmButton:F,getDenyButton:P,getCancelButton:W,getLoader:V,getFooter:j,getTimerProgressBar:G,getFocusableElements:H,getValidationMessage:M,isLoading:X,fire:Cr,mixin:Sr,showLoading:tn,enableLoading:tn,getTimerLeft:Er,stopTimer:Ir,resumeTimer:Tr,toggleTimer:Nr,increaseTimer:Dr,isTimerRunning:_r,bindClickHandler:zr});let Fr;class Pr{constructor(){if("undefined"==typeof window)return;Fr=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});const a=Fr._main(Fr.params);qe.promise.set(this,a)}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(Object.assign({},t,e)),Ae.currentInstance&&(Ae.currentInstance._destroy(),K()&&Ct()),Ae.currentInstance=Fr;const n=Vr(e,t);Pt(n),Object.freeze(n),Ae.timeout&&(Ae.timeout.stop(),delete Ae.timeout),clearTimeout(Ae.restoreFocusTimeout);const r=Wr(Fr);return At(Fr,n),qe.innerParams.set(Fr,n),Lr(Fr,r,n)}then(e){return qe.promise.get(this).then(e)}finally(e){return qe.promise.get(this).finally(e)}}const Lr=(e,t,n)=>new Promise(((r,a)=>{const s=t=>{e.closePopup({isDismissed:!0,dismiss:t})};yn.swalPromiseResolve.set(e,r),yn.swalPromiseReject.set(e,a),t.confirmButton.onclick=()=>sr(e),t.denyButton.onclick=()=>ir(e),t.cancelButton.onclick=()=>or(e,s),t.closeButton.onclick=()=>s(xt.close),mr(e,t,s),kn(e,Ae,n,s),rn(e,n),Xt(n),Ur(Ae,n,s),jr(t,n),setTimeout((()=>{t.container.scrollTop=0}))})),Vr=(e,t)=>{const n=Et(e),r=Object.assign({},d,t,n,e);return r.showClass=Object.assign({},d.showClass,r.showClass),r.hideClass=Object.assign({},d.hideClass,r.hideClass),r},Wr=e=>{const t={popup:D(),container:I(),actions:U(),confirmButton:F(),denyButton:P(),cancelButton:W(),loader:V(),closeButton:q(),validationMessage:M(),progressSteps:R()};return qe.domCache.set(e,t),t},Ur=(e,t,n)=>{const r=G();ce(r),t.timer&&(e.timeout=new Lt((()=>{n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ue(r),te(r,t,"timerProgressBar"),setTimeout((()=>{e.timeout&&e.timeout.running&&ye(t.timer)}))))},jr=(e,t)=>{if(!t.toast)return o(t.allowEnterKey)?void(Gr(e,t)||Cn(t,-1,1)):qr()},Gr=(e,t)=>t.focusDeny&&pe(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&pe(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!pe(e.confirmButton)||(e.confirmButton.focus(),0)),qr=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const e=document.createElement("div");e.className="leave-russia-now-and-apply-your-skills-to-the-world";const t=h([{text:"           ,\n        <strong>      </strong>:",id:"4CfDhaRkw7I"},{text:" -  <strong></strong> .  . <strong>     .</strong>",id:"s-GLAIY4DXA"}]);Q(e,"\n      <div>\n            ,     <strong>  </strong>     <strong></strong>.\n      </div>\n      <div>\n           20       ,          . <strong>  !</strong>\n      </div>\n      <div>\n        ".concat(t.text,'\n      </div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/').concat(t.id,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\n         !\n      </div>\n      '));const n=document.createElement("button");n.innerHTML="&times;",n.onclick=()=>e.remove(),e.appendChild(n),window.addEventListener("load",(()=>{setTimeout((()=>{document.body.appendChild(e)}),1e3)}))}Object.assign(Pr.prototype,ar),Object.assign(Pr,Mr),Object.keys(ar).forEach((e=>{Pr[e]=function(){if(Fr)return Fr[e](...arguments)}})),Pr.DismissReason=xt,Pr.version="11.4.29";const $r=Pr;return $r.default=$r,$r}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2)},7621:(e,t,n)=>{var r;!function(a){var s=/^\s+/,i=/\s+$/,o=0,l=a.round,u=a.min,c=a.max,h=a.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,l=null,h=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(s,"").replace(i,"").toLowerCase();var t,n=!1;if(D[e])e=D[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=j.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=j.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=j.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=j.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=j.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=j.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=j.hex8.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),a:L(t[4]),format:n?"name":"hex8"};if(t=j.hex6.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),format:n?"name":"hex"};if(t=j.hex4.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),a:L(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=j.hex3.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(G(e.r)&&G(e.g)&&G(e.b)?(p=e.r,m=e.g,f=e.b,t={r:255*B(p,255),g:255*B(m,255),b:255*B(f,255)},h=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(r=F(e.s),o=F(e.v),t=function(e,t,n){e=6*B(e,360),t=B(t,100),n=B(n,100);var r=a.floor(e),s=e-r,i=n*(1-t),o=n*(1-s*t),l=n*(1-(1-s)*t),u=r%6;return{r:255*[n,o,i,i,l,n][u],g:255*[l,n,n,o,i,i][u],b:255*[i,i,l,n,n,o][u]}}(e.h,r,o),h=!0,d="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(r=F(e.s),l=F(e.l),t=function(e,t,n){var r,a,s;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=B(e,360),t=B(t,100),n=B(n,100),0===t)r=a=s=n;else{var o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;r=i(l,o,e+1/3),a=i(l,o,e),s=i(l,o,e-1/3)}return{r:255*r,g:255*a,b:255*s}}(e.h,r,l),h=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var p,m,f;return n=O(n),{ok:h,format:e.format||d,r:u(255,c(t.r,0)),g:u(255,c(t.g,0)),b:u(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=o++}function p(e,t,n){e=B(e,255),t=B(t,255),n=B(n,255);var r,a,s=c(e,t,n),i=u(e,t,n),o=(s+i)/2;if(s==i)r=a=0;else{var l=s-i;switch(a=o>.5?l/(2-s-i):l/(s+i),s){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,l:o}}function m(e,t,n){e=B(e,255),t=B(t,255),n=B(n,255);var r,a,s=c(e,t,n),i=u(e,t,n),o=s,l=s-i;if(a=0===s?0:l/s,s==i)r=0;else{switch(s){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,v:o}}function f(e,t,n,r){var a=[M(l(e).toString(16)),M(l(t).toString(16)),M(l(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function g(e,t,n,r){return[M(P(r)),M(l(e).toString(16)),M(l(t).toString(16)),M(l(n).toString(16))].join("")}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=z(n.s),d(n)}function b(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=z(n.s),d(n)}function w(e){return d(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=z(n.l),d(n)}function A(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=c(0,u(255,n.r-l(-t/100*255))),n.g=c(0,u(255,n.g-l(-t/100*255))),n.b=c(0,u(255,n.b-l(-t/100*255))),d(n)}function x(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=z(n.l),d(n)}function k(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function C(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function S(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function E(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function I(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),a=360/n,s=[d(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,s.push(d(r));return s}function N(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,a=n.s,s=n.v,i=[],o=1/t;t--;)i.push(d({h:r,s:a,v:s})),s=(s+o)%1;return i}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=O(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=m(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=m(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return f(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,a){var s=[M(l(e).toString(16)),M(l(t).toString(16)),M(l(n).toString(16)),M(P(r))];if(a&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1))return s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0);return s.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*B(this._r,255))+"%",g:l(100*B(this._g,255))+"%",b:l(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*B(this._r,255))+"%, "+l(100*B(this._g,255))+"%, "+l(100*B(this._b,255))+"%)":"rgba("+l(100*B(this._r,255))+"%, "+l(100*B(this._g,255))+"%, "+l(100*B(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(_[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=d(e);n="#"+g(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(A,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:F(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:h(),g:h(),b:h()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),a=d(t).toRgb(),s=n/100;return d({r:(a.r-r.r)*s+r.r,g:(a.g-r.g)*s+r.g,b:(a.b-r.b)*s+r.b,a:(a.a-r.a)*s+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(a.max(n.getLuminance(),r.getLuminance())+.05)/(a.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,a,s=d.readability(e,t);switch(a=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":a=s>=4.5;break;case"AAlarge":a=s>=3;break;case"AAAsmall":a=s>=7}return a},d.mostReadable=function(e,t,n){var r,a,s,i,o=null,l=0;a=(n=n||{}).includeFallbackColors,s=n.level,i=n.size;for(var u=0;u<t.length;u++)(r=d.readability(e,t[u]))>l&&(l=r,o=d(t[u]));return d.isReadable(e,o,{level:s,size:i})||!a?o:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var D=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(D);function O(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function B(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=u(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),a.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function z(e){return u(1,c(0,e))}function R(e){return parseInt(e,16)}function M(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}function P(e){return a.round(255*parseFloat(e)).toString(16)}function L(e){return R(e)/255}var V,W,U,j=(W="[\\s|\\(]+("+(V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",U="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+W),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+W),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+W),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function G(e){return!!j.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},4698:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FaceMesh:()=>sh,load:()=>th});var r={};n.r(r),n.d(r,{json:()=>iu});var a={};n.r(a),n.d(a,{json:()=>ou});var s={};n.r(s),n.d(s,{json:()=>lu});var i={};n.r(i),n.d(i,{json:()=>uu});var o={};n.r(o),n.d(o,{json:()=>cu});var l={};n.r(l),n.d(l,{json:()=>hu});var u={};n.r(u),n.d(u,{json:()=>du});var c={};n.r(c),n.d(c,{json:()=>pu});var h={};n.r(h),n.d(h,{json:()=>mu});var d={};n.r(d),n.d(d,{json:()=>fu});var p={};n.r(p),n.d(p,{json:()=>gu});var m={};n.r(m),n.d(m,{json:()=>yu});var f={};n.r(f),n.d(f,{json:()=>bu});var g={};n.r(g),n.d(g,{json:()=>wu});var y={};n.r(y),n.d(y,{json:()=>vu});var b={};n.r(b),n.d(b,{json:()=>Au});var w={};n.r(w),n.d(w,{json:()=>xu});function v(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function A(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function x(e,t,n=""){A(E(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function k(e){A(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function C(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||D(e)&&!n)for(let r=0;r<e.length;++r)C(e[r],t,n);else t.push(e);return t}function S(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function E(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function I(e){return e%1==0}function T(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function N(e,t){const n=t.length;return A((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),A(e.every((e=>I(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function D(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function _(e){return"string"==typeof e||e instanceof String}function O(e){return Array.isArray(e)?O(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":"number"==typeof e?"float32":_(e)?"string":function(e){return"boolean"==typeof e}(e)?"bool":"float32"}function B(e){return!!(e&&e.constructor&&e.call&&e.apply)}function z(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function R(e,t,n){const r=new Array;if(1===t.length){const a=t[0];for(let t=0;t<a;t++)r[t]=n[e+t]}else{const a=t[0],s=t.slice(1),i=s.reduce(((e,t)=>e*t));for(let t=0;t<a;t++)r[t]=R(e+t*i,s,n)}return r}function M(e,t){if(0===e.length)return t[0];const n=e.reduce(((e,t)=>e*t));if(0===n)return[];if(n!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}.`);return R(0,e,t)}function F(e,t){const n=P(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function P(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function L(e){e.forEach((t=>{A(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function V(e){return e&&e.then&&"function"==typeof e.then}const W="tfjsflags";class U{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}setPlatform(e,t){this.platform,this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(V(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=function(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}(this.global.location.search);if(W in e){e.tfjsflags.split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}}function j(){return q}let G,q=null;function $(){if(null==G){let e;if("undefined"!=typeof window)e=window;else if(void 0!==n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}G=e}return G}function H(e,t){const n=function(){const e=$();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const K="Acos",Z="Acosh",X="Add",Y="AddN",Q="ArgMax",J="ArgMin",ee="Asin",te="Asinh",ne="Atan",re="Atanh",ae="Atan2",se="AvgPool",ie="AvgPool3D",oe="BatchMatMul",le="BatchToSpaceND",ue="Cast",ce="Ceil",he="ClipByValue",de="ComplexAbs",pe="Concat",me="Conv2D",fe="Conv2DBackpropInput",ge="Conv3D",ye="Cosh",be="Cumsum",we="DepthwiseConv2dNative",ve="Dilation2D",Ae="RealDiv",xe="ExpandDims",ke="Expm1",Ce="Floor",Se="FloorDiv",Ee="FusedBatchNorm",Ie="GatherV2",Te="GreaterEqual",Ne="Identity",De="IsFinite",_e="IsInf",Oe="IsNan",Be="LeakyRelu",ze="Log1p",Re="Maximum",Me="MaxPool",Fe="MaxPool3D",Pe="Mean",Le="Minimum",Ve="MirrorPad",We="Multiply",Ue="OnesLike",je="OneHot",Ge="Pack",qe="PadV2",$e="Prelu",He="Reciprocal",Ke="Relu",Ze="Reshape",Xe="ResizeNearestNeighbor",Ye="ResizeBilinear",Qe="Relu6",Je="Reverse",et="Round",tt="Rsqrt",nt="Select",rt="Selu",at="Slice",st="Sinh",it="Sign",ot="Sigmoid",lt="Softplus",ut="Sqrt",ct="SpaceToBatchND",ht="SplitV",dt="Softmax",pt="SquaredDifference",mt="Tanh",ft="Tile",gt="Transpose",yt="Unpack",bt="UnsortedSegmentSum",wt="ZerosLike",vt="Step",At="FromPixels",xt="_FusedMatMul",kt="FusedConv2D",Ct="FusedDepthwiseConv2D",St=H("kernelRegistry",(()=>new Map)),Et=H("gradRegistry",(()=>new Map));function It(e,t){const n=_t(e,t);return St.get(n)}function Tt(e){return Et.get(e)}function Nt(e){const t=St.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[s,i]=a,[o]=s.split("_");o===e&&n.push(i)}return n}function Dt(e){const{kernelName:t}=e;Et.has(t)&&j().getBool("DEBUG"),Et.set(t,e)}function _t(e,t){return`${t}_${e}`}class Ot{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new zt)}profileKernel(e,t,n){let r;const a=this.backendTimer.time((()=>{r=n()}));if(j().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<r.length;t++){const n=r[t];n.data().then((t=>{Bt(t,n.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((e=>e.kernelMs)),extraInfo:a.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:s}=e;n.forEach((e=>{Promise.all([e.data(),r,s]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])}))}))}}function Bt(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(isNaN(n)||!isFinite(n))return!0}return!1}class zt{logKernelProfile(e,t,n,r,a,s){"number"==typeof r?T(`${r}ms`,9):r.error,T(e,25),t.rank,t.size,T(t.shape.toString(),14);let i="";for(const e in a){const n=a[e];if(null!=n){const r=n.shape||t.shape,a=r.length;i+=`${e}: ${a}D ${a>0?r:""} `}}}}function Rt(e,t,n,r){const a=z(t),s=function(e,t,n,r){const a=S(t),s=r[r.length-1],i=new Array(s).fill(0),o=t.length,l="complex64"===n?Lt(e):e;if(o>1)for(let e=0;e<a/s;e++){const t=e*s;for(let e=0;e<s;e++)i[e]=Math.max(i[e],Mt(l[t+e],0,n).length)}return i}(e,t,n,a),i=t.length,o=Pt(e,t,n,a,s),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${i}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(o.map((e=>"    "+e)).join("\n")),l.join("\n")}function Mt(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:_(e)?`'${e}'`:"bool"===n?Ft(e):parseFloat(e.toFixed(7)).toString(),T(r,t)}function Ft(e){return 0===e?"false":"true"}function Pt(e,t,n,r,a,s=!0){const i="complex64"===n?2:1,o=t[0],l=t.length;if(0===l){if("complex64"===n){return[Mt(Lt(e)[0],0,n)]}return"bool"===n?[Ft(e[0])]:[e[0].toString()]}if(1===l){if(o>20){const t=3*i;let r=Array.from(e.slice(0,t)),s=Array.from(e.slice((o-3)*i,o*i));return"complex64"===n&&(r=Lt(r),s=Lt(s)),["["+r.map(((e,t)=>Mt(e,a[t],n))).join(", ")+", ..., "+s.map(((e,t)=>Mt(e,a[o-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?Lt(e):Array.from(e)).map(((e,t)=>Mt(e,a[t],n))).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),h=r[0]*i,d=[];if(o>20){for(let t=0;t<3;t++){const r=t*h,s=r+h;d.push(...Pt(e.slice(r,s),u,n,c,a,!1))}d.push("...");for(let t=o-3;t<o;t++){const r=t*h,s=r+h;d.push(...Pt(e.slice(r,s),u,n,c,a,t===o-1))}}else for(let t=0;t<o;t++){const r=t*h,s=r+h;d.push(...Pt(e.slice(r,s),u,n,c,a,t===o-1))}const p=2===l?",":"";d[0]="["+d[0]+p;for(let e=1;e<d.length-1;e++)d[e]=" "+d[e]+p;let m=",\n";for(let e=2;e<l;e++)m+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(s?"":m),d}function Lt(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}function Vt(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=C(e)),j().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function Wt(){return j().platform.now()}function Ut(e,t="utf-8"){return t=t||"utf-8",j().platform.encode(e,t)}function jt(e,t="utf-8"){return t=t||"utf-8",j().platform.decode(e,t)}class Gt{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=S(e),null!=n){const e=n.length;A(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||function(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}(t,this.size),this.strides=z(e)}set(e,...t){0===t.length&&(t=[0]),A(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return qt().makeTensor(this.values,this.shape,this.dtype)}}let qt=null,$t=null,Ht=null;class Kt{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=S(e),this.strides=z(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return $t.buffer(this.shape,this.dtype,e)}bufferSync(){return $t.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return M(this.shape,e)}arraySync(){return M(this.shape,this.dataSync())}async data(){this.throwIfDisposed();const e=qt().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>jt(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataSync(){this.throwIfDisposed();const e=qt().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>jt(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await qt().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(qt().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return $t.print(this,e)}clone(){return this.throwIfDisposed(),$t.clone(this)}toString(e=!1){return Rt(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),$t.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),qt().makeVariable(this,e,t,n)}}Object.defineProperty(Kt,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed});class Zt extends Kt{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!E(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);qt().disposeTensor(this),this.dataId=e.dataId,qt().incRef(this,null)}dispose(){qt().disposeVariable(this),this.isDisposedInternal=!0}}var Xt,Yt,Qt,Jt,en;Object.defineProperty(Zt,Symbol.hasInstance,{value:e=>e instanceof Kt&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Xt||(Xt={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Yt||(Yt={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Qt||(Qt={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Jt||(Jt={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(en||(en={}));const tn={float32:Jt,int32:Yt,bool:Qt,complex64:en};function nn(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return tn[e][t]}function rn(e,t){if(e.dtype===t.dtype)return[e,t];const n=nn(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function an(e){const t=[];return sn(e,t,new Set),t}function sn(e,t,n){if(null==e)return;if(e instanceof Kt)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!=typeof r)return;var r;const a=e;for(const e in a){const r=a[e];n.has(r)||(n.add(r),sn(r,t,n))}}class on{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class ln{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new on}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return!(e in this.registryFactory)&&(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Ot(this.backendInstance),!0}setupRegisteredKernels(){Nt(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){Nt(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof class{decComplexRef(e){}time(e){return v("time")}read(e){return v("read")}readSync(e){return v("readSync")}numDataIds(){return v("numDataIds")}disposeData(e){return v("disposeData")}write(e,t,n){return v("write")}move(e,t,n,r){return v("move")}memory(){return v("memory")}floatPrecision(){return v("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}batchMatMul(e,t,n,r){return v("batchMatMul")}fusedBatchMatMul({a:e,b:t,transposeA:n,transposeB:r,bias:a,activation:s,preluActivationWeights:i}){return v("fusedBatchMatMul")}slice(e,t,n){return v("slice")}stridedSlice(e,t,n,r){return v("stridedSlice")}unstack(e,t){return v("unstack")}reverse(e,t){return v("reverse")}concat(e,t){return v("concat")}neg(e){return v("neg")}add(e,t){return v("add")}addN(e){return v("addN")}subtract(e,t){return v("subtract")}multiply(e,t){return v("multiply")}realDivide(e,t){return v("realDivide")}floorDiv(e,t){return v("floorDiv")}sum(e,t){return v("sum")}prod(e,t){return v("prod")}unsortedSegmentSum(e,t,n){return v("unsortedSegmentSum")}argMin(e,t){return v("argMin")}argMax(e,t){return v("argMax")}equal(e,t){return v("equal")}notEqual(e,t){return v("notEqual")}less(e,t){return v("less")}lessEqual(e,t){return v("lessEqual")}greater(e,t){return v("greater")}greaterEqual(e,t){return v("greaterEqual")}logicalNot(e){return v("logicalNot")}logicalAnd(e,t){return v("logicalAnd")}logicalOr(e,t){return v("logicalOr")}where(e){return v("where")}select(e,t,n){return v("select")}topk(e,t,n){return v("topk")}min(e,t){return v("min")}minimum(e,t){return v("minimum")}mod(e,t){return v("mod")}max(e,t){return v("max")}maximum(e,t){return v("maximum")}all(e,t){return v("all")}any(e,t){return v("any")}squaredDifference(e,t){return v("squaredDifference")}ceil(e){return v("ceil")}floor(e){return v("floor")}round(e){return v("round")}sign(e){return v("sign")}isNaN(e){return v("isNaN")}isInf(e){return v("isInf")}isFinite(e){return v("isFinite")}pow(e,t){return v("pow")}exp(e){return v("exp")}expm1(e){return v("expm1")}softmax(e,t){return v("softmax")}log(e){return v("log")}log1p(e){return v("log1p")}sqrt(e){return v("sqrt")}rsqrt(e){return v("rsqrt")}square(e){return v("square")}reciprocal(e){return v("reciprocal")}relu(e){return v("relu")}relu6(e){return v("relu6")}prelu(e,t){return v("prelu")}elu(e){return v("elu")}eluDer(e,t){return v("eluDer")}selu(e){return v("selu")}int(e){return v("int")}clip(e,t,n){return v("clip")}abs(e){return v("abs")}complexAbs(e){return v("complexAbs")}sigmoid(e){return v("sigmoid")}softplus(e){return v("softplus")}sin(e){return v("sin")}cos(e){return v("cos")}tan(e){return v("tan")}asin(e){return v("asin")}acos(e){return v("acos")}atan(e){return v("atan")}atan2(e,t){return v("atan2")}sinh(e){return v("sinh")}cosh(e){return v("cosh")}tanh(e){return v("tanh")}asinh(e){return v("asinh")}acosh(e){return v("acosh")}atanh(e){return v("atanh")}erf(e){return v("erf")}step(e,t){return v("step")}fusedConv2d({input:e,filter:t,convInfo:n,bias:r,activation:a,preluActivationWeights:s}){return v("fusedConv2d")}conv2d(e,t,n){return v("conv2d")}conv2dDerInput(e,t,n){return v("conv2dDerInput")}conv2dDerFilter(e,t,n){return v("conv2dDerFilter")}fusedDepthwiseConv2D({input:e,filter:t,convInfo:n,bias:r,activation:a,preluActivationWeights:s}){return v("fusedDepthwiseConv2D")}depthwiseConv2D(e,t,n){return v("depthwiseConv2D")}depthwiseConv2DDerInput(e,t,n){return v("depthwiseConv2DDerInput")}depthwiseConv2DDerFilter(e,t,n){return v("depthwiseConv2DDerFilter")}conv3d(e,t,n){return v("conv3d")}conv3dDerInput(e,t,n){return v("conv3dDerInput")}conv3dDerFilter(e,t,n){return v("conv3dDerFilter")}maxPool(e,t){return v("maxPool")}maxPoolBackprop(e,t,n,r){return v("maxPoolBackprop")}avgPool(e,t){return v("avgPool")}avgPoolBackprop(e,t,n){return v("avgPoolBackprop")}avgPool3d(e,t){return v("avgPool3d")}avgPool3dBackprop(e,t,n){return v("avgPool3dBackprop")}maxPool3d(e,t){return v("maxPool3d")}maxPool3dBackprop(e,t,n,r){return v("maxPool3dBackprop")}reshape(e,t){return v("reshape")}cast(e,t){return v("cast")}tile(e,t){return v("tile")}pad(e,t,n){return v("pad")}transpose(e,t){return v("transpose")}gather(e,t,n,r=0){return v("gather")}gatherND(e,t){return v("gatherND")}scatterND(e,t,n){return v("scatterND")}batchToSpaceND(e,t,n){return v("batchToSpaceND")}spaceToBatchND(e,t,n){return v("spaceToBatchND")}resizeBilinear(e,t,n,r,a){return v("resizeBilinear")}resizeBilinearBackprop(e,t,n){return v("resizeBilinearBackprop")}resizeNearestNeighbor(e,t,n,r,a){return v("resizeNearestNeighbor")}resizeNearestNeighborBackprop(e,t,n){return v("resizeNearestNeighborBackprop")}batchNorm(e,t,n,r,a,s){return v("batchNorm")}localResponseNormalization4D(e,t,n,r,a){return v("localResponseNormalization4D")}LRNGrad(e,t,n,r,a,s,i){return v("LRNGrad")}multinomial(e,t,n,r){return v("multinomial")}oneHot(e,t,n,r){return v("oneHot")}cumsum(e,t,n,r){return v("cumsum")}nonMaxSuppression(e,t,n,r,a){return v("nonMaxSuppression")}fft(e){return v("fft")}ifft(e){return v("ifft")}complex(e,t){return v("complex")}real(e){return v("real")}imag(e){return v("imag")}cropAndResize(e,t,n,r,a,s){return v("cropAndResize")}depthToSpace(e,t,n){return v("depthToSpace")}split(e,t,n){return v("split")}sparseToDense(e,t,n,r){return v("sparseToDense")}diag(e){return v("diag")}fill(e,t,n){return v("fill")}onesLike(e){return v("onesLike")}zerosLike(e){return v("zerosLike")}linspace(e,t,n){return v("linspace")}dispose(){return v("dispose")}}||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((e=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(e){return{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,a,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return ln.nextTensorId++}nextVariableId(){return ln.nextVariableId++}clone(e){const t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t="float32",n={x:e},r={dtype:t};return cn.runKernelFunc((n=>n.cast(e,t)),n,null,ue,r)}})),[],{}),t}runKernel(e,t,n,r,a){return this.runKernelFunc(null,t,null,e,n,r,a)}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach((e=>{a+="complex64"===e.dtype?3:1}));const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-a-s;if(i>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${i} data ids) after running '${e}'`)}runKernelFunc(e,t,n,r,a,s,i){let o,l=[];const u=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");const c=this.state.numBytes,h=this.state.numTensors;let d;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const p=It(r,this.backendName);let m,f;if(null!=p)d=()=>{const e=this.backend.numDataIds();m=p.kernelFunc({inputs:t,attrs:a,backend:this.backend});const n=Array.isArray(m)?m:[m];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(r,e,n);const o=n.map((e=>{if(null!=e.rank)return e;const{dataId:t,shape:n,dtype:r}=e;return this.makeTensorFromDataId(t,n,r)}));if(u){let e=this.getTensorsForGradient(r,t,o);if(null==e){null==i&&(i=[]);const t=o.filter(((e,t)=>i[t]));e=(s||[]).slice().concat(t)}l=this.saveTensorsForBackwardMode(e)}return o};else{if(null==e)throw new Error(`Error running ${r}: Neither modular kernel nor forward func passed`);const t=e=>{u&&(l=e.map((e=>this.keep(this.clone(e)))))};d=()=>{const n=this.backend.numDataIds();m=this.tidy((()=>e(this.backend,t)));const a=Array.isArray(m)?m:[m];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(r,n,a),a}}return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(f=this.profiler.profileKernel(r,t,(()=>d())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(f),o=f.outputs):o=d()})),u&&this.addTapeNode(r,t,o,n,l,a),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-c,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-h,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((e=>null!=t[e]?t[e].shape:null)),outputShapes:o.map((e=>e.shape)),kernelTimeMs:f.timeMs,extraInfo:f.extraInfo}),Array.isArray(m)?o:o[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=Tt(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let s;r.saveAllInputs?(A(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),s=Object.keys(t).map((e=>t[e]))):s=e.map((e=>t[e]));const i=n.filter(((e,t)=>a[t]));return s.concat(i)}return null}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&_(e[0])&&(a=e.map((e=>Ut(e))));const s=r.write(a,t,n),i=new Kt(t,n,s,this.nextTensorId());if(this.incRef(i,r),"string"===n){const e=this.state.tensorInfo.get(s),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return i}makeTensorFromDataId(e,t,n,r){const a=new Kt(t,n=n||"float32",e,this.nextTensorId());return this.incRef(a,r),a}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new Zt(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}incRef(e,t){const n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*function(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n,refCount:0}),this.state.numBytes+=n}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof Zt||this.track(e)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;const t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):(t.backend.decComplexRef(e.dataId),this.state.tensorInfo.get(e.dataId).refCount--)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,s){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},o=Tt(e);null!=o&&(r=o.gradFunc),null!=r&&(i.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=P(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],a,s))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=an(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n,r=!1){if(A(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const a=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));A(a instanceof Kt,(()=>"The result y returned by f() must be a tensor."));const s=function(e,t,n){const r={},a={};for(let e=0;e<t.length;e++)r[t[e].id]=!0;for(let n=0;n<e.length;n++){const s=e[n],i=s.inputs;for(const e in i){const n=i[e];let o=!1;for(let e=0;e<t.length;e++)if(r[n.id]){s.outputs.forEach((e=>r[e.id]=!0)),o=!0,a[s.id]=!0;break}if(o)break}}const s={};s[n.id]=!0;const i={};for(let t=e.length-1;t>=0;t--){const n=e[t],r=n.inputs;for(let e=0;e<n.outputs.length;e++)if(s[n.outputs[e].id]){for(const e in r)s[r[e].id]=!0,i[n.id]=!0;break}}const o=[];for(let t=0;t<e.length;t++){const n=e[t];if(a[n.id]&&i[n.id]){const e={};for(const t in n.inputs){const a=n.inputs[t];r[a.id]&&(e[t]=a)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,o.push(t)}}return o}(this.state.activeTape,t,a);if(!r&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[a.id]=null==n?function(e){const t=F(S(e),"float32");return cn.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const s=t[a],i=[];if(s.outputs.forEach((t=>{const n=e[t.id];null!=n?i.push(n):i.push(null)})),null==s.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);const o=s.gradient(i);for(const t in s.inputs){if(!(t in o))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(o)}.`);const a=n((()=>o[t]()));if("float32"!==a.dtype)throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${a.dtype}'`);const i=s.inputs[t];if(!E(a.shape,i.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${t}' has shape '${a.shape}', which does not match the shape of the input '${i.shape}'`);if(null==e[i.id])e[i.id]=a;else{const t=e[i.id];e[i.id]=r(t,a),t.dispose()}}}}(e,s,(e=>this.tidy(e)),hn);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:a,grads:r}}))}customGrad(e){return A(B(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;A(t.every((e=>e instanceof Kt)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};return t.forEach(((e,t)=>{r[t]=e})),this.runKernelFunc(((r,a)=>(n=e(...t,a),A(n.value instanceof Kt,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),A(B(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value)),r,((e,r)=>{const a=n.gradFunc(e,r),s=Array.isArray(a)?a:[a];A(s.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),A(s.every((e=>e instanceof Kt)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const i={};return s.forEach(((e,t)=>{i[t]=()=>e})),i}))}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}async time(e){const t=Wt(),n=await this.backend.time(e);return n.wallMs=Wt()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new on;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function un(){const e=$();if(null==e._tfengine){const t=new U(e);e._tfengine=new ln(t)}var t;return t=e._tfengine.ENV,q=t,qt=()=>e._tfengine,e._tfengine}ln.nextTensorId=0,ln.nextVariableId=0;const cn=un();function hn(e,t){const n={a:e,b:t};return cn.runKernel(X,n)}const dn=j();function pn(e,t){let n=e;if(D(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||D(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&j().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&mn(e,r,[]),r}function mn(e,t,n){if(n=n||[],!Array.isArray(e)&&!D(e))return void A(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));A(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),A(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let t=0;t<e.length;++t)mn(e[t],r,n.concat(t))}function fn(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function gn(e,t,n,r="numeric"){if(e instanceof Kt)return fn(r,e.dtype,t,n),e;let a=O(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),fn(r,a,t,n),null==e||!D(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const s=pn(e,a);D(e)||Array.isArray(e)||(e=[e]);const i="string"!==a?Vt(e,a):C(e,[],!0);return cn.makeTensor(i,s,a)}function yn(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,a)=>gn(e,`${t}[${a}]`,n,r)))}dn.registerFlag("DEBUG",(()=>!1),(e=>{})),dn.registerFlag("IS_BROWSER",(()=>"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope)),dn.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),dn.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),dn.registerFlag("PROD",(()=>!1)),dn.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>dn.getBool("DEBUG"))),dn.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),dn.registerFlag("IS_TEST",(()=>!1)),dn.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0));function bn(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+="__op";const a=(...e)=>{cn.startScope(n);try{const t=r(...e);return V(t),cn.endScope(t),t}catch(e){throw cn.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}const wn=bn({complex_:function(e,t){const n=gn(e,"real","complex"),r=gn(t,"imag","complex");x(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return cn.runKernel("Complex",a)}});function vn(e,t,n,r){if(null==r&&(r=O(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!D(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){L(t);const e=S(t),r=S(n);A(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let e=0;e<n.length;++e){const r=n[e],a=e!==n.length-1||r!==S(t.slice(e));A(n[e]===t[e]||!a,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return D(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Vt(e,r):C(e,[],!0),cn.makeTensor(e,t,r)}function An(e,t,n){return vn(e,t,pn(e,n),n)}const xn={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function kn(e,t){const n={};let r,a=0;for(const s of t){const t=s.name,i=s.dtype,o=s.shape,l=S(o);let u;if("quantization"in s){const n=s.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${s.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${s.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==i)throw new Error(`Weight ${s.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${i}.`)}const o=xn[n.dtype],c=e.slice(a,a+l*o),h="uint8"===n.dtype?new Uint8Array(c):new Uint16Array(c);if("float32"===i)if("uint8"===n.dtype||"uint16"===n.dtype){u=new Float32Array(h.length);for(let e=0;e<h.length;e++){const t=h[e];u[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===r&&(r=Tn()),u=r(h)}else{if("int32"!==i)throw new Error(`Unsupported dtype in weight '${t}': ${i}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);u=new Int32Array(h.length);for(let e=0;e<h.length;e++){const t=h[e];u[e]=Math.round(t*n.scale+n.min)}}a+=l*o}else if("string"===i){const t=S(s.shape);u=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(a,a+4))[0];a+=4;const n=new Uint8Array(e.slice(a,a+t));u.push(n),a+=t}}else{const r=xn[i],s=e.slice(a,a+l*r);if("float32"===i)u=new Float32Array(s);else if("int32"===i)u=new Int32Array(s);else if("bool"===i)u=new Uint8Array(s);else{if("complex64"!==i)throw new Error(`Unsupported dtype in weight '${t}': ${i}`);{u=new Float32Array(s);const e=new Float32Array(u.length/2),r=new Float32Array(u.length/2);for(let t=0;t<e.length;t++)e[t]=u[2*t],r[t]=u[2*t+1];const a=An(e,o,"float32"),i=An(r,o,"float32");n[t]=wn(a,i),a.dispose(),i.dispose()}}a+=l*r}"complex64"!==i&&(n[t]=An(u,o,i))}return n}const Cn="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Sn(e){return Cn?Buffer.byteLength(e):new Blob([e]).size}function En(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function In(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Sn(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Sn(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function Tn(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0==(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const a=new ArrayBuffer(4*r.length),s=new Uint32Array(a);for(let a=0;a<r.length;a++){const i=r[a],o=e[n[i>>10]+(1023&i)]+t[i>>10];s[a]=o}return new Float32Array(a)}}class Nn{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Nn.instance&&(Nn.instance=new Nn),Nn.instance}static registerSaveRouter(e){Nn.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Nn.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Nn.getHandlers(e,"save")}static getLoadHandlers(e,t){return Nn.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?Nn.getInstance().loadRouters:Nn.getInstance().saveRouters).forEach((t=>{const a=t(e,n);null!==a&&r.push(a)})),r}}const Dn="tensorflowjs",_n="models_store",On="model_info_store";function Bn(){if(!j().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function zn(e){const t=e.result;t.createObjectStore(_n,{keyPath:"modelPath"}),t.createObjectStore(On,{keyPath:"modelPath"})}class Rn{constructor(e){if(this.indexedDB=Bn(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(Dn,1);r.onupgradeneeded=()=>zn(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(_n,"readonly"),r=t.objectStore(_n).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{const r=In(t),s=a.transaction(On,"readwrite");let i=s.objectStore(On);const o=i.put({modelPath:this.modelPath,modelArtifactsInfo:r});let l;o.onsuccess=()=>{l=a.transaction(_n,"readwrite");const o=l.objectStore(_n).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r});o.onsuccess=()=>e({modelArtifactsInfo:r}),o.onerror=e=>{i=s.objectStore(On);const t=i.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(o.error)),t.onerror=e=>(a.close(),n(o.error))}},o.onerror=e=>(a.close(),n(o.error)),s.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}Rn.URL_SCHEME="indexeddb://";const Mn=e=>{return j().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Rn.URL_SCHEME)?(t=e.slice(Rn.URL_SCHEME.length),new Rn(t)):null;var t};Nn.registerSaveRouter(Mn),Nn.registerLoadRouter(Mn);class Fn{constructor(){this.indexedDB=Bn()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(Dn,1);n.onupgradeneeded=()=>zn(n),n.onsuccess=()=>{const r=n.result,a=r.transaction(On,"readonly"),s=a.objectStore(On).getAll();s.onsuccess=()=>{const t={};for(const e of s.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},s.onerror=e=>(r.close(),t(s.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(Rn.URL_SCHEME)?t.slice(Rn.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(Dn,1);r.onupgradeneeded=()=>zn(r),r.onsuccess=()=>{const a=r.result,s=a.transaction(On,"readwrite"),i=s.objectStore(On),o=i.get(e);let l;o.onsuccess=()=>{if(null==o.result)return a.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=i.delete(e),s=()=>{l=a.transaction(_n,"readwrite");const r=l.objectStore(_n).delete(e);r.onsuccess=()=>t(o.result.modelArtifactsInfo),r.onerror=e=>n(o.error)};r.onsuccess=s,r.onerror=e=>(s(),a.close(),n(o.error))}},o.onerror=e=>(a.close(),n(o.error)),s.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)}))}}const Pn="/",Ln="tensorflowjs_models",Vn="info",Wn="model_topology",Un="weight_specs",jn="weight_data",Gn="model_metadata";function qn(e){return{info:[Ln,e,Vn].join(Pn),topology:[Ln,e,Wn].join(Pn),weightSpecs:[Ln,e,Un].join(Pn),weightData:[Ln,e,jn].join(Pn),modelMetadata:[Ln,e,Gn].join(Pn)}}function $n(e){const t=e.split(Pn);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(Pn)}class Hn{constructor(e){if(!j().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=qn(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=In(e);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(Cn)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,r=t.length;e<r;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(e.weightData));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};return null!=e.signature&&(a.signature=e.signature),null!=e.userDefinedMetadata&&(a.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(a.modelInitializer=e.modelInitializer),this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:r}}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer)}const s=this.LS.getItem(this.keys.weightData);if(null==s)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(Cn){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}(s),t}}Hn.URL_SCHEME="localstorage://";const Kn=e=>{return j().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Hn.URL_SCHEME)?(t=e.slice(Hn.URL_SCHEME.length),new Hn(t)):null;var t};Nn.registerSaveRouter(Kn),Nn.registerLoadRouter(Kn);class Zn{constructor(){A(j().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),A("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=Ln+Pn,n=Pn+Vn;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){e[$n(a)]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){var t;const n=qn(e=(t=e).startsWith(Hn.URL_SCHEME)?t.slice(Hn.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),r}}const Xn="://";class Yn{constructor(){this.managers={}}static getInstance(){return null==Yn.instance&&(Yn.instance=new Yn),Yn.instance}static registerManager(e,t){A(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(Xn)&&(e=e.slice(0,e.indexOf(Xn))),A(e.length>0,(()=>"scheme must not be an empty string."));const n=Yn.getInstance();A(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=this.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(this.getInstance().managers)}}class Qn{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}if(j().get("IS_BROWSER")){j().setPlatform("browser",new Qn);try{Yn.registerManager(Hn.URL_SCHEME,new Zn)}catch(e){}try{Yn.registerManager(Rn.URL_SCHEME,new Fn)}catch(e){}}const Jn=()=>n(3699);let er;class tr{constructor(){this.util=n(1633),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=j().global.fetch?j().global.fetch(e,t):(null==er&&(er=Jn()),er(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}function nr(e,t="float32",n){return t=t||"float32",L(e),new Gt(e,t,n)}j().get("IS_NODE")&&j().setPlatform("node",new tr);const rr=bn({cast_:function(e,t){const n=gn(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return cn.runKernel(ue,r,a)}});const ar=bn({clone_:function(e){const t={x:gn(e,"x","clone","string_or_numeric")};return cn.runKernel(Ne,t)}});un();$t={buffer:nr,cast:rr,clone:ar,print:function(e,t=!1){}};function sr(e){return new Promise((e=>setTimeout(e))).then(e)}class ir{constructor(e){if(!j().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(ir.URL_SCHEME)&&(e=e.slice(ir.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelTopologyFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n};null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer);const a=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),s=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor;if(s.download=this.modelTopologyFileName,s.href=a,await sr((()=>s.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await sr((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:In(e)}}}}ir.URL_SCHEME="downloads://";function or(e,t,n,r){!function(e){A(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){A(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),A(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),A(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let a=0;return Promise.all(e.map((s=>(s.then((s=>{const i=n+ ++a/e.length*(r-n);return t(i),s})),s))))}async function lr(e,t){null==t&&(t={});const n=null==t.fetchFunc?j().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),a=(null==t.onProgress?await Promise.all(r):await or(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(a):await or(a,t.onProgress,.5,1)}Nn.registerSaveRouter((e=>j().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ir.URL_SCHEME)?function(e="model"){return new ir(e)}(e.slice(ir.URL_SCHEME.length)):null));class ur{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(A("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=j().platform.fetch,A(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&A(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n};null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const a=await this.fetch(this.path,t);if(a.ok)return{modelArtifactsInfo:In(e),responses:[a]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${a.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest,a=t.generatedBy,s=t.convertedBy,i=t.format,o=t.signature,l=t.userDefinedMetadata;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);let u,c;if(null!=r){const e=await this.loadWeights(r);[u,c]=e}const h={modelTopology:n,weightSpecs:u,weightData:c,generatedBy:a,convertedBy:s,format:i};null!=o&&(h.signature=o),null!=l&&(h.userDefinedMetadata=l);const d=t.modelInitializer;return d&&(h.modelInitializer=d),h}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(t),a=this.weightPathPrefix||n,s=[];for(const t of e)s.push(...t.weights);const i=[],o=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?o.push(this.weightUrlConverter(e)):i.push(a+e+r);this.weightUrlConverter&&i.push(...await Promise.all(o));return[s,En(await lr(i,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}}function cr(e){return null!=e.match(ur.URL_SCHEME_REGEX)}ur.URL_SCHEME_REGEX=/^https?:\/\//;const hr=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>cr(e))):cr(e),n)return dr(e,t)}return null};function dr(e,t){return new ur(e,t)}function pr(e,t){return dr(e,t)}Nn.registerSaveRouter(hr),Nn.registerLoadRouter(hr);let mr;const fr=bn({fromPixels_:function(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,s=!1,i=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)s=!0;else if(null!=e.getContext)i=!0;else{if(!("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);o=!0}if(a){const t=2;if(a&&e.readyState<t)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=It(At,cn.backendName)){const n={pixels:e},r={numChannels:t};return cn.runKernel(At,n,r)}const[l,u]=a?[e.videoWidth,e.videoHeight]:[e.width,e.height];let c,h;if(i?c=e.getContext("2d").getImageData(0,0,l,u).data:r||n?c=e.data:(s||a||o)&&(null==mr&&(mr=document.createElement("canvas").getContext("2d")),mr.canvas.width=l,mr.canvas.height=u,mr.drawImage(e,0,0,l,u),c=mr.getImageData(0,0,l,u).data),4===t)h=new Int32Array(c);else{const e=l*u;h=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)h[n*t+e]=c[4*n+e]}return function(e,t,n){if(k(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=pn(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return vn(e,t,r,n)}(h,[u,l,t],"int32")}});const gr=bn({add_:function(e,t){let n=gn(e,"a","add"),r=gn(t,"b","add");[n,r]=rn(n,r);const a={a:n,b:r};return cn.runKernel(X,a)}});const yr=bn({concat_:function(e,t=0){A(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=yn(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return ar(n[0]);const r=n,a={axis:t};return cn.runKernel(pe,r,a)}});const br=bn({concat2d_:function(e,t){return yr(e,t)}});const wr=bn({floorDiv_:function(e,t){let n=gn(e,"a","floorDiv"),r=gn(t,"b","floorDiv");[n,r]=rn(n,r);const a={a:n,b:r};return cn.runKernel(Se,a)}});const vr=bn({div_:function(e,t){let n=gn(e,"a","div"),r=gn(t,"b","div");if([n,r]=rn(n,r),"int32"===n.dtype&&"int32"===r.dtype)return wr(n,r);const a={a:n,b:r};return cn.runKernel(Ae,a,{})}});const Ar=bn({mul_:function(e,t){let n=gn(e,"a","mul"),r=gn(t,"b","mul");[n,r]=rn(n,r);const a={a:n,b:r};return cn.runKernel(We,a)}});const xr=bn({reshape_:function(e,t){const n={x:gn(e,"x","reshape","string_or_numeric")},r={shape:t};return cn.runKernel(Ze,n,r)}});function kr(e,t){if((D(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&D(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return vn(e,[],[],t)}const Cr=bn({sigmoid_:function(e){const t={x:gn(e,"x","sigmoid")};return cn.runKernel(ot,t)}});const Sr=bn({slice_:function(e,t,n){const r=gn(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const a={x:r},s={begin:t,size:n};return cn.runKernel(at,a,s)}});const Er=bn({stack_:function(e,t=0){const n=yn(e,"tensors","stack","string_or_numeric");A(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&A(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,a={axis:t};return cn.runKernel(Ge,r,a)}});const Ir=bn({sub_:function(e,t){let n=gn(e,"a","sub"),r=gn(t,"b","sub");[n,r]=rn(n,r);const a={a:n,b:r};return cn.runKernel("Sub",a)}});function Tr(e,t){k(e);const n=pn(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return vn(e,null,n,t)}function Nr(e,t,n){if(k(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=pn(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return vn(e,t,r,n)}const Dr=bn({unstack_:function(e,t=0){const n=gn(e,"x","unstack","string_or_numeric");A(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const r={value:n},a={axis:t};return cn.runKernel(yt,r,a)}});const _r=bn({imag_:function(e){const t={input:gn(e,"input","imag")};return cn.runKernel("Imag",t)}});const Or=bn({real_:function(e){const t={input:gn(e,"input","real")};return cn.runKernel("Real",t)}});const Br=bn({split_:function(e,t,n=0){const r={x:gn(e,"x","split")},a={numOrSizeSplits:t,axis:n};return cn.runKernel(ht,r,a)}});function zr(e,t="float32"){if("complex64"===t){const t=zr(e,"float32"),n=zr(e,"float32");return wn(t,n)}const n=P(S(e),t);return cn.makeTensor(n,e,t)}const Rr=bn({zerosLike_:function(e){const t={x:gn(e,"x","zerosLike")};return cn.runKernel(wt,t)}});const Mr=bn({fft_:function(e){A("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return cn.runKernel("FFT",t)}});const Fr=bn({rfft_:function(e,t){A("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(null!=t&&t<n){const r=e.shape.map((e=>0)),s=e.shape.map((e=>e));s[e.shape.length-1]=t,a=Sr(e,r,s),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,a=yr([e,zr(r)],e.shape.length-1),n=t}else a=e;const s=Rr(a),i=xr(wn(a,s),[r,n]),o=Mr(i),l=Math.floor(n/2)+1,u=Or(o),c=_r(o),h=Br(u,[l,n-l],u.shape.length-1),d=Br(c,[l,n-l],c.shape.length-1),p=a.shape.slice();return p[a.shape.length-1]=l,xr(wn(h[0],d[0]),p)}});const Pr=bn({ifft_:function(e){A("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return cn.runKernel("IFFT",t)}});const Lr=bn({reverse_:function(e,t){const n={x:gn(e,"x","reverse")},r={dims:t};return cn.runKernel(Je,n,r)}});const Vr=bn({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=xr(e,[n,t]);r=Pr(a)}else{const a=[n,2*(t-1)],s=xr(Or(e),[n,t]),i=xr(_r(e),[n,t]),o=Lr(Sr(s,[0,1],[n,t-2]),1),l=Ar(Lr(Sr(i,[0,1],[n,t-2]),1),kr(-1)),u=yr([s,o],1),c=yr([i,l],1),h=xr(wn(u,c),[a[0],a[1]]);r=Pr(h)}if(r=Or(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=xr(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});function Wr(e,t,n){const r=1-e%2,a=new Float32Array(e);for(let s=0;s<e;++s){const i=2*Math.PI*s/(e+r-1);a[s]=t-n*Math.cos(i)}return Tr(a,"float32")}bn({hammingWindow_:function(e){return Wr(e,.54,.46)}});const Ur=bn({hannWindow_:function(e){return Wr(e,.5,.5)}});function jr(e,t,n){const r={shape:e,value:t,dtype:n};return cn.runKernel("Fill",{},r)}const Gr=bn({frame_:function(e,t,n,r=!1,a=0){let s=0;const i=[];for(;s+t<=e.size;)i.push(Sr(e,s,t)),s+=n;if(r)for(;s<e.size;){const r=s+t-e.size,o=yr([Sr(e,s,t-r),jr([r],a)]);i.push(o),s+=n}return 0===i.length?Nr([],[0,t]):xr(yr(i),[i.length,t])}});bn({stft_:function(e,t,n,r,a=Ur){var s;null==r&&(s=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(s)/Math.log(2)))));const i=Gr(e,t,n),o=Ar(i,a(t)),l=[];for(let e=0;e<i.shape[0];e++)l.push(Fr(Sr(o,[e,0],[1,t]),r));return yr(l)}});const qr=bn({cropAndResize_:function(e,t,n,r,a="bilinear",s=0){const i=gn(e,"image","cropAndResize"),o=gn(t,"boxes","cropAndResize","float32"),l=gn(n,"boxInd","cropAndResize","int32"),u=o.shape[0];A(4===i.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`)),A(2===o.rank&&4===o.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${o.shape}.`)),A(1===l.rank&&l.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${o.shape}.`)),A(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),A(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),A("bilinear"===a||"nearest"===a,(()=>`method must be bilinear or nearest, but was ${a}`));const c={image:i,boxes:o,boxInd:l},h={method:a,extrapolationValue:s,cropSize:r};return cn.runKernel("CropAndResize",c,h)}});const $r=bn({flipLeftRight_:function(e){const t=gn(e,"image","flipLeftRight","float32");A(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return cn.runKernel("FlipLeftRight",n,{})}});const Hr=bn({rotateWithOffset_:function(e,t,n=0,r=.5){const a=gn(e,"image","rotateWithOffset","float32");A(4===a.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`));const s={image:a},i={radians:t,fillValue:n,center:r};return cn.runKernel("RotateWithOffset",s,i)}});function Kr(e,t,n,r,a,s){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==s&&(s=0);const i=e.shape[0];return n=Math.min(n,i),A(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),A(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),A(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),A(1===t.rank,(()=>"scores must be a 1D tensor")),A(t.shape[0]===i,(()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${t.shape[0]}`)),A(0<=s&&s<=1,(()=>`softNmsSigma must be in [0, 1], but was '${s}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:s}}const Zr=bn({nonMaxSuppression_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const s=gn(e,"boxes","nonMaxSuppression"),i=gn(t,"scores","nonMaxSuppression"),o=Kr(s,i,n,r,a),l={maxOutputSize:n=o.maxOutputSize,iouThreshold:r=o.iouThreshold,scoreThreshold:a=o.scoreThreshold};return cn.runKernel("NonMaxSuppressionV3",{boxes:s,scores:i},l)}});function Xr(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,s=0,i=!1;for(;r<a;){s=r+(a-r>>>1);const o=n(t,e[s]);o>0?r=s+1:(a=s,i=!o)}return i?r:-r-1}(e,t,n||Yr)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function Yr(e,t){return e>t?1:e<t?-1:0}function Qr(e,t,n,r,a,s,i=!1,o=!1,l=!1){const u=[];for(let e=0;e<t.length;e++)t[e]>a&&u.push({score:t[e],boxIndex:e,suppressBeginIndex:0});u.sort(ta);const c=s>0?-.5/s:0,h=[],d=[];for(;h.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:s,suppressBeginIndex:i}=t;if(n<a)break;let o=!1;for(let n=h.length-1;n>=i;--n){const i=Jr(e,s,h[n]);if(i>=r){o=!0;break}if(t.score=t.score*ea(r,c,i),t.score<=a)break}t.suppressBeginIndex=h.length,o||(t.score===n?(h.push(s),d.push(t.score)):t.score>a&&Xr(u,t,ta))}const p=h.length,m=n-p;o&&m>0&&(h.push(...new Array(m).fill(0)),d.push(...new Array(m).fill(0)));const f={selectedIndices:h};return i&&(f.selectedScores=d),l&&(f.validOutputs=p),f}function Jr(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),s=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),h=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),p=(o-s)*(l-i),m=(h-u)*(d-c);if(p<=0||m<=0)return 0;const f=Math.max(s,u),g=Math.max(i,c),y=Math.min(o,h),b=Math.min(l,d),w=Math.max(y-f,0)*Math.max(b-g,0);return w/(p+m-w)}function ea(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function ta(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const na=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const s=gn(e,"boxes","nonMaxSuppressionAsync"),i=gn(t,"scores","nonMaxSuppressionAsync"),o=Kr(s,i,n,r,a);n=o.maxOutputSize,r=o.iouThreshold,a=o.scoreThreshold;const l=await Promise.all([s.data(),i.data()]),u=l[0],c=l[1],{selectedIndices:h}=function(e,t,n,r,a){return Qr(e,t,n,r,a,0)}(u,c,n,r,a);return s!==e&&s.dispose(),i!==t&&i.dispose(),Tr(h,"int32")};const ra=bn({nonMaxSuppressionWithScore_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=0){const i=gn(e,"boxes","nonMaxSuppression"),o=gn(t,"scores","nonMaxSuppression"),l=Kr(i,o,n,r,a,s),u={boxes:i,scores:o},c={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:a=l.scoreThreshold,softNmsSigma:s=l.softNmsSigma},h=cn.runKernel("NonMaxSuppressionV5",u,c);return{selectedIndices:h[0],selectedScores:h[1]}}});const aa=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=0){const i=gn(e,"boxes","nonMaxSuppressionAsync"),o=gn(t,"scores","nonMaxSuppressionAsync"),l=Kr(i,o,n,r,a,s);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,s=l.softNmsSigma;const u=await Promise.all([i.data(),o.data()]),c=u[0],h=u[1],{selectedIndices:d,selectedScores:p}=function(e,t,n,r,a,s){return Qr(e,t,n,r,a,s,!0)}(c,h,n,r,a,s);return i!==e&&i.dispose(),o!==t&&o.dispose(),{selectedIndices:Tr(d,"int32"),selectedScores:Tr(p)}};const sa=bn({nonMaxSuppressionPadded_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=!1){const i=gn(e,"boxes","nonMaxSuppression"),o=gn(t,"scores","nonMaxSuppression"),l=Kr(i,o,n,r,a,null),u={boxes:i,scores:o},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:s},h=cn.runKernel("NonMaxSuppressionV4",u,c);return{selectedIndices:h[0],validOutputs:h[1]}}});const ia=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=!1){const i=gn(e,"boxes","nonMaxSuppressionAsync"),o=gn(t,"scores","nonMaxSuppressionAsync"),l=Kr(i,o,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,h=l.scoreThreshold,[d,p]=await Promise.all([i.data(),o.data()]),{selectedIndices:m,validOutputs:f}=function(e,t,n,r,a,s){return Qr(e,t,n,r,a,0,!1,s,!0)}(d,p,u,c,h,s);return i!==e&&i.dispose(),o!==t&&o.dispose(),{selectedIndices:Tr(m,"int32"),validOutputs:kr(f,"int32")}};const oa=bn({resizeBilinear_:function(e,t,n=!1,r=!1){const a=gn(e,"images","resizeBilinear");A(3===a.rank||4===a.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`)),A(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),A(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let s=a,i=!1;3===a.rank&&(i=!0,s=xr(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,o={images:s},l={alignCorners:n,halfPixelCenters:r,size:t},u=cn.runKernel(Ye,o,l);return i?xr(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const la=bn({resizeNearestNeighbor_:function(e,t,n=!1,r=!1){const a=gn(e,"images","resizeNearestNeighbor");A(3===a.rank||4===a.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`)),A(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),A("float32"===a.dtype||"int32"===a.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),A(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let s=a,i=!1;3===a.rank&&(i=!0,s=xr(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,o={images:s},l={alignCorners:n,halfPixelCenters:r,size:t},u=cn.runKernel(Xe,o,l);return i?xr(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});function ua(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],s=t.length-r-1,i=t[s];(null==a||1===a&&i>1)&&n.unshift(s)}return n}function ca(e,t){const n=[],r=Math.max(e.length,t.length);for(let a=0;a<r;a++){let r=e[e.length-a-1];null==r&&(r=1);let s=t[t.length-a-1];if(null==s&&(s=1),1===r)n.unshift(s);else if(1===s)n.unshift(r);else{if(r!==s){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}n.unshift(r)}}return n}const ha=bn({greaterEqual_:function(e,t){let n=gn(e,"a","greaterEqual"),r=gn(t,"b","greaterEqual");[n,r]=rn(n,r),ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel(Te,a)}});const da=bn({lessEqual_:function(e,t){let n=gn(e,"a","lessEqual"),r=gn(t,"b","lessEqual");[n,r]=rn(n,r),ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel("LessEqual",a)}});const pa=bn({logicalAnd_:function(e,t){const n=gn(e,"a","logicalAnd","bool"),r=gn(t,"b","logicalAnd","bool");ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel("LogicalAnd",a)}});function ma(e,t,n=1,r="float32"){if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return cn.runKernel("Range",{},a)}const fa=bn({broadcastTo_:function(e,t){let n=gn(e,"broadcastTo","x");const r=n.shape;if(t.some((e=>!(e>0)||e%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=xr(n,e)}const a=n.shape,s=Array.from(t);for(let e=t.length-1;e>=0;e--)if(a[e]===t[e])s[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===s.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return ar(n);const i={x:n},o={reps:s};return cn.runKernel(ft,i,o)}});const ga=bn({where_:function(e,t,n){const r=gn(t,"a","where"),a=gn(n,"b","where"),s=gn(e,"condition","where","bool"),i=ca(r.shape,a.shape),o=fa(r,i),l=fa(a,i);1===s.rank&&A(s.shape[0]===r.shape[0],(()=>"The first dimension of `a` must match the size of `condition`.")),1!==s.rank&&x(s.shape,l.shape,"Error in where: ");const u={condition:s,t:o,e:l};return cn.runKernel(nt,u)}});bn({bandPart_:function(e,t,n){A(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),A(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const r=gn(e,"a","bandPart");A(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const a=r.shape,[s,i]=r.shape.slice(-2);if(!(t<=s))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${s}).`);if(!(n<=i))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`);t<0&&(t=s),n<0&&(n=i);const o=xr(ma(0,s,1,"int32"),[-1,1]),l=ma(0,i,1,"int32"),u=Ir(o,l),c=pa(da(u,kr(+t,"int32")),ha(u,kr(-n,"int32"))),h=zr([s,i],r.dtype);return xr(Er(Dr(xr(r,[-1,s,i])).map((e=>ga(c,e,h)))),a)}});const ya=bn({abs_:function(e){const t=gn(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return cn.runKernel(de,e)}{const e={x:t};return cn.runKernel("Abs",e)}}});function ba(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function wa(e,t){return function(e,t,n){const r=e.length+t.length,a=[];let s=0,i=0;for(let o=0;o<r;o++)-1===n.indexOf(o)?a.push(e[s++]):a.push(t[i++]);return a}(e,t.map((e=>1)),t)}function va(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}const Aa=bn({max_:function(e,t=null,n=!1){const r={x:gn(e,"x","max")},a={reductionIndices:t,keepDims:n};return cn.runKernel("Max",r,a)}});const xa=bn({min_:function(e,t=null,n=!1){const r={x:gn(e,"x","min")},a={axis:t,keepDims:n};return cn.runKernel("Min",r,a)}});const ka=bn({pow_:function(e,t){let n=gn(e,"base","pow"),r=gn(t,"exp","pow");[n,r]=rn(n,r);const a={a:n,b:r};return cn.runKernel("Pow",a)}});const Ca=bn({sqrt_:function(e){const t={x:gn(e,"x","sqrt")};return cn.runKernel(ut,t)}});const Sa=bn({square_:function(e){const t=gn(e,"x","square");return cn.runKernel("Square",{x:t},{})}});const Ea=bn({sum_:function(e,t=null,n=!1){let r=gn(e,"x","sum");"bool"===r.dtype&&(r=rr(r,"int32"));const a={x:r},s={axis:t,keepDims:n};return cn.runKernel("Sum",a,s)}});function Ia(e,t,n=null){if(0===e.rank)return ya(e);if(1!==e.rank&&null===n)return Ia(xr(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Ea(ya(e),n);if(t===1/0)return Aa(ya(e),n);if(t===-1/0)return xa(ya(e),n);if("euclidean"===t||2===t)return Ca(Ea(ka(ya(e),kr(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return Aa(Ea(ya(e),n[0]),n[1]-1);if(t===1/0)return Aa(Ea(ya(e),n[1]),n[0]);if(t===-1/0)return xa(Ea(ya(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Ca(Ea(Sa(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Ta=bn({norm_:function(e,t="euclidean",n=null,r=!1){const a=Ia(e=gn(e,"x","norm"),t,n);let s=a.shape;if(r){const t=N(n,e.shape);s=wa(a.shape,t)}return xr(a,s)}});const Na=bn({squeeze_:function(e,t){const n=gn(e,"x","squeeze");return xr(n,function(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,s=null==t||a?null:N(t,e).sort();let i=0;for(let t=0;t<e.length;++t){if(null!=s){if(s[i]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==s[i]||s[i]>t)&&1===e[t]&&(n.push(e[t]),r.push(t)),s[i]<=t&&i++}1!==e[t]&&(n.push(e[t]),r.push(t))}return{newShape:n,keptDims:r}}(n.shape,t).newShape)}});bn({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,A(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)A(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=Br(e,e.shape[0],0).map((e=>Na(e,[0])));A(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let t=0;t<e.length;++t)n.push(cn.tidy((()=>{let e=r[t];if(t>0)for(let r=0;r<t;++r){const t=Ar(Ea(Ar(n[r],e)),n[r]);e=Ir(e,t)}return vr(e,Ta(e,"euclidean"))})));return t?Er(n,0):n}});function Da(e){j().getBool("DEPRECATION_WARNINGS_ENABLED")}function _a(e,t){return cn.tidy(e,t)}function Oa(e){return cn.keep(e)}Ht=Da;const Ba=bn({expandDims_:function(e,t=0){const n=gn(e,"x","expandDims","string_or_numeric");A(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},a={dim:t};return cn.runKernel(xe,r,a)}});const za=bn({tile_:function(e,t){const n=gn(e,"x","tile","string_or_numeric");A(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const r={x:n},a={reps:t};return cn.runKernel(ft,r,a)}});const Ra=bn({eye_:function(e,t,n,r="float32"){null==t&&(t=e);const a=nr([e,t],r),s=e<=t?e:t;for(let e=0;e<s;++e)a.set(1,e,e);const i=xr(a.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return za(Ba(i,0),[n[0],1,1]);if(2===n.length)return za(Ba(Ba(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return za(Ba(Ba(Ba(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const Ma=bn({greater_:function(e,t){let n=gn(e,"a","greater"),r=gn(t,"b","greater");[n,r]=rn(n,r),ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel("Greater",a)}});const Fa=bn({matMul_:function(e,t,n=!1,r=!1){let a=gn(e,"a","matMul"),s=gn(t,"b","matMul");[a,s]=rn(a,s);const i={a,b:s},o={transposeA:n,transposeB:r};return cn.runKernel(oe,i,o)}});const Pa=bn({neg_:function(e){const t={x:gn(e,"x","neg")};return cn.runKernel("Neg",t)}});const La=bn({transpose_:function(e,t){const n=gn(e,"x","transpose");if(null==t&&(t=n.shape.map(((e,t)=>t)).reverse()),A(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${t}.`)),t.forEach((e=>{A(e>=0&&e<n.rank,(()=>"All entries in 'perm' must be between 0 and "+(n.rank-1)+` but got ${t}`))})),n.rank<=1)return n.clone();const r={x:n},a={perm:t};return cn.runKernel(gt,r,a)}});function Va(e,t=!1){return cn.tidy((()=>{A(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let a=Ra(n),s=ar(e);const i=Nr([[1]],[1,1]);let o=ar(i);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=s,l=o,u=a;[o,s,a]=cn.tidy((()=>{const t=Sr(s,[e,e],[n-e,1]),l=Ta(t),u=Sr(s,[e,e],[1,1]),c=ga(Ma(u,0),Nr([[-1]]),Nr([[1]])),h=Ir(u,Ar(c,l)),d=vr(t,h);o=1===d.shape[0]?ar(i):yr([i,Sr(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);const p=Pa(vr(Fa(c,h),l)),m=Sr(s,[e,0],[n-e,r]),f=Ar(p,o),g=La(o);if(0===e)s=Ir(m,Fa(f,Fa(g,m)));else{const t=Ir(m,Fa(f,Fa(g,m)));s=yr([Sr(s,[0,0],[e,r]),t],0)}const y=La(f),b=Sr(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=Ir(b,Fa(Fa(b,o),y));else{const t=Ir(b,Fa(Fa(b,o),y));a=yr([Sr(a,[0,0],[n,e]),t],1)}return[o,s,a]})),an([t,l,u]).forEach((e=>e.dispose()))}return!t&&n>r&&(a=Sr(a,[0,0],[n,r]),s=Sr(s,[0,0],[r,r])),[a,s]}))}bn({qr_:function(e,t=!1){if(A(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return Va(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=Dr(xr(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],s=[];r.forEach((e=>{const[n,r]=Va(e,t);a.push(n),s.push(r)}));return[xr(Er(a,0),e.shape),xr(Er(s,0),e.shape)]}}});var Wa;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Wa||(Wa={}));const Ua=bn({mean_:function(e,t=null,n=!1){const r={x:gn(e,"x","mean")},a={axis:t,keepDims:n};return cn.runKernel(Pe,r,a)}});const ja=bn({notEqual_:function(e,t){let n=gn(e,"a","notEqual"),r=gn(t,"b","notEqual");[n,r]=rn(n,r),ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel("NotEqual",a)}});function Ga(e,t="float32"){if("complex64"===t){const t=Ga(e,"float32"),n=zr(e,"float32");return wn(t,n)}const n=F(S(e),t);return cn.makeTensor(n,e,t)}const qa=bn({computeWeightedLoss_:function(e,t,n=Wa.SUM_BY_NONZERO_WEIGHTS){const r=gn(e,"losses","computeWeightedLoss");let a=null;null!=t&&(a=gn(t,"weights","computeWeightedLoss"));const s=null==a?r:Ar(r,a);if(n===Wa.NONE)return s;if(n===Wa.SUM)return Ea(s);if(n===Wa.MEAN){if(null==a)return Ua(s);{const e=r.size/a.size,t=vr(Ea(s),Ea(a));return e>1?vr(t,kr(e)):t}}if(n===Wa.SUM_BY_NONZERO_WEIGHTS){if(null==a)return vr(Ea(s),kr(r.size));{const e=Ar(a,Ga(r.shape)),t=rr(Ea(ja(e,kr(0))),"float32");return vr(Ea(s),t)}}throw Error(`Unknown reduction: ${n}`)}});bn({absoluteDifference_:function(e,t,n,r=Wa.SUM_BY_NONZERO_WEIGHTS){const a=gn(e,"labels","absoluteDifference"),s=gn(t,"predictions","absoluteDifference");let i=null;null!=n&&(i=gn(n,"weights","absoluteDifference")),x(a.shape,s.shape,"Error in absoluteDifference: ");const o=ya(Ir(a,s));return qa(o,i,r)}});bn({cosineDistance_:function(e,t,n,r,a=Wa.SUM_BY_NONZERO_WEIGHTS){const s=gn(e,"labels","cosineDistance"),i=gn(t,"predictions","cosineDistance");let o=null;null!=r&&(o=gn(r,"weights","cosineDistance")),x(s.shape,i.shape,"Error in cosineDistance: ");const l=kr(1),u=Ir(l,Ea(Ar(s,i),n,!0));return qa(u,o,a)}});const $a=bn({relu_:function(e){const t={x:gn(e,"x","relu")};return cn.runKernel(Ke,t)}});bn({hingeLoss_:function(e,t,n,r=Wa.SUM_BY_NONZERO_WEIGHTS){let a=gn(e,"labels","hingeLoss");const s=gn(t,"predictions","hingeLoss");let i=null;null!=n&&(i=gn(n,"weights","hingeLoss")),x(a.shape,s.shape,"Error in hingeLoss: ");const o=kr(1);a=Ir(Ar(kr(2),a),o);const l=$a(Ir(o,Ar(a,s)));return qa(l,i,r)}});const Ha=bn({minimum_:function(e,t){let n=gn(e,"a","minimum"),r=gn(t,"b","minimum");[n,r]=rn(n,r),"bool"===n.dtype&&(n=rr(n,"int32"),r=rr(r,"int32")),ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel(Le,a)}});bn({huberLoss_:function(e,t,n,r=1,a=Wa.SUM_BY_NONZERO_WEIGHTS){const s=gn(e,"labels","huberLoss"),i=gn(t,"predictions","huberLoss");let o=null;null!=n&&(o=gn(n,"weights","huberLoss")),x(s.shape,i.shape,"Error in huberLoss: ");const l=kr(r),u=ya(Ir(i,s)),c=Ha(u,l),h=Ir(u,c),d=gr(Ar(kr(.5),Sa(c)),Ar(l,h));return qa(d,o,a)}});const Ka=bn({log_:function(e){const t={x:gn(e,"x","log")};return cn.runKernel("Log",t)}});bn({logLoss_:function(e,t,n,r=1e-7,a=Wa.SUM_BY_NONZERO_WEIGHTS){const s=gn(e,"labels","logLoss"),i=gn(t,"predictions","logLoss");let o=null;null!=n&&(o=gn(n,"weights","logLoss")),x(s.shape,i.shape,"Error in logLoss: ");const l=kr(1),u=kr(r),c=Pa(Ar(s,Ka(gr(i,u)))),h=Ar(Ir(l,s),Ka(gr(Ir(l,i),u))),d=Ir(c,h);return qa(d,o,a)}});const Za=bn({squaredDifference_:function(e,t){let n=gn(e,"a","squaredDifference"),r=gn(t,"b","squaredDifference");[n,r]=rn(n,r),ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel(pt,a,{})}});bn({meanSquaredError_:function(e,t,n,r=Wa.SUM_BY_NONZERO_WEIGHTS){const a=gn(e,"labels","meanSquaredError"),s=gn(t,"predictions","meanSquaredError");let i=null;null!=n&&(i=gn(n,"weights","meanSquaredError")),x(a.shape,s.shape,"Error in meanSquaredError: ");const o=Za(a,s);return qa(o,i,r)}});const Xa=bn({exp_:function(e){const t={x:gn(e,"x","exp")};return cn.runKernel("Exp",t)}});const Ya=bn({log1p_:function(e){const t={x:gn(e,"x","log1p")};return cn.runKernel(ze,t)}});bn({sigmoidCrossEntropy_:function(e,t,n,r=0,a=Wa.SUM_BY_NONZERO_WEIGHTS){let s=gn(e,"multiClassLabels","sigmoidCrossEntropy");const i=gn(t,"logits","sigmoidCrossEntropy");let o=null;if(null!=n&&(o=gn(n,"weights","sigmoidCrossEntropy")),x(s.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=kr(r),t=kr(1),n=kr(.5);s=gr(Ar(s,Ir(t,e)),Ar(n,e))}const l=function(e,t){const n=gn(e,"labels","sigmoidCrossEntropyWithLogits"),r=gn(t,"logits","sigmoidCrossEntropyWithLogits");x(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=$a(r),s=Ar(r,n),i=Ya(Xa(Pa(ya(r))));return gr(Ir(a,s),i)}(s,i);return qa(l,o,a)}});function Qa(e){return cn.customGrad(e)}const Ja=bn({logSumExp_:function(e,t=null,n=!1){const r=gn(e,"x","logSumExp"),a=N(t,r.shape),s=Aa(r,a,!0),i=Ir(r,s),o=Xa(i),l=Ea(o,a),u=Ka(l),c=gr(xr(s,u.shape),u);if(n){const e=wa(c.shape,a);return xr(c,e)}return c}});bn({softmaxCrossEntropy_:function(e,t,n,r=0,a=Wa.SUM_BY_NONZERO_WEIGHTS){let s=gn(e,"onehotLabels","softmaxCrossEntropy");const i=gn(t,"logits","softmaxCrossEntropy");let o=null;if(null!=n&&(o=gn(n,"weights","softmaxCrossEntropy")),x(s.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){const e=kr(r),t=kr(1),n=kr(s.shape[1]);s=gr(Ar(s,Ir(t,e)),vr(e,n))}const l=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const r=Qa(((e,t,r)=>{const a=Ja(t,[n],!0),s=Ir(rr(t,"float32"),a);r([e,s]);const i=Pa(Ar(s,e));return{value:Ea(i,[n]),gradFunc:(e,t)=>{const[r,a]=t,s=wa(e.shape,[n]);return[Ar(xr(e,s),Ir(rr(r,"float32"),Xa(a))),Ar(xr(e,s),Ir(Xa(a),rr(r,"float32")))]}}}));return r(e,t)}(s,i);return qa(l,o,a)}});const es={flipLeftRight:$r,resizeNearestNeighbor:la,resizeBilinear:oa,rotateWithOffset:Hr,cropAndResize:qr,nonMaxSuppression:Zr,nonMaxSuppressionAsync:na,nonMaxSuppressionWithScore:ra,nonMaxSuppressionWithScoreAsync:aa,nonMaxSuppressionPadded:sa,nonMaxSuppressionPaddedAsync:ia};const ts=bn({step_:function(e,t=0){const n={x:gn(e,"x","step")},r={alpha:t};return cn.runKernel(vt,n,r)}}),ns={kernelName:"Abs",inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(e,ts(rr(n,"float32"),-1))}}},rs={kernelName:K,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Sa(rr(n,"float32")),r=Ca(Ir(kr(1),t));return Pa(vr(e,r))}}}},as={kernelName:Z,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Ca(Ir(Sa(rr(n,"float32")),1));return vr(e,t)}}}},ss={kernelName:X,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ca(n.shape,r.shape);return{a:()=>{let t=e;const r=ua(n.shape,a);return r.length>0&&(t=Ea(t,r)),xr(t,n.shape)},b:()=>{let t=e;const n=ua(r.shape,a);return n.length>0&&(t=Ea(t,n)),xr(t,r.shape)}}}},is={kernelName:Y,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}},os={kernelName:Q,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Rr(n)}}},ls={kernelName:J,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Rr(n)}}},us={kernelName:ee,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>vr(e,Ca(Ir(kr(1),Sa(rr(n,"float32")))))}}},cs={kernelName:te,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Ca(gr(kr(1),Sa(rr(n,"float32"))));return vr(e,t)}}}},hs={kernelName:ae,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ca(n.shape,r.shape);return{a:()=>{const t=gr(Sa(n),Sa(r));let s=Ar(e,vr(r,t));const i=ua(n.shape,a);return i.length>0&&(s=Ea(s,i)),xr(s,n.shape)},b:()=>{const t=gr(Sa(n),Sa(r));let s=Pa(Ar(e,vr(n,t)));const i=ua(r.shape,a);return i.length>0&&(s=Ea(s,i)),xr(s,r.shape)}}}},ds={kernelName:ne,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>vr(e,gr(Sa(rr(n,"float32")),1))}}},ps={kernelName:re,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>vr(e,Ir(kr(1),Sa(rr(n,"float32"))))}}};function ms(e,t,n,r,a,s,i=!1,o="channelsLast"){let[l,u,c,h]=[-1,-1,-1,-1];if("channelsLast"===o)[l,u,c,h]=e;else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);[l,h,u,c]=e}const[d,p,,m]=t,[f,g]=gs(n),[y,b]=gs(r),w=ys(d,y),v=ys(p,b),{padInfo:A,outHeight:x,outWidth:k}=function(e,t,n,r,a,s,i,o,l){let u,c,h;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=fs(e,t,n));const s=e[0],i=e[1],o=bs((s-t+2*r)/n+1,a),l=bs((i-t+2*r)/n+1,a);return[o,l]}([t,n],s,r,e,o);c=a[0],h=a[1]}else if("same"===e){c=Math.ceil(t/r),h=Math.ceil(n/a);const e=Math.max(0,(c-1)*r+s-t),o=Math.max(0,(h-1)*a+i-n),l=Math.floor(e/2),d=e-l,p=Math.floor(o/2);u={top:l,bottom:d,left:p,right:o-p,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-s+1)/r),h=Math.ceil((n-i+1)/a);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const d="channelsLast"===l?e[1][0]:e[2][0],p="channelsLast"===l?e[1][1]:e[2][1],m="channelsLast"===l?e[2][0]:e[3][0],f="channelsLast"===l?e[2][1]:e[3][1];u={top:d,bottom:p,left:m,right:f,type:0===d&&0===p&&0===m&&0===f?"VALID":"EXPLICIT"},c=bs((t-s+d+p)/r+1,o),h=bs((n-i+m+f)/a+1,o)}}return{padInfo:u,outHeight:c,outWidth:h}}(a,u,c,f,g,w,v,s,o),C=i?m*h:m;let S;return"channelsFirst"===o?S=[l,C,x,k]:"channelsLast"===o&&(S=[l,x,k,C]),{batchSize:l,dataFormat:o,inHeight:u,inWidth:c,inChannels:h,outHeight:x,outWidth:k,outChannels:C,padInfo:A,strideHeight:f,strideWidth:g,filterHeight:d,filterWidth:p,effectiveFilterHeight:w,effectiveFilterWidth:v,dilationHeight:y,dilationWidth:b,inShape:e,outShape:S,filterShape:t}}function fs(e,t,n,r=1){const a=ys(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function gs(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function ys(e,t){return t<=1?e:e+(e-1)*(t-1)}function bs(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function ws(e){const[t,n,r]=gs(e);return 1===t&&1===n&&1===r}function vs(e,t){return ws(e)||ws(t)}const As=bn({avgPool3dGrad_:function(e,t,n,r,a=[1,1,1],s,i){const o=gn(e,"dy","avgPool3dGrad"),l=gn(t,"input","avgPool3dGrad");let u=o,c=l,h=!1;4===l.rank&&(h=!0,u=xr(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),c=xr(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),A(5===u.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`)),A(5===c.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${c.rank}.`)),A(vs(r,a),(()=>`Error in avgPool3dGrad: Either strides or dilations must be 1. Got strides ${r} and dilations '${a}'`)),null!=i&&A(I(s),(()=>`Error in avgPool3dGrad: pad must be an integer when using, dimRoundingMode ${i} but got pad ${s}.`));const d={dy:u,input:c},p={filterSize:n,strides:r,dilations:a,pad:s,dimRoundingMode:i},m=cn.runKernel("AvgPool3DGrad",d,p);return h?xr(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}}),xs={kernelName:ie,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:s,dilations:i,pad:o,dimRoundingMode:l}=n,u=null==i?[1,1,1]:i;return{x:()=>As(e,r,a,s,u,o,l)}}};const ks=bn({avgPoolGrad_:function(e,t,n,r,a){const s=gn(e,"dy","avgPoolGrad"),i=gn(t,"input","avgPoolGrad");A(i.rank===s.rank,(()=>`Rank of input (${i.rank}) does not match rank of dy (${s.rank})`));let o=i,l=s,u=!1;3===i.rank&&(u=!0,o=xr(i,[1,i.shape[0],i.shape[1],i.shape[2]]),l=xr(s,[1,s.shape[0],s.shape[1],s.shape[2]])),A(4===l.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`)),A(4===o.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`));const c={dy:l,input:o},h={filterSize:n,strides:r,pad:a},d=cn.runKernel("AvgPoolGrad",c,h);return u?xr(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),Cs={kernelName:se,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:s,pad:i}=n;return{x:()=>ks(e,r,a,s,i)}}},Ss={kernelName:oe,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,a]=t,{transposeA:s,transposeB:i}=n;return s||i?!s&&i?{a:()=>Fa(e,a,!1,!1),b:()=>Fa(e,r,!0,!1)}:s&&!i?{a:()=>Fa(a,e,!1,!0),b:()=>Fa(r,e,!1,!1)}:{a:()=>Fa(a,e,!0,!0),b:()=>Fa(e,r,!0,!0)}:{a:()=>Fa(e,a,!1,!0),b:()=>Fa(r,e,!0,!1)}}};const Es=bn({spaceToBatchND_:function(e,t,n){const r=gn(e,"x","spaceToBatchND");A(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),A(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),A(r.shape.reduce(((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]==0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const a={x:r},s={blockShape:t,paddings:n};return cn.runKernel(ct,a,s)}}),Is={kernelName:le,gradFunc:(e,t,n)=>{const{blockShape:r,crops:a}=n;return{x:()=>Es(e,r,a)}}},Ts={kernelName:"BroadcastTo",gradFunc:(e,t,n)=>{const r=n,a=r.inputShape,s=r.shape,i=Array.from(s);for(let e=a.length-1;e>=0;e--)if(a[e]===s[e])i[e]=1;else if(1!==a[e])throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${s}].`);const o=[];for(let e=0;e<i.length;e++)i[e]>1&&o.push(e);return{x:()=>Ea(e,o,!0)}}},Ns={kernelName:ue,gradFunc:e=>({x:()=>e.clone()})},Ds={kernelName:ce,gradFunc:e=>({x:()=>Rr(e)})},_s={kernelName:he,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:a,clipValueMax:s}=n;return{x:()=>ga(pa(ha(r,a),da(r,s)),e,Rr(e))}}},Os={kernelName:de,inputsToSave:["x"],gradFunc:ns.gradFunc},Bs={kernelName:pe,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:a}=n,s=N(a,t[0].shape)[0],i=r.map((e=>e[s]));return Br(e,i,s).map((e=>()=>e))}};const zs=bn({conv2DBackpropFilter_:function(e,t,n,r,a,s="NHWC",i){let o=e;3===e.rank&&(o=xr(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=xr(t,[1,t.shape[0],t.shape[1],t.shape[2]])),A(4===o.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`)),A(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),A(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const u="NHWC"===s?o.shape[3]:o.shape[1],c="NHWC"===s?l.shape[3]:l.shape[1];A(u===n[2],(()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`)),A(c===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`)),null!=i&&A(I(a),(()=>`Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode ${i} but got pad ${a}.`));const h={x:o,dy:l},d={strides:r,pad:a,dataFormat:s,dimRoundingMode:i,filterShape:n};return cn.runKernel("Conv2DBackpropFilter",h,d)}});const Rs=bn({conv2DBackpropInput_:function(e,t,n,r,a,s="NHWC",i){A(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let o=e,l=t,u=!1;3===t.rank&&(u=!0,l=xr(t,[1,t.shape[0],t.shape[1],t.shape[2]]),o=[1,e[0],e[1],e[2]]),A(4===o.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`)),A(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),A(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const c="NHWC"===s?o[3]:o[1],h="NHWC"===s?l.shape[3]:l.shape[1];A(c===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`)),A(h===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${h}) must match output depth for filter ${n.shape[3]}.`)),null!=i&&A(I(a),(()=>`Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode ${i} but got pad ${a}.`));const d={dy:l,filter:n},p={strides:r,pad:a,dataFormat:s,dimRoundingMode:i,inputShape:o},m=cn.runKernel(fe,d,p);return u?xr(m,[m.shape[1],m.shape[2],m.shape[3]]):m}}),Ms={kernelName:me,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{dilations:s,strides:i,pad:o,dataFormat:l}=n;return A(ws(s),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`)),{x:()=>Rs(r.shape,e,a,i,o,l),filter:()=>zs(r,e,a.shape,i,o,l)}}};const Fs=bn({conv2d_:function(e,t,n,r,a="NHWC",s=[1,1],i){const o=gn(e,"x","conv2d"),l=gn(t,"filter","conv2d");let u=o,c=!1;3===o.rank&&(c=!0,u=xr(o,[1,o.shape[0],o.shape[1],o.shape[2]])),A(4===u.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`)),A(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),null!=i&&A(I(r),(()=>`Error in conv2d: pad must be an integer when using, dimRoundingMode ${i} but got pad ${r}.`));const h="NHWC"===a?u.shape[3]:u.shape[1];A(h===l.shape[2],(()=>`Error in conv2d: depth of input (${h}) must match input depth for filter ${l.shape[2]}.`)),A(vs(n,s),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`));const d={x:u,filter:l},p={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:i},m=cn.runKernel(me,d,p);return c?xr(m,[m.shape[1],m.shape[2],m.shape[3]]):m}}),Ps={kernelName:fe,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{strides:s,pad:i,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>Fs(e,a,s,i,o,1,l),filter:()=>zs(e,r,a.shape,s,i,o,l)}}};const Ls=bn({conv3DBackpropFilter_:function(e,t,n,r,a){let s=e;4===e.rank&&(s=xr(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let i=t;4===i.rank&&(i=xr(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),A(5===s.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${s.shape}.`)),A(5===i.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${i.shape}.`)),A(5===n.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`)),A(s.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${s.shape[4]}) must match input depth in filter (${n[3]}.`)),A(i.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${i.shape[4]}) must match output depth for filter (${n[4]}).`));const o={x:s,dy:i},l={strides:r,pad:a,filterShape:n};return cn.runKernel("Conv3DBackpropFilterV2",o,l)}});const Vs=bn({conv3DBackpropInput_:function(e,t,n,r,a){A(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let s=e,i=t,o=!1;4===t.rank&&(o=!0,i=xr(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),s=[1,e[0],e[1],e[2],e[3]]);const l=s[4],u=i.shape[4];A(5===s.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${s.length}.`)),A(5===i.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`)),A(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),A(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),A(u===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`));const c={dy:i,filter:n},h={pad:a,strides:r,inputShape:s},d=cn.runKernel("Conv3DBackpropInputV2",c,h);return o?xr(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}}),Ws={kernelName:ge,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:s}=n;A(ws(r),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`));const[i,o]=t;return{x:()=>Vs(i.shape,e,o,a,s),filter:()=>Ls(i,e,o.shape,a,s)}}};const Us=bn({sin_:function(e){const t={x:gn(e,"x","sin")};return cn.runKernel("Sin",t)}}),js={kernelName:"Cos",inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(Pa(Us(rr(n,"float32"))),e)}}};const Gs=bn({sinh_:function(e){const t={x:gn(e,"x","sinh")};return cn.runKernel(st,t)}}),qs={kernelName:ye,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(Gs(rr(n,"float32")),e)}}};const $s=bn({cumsum_:function(e,t=0,n=!1,r=!1){const a={x:gn(e,"x","cumsum")},s={axis:t,exclusive:n,reverse:r};return cn.runKernel(be,a,s)}}),Hs={kernelName:be,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a,exclusive:s,reverse:i}=n;return{x:()=>{const t=function(e,t){if(ba(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}([a],r.rank);let n=$s(e,a,s,!i);return null!=t&&(n=La(n,t)),n}}}};const Ks=bn({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a,s=[1,1],i){let o=e;3===e.rank&&(o=xr(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=xr(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:o,dy:l},c={strides:r,pad:a,dimRoundingMode:i,dilations:s,filterShape:n};return cn.runKernel("DepthwiseConv2dNativeBackpropFilter",u,c)}});const Zs=bn({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a,s=[1,1],i){let o=t,l=!1;3===t.rank&&(l=!0,o=xr(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:o,filter:n},c={strides:r,pad:a,dimRoundingMode:i,dilations:s,inputShape:e},h=cn.runKernel("DepthwiseConv2dNativeBackpropInput",u,c);return l?xr(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),Xs={kernelName:we,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:s,dimRoundingMode:i}=n,o=null==r?[1,1]:r;A(ws(o),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`));const[l,u]=t;return A(4===l.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`)),A(4===u.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`)),A(l.shape[3]===u.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`)),A(vs(a,o),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${o}'.`)),null!=i&&A(I(s),(()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${i} but got pad ${s}.`)),{x:()=>Zs(l.shape,e,u,a,s,r,i),filter:()=>Ks(l,e,u.shape,a,s,r,i)}}},Ys={kernelName:ve,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,s={x:r,filter:a,dy:e},i={x:r,filter:a,dy:e};return{x:()=>cn.runKernel("Dilation2DBackpropInput",s,n),filter:()=>cn.runKernel("Dilation2DBackpropFilter",i,n)}}},Qs={kernelName:"Elu",outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>cn.runKernel("EluGrad",r)}}},Js={kernelName:"Erf",inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=Ar(Xa(Pa(Sa(n))),2/Math.sqrt(Math.PI));return{x:()=>Ar(e,r)}}},ei={kernelName:"Exp",outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(e,n)}}},ti={kernelName:xe,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>xr(e,n.shape)}}},ni={kernelName:ke,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(e,Xa(n))}}},ri={kernelName:Ce,gradFunc:e=>({x:()=>Rr(e)})},ai={kernelName:Se,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ca(n.shape,r.shape);return{a:()=>{const t=vr(e,rr(r,"float32")),s=ua(n.shape,a);return s.length>0?xr(Ea(t,s),n.shape):t},b:()=>{let t=Ar(e,rr(n,"float32"));const s=ua(r.shape,a);s.length>0&&(t=xr(Ea(t,s),r.shape));const i=Sa(r);return Pa(vr(t,rr(i,"float32")))}}}};const si=bn({rsqrt_:function(e){const t={x:gn(e,"x","rsqrt")};return cn.runKernel(tt,t)}}),ii={kernelName:Ee,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[a,s,i,o]=t,l=null==o?kr(1):o,u=ua(s.shape,a.shape),c=[];if(1===s.rank){for(let e=0;e<a.shape.length-1;++e)c.push(a.shape[e]);c.push(1)}const h=Ir(a,s),d=Ar(e,l),p=si(gr(i,kr(r))),m=Ar(Ar(Ar(p,p),p),kr(-.5));return{x:()=>1===s.rank?xr(Ar(Ar(e,za(xr(p,[1,1,1,s.shape[0]]),c)),l),a.shape):xr(Ar(Ar(e,p),l),a.shape),mean:()=>{let e=Ar(Ar(p,kr(-1)),d);return 1===s.rank&&(e=Ea(e,u)),xr(e,s.shape)},variance:()=>{let e=Ar(Ar(m,h),d);return 1===s.rank&&(e=Ea(e,u)),xr(e,s.shape)},scale:()=>{const t=Ar(h,p);let n=Ar(e,t);return 1===s.rank&&(n=Ea(n,u)),xr(n,s.shape)},offset:()=>{let t=e;return 1===s.rank&&(t=Ea(t,u)),xr(t,s.shape)}}}};const oi=bn({unsortedSegmentSum_:function(e,t,n){const r=gn(e,"x","unsortedSegmentSum"),a=gn(t,"segmentIds","unsortedSegmentSum","int32");A(I(n),(()=>"numSegments must be of dtype int"));const s={x:r,segmentIds:a},i={numSegments:n};return cn.runKernel(bt,s,i)}}),li={kernelName:Ie,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,a]=t,{axis:s}=n,i=N(s,r.shape)[0];return{x:()=>{const t=r.shape,n=a.size,o=t.slice(0,i),l=o.length,u=t.slice(s,t.length).slice(1),c=u.length,h=ui(0,l),d=ui(l+1,l+1+c),p=ci([o,[n],u]),m=xr(e,p),f=xr(a,[n]),g=ci([[l],h,d]),y=La(m,g);let b=oi(y,f,r.shape[i]);const w=va(g);return b=La(b,w),b},indices:()=>a}}};function ui(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function ci(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const hi={kernelName:Te,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>Rr(n),b:()=>Rr(r)}}},di={kernelName:Ne,gradFunc:e=>({x:()=>rr(e,"float32")})},pi={kernelName:De,gradFunc:e=>({x:()=>Rr(e)})},mi={kernelName:_e,gradFunc:e=>({x:()=>Rr(e)})},fi={kernelName:Oe,gradFunc:e=>({x:()=>Rr(e)})},gi={kernelName:Be,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:a}=n,s=Ma(r,0);return{x:()=>ga(s,e,Ar(e,a))}}},yi={kernelName:ze,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>vr(e,gr(n,1))}}},bi={kernelName:"Log",inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>vr(e,rr(n,"float32"))}}},wi={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;return{logits:()=>{const t=Xa(r);return Ir(e,Ar(Ea(e,a,!0),t))}}}};const vi=bn({localResponseNormalizationBackprop_:function(e,t,n,r=5,a=1,s=1,i=.5){const o={x:e,y:t,dy:n},l={depthRadius:r,bias:a,alpha:s,beta:i};return cn.runKernel("LRNGrad",o,l)}}),Ai={kernelName:"LRN",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{depthRadius:s,bias:i,alpha:o,beta:l}=n;return{x:()=>vi(r,a,e,s,i,o,l)}}};const xi=bn({equal_:function(e,t){let n=gn(e,"a","equal"),r=gn(t,"b","equal");[n,r]=rn(n,r),ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel("Equal",a)}});function ki(e,t,n,r){return t.rank<n.rank&&(t=xr(t,wa(t.shape,r))),e.rank<n.rank&&(e=xr(e,wa(e.shape,r))),{x:()=>Ar(e,rr(xi(n,t),e.dtype))}}const Ci={kernelName:"Max",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:a}=r,s=t[0],i=ki(e,t[1],s,N(a,s.shape));return{x:()=>i.x()}}};const Si=bn({less_:function(e,t){let n=gn(e,"a","less"),r=gn(t,"b","less");[n,r]=rn(n,r),ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel("Less",a)}}),Ei={kernelName:Re,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>Ar(e,rr(ha(n,r),"float32")),b:()=>Ar(e,rr(Si(n,r),"float32"))}}};const Ii=bn({maxPool3dGrad_:function(e,t,n,r,a,s=[1,1,1],i,o){const l=gn(e,"dy","maxPool3dGrad"),u=gn(t,"input","maxPool3dGrad"),c=gn(n,"output","maxPool3dGrad");let h=l,d=u,p=c,m=!1;4===u.rank&&(m=!0,h=xr(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=xr(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),p=xr(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),A(5===h.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${h.rank}.`)),A(5===d.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`)),A(5===p.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${p.rank}.`)),A(vs(a,s),(()=>`Error in maxPool3dGrad: Either strides or dilations must be 1. Got strides ${a} and dilations '${s}'`)),null!=o&&A(I(i),(()=>`Error in maxPool3dGrad: pad must be an integer when using, dimRoundingMode ${o} but got pad ${i}.`));const f={dy:h,input:d,output:p},g={filterSize:r,strides:a,dilations:s,pad:i,dimRoundingMode:o},y=cn.runKernel("MaxPool3DGrad",f,g);return m?xr(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}}),Ti={kernelName:Fe,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:s,strides:i,dilations:o,pad:l,dimRoundingMode:u}=n,c=null==o?[1,1,1]:o;return{x:()=>Ii(e,r,a,s,i,c,l,u)}}};const Ni=bn({maxPoolGrad_:function(e,t,n,r,a,s,i){const o=gn(e,"dy","maxPoolGrad"),l=gn(t,"input","maxPoolGrad"),u=gn(n,"output","maxPoolGrad");A(l.rank===o.rank,(()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`)),A(4===o.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`)),A(4===l.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`)),null!=i&&A(I(s),(()=>`Error in maxPoolGrad: pad must be an integer when using, dimRoundingMode ${i} but got pad ${s}.`));const c={dy:o,input:l,output:u},h={filterSize:r,strides:a,pad:s,dimRoundingMode:i};return cn.runKernel("MaxPoolGrad",c,h)}}),Di={kernelName:Me,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:s,strides:i,pad:o}=n;return{x:()=>Ni(e,r,a,s,i,o)}}},_i={kernelName:Pe,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n,s=N(a,r.shape),i=function(e,t){const n=[],r=e.length;for(let a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((t=>e[t]))]}(r.shape,s),o=S(i[1]);return{x:()=>{const t=r.shape.slice();s.forEach((e=>{t[e]=1}));const n=xr(e,t);return vr(Ar(n,Ga(r.shape,"float32")),o)}}}},Oi={kernelName:"Min",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:a}=r,[s,i]=t,o=ki(e,i,s,N(a,s.shape));return{x:()=>o.x()}}},Bi={kernelName:Le,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>Ar(e,rr(da(n,r),"float32")),b:()=>Ar(e,rr(Ma(n,r),"float32"))}}},zi={kernelName:Ve,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,s=a.map((e=>e[0]));return{x:()=>Sr(e,s,r.shape)}}};const Ri=bn({floor_:function(e){const t={x:gn(e,"x","floor")};return cn.runKernel(Ce,t)}}),Mi={kernelName:"Mod",inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ca(n.shape,r.shape);return{a:()=>{const t=ua(n.shape,a);return t.length>0?xr(Ea(e,t),n.shape):e},b:()=>{const t=Ar(e,Pa(Ri(vr(n,r)))),s=ua(r.shape,a);return s.length>0?xr(Ea(t,s),r.shape):t}}}},Fi={kernelName:We,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ca(n.shape,r.shape);return{a:()=>{const t=Ar(e,rr(r,"float32")),s=ua(n.shape,a);return s.length>0?xr(Ea(t,s),n.shape):t},b:()=>{const t=Ar(e,rr(n,"float32")),s=ua(r.shape,a);return s.length>0?xr(Ea(t,s),r.shape):t}}}},Pi={kernelName:"Neg",gradFunc:e=>({x:()=>Pa(e)})},Li={kernelName:je,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>zr(n.shape,"float32")}}},Vi={kernelName:Ue,gradFunc:e=>({x:()=>Rr(e)})},Wi={kernelName:Ge,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return Dr(e,r).map((e=>()=>e))}},Ui={kernelName:qe,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,s=a.map((e=>e[0]));return{x:()=>Sr(e,s,r.shape)}}},ji={kernelName:"Pow",inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,a]=t,s=n,i=r,o=ca(s.shape,i.shape);return{a:()=>{const t=rr(i,"float32");let n=Ar(e,Ar(t,ka(s,Ir(t,kr(1)))));const r=ua(s.shape,o);return r.length>0&&(n=Ea(n,r)),xr(n,s.shape)},b:()=>{const t=Ma(s,0),n=ga(t,Ka(s),Rr(s));let r=Ar(e,Ar(a,n));const l=ua(i.shape,o);return l.length>0&&(r=Ea(r,l)),xr(r,i.shape)}}}},Gi={kernelName:$e,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,a=Ma(n,0);return{x:()=>ga(a,e,Ar(e,r)),alpha:()=>{let t=ga(a,Rr(e),Ar(e,n));const s=ua(r.shape,e.shape);return s.length>0&&(t=Ea(t,s)),xr(t,r.shape)}}}},qi={kernelName:Ae,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ca(n.shape,r.shape);return{a:()=>{const t=vr(e,rr(r,"float32")),s=ua(n.shape,a);return s.length>0?xr(Ea(t,s),n.shape):t},b:()=>{let t=Ar(e,rr(n,"float32"));const s=ua(r.shape,a);s.length>0&&(t=xr(Ea(t,s),r.shape));const i=Sa(r);return Pa(vr(t,rr(i,"float32")))}}}},$i={kernelName:He,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>vr(e,Pa(Sa(n)))}}},Hi={kernelName:Qe,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=Ar(da(n,6),ts(n));return{x:()=>Ar(e,rr(r,"float32"))}}},Ki={kernelName:Ke,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(e,rr(ts(n),"float32"))}}},Zi={kernelName:Ze,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>xr(e,n.shape)}}},Xi={kernelName:Ye,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>cn.runKernel("ResizeBilinearGrad",a,n)}}},Yi={kernelName:Xe,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>cn.runKernel("ResizeNearestNeighborGrad",a,n)}}},Qi={kernelName:Je,gradFunc:(e,t,n)=>{const{dims:r}=n,a=N(r,e.shape);return{x:()=>Lr(e,a)}}},Ji={kernelName:et,gradFunc:e=>({x:()=>Rr(e)})},eo={kernelName:tt,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pa(vr(e,Ar(ka(n,1.5),2)))}}};const to=bn({logicalNot_:function(e){const t={x:gn(e,"x","logicalNot","bool")};return cn.runKernel("LogicalNot",t)}}),no={kernelName:nt,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>rr(Rr(n),"float32"),t:()=>Ar(e,rr(n,e.dtype)),e:()=>Ar(e,rr(to(n),e.dtype))}}},ro={kernelName:rt,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Ma(n,kr(0)),r=kr(1.7580993408473768),a=kr(1.0507009873554805),s=Ar(e,a),i=Ar(Ar(e,r),Xa(rr(n,"float32")));return ga(t,s,i)}}}},ao={kernelName:ot,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(e,Ar(n,Ir(kr(1),n)))}}},so={kernelName:it,gradFunc:e=>({x:()=>Rr(e)})};const io=bn({cos_:function(e){const t={x:gn(e,"x","cos")};return cn.runKernel("Cos",t)}}),oo={kernelName:"Sin",inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(io(rr(n,"float32")),e)}}};const lo=bn({cosh_:function(e){const t={x:gn(e,"x","cosh")};return cn.runKernel(ye,t)}}),uo={kernelName:st,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(lo(rr(n,"float32")),e)}}};const co=bn({pad_:function(e,t,n=0){const r=gn(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},s={x:r};return cn.runKernel(qe,s,a)}});const ho={kernelName:at,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:a,size:s}=n,i=r.shape,[o,l]=function(e,t,n){let r;const a=e.shape.length;let s;return r="number"==typeof t?[t,...new Array(a-1).fill(0)]:t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice(),r.forEach((e=>{A(-1!==e,(()=>"slice() does not support negative begin indexing."))})),s=null==n?new Array(a).fill(-1):"number"==typeof n?[n,...new Array(a-1).fill(-1)]:n.length<a?n.concat(new Array(a-n.length).fill(-1)):n,s=s.map(((t,n)=>t>=0?t:(A(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,s]}(r,a,s),u=[];for(let t=0;t<e.rank;t++)u.push([o[t],i[t]-o[t]-l[t]]);return{x:()=>co(e,u)}}},po={kernelName:dt,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:a}=n,s=Ar(e,r);return{logits:()=>Ir(s,Ar(Ea(s,[a],true),r))}}},mo={kernelName:lt,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(e,Cr(n))}}};const fo=bn({batchToSpaceND_:function(e,t,n){const r=gn(e,"x","batchToSpaceND"),a=t.reduce(((e,t)=>e*t));A(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),A(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),A(r.shape[0]%a==0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${a}`));const s={x:r},i={blockShape:t,crops:n};return cn.runKernel(le,s,i)}}),go={kernelName:ct,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:a}=n;return{x:()=>fo(e,r,a)}}},yo={kernelName:ht,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>yr(e,r)}}},bo={kernelName:ut,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>vr(e,Ar(Ca(rr(n,"float32")),2))}}},wo={kernelName:"Square",inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(e,Ar(rr(n,"float32"),2))}}},vo={kernelName:pt,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=kr(2);return{a:()=>Ar(e,Ar(a,Ir(n,r))),b:()=>Ar(e,Ar(a,Ir(r,n)))}}},Ao={kernelName:vt,gradFunc:e=>({x:()=>Rr(e)})},xo={kernelName:"Sub",inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ca(n.shape,r.shape);return{a:()=>{let t=e;const r=ua(n.shape,a);return r.length>0&&(t=Ea(t,r)),xr(t,n.shape)},b:()=>{let t=e;const n=ua(r.shape,a);return n.length>0&&(t=Ea(t,n)),xr(Pa(t),r.shape)}}}},ko={kernelName:"Sum",inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,a=r.shape.slice(),{axis:s}=n;N(s,r.shape).forEach((e=>{a[e]=1}));const i=xr(e,a),o=Ar(i,Ga(r.shape,"float32"));return{x:()=>o}}},Co={kernelName:"Tan",inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>vr(e,Sa(io(n)))}}},So={kernelName:mt,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ar(Ir(kr(1),Sa(n)),e)}}},Eo={kernelName:ft,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:a}=n;return{x:()=>{let t=Rr(r);if(1===r.rank)for(let n=0;n<a[0];++n)t=gr(t,Sr(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<a[0];++n)for(let s=0;s<a[1];++s)t=gr(t,Sr(e,[n*r.shape[0],s*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<a[0];++n)for(let s=0;s<a[1];++s)for(let i=0;i<a[2];++i)t=gr(t,Sr(e,[n*r.shape[0],s*r.shape[1],i*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);for(let n=0;n<a[0];++n)for(let s=0;s<a[1];++s)for(let i=0;i<a[2];++i)for(let o=0;o<a[3];++o)t=gr(t,Sr(e,[n*r.shape[0],s*r.shape[1],i*r.shape[2],o*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},Io={kernelName:gt,gradFunc:(e,t,n)=>{const r=n,{perm:a}=r,s=va(a);return{x:()=>La(e,s)}}},To={kernelName:yt,gradFunc:(e,t,n)=>{const r=n,{axis:a}=r;return{value:()=>Er(e,a)}}};const No=bn({gather_:function(e,t,n=0,r=0){const a={x:gn(e,"x","gather"),indices:gn(t,"indices","gather","int32")},s={axis:n,batchDims:r};return cn.runKernel(Ie,a,s)}});const Do=bn({maximum_:function(e,t){let n=gn(e,"a","maximum"),r=gn(t,"b","maximum");[n,r]=rn(n,r),"bool"===n.dtype&&(n=rr(n,"int32"),r=rr(r,"int32")),ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel(Re,a)}}),_o={kernelName:bt,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=Do(t,Rr(t)),r=No(e,n);let a=ha(t,kr(0,"int32"));const s=r.rank-a.rank;for(let e=0;e<s;++e)a=Ba(a,e+1);a=pa(a,Ga(r.shape,"bool"));const i=Rr(r);return ga(a,r,i)}(e,n)}}};const Oo=[ns,rs,as,ss,is,os,ls,us,cs,hs,ds,ps,xs,Cs,Ss,Is,Ts,Ns,Ds,_s,Os,Bs,Ps,Ms,Ws,js,qs,Hs,Xs,Ys,qi,Qs,Js,ei,ti,ni,ai,ri,ii,li,hi,di,pi,mi,fi,gi,yi,bi,wi,Ai,Ci,Ci,Ei,Ti,Di,_i,Oi,Bi,zi,Mi,Fi,Pi,Li,Vi,Wi,Ui,Ui,ji,Gi,$i,Hi,Ki,Zi,Xi,Yi,Qi,Ji,eo,no,ro,ao,so,oo,uo,ho,po,mo,go,go,yo,yo,bo,vo,wo,Ao,xo,ko,Co,So,Eo,Io,To,_o,{kernelName:wt,gradFunc:e=>({x:()=>Rr(e)})}];for(const e of Oo)Dt(e);Kt.prototype.abs=function(){return this.throwIfDisposed(),ya(this)};const Bo=bn({acos_:function(e){const t={x:gn(e,"x","acos")};return cn.runKernel(K,t)}});Kt.prototype.acos=function(){return this.throwIfDisposed(),Bo(this)};const zo=bn({acosh_:function(e){const t={x:gn(e,"x","acosh")};return cn.runKernel(Z,t)}});Kt.prototype.acosh=function(){return this.throwIfDisposed(),zo(this)};const Ro=bn({mod_:function(e,t){let n=gn(e,"a","mod"),r=gn(t,"b","mod");[n,r]=rn(n,r);const a={a:n,b:r};return cn.runKernel("Mod",a)}});const Mo=bn({addStrict_:function(e,t){Da();const n=gn(e,"a","addStrict"),r=gn(t,"b","addStrict");return x(n.shape,r.shape,"Error in addStrict: "),gr(n,r)}}),Fo=bn({divStrict_:function(e,t){Da();const n=gn(e,"a","div"),r=gn(t,"b","div");return x(n.shape,r.shape,"Error in divideStrict: "),vr(n,r)}}),Po=bn({maximumStrict_:function(e,t){Da();const n=gn(e,"a","maximumStrict"),r=gn(t,"b","maximumStrict");return x(n.shape,r.shape,"Error in maximumStrict: "),Do(n,r)}}),Lo=bn({minimumStrict_:function(e,t){Da();const n=gn(e,"a","minimumStrict"),r=gn(t,"b","minimumStrict");return x(n.shape,r.shape,"Error in minimumStrict: "),Ha(n,r)}}),Vo=bn({modStrict_:function(e,t){Da();const n=gn(e,"a","modStrict"),r=gn(t,"b","modStrict");return x(n.shape,r.shape,"Error in modStrict: "),Ro(n,r)}}),Wo=bn({mulStrict_:function(e,t){Da();const n=gn(e,"a","mul"),r=gn(t,"b","mul");return x(n.shape,r.shape,"Error in multiplyStrict: "),Ar(n,r)}}),Uo=bn({powStrict_:function(e,t){return Da(),x(e.shape,t.shape,"Error in powStrict: "),ka(e,t)}}),jo=bn({squaredDifferenceStrict_:function(e,t){Da();const n=gn(e,"a","squaredDifferenceStrict"),r=gn(t,"b","squaredDifferenceStrict");return x(n.shape,r.shape,"Error in squaredDifferenceStrict: "),Za(n,r)}}),Go=bn({subStrict_:function(e,t){Da();const n=gn(e,"a","subStrict"),r=gn(t,"b","subStrict");return x(n.shape,r.shape,"Error in subStrict: "),Ir(n,r)}});Kt.prototype.addStrict=function(e){return this.throwIfDisposed(),Mo(this,e)},Kt.prototype.add=function(e){return this.throwIfDisposed(),gr(this,e)};const qo=bn({all_:function(e,t=null,n=!1){const r={x:gn(e,"x","all","bool")},a={axis:t,keepDims:n};return cn.runKernel("All",r,a)}});Kt.prototype.all=function(e,t){return this.throwIfDisposed(),qo(this,e,t)};const $o=bn({any_:function(e,t=null,n=!1){const r={x:gn(e,"x","any","bool")},a={axis:t,keepDims:n};return cn.runKernel("Any",r,a)}});Kt.prototype.any=function(e,t){return this.throwIfDisposed(),$o(this,e,t)};const Ho=bn({argMax_:function(e,t=0){const n={x:gn(e,"x","argMax")},r={axis:t};return cn.runKernel(Q,n,r)}});Kt.prototype.argMax=function(e){return this.throwIfDisposed(),Ho(this,e)};const Ko=bn({argMin_:function(e,t=0){const n={x:gn(e,"x","argMin")},r={axis:t};return cn.runKernel(J,n,r)}});Kt.prototype.argMin=function(e){return this.throwIfDisposed(),Ko(this,e)},Kt.prototype.asScalar=function(){return this.throwIfDisposed(),A(1===this.size,(()=>"The array must have only 1 element.")),xr(this,[])},Kt.prototype.asType=function(e){return this.throwIfDisposed(),rr(this,e)},Kt.prototype.as1D=function(){return this.throwIfDisposed(),xr(this,[this.size])},Kt.prototype.as2D=function(e,t){return this.throwIfDisposed(),xr(this,[e,t])},Kt.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),xr(this,[e,t,n])},Kt.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),xr(this,[e,t,n,r])},Kt.prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),xr(this,[e,t,n,r,a])};const Zo=bn({asin_:function(e){const t={x:gn(e,"x","asin")};return cn.runKernel(ee,t)}});Kt.prototype.asin=function(){return this.throwIfDisposed(),Zo(this)};const Xo=bn({asinh_:function(e){const t={x:gn(e,"x","asinh")};return cn.runKernel(te,t)}});Kt.prototype.asinh=function(){return this.throwIfDisposed(),Xo(this)};const Yo=bn({atan_:function(e){const t={x:gn(e,"x","atan")};return cn.runKernel(ne,t)}});Kt.prototype.atan=function(){return this.throwIfDisposed(),Yo(this)};const Qo=bn({atan2_:function(e,t){let n=gn(e,"a","atan2"),r=gn(t,"b","atan2");[n,r]=rn(n,r);const a={a:n,b:r};return cn.runKernel(ae,a)}});Kt.prototype.atan2=function(e){return this.throwIfDisposed(),Qo(this,e)};const Jo=bn({atanh_:function(e){const t={x:gn(e,"x","atanh")};return cn.runKernel(re,t)}});Kt.prototype.atanh=function(){return this.throwIfDisposed(),Jo(this)};const el=bn({avgPool_:function(e,t,n,r,a){const s=gn(e,"x","avgPool","float32");A(vs(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let i=s,o=!1;3===s.rank&&(o=!0,i=xr(s,[1,s.shape[0],s.shape[1],s.shape[2]])),A(4===i.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${i.rank}.`)),null!=a&&A(I(r),(()=>`Error in avgPool: pad must be an integer when using, dimRoundingMode ${a} but got pad ${r}.`));const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let c=cn.runKernel(se,l,u);return c=rr(c,s.dtype),o?xr(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});Kt.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),el(this,e,t,n,r)},Kt.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),fo(this,e,t)};const tl=bn({batchNorm_:function(e,t,n,r,a,s){null==s&&(s=.001);const i=gn(e,"x","batchNorm"),o=gn(t,"mean","batchNorm"),l=gn(n,"variance","batchNorm");let u,c;null!=a&&(u=gn(a,"scale","batchNorm")),null!=r&&(c=gn(r,"offset","batchNorm")),A(o.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),A(null==c||o.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),A(null==u||o.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const h=function(e){let t;return t=0===e.rank||1===e.rank?xr(e,[1,1,1,e.size]):2===e.rank?xr(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?xr(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(i),d={x:h,scale:u,offset:c,mean:o,variance:l},p={varianceEpsilon:s},m=cn.runKernel(Ee,d,p);return xr(m,i.shape)}});Kt.prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),tl(this,e,t,n,r,a)},Kt.prototype.broadcastTo=function(e){return this.throwIfDisposed(),fa(this,e)},Kt.prototype.cast=function(e){return this.throwIfDisposed(),rr(this,e)};const nl=bn({ceil_:function(e){const t={x:gn(e,"x","ceil")};return cn.runKernel(ce,t)}});Kt.prototype.ceil=function(){return this.throwIfDisposed(),nl(this)};const rl=bn({clipByValue_:function(e,t,n){const r=gn(e,"x","clipByValue");A(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`));const a={x:r},s={clipValueMin:t,clipValueMax:n};return cn.runKernel(he,a,s)}});Kt.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),rl(this,e,t)},Kt.prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Kt&&(e=[e]),yr([this,...e],t)};const al=bn({conv1d_:function(e,t,n,r,a="NWC",s=1,i){const o=gn(e,"x","conv1d"),l=gn(t,"filter","conv1d");let u=o,c=!1;2===o.rank&&(c=!0,u=xr(o,[1,o.shape[0],o.shape[1]])),A(3===u.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`)),A(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),null!=i&&A(I(r),(()=>`Error in conv1d: pad must be an integer when using, dimRoundingMode ${i} but got pad ${r}.`)),A(u.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),A(vs(n,s),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${s}'`)),A("NWC"===a,(()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`));const h=xr(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=xr(u,[u.shape[0],1,u.shape[1],u.shape[2]]),p=Fs(d,h,[1,n],r,"NHWC",[1,s],i);return xr(p,c?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});Kt.prototype.conv1d=function(e,t,n,r,a,s){return this.throwIfDisposed(),al(this,e,t,n,r,a,s)};const sl=bn({conv2dTranspose_:function(e,t,n,r,a,s){const i=gn(e,"x","conv2dTranspose"),o=gn(t,"filter","conv2dTranspose");return Rs(n,i,o,r,a,"NHWC",s)}});Kt.prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),sl(this,e,t,n,r,a)},Kt.prototype.conv2d=function(e,t,n,r,a,s){return this.throwIfDisposed(),Fs(this,e,t,n,r,a,s)},Kt.prototype.cos=function(){return this.throwIfDisposed(),io(this)},Kt.prototype.cosh=function(){return this.throwIfDisposed(),lo(this)},Kt.prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),$s(this,e,t,n)};const il=bn({depthToSpace_:function(e,t,n="NHWC"){const r=gn(e,"x","depthToSpace"),a="NHWC"===n?r.shape[1]:r.shape[2],s="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];A(a*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),A(s*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${s} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),A(i%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${i} for depthToSpace with input shape ${r.shape}`));const o={x:r},l={blockSize:t,dataFormat:n};return cn.runKernel("DepthToSpace",o,l)}});Kt.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),il(this,e,t)};const ol=bn({depthwiseConv2d_:function(e,t,n,r,a="NHWC",s=[1,1],i){const o=gn(e,"x","depthwiseConv2d"),l=gn(t,"filter","depthwiseConv2d");let u=o,c=!1;3===o.rank&&(c=!0,u=xr(o,[1,o.shape[0],o.shape[1],o.shape[2]])),A(4===u.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`)),A(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`)),A(u.shape[3]===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${u.shape[3]}) must match the inChannels dimension in filter ${l.shape[2]}.`)),null!=i&&A(I(r),(()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${i} but got pad ${r}.`));const h={x:u,filter:l},d={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:i},p=cn.runKernel(we,h,d);return c?xr(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});Kt.prototype.depthwiseConv2D=function(e,t,n,r,a,s){return Da(),this.throwIfDisposed(),ol(this,e,t,n,r,a,s)},Kt.prototype.depthwiseConv2d=function(e,t,n,r,a,s){return this.throwIfDisposed(),ol(this,e,t,n,r,a,s)};const ll=bn({dilation2d_:function(e,t,n,r,a=[1,1],s="NHWC"){const i=gn(e,"x","dilation2d"),o=gn(t,"filter","dilation2d");A(3===i.rank||4===i.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`)),A(3===o.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`)),A("NHWC"===s,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${s}`));let l=i,u=!1;3===i.rank&&(l=xr(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=!0);const c={x:l,filter:o},h={strides:n,pad:r,dilations:a},d=cn.runKernel(ve,c,h);return u?xr(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});Kt.prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),ll(this,e,t,n,r,a)};const ul=bn({divNoNan_:function(e,t){let n=gn(e,"a","div"),r=gn(t,"b","div");[n,r]=rn(n,r);const a=vr(n,r),s=Rr(a),i=xi(r,s);return ga(i,s,a)}});Kt.prototype.divNoNan=function(e){return this.throwIfDisposed(),ul(this,e)},Kt.prototype.divStrict=function(e){return this.throwIfDisposed(),Fo(this,e)},Kt.prototype.div=function(e){return this.throwIfDisposed(),vr(this,e)};const cl=bn({dot_:function(e,t){const n=gn(e,"t1","dot"),r=gn(t,"t2","dot");A(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const a=1===n.rank?n.size:n.shape[1],s=1===r.rank?r.size:r.shape[0];if(A(a===s,(()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${s}.`)),1===n.rank&&1===r.rank){const e=xr(n,[1,-1]),t=xr(r,[-1,1]),a=Fa(e,t);return xr(a,[])}if(1===n.rank&&2===r.rank){const e=xr(n,[1,-1]),t=xr(r,[r.shape[0],r.shape[1]]),a=Fa(e,t);return xr(a,[a.size])}if(2===n.rank&&1===r.rank){const e=xr(r,[-1,1]),t=Fa(n,e);return xr(t,[t.size])}{const e=xr(r,[r.shape[0],r.shape[1]]);return Fa(n,e)}}});Kt.prototype.dot=function(e){return this.throwIfDisposed(),cl(this,e)};const hl=bn({elu_:function(e){const t={x:gn(e,"x","elu")};return cn.runKernel("Elu",t)}});Kt.prototype.elu=function(){return this.throwIfDisposed(),hl(this)};const dl=bn({equalStrict_:function(e,t){Da();const n=gn(e,"a","equalStrict"),r=gn(t,"b","equalStrict");return x(n.shape,r.shape,"Error in equalStrict: "),xi(n,r)}}),pl=bn({greaterEqualStrict_:function(e,t){Da();const n=gn(e,"a","greaterEqualStrict"),r=gn(t,"b","greaterEqualStrict");return x(n.shape,r.shape,"Error in greaterEqualStrict: "),ha(n,r)}}),ml=bn({greaterStrict_:function(e,t){Da();const n=gn(e,"a","greaterStrict"),r=gn(t,"b","greaterStrict");return x(n.shape,r.shape,"Error in greaterStrict: "),Ma(n,r)}}),fl=bn({lessEqualStrict_:function(e,t){Da();const n=gn(e,"a","lessEqualStrict"),r=gn(t,"b","lessEqualStrict");return x(n.shape,r.shape,"Error in lessEqualStrict: "),da(n,r)}}),gl=bn({lessStrict_:function(e,t){Da();const n=gn(e,"a","lessStrict"),r=gn(t,"b","lessStrict");return x(n.shape,r.shape,"Error in lessStrict: "),Si(n,r)}}),yl=bn({notEqualStrict_:function(e,t){Da();const n=gn(e,"a","notEqualStrict"),r=gn(t,"b","notEqualStrict");return x(n.shape,r.shape,"Error in notEqualStrict: "),ja(n,r)}});Kt.prototype.equalStrict=function(e){return this.throwIfDisposed(),dl(this,e)},Kt.prototype.equal=function(e){return this.throwIfDisposed(),xi(this,e)};const bl=bn({erf_:function(e){let t=gn(e,"x","erf");A("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=rr(t,"float32"));const n={x:t};return cn.runKernel("Erf",n)}});Kt.prototype.erf=function(){return this.throwIfDisposed(),bl(this)},Kt.prototype.exp=function(){return this.throwIfDisposed(),Xa(this)},Kt.prototype.expandDims=function(e){return this.throwIfDisposed(),Ba(this,e)};const wl=bn({expm1_:function(e){const t={x:gn(e,"x","expm1")};return cn.runKernel(ke,t)}});Kt.prototype.expm1=function(){return this.throwIfDisposed(),wl(this)},Kt.prototype.fft=function(){return this.throwIfDisposed(),Mr(this)},Kt.prototype.flatten=function(){return this.throwIfDisposed(),xr(this,[this.size])},Kt.prototype.floor=function(){return this.throwIfDisposed(),Ri(this)},Kt.prototype.floorDiv=function(e){return this.throwIfDisposed(),wr(this,e)},Kt.prototype.gather=function(e,t){return this.throwIfDisposed(),No(this,e,t)},Kt.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),pl(this,e)},Kt.prototype.greaterEqual=function(e){return this.throwIfDisposed(),ha(this,e)},Kt.prototype.greaterStrict=function(e){return this.throwIfDisposed(),ml(this,e)},Kt.prototype.greater=function(e){return this.throwIfDisposed(),Ma(this,e)},Kt.prototype.ifft=function(){return this.throwIfDisposed(),Pr(this)},Kt.prototype.irfft=function(){return this.throwIfDisposed(),Vr(this)};const vl=bn({isFinite_:function(e){const t={x:gn(e,"x","isFinite")};return cn.runKernel(De,t)}});Kt.prototype.isFinite=function(){return this.throwIfDisposed(),vl(this)};const Al=bn({isInf_:function(e){const t={x:gn(e,"x","isInf")};return cn.runKernel(_e,t)}});Kt.prototype.isInf=function(){return this.throwIfDisposed(),Al(this)};const xl=bn({isNaN_:function(e){const t={x:gn(e,"x","isNaN")};return cn.runKernel(Oe,t)}});Kt.prototype.isNaN=function(){return this.throwIfDisposed(),xl(this)};const kl=bn({leakyRelu_:function(e,t=.2){const n={x:gn(e,"x","leakyRelu")},r={alpha:t};return cn.runKernel(Be,n,r)}});Kt.prototype.leakyRelu=function(e){return this.throwIfDisposed(),kl(this,e)},Kt.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),fl(this,e)},Kt.prototype.lessEqual=function(e){return this.throwIfDisposed(),da(this,e)},Kt.prototype.lessStrict=function(e){return this.throwIfDisposed(),gl(this,e)},Kt.prototype.less=function(e){return this.throwIfDisposed(),Si(this,e)};const Cl=bn({localResponseNormalization_:function(e,t=5,n=1,r=1,a=.5){const s=gn(e,"x","localResponseNormalization");A(4===s.rank||3===s.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${s.rank}.`)),A(I(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let i=s,o=!1;3===s.rank&&(o=!0,i=xr(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const l={x:i},u={depthRadius:t,bias:n,alpha:r,beta:a},c=cn.runKernel("LRN",l,u);return o?xr(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});Kt.prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),Cl(this,e,t,n,r)};const Sl=bn({softplus_:function(e){const t={x:gn(e,"x","softplus")};return cn.runKernel(lt,t)}});const El=bn({logSigmoid_:function(e){const t=gn(e,"x","logSigmoid"),n=Qa((e=>({value:Pa(Sl(Pa(e))),gradFunc:t=>Ar(t,Cr(Pa(e)))})));return n(t)}});Kt.prototype.logSigmoid=function(){return this.throwIfDisposed(),El(this)};const Il=bn({logSoftmax_:function(e,t=-1){const n=gn(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const r=Qa(((e,n)=>{const r=Aa(e,t,!0),a=Ir(e,r),s=Ir(rr(a,"float32"),Ka(Ea(Xa(a),t,!0)));n([s]);return{value:s,gradFunc:(e,n)=>{const[r]=n,a=Xa(r);return Ir(e,Ar(Ea(e,t,!0),a))}}}));return r(n)}});Kt.prototype.logSoftmax=function(e){return this.throwIfDisposed(),Il(this,e)},Kt.prototype.logSumExp=function(e,t){return this.throwIfDisposed(),Ja(this,e,t)},Kt.prototype.log=function(){return this.throwIfDisposed(),Ka(this)},Kt.prototype.log1p=function(){return this.throwIfDisposed(),Ya(this)},Kt.prototype.logicalAnd=function(e){return this.throwIfDisposed(),pa(this,e)},Kt.prototype.logicalNot=function(){return this.throwIfDisposed(),to(this)};const Tl=bn({logicalOr_:function(e,t){const n=gn(e,"a","logicalOr","bool"),r=gn(t,"b","logicalOr","bool");ca(n.shape,r.shape);const a={a:n,b:r};return cn.runKernel("LogicalOr",a)}});Kt.prototype.logicalOr=function(e){return this.throwIfDisposed(),Tl(this,e)};const Nl=bn({logicalXor_:function(e,t){const n=gn(e,"a","logicalXor","bool"),r=gn(t,"b","logicalXor","bool");return ca(n.shape,r.shape),pa(Tl(e,t),to(pa(e,t)))}});Kt.prototype.logicalXor=function(e){return this.throwIfDisposed(),Nl(this,e)},Kt.prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Fa(this,e,t,n)};const Dl=bn({maxPool_:function(e,t,n,r,a){const s=gn(e,"x","maxPool");let i=s,o=!1;3===s.rank&&(o=!0,i=xr(s,[1,s.shape[0],s.shape[1],s.shape[2]])),A(4===i.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${i.rank}.`)),A(vs(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),null!=a&&A(I(r),(()=>`Error in maxPool: pad must be an integer when using, dimRoundingMode ${a} but got pad ${r}.`));const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=cn.runKernel(Me,l,u);return o?xr(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});Kt.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),Dl(this,e,t,n,r)},Kt.prototype.max=function(e,t){return this.throwIfDisposed(),Aa(this,e,t)},Kt.prototype.maximumStrict=function(e){return this.throwIfDisposed(),Po(this,e)},Kt.prototype.maximum=function(e){return this.throwIfDisposed(),Do(this,e)},Kt.prototype.mean=function(e,t){return this.throwIfDisposed(),Ua(this,e,t)},Kt.prototype.min=function(e,t){return this.throwIfDisposed(),xa(this,e,t)},Kt.prototype.minimumStrict=function(e){return this.throwIfDisposed(),Lo(this,e)},Kt.prototype.minimum=function(e){return this.throwIfDisposed(),Ha(this,e)};const _l=bn({mirrorPad_:function(e,t,n){A("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=gn(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");A(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const a="reflect"===n?1:0;for(let e=0;e<r.rank;e++)A(2===t[e].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),A(t[e][0]>=0&&t[e][0]<=r.shape[e]-a&&t[e][1]>=0&&t[e][1]<=r.shape[e]-a,(()=>`Padding in dimension ${e} cannot be greater than or equal to ${r.shape[e]-a} or less than 0 for input of shape ${r.shape}`));const s={paddings:t,mode:n},i={x:r};return cn.runKernel(Ve,i,s)}});Kt.prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),_l(this,e,t)},Kt.prototype.modStrict=function(e){return this.throwIfDisposed(),Vo(this,e)},Kt.prototype.mod=function(e){return this.throwIfDisposed(),Ro(this,e)},Kt.prototype.mulStrict=function(e){return this.throwIfDisposed(),Wo(this,e)},Kt.prototype.mul=function(e){return this.throwIfDisposed(),Ar(this,e)},Kt.prototype.neg=function(){return this.throwIfDisposed(),Pa(this)},Kt.prototype.norm=function(e,t,n){return this.throwIfDisposed(),Ta(this,e,t,n)},Kt.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),yl(this,e)},Kt.prototype.notEqual=function(e){return this.throwIfDisposed(),ja(this,e)};const Ol=bn({oneHot_:function(e,t,n=1,r=0){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const a={indices:gn(e,"indices","oneHot","int32")},s={depth:t,onValue:n,offValue:r};return cn.runKernel(je,a,s)}});Kt.prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),Ol(this,e,t,n)};const Bl=bn({onesLike_:function(e){const t={x:gn(e,"x","onesLike")};return cn.runKernel(Ue,t)}});Kt.prototype.onesLike=function(){return this.throwIfDisposed(),Bl(this)},Kt.prototype.pad=function(e,t){return this.throwIfDisposed(),co(this,e,t)};const zl=bn({pool_:function(e,t,n,r,a,s){null==a&&(a=[1,1]),null==s&&(s=1),0===r&&(r="valid");const i=gn(e,"x","maxPool");let o=i,l=!1;3===i.rank&&(l=!0,o=xr(i,[1,i.shape[0],i.shape[1],i.shape[2]])),A(vs(s,a),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${s} and dilations '${a}'`));const u=function(e,t,n,r,a,s,i="channelsLast"){const[o,l]=gs(t);let u;if("channelsLast"===i)u=[o,l,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);u=[o,l,e[1],e[1]]}return ms(e,u,n,r,a,s,!1,i)}(o.shape,t,s,a,r),c=[u.dilationHeight,u.dilationWidth];let h;h="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))).map((e=>e-1)),r=n.map((e=>Math.floor(e/2))),a=n.map(((e,t)=>e-r[t]));return n.map(((e,t)=>[r[t],a[t]]))}([u.filterHeight,u.filterWidth],c):[[0,0],[0,0]];const d=1===c[0]&&1===c[1],[p,m]=function(e,t,n){const r=n.map((e=>e[0])),a=n.map((e=>e[1])),s=e.concat(r,a),i=t.map(((e,t)=>(e-s[t]%e)%e)),o=a.map(((e,t)=>e+i[t])),l=t.map(((e,t)=>[r[t],o[t]])),u=t.map(((e,t)=>[0,i[t]]));return[l,u]}([u.inHeight,u.inWidth],c,h),f=d?r:"valid",g=d?o:Es(o,c,p),y=("avg"===n?()=>el(g,t,s,f):()=>Dl(g,t,s,f))(),b=d?y:fo(y,c,m);return l?xr(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});Kt.prototype.pool=function(e,t,n,r,a){return this.throwIfDisposed(),zl(this,e,t,n,r,a)},Kt.prototype.powStrict=function(e){return this.throwIfDisposed(),Uo(this,e)},Kt.prototype.pow=function(e){return this.throwIfDisposed(),ka(this,e)};const Rl=bn({prelu_:function(e,t){const n={x:gn(e,"x","prelu"),alpha:gn(t,"alpha","prelu")};return cn.runKernel($e,n)}});Kt.prototype.prelu=function(e){return this.throwIfDisposed(),Rl(this,e)};const Ml=bn({prod_:function(e,t=null,n=!1){let r=gn(e,"x","prod");"bool"===r.dtype&&(r=rr(r,"int32"));const a={x:r},s={axis:t,keepDims:n};return cn.runKernel("Prod",a,s)}});Kt.prototype.prod=function(e,t){return this.throwIfDisposed(),Ml(this,e,t)};const Fl=bn({reciprocal_:function(e){const t={x:gn(e,"x","reciprocal")};return cn.runKernel(He,t)}});Kt.prototype.reciprocal=function(){return this.throwIfDisposed(),Fl(this)},Kt.prototype.relu=function(){return this.throwIfDisposed(),$a(this)};const Pl=bn({relu6_:function(e){const t={x:gn(e,"x","relu6")};return cn.runKernel(Qe,t)}});Kt.prototype.relu6=function(){return this.throwIfDisposed(),Pl(this)},Kt.prototype.reshapeAs=function(e){return this.throwIfDisposed(),xr(this,e.shape)},Kt.prototype.reshape=function(e){return this.throwIfDisposed(),xr(this,e)},Kt.prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),oa(this,e,t,n)},Kt.prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),la(this,e,t,n)},Kt.prototype.reverse=function(e){return this.throwIfDisposed(),Lr(this,e)},Kt.prototype.rfft=function(){return this.throwIfDisposed(),Fr(this)};const Ll=bn({round_:function(e){const t={x:gn(e,"x","round")};return cn.runKernel(et,t)}});Kt.prototype.round=function(){return this.throwIfDisposed(),Ll(this)},Kt.prototype.rsqrt=function(){return this.throwIfDisposed(),si(this)};const Vl=bn({selu_:function(e){const t={x:gn(e,"x","selu")};return cn.runKernel(rt,t)}});Kt.prototype.selu=function(){return this.throwIfDisposed(),Vl(this)};const Wl=bn({separableConv2d_:function(e,t,n,r,a,s=[1,1],i="NHWC"){const o=gn(e,"x","separableConv2d"),l=gn(t,"depthwiseFilter","separableConv2d"),u=gn(n,"pointwiseFilter","separableConv2d");let c=o,h=!1;if(3===o.rank&&(h=!0,c=xr(o,[1,o.shape[0],o.shape[1],o.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");A(4===c.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`)),A(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),A(4===u.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),A(1===u.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`)),A(1===u.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`));const d=l.shape[2],p=l.shape[3];A(u.shape[2]===d*p,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*p}, but got ${u.shape[2]}.`));const m=ol(c,l,r,a,i,s),f=Fs(m,u,1,"valid",i);return h?xr(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});Kt.prototype.separableConv2d=function(e,t,n,r,a,s){return this.throwIfDisposed(),Wl(this,e,t,n,r,a,s)},Kt.prototype.sigmoid=function(){return this.throwIfDisposed(),Cr(this)};const Ul=bn({sign_:function(e){const t={x:gn(e,"x","sign")};return cn.runKernel(it,t)}});Kt.prototype.sign=function(){return this.throwIfDisposed(),Ul(this)},Kt.prototype.sin=function(){return this.throwIfDisposed(),Us(this)},Kt.prototype.sinh=function(){return this.throwIfDisposed(),Gs(this)},Kt.prototype.slice=function(e,t){return this.throwIfDisposed(),Sr(this,e,t)};const jl=bn({softmax_:function(e,t=-1){const n=gn(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},a={dim:t};return cn.runKernel(dt,r,a)}});Kt.prototype.softmax=function(e){return this.throwIfDisposed(),jl(this,e)},Kt.prototype.softplus=function(){return this.throwIfDisposed(),Sl(this)},Kt.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Es(this,e,t)},Kt.prototype.split=function(e,t){return this.throwIfDisposed(),Br(this,e,t)},Kt.prototype.sqrt=function(){return this.throwIfDisposed(),Ca(this)},Kt.prototype.square=function(){return this.throwIfDisposed(),Sa(this)},Kt.prototype.squaredDifference=function(e){return this.throwIfDisposed(),Za(this,e)},Kt.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),jo(this,e)},Kt.prototype.squeeze=function(e){return this.throwIfDisposed(),Na(this,e)},Kt.prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof Kt?[this,e]:[this,...e];return Er(n,t)},Kt.prototype.step=function(e){return this.throwIfDisposed(),ts(this,e)};const Gl=bn({stridedSlice_:function(e,t,n,r,a=0,s=0,i=0,o=0,l=0){const u={x:gn(e,"x","stridedSlice")},c={begin:t,end:n,strides:r,beginMask:a,endMask:s,ellipsisMask:i,newAxisMask:o,shrinkAxisMask:l};return cn.runKernel("StridedSlice",u,c)}});Kt.prototype.stridedSlice=function(e,t,n,r,a,s,i,o){return this.throwIfDisposed(),Gl(this,e,t,n,r,a,s,i,o)},Kt.prototype.subStrict=function(e){return this.throwIfDisposed(),Go(this,e)},Kt.prototype.sub=function(e){return this.throwIfDisposed(),Ir(this,e)},Kt.prototype.sum=function(e,t){return this.throwIfDisposed(),Ea(this,e,t)};const ql=bn({tan_:function(e){const t={x:gn(e,"x","tan")};return cn.runKernel("Tan",t)}});Kt.prototype.tan=function(){return this.throwIfDisposed(),ql(this)};const $l=bn({tanh_:function(e){const t={x:gn(e,"x","tanh")};return cn.runKernel(mt,t)}});Kt.prototype.tanh=function(){return this.throwIfDisposed(),$l(this)},Kt.prototype.tile=function(e){return this.throwIfDisposed(),za(this,e)},Kt.prototype.toBool=function(){return this.throwIfDisposed(),rr(this,"bool")},Kt.prototype.toFloat=function(){return this.throwIfDisposed(),rr(this,"float32")},Kt.prototype.toInt=function(){return this.throwIfDisposed(),rr(this,"int32")};const Hl=bn({topk_:function(e,t=1,n=!0){const r=gn(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${t}`);const s={x:r},i={k:t,sorted:n},[o,l]=cn.runKernel("TopK",s,i);return{values:o,indices:l}}});Kt.prototype.topk=function(e,t){return this.throwIfDisposed(),Hl(this,e,t)},Kt.prototype.transpose=function(e){return this.throwIfDisposed(),La(this,e)};const Kl=bn({unique_:function(e,t=0){const n=gn(e,"x","unique","string_or_numeric");A(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},a={axis:t},[s,i]=cn.runKernel("Unique",r,a);return{values:s,indices:i}}});var Zl,Xl;Kt.prototype.unique=function(e){return this.throwIfDisposed(),Kl(this,e)},Kt.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),oi(this,e,t)},Kt.prototype.unstack=function(e){return this.throwIfDisposed(),Dr(this,e)},Kt.prototype.where=function(e,t){return this.throwIfDisposed(),ga(e,this,t)},Kt.prototype.zerosLike=function(){return this.throwIfDisposed(),Rr(this)},function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF"}(Zl||(Zl={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(Xl||(Xl={}));const Yl={};function Ql(e){return Yl[e]}function Jl(e,t,n,r,a){const s=t.inputParams[e];if(s&&void 0!==s.inputIndexStart){const e=s.inputIndexStart,i=0===s.inputIndexEnd?void 0:void 0===s.inputIndexEnd?e+1:s.inputIndexEnd;if("tensor"===s.type)return eu(t.inputNames[s.inputIndexStart],n,r,a);if("tensors"===s.type){return t.inputNames.slice(e,i).map((e=>eu(e,n,r,a)))}const o=eu(t.inputNames.slice(e)[0],n,r,a),l=o.dataSync();return"number"===s.type?l[0]:M(o.shape,l)}const i=t.attrParams[e];return i&&i.value}function eu(e,t,n,r){const[a,s]=ru(e);if(null!=r){const e=r.getHashTableHandleByName(a);if(null!=e)return e}const i=n.currentContextIds.find((e=>!!t[nu(a,e)]));return void 0!==i?t[nu(a,i)][s]:void 0}function tu(e,t){const[n,r]=ru(e);return[nu(n,t&&t.currentContextId),r]}function nu(e,t){return t?`${e}-${t}`:e}function ru(e){const t=e.split(":");if(1===t.length)return[e,0];return[t[0],Number(t[t.length-1])]}function au(e,t,n){let r=Jl("pad",e,t,n);if("explicit"===r){r=Jl("explicitPaddings",e,t,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)a[e][0]=r[2*e],a[e][1]=r[2*e+1];return a}return r}function su(e){return e.kept?e:ar(e)}const iu=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],ou=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],lu=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}],uu=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],cu=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],hu=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],du=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],pu=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],mu=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]}],fu=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}],gu=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],yu=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],bu=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],wu=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],vu=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],Au=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],xu=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]}];class ku{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[r,a,s,i,o,l,u,p,d,c,m,f,g,y,b,w,h].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,r=[],a=[],s=[],i=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?a.push(e[t.name]):null!=t.input&&0!==t.input.length||s.push(e[t.name]),e)),{});let o=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const h=Object.keys(i);h.forEach((e=>{const t=i[e];t.inputNames.forEach((e=>{const[n]=tu(e);t.inputs.push(i[n]),i[n].children.push(t)}))})),0===Object.keys(c).length?h.forEach((e=>{const t=i[e];0===t.children.length&&l.push(t)})):Object.keys(c).forEach((e=>{const[t]=tu(e),n=i[t];null!=n&&(n.signatureKey=c[e],l.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((e=>{const[t]=tu(e),n=i[t];n&&(n.signatureKey=u[e],o.push(n))})):o=r;let d={};null!=e.library&&null!=e.library.function&&(d=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const p={nodes:i,inputs:o,outputs:l,weights:a,placeholders:r,signature:t,functions:d};return s.length>0&&(p.initNodes=s),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=Ql(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.substr(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let a;switch(n.type){case"string":a=Su(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Su(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":a=Ru(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Ru(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":a=Iu(e.attr,n.tfName,n.defaultValue||0),void 0===a&&n.tfDeprecatedName&&(a=Iu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":a=zu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=zu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":a=Eu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Eu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":a=Fu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Fu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":a=Bu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Bu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":a=Mu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Mu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":a=Du(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Du(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":a=_u(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=_u(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":a=Nu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Nu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:a,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const a=[],s=[];e.signature.inputArg.forEach((e=>{const[t]=tu(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:Tu(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,a.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach((e=>{const[n]=tu(e);t.inputs.push(r[n]),r[n].children.push(t)}))}));const i=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=tu(i[e.name]),a=r[t];null!=a&&(a.defaultOutput=n,s.push(a))}));const o=this.mapArgsToSignature(e);return{nodes:r,inputs:a,outputs:s,weights:n,placeholders:[],signature:o}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function Cu(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=j().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function Su(e,t,n,r=!1){const a=e[t];return null!=a?Cu(a.s,r):n}function Eu(e,t,n){const r=e[t];return r?r.b:n}function Iu(e,t,n){const r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"==typeof a?a:parseInt(a,10)}function Tu(e){switch("string"==typeof e&&(e=Zl[e]),e){case Zl.DT_FLOAT:return"float32";case Zl.DT_INT32:case Zl.DT_INT64:case Zl.DT_INT8:case Zl.DT_UINT8:return"int32";case Zl.DT_BOOL:return"bool";case Zl.DT_DOUBLE:return"float32";case Zl.DT_STRING:return"string";default:return null}}function Nu(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function Du(e,t,n){const r=e[t];return r&&r.type?Tu(r.type):n}function _u(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>Tu(e))):n}function Ou(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"==typeof e.size?e.size:parseInt(e.size,10))):[]}function Bu(e,t,n){const r=e[t];return r&&r.shape?Ou(r.shape):n}function zu(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"==typeof e?e:parseInt(e,10))):n}function Ru(e,t,n,r=!1){const a=e[t];return a&&a.list&&a.list.s?a.list.s.map((e=>Cu(e,r))):n}function Mu(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>Ou(e))):n}function Fu(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class Pu{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return eu(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return eu(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Iu(this.node.rawAttrs,e,t);if(null!=n.s)return Su(this.node.rawAttrs,e,t);if(null!=n.b)return Eu(this.node.rawAttrs,e,t);if(null!=n.shape)return Bu(this.node.rawAttrs,e,t);if(null!=n.type)return Du(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return zu(this.node.rawAttrs,e,t);if(null!=n.list.s)return Ru(this.node.rawAttrs,e,t);if(null!=n.list.shape)return Mu(this.node.rawAttrs,e,t);if(null!=n.list.b)return Fu(this.node.rawAttrs,e,t);if(null!=n.list.type)return _u(this.node.rawAttrs,e,t)}return t}}const Lu=bn({addN_:function(e){A(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),A(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>gn(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!E(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return cn.runKernel(Y,r)}});function Vu(e,t,n=""){A(function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(-1!==e[n]&&-1!==t[n]&&e[n]!==t[n])return!1;return!0}(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}class Wu{constructor(e,t,n,r,a,s,i){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=s,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=kr(0),Oa(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),Vu(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,Oa(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return An([],[0].concat(this.elementShape));const n=this.readMany(e);return Vu(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),Er(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return An([],[0].concat(this.elementShape));const t=[];for(let e=0;e<this.size();e++)t.push(e);const n=this.readMany(t);return Vu(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),yr(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,Dr(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const a=0===n?0:t.size/n,s=[];_a((()=>{t=xr(t,[1,n,a]);for(let n=0;n<e.length;++n){const i=[0,0===n?0:r[n-1],0],o=[1,e[n],a];s[n]=xr(Sr(t,i,o),this.elementShape)}return s}));const i=[];for(let t=0;t<e.length;t++)i[t]=t;this.writeMany(i,s)}}class Uu{constructor(e,t,n,r=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);Vu(t,e.shape,"TensorList shape mismatch: "),Oa(e)})),this.idTensor=kr(0),this.maxNumElements=r,Oa(this.idTensor)}get id(){return this.idTensor.id}copy(){return new Uu([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);return Vu(e,this.elementShape,"TensorList shape mismatch: "),_a((()=>{const t=this.tensors.map((t=>xr(t,e)));return Er(t,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=this.tensors.pop();return Vu(n.shape,e,"TensorList shape mismatch: "),xr(n,e)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Vu(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Oa(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);this.tensors.length=e}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);return Vu(this.tensors[e].shape,t,"TensorList shape mismatch: "),this.tensors[e]}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Vu(this.elementShape,t.shape,"TensorList shape mismatch: "),Oa(t),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);return Vu(this.elementShape,n,"TensorList shape mismatch: "),0===(e=e.slice(0,this.size())).length?An([],[0].concat(this.elementShape)):_a((()=>{const t=e.map((e=>xr(this.tensors[e],n)));return Er(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);return Vu(this.elementShape,t,"TensorList shape mismatch: "),0===this.size()?An([],[0].concat(this.elementShape)):_a((()=>{const e=this.tensors.map((e=>xr(e,t)));return yr(e,0)}))}}const ju=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=Jl("thenBranch",e,t,n),a=Jl("elseBranch",e,t,n),s=Jl("cond",e,t,n),i=Jl("args",e,t,n);return(await s.data())[0]?n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=Jl("body",e,t,n),a=Jl("cond",e,t,n),s=Jl("args",e,t,n),i=await n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap),o=s.map((e=>e.id));let l=await i[0].data();i.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||e.dispose()}));let u=s;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map((e=>e.id));e.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const s=await n.functionMap[a].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await s[0].data(),s.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return u}case"LoopCond":return[su(Jl("pred",e,t,n))];case"Switch":{const r=Jl("pred",e,t,n);let a=Jl("data",e,t,n);return a.kept||(a=su(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==eu(e,t,n)));if(r){return[su(eu(r,t,n))]}return}case"Enter":{const r=Jl("frameName",e,t,n),a=Jl("tensor",e,t,n);return n.enterFrame(r),[su(a)]}case"Exit":{const r=Jl("tensor",e,t,n);return n.exitFrame(),[su(r)]}case"NextIteration":{const r=Jl("tensor",e,t,n);return n.nextIteration(),[su(r)]}case"TensorArrayV3":{const r=Jl("size",e,t,n),a=Jl("dtype",e,t,n),s=Jl("elementShape",e,t,n),i=Jl("dynamicSize",e,t,n),o=Jl("clearAfterRead",e,t,n),l=Jl("identicalElementShapes",e,t,n),u=Jl("name",e,t,n),c=new Wu(u,a,r,s,l,i,o);return n.addTensorArray(c),[c.idTensor,kr(1)]}case"TensorArrayWriteV3":{const r=Jl("tensorArrayId",e,t,n),a=Jl("index",e,t,n),s=Jl("tensor",e,t,n),i=n.getTensorArray(r.id);return i.write(a,s),[i.idTensor]}case"TensorArrayReadV3":{const r=Jl("tensorArrayId",e,t,n),a=Jl("index",e,t,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=Jl("tensorArrayId",e,t,n),a=Jl("indices",e,t,n),s=Jl("dtype",e,t,n);return[n.getTensorArray(r.id).gather(a,s)]}case"TensorArrayScatterV3":{const r=Jl("tensorArrayId",e,t,n),a=Jl("indices",e,t,n),s=Jl("tensor",e,t,n),i=n.getTensorArray(r.id);return i.scatter(a,s),[i.idTensor]}case"TensorArrayConcatV3":{const r=Jl("tensorArrayId",e,t,n),a=n.getTensorArray(r.id),s=Jl("dtype",e,t,n);return[a.concat(s)]}case"TensorArraySplitV3":{const r=Jl("tensorArrayId",e,t,n),a=Jl("tensor",e,t,n),s=Jl("lengths",e,t,n),i=n.getTensorArray(r.id);return i.split(s,a),[i.idTensor]}case"TensorArraySizeV3":{const r=Jl("tensorArrayId",e,t,n);return[kr(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=Jl("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=Jl("tensorListId",e,t,n),a=Jl("index",e,t,n),s=Jl("tensor",e,t,n),i=n.getTensorList(r.id);return i.setItem(a,s),[i.idTensor]}case"TensorListGetItem":{const r=Jl("tensorListId",e,t,n),a=Jl("index",e,t,n),s=Jl("elementShape",e,t,n),i=Jl("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(a,s,i)]}case"TensorListScatterV2":case"TensorListScatter":{const r=Jl("indices",e,t,n),a=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const a=Math.max(...t);if(null!=r&&-1!==r&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);const s=new Uu([],n,e.dtype,r),i=Dr(e,0);return t.forEach(((e,t)=>{s.setItem(e,i[t])})),s}(Jl("tensor",e,t,n),r,Jl("elementShape",e,t,n),Jl("numElements",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=Jl("elementShape",e,t,n),a=Jl("elementDType",e,t,n);let s;s="TensorListReserve"===e.op?"numElements":"maxNumElements";const i=function(e,t,n){return new Uu([],e,t,n)}(r,a,Jl(s,e,t,n));return n.addTensorList(i),[i.idTensor]}case"TensorListGather":{const r=Jl("tensorListId",e,t,n),a=Jl("indices",e,t,n),s=Jl("elementShape",e,t,n),i=Jl("elementDType",e,t,n);return[n.getTensorList(r.id).gather(a,i,s)]}case"TensorListStack":{const r=Jl("tensorListId",e,t,n),a=Jl("elementShape",e,t,n),s=Jl("elementDType",e,t,n),i=Jl("numElements",e,t,n);return[n.getTensorList(r.id).stack(a,s,i)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);Vu(e.shape.slice(1),t,"TensorList shape mismatch: ");const a=Dr(e);return new Uu(a,t,r)}(Jl("tensor",e,t,n),Jl("elementShape",e,t,n),Jl("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":{const r=Jl("tensorListId",e,t,n),a=n.getTensorList(r.id),s=Jl("dtype",e,t,n),i=Jl("elementShape",e,t,n);return[a.concat(s,i)]}case"TensorListPushBack":{const r=Jl("tensorListId",e,t,n),a=Jl("tensor",e,t,n),s=n.getTensorList(r.id);return s.pushBack(a),[s.idTensor]}case"TensorListPopBack":{const r=Jl("tensorListId",e,t,n),a=Jl("elementShape",e,t,n),s=Jl("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(a,s)]}case"TensorListSplit":{const r=Jl("tensor",e,t,n),a=Jl("elementShape",e,t,n),s=function(e,t,n){let r=0;const a=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const s=0===r?0:e.size/r,i=_a((()=>{const i=[];e=xr(e,[1,r,s]);for(let r=0;r<t.length;++r){const o=[0,0===r?0:a[r-1],0],l=[1,t[r],s];i[r]=xr(Sr(e,o,l),n)}return e.dispose(),i})),o=new Uu([],n,e.dtype,t.length);for(let e=0;e<i.length;e++)o.setItem(e,i[e]);return o}(r,Jl("lengths",e,t,n),a);return n.addTensorList(s),[s.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};function Gu(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Ar(e,ts(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function qu(e,t){let n=t;const r=ua(e.shape,t.shape);return r.length>0&&(n=Ea(n,r)),xr(n,e.shape)}function $u(e,t,n,r){if("linear"===t)return e;if("relu"===t)return $a(e);if("elu"===t)return hl(e);if("relu6"===t)return Pl(e);if("prelu"===t)return Rl(e,n);if("leakyrelu"===t)return kl(e,r);throw new Error(`Unknown fused activation ${t}.`)}const Hu=(e,t)=>!(e>0)||"linear"===t;const Ku=bn({fusedConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",!1===Hu(cn.state.gradientDepth,l)){let h=Fs(e,t,n,r,a,s,i);return null!=o&&(h=gr(h,o)),$u(h,l,u,c)}const h=gn(e,"x","conv2d"),d=gn(t,"filter","conv2d");let p=h,m=!1;3===h.rank&&(m=!0,p=xr(h,[1,h.shape[0],h.shape[1],h.shape[2]])),A(4===p.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`)),A(4===d.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`)),null!=i&&A(I(r),(()=>`Error in fused conv2d: pad must be an integer when using, dimRoundingMode ${i} but got pad ${r}.`)),A(p.shape[3]===d.shape[2],(()=>`Error in conv2d: depth of input (${p.shape[3]}) must match input depth for filter ${d.shape[2]}.`)),A(vs(n,s),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),A("NHWC"===a,(()=>`Error in conv2d: got dataFormat of ${a} but only NHWC is currently supported.`));const f=ms(p.shape,d.shape,n,s,r,i);let g,y;null!=o&&(g=gn(o,"bias","fused conv2d"),[g]=rn(g,h),ca(f.outShape,g.shape)),null!=u&&(y=gn(u,"prelu weights","fused conv2d"));const b=(e,t)=>{const[a,i,o,u]=t,c=Gu(e,o,l);A(ws(s),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`));const h=[Rs(i.shape,c,a,n,r),zs(i,c,a.shape,n,r)];if(null!=u){const e=qu(u,c);h.push(e)}return h},w={x:p,filter:d,bias:g,preluActivationWeights:y},v={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:i,activation:l,leakyreluAlpha:c};if(null==o){const e=Qa(((e,t,n)=>{let r=cn.runKernel(kt,w,v);return n([t,e,r]),m&&(r=xr(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(p,d)}{const e=Qa(((e,t,n,r)=>{let a=cn.runKernel(kt,w,v);return r([t,e,a,n]),m&&(a=xr(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}));return e(p,d,g)}}});const Zu=bn({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(!1===Hu(cn.state.gradientDepth,l)){let h=ol(e,t,n,r,a,s,i);return null!=o&&(h=gr(h,o)),$u(h,l,u,c)}const h=gn(e,"x","depthwiseConv2d"),d=gn(t,"filter","depthwiseConv2d");let p=h,m=!1;3===h.rank&&(m=!0,p=xr(h,[1,h.shape[0],h.shape[1],h.shape[2]])),A(4===p.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`)),A(4===d.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`)),A(p.shape[3]===d.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${p.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`)),null==s&&(s=[1,1]),A(vs(n,s),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),null!=i&&A(I(r),(()=>`Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode ${i} but got pad ${r}.`));const f=ms(p.shape,d.shape,n,s,r,i,!0);let g,y;null!=o&&(g=gn(o,"bias","fused conv2d"),[g]=rn(g,h),ca(f.outShape,g.shape)),null!=u&&(y=gn(u,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{A(ws(s),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`));const[a,o,u,c]=t,h=Gu(e,u,l),d=Zs(o.shape,h,a,n,r,s,i),p=Ks(o,h,a.shape,n,r,s,i);if(null!=c){return[d,p,qu(g,h)]}return[d,p]},w={x:p,filter:d,bias:g,preluActivationWeights:y},v={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:i,activation:l,leakyreluAlpha:c};if(null==o){const e=Qa(((e,t,n)=>{let r=cn.runKernel(Ct,w,v);return n([t,e,r]),m&&(r=xr(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(p,d)}{const e=Qa(((e,t,n,r)=>{let a=cn.runKernel(Ct,w,v);return r([t,e,a,n]),m&&(a=xr(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}));return e(p,d,g)}}});const Xu=bn({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:a,activation:s="linear",preluActivationWeights:i,leakyreluAlpha:o}){if(!1===Hu(cn.state.gradientDepth,s)){let l=Fa(e,t,n,r);return null!=a&&(l=gr(l,a)),$u(l,s,i,o)}let l=gn(e,"a","fused matMul"),u=gn(t,"b","fused matMul");[l,u]=rn(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],h=r?u.shape[u.rank-1]:u.shape[u.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=r?u.shape[u.rank-2]:u.shape[u.rank-1],m=l.shape.slice(0,-2),f=u.shape.slice(0,-2),g=S(m),y=S(f);A(l.rank>=2&&u.rank>=2&&l.rank===u.rank,(()=>`Error in fused matMul: inputs must have the same rank of at least 2, got ranks ${l.rank} and ${u.rank}.`)),A(E(m,f),(()=>`Error in fused matMul: outer dimensions (${m}) and (${f}) of Tensors with shapes ${l.shape} and ${u.shape} must match.`)),A(c===h,(()=>`Error in fused matMul: inner shapes (${c}) and (${h}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`));const b=l.shape.slice(0,-2).concat([d,p]),w=xr(l,n?[g,c,d]:[g,d,c]),v=xr(u,r?[y,p,h]:[y,h,p]);let x,k;null!=a&&(x=gn(a,"bias","fused matMul"),[x]=rn(x,l),ca(b,x.shape)),null!=i&&(k=gn(i,"prelu weights","fused matMul"));const C=(e,t)=>{const[i,o,l,u]=t,c=Gu(xr(e,l.shape),l,s);let h,d;if(n||r?!n&&r?(h=Fa(c,o,!1,!1),d=Fa(c,i,!0,!1)):n&&!r?(h=Fa(o,c,!1,!0),d=Fa(i,c,!1,!1)):(h=Fa(o,c,!0,!0),d=Fa(c,i,!0,!0)):(h=Fa(c,o,!1,!0),d=Fa(i,c,!0,!1)),null!=a){return[h,d,qu(u,c)]}return[h,d]},I={a:w,b:v,bias:x,preluActivationWeights:k},T={transposeA:n,transposeB:r,activation:s,leakyreluAlpha:o};if(null==a){const e=Qa(((e,t,n)=>{const r=cn.runKernel(xt,I,T);return n([e,t,r]),{value:xr(r,b),gradFunc:C}}));return e(w,v)}{const e=Qa(((e,t,n,r)=>{const a=cn.runKernel(xt,I,T);return r([e,t,a,n]),{value:xr(a,b),gradFunc:C}}));return e(w,v,x)}}});const Yu=bn({conv3d_:function(e,t,n,r,a="NDHWC",s=[1,1,1]){const i=gn(e,"x","conv3d"),o=gn(t,"filter","conv3d");let l=i,u=!1;4===i.rank&&(u=!0,l=xr(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),A(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),A(5===o.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`)),A(l.shape[4]===o.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`)),A(vs(n,s),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),A("NDHWC"===a,(()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`));const c={x:l,filter:o},h={strides:n,pad:r,dataFormat:a,dilations:s},d=cn.runKernel(ge,c,h);return u?xr(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Qu=bn({maxPoolWithArgmax_:function(e,t,n,r,a=!1){const s={x:gn(e,"x","maxPoolWithArgmax")},i={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},o=cn.runKernel("MaxPoolWithArgmax",s,i);return{result:o[0],indexes:o[1]}}});const Ju=bn({avgPool3d_:function(e,t,n,r,a,s="NDHWC",i){null==i?i=[1,1,1]:Da();const o=gn(e,"x","avgPool3d","float32");let l=o,u=!1;4===o.rank&&(u=!0,l=xr(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),A(5===l.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${l.rank}.`)),A("NDHWC"===s,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`)),A(vs(n,i),(()=>`Error in avgPool3d: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`)),null!=a&&A(I(r),(()=>`Error in avgPool3d: pad must be an integer when using, dimRoundingMode ${a} but got pad ${r}.`));const c={x:l},h={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:s,dilations:i};let d=cn.runKernel(ie,c,h);return d=rr(d,l.dtype),u?xr(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const ec=bn({maxPool3d_:function(e,t=[1,1,1],n,r,a,s="NDHWC",i){null==i?i=[1,1,1]:Da();const o=gn(e,"x","maxPool3d");let l=o,u=!1;4===o.rank&&(u=!0,l=xr(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),A(5===l.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${l.rank}.`)),A("NDHWC"===s,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`)),A(vs(n,i),(()=>`Error in maxPool3d: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`)),null!=a&&A(I(r),(()=>`Error in maxPool3d: pad must be an integer when using, dimRoundingMode ${a} but got pad ${r}.`));const c={x:l},h={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:s,dilations:i},d=cn.runKernel(Fe,c,h);return u?xr(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});function tc(e,t,n){const[r,a]=Jl("fusedOps",e,t,n),s="biasadd"===r,i="prelu"===a,o="fusedbatchnorm"===r,l=Jl("numArgs",e,t,n);if(s){if(i&&2!==l)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&1!==l)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(o)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported.");const u=Jl("strides",e,t,n),c=au(e,t,n),h=Jl("dataFormat",e,t,n).toUpperCase(),d=Jl("dilations",e,t,n),[p,m]=Jl("args",e,t,n);return{stride:u,pad:c,dataFormat:h,dilations:d,biasArg:p,preluArg:m,activationFunc:a,leakyreluAlpha:Jl("leakyreluAlpha",e,t,n)}}function nc(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return cn.runKernel("LinSpace",{},r)}const rc=bn({multinomial_:function(e,t,n,r=!1){const a=gn(e,"logits","multinomial"),s=a.size,i=a.rank;if(s<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${s}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const o={logits:1===i?xr(a,[1,-1]):a},l={numSamples:t,seed:n,normalized:r},u=cn.runKernel("Multinomial",o,l);return 1===i?xr(u,[u.size]):u}});var ac=n(2331);class sc{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const s=a||Math.random();this.random=ac.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,s;do{r=2*this.random()-1,a=2*this.random()-1,s=r*r+a*a}while(s>=1||0===s);const i=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*r*i,t=this.mean+this.stdDev*a*i,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class ic{constructor(e=0,t=1,n,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=ac.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const oc=bn({randomUniform_:function(e,t=0,n=1,r="float32",a){const s=nr(e,r),i=new ic(t,n,null,a);for(let e=0;e<s.values.length;e++)s.values[e]=i.nextValue();return s.toTensor()}});const lc=bn({truncatedNormal_:function(e,t=0,n=1,r,a){if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const s=new sc(t,n,r,!0,a),i=nr(e,r);for(let e=0;e<i.values.length;e++)i.values[e]=s.nextValue();return i.toTensor()}});const uc=async function(e){const t=gn(e,"condition","whereAsync","bool"),n=await t.data(),r=function(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const r=nr(e,"int32"),a=nr([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const s=r.indexToLoc(n[t]),i=t*e.length;a.values.set(s,i)}return a.toTensor()}(t.shape,n);return e!==t&&t.dispose(),r};const cc=async function(e,t){const n=gn(e,"x","setdiff1d"),r=gn(t,"y","setdiff1d");A(n.dtype===r.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`)),A(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),A(1===r.rank,(()=>`y should be 1D tensor, but got y (${r.shape}).`));const a=await n.data(),s=await r.data(),i=new Set(s);let o=0;for(let e=0;e<a.length;e++)i.has(a[e])||o++;const l=new Gt([o],n.dtype),u=new Gt([o],"int32");for(let e=0,t=0;e<a.length;e++)i.has(a[e])||(l.values[t]=a[e],u.values[t]=e,t++);return[l.toTensor(),u.toTensor()]};function hc(e,t,n){return{boxes:Jl("boxes",e,t,n),scores:Jl("scores",e,t,n),maxOutputSize:Jl("maxOutputSize",e,t,n),iouThreshold:Jl("iouThreshold",e,t,n),scoreThreshold:Jl("scoreThreshold",e,t,n),softNmsSigma:Jl("softNmsSigma",e,t,n)}}class dc{constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=kr(0),this.tensorMap=new Map,Oa(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),_a((()=>{const e=Dr(t),r=n.length,a=e.length;A(r===a,(()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${a} elements.`));for(let t=0;t<r;t++){const r=n[t],a=e[t];Oa(a),this.tensorMap.set(r,a)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return _a((()=>{const e=[];for(let r=0;r<n.length;r++){const a=n[r],s=this.findWithDefault(a,t);e.push(s)}return Er(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}const pc=bn({sparseToDense_:function(e,t,n,r=0){const a=gn(e,"sparseIndices","sparseToDense","int32"),s=gn(t,"sparseValues","sparseToDense"),i=gn(r,"defaultValue","sparseToDense",s.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const a=e.rank>0?e.shape[0]:1,s=e.rank>1?e.shape[1]:1;if(n.length!==s)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${s}.`);const i=t.size;if(0!==t.rank&&(1!==t.rank||i!==a))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${a}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,s,n,i);const o={sparseIndices:a,sparseValues:s,defaultValue:i},l={outputShape:n};return cn.runKernel("SparseToDense",o,l)}});const mc=bn({bincount_:function(e,t,n){const r=gn(e,"x","bincount"),a=gn(t,"weights","bincount");A("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),A(n>=0,(()=>`size must be non-negative, but got ${n}.`)),A(a.size===r.size||0===a.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`));const s={x:r,weights:a},i={size:n};return cn.runKernel("Bincount",s,i)}});const fc=bn({denseBincount_:function(e,t,n,r=!1){const a=gn(e,"x","denseBincount"),s=gn(t,"weights","denseBincount");A("int32"===a.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`)),A(a.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`)),A(n>=0,(()=>`size must be non-negative, but got ${n}.`)),A(s.size===a.size||0===s.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${s.shape}.`));const i={x:a,weights:s},o={size:n,binaryOutput:r};return cn.runKernel("DenseBincount",i,o)}});function gc(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}!function(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(s+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(s+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(s+" update.rank != "+(a+e.length-r));for(let e=0;e<a;++e)if(n.shape[e]!==t.shape[e])throw new Error(s+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-a;++t)if(n.shape[t+a]!==e[t+r])throw new Error(s+` updates.shape[${t+a}] (${n.shape[t+a]}) != shape[${t+a}] (${e[t+a]})`)}(n,t,e)}const yc=bn({scatterND_:function(e,t,n){const r=gn(e,"indices","scatterND","int32"),a=gn(t,"updates","scatterND");gc(a,r,n);const s={indices:r,updates:a},i={shape:n};return cn.runKernel("ScatterNd",s,i)}});const bc=bn({gatherND_:function(e,t){const n=gn(t,"indices","gatherND","int32"),r={params:gn(e,"x","gatherND"),indices:n};return cn.runKernel("GatherNd",r)}});function wc(e,t,n,r){const a=((e,t,n)=>{switch(e.category){case"arithmetic":return _a((()=>((e,t,n)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[gr(Jl("a",e,t,n),Jl("b",e,t,n))];case"AddN":return[Lu(Jl("tensors",e,t,n))];case"FloorMod":case"Mod":return[Ro(Jl("a",e,t,n),Jl("b",e,t,n))];case"Mul":return[Ar(Jl("a",e,t,n),Jl("b",e,t,n))];case"RealDiv":case"Div":return[vr(Jl("a",e,t,n),Jl("b",e,t,n))];case"DivNoNan":return[ul(Jl("a",e,t,n),Jl("b",e,t,n))];case"FloorDiv":return[wr(Jl("a",e,t,n),Jl("b",e,t,n))];case"Sub":return[Ir(Jl("a",e,t,n),Jl("b",e,t,n))];case"Minimum":return[Ha(Jl("a",e,t,n),Jl("b",e,t,n))];case"Maximum":return[Do(Jl("a",e,t,n),Jl("b",e,t,n))];case"Pow":return[ka(Jl("a",e,t,n),Jl("b",e,t,n))];case"SquaredDifference":return[Za(Jl("a",e,t,n),Jl("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return _a((()=>((e,t,n)=>{switch(e.op){case"Abs":case"ComplexAbs":return[ya(Jl("x",e,t,n))];case"Acos":return[Bo(Jl("x",e,t,n))];case"Acosh":return[zo(Jl("x",e,t,n))];case"Asin":return[Zo(Jl("x",e,t,n))];case"Asinh":return[Xo(Jl("x",e,t,n))];case"Atan":return[Yo(Jl("x",e,t,n))];case"Atan2":return[Qo(Jl("x",e,t,n),Jl("y",e,t,n))];case"Atanh":return[Jo(Jl("x",e,t,n))];case"Ceil":return[nl(Jl("x",e,t,n))];case"Complex":return[wn(Jl("real",e,t,n),Jl("imag",e,t,n))];case"Cos":return[io(Jl("x",e,t,n))];case"Cosh":return[lo(Jl("x",e,t,n))];case"Elu":return[hl(Jl("x",e,t,n))];case"Erf":return[bl(Jl("x",e,t,n))];case"Exp":return[Xa(Jl("x",e,t,n))];case"Expm1":return[wl(Jl("x",e,t,n))];case"Floor":return[Ri(Jl("x",e,t,n))];case"Log":return[Ka(Jl("x",e,t,n))];case"Log1p":return[Ya(Jl("x",e,t,n))];case"Imag":return[_r(Jl("x",e,t,n))];case"Neg":return[Pa(Jl("x",e,t,n))];case"Reciprocal":return[Fl(Jl("x",e,t,n))];case"Real":return[Or(Jl("x",e,t,n))];case"Relu":return[$a(Jl("x",e,t,n))];case"Round":return[Ll(Jl("x",e,t,n))];case"Selu":return[Vl(Jl("x",e,t,n))];case"Sigmoid":return[Cr(Jl("x",e,t,n))];case"Sin":return[Us(Jl("x",e,t,n))];case"Sign":return[Ul(Jl("x",e,t,n))];case"Sinh":return[Gs(Jl("x",e,t,n))];case"Softplus":return[Sl(Jl("x",e,t,n))];case"Sqrt":return[Ca(Jl("x",e,t,n))];case"Square":return[Sa(Jl("x",e,t,n))];case"Tanh":return[$l(Jl("x",e,t,n))];case"Tan":return[ql(Jl("x",e,t,n))];case"ClipByValue":return[rl(Jl("x",e,t,n),Jl("clipValueMin",e,t,n),Jl("clipValueMax",e,t,n))];case"Relu6":return[Pl(Jl("x",e,t,n))];case"Rsqrt":return[si(eu(e.inputNames[0],t,n))];case"Prod":return[Ml(Jl("x",e,t,n),Jl("axes",e,t,n))];case"LeakyRelu":return[kl(Jl("x",e,t,n),Jl("alpha",e,t,n))];case"Prelu":return[Rl(Jl("x",e,t,n),Jl("alpha",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return ju(e,t,n);case"convolution":return _a((()=>((e,t,n)=>{switch(e.op){case"Conv1D":{const r=Jl("stride",e,t,n),a=Jl("pad",e,t,n),s=Jl("dataFormat",e,t,n).toUpperCase(),i=Jl("dilation",e,t,n);return[al(Jl("x",e,t,n),Jl("filter",e,t,n),r,a,s,i)]}case"Conv2D":{const r=Jl("strides",e,t,n),a=au(e,t,n),s=Jl("dataFormat",e,t,n).toUpperCase(),i=Jl("dilations",e,t,n);return[Fs(Jl("x",e,t,n),Jl("filter",e,t,n),[r[1],r[2]],a,s,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:r,pad:a,dataFormat:s,dilations:i,biasArg:o,preluArg:l,activationFunc:u,leakyreluAlpha:c}=tc(e,t,n);return[Ku({x:Jl("x",e,t,n),filter:Jl("filter",e,t,n),strides:[r[1],r[2]],pad:a,dataFormat:s,dilations:[i[1],i[2]],bias:o,activation:u,preluActivationWeights:l,leakyreluAlpha:c})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:a,dataFormat:s,dilations:i,biasArg:o,preluArg:l,activationFunc:u,leakyreluAlpha:c}=tc(e,t,n);return[Zu({x:Jl("x",e,t,n),filter:Jl("filter",e,t,n),strides:[r[1],r[2]],pad:a,dataFormat:s,dilations:[i[1],i[2]],bias:o,activation:u,preluActivationWeights:l,leakyreluAlpha:c})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=Jl("outputShape",e,t,n),a=Jl("strides",e,t,n),s=au(e,t,n);return[sl(Jl("x",e,t,n),Jl("filter",e,t,n),r,[a[1],a[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=Jl("strides",e,t,n),a=au(e,t,n),s=Jl("dilations",e,t,n),i=Jl("dataFormat",e,t,n).toUpperCase();return[ol(Jl("input",e,t,n),Jl("filter",e,t,n),[r[1],r[2]],a,i,[s[1],s[2]])]}case"Conv3D":{const r=Jl("strides",e,t,n),a=Jl("pad",e,t,n),s=Jl("dataFormat",e,t,n).toUpperCase(),i=Jl("dilations",e,t,n);return[Yu(Jl("x",e,t,n),Jl("filter",e,t,n),[r[1],r[2],r[3]],a,s,[i[1],i[2],i[3]])]}case"AvgPool":{const r=Jl("strides",e,t,n),a=Jl("pad",e,t,n),s=Jl("kernelSize",e,t,n);return[el(Jl("x",e,t,n),[s[1],s[2]],[r[1],r[2]],a)]}case"MaxPool":{const r=Jl("strides",e,t,n),a=Jl("pad",e,t,n),s=Jl("kernelSize",e,t,n);return[Dl(Jl("x",e,t,n),[s[1],s[2]],[r[1],r[2]],a)]}case"MaxPoolWithArgmax":{const r=Jl("strides",e,t,n),a=Jl("pad",e,t,n),s=Jl("kernelSize",e,t,n),i=Jl("includeBatchInIndex",e,t,n),{result:o,indexes:l}=Qu(Jl("x",e,t,n),[s[1],s[2]],[r[1],r[2]],a,i);return[o,l]}case"AvgPool3D":{const r=Jl("strides",e,t,n),a=Jl("pad",e,t,n),s=Jl("kernelSize",e,t,n);return[Ju(Jl("x",e,t,n),[s[1],s[2],s[3]],[r[1],r[2],r[3]],a)]}case"MaxPool3D":{const r=Jl("strides",e,t,n),a=Jl("pad",e,t,n),s=Jl("kernelSize",e,t,n);return[ec(Jl("x",e,t,n),[s[1],s[2],s[3]],[r[1],r[2],r[3]],a)]}case"Dilation2D":{const r=Jl("strides",e,t,n),a=Jl("pad",e,t,n),s=Jl("dilations",e,t,n),i=r[1],o=r[2],l=s[1],u=s[2];return[ll(Jl("x",e,t,n),Jl("filter",e,t,n),[i,o],a,[l,u],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return _a((()=>((e,t,n)=>{switch(e.op){case"Fill":{const r=Jl("shape",e,t,n),a=Jl("dtype",e,t,n);return[jr(r,Jl("value",e,t,n),a)]}case"LinSpace":return[nc(Jl("start",e,t,n),Jl("stop",e,t,n),Jl("num",e,t,n))];case"Multinomial":{const r=Jl("logits",e,t,n),a=Jl("numSamples",e,t,n),s=Jl("seed",e,t,n);return[rc(r,a,s)]}case"OneHot":{const r=Jl("indices",e,t,n),a=Jl("depth",e,t,n),s=Jl("onValue",e,t,n),i=Jl("offValue",e,t,n);return[Ol(r,a,s,i)]}case"Ones":return[Ga(Jl("shape",e,t,n),Jl("dtype",e,t,n))];case"OnesLike":return[Bl(Jl("x",e,t,n))];case"RandomUniform":return[oc(Jl("shape",e,t,n),Jl("minval",e,t,n),Jl("maxval",e,t,n),Jl("dtype",e,t,n))];case"Range":return[ma(Jl("start",e,t,n),Jl("stop",e,t,n),Jl("step",e,t,n),Jl("dtype",e,t,n))];case"TruncatedNormal":{const r=Jl("shape",e,t,n),a=Jl("mean",e,t,n),s=Jl("stdDev",e,t,n),i=Jl("seed",e,t,n);return[lc(r,a,s,Jl("dtype",e,t,n),i)]}case"Zeros":return[zr(Jl("shape",e,t,n),Jl("dtype",e,t,n))];case"ZerosLike":return[Rr(Jl("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:a,maxOutputSize:s,iouThreshold:i,scoreThreshold:o,softNmsSigma:l}=hc(e,t,n),u=await es.nonMaxSuppressionWithScoreAsync(r,a,s,i,o,l);return[u.selectedIndices,u.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:a,maxOutputSize:s,iouThreshold:i,scoreThreshold:o}=hc(e,t,n),l=Jl("padToMaxOutputSize",e,t,n),u=await es.nonMaxSuppressionPaddedAsync(r,a,s,i,o,l);return[u.selectedIndices,u.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:a,maxOutputSize:s,iouThreshold:i,scoreThreshold:o}=hc(e,t,n);return[await es.nonMaxSuppressionAsync(r,a,s,i,o)]}case"Where":{const r=rr(Jl("condition",e,t,n),"bool"),a=[await uc(r)];return r.dispose(),a}case"ListDiff":return cc(Jl("x",e,t,n),Jl("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return _a((()=>((e,t,n)=>{switch(e.op){case"TopKV2":{const r=Jl("x",e,t,n),a=Jl("k",e,t,n),s=Jl("sorted",e,t,n),i=Hl(r,a,s);return[i.values,i.indices]}case"Unique":{const r=Jl("x",e,t,n),a=Kl(r);return[a.values,a.indices]}case"UniqueV2":{const r=Jl("x",e,t,n),a=Jl("axis",e,t,n),s=Kl(r,a);return[s.values,s.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return _a((()=>((e,t,n)=>{switch(e.op){case"ResizeBilinear":{const r=Jl("images",e,t,n),a=Jl("size",e,t,n),s=Jl("alignCorners",e,t,n),i=Jl("halfPixelCenters",e,t,n);return[es.resizeBilinear(r,[a[0],a[1]],s,i)]}case"ResizeNearestNeighbor":{const r=Jl("images",e,t,n),a=Jl("size",e,t,n),s=Jl("alignCorners",e,t,n),i=Jl("halfPixelCenters",e,t,n);return[es.resizeNearestNeighbor(r,[a[0],a[1]],s,i)]}case"CropAndResize":{const r=Jl("image",e,t,n),a=Jl("boxes",e,t,n),s=Jl("boxInd",e,t,n),i=Jl("cropSize",e,t,n),o=Jl("method",e,t,n),l=Jl("extrapolationValue",e,t,n);return[es.cropAndResize(r,a,s,i,o,l)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return _a((()=>((e,t,n)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const r=Jl("default",e,t,n);return[eu(e.name,t,n)||r];case"Placeholder":return[eu(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[su(Jl("x",e,t,n))];case"IdentityN":return Jl("x",e,t,n).map((e=>su(e)));case"Shape":return[Tr(Jl("x",e,t,n).shape,"int32")];case"ShapeN":return Jl("x",e,t,n).map((e=>Tr(e.shape)));case"Size":return[kr(Jl("x",e,t,n).size,"int32")];case"Rank":return[kr(Jl("x",e,t,n).rank,"int32")];case"NoOp":return[kr(1)];case"Print":const a=Jl("x",e,t,n),s=Jl("data",e,t,n);Jl("message",e,t,n),Jl("summarize",e,t,n);for(let e=0;e<s.length;e++);return[a];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return _a((()=>((e,t,n)=>{switch(e.op){case"Equal":return[xi(Jl("a",e,t,n),Jl("b",e,t,n))];case"NotEqual":return[ja(Jl("a",e,t,n),Jl("b",e,t,n))];case"Greater":return[Ma(Jl("a",e,t,n),Jl("b",e,t,n))];case"GreaterEqual":return[ha(Jl("a",e,t,n),Jl("b",e,t,n))];case"Less":return[Si(Jl("a",e,t,n),Jl("b",e,t,n))];case"LessEqual":return[da(Jl("a",e,t,n),Jl("b",e,t,n))];case"LogicalAnd":return[pa(Jl("a",e,t,n),Jl("b",e,t,n))];case"LogicalNot":return[to(Jl("a",e,t,n))];case"LogicalOr":return[Tl(Jl("a",e,t,n),Jl("b",e,t,n))];case"Select":case"SelectV2":return[ga(Jl("condition",e,t,n),Jl("a",e,t,n),Jl("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return _a((()=>((e,t,n)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[Fa(Jl("a",e,t,n),Jl("b",e,t,n),Jl("transposeA",e,t,n),Jl("transposeB",e,t,n))];case"Transpose":return[La(Jl("x",e,t,n),Jl("perm",e,t,n))];case"_FusedMatMul":const[r,a]=Jl("fusedOps",e,t,n),s="biasadd"===r,i="prelu"===a,o=Jl("numArgs",e,t,n),l=Jl("leakyreluAlpha",e,t,n);if(s){if(i&&2!==o)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&1!==o)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,c]=Jl("args",e,t,n);return[Xu({a:Jl("a",e,t,n),b:Jl("b",e,t,n),transposeA:Jl("transposeA",e,t,n),transposeB:Jl("transposeB",e,t,n),bias:u,activation:a,preluActivationWeights:c,leakyreluAlpha:l})];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return _a((()=>((e,t,n)=>{switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[tl(Jl("x",e,t,n),Jl("mean",e,t,n),Jl("variance",e,t,n),Jl("offset",e,t,n),Jl("scale",e,t,n),Jl("epsilon",e,t,n))];case"LRN":return[Cl(Jl("x",e,t,n),Jl("radius",e,t,n),Jl("bias",e,t,n),Jl("alpha",e,t,n),Jl("beta",e,t,n))];case"Softmax":return[jl(Jl("x",e,t,n))];case"LogSoftmax":return[Il(Jl("x",e,t,n))];case"SparseToDense":return[pc(Jl("sparseIndices",e,t,n),Jl("outputShape",e,t,n),Jl("sparseValues",e,t,n),Jl("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return _a((()=>((e,t,n)=>{switch(e.op){case"Max":{const r=Jl("axis",e,t,n),a=Jl("keepDims",e,t,n);return[Aa(Jl("x",e,t,n),r,a)]}case"Mean":{const r=Jl("axis",e,t,n),a=Jl("keepDims",e,t,n);return[Ua(Jl("x",e,t,n),r,a)]}case"Min":{const r=Jl("axis",e,t,n),a=Jl("keepDims",e,t,n);return[xa(Jl("x",e,t,n),r,a)]}case"Sum":{const r=Jl("axis",e,t,n),a=Jl("keepDims",e,t,n);return[Ea(Jl("x",e,t,n),r,a)]}case"All":{const r=Jl("axis",e,t,n),a=Jl("keepDims",e,t,n);return[qo(Jl("x",e,t,n),r,a)]}case"Any":{const r=Jl("axis",e,t,n),a=Jl("keepDims",e,t,n);return[$o(Jl("x",e,t,n),r,a)]}case"ArgMax":{const r=Jl("axis",e,t,n);return[Ho(Jl("x",e,t,n),r)]}case"ArgMin":{const r=Jl("axis",e,t,n);return[Ko(Jl("x",e,t,n),r)]}case"Prod":{const r=Jl("axis",e,t,n),a=Jl("keepDims",e,t,n);return[Ml(Jl("x",e,t,n),r,a)]}case"Cumsum":{const r=Jl("axis",e,t,n),a=Jl("exclusive",e,t,n),s=Jl("reverse",e,t,n);return[$s(Jl("x",e,t,n),r,a,s)]}case"Bincount":const r=Jl("x",e,t,n),a=Jl("weights",e,t,n),s=Jl("size",e,t,n);return[mc(r,a,s)];case"DenseBincount":{const r=Jl("x",e,t,n),a=Jl("weights",e,t,n),s=Jl("size",e,t,n),i=Jl("binaryOutput",e,t,n);return[fc(r,a,s,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return _a((()=>((e,t,n)=>{switch(e.op){case"ConcatV2":case"Concat":{const r=Jl("n",e,t,n),a=Jl("axis",e,t,n);let s=Jl("tensors",e,t,n);return s=s.slice(0,r),[yr(s,a)]}case"Gather":{const r=Jl("x",e,t,n),a=Jl("indices",e,t,n);return[No(r,rr(a,"int32"),0)]}case"GatherV2":{const r=Jl("axis",e,t,n),a=Jl("batchDims",e,t,n),s=Jl("x",e,t,n),i=Jl("indices",e,t,n);return[No(s,rr(i,"int32"),r,a)]}case"Reverse":{const r=Jl("dims",e,t,n),a=[];for(let e=0;e<r.length;e++)r[e]&&a.push(e);const s=Jl("x",e,t,n);return[Lr(s,a)]}case"ReverseV2":{const r=Jl("axis",e,t,n),a=Jl("x",e,t,n);return[Lr(a,r)]}case"Slice":{const r=Jl("begin",e,t,n),a=Jl("size",e,t,n);return[Sr(Jl("x",e,t,n),r,a)]}case"StridedSlice":{const r=Jl("begin",e,t,n),a=Jl("end",e,t,n),s=Jl("strides",e,t,n),i=Jl("beginMask",e,t,n),o=Jl("endMask",e,t,n),l=Jl("ellipsisMask",e,t,n),u=Jl("newAxisMask",e,t,n),c=Jl("shrinkAxisMask",e,t,n),h=Jl("x",e,t,n);return[Gl(h,r,a,s,i,o,l,u,c)]}case"Pack":return _a((()=>{const r=Jl("axis",e,t,n),a=Jl("tensors",e,t,n),s=a[0].shape,i=Na(a[0]).shape,o=a.map((e=>{const t=E(e.shape,s);if(!t&&!E(Na(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:xr(e,s)}));return[Er(o,r)]}));case"Unpack":{const r=Jl("axis",e,t,n),a=Jl("tensor",e,t,n);return Dr(a,r)}case"Tile":{const r=Jl("reps",e,t,n);return[za(Jl("x",e,t,n),r)]}case"Split":case"SplitV":{const r=Jl("axis",e,t,n),a=Jl("numOrSizeSplits",e,t,n),s=Jl("x",e,t,n);return Br(s,a,r)}case"ScatterNd":{const r=Jl("indices",e,t,n),a=Jl("values",e,t,n),s=Jl("shape",e,t,n);return[yc(r,a,s)]}case"GatherNd":{const r=Jl("x",e,t,n),a=Jl("indices",e,t,n);return[bc(r,a)]}case"SparseToDense":{const r=Jl("sparseIndices",e,t,n),a=Jl("outputShape",e,t,n),s=Jl("sparseValues",e,t,n),i=Jl("defaultValue",e,t,n);return[pc(r,s,a,s.dtype===i.dtype?i:rr(i,s.dtype))]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return _a((()=>((e,t,n)=>{switch(e.op){case"FFT":return[Mr(Jl("x",e,t,n))];case"IFFT":return[Pr(Jl("x",e,t,n))];case"RFFT":return[Fr(Jl("x",e,t,n))];case"IRFFT":return[Vr(Jl("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return _a((()=>((e,t,n)=>{switch(e.op){case"Cast":return[rr(Jl("x",e,t,n),Jl("dtype",e,t,n))];case"ExpandDims":{const r=Jl("axis",e,t,n);return[Ba(Jl("x",e,t,n),r)]}case"Squeeze":{const r=Jl("axis",e,t,n);return[Na(Jl("x",e,t,n),r)]}case"Reshape":return[xr(Jl("x",e,t,n),Jl("shape",e,t,n))];case"MirrorPad":return[_l(Jl("x",e,t,n),Jl("padding",e,t,n),Jl("mode",e,t,n))];case"PadV2":case"Pad":return[co(Jl("x",e,t,n),Jl("padding",e,t,n),Jl("constantValue",e,t,n))];case"SpaceToBatchND":{const r=Jl("blockShape",e,t,n),a=Jl("paddings",e,t,n);return[Es(Jl("x",e,t,n),r,a)]}case"BatchToSpaceND":{const r=Jl("blockShape",e,t,n),a=Jl("crops",e,t,n);return[fo(Jl("x",e,t,n),r,a)]}case"DepthToSpace":{const r=Jl("blockSize",e,t,n),a=Jl("dataFormat",e,t,n).toUpperCase();return[il(Jl("x",e,t,n),r,a)]}case"BroadcastTo":return[fa(Jl("x",e,t,n),Jl("shape",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const a=Jl("keyDType",e,t,n),s=Jl("valueDType",e,t,n),i=new dc(a,s);return r.addHashTable(e.name,i),[i.handle]}case"LookupTableImport":case"LookupTableImportV2":{const a=Jl("tableHandle",e,t,n,r),s=Jl("keys",e,t,n),i=Jl("values",e,t,n),o=r.getHashTableById(a.id);return[await o.import(s,i)]}case"LookupTableFind":case"LookupTableFindV2":{const a=Jl("tableHandle",e,t,n,r),s=Jl("keys",e,t,n),i=Jl("defaultValue",e,t,n),o=r.getHashTableById(a.id);return[await o.find(s,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const a=Ql(e.op);if(a&&a.customExecutor)return a.customExecutor(new Pu(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return V(a)?a.then((e=>[].concat(e))):[].concat(a)}class vc{constructor(e={},t={},n={},r={}){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function Ac(e,t,n,r){const a=new Set,s=[];let i=null,o=null;const l=new Set,u=Object.keys(e).map((e=>ru(e)[0]));let c=[];null!=r&&(c=r.map((e=>ru(e.name)[0])));const h=[...t];for(;h.length>0;){const e=h.pop();(Sc(e)||Ec(e)||Ic(e))&&null==i&&(i=e,o=i.children.map((e=>e.name)).filter((e=>a.has(e)))),a.add(e.name),null==n[e.name]&&(-1===u.indexOf(e.name)&&-1===c.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),h.push(e))})):s.push(e.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:s,dynamicNode:i,syncInputs:o}}const xc=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],kc=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],Cc=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2"];function Sc(e){return xc.indexOf(e.op)>=0}function Ec(e){return kc.indexOf(e.op)>=0}function Ic(e){return Cc.indexOf(e.op)>=0}class Tc{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new Tc(e.functions[t],this)}))}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}compile(e,t){const n=Ac(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:s}=n;if(null!=a)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${s}]`);if(r.length>0){const n=t.map((e=>e.name)),a=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${a}]. Missing the following inputs: [${r}]`)}return function(e,t,n){const{usedNodes:r,inputs:a}=n,s=[],i=Object.keys(a).map((e=>ru(e)[0])).map((t=>e.nodes[t])),o=e.initNodes;i.forEach((e=>{r.has(e.name)&&s.push(e)})),e.weights.forEach((e=>{r.has(e.name)&&s.push(e)})),null!=o&&o.forEach((e=>{r.has(e.name)&&s.push(e)}));const l=new Set,u=[];for(;s.length>0;){const e=s.pop();l.add(e.name),t[e.name]||u.push(e),e.children.forEach((e=>{!l.has(e.name)&&r.has(e.name)&&e.inputs.every((e=>l.has(e.name)))&&s.push(e)}))}return u}(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[ru(e)[0]])),a=t.map((e=>ru(e)[0]));let s=a.map((e=>this.graph.nodes[e]));0===s.length&&(s=this._outputs);const i=this.getCompilationKey(r,s);let o=this.compiledMap.get(i);null==o&&(o=this.compile(e,s),this.compiledMap.set(i,o));const l={},u={};return _a((()=>{const n=new vc(this.weightMap,l,u,this.functionExecutorMap),r=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,a]=ru(t),s=[];s[a]=e[t],r[n]=s}));const s=this.getFrozenTensorIds(r),i={};for(let e=0;e<o.length;e++){const t=o[e];if(!r[t.name]){const e=wc(t,r,n,this._resourceManager);if(V(e))throw new Error(`The execution of the op '${t.op}' returned a promise. Please use model.executeAsync() instead.`);r[t.name]=e,this.checkTensorForDisposal(t.name,t,r,n,s,a,i)}}return null==this.parent&&n.dispose(s),t.map((e=>eu(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,a,s,i){"control"!==t.category&&-1===s.indexOf(e)&&(n[e].forEach((e=>{null!=e&&(i[e.id]=(i[e.id]||0)+t.children.length)})),t.inputs.forEach((e=>{if("control"!==e.category){const t=function(e,t,n){return t[nu(e,n.currentContextId)]}(e.name,n,r);null!=t&&t.forEach((e=>{if(e&&!a.has(e.id)){const t=i[e.id];1===t?(e.dispose(),delete i[e.id]):null!=t&&i[e.id]--}}))}})))}async executeAsync(e,t){return this._executeAsync(e,t)}async _executeAsync(e,t,n=!1,r={},a={}){n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));const s=new vc(this.weightMap,r,a,this.functionExecutorMap),i=await this.executeWithControlFlow(e,s,t,n),o=t.map((e=>eu(e,i,s))),l=o.map((e=>e.id)),u=Object.keys(e).map((t=>e[t].id)),c=new Set([...l,...u,...this.weightIds]);return Object.keys(i).forEach((e=>{i[e].forEach((e=>{!e||e.isDisposed||c.has(e.id)||e.dispose()}))})),null==this.parent&&s.dispose(c),o}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const a=Object.keys(e),s=a.map((e=>this.graph.nodes[ru(e)[0]])),i=n.map((e=>ru(e)[0]));let o=i.map((e=>this.graph.nodes[e]));0===o.length&&(o=this._outputs);const{usedNodes:l,missingInputs:u,dynamicNode:c,syncInputs:h}=Ac(e,o,this.weightMap,this._initNodes),d=[...s,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),p=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=ru(t),a=[];a[r]=e[t],p[n]=a}));const m={},f=this.getFrozenTensorIds(p),g={};for(;d.length>0;){const e=this.processStack(s,d,t,p,g,f,i,m,l);await Promise.all(e)}const y=o.filter((e=>!Sc(e)&&!eu(e.name,p,t))).map((e=>e.name));if(y.length>0){let e="";throw null!=c&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${h}]`),new Error(`Cannot compute the outputs [${y}] from the provided inputs [${a}]. Consider providing the following inputs: [${u}]. ${e}`)}return p}processStack(e,t,n,r,a,s,i,o,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&Jl("isConstant",e.node,r,n)&&([c]=tu(e.node.name,n)),null==r[e.node.name]){const h=wc(e.node,r,n,this._resourceManager);c||([c]=tu(e.node.name,n));const d=n.currentContext;V(h)?u.push(h.then((u=>(r[c]=u,n.currentContext=d,this.checkTensorForDisposal(c,e.node,r,n,s,i,o),this.processChildNodes(e.node,t,n,r,a,l),u)))):(r[c]=h,this.checkTensorForDisposal(c,e.node,r,n,s,i,o),this.processChildNodes(e.node,t,n,r,a,l))}else this.processChildNodes(e.node,t,n,r,a,l)}return u}processChildNodes(e,t,n,r,a,s){e.children.forEach((e=>{const[i]=tu(e.name,n);!a[i]&&s.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!eu(e,r,n)))&&(a[i]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!eu(e,r,n)))&&(a[i]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=ru(t),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const e=a.attrParams.shape.value;A(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>`The shape of dict['${a.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}a.attrParams.dtype&&a.attrParams.dtype.value&&A(n.dtype===a.attrParams.dtype.value,(()=>`The dtype of dict['${a.name}'] provided in model.execute(dict) must be ${a.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){const t={};for(const n in e)if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]){t[this._signature.inputs[n].name]=e[n]}else t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=ru(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{if(null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]){return this._signature.outputs[e].name}return e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=ru(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class Nc{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}class Dc{constructor(e,t={}){this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={}),this.resourceManager=new Nc}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=pr(e,this.loadOptions);else{const r=(t=e,n=this.loadOptions,Nn.getLoadHandlers(t,n));if(0===r.length)r.push(pr(e,this.loadOptions));else if(r.length>1)throw new Error(`Found more than one (${r.length}) load handlers for URL '${[e]}'`);this.handler=r[0]}var t,n}async load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=await this.handler.load();return this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n;n=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const r=kn(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Tc(ku.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=ku.Instance.transformGraph(e.modelInitializer);this.initializer=new Tc(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,t){if("string"==typeof e){const t=(n=e,Nn.getSaveHandlers(n));if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}var n;if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){return this.execute(e,this.outputNodes)}normalizeInputs(e){if(!(e instanceof Kt||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce(((t,n,r)=>(t[n]=e[r],t)),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function _c(e,t={}){if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&null==e.load&&(e.endsWith("/")||(e+="/"),e=`${e}model.json?tfjs-format=file`);const n=new Dc(e,t);return await n.load(),n}var Oc=function(){return(Oc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Bc(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))}function zc(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}const Rc=e=>({startEndTensor:e,startPoint:Sr(e,[0,0],[-1,2]),endPoint:Sr(e,[0,2],[-1,2])}),Mc={strides:[8,16],anchors:[2,6]};function Fc(e,t){let n,r,a;if(e.topLeft instanceof Kt&&e.bottomRight instanceof Kt){const[s,i]=_a((()=>[yr([Ir(t-1,e.topLeft.slice(0,1)),e.topLeft.slice(1,1)]),yr([Ir(t-1,e.bottomRight.slice(0,1)),e.bottomRight.slice(1,1)])]));n=s,r=i,null!=e.landmarks&&(a=_a((()=>{const n=Ir(Tr([t-1,0]),e.landmarks),r=Tr([1,-1]);return Ar(n,r)})))}else{const[s,i]=e.topLeft,[o,l]=e.bottomRight;n=[t-1-s,i],r=[t-1-o,l],null!=e.landmarks&&(a=e.landmarks.map((e=>[t-1-e[0],e[1]])))}const s={topLeft:n,bottomRight:r};return null!=a&&(s.landmarks=a),null!=e.probability&&(s.probability=e.probability instanceof Kt?e.probability.clone():e.probability),s}function Pc(e,t){return _a((()=>{let n;return n=e.hasOwnProperty("box")?e.box:e,((e,t)=>{const n=Ar(e.startPoint,t),r=Ar(e.endPoint,t),a=br([n,r],1);return Rc(a)})(n,t).startEndTensor.squeeze()}))}class Lc{constructor(e,t,n,r,a,s){this.blazeFaceModel=e,this.width=t,this.height=n,this.maxFaces=r,this.anchorsData=function(e,t,n){const r=[];for(let a=0;a<n.strides.length;a++){const s=n.strides[a],i=Math.floor((t+s-1)/s),o=Math.floor((e+s-1)/s),l=n.anchors[a];for(let e=0;e<i;e++){const t=s*(e+.5);for(let e=0;e<o;e++){const n=s*(e+.5);for(let e=0;e<l;e++)r.push([n,t])}}}return r}(t,n,Mc),this.anchors=Nr(this.anchorsData),this.inputSizeData=[t,n],this.inputSize=Tr([t,n]),this.iouThreshold=a,this.scoreThreshold=s}async getBoundingBoxes(e,t,n=!0){const[r,a,s]=_a((()=>{const t=e.resizeBilinear([this.width,this.height]),n=Ar(Ir(t.div(255),.5),2),r=this.blazeFaceModel.predict(n).squeeze(),a=function(e,t,n){const r=Sr(e,[0,1],[-1,2]),a=gr(r,t),s=Sr(e,[0,3],[-1,2]),i=vr(s,n),o=vr(a,n),l=vr(i,2),u=Ir(o,l),c=gr(o,l),h=Ar(u,n),d=Ar(c,n);return br([h,d],1)}(r,this.anchors,this.inputSize),s=Sr(r,[0,0],[-1,1]);return[r,a,Cr(s).squeeze()]})),i=console.warn;console.warn=()=>{};const o=es.nonMaxSuppression(a,s,this.maxFaces,this.iouThreshold,this.scoreThreshold);console.warn=i;const l=await o.array();o.dispose();let u=l.map((e=>Sr(a,[e,0],[1,-1])));t||(u=await Promise.all(u.map((async e=>{const t=await e.array();return e.dispose(),t}))));const c=e.shape[1],h=e.shape[2];let d;d=t?vr([h,c],this.inputSize):[h/this.inputSizeData[0],c/this.inputSizeData[1]];const p=[];for(let e=0;e<u.length;e++){const a=u[e],i=_a((()=>{const i=Rc(a instanceof Kt?a:Nr(a));if(!n)return i;const o=l[e];let u;return u=t?this.anchors.slice([o,0],[1,2]):this.anchorsData[o],{box:i,landmarks:Sr(r,[o,5],[1,-1]).squeeze().reshape([6,-1]),probability:Sr(s,[o],[1]),anchor:u}}));p.push(i)}return a.dispose(),s.dispose(),r.dispose(),{boxes:p,scaleFactor:d}}async estimateFaces(e,t=!1,n=!1,r=!0){const[,a]=function(e){return e instanceof Kt?[e.shape[0],e.shape[1]]:[e.height,e.width]}(e),s=_a((()=>(e instanceof Kt||(e=fr(e)),e.toFloat().expandDims(0)))),{boxes:i,scaleFactor:o}=await this.getBoundingBoxes(s,t,r);return s.dispose(),t?i.map((e=>{const t=Pc(e,o);let s={topLeft:t.slice([0],[2]),bottomRight:t.slice([2],[2])};if(r){const{landmarks:t,probability:n,anchor:r}=e,a=t.add(r).mul(o);s.landmarks=a,s.probability=n}return n&&(s=Fc(s,a)),s})):Promise.all(i.map((async e=>{const t=Pc(e,o);let s;if(r){const[n,r,a]=await Promise.all([e.landmarks,t,e.probability].map((async e=>e.array()))),i=e.anchor,[l,u]=o,c=n.map((e=>[(e[0]+i[0])*l,(e[1]+i[1])*u]));s={topLeft:r.slice(0,2),bottomRight:r.slice(2),landmarks:c,probability:a},(e=>{e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose()})(e.box),e.landmarks.dispose(),e.probability.dispose()}else{const e=await t.array();s={topLeft:e.slice(0,2),bottomRight:e.slice(2)}}return t.dispose(),n&&(s=Fc(s,a)),s})))}}async function Vc({maxFaces:e=10,inputWidth:t=128,inputHeight:n=128,iouThreshold:r=.3,scoreThreshold:a=.75}={}){const s=await _c("https://tfhub.dev/tensorflow/tfjs-model/blazeface/1/default/1",{fromTFHub:!0});return new Lc(s,t,n,e,r,a)}var Wc={silhouette:[10,338,297,332,284,251,389,356,454,323,361,288,397,365,379,378,400,377,152,148,176,149,150,136,172,58,132,93,234,127,162,21,54,103,67,109],lipsUpperOuter:[61,185,40,39,37,0,267,269,270,409,291],lipsLowerOuter:[146,91,181,84,17,314,405,321,375,291],lipsUpperInner:[78,191,80,81,82,13,312,311,310,415,308],lipsLowerInner:[78,95,88,178,87,14,317,402,318,324,308],rightEyeUpper0:[246,161,160,159,158,157,173],rightEyeLower0:[33,7,163,144,145,153,154,155,133],rightEyeUpper1:[247,30,29,27,28,56,190],rightEyeLower1:[130,25,110,24,23,22,26,112,243],rightEyeUpper2:[113,225,224,223,222,221,189],rightEyeLower2:[226,31,228,229,230,231,232,233,244],rightEyeLower3:[143,111,117,118,119,120,121,128,245],rightEyebrowUpper:[156,70,63,105,66,107,55,193],rightEyebrowLower:[35,124,46,53,52,65],leftEyeUpper0:[466,388,387,386,385,384,398],leftEyeLower0:[263,249,390,373,374,380,381,382,362],leftEyeUpper1:[467,260,259,257,258,286,414],leftEyeLower1:[359,255,339,254,253,252,256,341,463],leftEyeUpper2:[342,445,444,443,442,441,413],leftEyeLower2:[446,261,448,449,450,451,452,453,464],leftEyeLower3:[372,340,346,347,348,349,350,357,465],leftEyebrowUpper:[383,300,293,334,296,336,285,417],leftEyebrowLower:[265,353,276,283,282,295],midwayBetweenEyes:[168],noseTip:[1],noseBottom:[2],noseRightCorner:[98],noseLeftCorner:[327],rightCheek:[205],leftCheek:[425]};function Uc(e){return[Math.abs(e.endPoint[0]-e.startPoint[0]),Math.abs(e.endPoint[1]-e.startPoint[1])]}function jc(e){return[e.startPoint[0]+(e.endPoint[0]-e.startPoint[0])/2,e.startPoint[1]+(e.endPoint[1]-e.startPoint[1])/2]}function Gc(e,t){void 0===t&&(t=1.5);var n=jc(e),r=Uc(e),a=[t*r[0]/2,t*r[1]/2];return{startPoint:[n[0]-a[0],n[1]-a[1]],endPoint:[n[0]+a[0],n[1]+a[1]],landmarks:e.landmarks}}function qc(e,t){var n;return(n=Math.PI/2-Math.atan2(-(t[1]-e[1]),t[0]-e[0]))-2*Math.PI*Math.floor((n+Math.PI)/(2*Math.PI))}function $c(e,t){return[[1,0,e],[0,1,t],[0,0,1]]}function Hc(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function Kc(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r][t]);return n}function Zc(e,t){for(var n=[],r=e.length,a=0;a<r;a++){n.push([]);for(var s=0;s<r;s++)n[a].push(Hc(e[a],Kc(t,s)))}return n}function Xc(e,t){var n=Math.cos(e),r=Math.sin(e),a=[[n,-r,0],[r,n,0],[0,0,1]],s=Zc($c(t[0],t[1]),a);return Zc(s,$c(-t[0],-t[1]))}var Yc=[1,168],Qc=[3,2],Jc=function(){function e(e,t,n,r,a,s){this.regionsOfInterest=[],this.runsWithoutFaceDetector=0,this.boundingBoxDetector=e,this.meshDetector=t,this.meshWidth=n,this.meshHeight=r,this.maxContinuousChecks=a,this.maxFaces=s}return e.prototype.transformRawCoords=function(e,t,n,r){var a,s,i,o,l=this,u=Uc({startPoint:t.startPoint,endPoint:t.endPoint}),c=[u[0]/this.meshWidth,u[1]/this.meshHeight],h=e.map((function(e){return[c[0]*(e[0]-l.meshWidth/2),c[1]*(e[1]-l.meshHeight/2),e[2]]})),d=Xc(n,[0,0]),p=h.map((function(e){return function(e,t){return[Hc(e,t[0]),Hc(e,t[1])]}(e,d).concat([e[2]])})),m=(s=[[(a=r)[0][0],a[1][0]],[a[0][1],a[1][1]]],i=[a[0][2],a[1][2]],o=[-Hc(s[0],i),-Hc(s[1],i)],[s[0].concat(o[0]),s[1].concat(o[1]),[0,0,1]]),f=jc({startPoint:t.startPoint,endPoint:t.endPoint}).concat([1]),g=[Hc(f,m[0]),Hc(f,m[1])];return p.map((function(e){return[e[0]+g[0],e[1]+g[1],e[2]]}))},e.prototype.predict=function(e){return Bc(this,void 0,void 0,(function(){var t,n,r,a,s=this;return zc(this,(function(i){switch(i.label){case 0:return this.shouldUpdateRegionsOfInterest()?[4,this.boundingBoxDetector.getBoundingBoxes(e,!1,!0)]:[3,2];case 1:return t=i.sent(),n=t.boxes,r=t.scaleFactor,0===n.length?(this.regionsOfInterest=[],[2,null]):(a=n.map((function(e){var t,n,a={startPoint:e.box.startPoint.squeeze().arraySync(),endPoint:e.box.endPoint.squeeze().arraySync()},s=Gc((n=r,{startPoint:[(t=a).startPoint[0]*n[0],t.startPoint[1]*n[1]],endPoint:[t.endPoint[0]*n[0],t.endPoint[1]*n[1]]}));return Oc({},s,{landmarks:e.landmarks.arraySync()})})),n.forEach((function(e){null!=e&&null!=e.startPoint&&(e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose())})),this.updateRegionsOfInterest(a),this.runsWithoutFaceDetector=0,[3,3]);case 2:this.runsWithoutFaceDetector++,i.label=3;case 3:return[2,_a((function(){return s.regionsOfInterest.map((function(t,n){var r;if(468===t.landmarks.length){var a=Yc[0],i=Yc[1];r=qc(t.landmarks[a],t.landmarks[i])}else a=Qc[0],i=Qc[1],r=qc(t.landmarks[a],t.landmarks[i]);var o=jc({startPoint:t.startPoint,endPoint:t.endPoint}),l=[o[0]/e.shape[2],o[1]/e.shape[1]],u=es.rotateWithOffset(e,r,0,l),c=Xc(-r,o),h=function(e,t,n){var r=t.shape[1],a=t.shape[2],s=[[e.startPoint[1]/r,e.startPoint[0]/a,e.endPoint[1]/r,e.endPoint[0]/a]];return es.cropAndResize(t,s,[0],n)}({startPoint:t.startPoint,endPoint:t.endPoint},u,[s.meshHeight,s.meshWidth]).div(255),d=s.meshDetector.predict(h),p=d[1],m=d[2],f=xr(m,[-1,3]),g=f.arraySync(),y=s.transformRawCoords(g,t,r,c),b=Nr(y),w=s.calculateLandmarksBoundingBox(y);return s.regionsOfInterest[n]=Oc({},w,{landmarks:b.arraySync()}),{coords:f,scaledCoords:b,box:w,flag:p.squeeze()}}))}))]}}))}))},e.prototype.updateRegionsOfInterest=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.regionsOfInterest[t],a=0;if(r&&r.startPoint){var s=n.startPoint,i=s[0],o=s[1],l=n.endPoint,u=l[0],c=l[1],h=r.startPoint,d=h[0],p=h[1],m=r.endPoint,f=m[0],g=m[1],y=Math.max(i,d),b=Math.max(o,p),w=(Math.min(u,f)-y)*(Math.min(c,g)-b);a=w/((u-i)*(c-o)+(f-d)*(g-o)-w)}a<.25&&(this.regionsOfInterest[t]=n)}this.regionsOfInterest=this.regionsOfInterest.slice(0,e.length)},e.prototype.clearRegionOfInterest=function(e){null!=this.regionsOfInterest[e]&&(this.regionsOfInterest=this.regionsOfInterest.slice(0,e).concat(this.regionsOfInterest.slice(e+1)))},e.prototype.shouldUpdateRegionsOfInterest=function(){var e=this.regionsOfInterest.length,t=0===e;return 1===this.maxFaces||t?t:e!==this.maxFaces&&this.runsWithoutFaceDetector>=this.maxContinuousChecks},e.prototype.calculateLandmarksBoundingBox=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]})),r={startPoint:[Math.min.apply(Math,t),Math.min.apply(Math,n)],endPoint:[Math.max.apply(Math,t),Math.max.apply(Math,n)]};return Gc({startPoint:r.startPoint,endPoint:r.endPoint})},e}(),eh=[[.499976992607117,.652534008026123],[.500025987625122,.547487020492554],[.499974012374878,.602371990680695],[.482113003730774,.471979022026062],[.500150978565216,.527155995368958],[.499909996986389,.498252987861633],[.499523013830185,.40106201171875],[.289712011814117,.380764007568359],[.499954998493195,.312398016452789],[.499987006187439,.269918978214264],[.500023007392883,.107050001621246],[.500023007392883,.666234016418457],[.5000159740448,.679224014282227],[.500023007392883,.692348003387451],[.499976992607117,.695277988910675],[.499976992607117,.70593398809433],[.499976992607117,.719385027885437],[.499976992607117,.737019002437592],[.499967992305756,.781370997428894],[.499816000461578,.562981009483337],[.473773002624512,.573909997940063],[.104906998574734,.254140973091125],[.365929991006851,.409575998783112],[.338757991790771,.41302502155304],[.311120003461838,.409460008144379],[.274657994508743,.389131009578705],[.393361985683441,.403706014156342],[.345234006643295,.344011008739471],[.370094001293182,.346076011657715],[.319321990013123,.347265005111694],[.297903001308441,.353591024875641],[.24779200553894,.410809993743896],[.396889001131058,.842755019664764],[.280097991228104,.375599980354309],[.106310002505779,.399955987930298],[.2099249958992,.391353011131287],[.355807989835739,.534406006336212],[.471751004457474,.65040397644043],[.474155008792877,.680191993713379],[.439785003662109,.657229006290436],[.414617002010345,.66654098033905],[.450374007225037,.680860996246338],[.428770989179611,.682690978050232],[.374971002340317,.727805018424988],[.486716985702515,.547628998756409],[.485300987958908,.527395009994507],[.257764995098114,.314490020275116],[.401223003864288,.455172002315521],[.429818987846375,.548614978790283],[.421351999044418,.533740997314453],[.276895999908447,.532056987285614],[.483370006084442,.499586999416351],[.33721199631691,.282882988452911],[.296391993761063,.293242990970612],[.169294998049736,.193813979625702],[.447580009698868,.302609980106354],[.392390012741089,.353887975215912],[.354490011930466,.696784019470215],[.067304998636246,.730105042457581],[.442739009857178,.572826027870178],[.457098007202148,.584792017936707],[.381974011659622,.694710969924927],[.392388999462128,.694203019142151],[.277076005935669,.271932005882263],[.422551989555359,.563233017921448],[.385919004678726,.281364023685455],[.383103013038635,.255840003490448],[.331431001424789,.119714021682739],[.229923993349075,.232002973556519],[.364500999450684,.189113974571228],[.229622006416321,.299540996551514],[.173287004232407,.278747975826263],[.472878992557526,.666198015213013],[.446828007698059,.668527007102966],[.422762006521225,.673889994621277],[.445307999849319,.580065965652466],[.388103008270264,.693961024284363],[.403039008378983,.706539988517761],[.403629004955292,.693953037261963],[.460041999816895,.557139039039612],[.431158006191254,.692366003990173],[.452181994915009,.692366003990173],[.475387006998062,.692366003990173],[.465828001499176,.779190003871918],[.472328990697861,.736225962638855],[.473087012767792,.717857003211975],[.473122000694275,.704625964164734],[.473033010959625,.695277988910675],[.427942007780075,.695277988910675],[.426479011774063,.703539967536926],[.423162013292313,.711845993995667],[.4183090031147,.720062971115112],[.390094995498657,.639572978019714],[.013953999616206,.560034036636353],[.499913990497589,.58014702796936],[.413199990987778,.69539999961853],[.409626007080078,.701822996139526],[.468080013990402,.601534962654114],[.422728985548019,.585985004901886],[.463079988956451,.593783974647522],[.37211999297142,.47341400384903],[.334562003612518,.496073007583618],[.411671012639999,.546965003013611],[.242175996303558,.14767599105835],[.290776997804642,.201445996761322],[.327338010072708,.256527006626129],[.399509996175766,.748921036720276],[.441727995872498,.261676013469696],[.429764986038208,.187834024429321],[.412198007106781,.108901023864746],[.288955003023148,.398952007293701],[.218936994671822,.435410976409912],[.41278201341629,.398970007896423],[.257135003805161,.355440020561218],[.427684992551804,.437960982322693],[.448339998722076,.536936044692993],[.178560003638268,.45755398273468],[.247308000922203,.457193970680237],[.286267012357712,.467674970626831],[.332827985286713,.460712015628815],[.368755996227264,.447206974029541],[.398963987827301,.432654976844788],[.476410001516342,.405806005001068],[.189241006970406,.523923993110657],[.228962004184723,.348950982093811],[.490725994110107,.562400996685028],[.404670000076294,.485132992267609],[.019469000399113,.401564002037048],[.426243007183075,.420431017875671],[.396993011236191,.548797011375427],[.266469985246658,.376977026462555],[.439121007919312,.51895797252655],[.032313998788595,.644356966018677],[.419054001569748,.387154996395111],[.462783008813858,.505746960639954],[.238978996872902,.779744982719421],[.198220998048782,.831938028335571],[.107550002634525,.540755033493042],[.183610007166862,.740257024765015],[.134409993886948,.333683013916016],[.385764002799988,.883153975009918],[.490967005491257,.579378008842468],[.382384985685349,.508572995662689],[.174399003386497,.397670984268188],[.318785011768341,.39623498916626],[.343364000320435,.400596976280212],[.396100014448166,.710216999053955],[.187885001301765,.588537991046906],[.430987000465393,.944064974784851],[.318993002176285,.898285031318665],[.266247987747192,.869701027870178],[.500023007392883,.190576016902924],[.499976992607117,.954452991485596],[.366169989109039,.398822009563446],[.393207013607025,.39553701877594],[.410373002290726,.391080021858215],[.194993004202843,.342101991176605],[.388664990663528,.362284004688263],[.365961998701096,.355970978736877],[.343364000320435,.355356991291046],[.318785011768341,.35834002494812],[.301414996385574,.363156020641327],[.058132998645306,.319076001644135],[.301414996385574,.387449026107788],[.499987989664078,.618434011936188],[.415838003158569,.624195992946625],[.445681989192963,.566076993942261],[.465844005346298,.620640993118286],[.49992299079895,.351523995399475],[.288718998432159,.819945991039276],[.335278987884521,.852819979190826],[.440512001514435,.902418971061707],[.128294005990028,.791940987110138],[.408771991729736,.373893976211548],[.455606997013092,.451801002025604],[.499877005815506,.908990025520325],[.375436991453171,.924192011356354],[.11421000212431,.615022003650665],[.448662012815475,.695277988910675],[.4480200111866,.704632043838501],[.447111994028091,.715808033943176],[.444831997156143,.730794012546539],[.430011987686157,.766808986663818],[.406787008047104,.685672998428345],[.400738000869751,.681069016456604],[.392399996519089,.677703022956848],[.367855995893478,.663918972015381],[.247923001646996,.601333022117615],[.452769994735718,.420849978923798],[.43639200925827,.359887003898621],[.416164010763168,.368713974952698],[.413385987281799,.692366003990173],[.228018000721931,.683571994304657],[.468268007040024,.352671027183533],[.411361992359161,.804327011108398],[.499989002943039,.469825029373169],[.479153990745544,.442654013633728],[.499974012374878,.439637005329132],[.432112008333206,.493588984012604],[.499886006116867,.866917014122009],[.49991300702095,.821729004383087],[.456548988819122,.819200992584229],[.344549000263214,.745438992977142],[.37890899181366,.574010014533997],[.374292999505997,.780184984207153],[.319687992334366,.570737957954407],[.357154995203018,.604269981384277],[.295284003019333,.621580958366394],[.447750002145767,.862477004528046],[.410986006259918,.508723020553589],[.31395098567009,.775308012962341],[.354128003120422,.812552988529205],[.324548006057739,.703992962837219],[.189096003770828,.646299958229065],[.279776990413666,.71465802192688],[.1338230073452,.682700991630554],[.336768001317978,.644733011722565],[.429883986711502,.466521978378296],[.455527991056442,.548622965812683],[.437114000320435,.558896005153656],[.467287987470627,.529924988746643],[.414712011814117,.335219979286194],[.37704598903656,.322777986526489],[.344107985496521,.320150971412659],[.312875986099243,.32233202457428],[.283526003360748,.333190023899078],[.241245999932289,.382785975933075],[.102986000478268,.468762993812561],[.267612010240555,.424560010433197],[.297879010438919,.433175981044769],[.333433985710144,.433878004550934],[.366427004337311,.426115989685059],[.396012008190155,.416696012020111],[.420121014118195,.41022801399231],[.007561000064015,.480777025222778],[.432949006557465,.569517970085144],[.458638995885849,.479089021682739],[.473466008901596,.545744001865387],[.476087987422943,.563830018043518],[.468472003936768,.555056989192963],[.433990985155106,.582361996173859],[.483518004417419,.562983989715576],[.482482999563217,.57784903049469],[.42645001411438,.389798998832703],[.438998997211456,.39649498462677],[.450067013502121,.400434017181396],[.289712011814117,.368252992630005],[.276670008897781,.363372981548309],[.517862021923065,.471948027610779],[.710287988185883,.380764007568359],[.526226997375488,.573909997940063],[.895093023777008,.254140973091125],[.634069979190826,.409575998783112],[.661242008209229,.41302502155304],[.688880026340485,.409460008144379],[.725341975688934,.389131009578705],[.606630027294159,.40370500087738],[.654766023159027,.344011008739471],[.629905998706818,.346076011657715],[.680678009986877,.347265005111694],[.702096998691559,.353591024875641],[.75221198797226,.410804986953735],[.602918028831482,.842862963676453],[.719901978969574,.375599980354309],[.893692970275879,.399959981441498],[.790081977844238,.391354024410248],[.643998026847839,.534487962722778],[.528249025344849,.65040397644043],[.525849997997284,.680191040039062],[.560214996337891,.657229006290436],[.585384011268616,.66654098033905],[.549625992774963,.680860996246338],[.57122802734375,.682691991329193],[.624852001667023,.72809898853302],[.513050019741058,.547281980514526],[.51509702205658,.527251958847046],[.742246985435486,.314507007598877],[.598631024360657,.454979002475739],[.570338010787964,.548575043678284],[.578631997108459,.533622980117798],[.723087012767792,.532054007053375],[.516445994377136,.499638974666595],[.662801027297974,.282917976379395],[.70362401008606,.293271005153656],[.830704987049103,.193813979625702],[.552385985851288,.302568018436432],[.607609987258911,.353887975215912],[.645429015159607,.696707010269165],[.932694971561432,.730105042457581],[.557260990142822,.572826027870178],[.542901992797852,.584792017936707],[.6180260181427,.694710969924927],[.607590973377228,.694203019142151],[.722943007946014,.271963000297546],[.577413976192474,.563166975975037],[.614082992076874,.281386971473694],[.616907000541687,.255886018276215],[.668509006500244,.119913995265961],[.770092010498047,.232020974159241],[.635536015033722,.189248979091644],[.77039098739624,.299556016921997],[.826722025871277,.278755009174347],[.527121007442474,.666198015213013],[.553171992301941,.668527007102966],[.577238023281097,.673889994621277],[.554691970348358,.580065965652466],[.611896991729736,.693961024284363],[.59696102142334,.706539988517761],[.596370995044708,.693953037261963],[.539958000183105,.557139039039612],[.568841993808746,.692366003990173],[.547818005084991,.692366003990173],[.52461302280426,.692366003990173],[.534089982509613,.779141008853912],[.527670979499817,.736225962638855],[.526912987232208,.717857003211975],[.526877999305725,.704625964164734],[.526966989040375,.695277988910675],[.572058022022247,.695277988910675],[.573521018028259,.703539967536926],[.57683801651001,.711845993995667],[.581691026687622,.720062971115112],[.609944999217987,.639909982681274],[.986046016216278,.560034036636353],[.5867999792099,.69539999961853],[.590372025966644,.701822996139526],[.531915009021759,.601536989212036],[.577268004417419,.585934996604919],[.536915004253387,.593786001205444],[.627542972564697,.473352015018463],[.665585994720459,.495950996875763],[.588353991508484,.546862006187439],[.757824003696442,.14767599105835],[.709249973297119,.201507985591888],[.672684013843536,.256581008434296],[.600408971309662,.74900496006012],[.55826598405838,.261672019958496],[.570303976535797,.187870979309082],[.588165998458862,.109044015407562],[.711045026779175,.398952007293701],[.781069993972778,.435405015945435],[.587247014045715,.398931980133057],[.742869973182678,.355445981025696],[.572156012058258,.437651991844177],[.55186802148819,.536570012569427],[.821442008018494,.457556009292603],[.752701997756958,.457181990146637],[.71375697851181,.467626988887787],[.66711300611496,.460672974586487],[.631101012229919,.447153985500336],[.6008620262146,.432473003864288],[.523481011390686,.405627012252808],[.810747981071472,.523926019668579],[.771045982837677,.348959028720856],[.509127020835876,.562718033790588],[.595292985439301,.485023975372314],[.980530977249146,.401564002037048],[.573499977588654,.420000016689301],[.602994978427887,.548687994480133],[.733529984951019,.376977026462555],[.560611009597778,.519016981124878],[.967685997486115,.644356966018677],[.580985009670258,.387160003185272],[.537728011608124,.505385041236877],[.760966002941132,.779752969741821],[.801778972148895,.831938028335571],[.892440974712372,.54076099395752],[.816350996494293,.740260004997253],[.865594983100891,.333687007427216],[.614073991775513,.883246004581451],[.508952975273132,.579437971115112],[.617941975593567,.508316040039062],[.825608015060425,.397674977779388],[.681214988231659,.39623498916626],[.656635999679565,.400596976280212],[.603900015354156,.710216999053955],[.81208598613739,.588539004325867],[.56801301240921,.944564998149872],[.681007981300354,.898285031318665],[.733752012252808,.869701027870178],[.633830010890961,.398822009563446],[.606792986392975,.39553701877594],[.589659988880157,.391062021255493],[.805015981197357,.342108011245728],[.611334979534149,.362284004688263],[.634037971496582,.355970978736877],[.656635999679565,.355356991291046],[.681214988231659,.35834002494812],[.698584973812103,.363156020641327],[.941866993904114,.319076001644135],[.698584973812103,.387449026107788],[.584177017211914,.624107003211975],[.554318010807037,.566076993942261],[.534153997898102,.62064003944397],[.711217999458313,.819975018501282],[.664629995822906,.852871000766754],[.559099972248077,.902631998062134],[.871706008911133,.791940987110138],[.591234028339386,.373893976211548],[.544341027736664,.451583981513977],[.624562978744507,.924192011356354],[.88577002286911,.615028977394104],[.551338016986847,.695277988910675],[.551980018615723,.704632043838501],[.552887976169586,.715808033943176],[.555167973041534,.730794012546539],[.569944024085999,.767035007476807],[.593203008174896,.685675978660583],[.599261999130249,.681069016456604],[.607599973678589,.677703022956848],[.631937980651855,.663500010967255],[.752032995223999,.601315021514893],[.547226011753082,.420395016670227],[.563543975353241,.359827995300293],[.583841025829315,.368713974952698],[.586614012718201,.692366003990173],[.771915018558502,.683578014373779],[.531597018241882,.352482974529266],[.588370978832245,.804440975189209],[.52079701423645,.442565023899078],[.567984998226166,.493479013442993],[.543282985687256,.819254994392395],[.655317008495331,.745514988899231],[.621008992195129,.574018001556396],[.625559985637665,.78031200170517],[.680198013782501,.570719003677368],[.64276397228241,.604337990283966],[.704662978649139,.621529996395111],[.552012026309967,.862591981887817],[.589071989059448,.508637011051178],[.685944974422455,.775357007980347],[.645735025405884,.812640011310577],[.675342977046967,.703978002071381],[.810858011245728,.646304965019226],[.72012197971344,.714666962623596],[.866151988506317,.682704985141754],[.663187026977539,.644596993923187],[.570082008838654,.466325998306274],[.544561982154846,.548375964164734],[.562758982181549,.558784961700439],[.531987011432648,.530140042304993],[.585271000862122,.335177004337311],[.622952997684479,.32277899980545],[.655896008014679,.320163011550903],[.687132000923157,.322345972061157],[.716481983661652,.333200991153717],[.758756995201111,.382786989212036],[.897013008594513,.468769013881683],[.732392013072968,.424547016620636],[.70211398601532,.433162987232208],[.66652500629425,.433866024017334],[.633504986763,.426087975502014],[.603875994682312,.416586995124817],[.579657971858978,.409945011138916],[.992439985275269,.480777025222778],[.567192018032074,.569419980049133],[.54136598110199,.478899002075195],[.526564002037048,.546118021011353],[.523913025856018,.563830018043518],[.531529009342194,.555056989192963],[.566035985946655,.582329034805298],[.51631098985672,.563053965568542],[.5174720287323,.577877044677734],[.573594987392426,.389806985855103],[.560697972774506,.395331978797913],[.549755990505219,.399751007556915],[.710287988185883,.368252992630005],[.723330020904541,.363372981548309]];function th(e){var t=void 0===e?{}:e,n=t.maxContinuousChecks,r=void 0===n?5:n,a=t.detectionConfidence,s=void 0===a?.9:a,i=t.maxFaces,o=void 0===i?10:i,l=t.iouThreshold,u=void 0===l?.3:l,c=t.scoreThreshold,h=void 0===c?.75:c;return Bc(this,void 0,void 0,(function(){var e,t,n;return zc(this,(function(a){switch(a.label){case 0:return[4,Promise.all([nh(o,u,h),rh()])];case 1:return e=a.sent(),t=e[0],n=e[1],[2,new sh(t,n,r,s,o)]}}))}))}function nh(e,t,n){return Bc(this,void 0,void 0,(function(){return zc(this,(function(r){return[2,Vc({maxFaces:e,iouThreshold:t,scoreThreshold:n})]}))}))}function rh(){return Bc(this,void 0,void 0,(function(){return zc(this,(function(e){return[2,_c("https://tfhub.dev/mediapipe/tfjs-model/facemesh/1/default/1",{fromTFHub:!0})]}))}))}function ah(e,t){if(e.mesh instanceof Kt){var n=_a((function(){var n=Tr([t-1,0,0]),r=Tr([1,-1,1]);return _a((function(){return[yr([Ir(t-1,e.boundingBox.topLeft.slice(0,1)),e.boundingBox.topLeft.slice(1,1)]),yr([Ir(t-1,e.boundingBox.bottomRight.slice(0,1)),e.boundingBox.bottomRight.slice(1,1)]),Ir(n,e.mesh).mul(r),Ir(n,e.scaledMesh).mul(r)]}))})),r=n[0],a=n[1],s=n[2],i=n[3];return Object.assign({},e,{boundingBox:{topLeft:r,bottomRight:a},mesh:s,scaledMesh:i})}return Object.assign({},e,{boundingBox:{topLeft:[t-1-e.boundingBox.topLeft[0],e.boundingBox.topLeft[1]],bottomRight:[t-1-e.boundingBox.bottomRight[0],e.boundingBox.bottomRight[1]]},mesh:e.mesh.map((function(e){var n=e.slice(0);return n[0]=t-1-e[0],n})),scaledMesh:e.scaledMesh.map((function(e){var n=e.slice(0);return n[0]=t-1-e[0],n}))})}var sh=function(){function e(e,t,n,r,a){this.pipeline=new Jc(e,t,192,192,n,a),this.detectionConfidence=r}return e.getAnnotations=function(){return Wc},e.getUVCoords=function(){return eh},e.prototype.estimateFaces=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),Bc(this,void 0,void 0,(function(){var r,a,s,i,o,l=this;return zc(this,(function(u){switch(u.label){case 0:return r=function(e){return e instanceof Kt?[e.shape[0],e.shape[1]]:[e.height,e.width]}(e),a=r[1],s=_a((function(){return e instanceof Kt||(e=fr(e)),e.toFloat().expandDims(0)})),"webgl"!==cn.backendName?[3,2]:(o=j().get("WEBGL_PACK_DEPTHWISECONV"),j().set("WEBGL_PACK_DEPTHWISECONV",!0),[4,this.pipeline.predict(s)]);case 1:return i=u.sent(),j().set("WEBGL_PACK_DEPTHWISECONV",o),[3,4];case 2:return[4,this.pipeline.predict(s)];case 3:i=u.sent(),u.label=4;case 4:return s.dispose(),null!=i&&i.length>0?[2,Promise.all(i.map((function(e,r){return Bc(l,void 0,void 0,(function(){var s,i,o,l,u,c,h,d,p,m,f,g,y,b,w=this;return zc(this,(function(v){switch(v.label){case 0:return s=e.coords,i=e.scaledCoords,o=e.box,l=e.flag,u=[l],t||(u=u.concat([s,i])),[4,Promise.all(u.map((function(e){return Bc(w,void 0,void 0,(function(){return zc(this,(function(t){return[2,e.array()]}))}))})))];case 1:if(c=v.sent(),h=c[0],l.dispose(),h<this.detectionConfidence&&this.pipeline.clearRegionOfInterest(r),t)return d={faceInViewConfidence:h,mesh:s,scaledMesh:i,boundingBox:{topLeft:Tr(o.startPoint),bottomRight:Tr(o.endPoint)}},n?[2,ah(d,a)]:[2,d];for(b in p=c.slice(1),m=p[0],f=p[1],i.dispose(),s.dispose(),g={faceInViewConfidence:h,boundingBox:{topLeft:o.startPoint,bottomRight:o.endPoint},mesh:m,scaledMesh:f},n&&(g=ah(g,a)),y={},Wc)y[b]=Wc[b].map((function(e){return g.scaledMesh[e]}));return g.annotations=y,[2,g]}}))}))})))]:[2,[]]}}))}))},e}()},2331:(e,t,n)=>{var r=n(4334),a=n(633),s=n(7168),i=n(7202),o=n(1388),l=n(8657),u=n(371);u.alea=r,u.xor128=a,u.xorwow=s,u.xorshift7=i,u.xor4096=o,u.tychei=l,e.exports=u},4334:function(e,t,n){var r;!function(e,a,s){function i(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},8657:function(e,t,n){var r;!function(e,a,s){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},633:function(e,t,n){var r;!function(e,a,s){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},1388:function(e,t,n){var r;!function(e,a,s){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,s=t.i;return t.w=r=r+1640531527|0,n=a[s+34&127],e=a[s=s+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[s]=n^e,t.i=s,n+(r^r>>>16)|0},function(e,t){var n,r,a,s,i,o=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,s=-32;s<l;++s)t&&(r^=t.charCodeAt((s+32)%t.length)),0===s&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,s>=0&&(i=i+1640531527|0,a=0==(n=o[127&s]^=r+i)?a+1:0);for(a>=128&&(o[127&(t&&t.length||0)]=-1),a=127,s=512;s>0;--s)r=o[a+34&127],n=o[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,o[a]=r^n;e.w=i,e.X=o,e.i=a}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},7202:function(e,t,n){var r;!function(e,a,s){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},7168:function(e,t,n){var r;!function(e,a,s){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},371:(e,t,n)=>{var r;!function(a,s){var i,o=this,l=256,u=s.pow(l,6),c=s.pow(2,52),h=2*c,d=255;function p(e,t,n){var r=[],d=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(l):(e=new Uint8Array(l),(o.crypto||o.msCrypto).getRandomValues(e)),b(e)}catch(e){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,b(a)]}}():e,3),r),p=new m(r),w=function(){for(var e=p.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|p.g(4)},w.quick=function(){return p.g(4)/4294967296},w.double=w,y(b(p.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&f(r,p),e.state=function(){return f(p,{})}),n?(s.random=e,t):e})(w,d,"global"in t?t.global:this==s,t.state)}function m(e){var t,n=e.length,r=this,a=0,s=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<l;)i[a]=a++;for(a=0;a<l;a++)i[a]=i[s=d&s+e[a%n]+(t=i[a])],i[s]=t;(r.g=function(e){for(var t,n=0,a=r.i,s=r.j,i=r.S;e--;)t=i[a=d&a+1],n=n*l+i[d&(i[a]=i[s=d&s+t])+(i[s]=t)];return r.i=a,r.j=s,n})(l)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(e){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[d&a]=d&(n^=19*t[d&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(s.seedrandom=p,y(s.random(),a),e.exports){e.exports=p;try{i=n(1686)}catch(e){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}([],Math)},3986:(e,t,n)=>{var r=n(2559),a=n(8242),s=n(8769),i=n(6290),o=n(2277),l=n(5136),u=n(1713);u.alea=r,u.xor128=a,u.xorwow=s,u.xorshift7=i,u.xor4096=o,u.tychei=l,e.exports=u},2559:function(e,t,n){var r;!function(e,a,s){function i(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},5136:function(e,t,n){var r;!function(e,a,s){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},8242:function(e,t,n){var r;!function(e,a,s){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},2277:function(e,t,n){var r;!function(e,a,s){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,s=t.i;return t.w=r=r+1640531527|0,n=a[s+34&127],e=a[s=s+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[s]=n^e,t.i=s,n+(r^r>>>16)|0},function(e,t){var n,r,a,s,i,o=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,s=-32;s<l;++s)t&&(r^=t.charCodeAt((s+32)%t.length)),0===s&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,s>=0&&(i=i+1640531527|0,a=0==(n=o[127&s]^=r+i)?a+1:0);for(a>=128&&(o[127&(t&&t.length||0)]=-1),a=127,s=512;s>0;--s)r=o[a+34&127],n=o[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,o[a]=r^n;e.w=i,e.X=o,e.i=a}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},6290:function(e,t,n){var r;!function(e,a,s){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},8769:function(e,t,n){var r;!function(e,a,s){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},1713:(e,t,n)=>{var r;!function(a,s){var i,o=this,l=256,u=s.pow(l,6),c=s.pow(2,52),h=2*c,d=255;function p(e,t,n){var r=[],d=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(l):(e=new Uint8Array(l),(o.crypto||o.msCrypto).getRandomValues(e)),b(e)}catch(e){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,b(a)]}}():e,3),r),p=new m(r),w=function(){for(var e=p.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|p.g(4)},w.quick=function(){return p.g(4)/4294967296},w.double=w,y(b(p.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&f(r,p),e.state=function(){return f(p,{})}),n?(s.random=e,t):e})(w,d,"global"in t?t.global:this==s,t.state)}function m(e){var t,n=e.length,r=this,a=0,s=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<l;)i[a]=a++;for(a=0;a<l;a++)i[a]=i[s=d&s+e[a%n]+(t=i[a])],i[s]=t;(r.g=function(e){for(var t,n=0,a=r.i,s=r.j,i=r.S;e--;)t=i[a=d&a+1],n=n*l+i[d&(i[a]=i[s=d&s+t])+(i[s]=t)];return r.i=a,r.j=s,n})(l)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(e){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[d&a]=d&(n^=19*t[d&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(s.seedrandom=p,y(s.random(),a),e.exports){e.exports=p;try{i=n(8364)}catch(e){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}([],Math)},9479:(e,t,n)=>{e.exports=function e(t,n,r){function a(i,o){if(!n[i]){if(!t[i]){if(s)return s(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[i]={exports:{}};t[i][0].call(u.exports,(function(e){var n=t[i][1][e];return a(n||e)}),u,u.exports,e,t,n,r)}return n[i].exports}for(var s=void 0,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,r){(function(e){"use strict";var n,r,a=e.MutationObserver||e.WebKitMutationObserver;if(a){var s=0,i=new a(c),o=e.document.createTextNode("");i.observe(o,{characterData:!0}),n=function(){o.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}function h(e){1!==u.push(e)||r||n()}t.exports=h}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function a(){}var s={},i=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==a&&p(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return s.reject(e,t)}r===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,s.reject(e,t))}function a(t){n||(n=!0,s.resolve(e,t))}function i(){t(a,r)}var o=m(i);"error"===o.status&&r(o.value)}function m(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function f(e){return e instanceof this?e:s.resolve(new this(a),e)}function g(e){var t=new this(a);return s.reject(t,e)}function y(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i=new Array(n),o=0,l=-1,u=new this(a);++l<n;)c(e[l],l);return u;function c(e,a){function l(e){i[a]=e,++o!==n||r||(r=!0,s.resolve(u,i))}t.resolve(e).then(l,(function(e){r||(r=!0,s.reject(u,e))}))}}function b(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i=-1,o=new this(a);++i<n;)l(e[i]);return o;function l(e){t.resolve(e).then((function(e){r||(r=!0,s.resolve(o,e))}),(function(e){r||(r=!0,s.reject(o,e))}))}}t.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===i)return this;var n=new this.constructor(a);return this.state!==l?h(n,this.state===o?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){s.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},s.resolve=function(e,t){var n=m(d,t);if("error"===n.status)return s.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=o,e.outcome=t;for(var a=-1,i=e.queue.length;++a<i;)e.queue[a].callFulfilled(t)}return e},s.reject=function(e,t){e.state=i,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=f,u.reject=g,u.all=y,u.race=b},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var i=s();function o(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(a){if("TypeError"!==a.name)throw a;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var u=Promise;function c(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function h(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function d(e){return"string"!=typeof e&&(e=String(e)),e}function p(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",f=void 0,g={},y=Object.prototype.toString,b="readonly",w="readwrite";function v(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),a=0;a<t;a++)r[a]=e.charCodeAt(a);return n}function A(e){return new u((function(t){var n=e.transaction(m,w),r=l([""]);n.objectStore(m).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function x(e){return"boolean"==typeof f?u.resolve(f):A(e).then((function(e){return f=e}))}function k(e){var t=g[e.name],n={};n.promise=new u((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function C(e){var t=g[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function S(e,t){var n=g[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function E(e,t){return new u((function(n,r){if(g[e.name]=g[e.name]||M(),e.db){if(!t)return n(e.db);k(e),e.db.close()}var a=[e.name];t&&a.push(e.version);var s=i.open.apply(i,a);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(m)}catch(e){if("ConstraintError"!==e.name)throw e}}),s.onerror=function(e){e.preventDefault(),r(s.error)},s.onsuccess=function(){var t=s.result;t.onversionchange=function(e){e.target.close()},n(t),C(e)}}))}function I(e){return E(e,!1)}function T(e){return E(e,!0)}function N(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,a=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),a||n){if(n){var s=e.db.version+1;s>e.version&&(e.version=s)}return!0}return!1}function D(e){return new u((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}function _(e){return l([v(atob(e.data))],{type:e.type})}function O(e){return e&&e.__local_forage_encoded_blob}function B(e){var t=this,n=t._initReady().then((function(){var e=g[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return h(n,e,e),n}function z(e){k(e);for(var t=g[e.name],n=t.forages,r=0;r<n.length;r++){var a=n[r];a._dbInfo.db&&(a._dbInfo.db.close(),a._dbInfo.db=null)}return e.db=null,I(e).then((function(t){return e.db=t,N(e)?T(e):t})).then((function(r){e.db=t.db=r;for(var a=0;a<n.length;a++)n[a]._dbInfo.db=r})).catch((function(t){throw S(e,t),t}))}function R(e,t,n,r){void 0===r&&(r=1);try{var a=e.db.transaction(e.storeName,t);n(null,a)}catch(a){if(r>0&&(!e.db||"InvalidStateError"===a.name||"NotFoundError"===a.name))return u.resolve().then((function(){if(!e.db||"NotFoundError"===a.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),T(e)})).then((function(){return z(e).then((function(){R(e,t,n,r-1)}))})).catch(n);n(a)}}function M(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function F(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var a=g[n.name];a||(a=M(),g[n.name]=a),a.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=B);var s=[];function i(){return u.resolve()}for(var o=0;o<a.forages.length;o++){var l=a.forages[o];l!==t&&s.push(l._initReady().catch(i))}var c=a.forages.slice(0);return u.all(s).then((function(){return n.db=a.db,I(n)})).then((function(e){return n.db=e,N(n,t._defaultConfig.version)?T(n):e})).then((function(e){n.db=a.db=e,t._dbInfo=n;for(var r=0;r<c.length;r++){var s=c[r];s!==t&&(s._dbInfo.db=n.db,s._dbInfo.version=n.version)}}))}function P(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){R(n._dbInfo,b,(function(a,s){if(a)return r(a);try{var i=s.objectStore(n._dbInfo.storeName).get(e);i.onsuccess=function(){var e=i.result;void 0===e&&(e=null),O(e)&&(e=_(e)),t(e)},i.onerror=function(){r(i.error)}}catch(e){r(e)}}))})).catch(r)}));return c(r,t),r}function L(e,t){var n=this,r=new u((function(t,r){n.ready().then((function(){R(n._dbInfo,b,(function(a,s){if(a)return r(a);try{var i=s.objectStore(n._dbInfo.storeName).openCursor(),o=1;i.onsuccess=function(){var n=i.result;if(n){var r=n.value;O(r)&&(r=_(r));var a=e(r,n.key,o++);void 0!==a?t(a):n.continue()}else t()},i.onerror=function(){r(i.error)}}catch(e){r(e)}}))})).catch(r)}));return c(r,t),r}function V(e,t,n){var r=this;e=d(e);var a=new u((function(n,a){var s;r.ready().then((function(){return s=r._dbInfo,"[object Blob]"===y.call(t)?x(s.db).then((function(e){return e?t:D(t)})):t})).then((function(t){R(r._dbInfo,w,(function(s,i){if(s)return a(s);try{var o=i.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=o.put(t,e);i.oncomplete=function(){void 0===t&&(t=null),n(t)},i.onabort=i.onerror=function(){var e=l.error?l.error:l.transaction.error;a(e)}}catch(e){a(e)}}))})).catch(a)}));return c(a,n),a}function W(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){R(n._dbInfo,w,(function(a,s){if(a)return r(a);try{var i=s.objectStore(n._dbInfo.storeName).delete(e);s.oncomplete=function(){t()},s.onerror=function(){r(i.error)},s.onabort=function(){var e=i.error?i.error:i.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return c(r,t),r}function U(e){var t=this,n=new u((function(e,n){t.ready().then((function(){R(t._dbInfo,w,(function(r,a){if(r)return n(r);try{var s=a.objectStore(t._dbInfo.storeName).clear();a.oncomplete=function(){e()},a.onabort=a.onerror=function(){var e=s.error?s.error:s.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return c(n,e),n}function j(e){var t=this,n=new u((function(e,n){t.ready().then((function(){R(t._dbInfo,b,(function(r,a){if(r)return n(r);try{var s=a.objectStore(t._dbInfo.storeName).count();s.onsuccess=function(){e(s.result)},s.onerror=function(){n(s.error)}}catch(e){n(e)}}))})).catch(n)}));return c(n,e),n}function G(e,t){var n=this,r=new u((function(t,r){e<0?t(null):n.ready().then((function(){R(n._dbInfo,b,(function(a,s){if(a)return r(a);try{var i=s.objectStore(n._dbInfo.storeName),o=!1,l=i.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||o?t(n.key):(o=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(e){r(e)}}))})).catch(r)}));return c(r,t),r}function q(e){var t=this,n=new u((function(e,n){t.ready().then((function(){R(t._dbInfo,b,(function(r,a){if(r)return n(r);try{var s=a.objectStore(t._dbInfo.storeName).openKeyCursor(),i=[];s.onsuccess=function(){var t=s.result;t?(i.push(t.key),t.continue()):e(i)},s.onerror=function(){n(s.error)}}catch(e){n(e)}}))})).catch(n)}));return c(n,e),n}function $(e,t){t=p.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,a=this;if(e.name){var s=e.name===n.name&&a._dbInfo.db?u.resolve(a._dbInfo.db):I(e).then((function(t){var n=g[e.name],r=n.forages;n.db=t;for(var a=0;a<r.length;a++)r[a]._dbInfo.db=t;return t}));r=e.storeName?s.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;k(e);var r=g[e.name],a=r.forages;t.close();for(var s=0;s<a.length;s++){var o=a[s];o._dbInfo.db=null,o._dbInfo.version=n}var l=new u((function(t,r){var a=i.open(e.name,n);a.onerror=function(e){a.result.close(),r(e)},a.onupgradeneeded=function(){a.result.deleteObjectStore(e.storeName)},a.onsuccess=function(){var e=a.result;e.close(),t(e)}}));return l.then((function(e){r.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,C(n._dbInfo)}})).catch((function(t){throw(S(e,t)||u.resolve()).catch((function(){})),t}))}})):s.then((function(t){k(e);var n=g[e.name],r=n.forages;t.close();for(var a=0;a<r.length;a++)r[a]._dbInfo.db=null;var s=new u((function(t,n){var r=i.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return s.then((function(e){n.db=e;for(var t=0;t<r.length;t++)C(r[t]._dbInfo)})).catch((function(t){throw(S(e,t)||u.resolve()).catch((function(){})),t}))}))}else r=u.reject("Invalid arguments");return c(r,t),r}var H={_driver:"asyncStorage",_initStorage:F,_support:o(),iterate:L,getItem:P,setItem:V,removeItem:W,clear:U,length:j,key:G,keys:q,dropInstance:$};function K(){return"function"==typeof openDatabase}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X="~~local_forage_type~",Y=/^~~local_forage_type~([^~]+)~/,Q="__lfsc__:",J=Q.length,ee="arbf",te="blob",ne="si08",re="ui08",ae="uic8",se="si16",ie="si32",oe="ur16",le="ui32",ue="fl32",ce="fl64",he=J+ee.length,de=Object.prototype.toString;function pe(e){var t,n,r,a,s,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var u=new ArrayBuffer(i),c=new Uint8Array(u);for(t=0;t<o;t+=4)n=Z.indexOf(e[t]),r=Z.indexOf(e[t+1]),a=Z.indexOf(e[t+2]),s=Z.indexOf(e[t+3]),c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|a>>2,c[l++]=(3&a)<<6|63&s;return u}function me(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=Z[n[t]>>2],r+=Z[(3&n[t])<<4|n[t+1]>>4],r+=Z[(15&n[t+1])<<2|n[t+2]>>6],r+=Z[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function fe(e,t){var n="";if(e&&(n=de.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===de.call(e.buffer))){var r,a=Q;e instanceof ArrayBuffer?(r=e,a+=ee):(r=e.buffer,"[object Int8Array]"===n?a+=ne:"[object Uint8Array]"===n?a+=re:"[object Uint8ClampedArray]"===n?a+=ae:"[object Int16Array]"===n?a+=se:"[object Uint16Array]"===n?a+=oe:"[object Int32Array]"===n?a+=ie:"[object Uint32Array]"===n?a+=le:"[object Float32Array]"===n?a+=ue:"[object Float64Array]"===n?a+=ce:t(new Error("Failed to get type for BinaryArray"))),t(a+me(r))}else if("[object Blob]"===n){var s=new FileReader;s.onload=function(){var n=X+e.type+"~"+me(this.result);t(Q+te+n)},s.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(e){t(null,e)}}function ge(e){if(e.substring(0,J)!==Q)return JSON.parse(e);var t,n=e.substring(he),r=e.substring(J,he);if(r===te&&Y.test(n)){var a=n.match(Y);t=a[1],n=n.substring(a[0].length)}var s=pe(n);switch(r){case ee:return s;case te:return l([s],{type:t});case ne:return new Int8Array(s);case re:return new Uint8Array(s);case ae:return new Uint8ClampedArray(s);case se:return new Int16Array(s);case oe:return new Uint16Array(s);case ie:return new Int32Array(s);case le:return new Uint32Array(s);case ue:return new Float32Array(s);case ce:return new Float64Array(s);default:throw new Error("Unkown type: "+r)}}var ye={serialize:fe,deserialize:ge,stringToBuffer:pe,bufferToString:me};function be(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function we(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var a=new u((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(a){be(a,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=ye,a}function ve(e,t,n,r,a,s){e.executeSql(n,r,a,(function(e,i){i.code===i.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,o){o.rows.length?s(e,i):be(e,t,(function(){e.executeSql(n,r,a,s)}),s)}),s):s(e,i)}),s)}function Ae(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){var a=n._dbInfo;a.db.transaction((function(n){ve(n,a,"SELECT * FROM "+a.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=a.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return c(r,t),r}function xe(e,t){var n=this,r=new u((function(t,r){n.ready().then((function(){var a=n._dbInfo;a.db.transaction((function(n){ve(n,a,"SELECT * FROM "+a.storeName,[],(function(n,r){for(var s=r.rows,i=s.length,o=0;o<i;o++){var l=s.item(o),u=l.value;if(u&&(u=a.serializer.deserialize(u)),void 0!==(u=e(u,l.key,o+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return c(r,t),r}function ke(e,t,n,r){var a=this;e=d(e);var s=new u((function(s,i){a.ready().then((function(){void 0===t&&(t=null);var o=t,l=a._dbInfo;l.serializer.serialize(t,(function(t,u){u?i(u):l.db.transaction((function(n){ve(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){s(o)}),(function(e,t){i(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void s(ke.apply(a,[e,o,n,r-1]));i(t)}}))}))})).catch(i)}));return c(s,n),s}function Ce(e,t,n){return ke.apply(this,[e,t,n,1])}function Se(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){var a=n._dbInfo;a.db.transaction((function(n){ve(n,a,"DELETE FROM "+a.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return c(r,t),r}function Ee(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){ve(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return c(n,e),n}function Ie(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){ve(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return c(n,e),n}function Te(e,t){var n=this,r=new u((function(t,r){n.ready().then((function(){var a=n._dbInfo;a.db.transaction((function(n){ve(n,a,"SELECT key FROM "+a.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return c(r,t),r}function Ne(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){ve(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],a=0;a<n.rows.length;a++)r.push(n.rows.item(a).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return c(n,e),n}function De(e){return new u((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var a=[],s=0;s<r.rows.length;s++)a.push(r.rows.item(s).name);t({db:e,storeNames:a})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function _e(e,t){t=p.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,a=this;return c(r=e.name?new u((function(t){var r;r=e.name===n.name?a._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(De(r))})).then((function(e){return new u((function(t,n){e.db.transaction((function(r){function a(e){return new u((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var s=[],i=0,o=e.storeNames.length;i<o;i++)s.push(a(e.storeNames[i]));u.all(s).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):u.reject("Invalid arguments"),t),r}var Oe={_driver:"webSQLStorage",_initStorage:we,_support:K(),iterate:xe,getItem:Ae,setItem:Ce,removeItem:Se,clear:Ee,length:Ie,key:Te,keys:Ne,dropInstance:_e};function Be(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function ze(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Re(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function Me(){return!Re()||localStorage.length>0}function Fe(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=ze(e,t._defaultConfig),Me()?(t._dbInfo=n,n.serializer=ye,u.resolve()):u.reject()}function Pe(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return c(n,e),n}function Le(e,t){var n=this;e=d(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return c(r,t),r}function Ve(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,a=r.length,s=localStorage.length,i=1,o=0;o<s;o++){var l=localStorage.key(o);if(0===l.indexOf(r)){var u=localStorage.getItem(l);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,l.substring(a),i++)))return u}}}));return c(r,t),r}function We(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return c(r,t),r}function Ue(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],a=0;a<n;a++){var s=localStorage.key(a);0===s.indexOf(e.keyPrefix)&&r.push(s.substring(e.keyPrefix.length))}return r}));return c(n,e),n}function je(e){var t=this.keys().then((function(e){return e.length}));return c(t,e),t}function Ge(e,t){var n=this;e=d(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return c(r,t),r}function qe(e,t,n){var r=this;e=d(e);var a=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new u((function(a,s){var i=r._dbInfo;i.serializer.serialize(t,(function(t,r){if(r)s(r);else try{localStorage.setItem(i.keyPrefix+e,t),a(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||s(e),s(e)}}))}))}));return c(a,n),a}function $e(e,t){if(t=p.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,a=this;return r=e.name?new u((function(t){e.storeName?t(ze(e,a._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):u.reject("Invalid arguments"),c(r,t),r}var He={_driver:"localStorageWrapper",_initStorage:Fe,_support:Be(),iterate:Ve,getItem:Le,setItem:qe,removeItem:Ge,clear:Pe,length:je,key:We,keys:Ue,dropInstance:$e},Ke=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ze=function(e,t){for(var n=e.length,r=0;r<n;){if(Ke(e[r],t))return!0;r++}return!1},Xe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ye={},Qe={},Je={INDEXEDDB:H,WEBSQL:Oe,LOCALSTORAGE:He},et=[Je.INDEXEDDB._driver,Je.WEBSQL._driver,Je.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function at(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function st(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Xe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var it=function(){function e(t){for(var n in a(this,e),Je)if(Je.hasOwnProperty(n)){var r=Je[n],s=r._driver;this[n]=s,Ye[s]||this.defineDriver(r)}this._defaultConfig=st({},rt),this._config=st({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new u((function(t,n){try{var r=e._driver,a=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(a);for(var s=nt.concat("_initStorage"),i=0,o=s.length;i<o;i++){var l=s[i];if((!Ze(tt,l)||e[l])&&"function"!=typeof e[l])return void n(a)}var h=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=u.reject(t);return c(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var a=tt[n];e[a]||(e[a]=t(a))}};h();var d=function(n){Ye[r],Ye[r]=e,Qe[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}}));return h(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Ye[e]?u.resolve(Ye[e]):u.reject(new Error("Driver not found."));return h(r,t,n),r},e.prototype.getSerializer=function(e){var t=u.resolve(ye);return h(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return h(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Xe(e)||(e=[e]);var a=this._getSupportedDrivers(e);function s(){r._config.driver=r.driver()}function i(e){return r._extend(e),s(),r._ready=r._initStorage(r._config),r._ready}function o(e){return function(){var t=0;function n(){for(;t<e.length;){var a=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(a).then(i).catch(n)}s();var o=new Error("No available storage method found.");return r._driverSet=u.reject(o),r._driverSet}return n()}}var l=null!==this._driverSet?this._driverSet.catch((function(){return u.resolve()})):u.resolve();return this._driverSet=l.then((function(){var e=a[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,s(),r._wrapLibraryMethodsWithReady(),r._initDriver=o(a)}))})).catch((function(){s();var e=new Error("No available storage method found.");return r._driverSet=u.reject(e),r._driverSet})),h(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Qe[e]},e.prototype._extend=function(e){st(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n];this.supports(a)&&t.push(a)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)at(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ot=new it;t.exports=ot},{3:3}]},{},[4])(4)},6509:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},s={};function i(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=s[e])?r:(n=l(e,(0|e)<0?-1:0,!0),i&&(s[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=l(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function o(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return x}else{if(e<=-m)return k;if(e+1>=m)return A}return e<0?o(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=i,n.fromNumber=o,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=o(u(n,8)),s=g,i=0;i<e.length;i+=8){var l=Math.min(8,e.length-i),h=parseInt(e.substring(i,i+l),n);if(l<8){var d=o(u(n,l));s=s.mul(d).add(o(h))}else s=(s=s.mul(a)).add(o(h))}return s.unsigned=t,s}function h(e,t){return"number"==typeof e?o(e,t):"string"==typeof e?c(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=h;var d=4294967296,p=d*d,m=p/2,f=i(1<<24),g=i(0);n.ZERO=g;var y=i(0,!0);n.UZERO=y;var b=i(1);n.ONE=b;var w=i(1,!0);n.UONE=w;var v=i(-1);n.NEG_ONE=v;var A=l(-1,2147483647,!1);n.MAX_VALUE=A;var x=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var k=l(0,-2147483648,!1);n.MIN_VALUE=k;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=o(u(e,6),this.unsigned),s=this,i="";;){var l=s.div(a),c=(s.sub(l.mul(a)).toInt()>>>0).toString(e);if((s=l).isZero())return c+i;for(;c.length<6;)c="0"+c;i=""+c+i}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return r(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(r(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},C.neg=C.negate,C.add=function(e){r(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,s=65535&this.low,i=e.high>>>16,o=65535&e.high,u=e.low>>>16,c=0,d=0,p=0,m=0;return p+=(m+=s+(65535&e.low))>>>16,d+=(p+=a+u)>>>16,c+=(d+=n+o)>>>16,c+=t+i,l((p&=65535)<<16|(m&=65535),(c&=65535)<<16|(d&=65535),this.unsigned)},C.subtract=function(e){return r(e)||(e=h(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=h(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f)&&e.lt(f))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,s=this.low>>>16,i=65535&this.low,u=e.high>>>16,c=65535&e.high,d=e.low>>>16,p=65535&e.low,m=0,y=0,b=0,w=0;return b+=(w+=i*p)>>>16,y+=(b+=s*p)>>>16,b&=65535,y+=(b+=i*d)>>>16,m+=(y+=a*p)>>>16,y&=65535,m+=(y+=s*d)>>>16,y&=65535,m+=(y+=i*c)>>>16,m+=n*p+a*d+s*c+i*u,l((b&=65535)<<16|(w&=65535),(m&=65535)<<16|(y&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(r(e)||(e=h(e)),e.isZero())throw Error("division by zero");var n,a,s;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return w;s=y}else{if(this.eq(k))return e.eq(b)||e.eq(v)?k:e.eq(k)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:v:(a=this.sub(e.mul(n)),s=n.add(a.div(e)));if(e.eq(k))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=g}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),c=i<=48?1:u(2,i-48),d=o(n),p=d.mul(e);p.isNegative()||p.gt(a);)p=(d=o(n-=c,this.unsigned)).mul(e);d.isZero()&&(d=b),s=s.add(d),a=a.sub(p)}return s},C.div=C.divide,C.modulo=function(e){return r(e)||(e=h(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return l(~this.low,~this.high,this.unsigned)},C.and=function(e){return r(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return r(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return r(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},7871:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var numeric=exports;void 0!==__webpack_require__.g&&(__webpack_require__.g.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(e,t){var n,r,a;for(void 0===t&&(t=15),r=.5,n=new Date;;){for(a=r*=2;a>3;a-=4)e(),e(),e(),e();for(;a>0;)e(),a--;if(new Date-n>t)break}for(a=r;a>3;a-=4)e(),e(),e(),e();for(;a>0;)e(),a--;return 1e3*(3*r-1)/(new Date-n)},numeric._myIndexOf=function(e){var t,n=this.length;for(t=0;t<n;++t)if(this[t]===e)return t;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(e){function t(e){if(0===e)return"0";if(isNaN(e))return"NaN";if(e<0)return"-"+t(-e);if(isFinite(e)){var n=Math.floor(Math.log(e)/Math.log(10)),r=e/Math.pow(10,n),a=r.toPrecision(numeric.precision);return 10===parseFloat(a)&&(n++,a=(r=1).toPrecision(numeric.precision)),parseFloat(a).toString()+"e"+n.toString()}return"Infinity"}var n=[];return function e(r){var a;if(void 0===r)return n.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof r)return n.push('"'+r+'"'),!1;if("boolean"==typeof r)return n.push(r.toString()),!1;if("number"==typeof r){var s=t(r),i=r.toPrecision(numeric.precision),o=parseFloat(r.toString()).toString(),l=[s,i,o,parseFloat(i).toString(),parseFloat(o).toString()];for(a=1;a<l.length;a++)l[a].length<s.length&&(s=l[a]);return n.push(Array(numeric.precision+8-s.length).join(" ")+s),!1}if(null===r)return n.push("null"),!1;if("function"==typeof r){n.push(r.toString());var u=!1;for(a in r)r.hasOwnProperty(a)&&(u?n.push(",\n"):n.push("\n{"),u=!0,n.push(a),n.push(": \n"),e(r[a]));return u&&n.push("}\n"),!0}if(r instanceof Array){if(r.length>numeric.largeArray)return n.push("...Large Array..."),!0;u=!1;for(n.push("["),a=0;a<r.length;a++)a>0&&(n.push(","),u&&n.push("\n ")),u=e(r[a]);return n.push("]"),!0}for(a in n.push("{"),u=!1,r)r.hasOwnProperty(a)&&(u&&n.push(",\n"),u=!0,n.push(a),n.push(": \n"),e(r[a]));return n.push("}"),!0}(e),n.join("")},numeric.parseDate=function(e){return function e(t){if("string"==typeof t)return Date.parse(t.replace(/-/g,"/"));if(!(t instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var n,r=[];for(n=0;n<t.length;n++)r[n]=e(t[n]);return r}(e)},numeric.parseFloat=function(e){return function e(t){if("string"==typeof t)return parseFloat(t);if(!(t instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var n,r=[];for(n=0;n<t.length;n++)r[n]=e(t[n]);return r}(e)},numeric.parseCSV=function(e){var t,n,r,a=e.split("\n"),s=[],i=/(([^'",]*)|('[^']*')|("[^"]*")),/g,o=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,l=0;for(n=0;n<a.length;n++){var u,c=(a[n]+",").match(i);if(c.length>0){for(s[l]=[],t=0;t<c.length;t++)u=(r=c[t]).substr(0,r.length-1),o.test(u)?s[l][t]=parseFloat(u):s[l][t]=u;l++}}return s},numeric.toCSV=function(e){var t,n,r,a,s,i=numeric.dim(e);for(r=i[0],i[1],s=[],t=0;t<r;t++){for(a=[],n=0;n<r;n++)a[n]=e[t][n].toString();s[t]=a.join(", ")}return s.join("\n")+"\n"},numeric.getURL=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t},numeric.imageURL=function(e){function t(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);var r,a=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],s=-1;e.length;for(r=t;r<n;r++)s=s>>>8^a[255&(s^e[r])];return-1^s}var n,r,a,s,i,o,l,u,c,h,d=e[0].length,p=e[0][0].length,m=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,p>>24&255,p>>16&255,p>>8&255,255&p,d>>24&255,d>>16&255,d>>8&255,255&d,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(h=t(m,12,29),m[29]=h>>24&255,m[30]=h>>16&255,m[31]=h>>8&255,m[32]=255&h,n=1,r=0,l=0;l<d;l++){for(l<d-1?m.push(0):m.push(1),i=3*p+1+(0===l)&255,o=3*p+1+(0===l)>>8&255,m.push(i),m.push(o),m.push(255&~i),m.push(255&~o),0===l&&m.push(0),u=0;u<p;u++)for(a=0;a<3;a++)r=(r+(n=(n+(i=(i=e[a][l][u])>255?255:i<0?0:Math.round(i)))%65521))%65521,m.push(i);m.push(0)}return c=(r<<16)+n,m.push(c>>24&255),m.push(c>>16&255),m.push(c>>8&255),m.push(255&c),s=m.length-41,m[33]=s>>24&255,m[34]=s>>16&255,m[35]=s>>8&255,m[36]=255&s,h=t(m,37),m.push(h>>24&255),m.push(h>>16&255),m.push(h>>8&255),m.push(255&h),m.push(0),m.push(0),m.push(0),m.push(0),m.push(73),m.push(69),m.push(78),m.push(68),m.push(174),m.push(66),m.push(96),m.push(130),"data:image/png;base64,"+function(e){var t,n,r,a,s,i,o,l=e.length,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="";for(t=0;t<l;t+=3)s=((3&(n=e[t]))<<4)+((r=e[t+1])>>4),i=((15&r)<<2)+((a=e[t+2])>>6),o=63&a,t+1>=l?i=o=64:t+2>=l&&(o=64),c+=u.charAt(n>>2)+u.charAt(s)+u.charAt(i)+u.charAt(o);return c}(m)},numeric._dim=function(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t},numeric.dim=function(e){var t;return"object"==typeof e?"object"==typeof(t=e[0])?"object"==typeof t[0]?numeric._dim(e):[e.length,t.length]:[e.length]:[]},numeric.mapreduce=function(e,t){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+t+';\nif(typeof x === "number") { var xi = x; '+e+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+e+";\n    xi = x[i-1];\n    "+e+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+e+"\n}\nreturn accum;")},numeric.mapreduce2=function(e,t){return Function("x","var n = x.length;\nvar i,xi;\n"+t+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+e+";\n}\nreturn accum;")},numeric.same=function e(t,n){var r,a;if(!(t instanceof Array&&n instanceof Array))return!1;if((a=t.length)!==n.length)return!1;for(r=0;r<a;r++)if(t[r]!==n[r]){if("object"!=typeof t[r])return!1;if(!e(t[r],n[r]))return!1}return!0},numeric.rep=function(e,t,n){void 0===n&&(n=0);var r,a=e[n],s=Array(a);if(n===e.length-1){for(r=a-2;r>=0;r-=2)s[r+1]=t,s[r]=t;return-1===r&&(s[0]=t),s}for(r=a-1;r>=0;r--)s[r]=numeric.rep(e,t,n+1);return s},numeric.dotMMsmall=function(e,t){var n,r,a,s,i,o,l,u,c,h,d;for(s=e.length,i=t.length,o=t[0].length,l=Array(s),n=s-1;n>=0;n--){for(u=Array(o),c=e[n],a=o-1;a>=0;a--){for(h=c[i-1]*t[i-1][a],r=i-2;r>=1;r-=2)d=r-1,h+=c[r]*t[r][a]+c[d]*t[d][a];0===r&&(h+=c[0]*t[0][a]),u[a]=h}l[n]=u}return l},numeric._getCol=function(e,t,n){var r;for(r=e.length-1;r>0;--r)n[r]=e[r][t],n[--r]=e[r][t];0===r&&(n[0]=e[0][t])},numeric.dotMMbig=function(e,t){var n,r,a,s=numeric._getCol,i=t.length,o=Array(i),l=e.length,u=t[0].length,c=new Array(l),h=numeric.dotVV;for(--i,r=--l;-1!==r;--r)c[r]=Array(u);for(r=--u;-1!==r;--r)for(s(t,r,o),a=l;-1!==a;--a)0,n=e[a],c[a][r]=h(n,o);return c},numeric.dotMV=function(e,t){var n,r=e.length,a=(t.length,Array(r)),s=numeric.dotVV;for(n=r-1;n>=0;n--)a[n]=s(e[n],t);return a},numeric.dotVM=function(e,t){var n,r,a,s,i,o,l;for(a=e.length,s=t[0].length,i=Array(s),r=s-1;r>=0;r--){for(o=e[a-1]*t[a-1][r],n=a-2;n>=1;n-=2)l=n-1,o+=e[n]*t[n][r]+e[l]*t[l][r];0===n&&(o+=e[0]*t[0][r]),i[r]=o}return i},numeric.dotVV=function(e,t){var n,r,a=e.length,s=e[a-1]*t[a-1];for(n=a-2;n>=1;n-=2)r=n-1,s+=e[n]*t[n]+e[r]*t[r];return 0===n&&(s+=e[0]*t[0]),s},numeric.dot=function(e,t){var n=numeric.dim;switch(1e3*n(e).length+n(t).length){case 2002:return t.length<10?numeric.dotMMsmall(e,t):numeric.dotMMbig(e,t);case 2001:return numeric.dotMV(e,t);case 1002:return numeric.dotVM(e,t);case 1001:return numeric.dotVV(e,t);case 1e3:return numeric.mulVS(e,t);case 1:return numeric.mulSV(e,t);case 0:return e*t;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(e){var t,n,r,a,s=e.length,i=Array(s);for(t=s-1;t>=0;t--){for(a=Array(s),n=t+2,r=s-1;r>=n;r-=2)a[r]=0,a[r-1]=0;for(r>t&&(a[r]=0),a[t]=e[t],r=t-1;r>=1;r-=2)a[r]=0,a[r-1]=0;0===r&&(a[0]=0),i[t]=a}return i},numeric.getDiag=function(e){var t,n=Math.min(e.length,e[0].length),r=Array(n);for(t=n-1;t>=1;--t)r[t]=e[t][t],r[--t]=e[t][t];return 0===t&&(r[0]=e[0][0]),r},numeric.identity=function(e){return numeric.diag(numeric.rep([e],1))},numeric.pointwise=function(e,t,n){void 0===n&&(n="");var r,a,s=[],i=/\[i\]$/,o="",l=!1;for(r=0;r<e.length;r++)i.test(e[r])?o=a=e[r].substring(0,e[r].length-3):a=e[r],"ret"===a&&(l=!0),s.push(a);return s[e.length]="_s",s[e.length+1]="_k",s[e.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+o+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(l?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+e.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+t+"\n}\nreturn ret;",Function.apply(null,s)},numeric.pointwise2=function(e,t,n){void 0===n&&(n="");var r,a,s=[],i=/\[i\]$/,o="",l=!1;for(r=0;r<e.length;r++)i.test(e[r])?o=a=e[r].substring(0,e[r].length-3):a=e[r],"ret"===a&&(l=!0),s.push(a);return s[e.length]="var _n = "+o+".length;\nvar i"+(l?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+t+"\n}\nreturn ret;",Function.apply(null,s)},numeric._biforeach=function e(t,n,r,a,s){var i;if(a!==r.length-1)for(i=r[a]-1;i>=0;i--)e("object"==typeof t?t[i]:t,"object"==typeof n?n[i]:n,r,a+1,s);else s(t,n)},numeric._biforeach2=function e(t,n,r,a,s){if(a===r.length-1)return s(t,n);var i,o=r[a],l=Array(o);for(i=o-1;i>=0;--i)l[i]=e("object"==typeof t?t[i]:t,"object"==typeof n?n[i]:n,r,a+1,s);return l},numeric._foreach=function e(t,n,r,a){var s;if(r!==n.length-1)for(s=n[r]-1;s>=0;s--)e(t[s],n,r+1,a);else a(t)},numeric._foreach2=function e(t,n,r,a){if(r===n.length-1)return a(t);var s,i=n[r],o=Array(i);for(s=i-1;s>=0;s--)o[s]=e(t[s],n,r+1,a);return o},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var e,t;for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],numeric.ops2[t]=t;for(e in numeric.ops2)if(numeric.ops2.hasOwnProperty(e)){t=numeric.ops2[e];var n,r,a="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,e)?(a="var "+t+" = Math."+t+";\n",n=function(e,n,r){return e+" = "+t+"("+n+","+r+")"},r=function(e,n){return e+" = "+t+"("+e+","+n+")"}):(n=function(e,n,r){return e+" = "+n+" "+t+" "+r},r=numeric.opseq.hasOwnProperty(e+"eq")?function(e,n){return e+" "+t+"= "+n}:function(e,n){return e+" = "+e+" "+t+" "+n}),numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),a),numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),a),numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),a),numeric[e]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+r("x","y")+"\n}\nreturn x;\n"),numeric[t]=numeric[e],numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],r("ret[i]","x[i]"),a),numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],r("ret[i]","x"),a),numeric[e+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+e+"eqV, S = numeric."+e+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],delete numeric.ops2[t];for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],numeric.ops1[t]=t;for(e in numeric.ops1)numeric.ops1.hasOwnProperty(e)&&(a="",t=numeric.ops1[e],-1!==numeric.myIndexOf.call(numeric.mathfuns,e)&&Math.hasOwnProperty(t)&&(a="var "+t+" = Math."+t+";\n"),numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",a),numeric[e+"eq"]=Function("x",'if(typeof x !== "object") return '+t+"x\nvar i;\nvar V = numeric."+e+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",a),numeric[e]=Function("x",'if(typeof x !== "object") return '+t+"(x)\nvar i;\nvar V = numeric."+e+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],delete numeric.ops1[t];for(e in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(e)&&(t=numeric.mapreducers[e],numeric[e+"V"]=numeric.mapreduce2(t[0],t[1]),numeric[e]=Function("x","s","k",t[1]+'if(typeof x !== "object") {    xi = x;\n'+t[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+e+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+t[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(e,t){return"object"==typeof e?"object"==typeof t?numeric.truncVV(e,t):numeric.truncVS(e,t):"object"==typeof t?numeric.truncSV(e,t):Math.round(e/t)*t},numeric.inv=function(e){var t,n,r,a,s,i,o,l=numeric.dim(e),u=Math.abs,c=l[0],h=l[1],d=numeric.clone(e),p=numeric.identity(c);for(i=0;i<h;++i){var m=-1,f=-1;for(s=i;s!==c;++s)(o=u(d[s][i]))>f&&(m=s,f=o);for(n=d[m],d[m]=d[i],d[i]=n,a=p[m],p[m]=p[i],p[i]=a,e=n[i],o=i;o!==h;++o)n[o]/=e;for(o=h-1;-1!==o;--o)a[o]/=e;for(s=c-1;-1!==s;--s)if(s!==i){for(t=d[s],r=p[s],e=t[i],o=i+1;o!==h;++o)t[o]-=n[o]*e;for(o=h-1;o>0;--o)r[o]-=a[o]*e,r[--o]-=a[o]*e;0===o&&(r[0]-=a[0]*e)}}return p},numeric.det=function(e){var t=numeric.dim(e);if(2!==t.length||t[0]!==t[1])throw new Error("numeric: det() only works on square matrices");var n,r,a,s,i,o,l,u,c=t[0],h=1,d=numeric.clone(e);for(r=0;r<c-1;r++){for(a=r,n=r+1;n<c;n++)Math.abs(d[n][r])>Math.abs(d[a][r])&&(a=n);for(a!==r&&(l=d[a],d[a]=d[r],d[r]=l,h*=-1),s=d[r],n=r+1;n<c;n++){for(o=(i=d[n])[r]/s[r],a=r+1;a<c-1;a+=2)u=a+1,i[a]-=s[a]*o,i[u]-=s[u]*o;a!==c&&(i[a]-=s[a]*o)}if(0===s[r])return 0;h*=s[r]}return h*d[r][r]},numeric.transpose=function(e){var t,n,r,a,s,i=e.length,o=e[0].length,l=Array(o);for(n=0;n<o;n++)l[n]=Array(i);for(t=i-1;t>=1;t-=2){for(a=e[t],r=e[t-1],n=o-1;n>=1;--n)(s=l[n])[t]=a[n],s[t-1]=r[n],(s=l[--n])[t]=a[n],s[t-1]=r[n];0===n&&((s=l[0])[t]=a[0],s[t-1]=r[0])}if(0===t){for(r=e[0],n=o-1;n>=1;--n)l[n][0]=r[n],l[--n][0]=r[n];0===n&&(l[0][0]=r[0])}return l},numeric.negtranspose=function(e){var t,n,r,a,s,i=e.length,o=e[0].length,l=Array(o);for(n=0;n<o;n++)l[n]=Array(i);for(t=i-1;t>=1;t-=2){for(a=e[t],r=e[t-1],n=o-1;n>=1;--n)(s=l[n])[t]=-a[n],s[t-1]=-r[n],(s=l[--n])[t]=-a[n],s[t-1]=-r[n];0===n&&((s=l[0])[t]=-a[0],s[t-1]=-r[0])}if(0===t){for(r=e[0],n=o-1;n>=1;--n)l[n][0]=-r[n],l[--n][0]=-r[n];0===n&&(l[0][0]=-r[0])}return l},numeric._random=function e(t,n){var r,a,s=t[n],i=Array(s);if(n===t.length-1){for(a=Math.random,r=s-1;r>=1;r-=2)i[r]=a(),i[r-1]=a();return 0===r&&(i[0]=a()),i}for(r=s-1;r>=0;r--)i[r]=e(t,n+1);return i},numeric.random=function(e){return numeric._random(e,0)},numeric.norm2=function(e){return Math.sqrt(numeric.norm2Squared(e))},numeric.linspace=function(e,t,n){if(void 0===n&&(n=Math.max(Math.round(t-e)+1,1)),n<2)return 1===n?[e]:[];var r,a=Array(n);for(r=--n;r>=0;r--)a[r]=(r*t+(n-r)*e)/n;return a},numeric.getBlock=function(e,t,n){var r=numeric.dim(e);return function e(a,s){var i,o=t[s],l=n[s]-o,u=Array(l);if(s===r.length-1){for(i=l;i>=0;i--)u[i]=a[i+o];return u}for(i=l;i>=0;i--)u[i]=e(a[i+o],s+1);return u}(e,0)},numeric.setBlock=function(e,t,n,r){var a=numeric.dim(e);return function e(r,s,i){var o,l=t[i],u=n[i]-l;if(i===a.length-1)for(o=u;o>=0;o--)r[o+l]=s[o];for(o=u;o>=0;o--)e(r[o+l],s[o],i+1)}(e,r,0),e},numeric.getRange=function(e,t,n){var r,a,s,i,o=t.length,l=n.length,u=Array(o);for(r=o-1;-1!==r;--r)for(u[r]=Array(l),s=u[r],i=e[t[r]],a=l-1;-1!==a;--a)s[a]=i[n[a]];return u},numeric.blockMatrix=function(e){var t=numeric.dim(e);if(t.length<4)return numeric.blockMatrix([e]);var n,r,a,s,i,o=t[0],l=t[1];for(n=0,r=0,a=0;a<o;++a)n+=e[a][0].length;for(s=0;s<l;++s)r+=e[0][s][0].length;var u=Array(n);for(a=0;a<n;++a)u[a]=Array(r);var c,h,d,p,m,f=0;for(a=0;a<o;++a){for(c=r,s=l-1;-1!==s;--s)for(c-=(i=e[a][s])[0].length,d=i.length-1;-1!==d;--d)for(m=i[d],h=u[f+d],p=m.length-1;-1!==p;--p)h[c+p]=m[p];f+=e[a][0].length}return u},numeric.tensor=function(e,t){if("number"==typeof e||"number"==typeof t)return numeric.mul(e,t);var n=numeric.dim(e),r=numeric.dim(t);if(1!==n.length||1!==r.length)throw new Error("numeric: tensor product is only defined for vectors");var a,s,i,o,l=n[0],u=r[0],c=Array(l);for(s=l-1;s>=0;s--){for(a=Array(u),o=e[s],i=u-1;i>=3;--i)a[i]=o*t[i],a[--i]=o*t[i],a[--i]=o*t[i],a[--i]=o*t[i];for(;i>=0;)a[i]=o*t[i],--i;c[s]=a}return c},numeric.T=function(e,t){this.x=e,this.y=t},numeric.t=function(e,t){return new numeric.T(e,t)},numeric.Tbinop=function(e,t,n,r,a){var s;numeric.indexOf;if("string"!=typeof a)for(s in a="",numeric)numeric.hasOwnProperty(s)&&(e.indexOf(s)>=0||t.indexOf(s)>=0||n.indexOf(s)>=0||r.indexOf(s)>=0)&&s.length>1&&(a+="var "+s+" = numeric."+s+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+a+"\nif(x.y) {  if(y.y) {    return new numeric.T("+r+");\n  }\n  return new numeric.T("+n+");\n}\nif(y.y) {\n  return new numeric.T("+t+");\n}\nreturn new numeric.T("+e+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var e=numeric.mul,t=numeric.div;if(this.y){var n=numeric.add(e(this.x,this.x),e(this.y,this.y));return new numeric.T(t(this.x,n),t(numeric.neg(this.y),n))}return new T(t(1,this.x))},numeric.T.prototype.div=function(e){if(e instanceof numeric.T||(e=new numeric.T(e)),e.y)return this.mul(e.reciprocal());var t=numeric.div;return this.y?new numeric.T(t(this.x,e.x),t(this.y,e.x)):new numeric.T(t(this.x,e.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var e=numeric.transpose,t=this.x,n=this.y;return n?new numeric.T(e(t),e(n)):new numeric.T(e(t))},numeric.T.prototype.transjugate=function(){var e=numeric.transpose,t=this.x,n=this.y;return n?new numeric.T(e(t),numeric.negtranspose(n)):new numeric.T(e(t))},numeric.Tunop=function(e,t,n){return"string"!=typeof n&&(n=""),Function("var x = this;\n"+n+"\nif(x.y) {  "+t+";\n}\n"+e+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var e=this;if(void 0===e.y)return new numeric.T(numeric.inv(e.x));var t,n,r,a,s,i,o,l,u,c,h,d,p,m,f,g,y,b,w=e.x.length,v=numeric.identity(w),A=numeric.rep([w,w],0),x=numeric.clone(e.x),k=numeric.clone(e.y);for(u=0;u<w;u++){for(d=(m=x[u][u])*m+(f=k[u][u])*f,h=u,c=u+1;c<w;c++)(p=(m=x[c][u])*m+(f=k[c][u])*f)>d&&(h=c,d=p);for(h!==u&&(b=x[u],x[u]=x[h],x[h]=b,b=k[u],k[u]=k[h],k[h]=b,b=v[u],v[u]=v[h],v[h]=b,b=A[u],A[u]=A[h],A[h]=b),t=x[u],n=k[u],s=v[u],i=A[u],m=t[u],f=n[u],c=u+1;c<w;c++)g=t[c],y=n[c],t[c]=(g*m+y*f)/d,n[c]=(y*m-g*f)/d;for(c=0;c<w;c++)g=s[c],y=i[c],s[c]=(g*m+y*f)/d,i[c]=(y*m-g*f)/d;for(c=u+1;c<w;c++){for(r=x[c],a=k[c],o=v[c],l=A[c],m=r[u],f=a[u],h=u+1;h<w;h++)g=t[h],y=n[h],r[h]-=g*m-y*f,a[h]-=y*m+g*f;for(h=0;h<w;h++)g=s[h],y=i[h],o[h]-=g*m-y*f,l[h]-=y*m+g*f}}for(u=w-1;u>0;u--)for(s=v[u],i=A[u],c=u-1;c>=0;c--)for(o=v[c],l=A[c],m=x[c][u],f=k[c][u],h=w-1;h>=0;h--)g=s[h],y=i[h],o[h]-=m*g-f*y,l[h]-=m*y+f*g;return new numeric.T(v,A)},numeric.T.prototype.get=function(e){var t,n=this.x,r=this.y,a=0,s=e.length;if(r){for(;a<s;)n=n[t=e[a]],r=r[t],a++;return new numeric.T(n,r)}for(;a<s;)n=n[t=e[a]],a++;return new numeric.T(n)},numeric.T.prototype.set=function(e,t){var n,r=this.x,a=this.y,s=0,i=e.length,o=t.x,l=t.y;if(0===i)return l?this.y=l:a&&(this.y=void 0),this.x=r,this;if(l){for(a||(a=numeric.rep(numeric.dim(r),0),this.y=a);s<i-1;)r=r[n=e[s]],a=a[n],s++;return r[n=e[s]]=o,a[n]=l,this}if(a){for(;s<i-1;)r=r[n=e[s]],a=a[n],s++;return r[n=e[s]]=o,a[n]=o instanceof Array?numeric.rep(numeric.dim(o),0):0,this}for(;s<i-1;)r=r[n=e[s]],s++;return r[n=e[s]]=o,this},numeric.T.prototype.getRows=function(e,t){var n,r,a=t-e+1,s=Array(a),i=this.x,o=this.y;for(n=e;n<=t;n++)s[n-e]=i[n];if(o){for(r=Array(a),n=e;n<=t;n++)r[n-e]=o[n];return new numeric.T(s,r)}return new numeric.T(s)},numeric.T.prototype.setRows=function(e,t,n){var r,a=this.x,s=this.y,i=n.x,o=n.y;for(r=e;r<=t;r++)a[r]=i[r-e];if(o)for(s||(s=numeric.rep(numeric.dim(a),0),this.y=s),r=e;r<=t;r++)s[r]=o[r-e];else if(s)for(r=e;r<=t;r++)s[r]=numeric.rep([i[r-e].length],0);return this},numeric.T.prototype.getRow=function(e){var t=this.x,n=this.y;return n?new numeric.T(t[e],n[e]):new numeric.T(t[e])},numeric.T.prototype.setRow=function(e,t){var n=this.x,r=this.y,a=t.x,s=t.y;return n[e]=a,s?(r||(r=numeric.rep(numeric.dim(n),0),this.y=r),r[e]=s):r&&(r=numeric.rep([a.length],0)),this},numeric.T.prototype.getBlock=function(e,t){var n=this.x,r=this.y,a=numeric.getBlock;return r?new numeric.T(a(n,e,t),a(r,e,t)):new numeric.T(a(n,e,t))},numeric.T.prototype.setBlock=function(e,t,n){n instanceof numeric.T||(n=new numeric.T(n));var r=this.x,a=this.y,s=numeric.setBlock,i=n.x,o=n.y;if(o)return a||(this.y=numeric.rep(numeric.dim(this),0),a=this.y),s(r,e,t,i),s(a,e,t,o),this;s(r,e,t,i),a&&s(a,e,t,numeric.rep(numeric.dim(i),0))},numeric.T.rep=function(e,t){var n=numeric.T;t instanceof n||(t=new n(t));var r=t.x,a=t.y,s=numeric.rep;return a?new n(s(e,r),s(e,a)):new n(s(e,r))},numeric.T.diag=function(e){e instanceof numeric.T||(e=new numeric.T(e));var t=e.x,n=e.y,r=numeric.diag;return n?new numeric.T(r(t),r(n)):new numeric.T(r(t))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(e){return new numeric.T(numeric.identity(e))},numeric.T.prototype.getDiag=function(){var e=numeric,t=this.x,n=this.y;return n?new e.T(e.getDiag(t),e.getDiag(n)):new e.T(e.getDiag(t))},numeric.house=function(e){var t=numeric.clone(e),n=(e[0]>=0?1:-1)*numeric.norm2(e);t[0]+=n;var r=numeric.norm2(t);if(0===r)throw new Error("eig: internal error");return numeric.div(t,r)},numeric.toUpperHessenberg=function(e){var t=numeric.dim(e);if(2!==t.length||t[0]!==t[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n,r,a,s,i,o,l,u,c,h,d=t[0],p=numeric.clone(e),m=numeric.identity(d);for(r=0;r<d-2;r++){for(s=Array(d-r-1),n=r+1;n<d;n++)s[n-r-1]=p[n][r];if(numeric.norm2(s)>0){for(i=numeric.house(s),o=numeric.getBlock(p,[r+1,r],[d-1,d-1]),l=numeric.tensor(i,numeric.dot(i,o)),n=r+1;n<d;n++)for(u=p[n],c=l[n-r-1],a=r;a<d;a++)u[a]-=2*c[a-r];for(o=numeric.getBlock(p,[0,r+1],[d-1,d-1]),l=numeric.tensor(numeric.dot(o,i),i),n=0;n<d;n++)for(u=p[n],c=l[n],a=r+1;a<d;a++)u[a]-=2*c[a-r-1];for(o=Array(d-r-1),n=r+1;n<d;n++)o[n-r-1]=m[n];for(l=numeric.tensor(i,numeric.dot(i,o)),n=r+1;n<d;n++)for(h=m[n],c=l[n-r-1],a=0;a<d;a++)h[a]-=2*c[a]}}return{H:p,Q:m}},numeric.epsilon=2220446049250313e-31,numeric.QRFrancis=function(e,t){void 0===t&&(t=1e4),e=numeric.clone(e);numeric.clone(e);var n,r,a,s,i,o,l,u,c,h,d,p,m,f,g,y,b,w,v=numeric.dim(e)[0],A=numeric.identity(v);if(v<3)return{Q:A,B:[[0,v-1]]};var x=numeric.epsilon;for(w=0;w<t;w++){for(y=0;y<v-1;y++)if(Math.abs(e[y+1][y])<x*(Math.abs(e[y][y])+Math.abs(e[y+1][y+1]))){var k=numeric.QRFrancis(numeric.getBlock(e,[0,0],[y,y]),t),C=numeric.QRFrancis(numeric.getBlock(e,[y+1,y+1],[v-1,v-1]),t);for(p=Array(y+1),g=0;g<=y;g++)p[g]=A[g];for(m=numeric.dot(k.Q,p),g=0;g<=y;g++)A[g]=m[g];for(p=Array(v-y-1),g=y+1;g<v;g++)p[g-y-1]=A[g];for(m=numeric.dot(C.Q,p),g=y+1;g<v;g++)A[g]=m[g-y-1];return{Q:A,B:k.B.concat(numeric.add(C.B,y+1))}}var S,E,I;if(a=e[v-2][v-2],s=e[v-2][v-1],i=e[v-1][v-2],u=a+(o=e[v-1][v-1]),l=a*o-s*i,c=numeric.getBlock(e,[0,0],[2,2]),u*u>=4*l)S=.5*(u+Math.sqrt(u*u-4*l)),E=.5*(u-Math.sqrt(u*u-4*l)),c=numeric.add(numeric.sub(numeric.dot(c,c),numeric.mul(c,S+E)),numeric.diag(numeric.rep([3],S*E)));else c=numeric.add(numeric.sub(numeric.dot(c,c),numeric.mul(c,u)),numeric.diag(numeric.rep([3],l)));for(n=[c[0][0],c[1][0],c[2][0]],r=numeric.house(n),p=[e[0],e[1],e[2]],m=numeric.tensor(r,numeric.dot(r,p)),g=0;g<3;g++)for(d=e[g],f=m[g],b=0;b<v;b++)d[b]-=2*f[b];for(p=numeric.getBlock(e,[0,0],[v-1,2]),m=numeric.tensor(numeric.dot(p,r),r),g=0;g<v;g++)for(d=e[g],f=m[g],b=0;b<3;b++)d[b]-=2*f[b];for(p=[A[0],A[1],A[2]],m=numeric.tensor(r,numeric.dot(r,p)),g=0;g<3;g++)for(h=A[g],f=m[g],b=0;b<v;b++)h[b]-=2*f[b];for(y=0;y<v-2;y++){for(b=y;b<=y+1;b++)if(Math.abs(e[b+1][b])<x*(Math.abs(e[b][b])+Math.abs(e[b+1][b+1]))){k=numeric.QRFrancis(numeric.getBlock(e,[0,0],[b,b]),t),C=numeric.QRFrancis(numeric.getBlock(e,[b+1,b+1],[v-1,v-1]),t);for(p=Array(b+1),g=0;g<=b;g++)p[g]=A[g];for(m=numeric.dot(k.Q,p),g=0;g<=b;g++)A[g]=m[g];for(p=Array(v-b-1),g=b+1;g<v;g++)p[g-b-1]=A[g];for(m=numeric.dot(C.Q,p),g=b+1;g<v;g++)A[g]=m[g-b-1];return{Q:A,B:k.B.concat(numeric.add(C.B,b+1))}}for(I=Math.min(v-1,y+3),n=Array(I-y),g=y+1;g<=I;g++)n[g-y-1]=e[g][y];for(r=numeric.house(n),p=numeric.getBlock(e,[y+1,y],[I,v-1]),m=numeric.tensor(r,numeric.dot(r,p)),g=y+1;g<=I;g++)for(d=e[g],f=m[g-y-1],b=y;b<v;b++)d[b]-=2*f[b-y];for(p=numeric.getBlock(e,[0,y+1],[v-1,I]),m=numeric.tensor(numeric.dot(p,r),r),g=0;g<v;g++)for(d=e[g],f=m[g],b=y+1;b<=I;b++)d[b]-=2*f[b-y-1];for(p=Array(I-y),g=y+1;g<=I;g++)p[g-y-1]=A[g];for(m=numeric.tensor(r,numeric.dot(r,p)),g=y+1;g<=I;g++)for(h=A[g],f=m[g-y-1],b=0;b<v;b++)h[b]-=2*f[b]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(e,t){var n,r,a,s,i,o,l,u,c,h,d,p,m,f,g,y,b=numeric.toUpperHessenberg(e),w=numeric.QRFrancis(b.H,t),v=numeric.T,A=e.length,x=w.B,k=numeric.dot(w.Q,numeric.dot(b.H,numeric.transpose(w.Q))),C=new v(numeric.dot(w.Q,b.Q)),S=x.length,E=Math.sqrt;for(r=0;r<S;r++)if((n=x[r][0])===x[r][1]);else{if(s=n+1,i=k[n][n],o=k[n][s],l=k[s][n],u=k[s][s],0===o&&0===l)continue;(h=(c=-i-u)*c-4*(i*u-o*l))>=0?((g=(i-(d=c<0?-.5*(c-E(h)):-.5*(c+E(h))))*(i-d)+o*o)>(y=l*l+(u-d)*(u-d))?(m=(i-d)/(g=E(g)),f=o/g):(m=l/(y=E(y)),f=(u-d)/y),a=new v([[f,-m],[m,f]]),C.setRows(n,s,a.dot(C.getRows(n,s)))):(d=-.5*c,p=.5*E(-h),(g=(i-d)*(i-d)+o*o)>(y=l*l+(u-d)*(u-d))?(m=(i-d)/(g=E(g+p*p)),f=o/g,d=0,p/=g):(m=l/(y=E(y+p*p)),f=(u-d)/y,d=p/y,p=0),a=new v([[f,-m],[m,f]],[[d,p],[p,-d]]),C.setRows(n,s,a.dot(C.getRows(n,s))))}var I=C.dot(e).dot(C.transjugate()),T=(A=e.length,numeric.T.identity(A));for(s=0;s<A;s++)if(s>0)for(r=s-1;r>=0;r--){var N=I.get([r,r]),D=I.get([s,s]);numeric.neq(N.x,D.x)||numeric.neq(N.y,D.y)?(d=I.getRow(r).getBlock([r],[s-1]),p=T.getRow(s).getBlock([r],[s-1]),T.set([s,r],I.get([r,s]).neg().sub(d.dot(p)).div(N.sub(D)))):T.setRow(s,T.getRow(r))}for(s=0;s<A;s++)d=T.getRow(s),T.setRow(s,d.div(d.norm2()));return T=T.transpose(),T=C.transjugate().dot(T),{lambda:I.getDiag(),E:T}},numeric.ccsSparse=function(e){var t,n,r,a=e.length,s=[];for(n=a-1;-1!==n;--n)for(r in t=e[n]){for(r=parseInt(r);r>=s.length;)s[s.length]=0;0!==t[r]&&s[r]++}var i=s.length,o=Array(i+1);for(o[0]=0,n=0;n<i;++n)o[n+1]=o[n]+s[n];var l=Array(o[i]),u=Array(o[i]);for(n=a-1;-1!==n;--n)for(r in t=e[n])0!==t[r]&&(s[r]--,l[o[r]+s[r]]=n,u[o[r]+s[r]]=t[r]);return[o,l,u]},numeric.ccsFull=function(e){var t,n,r,a,s=e[0],i=e[1],o=e[2],l=numeric.ccsDim(e),u=l[0],c=l[1],h=numeric.rep([u,c],0);for(t=0;t<c;t++)for(r=s[t],a=s[t+1],n=r;n<a;++n)h[i[n]][t]=o[n];return h},numeric.ccsTSolve=function(e,t,n,r,a){var s,i,o,l,u,c,h,d=e[0],p=e[1],m=e[2],f=d.length-1,g=Math.max,y=0;function b(e){var t;if(0===n[e]){for(n[e]=1,t=d[e];t<d[e+1];++t)b(p[t]);a[y]=e,++y}}for(void 0===r&&(n=numeric.rep([f],0)),void 0===r&&(r=numeric.linspace(0,n.length-1)),void 0===a&&(a=[]),s=r.length-1;-1!==s;--s)b(r[s]);for(a.length=y,s=a.length-1;-1!==s;--s)n[a[s]]=0;for(s=r.length-1;-1!==s;--s)i=r[s],n[i]=t[i];for(s=a.length-1;-1!==s;--s){for(i=a[s],o=d[i],l=g(d[i+1],o),u=o;u!==l;++u)if(p[u]===i){n[i]/=m[u];break}for(h=n[i],u=o;u!==l;++u)(c=p[u])!==i&&(n[c]-=h*m[u])}return n},numeric.ccsDFS=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS.prototype.dfs=function(e,t,n,r,a,s){var i,o,l,u=0,c=a.length,h=this.k,d=this.k1,p=this.j;if(0===r[e])for(r[e]=1,p[0]=e,h[0]=o=t[e],d[0]=l=t[e+1];;)if(o>=l){if(a[c]=p[u],0===u)return;++c,o=h[--u],l=d[u]}else 0===r[i=s[n[o]]]?(r[i]=1,h[u]=o,p[++u]=i,o=t[i],d[u]=l=t[i+1]):++o},numeric.ccsLPSolve=function(e,t,n,r,a,s,i){var o,l,u,c,h,d,p,m,f,g=e[0],y=e[1],b=e[2],w=(g.length,t[0]),v=t[1],A=t[2];for(l=w[a],u=w[a+1],r.length=0,o=l;o<u;++o)i.dfs(s[v[o]],g,y,n,r,s);for(o=r.length-1;-1!==o;--o)n[r[o]]=0;for(o=l;o!==u;++o)n[c=s[v[o]]]=A[o];for(o=r.length-1;-1!==o;--o){for(h=g[c=r[o]],d=g[c+1],p=h;p<d;++p)if(s[y[p]]===c){n[c]/=b[p];break}for(f=n[c],p=h;p<d;++p)(m=s[y[p]])!==c&&(n[m]-=f*b[p])}return n},numeric.ccsLUP1=function(e,t){var n,r,a,s,i,o,l,u=e[0].length-1,c=[numeric.rep([u+1],0),[],[]],h=[numeric.rep([u+1],0),[],[]],d=c[0],p=c[1],m=c[2],f=h[0],g=h[1],y=h[2],b=numeric.rep([u],0),w=numeric.rep([u],0),v=numeric.ccsLPSolve,A=(Math.max,Math.abs),x=numeric.linspace(0,u-1),k=numeric.linspace(0,u-1),C=new numeric.ccsDFS(u);for(void 0===t&&(t=1),n=0;n<u;++n){for(v(c,e,b,w,n,k,C),s=-1,i=-1,r=w.length-1;-1!==r;--r)(a=w[r])<=n||(o=A(b[a]))>s&&(i=a,s=o);for(A(b[n])<t*s&&(r=x[n],s=x[i],x[n]=s,k[s]=n,x[i]=r,k[r]=i,s=b[n],b[n]=b[i],b[i]=s),s=d[n],i=f[n],l=b[n],p[s]=x[n],m[s]=1,++s,r=w.length-1;-1!==r;--r)o=b[a=w[r]],w[r]=0,b[a]=0,a<=n?(g[i]=a,y[i]=o,++i):(p[s]=x[a],m[s]=o/l,++s);d[n+1]=s,f[n+1]=i}for(r=p.length-1;-1!==r;--r)p[r]=k[p[r]];return{L:c,U:h,P:x,Pinv:k}},numeric.ccsDFS0=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS0.prototype.dfs=function(e,t,n,r,a,s,i){var o,l,u,c=0,h=a.length,d=this.k,p=this.k1,m=this.j;if(0===r[e])for(r[e]=1,m[0]=e,d[0]=l=t[s[e]],p[0]=u=t[s[e]+1];;){if(isNaN(l))throw new Error("Ow!");if(l>=u){if(a[h]=s[m[c]],0===c)return;++h,l=d[--c],u=p[c]}else 0===r[o=n[l]]?(r[o]=1,d[c]=l,m[++c]=o,l=t[o=s[o]],p[c]=u=t[o+1]):++l}},numeric.ccsLPSolve0=function(e,t,n,r,a,s,i,o){var l,u,c,h,d,p,m,f,g,y=e[0],b=e[1],w=e[2],v=(y.length,t[0]),A=t[1],x=t[2];for(u=v[a],c=v[a+1],r.length=0,l=u;l<c;++l)o.dfs(A[l],y,b,n,r,s,i);for(l=r.length-1;-1!==l;--l)n[i[h=r[l]]]=0;for(l=u;l!==c;++l)n[h=A[l]]=x[l];for(l=r.length-1;-1!==l;--l){for(f=i[h=r[l]],d=y[h],p=y[h+1],m=d;m<p;++m)if(b[m]===f){n[f]/=w[m];break}for(g=n[f],m=d;m<p;++m)n[b[m]]-=g*w[m];n[f]=g}},numeric.ccsLUP0=function(e,t){var n,r,a,s,i,o,l,u=e[0].length-1,c=[numeric.rep([u+1],0),[],[]],h=[numeric.rep([u+1],0),[],[]],d=c[0],p=c[1],m=c[2],f=h[0],g=h[1],y=h[2],b=numeric.rep([u],0),w=numeric.rep([u],0),v=numeric.ccsLPSolve0,A=(Math.max,Math.abs),x=numeric.linspace(0,u-1),k=numeric.linspace(0,u-1),C=new numeric.ccsDFS0(u);for(void 0===t&&(t=1),n=0;n<u;++n){for(v(c,e,b,w,n,k,x,C),s=-1,i=-1,r=w.length-1;-1!==r;--r)(a=w[r])<=n||(o=A(b[x[a]]))>s&&(i=a,s=o);for(A(b[x[n]])<t*s&&(r=x[n],s=x[i],x[n]=s,k[s]=n,x[i]=r,k[r]=i),s=d[n],i=f[n],l=b[x[n]],p[s]=x[n],m[s]=1,++s,r=w.length-1;-1!==r;--r)o=b[x[a=w[r]]],w[r]=0,b[x[a]]=0,a<=n?(g[i]=a,y[i]=o,++i):(p[s]=x[a],m[s]=o/l,++s);d[n+1]=s,f[n+1]=i}for(r=p.length-1;-1!==r;--r)p[r]=k[p[r]];return{L:c,U:h,P:x,Pinv:k}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(e){return[numeric.sup(e[1])+1,e[0].length-1]},numeric.ccsGetBlock=function(e,t,n){var r=numeric.ccsDim(e),a=r[0],s=r[1];void 0===t?t=numeric.linspace(0,a-1):"number"==typeof t&&(t=[t]),void 0===n?n=numeric.linspace(0,s-1):"number"==typeof n&&(n=[n]);var i,o,l,u,c=t.length,h=n.length,d=numeric.rep([s],0),p=[],m=[],f=[d,p,m],g=e[0],y=e[1],b=e[2],w=numeric.rep([a],0),v=0,A=numeric.rep([a],0);for(o=0;o<h;++o){var x=g[u=n[o]],k=g[u+1];for(i=x;i<k;++i)A[l=y[i]]=1,w[l]=b[i];for(i=0;i<c;++i)A[t[i]]&&(p[v]=i,m[v]=w[t[i]],++v);for(i=x;i<k;++i)A[l=y[i]]=0;d[o+1]=v}return f},numeric.ccsDot=function(e,t){var n,r,a,s,i,o,l,u,c,h,d,p=e[0],m=e[1],f=e[2],g=t[0],y=t[1],b=t[2],w=numeric.ccsDim(e),v=numeric.ccsDim(t),A=w[0],x=(w[1],v[1]),k=numeric.rep([A],0),C=numeric.rep([A],0),S=Array(A),E=numeric.rep([x],0),I=[],T=[],N=[E,I,T];for(a=0;a!==x;++a){for(s=g[a],i=g[a+1],c=0,r=s;r<i;++r)for(h=y[r],d=b[r],o=p[h],l=p[h+1],n=o;n<l;++n)0===C[u=m[n]]&&(S[c]=u,C[u]=1,c+=1),k[u]=k[u]+f[n]*d;for(i=(s=E[a])+c,E[a+1]=i,r=c-1;-1!==r;--r)d=s+r,n=S[r],I[d]=n,T[d]=k[n],C[n]=0,k[n]=0;E[a+1]=E[a]+c}return N},numeric.ccsLUPSolve=function(e,t){var n=e.L,r=e.U,a=(e.P,t[0]),s=!1;"object"!=typeof a&&(a=(t=[[0,t.length],numeric.linspace(0,t.length-1),t])[0],s=!0);var i,o,l,u,c,h,d=t[1],p=t[2],m=n[0].length-1,f=a.length-1,g=numeric.rep([m],0),y=Array(m),b=numeric.rep([m],0),w=Array(m),v=numeric.rep([f+1],0),A=[],x=[],k=numeric.ccsTSolve,C=0;for(i=0;i<f;++i){for(c=0,l=a[i],u=a[i+1],o=l;o<u;++o)h=e.Pinv[d[o]],w[c]=h,b[h]=p[o],++c;for(w.length=c,k(n,b,g,w,y),o=w.length-1;-1!==o;--o)b[w[o]]=0;if(k(r,g,b,y,w),s)return b;for(o=y.length-1;-1!==o;--o)g[y[o]]=0;for(o=w.length-1;-1!==o;--o)h=w[o],A[C]=h,x[C]=b[h],b[h]=0,++C;v[i+1]=C}return[v,A,x]},numeric.ccsbinop=function(e,t){return void 0===t&&(t=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+t+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+e+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(e){var t,n=e[0],r=e[1],a=e[2],s=numeric.sup(r)+1,i=n.length,o=numeric.rep([s],0),l=Array(i),u=Array(i),c=numeric.rep([s],0);for(t=0;t<i;++t)c[r[t]]++;for(t=0;t<s;++t)o[t+1]=o[t]+c[t];var h,d,p=o.slice(0);for(t=0;t<i;++t)l[h=p[d=r[t]]]=n[t],u[h]=a[t],p[d]=p[d]+1;return[o,l,u]},numeric.ccsGather=function(e){var t,n,r,a,s,i=e[0],o=e[1],l=e[2],u=i.length-1,c=o.length,h=Array(c),d=Array(c),p=Array(c);for(s=0,t=0;t<u;++t)for(r=i[t],a=i[t+1],n=r;n!==a;++n)d[s]=t,h[s]=o[n],p[s]=l[n],++s;return[h,d,p]},numeric.sdim=function e(t,n,r){if(void 0===n&&(n=[]),"object"!=typeof t)return n;var a;for(a in void 0===r&&(r=0),r in n||(n[r]=0),t.length>n[r]&&(n[r]=t.length),t)t.hasOwnProperty(a)&&e(t[a],n,r+1);return n},numeric.sclone=function e(t,n,r){void 0===n&&(n=0),void 0===r&&(r=numeric.sdim(t).length);var a,s=Array(t.length);if(n===r-1){for(a in t)t.hasOwnProperty(a)&&(s[a]=t[a]);return s}for(a in t)t.hasOwnProperty(a)&&(s[a]=e(t[a],n+1,r));return s},numeric.sdiag=function(e){var t,n,r=e.length,a=Array(r);for(t=r-1;t>=1;t-=2)n=t-1,a[t]=[],a[t][t]=e[t],a[n]=[],a[n][n]=e[n];return 0===t&&(a[0]=[],a[0][0]=e[t]),a},numeric.sidentity=function(e){return numeric.sdiag(numeric.rep([e],1))},numeric.stranspose=function(e){var t,n,r,a=[];e.length;for(t in e)if(e.hasOwnProperty(t))for(n in r=e[t])r.hasOwnProperty(n)&&("object"!=typeof a[n]&&(a[n]=[]),a[n][t]=r[n]);return a},numeric.sLUP=function(e,t){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(e,t){var n,r,a,s,i,o,l,u=e.length,c=(t.length,numeric.stranspose(t)),h=c.length,d=Array(u);for(a=u-1;a>=0;a--){for(l=[],n=e[a],i=h-1;i>=0;i--){for(s in o=0,r=c[i],n)n.hasOwnProperty(s)&&s in r&&(o+=n[s]*r[s]);o&&(l[i]=o)}d[a]=l}return d},numeric.sdotMV=function(e,t){var n,r,a,s,i=e.length,o=Array(i);for(r=i-1;r>=0;r--){for(a in s=0,n=e[r])n.hasOwnProperty(a)&&t[a]&&(s+=n[a]*t[a]);s&&(o[r]=s)}return o},numeric.sdotVM=function(e,t){var n,r,a,s,i=[];for(n in e)if(e.hasOwnProperty(n))for(r in a=t[n],s=e[n],a)a.hasOwnProperty(r)&&(i[r]||(i[r]=0),i[r]+=s*a[r]);return i},numeric.sdotVV=function(e,t){var n,r=0;for(n in e)e[n]&&t[n]&&(r+=e[n]*t[n]);return r},numeric.sdot=function(e,t){var n=numeric.sdim(e).length,r=numeric.sdim(t).length;switch(1e3*n+r){case 0:return e*t;case 1001:return numeric.sdotVV(e,t);case 2001:return numeric.sdotMV(e,t);case 1002:return numeric.sdotVM(e,t);case 2002:return numeric.sdotMM(e,t);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+r)}},numeric.sscatter=function(e){var t,n,r,a,s=e[0].length,i=e.length,o=[];for(n=s-1;n>=0;--n)if(e[i-1][n]){for(a=o,r=0;r<i-2;r++)a[t=e[r][n]]||(a[t]=[]),a=a[t];a[e[r][n]]=e[r+1][n]}return o},numeric.sgather=function e(t,n,r){var a,s,i;for(s in void 0===n&&(n=[]),void 0===r&&(r=[]),a=r.length,t)if(t.hasOwnProperty(s))if(r[a]=parseInt(s),"number"==typeof(i=t[s])){if(i){if(0===n.length)for(s=a+1;s>=0;--s)n[s]=[];for(s=a;s>=0;--s)n[s].push(r[s]);n[a+1].push(i)}}else e(i,n,r);return r.length>a&&r.pop(),n},numeric.cLU=function(e){var t,n,r,a,s,i,o=e[0],l=e[1],u=e[2],c=o.length,h=0;for(t=0;t<c;t++)o[t]>h&&(h=o[t]);h++;var d,p=Array(h),m=Array(h),f=numeric.rep([h],1/0),g=numeric.rep([h],-1/0);for(r=0;r<c;r++)t=o[r],(n=l[r])<f[t]&&(f[t]=n),n>g[t]&&(g[t]=n);for(t=0;t<h-1;t++)g[t]>g[t+1]&&(g[t+1]=g[t]);for(t=h-1;t>=1;t--)f[t]<f[t-1]&&(f[t-1]=f[t]);for(t=0;t<h;t++)m[t]=numeric.rep([g[t]-f[t]+1],0),p[t]=numeric.rep([t-f[t]],0),t-f[t]+1,g[t]-t+1;for(r=0;r<c;r++)m[t=o[r]][l[r]-f[t]]=u[r];for(t=0;t<h-1;t++)for(a=t-f[t],w=m[t],n=t+1;f[n]<=t&&n<h;n++)if(s=t-f[n],i=g[t]-t,d=(v=m[n])[s]/w[a]){for(r=1;r<=i;r++)v[r+s]-=d*w[r+a];p[n][t-f[n]]=d}var y,b,w=[],v=[],A=[],x=[],k=[],C=[];for(c=0,y=0,t=0;t<h;t++){for(a=f[t],s=g[t],b=m[t],n=t;n<=s;n++)b[n-a]&&(w[c]=t,v[c]=n,A[c]=b[n-a],c++);for(b=p[t],n=a;n<t;n++)b[n-a]&&(x[y]=t,k[y]=n,C[y]=b[n-a],y++);x[y]=t,k[y]=t,C[y]=1,y++}return{U:[w,v,A],L:[x,k,C]}},numeric.cLUsolve=function(e,t){var n,r,a=e.L,s=e.U,i=numeric.clone(t),o=a[0],l=a[1],u=a[2],c=s[0],h=s[1],d=s[2],p=c.length,m=(o.length,i.length);for(r=0,n=0;n<m;n++){for(;l[r]<n;)i[n]-=u[r]*i[l[r]],r++;r++}for(r=p-1,n=m-1;n>=0;n--){for(;h[r]>n;)i[n]-=d[r]*i[h[r]],r--;i[n]/=d[r],r--}return i},numeric.cgrid=function(e,t){"number"==typeof e&&(e=[e,e]);var n,r,a,s=numeric.rep(e,-1);if("function"!=typeof t)if("L"===t)t=function(t,n){return t>=e[0]/2||n<e[1]/2};else t=function(e,t){return!0};for(a=0,n=1;n<e[0]-1;n++)for(r=1;r<e[1]-1;r++)t(n,r)&&(s[n][r]=a,a++);return s},numeric.cdelsq=function(e){var t,n,r,a,s,i=[[-1,0],[0,-1],[0,1],[1,0]],o=numeric.dim(e),l=o[0],u=o[1],c=[],h=[],d=[];for(t=1;t<l-1;t++)for(n=1;n<u-1;n++)if(!(e[t][n]<0)){for(r=0;r<4;r++)a=t+i[r][0],s=n+i[r][1],e[a][s]<0||(c.push(e[t][n]),h.push(e[a][s]),d.push(-1));c.push(e[t][n]),h.push(e[t][n]),d.push(4)}return[c,h,d]},numeric.cdotMV=function(e,t){var n,r,a,s=e[0],i=e[1],o=e[2],l=s.length;for(a=0,r=0;r<l;r++)s[r]>a&&(a=s[r]);for(a++,n=numeric.rep([a],0),r=0;r<l;r++)n[s[r]]+=o[r]*t[i[r]];return n},numeric.Spline=function(e,t,n,r,a){this.x=e,this.yl=t,this.yr=n,this.kl=r,this.kr=a},numeric.Spline.prototype._at=function(e,t){var n,r,a,s=this.x,i=this.yl,o=this.yr,l=this.kl,u=this.kr,c=numeric.add,h=numeric.sub,d=numeric.mul;n=h(d(l[t],s[t+1]-s[t]),h(o[t+1],i[t])),r=c(d(u[t+1],s[t]-s[t+1]),h(o[t+1],i[t]));var p=(a=(e-s[t])/(s[t+1]-s[t]))*(1-a);return c(c(c(d(1-a,i[t]),d(a,o[t+1])),d(n,p*(1-a))),d(r,p*a))},numeric.Spline.prototype.at=function(e){if("number"==typeof e){var t,n,r,a=this.x,s=a.length,i=Math.floor;for(t=0,n=s-1;n-t>1;)a[r=i((t+n)/2)]<=e?t=r:n=r;return this._at(e,t)}s=e.length;var o,l=Array(s);for(o=s-1;-1!==o;--o)l[o]=this.at(e[o]);return l},numeric.Spline.prototype.diff=function(){var e,t,n,r=this.x,a=this.yl,s=this.yr,i=this.kl,o=this.kr,l=a.length,u=i,c=o,h=Array(l),d=Array(l),p=numeric.add,m=numeric.mul,f=numeric.div,g=numeric.sub;for(e=l-1;-1!==e;--e)t=r[e+1]-r[e],n=g(s[e+1],a[e]),h[e]=f(p(m(n,6),m(i[e],-4*t),m(o[e+1],-2*t)),t*t),d[e+1]=f(p(m(n,-6),m(i[e],2*t),m(o[e+1],4*t)),t*t);return new numeric.Spline(r,u,c,h,d)},numeric.Spline.prototype.roots=function(){function e(e){return e*e}var t=[],n=this.x,r=this.yl,a=this.yr,s=this.kl,i=this.kr;"number"==typeof r[0]&&(r=[r],a=[a],s=[s],i=[i]);var o,l,u,c,h,d,p,m,f,g,y,b,w,v,A,x,k,C,S,E,I,T,N,D=r.length,_=n.length-1,O=(t=Array(D),Math.sqrt);for(o=0;o!==D;++o){for(c=r[o],h=a[o],d=s[o],p=i[o],m=[],l=0;l!==_;l++){for(l>0&&h[l]*c[l]<0&&m.push(n[l]),x=n[l+1]-n[l],n[l],y=c[l],b=h[l+1],f=d[l]/x,w=(g=p[l+1]/x)+3*y+2*f-3*b,v=3*(g+f+2*(y-b)),(A=e(f-g+3*(y-b))+12*g*y)<=0?k=(C=w/v)>n[l]&&C<n[l+1]?[n[l],C,n[l+1]]:[n[l],n[l+1]]:(C=(w-O(A))/v,S=(w+O(A))/v,k=[n[l]],C>n[l]&&C<n[l+1]&&k.push(C),S>n[l]&&S<n[l+1]&&k.push(S),k.push(n[l+1])),I=k[0],C=this._at(I,l),u=0;u<k.length-1;u++)if(T=k[u+1],S=this._at(T,l),0!==C)if(0===S||C*S>0)I=T,C=S;else{for(var B=0;!((N=(C*T-S*I)/(C-S))<=I||N>=T);)if((E=this._at(N,l))*S>0)T=N,S=E,-1===B&&(C*=.5),B=-1;else{if(!(E*C>0))break;I=N,C=E,1===B&&(S*=.5),B=1}m.push(N),I=k[u+1],C=this._at(I,l)}else m.push(I),I=T,C=S;0===S&&m.push(T)}t[o]=m}return"number"==typeof this.yl[0]?t[0]:t},numeric.spline=function(e,t,n,r){var a,s=e.length,i=[],o=[],l=[],u=numeric.sub,c=numeric.mul,h=numeric.add;for(a=s-2;a>=0;a--)o[a]=e[a+1]-e[a],l[a]=u(t[a+1],t[a]);"string"!=typeof n&&"string"!=typeof r||(n=r="periodic");var d=[[],[],[]];switch(typeof n){case"undefined":i[0]=c(3/(o[0]*o[0]),l[0]),d[0].push(0,0),d[1].push(0,1),d[2].push(2/o[0],1/o[0]);break;case"string":i[0]=h(c(3/(o[s-2]*o[s-2]),l[s-2]),c(3/(o[0]*o[0]),l[0])),d[0].push(0,0,0),d[1].push(s-2,0,1),d[2].push(1/o[s-2],2/o[s-2]+2/o[0],1/o[0]);break;default:i[0]=n,d[0].push(0),d[1].push(0),d[2].push(1)}for(a=1;a<s-1;a++)i[a]=h(c(3/(o[a-1]*o[a-1]),l[a-1]),c(3/(o[a]*o[a]),l[a])),d[0].push(a,a,a),d[1].push(a-1,a,a+1),d[2].push(1/o[a-1],2/o[a-1]+2/o[a],1/o[a]);switch(typeof r){case"undefined":i[s-1]=c(3/(o[s-2]*o[s-2]),l[s-2]),d[0].push(s-1,s-1),d[1].push(s-2,s-1),d[2].push(1/o[s-2],2/o[s-2]);break;case"string":d[1][d[1].length-1]=0;break;default:i[s-1]=r,d[0].push(s-1),d[1].push(s-1),d[2].push(1)}i="number"!=typeof i[0]?numeric.transpose(i):[i];var p=Array(i.length);if("string"==typeof n)for(a=p.length-1;-1!==a;--a)p[a]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(d)),i[a]),p[a][s-1]=p[a][0];else for(a=p.length-1;-1!==a;--a)p[a]=numeric.cLUsolve(numeric.cLU(d),i[a]);return p="number"==typeof t[0]?p[0]:numeric.transpose(p),new numeric.Spline(e,t,t,p,p)},numeric.fftpow2=function e(t,n){var r=t.length;if(1!==r){var a,s,i=Math.cos,o=Math.sin,l=Array(r/2),u=Array(r/2),c=Array(r/2),h=Array(r/2);for(s=r/2,a=r-1;-1!==a;--a)c[--s]=t[a],h[s]=n[a],--a,l[s]=t[a],u[s]=n[a];e(l,u),e(c,h),s=r/2;var d,p,m,f=-6.283185307179586/r;for(a=r-1;-1!==a;--a)-1===--s&&(s=r/2-1),p=i(d=f*a),m=o(d),t[a]=l[s]+p*c[s]-m*h[s],n[a]=u[s]+p*h[s]+m*c[s]}},numeric._ifftpow2=function e(t,n){var r=t.length;if(1!==r){var a,s,i=Math.cos,o=Math.sin,l=Array(r/2),u=Array(r/2),c=Array(r/2),h=Array(r/2);for(s=r/2,a=r-1;-1!==a;--a)c[--s]=t[a],h[s]=n[a],--a,l[s]=t[a],u[s]=n[a];e(l,u),e(c,h),s=r/2;var d,p,m,f=6.283185307179586/r;for(a=r-1;-1!==a;--a)-1===--s&&(s=r/2-1),p=i(d=f*a),m=o(d),t[a]=l[s]+p*c[s]-m*h[s],n[a]=u[s]+p*h[s]+m*c[s]}},numeric.ifftpow2=function(e,t){numeric._ifftpow2(e,t),numeric.diveq(e,e.length),numeric.diveq(t,t.length)},numeric.convpow2=function(e,t,n,r){var a,s,i,o,l;for(numeric.fftpow2(e,t),numeric.fftpow2(n,r),a=e.length-1;-1!==a;--a)s=e[a],o=t[a],i=n[a],l=r[a],e[a]=s*i-o*l,t[a]=s*l+o*i;numeric.ifftpow2(e,t)},numeric.T.prototype.fft=function(){var e,t,n=this.x,r=this.y,a=n.length,s=Math.log,i=s(2),o=Math.ceil(s(2*a-1)/i),l=Math.pow(2,o),u=numeric.rep([l],0),c=numeric.rep([l],0),h=Math.cos,d=Math.sin,p=-3.141592653589793/a,m=numeric.rep([l],0),f=numeric.rep([l],0);Math.floor(a/2);for(e=0;e<a;e++)m[e]=n[e];if(void 0!==r)for(e=0;e<a;e++)f[e]=r[e];for(u[0]=1,e=1;e<=l/2;e++)t=p*e*e,u[e]=h(t),c[e]=d(t),u[l-e]=h(t),c[l-e]=d(t);var g=new numeric.T(m,f),y=new numeric.T(u,c);return g=g.mul(y),numeric.convpow2(g.x,g.y,numeric.clone(y.x),numeric.neg(y.y)),(g=g.mul(y)).x.length=a,g.y.length=a,g},numeric.T.prototype.ifft=function(){var e,t,n=this.x,r=this.y,a=n.length,s=Math.log,i=s(2),o=Math.ceil(s(2*a-1)/i),l=Math.pow(2,o),u=numeric.rep([l],0),c=numeric.rep([l],0),h=Math.cos,d=Math.sin,p=3.141592653589793/a,m=numeric.rep([l],0),f=numeric.rep([l],0);Math.floor(a/2);for(e=0;e<a;e++)m[e]=n[e];if(void 0!==r)for(e=0;e<a;e++)f[e]=r[e];for(u[0]=1,e=1;e<=l/2;e++)t=p*e*e,u[e]=h(t),c[e]=d(t),u[l-e]=h(t),c[l-e]=d(t);var g=new numeric.T(m,f),y=new numeric.T(u,c);return g=g.mul(y),numeric.convpow2(g.x,g.y,numeric.clone(y.x),numeric.neg(y.y)),(g=g.mul(y)).x.length=a,g.y.length=a,g.div(a)},numeric.gradient=function(e,t){var n=t.length,r=e(t);if(isNaN(r))throw new Error("gradient: f(x) is a NaN!");var a,s,i,o,l,u,c,h,d,p=Math.max,m=numeric.clone(t),f=Array(n),g=(numeric.div,numeric.sub,p=Math.max,Math.abs),y=Math.min,b=0;for(a=0;a<n;a++)for(var w=p(1e-6*r,1e-8);;){if(++b>20)throw new Error("Numerical gradient fails");if(m[a]=t[a]+w,s=e(m),m[a]=t[a]-w,i=e(m),m[a]=t[a],isNaN(s)||isNaN(i))w/=16;else{if(f[a]=(s-i)/(2*w),o=t[a]-w,l=t[a],u=t[a]+w,c=(s-r)/w,h=(r-i)/w,d=p(g(f[a]),g(r),g(s),g(i),g(o),g(l),g(u),1e-8),!(y(p(g(c-f[a]),g(h-f[a]),g(c-h))/d,w/d)>.001))break;w/=16}}return f},numeric.uncmin=function(e,t,n,r,a,s,i){var o=numeric.gradient;void 0===i&&(i={}),void 0===n&&(n=1e-8),void 0===r&&(r=function(t){return o(e,t)}),void 0===a&&(a=1e3);var l,u,c=(t=numeric.clone(t)).length,h=e(t);if(isNaN(h))throw new Error("uncmin: f(x0) is a NaN!");var d=Math.max,p=numeric.norm2;n=d(n,numeric.epsilon);var m,f,g,y,b,w,v,A,x,k,C=i.Hinv||numeric.identity(c),S=numeric.dot,E=(numeric.inv,numeric.sub),I=numeric.add,T=numeric.tensor,N=numeric.div,D=numeric.mul,_=numeric.all,O=numeric.isFinite,B=numeric.neg,z=0,R="";for(f=r(t);z<a;){if("function"==typeof s&&s(z,t,h,f,C)){R="Callback returned true";break}if(!_(O(f))){R="Gradient has Infinity or NaN";break}if(!_(O(m=B(S(C,f))))){R="Search direction has Infinity or NaN";break}if((k=p(m))<n){R="Newton step smaller than tol";break}for(x=1,u=S(f,m),b=t;z<a&&!(x*k<n)&&(b=I(t,y=D(m,x)),(l=e(b))-h>=.1*x*u||isNaN(l));)x*=.5,++z;if(x*k<n){R="Line search step size smaller than tol";break}if(z===a){R="maxit reached during line search";break}A=S(w=E(g=r(b),f),y),v=S(C,w),C=E(I(C,D((A+S(w,v))/(A*A),T(y,y))),N(I(T(v,y),T(y,v)),A)),t=b,h=l,f=g,++z}return{solution:t,f:h,gradient:f,invHessian:C,iterations:z,message:R}},numeric.Dopri=function(e,t,n,r,a,s,i){this.x=e,this.y=t,this.f=n,this.ymid=r,this.iterations=a,this.events=i,this.message=s},numeric.Dopri.prototype._at=function(e,t){function n(e){return e*e}var r,a,s,i,o,l,u,c,h,d=this,p=d.x,m=d.y,f=d.f,g=d.ymid,y=(p.length,Math.floor,numeric.add),b=numeric.mul,w=numeric.sub;return r=p[t],a=p[t+1],i=m[t],o=m[t+1],s=r+.5*(a-r),l=g[t],u=w(f[t],b(i,1/(r-s)+2/(r-a))),c=w(f[t+1],b(o,1/(a-s)+2/(a-r))),y(y(y(y(b(i,(h=[n(e-a)*(e-s)/n(r-a)/(r-s),n(e-r)*n(e-a)/n(r-s)/n(a-s),n(e-r)*(e-s)/n(a-r)/(a-s),(e-r)*n(e-a)*(e-s)/n(r-a)/(r-s),(e-a)*n(e-r)*(e-s)/n(r-a)/(a-s)])[0]),b(l,h[1])),b(o,h[2])),b(u,h[3])),b(c,h[4]))},numeric.Dopri.prototype.at=function(e){var t,n,r,a=Math.floor;if("number"!=typeof e){var s=e.length,i=Array(s);for(t=s-1;-1!==t;--t)i[t]=this.at(e[t]);return i}var o=this.x;for(t=0,n=o.length-1;n-t>1;)o[r=a(.5*(t+n))]<=e?t=r:n=r;return this._at(e,t)},numeric.dopri=function(e,t,n,r,a,s,i){void 0===a&&(a=1e-6),void 0===s&&(s=1e3);var o,l,u,c,h,d,p,m,f,g,y,b,w,v=[e],A=[n],x=[r(e,n)],k=[],C=[3/40,9/40],S=[44/45,-56/15,32/9],E=[19372/6561,-25360/2187,64448/6561,-212/729],I=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],T=[35/384,0,500/1113,125/192,-2187/6784,11/84],N=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,5618549.5/235043384],D=[.2,.3,.8,8/9,1,1],_=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40],O=0,B=(t-e)/10,z=0,R=numeric.add,M=numeric.mul,F=(Math.max,Math.min),P=Math.abs,L=numeric.norminf,V=Math.pow,W=numeric.any,U=numeric.lt,j=numeric.and,G=(numeric.sub,new numeric.Dopri(v,A,x,k,-1,""));for("function"==typeof i&&(y=i(e,n));e<t&&z<s;)if(++z,e+B>t&&(B=t-e),o=r(e+D[0]*B,R(n,M(.2*B,x[O]))),l=r(e+D[1]*B,R(R(n,M(C[0]*B,x[O])),M(C[1]*B,o))),u=r(e+D[2]*B,R(R(R(n,M(S[0]*B,x[O])),M(S[1]*B,o)),M(S[2]*B,l))),c=r(e+D[3]*B,R(R(R(R(n,M(E[0]*B,x[O])),M(E[1]*B,o)),M(E[2]*B,l)),M(E[3]*B,u))),h=r(e+D[4]*B,R(R(R(R(R(n,M(I[0]*B,x[O])),M(I[1]*B,o)),M(I[2]*B,l)),M(I[3]*B,u)),M(I[4]*B,c))),d=r(e+B,f=R(R(R(R(R(n,M(x[O],B*T[0])),M(l,B*T[2])),M(u,B*T[3])),M(c,B*T[4])),M(h,B*T[5]))),(g="number"==typeof(p=R(R(R(R(R(M(x[O],B*_[0]),M(l,B*_[2])),M(u,B*_[3])),M(c,B*_[4])),M(h,B*_[5])),M(d,B*_[6])))?P(p):L(p))>a){if(e+(B=.2*B*V(a/g,.25))===e){G.msg="Step size became too small";break}}else{if(k[O]=R(R(R(R(R(R(n,M(x[O],B*N[0])),M(l,B*N[2])),M(u,B*N[3])),M(c,B*N[4])),M(h,B*N[5])),M(d,B*N[6])),v[++O]=e+B,A[O]=f,x[O]=d,"function"==typeof i){var q,$,H=e,K=e+.5*B;if(b=i(K,k[O-1]),W(w=j(U(y,0),U(0,b)))||(H=K,y=b,b=i(K=e+B,f),w=j(U(y,0),U(0,b))),W(w)){for(var Z,X,Y=0,Q=1,J=1;;){if("number"==typeof y)$=(J*b*H-Q*y*K)/(J*b-Q*y);else for($=K,m=y.length-1;-1!==m;--m)y[m]<0&&b[m]>0&&($=F($,(J*b[m]*H-Q*y[m]*K)/(J*b[m]-Q*y[m])));if($<=H||$>=K)break;X=i($,q=G._at($,O-1)),W(Z=j(U(y,0),U(0,X)))?(K=$,b=X,w=Z,J=1,-1===Y?Q*=.5:Q=1,Y=-1):(H=$,y=X,Q=1,1===Y?J*=.5:J=1,Y=1)}return f=G._at(.5*(e+$),O-1),G.f[O]=r($,q),G.x[O]=$,G.y[O]=q,G.ymid[O-1]=f,G.events=w,G.iterations=z,G}}e+=B,n=f,y=b,B=F(.8*B*V(a/g,.25),4*B)}return G.iterations=z,G},numeric.LU=function(e,t){t=t||!1;var n,r,a,s,i,o,l,u,c,h=Math.abs,d=e.length,p=d-1,m=new Array(d);for(t||(e=numeric.clone(e)),a=0;a<d;++a){for(l=a,c=h((o=e[a])[a]),r=a+1;r<d;++r)c<(s=h(e[r][a]))&&(c=s,l=r);for(m[a]=l,l!=a&&(e[a]=e[l],e[l]=o,o=e[a]),i=o[a],n=a+1;n<d;++n)e[n][a]/=i;for(n=a+1;n<d;++n){for(u=e[n],r=a+1;r<p;++r)u[r]-=u[a]*o[r],u[++r]-=u[a]*o[r];r===p&&(u[r]-=u[a]*o[r])}}return{LU:e,P:m}},numeric.LUsolve=function(e,t){var n,r,a,s,i,o=e.LU,l=o.length,u=numeric.clone(t),c=e.P;for(n=l-1;-1!==n;--n)u[n]=t[n];for(n=0;n<l;++n)for(a=c[n],c[n]!==n&&(i=u[n],u[n]=u[a],u[a]=i),s=o[n],r=0;r<n;++r)u[n]-=u[r]*s[r];for(n=l-1;n>=0;--n){for(s=o[n],r=n+1;r<l;++r)u[n]-=u[r]*s[r];u[n]/=s[n]}return u},numeric.solve=function(e,t,n){return numeric.LUsolve(numeric.LU(e,n),t)},numeric.echelonize=function(e){var t,n,r,a,s,i,o,l,u=numeric.dim(e),c=u[0],h=u[1],d=numeric.identity(c),p=Array(c),m=Math.abs,f=numeric.diveq;for(e=numeric.clone(e),t=0;t<c;++t){for(r=0,s=e[t],i=d[t],n=1;n<h;++n)m(s[r])<m(s[n])&&(r=n);for(p[t]=r,f(i,s[r]),f(s,s[r]),n=0;n<c;++n)if(n!==t){for(l=(o=e[n])[r],a=h-1;-1!==a;--a)o[a]-=s[a]*l;for(o=d[n],a=c-1;-1!==a;--a)o[a]-=i[a]*l}}return{I:d,A:e,P:p}},numeric.__solveLP=function(e,t,n,r,a,s,i){var o,l,u,c,h=numeric.sum,d=(numeric.log,numeric.mul),p=numeric.sub,m=numeric.dot,f=numeric.div,g=numeric.add,y=e.length,b=n.length,w=!1,v=1,A=(numeric.transpose(t),numeric.svd,numeric.transpose),x=(numeric.leq,Math.sqrt),k=Math.abs,C=(numeric.muleq,numeric.norminf,numeric.any,Math.min),S=numeric.all,E=numeric.gt,I=Array(y),T=Array(b),N=(numeric.rep([b],1),numeric.solve),D=p(n,m(t,s)),_=m(e,e);for(u=0;u<a;++u){var O,B;for(O=b-1;-1!==O;--O)T[O]=f(t[O],D[O]);var z=A(T);for(O=y-1;-1!==O;--O)I[O]=h(z[O]);v=.25*k(_/m(e,I));var R=100*x(_/m(I,I));for((!isFinite(v)||v>R)&&(v=R),c=g(e,d(v,I)),l=m(z,T),O=y-1;-1!==O;--O)l[O][O]+=1;B=N(l,f(c,v),!0);var M=f(D,m(t,B)),F=1;for(O=b-1;-1!==O;--O)M[O]<0&&(F=C(F,-.999*M[O]));if(o=p(s,d(B,F)),!S(E(D=p(n,m(t,o)),0)))return{solution:s,message:"",iterations:u};if(s=o,v<r)return{solution:o,message:"",iterations:u};if(i){var P=m(e,c),L=m(t,c);for(w=!0,O=b-1;-1!==O;--O)if(P*L[O]<0){w=!1;break}}else w=!(s[y-1]>=0);if(w)return{solution:o,message:"Unbounded",iterations:u}}return{solution:s,message:"maximum iteration count exceeded",iterations:u}},numeric._solveLP=function(e,t,n,r,a){var s=e.length,i=n.length,o=(numeric.sum,numeric.log,numeric.mul,numeric.sub),l=numeric.dot,u=(numeric.div,numeric.add,numeric.rep([s],0).concat([1])),c=numeric.rep([i,1],-1),h=numeric.blockMatrix([[t,c]]),d=n,p=numeric.rep([s],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),m=numeric.__solveLP(u,h,d,r,a,p,!1),f=numeric.clone(m.solution);if(f.length=s,numeric.inf(o(n,l(t,f)))<0)return{solution:NaN,message:"Infeasible",iterations:m.iterations};var g=numeric.__solveLP(e,t,n,r,a-m.iterations,f,!0);return g.iterations+=m.iterations,g},numeric.solveLP=function(e,t,n,r,a,s,i){if(void 0===i&&(i=1e3),void 0===s&&(s=numeric.epsilon),void 0===r)return numeric._solveLP(e,t,n,s,i);var o,l=r.length,u=r[0].length,c=t.length,h=numeric.echelonize(r),d=numeric.rep([u],0),p=h.P,m=[];for(o=p.length-1;-1!==o;--o)d[p[o]]=1;for(o=u-1;-1!==o;--o)0===d[o]&&m.push(o);var f=numeric.getRange,g=numeric.linspace(0,l-1),y=numeric.linspace(0,c-1),b=f(r,g,m),w=f(t,y,p),v=f(t,y,m),A=numeric.dot,x=numeric.sub,k=A(w,h.I),C=x(v,A(k,b)),S=x(n,A(k,a)),E=Array(p.length),I=Array(m.length);for(o=p.length-1;-1!==o;--o)E[o]=e[p[o]];for(o=m.length-1;-1!==o;--o)I[o]=e[m[o]];var T=x(I,A(E,A(h.I,b))),N=numeric._solveLP(T,C,S,s,i),D=N.solution;if(D!=D)return N;var _=A(h.I,x(a,A(b,D))),O=Array(e.length);for(o=p.length-1;-1!==o;--o)O[p[o]]=_[o];for(o=m.length-1;-1!==o;--o)O[m[o]]=D[o];return{solution:O,message:N.message,iterations:N.iterations}},numeric.MPStoLP=function(e){e instanceof String&&e.split("\n");var t,n,r,a,s=0,i=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],o=e.length,l=0,u={},c=[],h=0,d={},p=0,m=[],f=[],g=[];function y(n){throw new Error("MPStoLP: "+n+"\nLine "+t+": "+e[t]+"\nCurrent state: "+i[s]+"\n")}for(t=0;t<o;++t){var b=(r=e[t]).match(/\S*/g),w=[];for(n=0;n<b.length;++n)""!==b[n]&&w.push(b[n]);if(0!==w.length){for(n=0;n<i.length&&r.substr(0,i[n].length)!==i[n];++n);if(n<i.length){if(s=n,1===n&&(a=w[1]),6===n)return{name:a,c:m,A:numeric.transpose(f),b:g,rows:u,vars:d}}else switch(s){case 0:case 1:y("Unexpected line");case 2:switch(w[0]){case"N":0===l?l=w[1]:y("Two or more N rows");break;case"L":u[w[1]]=h,c[h]=1,g[h]=0,++h;break;case"G":u[w[1]]=h,c[h]=-1,g[h]=0,++h;break;case"E":u[w[1]]=h,c[h]=0,g[h]=0,++h;break;default:y("Parse error "+numeric.prettyPrint(w))}break;case 3:d.hasOwnProperty(w[0])||(d[w[0]]=p,m[p]=0,f[p]=numeric.rep([h],0),++p);var v=d[w[0]];for(n=1;n<w.length;n+=2)if(w[n]!==l){var A=u[w[n]];f[v][A]=(c[A]<0?-1:1)*parseFloat(w[n+1])}else m[v]=parseFloat(w[n+1]);break;case 4:for(n=1;n<w.length;n+=2)g[u[w[n]]]=(c[u[w[n]]]<0?-1:1)*parseFloat(w[n+1]);break;case 5:break;case 6:y("Internal error")}}}y("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(e,t,n,r,a,s,i){function o(e){var t,r,a=this,s=e.length,i=0,o=a.i=a.j=a.m=0;for(a.S=[],a.c=[],s||(e=[s++]);i<n;)a.S[i]=i++;for(i=0;i<n;i++)o=c(o+(t=a.S[i])+e[i%s]),r=a.S[o],a.S[i]=r,a.S[o]=t;a.g=function(e){var t=a.S,r=c(a.i+1),s=t[r],i=c(a.j+s),o=t[i];t[r]=o,t[i]=s;for(var l=t[c(s+o)];--e;)r=c(r+1),o=t[i=c(i+(s=t[r]))],t[r]=o,t[i]=s,l=l*n+t[c(s+o)];return a.i=r,a.j=i,l},a.g(n)}function l(e,t,n,r,a){if(n=[],a=typeof e,t&&"object"==a)for(r in e)if(r.indexOf("S")<5)try{n.push(l(e[r],t-1))}catch(e){}return n.length?n:e+("string"!=a?"\0":"")}function u(e,t,n,r){for(e+="",n=0,r=0;r<e.length;r++)t[c(r)]=c((n^=19*t[c(r)])+e.charCodeAt(r));for(r in e="",t)e+=String.fromCharCode(t[r]);return e}function c(e){return 255&e}t.seedrandom=function(r,c){var h,d=[];return r=u(l(c?[r,e]:arguments.length?r:[(new Date).getTime(),e,window],3),d),u((h=new o(d)).S,e),t.random=function(){for(var e=h.g(6),t=i,r=0;e<a;)e=(e+r)*n,t*=n,r=h.g(1);for(;e>=s;)e/=2,t/=2,r>>>=1;return(e+r)/t},r},i=t.pow(n,6),a=t.pow(2,a),s=2*a,u(t.random(),e)}([],numeric.seedrandom,256,0,52),function(e){function t(e){if("object"!=typeof e)return e;var n,r=[],a=e.length;for(n=0;n<a;n++)r[n+1]=t(e[n]);return r}function n(e){if("object"!=typeof e)return e;var t,r=[],a=e.length;for(t=1;t<a;t++)r[t-1]=n(e[t]);return r}function r(e,t,n,r,a,s,i,o,l,u,c,h,d,p,m,f){var g,y,b,w,v,A,x,k,C,S,E,I,T,N,D,_,O,B,z,R,M,F,P,L,V,W,U;T=Math.min(r,u),b=2*r+T*(T+5)/2+2*u+1,L=1e-60;do{V=1+.1*(L+=L),W=1+.2*L}while(V<=1||W<=1);for(g=1;g<=r;g+=1)m[g]=t[g];for(g=r+1;g<=b;g+=1)m[g]=0;for(g=1;g<=u;g+=1)h[g]=0;if(v=[],0===f[1]){if(function(e,t,n,r){var a,s,i,o,l,u;for(s=1;s<=n;s+=1){if(r[1]=s,u=0,(i=s-1)<1){if((u=e[s][s]-u)<=0)break;e[s][s]=Math.sqrt(u)}else{for(o=1;o<=i;o+=1){for(l=e[o][s],a=1;a<o;a+=1)l-=e[a][s]*e[a][o];l/=e[o][o],e[o][s]=l,u+=l*l}if((u=e[s][s]-u)<=0)break;e[s][s]=Math.sqrt(u)}r[1]=0}}(e,0,r,v),0!==v[1])return void(f[1]=2);!function(e,t,n,r){var a,s,i,o;for(s=1;s<=n;s+=1){for(o=0,a=1;a<s;a+=1)o+=e[a][s]*r[a];r[s]=(r[s]-o)/e[s][s]}for(i=1;i<=n;i+=1)for(r[s=n+1-i]=r[s]/e[s][s],o=-r[s],a=1;a<s;a+=1)r[a]=r[a]+o*e[a][s]}(e,0,r,t),function(e,t,n){var r,a,s,i,o;for(s=1;s<=n;s+=1){for(e[s][s]=1/e[s][s],o=-e[s][s],r=1;r<s;r+=1)e[r][s]=o*e[r][s];if(n<(i=s+1))break;for(a=i;a<=n;a+=1)for(o=e[s][a],e[s][a]=0,r=1;r<=s;r+=1)e[r][a]=e[r][a]+o*e[r][s]}}(e,0,r)}else{for(y=1;y<=r;y+=1)for(a[y]=0,g=1;g<=y;g+=1)a[y]=a[y]+e[g][y]*t[g];for(y=1;y<=r;y+=1)for(t[y]=0,g=y;g<=r;g+=1)t[y]=t[y]+e[y][g]*a[g]}for(s[1]=0,y=1;y<=r;y+=1)for(a[y]=t[y],s[1]=s[1]+m[y]*a[y],m[y]=0,g=y+1;g<=r;g+=1)e[g][y]=0;for(s[1]=-s[1]/2,f[1]=0,N=(S=(C=(E=(k=(x=r)+r)+T)+T+1)+T*(T+1)/2)+u,g=1;g<=u;g+=1){for(_=0,y=1;y<=r;y+=1)_+=i[y][g]*i[y][g];m[N+g]=Math.sqrt(_)}function j(){for(p[1]=p[1]+1,b=S,g=1;g<=u;g+=1){for(b+=1,_=-o[g],y=1;y<=r;y+=1)_+=i[y][g]*a[y];if(Math.abs(_)<L&&(_=0),g>c)m[b]=_;else if(m[b]=-Math.abs(_),_>0){for(y=1;y<=r;y+=1)i[y][g]=-i[y][g];o[g]=-o[g]}}for(g=1;g<=d;g+=1)m[S+h[g]]=0;for(I=0,D=0,g=1;g<=u;g+=1)m[S+g]<D*m[N+g]&&(I=g,D=m[S+g]/m[N+g]);return 0===I?999:0}function G(){for(g=1;g<=r;g+=1){for(_=0,y=1;y<=r;y+=1)_+=e[y][g]*i[y][I];m[g]=_}for(w=x,g=1;g<=r;g+=1)m[w+g]=0;for(y=d+1;y<=r;y+=1)for(g=1;g<=r;g+=1)m[w+g]=m[w+g]+e[g][y]*m[y];for(F=!0,g=d;g>=1;g-=1){for(_=m[g],w=(b=C+g*(g+3)/2)-g,y=g+1;y<=d;y+=1)_-=m[b]*m[k+y],b+=y;if(_/=m[w],m[k+g]=_,h[g]<c)break;if(_<0)break;F=!1,A=g}if(!F)for(O=m[E+A]/m[k+A],g=1;g<=d&&!(h[g]<c)&&!(m[k+g]<0);g+=1)(D=m[E+g]/m[k+g])<O&&(O=D,A=g);for(_=0,g=x+1;g<=x+r;g+=1)_+=m[g]*m[g];if(Math.abs(_)<=L){if(F)return f[1]=1,999;for(g=1;g<=d;g+=1)m[E+g]=m[E+g]-O*m[k+g];return m[E+d+1]=m[E+d+1]+O,700}for(_=0,g=1;g<=r;g+=1)_+=m[x+g]*i[g][I];for(B=-m[S+I]/_,P=!0,F||O<B&&(B=O,P=!1),g=1;g<=r;g+=1)a[g]=a[g]+B*m[x+g],Math.abs(a[g])<L&&(a[g]=0);for(s[1]=s[1]+B*_*(B/2+m[E+d+1]),g=1;g<=d;g+=1)m[E+g]=m[E+g]-B*m[k+g];if(m[E+d+1]=m[E+d+1]+B,!P){for(_=-o[I],y=1;y<=r;y+=1)_+=a[y]*i[y][I];if(I>c)m[S+I]=_;else if(m[S+I]=-Math.abs(_),_>0){for(y=1;y<=r;y+=1)i[y][I]=-i[y][I];o[I]=-o[I]}return 700}for(h[d+=1]=I,b=C+(d-1)*d/2+1,g=1;g<=d-1;g+=1)m[b]=m[g],b+=1;if(d===r)m[b]=m[r];else{for(g=r;g>=d+1&&0!==m[g]&&(z=Math.max(Math.abs(m[g-1]),Math.abs(m[g])),R=Math.min(Math.abs(m[g-1]),Math.abs(m[g])),D=m[g-1]>=0?Math.abs(z*Math.sqrt(1+R*R/(z*z))):-Math.abs(z*Math.sqrt(1+R*R/(z*z))),z=m[g-1]/D,R=m[g]/D,1!==z);g-=1)if(0===z)for(m[g-1]=R*D,y=1;y<=r;y+=1)D=e[y][g-1],e[y][g-1]=e[y][g],e[y][g]=D;else for(m[g-1]=D,M=R/(1+z),y=1;y<=r;y+=1)D=z*e[y][g-1]+R*e[y][g],e[y][g]=M*(e[y][g-1]+D)-e[y][g],e[y][g-1]=D;m[b]=m[d]}return 0}function q(){if(0===m[w=(b=C+A*(A+1)/2+1)+A])return 798;if(z=Math.max(Math.abs(m[w-1]),Math.abs(m[w])),R=Math.min(Math.abs(m[w-1]),Math.abs(m[w])),D=m[w-1]>=0?Math.abs(z*Math.sqrt(1+R*R/(z*z))):-Math.abs(z*Math.sqrt(1+R*R/(z*z))),z=m[w-1]/D,R=m[w]/D,1===z)return 798;if(0===z){for(g=A+1;g<=d;g+=1)D=m[w-1],m[w-1]=m[w],m[w]=D,w+=g;for(g=1;g<=r;g+=1)D=e[g][A],e[g][A]=e[g][A+1],e[g][A+1]=D}else{for(M=R/(1+z),g=A+1;g<=d;g+=1)D=z*m[w-1]+R*m[w],m[w]=M*(m[w-1]+D)-m[w],m[w-1]=D,w+=g;for(g=1;g<=r;g+=1)D=z*e[g][A]+R*e[g][A+1],e[g][A+1]=M*(e[g][A]+D)-e[g][A+1],e[g][A]=D}return 0}function $(){for(w=b-A,g=1;g<=A;g+=1)m[w]=m[b],b+=1,w+=1;return m[E+A]=m[E+A+1],h[A]=h[A+1],(A+=1)<d?797:0}function H(){return m[E+d]=m[E+d+1],m[E+d+1]=0,h[d]=0,d-=1,p[2]=p[2]+1,0}for(d=0,p[1]=0,p[2]=0,U=0;;){if(999===(U=j()))return;for(;0!==(U=G());){if(999===U)return;if(700===U)if(A===d)H();else{for(;q(),797===(U=$()););H()}}}}e.solveQP=function(e,a,s,i,o,l){e=t(e),a=t(a),s=t(s);var u,c,h,d,p,m=[],f=[],g=[],y=[],b=[];if(o=o||0,l=l?t(l):[void 0,0],i=i?t(i):[],c=e.length-1,h=s[1].length-1,!i)for(u=1;u<=h;u+=1)i[u]=0;for(u=1;u<=h;u+=1)f[u]=0;for(0,d=Math.min(c,h),u=1;u<=c;u+=1)g[u]=0;for(m[1]=0,u=1;u<=2*c+d*(d+5)/2+2*h+1;u+=1)y[u]=0;for(u=1;u<=2;u+=1)b[u]=0;return r(e,a,0,c,g,m,s,i,0,h,o,f,0,b,y,l),p="",1===l[1]&&(p="constraints are inconsistent, no solution!"),2===l[1]&&(p="matrix D in quadratic function is not positive definite!"),{solution:n(g),value:n(m),unconstrained_solution:n(a),iterations:n(b),iact:n(f),message:p}}}(numeric),numeric.svd=function(e){var t,n=numeric.epsilon,r=1e-64/n,a=0,s=0,i=0,o=0,l=0,u=numeric.clone(e),c=u.length,h=u[0].length;if(c<h)throw"Need more rows than columns";var d=new Array(h),p=new Array(h);for(s=0;s<h;s++)d[s]=p[s]=0;var m=numeric.rep([h,h],0);function f(e,t){return(e=Math.abs(e))>(t=Math.abs(t))?e*Math.sqrt(1+t*t/e/e):0==t?e:t*Math.sqrt(1+e*e/t/t)}var g=0,y=0,b=0,w=0,v=0,A=0,x=0;for(s=0;s<h;s++){for(d[s]=y,x=0,l=s+1,i=s;i<c;i++)x+=u[i][s]*u[i][s];if(x<=r)y=0;else for(g=u[s][s],y=Math.sqrt(x),g>=0&&(y=-y),b=g*y-x,u[s][s]=g-y,i=l;i<h;i++){for(x=0,o=s;o<c;o++)x+=u[o][s]*u[o][i];for(g=x/b,o=s;o<c;o++)u[o][i]+=g*u[o][s]}for(p[s]=y,x=0,i=l;i<h;i++)x+=u[s][i]*u[s][i];if(x<=r)y=0;else{for(g=u[s][s+1],y=Math.sqrt(x),g>=0&&(y=-y),b=g*y-x,u[s][s+1]=g-y,i=l;i<h;i++)d[i]=u[s][i]/b;for(i=l;i<c;i++){for(x=0,o=l;o<h;o++)x+=u[i][o]*u[s][o];for(o=l;o<h;o++)u[i][o]+=x*d[o]}}(v=Math.abs(p[s])+Math.abs(d[s]))>w&&(w=v)}for(s=h-1;-1!=s;s+=-1){if(0!=y){for(b=y*u[s][s+1],i=l;i<h;i++)m[i][s]=u[s][i]/b;for(i=l;i<h;i++){for(x=0,o=l;o<h;o++)x+=u[s][o]*m[o][i];for(o=l;o<h;o++)m[o][i]+=x*m[o][s]}}for(i=l;i<h;i++)m[s][i]=0,m[i][s]=0;m[s][s]=1,y=d[s],l=s}for(s=h-1;-1!=s;s+=-1){for(l=s+1,y=p[s],i=l;i<h;i++)u[s][i]=0;if(0!=y){for(b=u[s][s]*y,i=l;i<h;i++){for(x=0,o=l;o<c;o++)x+=u[o][s]*u[o][i];for(g=x/b,o=s;o<c;o++)u[o][i]+=g*u[o][s]}for(i=s;i<c;i++)u[i][s]=u[i][s]/y}else for(i=s;i<c;i++)u[i][s]=0;u[s][s]+=1}for(n*=w,o=h-1;-1!=o;o+=-1)for(var k=0;k<50;k++){var C=!1;for(l=o;-1!=l;l+=-1){if(Math.abs(d[l])<=n){C=!0;break}if(Math.abs(p[l-1])<=n)break}if(!C){a=0,x=1;var S=l-1;for(s=l;s<o+1&&(g=x*d[s],d[s]=a*d[s],!(Math.abs(g)<=n));s++)for(b=f(g,y=p[s]),p[s]=b,a=y/b,x=-g/b,i=0;i<c;i++)v=u[i][S],A=u[i][s],u[i][S]=v*a+A*x,u[i][s]=-v*x+A*a}if(A=p[o],l==o){if(A<0)for(p[o]=-A,i=0;i<h;i++)m[i][o]=-m[i][o];break}if(k>=49)throw"Error: no convergence.";for(w=p[l],y=f(g=(((v=p[o-1])-A)*(v+A)+((y=d[o-1])-(b=d[o]))*(y+b))/(2*b*v),1),g=g<0?((w-A)*(w+A)+b*(v/(g-y)-b))/w:((w-A)*(w+A)+b*(v/(g+y)-b))/w,a=1,x=1,s=l+1;s<o+1;s++){for(y=d[s],v=p[s],b=x*y,y*=a,A=f(g,b),d[s-1]=A,g=w*(a=g/A)+y*(x=b/A),y=-w*x+y*a,b=v*x,v*=a,i=0;i<h;i++)w=m[i][s-1],A=m[i][s],m[i][s-1]=w*a+A*x,m[i][s]=-w*x+A*a;for(A=f(g,b),p[s-1]=A,g=(a=g/A)*y+(x=b/A)*v,w=-x*y+a*v,i=0;i<c;i++)v=u[i][s-1],A=u[i][s],u[i][s-1]=v*a+A*x,u[i][s]=-v*x+A*a}d[l]=0,d[o]=g,p[o]=w}for(s=0;s<p.length;s++)p[s]<n&&(p[s]=0);for(s=0;s<h;s++)for(i=s-1;i>=0;i--)if(p[i]<p[s]){for(a=p[i],p[i]=p[s],p[s]=a,o=0;o<u.length;o++)t=u[o][s],u[o][s]=u[o][i],u[o][i]=t;for(o=0;o<m.length;o++)t=m[o][s],m[o][s]=m[o][i],m[o][i]=t;s=i}return{U:u,S:p,V:m}}},187:function(e,t){var n,r,a;r=[e],n=function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a={order:2,precision:2,period:null};function s(e,t){var n=[],r=[];e.forEach((function(e,a){null!==e[1]&&(r.push(e),n.push(t[a]))}));var a=r.reduce((function(e,t){return e+t[1]}),0)/r.length,s=r.reduce((function(e,t){var n=t[1]-a;return e+n*n}),0);return 1-r.reduce((function(e,t,r){var a=n[r],s=t[1]-a[1];return e+s*s}),0)/s}function i(e,t){for(var n=e,r=e.length-1,a=[t],s=0;s<r;s++){for(var i=s,o=s+1;o<r;o++)Math.abs(n[s][o])>Math.abs(n[s][i])&&(i=o);for(var l=s;l<r+1;l++){var u=n[l][s];n[l][s]=n[l][i],n[l][i]=u}for(var c=s+1;c<r;c++)for(var h=r;h>=s;h--)n[h][c]-=n[h][s]*n[s][c]/n[s][s]}for(var d=r-1;d>=0;d--){for(var p=0,m=d+1;m<r;m++)p+=n[m][d]*a[m];a[d]=(n[r][d]-p)/n[d][d]}return a}function o(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var l={linear:function(e,t){for(var n=[0,0,0,0,0],r=0,a=0;a<e.length;a++)null!==e[a][1]&&(r++,n[0]+=e[a][0],n[1]+=e[a][1],n[2]+=e[a][0]*e[a][0],n[3]+=e[a][0]*e[a][1],n[4]+=e[a][1]*e[a][1]);var i=r*n[2]-n[0]*n[0],l=r*n[3]-n[0]*n[1],u=0===i?0:o(l/i,t.precision),c=o(n[1]/r-u*n[0]/r,t.precision),h=function(e){return[o(e,t.precision),o(u*e+c,t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[u,c],r2:o(s(e,d),t.precision),string:0===c?"y = "+u+"x":"y = "+u+"x + "+c}},exponential:function(e,t){for(var n=[0,0,0,0,0,0],r=0;r<e.length;r++)null!==e[r][1]&&(n[0]+=e[r][0],n[1]+=e[r][1],n[2]+=e[r][0]*e[r][0]*e[r][1],n[3]+=e[r][1]*Math.log(e[r][1]),n[4]+=e[r][0]*e[r][1]*Math.log(e[r][1]),n[5]+=e[r][0]*e[r][1]);var a=n[1]*n[2]-n[5]*n[5],i=Math.exp((n[2]*n[3]-n[5]*n[4])/a),l=(n[1]*n[4]-n[5]*n[3])/a,u=o(i,t.precision),c=o(l,t.precision),h=function(e){return[o(e,t.precision),o(u*Math.exp(c*e),t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[u,c],string:"y = "+u+"e^("+c+"x)",r2:o(s(e,d),t.precision)}},logarithmic:function(e,t){for(var n=[0,0,0,0],r=e.length,a=0;a<r;a++)null!==e[a][1]&&(n[0]+=Math.log(e[a][0]),n[1]+=e[a][1]*Math.log(e[a][0]),n[2]+=e[a][1],n[3]+=Math.pow(Math.log(e[a][0]),2));var i=o((r*n[1]-n[2]*n[0])/(r*n[3]-n[0]*n[0]),t.precision),l=o((n[2]-i*n[0])/r,t.precision),u=function(e){return[o(e,t.precision),o(o(l+i*Math.log(e),t.precision),t.precision)]},c=e.map((function(e){return u(e[0])}));return{points:c,predict:u,equation:[l,i],string:"y = "+l+" + "+i+" ln(x)",r2:o(s(e,c),t.precision)}},power:function(e,t){for(var n=[0,0,0,0,0],r=e.length,a=0;a<r;a++)null!==e[a][1]&&(n[0]+=Math.log(e[a][0]),n[1]+=Math.log(e[a][1])*Math.log(e[a][0]),n[2]+=Math.log(e[a][1]),n[3]+=Math.pow(Math.log(e[a][0]),2));var i=(r*n[1]-n[0]*n[2])/(r*n[3]-Math.pow(n[0],2)),l=(n[2]-i*n[0])/r,u=o(Math.exp(l),t.precision),c=o(i,t.precision),h=function(e){return[o(e,t.precision),o(o(u*Math.pow(e,c),t.precision),t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[u,c],string:"y = "+u+"x^"+c,r2:o(s(e,d),t.precision)}},polynomial:function(e,t){for(var n=[],a=[],l=0,u=0,c=e.length,h=t.order+1,d=0;d<h;d++){for(var p=0;p<c;p++)null!==e[p][1]&&(l+=Math.pow(e[p][0],d)*e[p][1]);n.push(l),l=0;for(var m=[],f=0;f<h;f++){for(var g=0;g<c;g++)null!==e[g][1]&&(u+=Math.pow(e[g][0],d+f));m.push(u),u=0}a.push(m)}a.push(n);for(var y=i(a,h).map((function(e){return o(e,t.precision)})),b=function(e){return[o(e,t.precision),o(y.reduce((function(t,n,r){return t+n*Math.pow(e,r)}),0),t.precision)]},w=e.map((function(e){return b(e[0])})),v="y = ",A=y.length-1;A>=0;A--)v+=A>1?y[A]+"x^"+A+" + ":1===A?y[A]+"x + ":y[A];return{string:v,points:w,predict:b,equation:[].concat(r(y)).reverse(),r2:o(s(e,w),t.precision)}}};function u(){var e=function(e,r){return n({_round:o},e,t({},r,(function(e,t){return l[r](e,n({},a,t))})))};return Object.keys(l).reduce(e,{})}e.exports=u()},void 0===(a="function"==typeof n?n.apply(t,r):n)||(e.exports=a)},6024:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,k:()=>s});var r=n(2940);const a=(e,t,{go:n,cancel:a,custom:s},i,o=!0)=>{const l=document.createElement("div");let u,c,h;if(l.className="rc-buttons"+(o?" rc-absolute-buttons":""),l.id="rc-buttons",n&&(u=document.createElement("button"),u.className="rc-button rc-go-button",u.onclick=n,u.innerHTML=r.C.RC_ok[e],l.appendChild(u)),a&&i&&(c=document.createElement("button"),c.className="rc-button rc-cancel-button",c.onclick=a,c.innerHTML=r.C.RC_cancel[e],l.appendChild(c)),s){const{callback:e,content:t}=s;h=document.createElement("button"),h.className="rc-button rc-custom-button",h.onclick=e,h.innerHTML=t,l.appendChild(h)}return t.appendChild(l),[l,u,c,h]},s=e=>{e.querySelector("#rc-buttons").remove()}},9315:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>takeInput});var _buttons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6024),_keyBinder__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7870),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4769);const takeInput=async(RC,extraFunction=null,extraFunctionOut=null,customButtonConfig=null)=>{const unit=RC.equipment.value.unit,unitDisplay=unit===RC._CONST.UNITS.CM?"cm":"in",unitIsFraction=unit===RC._CONST.UNITS.IN_F,formItem=`<div class="rc-form">\n  <div class="rc-form-inputs">\n  ${unitIsFraction?`<input type="text" class="rc-form-input rc-form-input-f-integer" placeholder="integer" /><input type="text" class="rc-form-input rc-form-input-f-fraction" placeholder="fraction (like 3/8) or 0" /><span>${unitDisplay}</span>`:`<input type="text" class="rc-form-input" /><span>${unitDisplay}</span>`}\n  </div>\n</div>`,instruction=RC.background.querySelector(".calibration-instruction");instruction.innerHTML+=formItem;const formElement=instruction.querySelector(".rc-form"),formInputElement=instruction.querySelector(".rc-form-input"),formInputElementFInteger=instruction.querySelector(".rc-form-input-f-integer"),formInputElementFFraction=instruction.querySelector(".rc-form-input-f-fraction");unitIsFraction?formInputElementFInteger.focus():formInputElement.focus();const addedButtons=(0,_buttons__WEBPACK_IMPORTED_MODULE_0__.A)(RC.L,formElement,{go:()=>{},custom:customButtonConfig||void 0},!0,!1),goButton=addedButtons[1],customButton=addedButtons[3];goButton.disabled=!0;const eleOkay=e=>{e.classList.remove("rc-input-error"),goButton.disabled=!1},eleError=e=>{isAcceptedSingleInput(e.value.slice(-1))?(e.classList.add("rc-input-error"),goButton.disabled=!0):e.value=e.value.substring(0,e.value.length-1)},setupEleOninput=(e,t)=>{e.oninput=()=>{t(e.value)?eleOkay(e):eleError(e)}},_validationForFraction=()=>{let e=!0;return validInputInteger(formInputElementFInteger.value)?eleOkay(formInputElementFInteger):(eleError(formInputElementFInteger),e=!1),validInputFraction(formInputElementFFraction.value)?eleOkay(formInputElementFFraction):(eleError(formInputElementFFraction),e=!1),e};return unitIsFraction?(formInputElementFInteger.oninput=_validationForFraction,formInputElementFFraction.oninput=_validationForFraction):setupEleOninput(formInputElement,validInput),(0,_utils__WEBPACK_IMPORTED_MODULE_2__.p1)(extraFunction),new Promise((resolve=>{const bFunction=()=>{removeInputElements(formElement,extraFunctionOut),(0,_keyBinder__WEBPACK_IMPORTED_MODULE_1__.j)(bindKeysFunction),resolve(null)},fFunction=()=>{let valid=!1,numericalValue,inputValue;unitIsFraction&&validInputInteger(formInputElementFInteger.value)&&validInputFraction(formInputElementFFraction.value)?(valid=!0,numericalValue=parseInt(formInputElementFInteger.value)+eval(formInputElementFFraction.value),inputValue=formInputElementFInteger.value+" "+formInputElementFFraction.value):!unitIsFraction&&validInput(formInputElement.value)&&(valid=!0,numericalValue=Number(formInputElement.value)||Number(formInputElement.value.replace(",",".")),inputValue=formInputElement.value),valid&&(removeInputElements(formElement,extraFunctionOut),(0,_keyBinder__WEBPACK_IMPORTED_MODULE_1__.j)(bindKeysFunction),resolve({value:{numerical:numericalValue,input:inputValue,unit},timestamp:performance.now()}))};goButton.onclick=fFunction,customButton.onclick=bFunction;const bindKeysFunction=(0,_keyBinder__WEBPACK_IMPORTED_MODULE_1__.P)({Enter:fFunction,Escape:bFunction})}))},removeInputElements=(e,t)=>{(0,_buttons__WEBPACK_IMPORTED_MODULE_0__.k)(e);for(let t of e.children)t.remove();e.remove(),(0,_utils__WEBPACK_IMPORTED_MODULE_2__.p1)(t)},validInput=e=>e.length>0&&!e.includes(" ")&&(!isNaN(e)||!isNaN(e.replace(",","."))),validInputInteger=e=>!!validInput(e)&&(parseInt(e)===Number(e)&&Number(e)>0),validInputFraction=text=>{if("0"===text)return!0;if(!text.includes("/")||text.match(/\//g).length>1)return!1;const numbers=text.split("/");return validInputInteger(numbers[0])&&validInputInteger(numbers[1])&&(0,_utils__WEBPACK_IMPORTED_MODULE_2__.an)(numbers[1])&&eval(text)<1},isAcceptedSingleInput=e=>/[0-9]/.test(e)||[".","/",","].includes(e)},7870:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,j:()=>s});var r=n(4769);function a(e,t="keydown"){const n=t=>{t.key in e&&(t.preventDefault(),(0,r.p1)(e[t.key],t))};return document.body.addEventListener(t,n),n}function s(e,t="keydown"){document.body.removeEventListener(t,e)}},4769:(e,t,n)=>{"use strict";n.d(t,{$V:()=>a,C2:()=>b,Fh:()=>x,Fy:()=>v,NW:()=>k,SG:()=>h,TV:()=>g,Wx:()=>u,Y8:()=>w,_v:()=>l,a2:()=>p,an:()=>f,d9:()=>A,iU:()=>m,jH:()=>d,lt:()=>y,mz:()=>o,nr:()=>i,p1:()=>s,rm:()=>c});var r=n(8756);function a(e){if(void 0===e){if(r.f)throw"Variable is undefined.";return!1}return e}function s(e,...t){if(e&&"function"==typeof e)return t.length?e(...t):e()}async function i(e,...t){if(e&&"function"==typeof e)return t.length?await e(...t):await e()}!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=performance.now(),a=Math.max(0,16-(r-e)),s=window.setTimeout((function(){t(r+a)}),a);return e=r+a,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError;for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r){r=Object(r);for(var a=Object.keys(Object(r)),s=0,i=a.length;s<i;s++){var o=a[s],l=Object.getOwnPropertyDescriptor(r,o);void 0!==l&&l.enumerable&&(t[o]=r[o])}}}return t}})}();const o=()=>{};function l(e){return new Promise((t=>setTimeout(t,e)))}function u(){if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled){const e=document.documentElement;return e.requestFullscreen?(e.requestFullscreen(),!0):e.mozRequestFullScreen?(e.mozRequestFullScreen(),!0):e.webkitRequestFullscreen?(e.webkitRequestFullscreen(),!0):!!e.msRequestFullscreen&&(e.msRequestFullscreen(),!0)}return!1}function c(){return Math.abs(window.innerHeight-screen.height)<5&&Math.abs(window.innerWidth-screen.width)<5&&window.screenX<5&&window.screenY<5}function h(e,t=null,n=!1,r=""){return`<div class="calibration-instruction${n?" calibration-instruction-scrollable":""}"><h1>${e}</h1>`+(t?`<p class="calibration-description${r.length?" "+r:""}">${t}</p></div>`:"")}function d(e,t,n){return e<t?t:e>n?n:e}function p(e,t,n,r,a){return r+1*(e-t)/(n-t)*(a-r)}function m(e,t,n,r){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))}function f(e){return e&&!(e&e-1)}function g(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function y(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}const b=e=>{const t=Math.floor(e.length/2),n=[...e].sort(((e,t)=>e-t));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},w=e=>e.reduce(((e,t)=>e+t))/e.length;function v(e,t,n=1){let r=0,a=0;for(;0===r;)r=Math.random();for(;0===a;)a=Math.random();let s=Math.sqrt(-2*Math.log(r))*Math.cos(2*Math.PI*a);return s=s/10+.5,s>1||s<0?s=v(e,t,n):(s=Math.pow(s,n),s*=t-e,s+=e),s}const A=e=>JSON.parse(JSON.stringify(e));function x(){"activeElement"in document&&document.activeElement.blur()}const k=e=>{if("touchstart"===e.type||"touchmove"===e.type){const t=e.touches[0];return{x:t.clientX,y:t.clientY}}return{x:e.clientX,y:e.clientY}}},8756:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});const r=!1},2940:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});const r={EE_compatibilityTitle:{"en-US":"EasyEyes Compatibility",de:"Easyeyes Kompatibilitt",fr:"Compatibilit facile",es:"Compatibilidad de EasyEyes",pt:"Compatibilidade easyeyes",it:"Compatibilit EasyEyes",ro:"Compatibilitate uoar",pl:"Kompatybilno Easyeyes",ru:"Easyeyes ",hy:"EasyEyes ",fi:"Easyeyes -yhteensopivuus",ka:"Easyeyes ",he:" EasyEees",ar:" Easyeyes",ur:" ",hi:"Easyeyes ",ta:"  ",ml:"  ",te:" ",kn:" ",bn:" ",id:"Kompatibilitas Eyeseyes","zh-CN":"EasyEyes","zh-HK":"EasyEyes",ja:"EasyEyes",ko:"EasyEyes "},EE_compatible:{"en-US":" Excellent! ",de:" Ausgezeichnet!",fr:" Excellent!",es:" Excelente!",pt:" Excelente!",it:" Eccellente!",ro:" Excelent!",pl:" Doskonae!",ru:" !",hy:" :",fi:" Erinomainen!",ka:" !",he:" !",ar:" !",ur:" !",hi:"  !",ta:" !",ml:"!",te:" !",kn:" !",bn:" !",id:" Luar biasa!","zh-CN":"","zh-HK":"",ja:"",ko:" !"},EE_compatibleBrowserDeviceCores:{"en-US":"As stated in its description, this study is only compatible with the BBB browser running on a DDD with at least 222 CPU cores. \nPlease RETURN this incompatible study to Prolific; if submitted it will be rejected.",de:"Wie in ihrer Beschreibung angegeben, ist diese Studie nur mit dem BBB -Browser kompatibel, der auf einem DDD mit mindestens 222 CPU -Kernen ausgefhrt wird.\nBitte geben Sie diese inkompatible Studie wieder produktiv. Wenn eingereicht wird, wird es abgelehnt.",fr:"Comme indiqu dans sa description, cette tude n'est compatible qu'avec le navigateur BBB fonctionnant sur un DDD avec au moins 222 curs de CPU.\nVeuillez retourner cette tude incompatible  prolifique; S'il est soumis, il sera rejet.",es:"Como se indica en su descripcin, este estudio solo es compatible con el navegador BBB que se ejecuta en un DDD con al menos 222 ncleos de CPU.\nDevuelva este estudio incompatible a prolfico; Si se presenta ser rechazado.",pt:"Conforme declarado em sua descrio, este estudo  compatvel apenas com o navegador BBB em execuo em um DDD com pelo menos 222 ncleos da CPU.\nPor favor, devolva este estudo incompatvel ao prolfico; Se enviado, ser rejeitado.",it:"Come affermato nella sua descrizione, questo studio  compatibile solo con il browser BBB in esecuzione su un DDD con almeno 222 core CPU.\nSi prega di restituire questo studio incompatibile a prolifico; Se inviato verr respinto.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu este compatibil doar cu browserul BBB care ruleaz pe un DDD cu cel puin 222 nuclee de procesor.\nV rugm s returnai acest studiu incompatibil la Prolific; Dac este trimis, va fi respins.",pl:"Jak stwierdzono w opisie, badanie to jest kompatybilne tylko z przegldark BBB dziaajc na DDD z co najmniej 222 rdzeniami procesora.\nZwr to niezgodne badanie do podnego; Jeli zostanie przesane, zostanie odrzucone.",ru:"    ,       BBB,   DDD    222  .\n,      ;  ,   .",hy:"     ,      BBB  ,    DDD-   222  :\n       .     :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus on yhteensopiva vain DDD: ll kyvn BBB -selaimen kanssa, jossa on vhintn 222 CPU -ytimi.\nPalauta tm yhteensopimattoman tutkimuksen tuotteliaana; Jos se lhetetn, se hyltn.",ka:"  ,    BBB   DDD ,  222 CPU .\n,     ;  ,   .",he:" ,      - BBB   DDD   222  .\n       ;    .",ar:"             BBB    DDD      222    .\n               .",ur:"                           222             \n                    ",hi:"       ,           222          \n       ;           ",ta:"  ,     ...  222    .\n    ;   .",ml:"  ,        browser   .\n    ;   .",te:"  ,    222         .\n      ;   .",kn:"  ,     222       .\n     ;   .",bn:"    ,        222      -   \n       ;       ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini hanya kompatibel dengan browser BBB yang berjalan pada DDD dengan setidaknya 222 inti CPU.\nHarap kembalikan studi yang tidak kompatibel ini ke produktif; Jika diajukan itu akan ditolak.","zh-CN":"222CPUDDDBBB\n","zh-HK":"222CPUDDDBBB\n",ja:"222CPUDDDBBB\n",ko:"    ,   222  CPU  DDD  BBB   .\n      .  ."},EE_compatibleBrowserNotOSDeviceCores:{"en-US":"As stated in its description, this study is incompatible with ooo, and requires the BBB browser running on a DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, ist diese Studie nicht mit OOO kompatibel und erfordert den BBB -Browser, der auf einem DDD mit mindestens 222 CPU -Kernen ausgefhrt wird.",fr:"Comme indiqu dans sa description, cette tude est incompatible avec OOO et ncessite le navigateur BBB fonctionnant sur un DDD avec au moins 222 curs de processeur.",es:"Como se indica en su descripcin, este estudio es incompatible con OOO y requiere el navegador BBB que se ejecuta en un DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  incompatvel com o OOO e requer o navegador BBB em um DDD com pelo menos 222 ncleos da CPU.",it:"Come affermato nella sua descrizione, questo studio  incompatibile con OOO e richiede il browser BBB in esecuzione su un DDD con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu este incompatibil cu OOO i necesit ca browserul BBB s funcioneze pe un DDD cu cel puin 222 nuclee de procesor.",pl:"Jak stwierdzono w opisie, badanie to jest niezgodne z OOO i wymaga przegldarki BBB dziaajcej na DDD z co najmniej 222 rdzeniami procesora.",ru:"    ,     OOO  ,   BBB   DDD    222  .",hy:"     ,     OOO-      BBB ,    DDD-   222  :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus ei ole yhteensopiva OOO: n kanssa ja vaatii BBB -selaimen, joka toimii DDD: ll vhintn 222 CPU -ytimell.",ka:"  ,    OOO    BBB ,   DDD ,  222 CPU .",he:" ,      OOO,    - BBB   DDD   222  .",ar:"           OOO    BBB    DDD      222    .",ur:"                                   222             ",hi:"       ,   OOO    ,     222 CPU    DDD    BBB    ",ta:"  ,   OOO  ,   222 CPU   DDD    .",ml:"  ,   ooo-  ,   222     .",te:"  ,   OOO      222 CPU  DDD   BBB  .",kn:"  ,   OOO  ,   222       .",bn:"    ,     ,     222       ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini tidak kompatibel dengan OOO, dan membutuhkan browser BBB yang berjalan pada DDD dengan setidaknya 222 inti CPU.","zh-CN":"OOODDD222CPUBBB","zh-HK":"OOODDD222CPUBBB",ja:"OOO222CPUDDDBBB",ko:"    ,  OOO    222  CPU  DDD BBB  ."},EE_compatibleBrowserOSDeviceCores:{"en-US":"As stated in its description, this study is only compatible with the BBB browser running on a OOO DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, ist diese Studie nur mit dem BBB -Browser kompatibel, der auf einem OOO DDD mit mindestens 222 CPU -Kernen ausgefhrt wird.",fr:"Comme indiqu dans sa description, cette tude n'est compatible qu'avec le navigateur BBB fonctionnant sur un DDD OOO avec au moins 222 curs de CPU.",es:"Como se indica en su descripcin, este estudio solo es compatible con el navegador BBB que se ejecuta en un OOO DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  compatvel apenas com o navegador BBB em execuo em um DDD OOO com pelo menos 222 ncleos da CPU.",it:"Come affermato nella sua descrizione, questo studio  compatibile solo con il browser BBB in esecuzione su un DDD OOO con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu este compatibil doar cu browserul BBB care ruleaz pe un OOO DDD cu cel puin 222 nuclee de procesor.",pl:"Jak stwierdzono w opisie, badanie to jest kompatybilne tylko z przegldark BBB dziaajc na DDD OOO z co najmniej 222 rdzeniami procesora.",ru:"    ,       BBB,   OOO DDD    222  .",hy:"     ,      BBB  ,    OOO DDD-  ` 222  :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus on yhteensopiva vain OOO -DDD: ll kulkevan BBB -selaimen kanssa vhintn 222 CPU -ytimess.",ka:"  ,    BBB   OOO DDD ,  222 CPU .",he:" ,      - BBB  - OOO DDD   222  .",ar:"             BBB    DDD      222    .",ur:"                          222               ",hi:"       ,       222      OOO DDD    BBB     ",ta:"  ,    222 CPU  OOO DDD      .",ml:"  ,    222    ooo ddd-   BBB  browser   .",te:"  ,    222   OOO DDD   BBB    .",kn:"  ,        222     .",bn:"    ,        222       -   ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini hanya kompatibel dengan browser BBB yang berjalan pada OOO DDD dengan setidaknya 222 inti CPU.","zh-CN":"222CPUOOO DDDBBB","zh-HK":"222CPUOOO DDDBBB",ja:"222 CPUOOO DDDBBB",ko:"    ,   222  CPU  OOO DDD  BBB   ."},EE_compatibleBrowserVersionDeviceCores:{"en-US":"As stated in its description, this study is only compatible with the BBB browser (version at least 111) running on a DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, ist diese Studie nur mit dem BBB -Browser (Version 111) kompatibel, der auf einem DDD mit mindestens 222 CPU -Kernen ausgefhrt wird.",fr:"Comme indiqu dans sa description, cette tude n'est compatible qu'avec le navigateur BBB (version au moins 111) fonctionnant sur un DDD avec au moins 222 curs de processeur.",es:"Como se indica en su descripcin, este estudio solo es compatible con el navegador BBB (versin al menos 111) que se ejecuta en un DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  compatvel apenas com o navegador BBB (verso pelo menos 111) em execuo em um DDD com pelo menos 222 ncleos da CPU.",it:"Come indicato nella sua descrizione, questo studio  compatibile solo con il browser BBB (versione almeno 111) in esecuzione su un DDD con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu este compatibil doar cu browserul BBB (versiunea cel puin 111) care ruleaz pe un DDD cu cel puin 222 nuclee de procesare.",pl:"Jak stwierdzono w opisie, badanie to jest kompatybilne tylko z przegldark BBB (wersja co najmniej 111) dziaajca na DDD z co najmniej 222 rdzeniami procesora.",ru:"    ,       BBB (   111),   DDD    222  .",hy:"     ,      BBB   (  111),    DDD-  ` 222  :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus on yhteensopiva vain BBB -selaimen (versio vhintn 111) kanssa, joka toimii DDD: ll vhintn 222 CPU -ytimell.",ka:"  ,    BBB  (  111)  DDD ,  222 CPU .",he:" ,      BBB (  111)   DDD   222  .",ar:"             BBB ( 111  )    DDD      222    .",ur:"                 (   111 )           222             ",hi:"       ,      (   111 )      222         ",ta:"  ,     (  111)  ...  222     .",ml:"  ,     browser    ( 111 )  222 .. .",te:"  ,    222       (  111)    .",kn:"  ,     (  111)    222     .",bn:"    ,        ( 111 )  222      ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini hanya kompatibel dengan browser BBB (versi setidaknya 111) yang berjalan pada DDD dengan setidaknya 222 inti CPU.","zh-CN":"222CPUDDDBBB111","zh-HK":"222CPUDDDBBB111",ja:"222 CPUDDDBBB111",ko:"    ,   222 CPU  DDD  BBB  ( 111)  ."},EE_compatibleBrowserVersionNotOSDeviceCores:{"en-US":"As stated in its description, this study is incompatible with ooo, and requires the BBB browser (version at least 111) running on a DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, ist diese Studie nicht mit OOO kompatibel und erfordert den BBB -Browser (Version mindestens 111), der auf einem DDD mit mindestens 222 CPU -Kernen ausgefhrt wird.",fr:"Comme indiqu dans sa description, cette tude est incompatible avec OOO et ncessite le navigateur BBB (version au moins 111) fonctionnant sur un DDD avec au moins 222 curs de processeur.",es:"Como se indica en su descripcin, este estudio es incompatible con OOO y requiere el navegador BBB (versin al menos 111) que se ejecuta en un DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  incompatvel com o OOO e requer o navegador BBB (verso pelo menos 111) em execuo em um DDD com pelo menos 222 ncleos da CPU.",it:"Come affermato nella sua descrizione, questo studio  incompatibile con OOO e richiede il browser BBB (versione almeno 111) in esecuzione su un DDD con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu este incompatibil cu OOO i necesit browserul BBB (versiunea cel puin 111) care ruleaz pe un DDD cu cel puin 222 de nuclee CPU.",pl:"Jak stwierdzono w opisie, badanie to jest niezgodne z OOO i wymaga przegldarki BBB (wersja co najmniej 111) dziaajca na DDD z co najmniej 222 rdzeniami procesora.",ru:"    ,     OOO  ,   BBB (   111)   DDD    222  .",hy:"     ,     OOO-      BBB  (  111),    DDD-  ` 222  :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus ei ole yhteensopiva OOO: n kanssa ja vaatii BBB -selaimen (versio vhintn 111), joka toimii DDD: ll vhintn 222 CPU -ytimell.",ka:"  ,    OOO    BBB  (  111),   DDD ,  222 CPU .",he:" ,      OOO,    - BBB (  111)   DDD   222  .",ar:"            OOO    BBB ( 111  )    DDD      222    .",ur:"                             222               (   111 )   ",hi:"       ,   OOO    ,     222 CPU    DDD    BBB  (   111 )   ",ta:"  ,   OOO  ,    (  111)  ...  222   .",ml:"  ,   ooo-  ,   222        browser  (  111) .",te:"  ,   OOO      222 CPU  DDD   BBB  ( 111) .",kn:"  ,   OOO  ,   222       (  111) .",bn:"    ,     ,    ( 111 )  222       ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini tidak kompatibel dengan OOO, dan membutuhkan browser BBB (versi setidaknya 111) berjalan pada DDD dengan setidaknya 222 inti CPU.","zh-CN":"OOO222CPUDDDBBB111","zh-HK":"OOO222CPUDDDBBB111",ja:"OOO222 CPUDDDBBB111",ko:"    ,  OOO    222  CPU  DDD BBB  ( 111) ."},EE_compatibleBrowserVersionOSDeviceCores:{"en-US":"As stated in its description, this study is only compatible with the BBB browser (version at least 111) running on a OOO DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, ist diese Studie nur mit dem BBB -Browser (Version 111) kompatibel, der auf einem OOO DDD mit mindestens 222 CPU -Kernen ausgefhrt wird.",fr:"Comme indiqu dans sa description, cette tude n'est compatible qu'avec le navigateur BBB (version au moins 111) fonctionnant sur un DDD OOO avec au moins 222 curs de CPU.",es:"Como se indica en su descripcin, este estudio solo es compatible con el navegador BBB (versin al menos 111) que se ejecuta en un OOO DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  compatvel apenas com o navegador BBB (verso pelo menos 111) em execuo em um DDD OOO com pelo menos 222 ncleos da CPU.",it:"Come indicato nella sua descrizione, questo studio  compatibile solo con il browser BBB (versione almeno 111) in esecuzione su un DDD OOO con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu este compatibil doar cu browserul BBB (versiunea cel puin 111) care ruleaz pe un OOO DDD cu cel puin 222 nuclee de procesare.",pl:"Jak stwierdzono w opisie, badanie to jest kompatybilne tylko z przegldark BBB (wersja co najmniej 111) dziaajca na DDD OOO z co najmniej 222 rdzeniami procesora.",ru:"    ,       BBB (   111),   OOO DDD    222  .",hy:"     ,      BBB   (  111)   OOO DDD-  ` 222  :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus on yhteensopiva vain BBB -selaimen (versio vhintn 111) kanssa, joka toimii OOO -DDD: ll vhintn 222 CPU -ytimell.",ka:"  ,    BBB  (  111 )  OOO DDD ,  222 CPU .",he:" ,      BBB (  111)   OOO DDD   222  .",ar:"             BBB ( 111  )    DDD      222    .",ur:"                 (   111 )          222               ",hi:"       ,    BBB  (   111 )    ,     222 CPU    OOO DDD    ",ta:"  ,     (  111)  OOO DDD   222 CPU  .",ml:"  ,     browser  ( 111   222   .",te:"  ,    222   OOO DDD   BBB  (  111)    .",kn:"  ,     (  111)     222   .",bn:"    ,        ( 111 )  222       ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini hanya kompatibel dengan browser BBB (versi setidaknya 111) yang berjalan pada OOO DDD dengan setidaknya 222 inti CPU.","zh-CN":"222CPUOOO DDDBBB111","zh-HK":"222CPUOOO DDDBBB111",ja:"222 CPUOOO DDDBBB111",ko:"    ,   222 CPU  OOO DDD  BBB  ( 111)  ."},EE_compatibleDeviceCores:{"en-US":"As stated in its description, this study runs only on a DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, wird diese Studie nur auf einem DDD mit mindestens 222 CPU -Kernen betrieben.",fr:"Comme indiqu dans sa description, cette tude ne fonctionne que sur un DDD avec au moins 222 curs de CPU.",es:"Como se indica en su descripcin, este estudio se ejecuta solo en un DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  executado apenas em um DDD com pelo menos 222 ncleos da CPU.",it:"Come affermato nella sua descrizione, questo studio funziona solo su un DDD con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu se desfoar doar pe un DDD cu cel puin 222 nuclee de procesare.",pl:"Jak stwierdzono w opisie, badanie to dziaa tylko na DDD z co najmniej 222 rdzeniami procesora.",ru:"    ,      DDD    222  .",hy:"     ,      DDD-  ` 222  :",fi:"Kuten sen kuvauksessa todetaan, tm tutkimus toimii vain DDD: ll, jossa on vhintn 222 CPU -ydint.",ka:"  ,    DDD-    222 CPU .",he:" ,     - DDD   222  .",ar:"           DDD      222    .",ur:"                        222     ",hi:"       ,       222        ",ta:"  ,    222    ...  .",ml:"  ,    222      .",te:"  ,    222     .",kn:"  ,    222     .",bn:"    ,     222      ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini hanya berjalan pada DDD dengan setidaknya 222 inti CPU.","zh-CN":"222CPUDDD","zh-HK":"222CPUDDD",ja:"222CPUDDD",ko:"    ,   222  CPU  DDD ."},EE_compatibleNotBrowserDeviceCores:{"en-US":"As stated in its description, this study is incompatible with the bbb browser(s), and runs only on a DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, ist diese Studie nicht mit dem BBB -Browser (s) kompatibel und luft nur auf einem DDD mit mindestens 222 CPU -Kernen.",fr:"Comme indiqu dans sa description, cette tude est incompatible avec le (s) navigateur (s) BBB et ne fonctionne que sur un DDD avec au moins 222 curs de processeur.",es:"Como se indica en su descripcin, este estudio es incompatible con los navegadores BBB, y se ejecuta solo en un DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  incompatvel com o (s) navegador (s) BBB (s) e  executado apenas em um DDD com pelo menos 222 ncleos da CPU.",it:"Come affermato nella sua descrizione, questo studio  incompatibile con il browser BBB e funziona solo su un DDD con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu este incompatibil cu browserul (browserul) BBB i ruleaz doar pe un DDD cu cel puin 222 nuclee de procesare.",pl:"Jak stwierdzono w opisie, badanie to jest niezgodne z przegldark (-w) BBB i dziaa tylko na DDD z co najmniej 222 rdzeniami procesora.",ru:"    ,      BBB     DDD    222  .",hy:"     ,     BBB  ()       DDD-  ` 222  :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus ei ole yhteensopiva BBB -selaimen (S) kanssa, ja se toimii vain DDD: ll, jossa on vhintn 222 CPU -ydint.",ka:"  ,    BBB  ()     DDD ,  222 CPU .",he:" ,       - BBB,   - DDD   222  .",ar:"            () BBB     DDD  222      .",ur:"                ()                222        ",hi:"       ,     ()    ,      222        ",ta:"  ,     ()  ,   222   ...  .",ml:"  ,     browser  ,   222      .",te:"  ,   BBB  ()      222 CPU  DDD   .",kn:"  ,     ()     222     .",bn:"    ,     ()      222       ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini tidak kompatibel dengan browser BBB, dan hanya berjalan pada DDD dengan setidaknya 222 inti CPU.","zh-CN":"BBB222CPUDDD","zh-HK":"BBB222CPUDDD",ja:"BBB222 CPUDDD",ko:"    ,  BBB     222 CPU  DDD ."},EE_compatibleNotBrowserNotOSDeviceCores:{"en-US":"As stated in its description, this study is incompatible with the bbb browser(s) and also incompatible with ooo. It runs only on a DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, ist diese Studie nicht mit dem BBB -Browser und auch mit OOO kompatibel. Es luft nur auf einem DDD mit mindestens 222 CPU -Kernen.",fr:"Comme indiqu dans sa description, cette tude est incompatible avec le ou les navigateurs BBB et galement incompatible avec OOO. Il fonctionne uniquement sur un DDD avec au moins 222 curs CPU.",es:"Como se indica en su descripcin, este estudio es incompatible con los navegadores BBB y tambin incompatible con OOO. Se ejecuta solo en un DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  incompatvel com o (s) navegador (s) BBB (s) e tambm incompatvel com o OOO. Ele  executado apenas em um DDD com pelo menos 222 ncleos da CPU.",it:"Come affermato nella sua descrizione, questo studio  incompatibile con il browser BBB e anche incompatibile con OOO. Funziona solo su un DDD con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu este incompatibil cu browserul (browserul) BBB i, de asemenea, incompatibil cu OOO. Se ruleaz doar pe un DDD cu cel puin 222 nuclee de procesare.",pl:"Jak stwierdzono w swoim opisie, badanie to jest niezgodne z przegldark BBB, a take niekompatybiln z OOO. Dziaa tylko na DDD z co najmniej 222 rdzeniami procesora.",ru:"    ,      BBB,     OOO.     DDD    222  .",hy:"     ,     BBB  ()      OOO-  :     DDD-  ` 222  :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus ei ole yhteensopiva BBB -selaimen (t) kanssa ja mys yhteensopimattomana OOO: n kanssa. Se toimii vain DDD: ll, jossa on vhintn 222 CPU -ydint.",ka:"  ,    BBB  ()     OOO- .    DDD ,  222 CPU .",he:" ,       - BBB     OOO.    - DDD   222  .",ar:"            () BBB     OOO.    DDD      222    .",ur:"                ()                         222        ",hi:"       ,     ()                 222        ",ta:"  ,     ()  ,  OOO  .   222   ...  .",ml:"  ,     browser  ,   ooo-  .  222       .",te:"  ,   BBB  ()     OOO    .   222     .",kn:"  ,     ()    OOO  .   222     .",bn:"    ,     ()          222      ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini tidak sesuai dengan browser BBB dan juga tidak sesuai dengan OOO. Ini hanya berjalan pada DDD dengan setidaknya 222 inti CPU.","zh-CN":"BBBOOO222CPUDDD","zh-HK":"BBBOOO222CPUDDD",ja:"BBBOOO222CPUDDD",ko:"    ,  BBB    OOO  .  222 CPU  DDD ."},EE_compatibleNotBrowserOSDeviceCores:{"en-US":"As stated in its description, this study is incompatible with the bbb browser(s) and runs only on a OOO DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, ist diese Studie nicht mit dem BBB -Browser (s) kompatibel und luft nur auf einem OOO DDD mit mindestens 222 CPU -Kernen.",fr:"Comme indiqu dans sa description, cette tude est incompatible avec le ou les navigateurs BBB et ne fonctionne que sur un DDD OOO avec au moins 222 curs de processeur.",es:"Como se indica en su descripcin, este estudio es incompatible con los navegadores BBB y se ejecuta solo en un OOO DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  incompatvel com o (s) navegador (s) BBB (s) e  executado apenas em um DDD OOO com pelo menos 222 ncleos da CPU.",it:"Come affermato nella sua descrizione, questo studio  incompatibile con il browser BBB e funziona solo su un DDD OOO con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu este incompatibil cu browserul (browserul) BBB i ruleaz doar pe un OOO DDD cu cel puin 222 nuclee de procesare.",pl:"Jak stwierdzono w opisie, badanie to jest niezgodne z przegldark (-w) BBB i dziaa tylko na DDD OOO z co najmniej 222 rdzeniami procesora.",ru:"    ,      BBB (S)     OO DDD    222  .",hy:"     ,     BBB  ()       OOO DDD-    222  :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus ei ole yhteensopiva BBB -selaimen (S) kanssa ja toimii vain OOO -DDD: ll, jossa on vhintn 222 CPU -ytimi.",ka:"  ,    BBB  ()     OOO DDD ,  222 CPU .",he:" ,       - BBB ()   - OOO DDD   222  .",ar:"            () BBB    DDD      222    .",ur:"                ()                 222        ",hi:"       ,     ()          222          ",ta:"  ,     ()     222 CPU  OOO DDD   .",ml:"  ,     browser  ()  ,   222    ooo dd  .",te:"  ,   BBB  ()      222 CPU  OOO DDD   .",kn:"  ,     ()     222   OOO   .",bn:"    ,     ()      222         ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini tidak kompatibel dengan browser BBB dan hanya berjalan pada OOO DDD dengan setidaknya 222 inti CPU.","zh-CN":"BBB222CPUOOO DDD","zh-HK":"BBB222CPUOOO DDD",ja:"BBB222CPUOOO DDD",ko:"    ,  BBB     222 CPU  OOO DDD ."},EE_compatibleNotOSDeviceCores:{"en-US":"As stated in its description, this study is incompatible with ooo. It runs only on a DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, ist diese Studie mit OOO unvereinbar. Es luft nur auf einem DDD mit mindestens 222 CPU -Kernen.",fr:"Comme indiqu dans sa description, cette tude est incompatible avec OOO. Il fonctionne uniquement sur un DDD avec au moins 222 curs CPU.",es:"Como se indica en su descripcin, este estudio es incompatible con OOO. Se ejecuta solo en un DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  incompatvel com o OOO. Ele  executado apenas em um DDD com pelo menos 222 ncleos da CPU.",it:"Come affermato nella sua descrizione, questo studio  incompatibile con OOO. Funziona solo su un DDD con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu este incompatibil cu OOO. Se ruleaz doar pe un DDD cu cel puin 222 nuclee de procesare.",pl:"Jak stwierdzono w opisie, badanie to jest niezgodne z OOO. Dziaa tylko na DDD z co najmniej 222 rdzeniami procesora.",ru:"    ,     OOO.     DDD    222  .",hy:"     ,     OOO-  :     DDD-  ` 222  :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus on yhteensopimattomana OOO: n kanssa. Se toimii vain DDD: ll, jossa on vhintn 222 CPU -ydint.",ka:"  ,    OOO- .    DDD ,  222 CPU .",he:" ,      OOO.    - DDD   222  .",ar:"           OOO.    DDD      222    .",ur:"            OOO               222        ",hi:"       ,   OOO          222        ",ta:"  ,   OOO  .   222   ...  .",ml:"  ,   ooo-  .  222       .",te:"  ,   OOO   .   222     .",kn:"  ,   OOO  .   222     .",bn:"    ,        222      ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini tidak sesuai dengan OOO. Ini hanya berjalan pada DDD dengan setidaknya 222 inti CPU.","zh-CN":"OOO222CPUDDD","zh-HK":"OOO222CPUDDD",ja:"OOO222CPUDDD",ko:"    ,  OOO  .  222 CPU  DDD ."},EE_compatibleOSDeviceCores:{"en-US":"As stated in its description, this study runs only on a OOO DDD with at least 222 CPU cores.",de:"Wie in ihrer Beschreibung angegeben, wird diese Studie nur auf einem OOO DDD mit mindestens 222 CPU -Kernen ausgefhrt.",fr:"Comme indiqu dans sa description, cette tude ne fonctionne que sur un DDD OOO avec au moins 222 curs de CPU.",es:"Como se indica en su descripcin, este estudio se ejecuta solo en un OOO DDD con al menos 222 ncleos de CPU.",pt:"Conforme declarado em sua descrio, este estudo  executado apenas em um DDD OOO com pelo menos 222 ncleos da CPU.",it:"Come affermato nella sua descrizione, questo studio funziona solo su un DDD OOO con almeno 222 core CPU.",ro:"Dup cum s -a menionat n descrierea sa, acest studiu se desfoar doar pe un OOO DDD cu cel puin 222 de nuclee de procesor.",pl:"Jak stwierdzono w opisie, badanie to dziaa tylko na OOO DDD z co najmniej 222 rdzeniami procesora.",ru:"    ,      OOO DDD,   ,  222  .",hy:"     ,      OOO DDD-   ` 222  :",fi:"Kuten kuvauksessaan todetaan, tm tutkimus kulkee vain OOO -DDD: ll, jossa on vhintn 222 CPU -ytimi.",ka:"  ,    OOO DDD    222 CPU .",he:" ,     - OOO DDD   222  .",ar:"           ddd ooo      222    .",ur:"             OOO DDD         222 CPU  ",hi:"       ,     OOO DDD     222 CPU     ",ta:"  ,    222 CPU  OOO DDD   .",ml:"  ,    222    ooo ddd   .",te:"  ,    222   OOO DDD   .",kn:"  ,   OOO   222    .",bn:"    ,     222       ",id:"Seperti yang dinyatakan dalam deskripsinya, penelitian ini hanya berjalan pada OOO DDD dengan setidaknya 222 inti CPU.","zh-CN":"222CPUOOO DDD","zh-HK":"222CPUOOO DDD",ja:"222CPUOOO DDD",ko:"    ,   222 CPU  OOO DDD ."},EE_compatibleScreenHeight:{"en-US":"And screen is at least 222 px high.",de:"Und der Bildschirm ist mindestens 222 px hoch.",fr:"Et l'cran est d'au moins 222 px de haut.",es:"Y la pantalla tiene al menos 222 px de altura.",pt:"E a tela tem pelo menos 222 px de altura.",it:"E lo schermo  alto almeno 222 px.",ro:"Iar ecranul este de cel puin 222 px nlime.",pl:"A ekran ma co najmniej 222 px wysokoci.",ru:" ,   , 222  .",hy:"   222 PX  :",fi:"Ja nytt on vhintn 222 px korkea.",ka:"   222 px .",he:"   222 .",ar:"   222   .",ur:"     222 px  ",hi:"     222   ",ta:"   222  .",ml:"   222  .",te:"   222 px .",kn:"   222  .",bn:"   222  ",id:"Dan layar setidaknya 222 px.","zh-CN":"222 PX","zh-HK":"222 PX",ja:"222 px",ko:"   222 px ."},EE_compatibleScreenSize:{"en-US":"And screen has at least 111x222 px.",de:"Und Bildschirm hat mindestens 111 x 222 px.",fr:"Et l'cran a au moins 111x222 px.",es:"Y la pantalla tiene al menos 111x222 PX.",pt:"E a tela possui pelo menos 111x222 px.",it:"E lo schermo ha almeno 111x222 px.",ro:"Iar ecranul are cel puin 111x222 px.",pl:"A ekran ma co najmniej 111x222 px.",ru:"     111x222 px.",hy:"    111x222 PX:",fi:"Ja nytll on vhintn 111x222 px.",ka:"    111x222 px.",he:"  111x222 px.",ar:"      111x222 .",ur:"      111x222 PX ",hi:"      111x222  ",ta:"   111x222 px .",ml:"  111x222 px .",te:"   111x222 px  .",kn:"   111x222   .",bn:"   111x222  ",id:"Dan layar memiliki setidaknya 111x222 px.","zh-CN":"111x222 PX","zh-HK":"111x222 PX",ja:"111x222 px",ko:"  111x222 px ."},EE_compatibleScreenWidth:{"en-US":"And screen is at least 111 px wide.",de:"Und der Bildschirm ist mindestens 111 px breit.",fr:"Et l'cran est de large au moins 111 px.",es:"Y la pantalla tiene al menos 111 px de ancho.",pt:"E a tela tem pelo menos 111 px de largura.",it:"E lo schermo  largo almeno 111 px.",ro:"Iar ecranul are cel puin 111 px lime.",pl:"A ekran ma co najmniej 111 px szerokoci.",ru:"    111 PX  .",hy:"   111 PX  :",fi:"Ja nytt on vhintn 111 px leve.",ka:"   111 px .",he:"   111 .",ar:"    111 .",ur:"     111 px  ",hi:"     111   ",ta:"   111 px .",ml:"  111  .",te:"   111 px  .",kn:"   111  .",bn:"   111  ",id:"Dan layar setidaknya 111 px lebar.","zh-CN":"111 PX","zh-HK":"111 PX",ja:"111 px",ko:"   111 px ."},EE_describeDevice:{"en-US":"It appears that the current browser is BBB (version 111), running on a OOO DDD with 222 CPU cores. ",de:"Es scheint, dass der aktuelle Browser BBB (Version 111) ist und auf einem OOO DDD mit 222 CPU -Kernen ausgefhrt wird.",fr:"Il semble que le navigateur actuel soit BBB (version 111), fonctionnant sur un DDD OOO avec 222 curs de processeur.",es:"Parece que el navegador actual es BBB (versin 111), que se ejecuta en un OOO DDD con 222 ncleos de CPU.",pt:"Parece que o navegador atual  BBB (verso 111), executando em um DDD OOO com 222 ncleos da CPU.",it:"Sembra che il browser corrente sia BBB (versione 111), in esecuzione su un DDD OOO con 222 core CPU.",ro:"Se pare c browserul curent este BBB (versiunea 111), care ruleaz pe un OOO DDD cu 222 nuclee de procesor.",pl:"Wyglda na to, e obecna przegldarka to BBB (wersja 111), dziaajca na OOO DDD z 222 rdzeniami procesora.",ru:",    - BBB ( 111),   Ooo DDD  222  .",hy:" ,    BBB  (111 ),  OOO DDD- , 222  :",fi:"Vaikuttaa silt, ett nykyinen selain on BBB (versio 111), joka toimii OOO -DDD: ll, jossa on 222 CPU -ytimen.",ka:" ,    BBB ( 111),   OOO DDD  222 CPU .",he:"     BBB ( 111),   OOO DDD  222  .",ar:"     BBB ( 111)    DDD  222   .",ur:"          ( 111)    222               ",hi:"       BBB ( 111) ,  222 CPU    OOO DDD    ",ta:"  BBB ( 111)  ,  222 CPU  OOO DDD  .",ml:"222    ooo    ( 111)    browser  ( 111).",te:"  BBB ( 111), 222 CPU  OOO DDD  .",kn:"   ( 111), 222   OOO    .",bn:"       ( 111), 222       - ",id:"Tampaknya browser saat ini adalah BBB (versi 111), berjalan pada OOO DDD dengan 222 core CPU.","zh-CN":"BBB111222CPUOOO DDD","zh-HK":"BBB111222CPUOOO DDD",ja:"BBB111222 CPUOOO DDD",ko:"  BBB ( 111) 222 CPU  OOO DDD ."},EE_describeScreenSize:{"en-US":"Screen has 111x222 px.",de:"Der Bildschirm hat 111x222 px.",fr:"L'cran a 111x222 px.",es:"La pantalla tiene 111x222 PX.",pt:"A tela possui 111x222 px.",it:"Lo schermo ha 111x222 px.",ro:"Ecranul are 111x222 px.",pl:"Ekran ma 111x222 PX.",ru:"  111x222 px.",hy:"  111x222 PX:",fi:"Nytss on 111x222 px.",ka:"  111x222 px.",he:"  111x222 px.",ar:"  111x222 .",ur:"  111x222 PX ",hi:"  111x222  ",ta:" 111x222 px .",ml:" 111x222 px .",te:" 111x222 px  .",kn:" 111x222  .",bn:" 111x222  ",id:"Layar memiliki 111x222 px.","zh-CN":"111x222 PX","zh-HK":"111x222 PX",ja:"111x222 px",ko:" 111x222 px ."},EE_incompatible:{"en-US":" INCOMPATIBLE. Sorry. Please RETURN it to Prolific.",de:" inkompatibel. Es tut uns leid. Bitte geben Sie es an produktiv zurck.",fr:" incompatible. Pardon. Veuillez le retourner  Prolific.",es:" Incompatible. Lo siento. Por favor devulvalo a Prolific.",pt:" Incompatvel. Desculpe. Por favor, devolva -o ao prolfico.",it:" incompatibile. Scusate. Si prega di restituirlo a prolifico.",ro:" incompatibil. mi pare ru. V rugm s -l returnai la Prolific.",pl:" Niezgodne. Przepraszam. Zwr go do podnego.",ru:" . . ,    .",hy:" : .     :",fi:" yhteensopimattomia. Anteeksi. Palauta se tuotteeksi.",ka:" . . ,   .",he:"  . .    .",ar:"  . .     .",ur:"          ",hi:"        ",ta:". .    .",ml:" . .    .",te:" . .     .",kn:". .    .",bn:"        ",id:" Tidak kompatibel. Maaf. Harap kembalikan ke produktif.","zh-CN":"","zh-HK":"",ja:"complatatible",ko:"  . .   ."},EE_incompatibleReturnToProlific:{"en-US":"This study is incompatible with your computer or browser, so please RETURN it to Prolific. Submission for payment will be REJECTED, so please RETURN.",de:"Diese Studie ist mit Ihrem Computer oder Browser nicht kompatibel. Bitte geben Sie sie also an produktiv zurck. Die Zahlungseintritt wird abgelehnt, also geben Sie bitte zurck.",fr:"Cette tude est incompatible avec votre ordinateur ou votre navigateur, veuillez donc le retourner en prolifique. La soumission pour le paiement sera rejete, veuillez donc revenir.",es:"Este estudio es incompatible con su computadora o navegador, as que devulvalo a prolfico. El envo para el pago ser rechazado, as que devuelva.",pt:"Este estudo  incompatvel com o seu computador ou navegador; portanto, devolva -o ao prolfico. O envio para pagamento ser rejeitado, ento retorne.",it:"Questo studio  incompatibile con il computer o il browser, quindi ti preghiamo di restituirlo a prolifico. L'invio per il pagamento verr respinto, quindi restituire.",ro:"Acest studiu este incompatibil cu computerul sau browserul, aa c v rugm s -l returnai la Prolific. Trimiterea pentru plat va fi respins, aa c v rugm s v ntoarcei.",pl:"To badanie jest niekompatybilne z komputerem lub przegldark, wic zwr je do podnego. Zgoszenie patnoci zostanie odrzucone, wic zwr.",ru:"       , , ,    .     , , , .",hy:"        ,       :    ,     :",fi:"Tm tutkimus ei ole yhteensopiva tietokoneesi tai selaimen kanssa, joten palauta se tuotteliaasti. Maksujen lhettminen hyltn, joten palauta.",ka:"       ,  ,   .    ,  , .",he:"        ,     .   ,   .",ar:"                 .        .",ur:"                                 ",hi:"         ,                ,   ",ta:"      ,      .   ,   .",ml:"     ,     .   ,   .",te:"       ,      .    ,    .",kn:"      ,     .   ,   .",bn:"       ,               ,     ",id:"Studi ini tidak kompatibel dengan komputer atau browser Anda, jadi silakan kembalikan ke produktif. Pengajuan pembayaran akan ditolak, jadi tolong kembalikan.","zh-CN":"","zh-HK":"",ja:"Prolific",ko:"       Prolific .    ."},EE_languageDirection:{"en-US":"LTR",de:"LTR",fr:"LTR",es:"LTR",pt:"LTR",it:"LTR",ro:"LTR",pl:"LTR",ru:"LTR",hy:"LTR",fi:"LTR",ka:"LTR",he:"RTL",ar:"RTL",ur:"RTL",hi:"LTR",ta:"LTR",ml:"LTR",te:"LTR",kn:"LTR",bn:"LTR",id:"LTR","zh-CN":"LTR","zh-HK":"LTR",ja:"LTR",ko:"LTR"},EE_languageFont:{"en-US":"Noto Serif",de:"Noto Serif",fr:"Noto Serif",es:"Noto Serif",pt:"Noto Serif",it:"Noto Serif",ro:"Noto Serif",pl:"Noto Serif",ru:"Noto Serif",hy:"Noto Serif Armenian",fi:"Noto Serif",ka:"Noto Serif",he:"Noto Serif Hebrew",ar:"Noto Kufi Arabic",ur:"Noto Nastaliq Urdu",hi:"Noto Serif Devanagari ",ta:"Noto Serif Tamil",ml:"Noto Serif Malayalam",te:"Noto Serif Telugu",kn:"Noto Serif Kannada",bn:"Noto Serif Bengali",id:"Noto Serif","zh-CN":"Noto Serif SC","zh-HK":"Noto Serif TC",ja:"Noto Serif JP",ko:"Noto Serif KR"},EE_languageNameEnglish:{"en-US":"English",de:"German",fr:"French",es:"Spanish",pt:"Portuguese",it:"Italian",ro:"Romanian",pl:"Polish",ru:"Russian",hy:"Armenian",fi:"Finnish",ka:"Georgian",he:"Hebrew",ar:"Arabic",ur:"Urdu",hi:"Hindi",ta:"Tamil",ml:"Malayalam",te:"Telugu",kn:"Kannada",bn:"Bangla",id:"Indonesian","zh-CN":"Chinese (Simplified)","zh-HK":"Chinese (Traditional)",ja:"Japanese",ko:"Korean"},EE_languageNameNative:{"en-US":"English",de:"Deutsch",fr:"Franais",es:"espaol",pt:"Portugus",it:"Italiano",ro:"Romn",pl:"Polski",ru:"",hy:"",fi:"Suomalainen",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"Bahasa Indonesia","zh-CN":"","zh-HK":"",ja:"",ko:""},EE_languageUseSpace:{"en-US":"1",de:"1",fr:"1",es:"1",pt:"1",it:"1",ro:"1",pl:"1",ru:"1",hy:"1",fi:"1",ka:"1",he:"1",ar:"1",ur:"1",hi:"1",ta:"1",ml:"1",te:"1",kn:"1",bn:"1",id:"1","zh-CN":"0","zh-HK":"0",ja:"0",ko:"0"},EE_phraseSource:{"en-US":"Denis Pelli & Peiling Jiang 2021.10.10; 2021.10.14; 2021.10.19; Marialuisa Martelli 2021.10.21",de:"Google Translate from English; Denis Pelli 2021.10.19 improved translation of trial and beep.",fr:"Google Translate from Spanish, Italian, English, and German; Denis Pelli 2021.10.19",es:"Google Translate from English; Denis Pelli 2021.10.15; Maria Pombo 2021.10.24",pt:"Google Translate from Spanish",it:"Google Translate from English; Marialuisa Martelli 2021.10.21",ro:"Google Translate from Spanish",pl:"Google Translate from English; Jan Kurzawski 2021.10.20",ru:"Google Translate from English; Elena Sizikova 2021.12.14",hy:"Google Translate from English",fi:"Google Translate from English",ka:"Google Translate from English",he:"Google Translate from English",ar:"Google Translate from English; Marianne Azar 2021.10.7",ur:"Google Translate from Hindi",hi:"Google Translate from English; Mrugank Dake and Ajay Subramanian 2021.10.14",ta:"Google Translate from English",ml:"Google Translate from English",te:"Google Translate from English",kn:"Google Translate from English",bn:"Google Translate from English",id:"Google Translate from English","zh-CN":"Google Translate from English; Elizabeth Zhou 2022.1.6","zh-HK":"Google Translate from Simplified Chinese",ja:"Google Translate from English",ko:"Google Translate from English"},RC_angleDistanceIntro:{"en-US":"Just turn around, and we will find your viewing distance! When asked, please grant access to your camera.",de:"Drehen Sie sich einfach um und wir werden Ihre Betrachtungsentfernung finden! Wenn Sie gefragt werden, gewhren Sie bitte Zugriff auf Ihre Kamera.",fr:"Retournez-vous et nous trouverons votre distance de vision! Lorsqu'on vous a demand, veuillez accorder l'accs  votre appareil photo.",es:"Date la vuelta y encontraremos tu distancia de visin! Cuando se le pregunte, otorgue el acceso a su cmara.",pt:"Basta virar e encontraremos sua distncia de visualizao! Quando solicitado, conceda acesso  sua cmera.",it:"Girati e troveremo la tua distanza di visione! Alla domanda, si prega di concedere l'accesso alla fotocamera.",ro:"Pur i simplu ntoarcei -v i v vom gsi distana de vizionare! Cnd ai solicitat, v rugm s acordai acces la camera dvs.",pl:"Po prostu odwr si, a znajdziemy twoj odlego ogldania! Zapytany, daj dostp do aparatu.",ru:" ,      !   ,     .",hy:" ,      : ,      :",fi:"Knn vain ympri, ja lydmme katseluetisyyden! Kun kysytn, anna psy kamerallesi.",ka:"       ! , ,    .",he:" ,     ! ,     .",ar:"        !        .",ur:"            !              ",hi:"   ,       !   ,        ",ta:" ,     ! ,     .",ml:",    ! ,    .",te:" ,      ! ,     .",kn:",      ! ,     .",bn:"  ,       !   ,      ",id:"Balikkan saja, dan kami akan menemukan jarak menonton Anda! Ketika ditanya, harap berikan akses ke kamera Anda.","zh-CN":"","zh-HK":"",ja:"",ko:"       !      ."},RC_angleDistanceTitle:{"en-US":"Find Viewing Distance",de:"Finden Sie den Betrachtungsabstand",fr:"Trouver la distance d'observation",es:"Encuentra la distancia de visualizacin",pt:"Encontre a distncia de visualizao",it:"Trova la distanza di visione",ro:"Gsii distana de vizualizare",pl:"Znajd odlego ogldania",ru:"  ",hy:"  ",fi:"Etsi katseluetisyys",ka:"  ",he:"  ",ar:"   ",ur:"    ",hi:"   ",ta:"  ",ml:"  ",te:"  ",kn:"  ",bn:"   ",id:"Temukan jarak menonton","zh-CN":"","zh-HK":"",ja:"",ko:"  "},RC_cancel:{"en-US":"Restart this calibration",de:"Starten Sie diese Kalibrierung neu",fr:"Redmarrer cet talonnage",es:"Reiniciar esta calibracin",pt:"Reinicie esta calibrao",it:"Riavvia questa calibrazione",ro:"Repornii aceast calibrare",pl:"Anuluj",ru:"  ",hy:"  ",fi:"Kynnist tm kalibrointi uudelleen",ka:"  ",he:"    ",ar:"",ur:" ",hi:" ",ta:"   ",ml:"  ",te:"   art ",kn:"   ",bn:"    ",id:"Mulai ulang kalibrasi ini","zh-CN":"","zh-HK":"",ja:"",ko:"   "},RC_distanceTracking:{"en-US":"Distance Tracking",de:"Entfernungsverfolgung",fr:"Suivi de distance",es:"Seguimiento de distancia",pt:"Rastreamento de distncia",it:"Monitoraggio a distanza",ro:"Urmrirea distanei",pl:"ledzenie odlegoci od ekranu",ru:" ",hy:" ",fi:"Etisyyden seuranta",ka:"  ",he:" ",ar:" ",ur:"   ",hi:" ",ta:" ",ml:" ",te:" ",kn:" ",bn:" ",id:"Pelacakan jarak","zh-CN":"","zh-HK":"",ja:"",ko:" "},RC_distanceTrackingCloseL:{"en-US":"1. Close LEFT eye. (This is the left side of the screen.)<br />2. Use  key to slide the flickering dot. (It's rare, but if your arrow keys don't respond, use the cursor to drag the flickering dot.) While focusing on the crosshair, monitor the flickering dot in the corner of your eye, and slide it until it disappears into your blindspot.<br />3. Hit RETURN. ",de:"1. Schlieen Sie das linke Auge. (Dies ist die linke Seite des Bildschirms.) <br /> 2. Verwenden Sie  Tasten, um den flackernden Punkt zu schieben. (Es ist selten, aber wenn Ihre Pfeiltasten nicht reagieren, verwenden Sie den Cursor, um den flackernden Punkt zu ziehen.) Whrend Sie sich auf das Fadenkreuz konzentrieren, berwachen Sie den flackernden Punkt in Ihrem Augenwinkel und schieben Sie ihn, bis er in Ihren Blindspot verschwindet . <br /> 3. Hit Return.",fr:"1. Fermez l'il gauche. (C'est le ct gauche de l'cran.) <br /> 2. Utilisez  Cl pour faire glisser le point scintillant. (C'est rare, mais si vos cls de flche ne rpondent pas, utilisez le curseur pour faire glisser le point scintillant.) Tout en vous concentrant sur le rticule, surveillez le point vacillant dans le coin de votre il et faites-le glisser jusqu' ce qu'il disparaisse dans votre blindspot . <br /> 3. Appuyez sur Retour.",es:"1. Cierre el ojo izquierdo. (Este es el lado izquierdo de la pantalla). <br /> 2. Use  clave para deslizar el punto parpadeante. (Es raro, pero si sus teclas de flecha no responden, use el cursor para arrastrar el punto parpadeante). Mientras se enfoca en la mira, monitoree el punto parpadeante en la esquina de su ojo y deslicelo hasta que desaparezca en su punto ciego . <br /> 3. Hit Regreso.",pt:"1. Feche o olho esquerdo. (Este  o lado esquerdo da tela.) <br /> 2. Use  Tecla para deslizar o ponto de tremeling. ( raro, mas se suas teclas de seta no responderem, use o cursor para arrastar o ponto trmulo.) Enquanto se concentra na mira, monitore o ponto tremeluzente no canto do olho e deslize at que desaparea para o seu ponto cego . <br /> 3. Acertar o retorno.",it:"1. Chiudi occhio sinistro. (Questo  il lato sinistro dello schermo.) <br /> 2. Utilizzare  Tasto per far scorrere il punto tremolante. ( raro, ma se i tasti della freccia non rispondono, usa il cursore per trascinare il punto tremolante.) Mentre si concentra sul mirino, monitora il punto tremolante nell'angolo dell'occhio e fai scorrere fino a quando non scompare nel tuo cieco . <br /> 3. Colpire il ritorno.",ro:"1. nchidei ochiul stng. (Aceasta este partea stng a ecranului.) <br /> 2. Folosii  Tasta pentru a glisa punctul plpit. ) . <br /> 3. Lovete ntoarcerea.",pl:"1. Zamknij lewe oko. (To jest lewa strona ekranu.) <br /> 2. Uyj  Klucz, aby przesun migoczc kropk. (Rzadko, ale jeli twoje klawisze strzaek nie reaguj, uyj kursora, aby przecign migajc kropk.) Podczas skupienia si na celowniku monitoruj migoczc kropk w rogu oka, i przesu j, a zniknie w twojej lepej odbiorcy . <br /> 3. Hit Return.",ru:"1.   . (   .) <br /> 2.   ,    . ( ,        ,  ,    .),   ,  . <br /> 3.  .",hy:"1.   : (    ).) 2.    `   : ( ,       ,  ,    : . <br /> 3:  :",fi:"1. Sulje vasen silm. (Tm on nytn vasen puoli.) <br /> 2. Liu'uta vilkkuvaa pistett  nppimell. (Se on harvinaista, mutta jos nuolinppimet eivt vastaa, ved vlkkyv piste.) Keskittyesssi ristikkin, tarkkaile silmn nurkassa olevaa vilkkuvaa pistett ja liu'uta se, kunnes se katoaa blindspot -sivustoon . <br /> 3. Hit paluu.",ka:"1.   . (    .) <br /> 2.   ,    . ( ,       ,  ,    .),    ,        ,       . . <br /> 3.  .",he:"1.   . (    .) <br /> 2.        . ( ,       ,       .)    Crosshair,                . <br /> 3.  .",ar:"1.   . (     .) <br /> 2.      . (                   . <br /> 3.  .",ur:"1.      (     ) <br /> 2.            (                          )                                      . <br /> 3.   ",hi:"1.     (     ) <br /> 2              (  ,          ,            )      ,          ,                   <br /> 3  ",ta:"1.   . (   .) <br /> 2.      . . . <br /> 3. .",ml:"1.   . (  .) <br /> 2.       . . . <br /> 3. .",te:"1.   . (    .) <br /> 2.       . . . <br /> 3.  .",kn:"1.   . (  .) <br /> 2.       . . . <br /> 3.  .",bn:"1.     (   )) <br /> 2         ( ,                ))     ,                  <br /> 3  ",id:"1. Tutup mata kiri. (Ini adalah sisi kiri layar.) <br /> 2. Gunakan  Kunci untuk menggeser titik berkedip. ; . <br /> 3. Tekan kembali.","zh-CN":"1. 2 3","zh-HK":"1. 2 3",ja:"1. 2  3",ko:"1.   . (  .) <br /> 2.       . (           .)                . . <br /> 3.  ."},RC_distanceTrackingCloseR:{"en-US":"1. Close RIGHT eye. (This is the right side of the screen.)<br />2. Use  key to slide the flickering dot. While focusing on the crosshair, monitor the flickering dot in the corner of your eye, and slide it until it disappears into your blindspot.<br />3. Hit RETURN.",de:"1. Schlieen Sie das rechte Auge. (Dies ist die rechte Seite des Bildschirms.) <br /> 2. Verwenden Sie  Taste, um den flackernden Punkt zu schieben. berwachen Sie beim Konzentrieren auf das Fadenkreuz den flackernden Punkt in Ihrem Augenwinkel und schieben Sie ihn, bis er in Ihren Blindspot verschwindet. <br /> 3. Hit Return.",fr:"1. Fermez l'il droit. (C'est le ct droit de l'cran.) <br /> 2. Utilisez  Cl pour faire glisser le point scintillant. Tout en vous concentrant sur le rticule, surveillez le point scintillant dans le coin de votre il et faites-le glisser jusqu' ce qu'il disparaisse dans votre point mort. <br /> 3. Appuyez sur Retour.",es:"1. Cierre el ojo derecho. (Este es el lado derecho de la pantalla). <br /> 2. Use  clave para deslizar el punto parpadeante. Mientras concntrese en la mira, monitoree el punto parpadeante en la esquina de su ojo y deslcelo hasta que desaparezca en su punto ciego. <br /> 3. Hit Regreso.",pt:"1. Feche o olho direito. (Este  o lado direito da tela.) <br /> 2. Use  tecla para deslizar o ponto de tremer. Enquanto se concentra na mira, monitore o ponto tremeluzente no canto do olho e deslize at que ele desaparea para o seu ponto cego. <br /> 3. Acertar o retorno.",it:"1. Chiudi occhio destro. (Questo  il lato destro dello schermo.) <br /> 2. Utilizzare  Chiave per far scorrere il punto tremolante. Mentre si concentra sul mirino, monitora il punto tremolante nell'angolo dell'occhio e fai scorrere fino a quando non scompare nel tuo cieco. <br /> 3. Colpire il ritorno.",ro:"1. nchidei ochiul drept. (Aceasta este partea dreapt a ecranului.) <br /> 2. Folosii  Cheia pentru a glisa punctul plpit. n timp ce te concentrezi pe ncruciare, monitorizeaz punctul plpitor din colul ochiului i gliseaz -l pn cnd dispare n Blindspot. <br /> 3. Lovete ntoarcerea.",pl:"1. Zamknij prawe oko. (To jest prawa strona ekranu.) <br /> 2. Uyj klucza, aby przesun migotliw kropk. Koncentrujc si na celowniku, monitoruj migoczc kropk w rogu oka i przesu j, a zniknie w twojej lepej. <br /> 3. Hit Return.",ru:"1.   . (   .) <br /> 2.       .     ,         ,        . <br /> 3.  .",hy:"1.   : (    ):        : Crosshair-                  :  :",fi:"1. Sulje oikea silm. (Tm on nytn oikea puoli.) <br /> 2. Kyt  Avain liu'uttaa vilkkuvaa pistett. Keskittyesssi ristikkin, tarkkaile vilkkuvaa pistett silmsi nurkassa ja liu'uta se, kunnes se katoaa blindspot -laitteeseesi. <br /> 3. Hit paluu.",ka:"1.   . (    .) <br /> 2.      . Crosshair-  ,         ,      . <br /> 3.  .",he:"1.   . (    .) <br /> 2.       .    - CrossHair,                . <br /> 3.  .",ar:"1.   . (     .) <br /> 2.      .                 . <br /> 3.  .",ur:"1.     (     ) <br /> 2.                                                   <br /> 3   ",hi:"1.     (     ) <br /> 2                   ,          ,                  <br /> 3  ",ta:"1.   . (   .) <br /> 2.       .   ,       ,       . <br /> 3. .",ml:"1.   . (  .) <br /> 2.     .   ,      ,     . <br /> 3. .",te:"1.   . (    .) <br /> 2.       .   ,               . <br /> 3.  .",kn:"1.   . (  .) <br /> 2.       .   ,               . <br /> 3.  .",bn:"1.     (   )) <br /> 2             ,                   <br /> 3  ",id:"1. Tutup mata kanan. (Ini adalah sisi kanan layar.) <br /> 2. Gunakan  Kunci untuk menggeser titik berkedip. Sambil fokus pada crosshair, pantau titik berkedip di sudut mata Anda, dan geser sampai menghilang ke dalam blindspot Anda. <br /> 3. Tekan kembali.","zh-CN":"1. 23","zh-HK":"1. 23",ja:"1. 2 3",ko:"1.   . (  .) <br /> 2.        .                 . <br /> 3.  ."},RC_distanceTrackingGuide:{"en-US":"Your eyes are xx1 cm from the screen, but the experiment needs approximately xx2 cm. The experiment will resume when you reach the correct distance.",de:"Ihre Augen sind xx1 cm vom Bildschirm entfernt, aber das Experiment bentigt ungefhr xx2 cm. Das Experiment wird wieder aufgenommen, wenn Sie den richtigen Abstand erreichen.",fr:"Vos yeux sont  xx1 cm de l'cran, mais l'exprience a besoin d'environ xx2 cm. L'exprience reprendra lorsque vous atteignez la distance correcte.",es:"Tus ojos estn a xx1 cm de la pantalla, pero el experimento necesita aproximadamente xx2 cm. El experimento se reanudar cuando alcances la distancia correcta.",pt:"Seus olhos esto xx1 cm da tela, mas o experimento precisa de aproximadamente xx2 cm. O experimento ser retomado quando voc atingir a distncia correta.",it:"I tuoi occhi sono xx1 cm dallo schermo, ma l'esperimento necessita di circa xx2 cm. L'esperimento riprender quando raggiungi la distanza corretta.",ro:"Ochii ti sunt xx1 cm de pe ecran, dar experimentul are nevoie de aproximativ xx2 cm. Experimentul se va relua cnd ajungei la distana corect.",pl:"Twoje oczy s xx1 cm od ekranu, ale eksperyment wymaga okoo xx2 cm. Eksperyment zostanie wznowiony po osigniciu prawidowej odlegoci.",ru:"    xx1   ,      xx2 .  ,     .",hy:"   xx1 - ,      xx2 :     :",fi:"Silmsi ovat xx1 cm nytlt, mutta koe tarvitsee noin xx2 cm. Koe jatkuu, kun saavutat oikean etisyyden.",ka:"   xx1  ,     xx2 .  ,    .",he:'   xx1 " ,    - xx2 ".     .',ar:"  xx1          xx2 .       .",ur:"     xx1          x xx2                 ",hi:"    xx1  ,     xx2                  ",ta:"    xx1 ..,   xx2   .       .",ml:"  xx1    ,    xx2 .     .",te:"    xx1 ..,    xx2 ..       .",kn:"   xx1 ..,    xx2  .      .",bn:"    xx1 ,    xx2            ",id:"Mata Anda adalah xx1 cm dari layar, tetapi percobaan membutuhkan sekitar xx2 cm. Eksperimen akan dilanjutkan saat Anda mencapai jarak yang benar.","zh-CN":" xx1  xx2 ","zh-HK":" xx1  xx2 ",ja:"xx1 cmxx2 cm",ko:"  xx1 cm   xx2 cm .     ."},RC_distanceTrackingIntroEnd:{"en-US":"Once you're done, distance tracking will begin.",de:"Sobald Sie fertig sind, beginnt die Distanzverfolgung.",fr:"Une fois que vous aurez termin, le suivi  distance commencera.",es:"Una vez que haya terminado, comenzar el seguimiento de distancia.",pt:"Quando terminar, o rastreamento da distncia comear.",it:"Una volta che hai finito, inizier il monitoraggio della distanza.",ro:"Dup ce ai terminat, va ncepe urmrirea distanei.",pl:"Po zakoczeniu rozpocznie si ledzenie odlegoci.",ru:"   ,   .",hy:"     :",fi:"Kun olet valmis, etisyysseuranta alkaa.",ka:" ,    .",he:" ,   .",ar:"       .",ur:"              ",hi:"      ,      ",ta:" ,   .",ml:" ,   .",te:"   ,   .",kn:"  ,   .",bn:"    ,    ",id:"Setelah selesai, pelacakan jarak akan dimulai.","zh-CN":"","zh-HK":"",ja:"",ko:"   ."},RC_distanceTrackingIntroStart:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_distanceTrackingMoveCloser:{"en-US":"Move CLOSER",de:"Komm nher",fr:"Approchez-vous",es:"Acrcate a la pantalla",pt:"Aproveite -se",it:"Avvicinarsi",ro:"Vino mai aproape",pl:"Podejd bliej",ru:" ",hy:"  ",fi:"Liikkua lhemms",ka:"  ",he:"",ar:"",ur:" ",hi:" ",ta:" ",ml:" ",te:" ",kn:" ",bn:"  ",id:"Merapat","zh-CN":"","zh-HK":"",ja:"",ko:"  "},RC_distanceTrackingMoveFurther:{"en-US":"Move FARTHER",de:"Sich weiter bewegen",fr:"Se dplacer plus loin",es:"Aljate de la plantalla",pt:"Mover mais longe",it:"Muoversi pi lontano",ro:"Mutai -v mai departe",pl:"Poruszaj si dalej",ru:" ",hy:" ",fi:"Liikkua kauemmas",ka:"  ",he:"  ",ar:" ",ur:" ",hi:" ",ta:" ",ml:" ",te:" ",kn:" ",bn:"  ",id:"Bergerak lebih jauh","zh-CN":"","zh-HK":"",ja:"",ko:"  "},RC_distanceTrackingRedo:{"en-US":"Recalibrate, and then restart this block",de:"Neu kalibrieren und dann diesen Block neu starten",fr:"Recalibrer, puis redmarrer ce bloc",es:"Recalibrar y luego reiniciar este bloque",pt:"Recalibre e reinicie este bloco",it:"Ricalibrare e quindi riavviare questo blocco",ro:"Recalibreaz i apoi repornii acest bloc",pl:"Ponowne kalibruj, a nastpnie ponownie uruchom ten blok",ru:",     ",hy:",    ",fi:"Kalibroi uudelleen ja kynnist tm lohko uudelleen",ka:",     ",he:"       ",ar:"       ",ur:"          ",hi:"Recalibrate,       ",ta:" ,     ",ml:"  ,    ",te:" ,     art ",kn:",     ",bn:"        ",id:"Ulang, lalu mulai ulang blok ini","zh-CN":"","zh-HK":"",ja:"",ko:"      "},RC_distanceTrackingTitle:{"en-US":"Find Your Blindspot",de:"Finden Sie Ihren Blindspot",fr:"Configurer pour le suivi  distance",es:"Configurar para seguimiento de distancia",pt:"Configurar para rastreamento de distncia",it:"Trova il tuo cieco",ro:"Configurai pentru urmrirea distanei",pl:"Skonfiguruj ledzenie odlegoci ",ru:"   ",hy:"   ",fi:"Lyd blindspot",ka:"   ",he:"   ",ar:"  ",ur:"       \n",hi:"      \n",ta:"  ",ml:"  ",te:"  ",kn:"   ",bn:"   ",id:"Temukan blindspot Anda","zh-CN":"","zh-HK":"",ja:"",ko:"  "},RC_environment:{"en-US":"System Information",de:"System Information",fr:"Informations sur le systme",es:"Informacin del sistema",pt:"Informao do sistema",it:"Informazioni sul sistema",ro:"Informatii despre sistem",pl:"Informacje o systemie",ru:" ",hy:" ",fi:"Jrjestelmtiedot",ka:" ",he:" ",ar:" ",ur:"  ",hi:"  ",ta:" ",ml:" ",te:" ",kn:" ",bn:" ",id:"Sistem Informasi","zh-CN":"","zh-HK":"",ja:"",ko:" "},RC_errorCameraUseDenied:{"en-US":"This study requires using the webcam. Granting access to your webcam is optional, but we can't continue without it. If you said No by mistake and now wish to give us access to your camera, please find the camera icon in the address bar, click it, allow camera access, and refresh the page.",de:"Diese Studie erfordert die Verwendung der Webcam. Es ist optional, Zugriff auf Ihre Webcam zu gewhren, aber wir knnen ohne sie nicht weitermachen. Wenn Sie versehentlich nein gesagt haben und uns nun Zugriff auf Ihre Kamera ermglichen mchten, finden Sie das Kamerasymbol in der Adressleiste, klicken Sie auf sie, lassen Sie die Kamerazugriff und aktualisieren Sie die Seite.",fr:"Cette tude ncessite l'utilisation de la webcam. Accorder l'accs  votre webcam est facultatif, mais nous ne pouvons pas continuer sans lui. Si vous avez dit non par erreur et que vous souhaitez maintenant nous donner accs  votre appareil photo, veuillez trouver l'icne de la camra dans la barre d'adresse, cliquez dessus, permettez  l'accs de la camra et actualisez la page.",es:"Este estudio requiere usar la cmara web. Otorgar acceso a su cmara web es opcional, pero no podemos continuar sin ella. Si dijo que no por error y ahora desea darnos acceso a su cmara, busque el icono de la cmara en la barra de direcciones, haga clic en, permita el acceso de la cmara y actualice la pgina.",pt:"Este estudo requer o uso da webcam. A concesso de acesso  sua webcam  opcional, mas no podemos continuar sem ela. Se voc disse no por engano e agora deseja nos dar acesso  sua cmera, encontre o cone da cmera na barra de endereos, clique nele, permita o acesso  cmera e atualize a pgina.",it:"Questo studio richiede l'uso della webcam. Concedere l'accesso alla tua webcam  facoltativo, ma non possiamo continuare senza di essa. Se hai detto di no per errore e ora desideri darci l'accesso alla fotocamera, ti preghiamo di trovare l'icona della fotocamera nella barra degli indirizzi, fare clic su di esso, consentire l'accesso alla fotocamera e aggiornare la pagina.",ro:"Acest studiu necesit utilizarea camerei web. Acordarea accesului la camera web este opional, dar nu putem continua fr el. Dac nu ai spus nu din greeal i acum dorii s ne oferii acces la camera dvs., v rugm s gsii pictograma camerei n bara de adrese, facei clic pe ea, permitei accesul camerei i remprosptai pagina.",pl:"To badanie wymaga uycia kamery internetowej. Przyznanie dostpu do kamery internetowej jest opcjonalne, ale nie moemy bez niego kontynuowa. Jeli powiedziae nie przez pomyk i teraz chcesz da nam dostp do aparatu, znajd ikon aparatu na pasku adresu, kliknij j, zezwl na dostp do aparatu i odwie stron.",ru:"     -.      -   ,       .      ,         ,      ,   ,       .",hy:"     -:  -    ,       :   ,         ,       ,     :",fi:"Tm tutkimus vaatii verkkokameran kytt. Psy verkkokamerallesi on valinnaista, mutta emme voi jatkaa ilman sit. Jos sanoit vahingossa ja haluat nyt antaa meille psyn kameraan, etsi kamerakuvake osoitepalkista, napsauta sit, salli kameran kyttoikeus ja pivit sivu.",ka:"    .     ,      .          , ,     ,  ,      .",he:"     .       ,     .           ,       ,  ,      .",ar:"     .               .                                 .",ur:"                                                                           ",hi:"                  ,                         ,        ,   ,     ,     ",ta:"    .     ,      .    ,      ,      ,   ,   ,  .",ml:"   .     ,     .         ,      ,  ,   ,  .",te:"    .     ,     .    ,      ,      ,   ,       .",kn:"    .      al ,      .             ,       ,   ,       .",bn:"           al ,                               ,   ,        ",id:"Studi ini membutuhkan penggunaan webcam. Memberikan akses ke webcam Anda adalah opsional, tetapi kami tidak dapat melanjutkan tanpanya. Jika Anda mengatakan tidak secara tidak sengaja dan sekarang ingin memberi kami akses ke kamera Anda, silakan temukan ikon kamera di bilah alamat, klik, izinkan akses kamera, dan menyegarkan halamannya.","zh-CN":"","zh-HK":"",ja:"",ko:"   .        ,      .                      ."},RC_errorNoCamera:{"en-US":"This study requires a webcam, but we can't find one.",de:"Diese Studie erfordert eine Webcam, aber wir knnen keine finden.",fr:"Cette tude ncessite une webcam, mais nous ne pouvons pas en trouver une.",es:"Este estudio requiere una cmara web, pero no podemos encontrar una.",pt:"Este estudo requer uma webcam, mas no podemos encontrar um.",it:"Questo studio richiede una webcam, ma non possiamo trovarne una.",ro:"Acest studiu necesit o camer web, dar nu putem gsi unul.",pl:"To badanie wymaga kamery internetowej, ale nie moemy jej znale.",ru:"    -,      .",hy:"    -,      :",fi:"Tm tutkimus vaatii verkkokameran, mutta emme lyd sit.",ka:"   ,   .",he:"    ,      .",ar:"           .",ur:"                 ",hi:"         ,       ",ta:"    ,    .",ml:"    ,     .",te:"   ,    .",kn:"   ,    .",bn:"     ,      ",id:"Studi ini membutuhkan webcam, tetapi kami tidak dapat menemukannya.","zh-CN":"","zh-HK":"",ja:"",ko:"       ."},RC_gazeTracking:{"en-US":"Gaze Tracking",de:"Blickverfolgung",fr:"Suivi du regard",es:"Seguimiento de la mirada",pt:"Procurando",it:"Monitoraggio dello sguardo",ro:"In cautarea",pl:"ledzenie wzroku.",ru:" ",hy:" ",fi:"Katseiden seuranta",ka:"  ",he:"  ",ar:" ",ur:"   ",hi:"  ",ta:" ",ml:" ",te:" ",kn:"",bn:" ",id:"Tatapan pelacakan","zh-CN":"","zh-HK":"",ja:"",ko:" "},RC_gazeTrackingIntro:{"en-US":'PLAY "CATCH THE CROSS!" Now well set up gaze tracking, to monitor eye position. Keep your face in the video feed (see below). Click on the center of the crosshair, wherever it is. Make sure that your eyes are on it when you click it. When you click it, the crosshair will move to a new location. Click it in each new location, until the calibration is done. It\'s a game. Catch the cross!',de:'Spielen Sie "Catch the Cross!" Jetzt werden wir eine Blickverfolgung einrichten, um die Augenposition zu berwachen. Behalten Sie Ihr Gesicht im Video -Feed (siehe unten). Klicken Sie auf die Mitte des Fadenkreuzes, wo immer es ist. Stellen Sie sicher, dass Ihre Augen darauf sind, wenn Sie darauf klicken. Wenn Sie darauf klicken, wechselt das Fadenkreuz zu einem neuen Ort. Klicken Sie an jedem neuen Standort, bis die Kalibrierung abgeschlossen ist. Es ist ein Spiel. Fang das Kreuz!',fr:"Nous allons maintenant configurer le suivi du regard pour surveiller la position des yeux. Lorsque vous y tes invit, veuillez accorder la permission d'accder  votre camra. Essayez de garder votre visage centr dans le flux vido. Cliquez sur le point rose  chaque endroit o il s'arrte. Assurez-vous que vos yeux sont sur le point lorsque vous cliquez dessus.",es:"Ahora configuraremos el seguimiento de la mirada para seguir la posicin de los ojos. Cuando sea solicitado, otorga permiso para acceder a la cmara. Trata de mantener tu rostro centrado en la ventana de video. Haz clic en el punto rosa en cada ubicacin en la que se detiene. Asegrese de que tus ojos estn en el punto cuando hagas clic en l.",pt:"Agora vamos configurar o monitoramento da aparncia para seguir a posio dos olhos. Quando solicitado, concede permisso para acessar a cmera. Tente manter o rosto focado na janela do vdeo. Clique no ponto rosa em cada local onde ele para. Certifique -se de que seus olhos estejam no ponto em que voc clica nele.",it:"Ora imposteremo il monitoraggio dello sguardo, per monitorare la posizione degli occhi. Quando richiesto, concedi l'autorizzazione per accedere alla videocamera. Cerca di mantenereil tuo volto centrato nel feed video. Fai clic sul punto rosa in ogni posizione in cui si ferma. Assicurati che i tuoi occhi siano sul punto quando fai clic su di esso.",ro:"Acum vom configura monitorizarea aspectului pentru a urma poziia ochilor. Cnd este solicitat, acord permisiunea de a accesa camera. ncercai s v meninei faa concentrat pe fereastra video. Facei clic pe punctul roz din fiecare locaie n care se oprete. Asigurai -v c ochii dvs. sunt n momentul n care facei clic pe el.",pl:"Teraz skonfigurujemy ledzenie wzroku, aby monitorowa pozycj oczu. Prosz przyzna pozwolenie na dostp do aparatu. Sprbuj utrzyma twarz skoncentrowan ekranie kamery. Kliknij row kropk w kadej lokalizacji, w ktrej si zatrzymuje. Upewnij si, e twoje oczy s na kropce po klikniciu.\n",ru:' " !"     ,    .     (. ).    Crosshair,     . ,     ,     .     ,     .       ,     .  .  !',hy:"  :     `  :       ( ):  Crosshair-  ,    : ,      ,    :   ,    :     ,   :   :  :",fi:'Pelaa "kiinni risti!" Nyt asetamme katseen seurannan tarkkaillaksesi silmasennoa. Pid kasvosi videosytteess (katso alla). Napsauta ristin keskustaa miss tahansa se on. Varmista, ett silmsi ovat siin, kun napsautat sit. Kun napsautat sit, Crosshair siirtyy uuteen sijaintiin. Napsauta sit jokaisessa uudessa paikassa, kunnes kalibrointi on valmis. Se on peli. Pudota risti!',ka:' " !"      ,   .     (. ).  Crosshair-  ,    . ,    ,   .   , Crosshair   .     ,    .  .  !',he:' "  !"     ,     .       ( ).    - CrossHair,   .         .  , - CrossHair   .     ,   .  .   !',ar:"        .           .        .         .         .",ur:"                                                                        \n",hi:"                ,                                                \n",ta:'" !"        .      ( ).  ,    .           .    ,    .         .   .  !',ml:'" !"         .     ( ).  ,  .      .        .      .  .  !',te:'"  !"         .      ( ).    ,   .        .    ,    .        .   .  !',kn:'" !"          .      ( ).     ,  .           .    ,    .         .   .  !',bn:'" !"                 ( )    ,                       ,                    .  !',id:'Mainkan "Tangkap Salib!" Sekarang kami akan mengatur pelacakan tatapan, untuk memantau posisi mata. Simpan wajah Anda di umpan video (lihat di bawah). Klik di tengah crosshair, di mana pun itu. Pastikan mata Anda tertuju saat Anda mengkliknya. Saat Anda mengkliknya, crosshair akan pindah ke lokasi baru. Klik di setiap lokasi baru, sampai kalibrasi selesai. Ini permainan. Tangkap salib!',"zh-CN":"","zh-HK":"",ja:"",ko:'" !"        .     ( ).    .     .      .        .  .  !'},RC_gazeTrackingNudge:{"en-US":"CATCH THE CROSS! We need your help. The eye tracker needs more training. As shown by the arrow, when you clicked, the tracker thought your gaze was far from the crosshair. Please click the crosshair at each new position. It's a game. Catch the cross!",de:"Fang das Kreuz! Wir brauchen deine Hilfe. Der Eye Tracker braucht mehr Training. Wie der Pfeil gezeigt hat, dachte der Tracker, als Sie klicken, Ihr Blick sei weit vom Fadenkreuz entfernt. Bitte klicken Sie auf das Fadenkreuz an jeder neuen Position. Es ist ein Spiel. Fang das Kreuz!",fr:"Attrapez la croix! Nous avons besoin de votre aide. Le tracker des yeux a besoin de plus de formation. Comme le montre la flche, lorsque vous avez cliqu, le tracker pensait que votre regard tait loin du rticule. Veuillez cliquer sur le rticule  chaque nouveau poste. C'est un jeu. Attrapez la croix!",es:"Atrapa la cruz! Necesitamos tu ayuda. El rastreador ocular necesita ms entrenamiento. Como se muestra en la flecha, cuando hizo clic, el rastreador pens que su mirada estaba lejos de la mira. Haga clic en la cruz en cada nueva posicin. Es un juego. Atrapa la cruz!",pt:"Pegue a cruz! Ns precisamos da sua ajuda. O rastreador ocular precisa de mais treinamento. Como mostrado pela seta, quando voc clicou, o rastreador pensou que seu olhar estava longe da mira. Clique na mira em cada nova posio.  um jogo. Pegue a cruz!",it:"Cattura la croce! Abbiamo bisogno del tuo aiuto. Il tracker eye ha bisogno di pi allenamento. Come mostrato dalla freccia, quando hai fatto clic, il tracker pensava che il tuo sguardo fosse lontano dal mirino. Fare clic sul mirino in ogni nuova posizione.  un gioco. Cattura la croce!",ro:"Crucea! Noi avem nevoie de ajutorul tau. Trackerul pentru ochi are nevoie de mai mult antrenament. Dup cum arat sgeata, cnd ai dat clic, tracker -ul a crezut c privirea ta este departe de Crosshair. V rugm s facei clic pe Crosshair la fiecare poziie nou. Este un joc. Crucea!",pl:"Zap krzy! Potrzebujemy Twojej pomocy. ledzenie wzroku wymaga wicej treningu. Jak pokazuje strzaka, po klikniciu, tracker pomyla, e twoje spojrzenie jest dalekie od celownika. Kliknij celownik w kadej nowej pozycji. To jest gra. Zap krzy!",ru:" !     .      .   ,   ,  ,       . ,       .  .  !",hy:" :     .       :     ,  ,   ,      :       :   :  :",fi:"Pudota risti! Tarvitsemme apuasi. Silmseuranta tarvitsee enemmn koulutusta. Kuten nuoli nkyy, napsauttaessasi seuranta ajatteli katseesi olevan kaukana ristikkist. Napsauta Crosshairia jokaisessa uudessa paikassa. Se on peli. Pudota risti!",ka:" !    .     .   ,  ,  ,      Crosshair- . ,  Crosshair-    .  .  !",he:"  !    .     .     , ,       - CrossHair.    CrossHair   .  .   !",ar:" !   .       .                 .        .  .  !",ur:" !                                                             !",hi:"  !                     ,    ,                           !",ta:" !    .     .  ,   ,         .       .   .  !",ml:" !    .     .  ,  ,        .     .  .  !",te:" !    .     .  ,   ,       .        .   .  !",kn:" !    .     .  ,   ,       .       .   .  !",bn:" !    .         ,    ,                 .  !",id:"Tangkap salib! Kami membutuhkan bantuan Anda. Pelacak mata membutuhkan lebih banyak pelatihan. Seperti yang ditunjukkan oleh panah, ketika Anda mengklik, pelacak berpikir tatapan Anda jauh dari crosshair. Silakan klik Crosshair di setiap posisi baru. Ini permainan. Tangkap salib!","zh-CN":"","zh-HK":"",ja:"",ko:" !    .      .    ,        .      .  .  !"},RC_gazeTrackingTitle:{"en-US":"Set Up Gaze Tracking",de:"Bauen Sie eine Blickverfolgung ein",fr:"Configuration pour le suivi du regard",es:"Configuracin para seguimiento de mirada",pt:"Configurao para visualizao",it:"Impostare il monitoraggio dello sguardo",ro:"Configurare pentru vizualizare",pl:"Ustaw ledzenie wzroku",ru:"  ",hy:"  ",fi:"Aseta katseen seuranta",ka:"   ",he:"   ",ar:"  ",ur:"      ",hi:"       ",ta:"  ",ml:" ",te:"   ",kn:"   ",bn:"    ",id:"Mengatur pelacakan tatapan","zh-CN":"","zh-HK":"",ja:"",ko:"  "},RC_ifStuckPleaseReturn:{"en-US":"It's rare, but if your computer gets stuck in calibration, please RETURN your study to Prolific. Don't submit with incomplete calibration.",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_nearPointIntro:{"en-US":"We'll measure the distance between the centers of your eyes. Use the video image to watch your eyes. Hold a pen horizontally against your face in front of your eyes. Align your right and left thumb nails with the centers of your right and left pupils. Then bring the pen to the on-screen ruler to measure the separation between your  thumbs. Allign your left thumb with zero and notice where your right thumb is. Put down the pen and click the ruler at that point. Finally, click OK to continue.",de:"Wir werden den Abstand zwischen den Zentren Ihrer Augen messen. Verwenden Sie das Videobild, um Ihre Augen zu sehen. Halten Sie einen Stift horizontal gegen Ihr Gesicht vor Ihren Augen. Richten Sie Ihre rechten und linken Daumenngel auf die Zentren Ihrer rechten und linken Schler aus. Bringen Sie dann den Stift zum Lineal auf dem Bildschirm, um die Trennung zwischen Ihren Daumen zu messen. Allign Ihren linken Daumen mit Null und bemerken Sie, wo sich Ihr rechter Daumen befindet. Legen Sie den Stift nieder und klicken Sie zu diesem Zeitpunkt auf das Lineal. Klicken Sie schlielich auf OK, um fortzufahren.",fr:"Nous mesurerons la distance entre les centres de vos yeux. Utilisez l'image vido pour regarder vos yeux. Tenez un stylo horizontalement contre votre visage devant vos yeux. Alignez vos ongles de pouce droit et gauche avec les centres de vos lves droits et gauche. Ensuite, apportez le stylo  la rgle  l'cran pour mesurer la sparation entre vos pouces. Allignez votre pouce gauche avec zro et remarquez o se trouve votre pouce droit. Posez le stylo et cliquez sur la rgle  ce moment-l. Enfin, cliquez sur OK pour continuer.",es:"Mediremos la distancia entre los centros de tus ojos. Usa la imagen de video para ver tus ojos. Pon un bolgrafo horizontalmente sobre tu cara a la altura de tus ojos. Alinea las uas de tus dedos pulgares con tus pupila derecha e izquierda respectivamente. Sin perder la posicin de tus pulgares, pon el bolgrafo sobre la regla en la pantalla para medir la separacin entre tus pulgares. Alinea el pulgar izquierdo con cero y observa bien el punto donde est tu pulgar derecho. Suelta el bolgrafo y haz clic en la regla en ese punto. Haz clic en Aceptar para continuar.",pt:"Mediremos a distncia entre os centros dos seus olhos. Use a imagem de vdeo para ver seus olhos. Coloque uma caneta horizontalmente em seu rosto na altura dos seus olhos. Alinhe as unhas dos polegares com a pupila direita e esquerda, respectivamente. Sem perder a posio dos polegares, coloque a caneta na regra na tela para medir a separao entre os polegares. Alinhe o polegar esquerdo com zero e observe bem o ponto em que est o polegar direito. Libere a caneta e clique na regra nesse ponto. Clique em OK para continuar.",it:"Misurare la distanza tra i centri dei tuoi occhi. Usa l'immagine video per guardare i tuoi occhi. Tieni una penna in orizzontale contro il viso davanti ai tuoi occhi. Allinea le unghie del pollice destro e sinistro con i centri delle alunni destra e sinistra. Quindi porta la penna sul sovrano sullo schermo per misurare la separazione tra i pollici. Alllinea il pollice sinistro con zero e nota dove si trova il pollice destro. Metti gi la penna e fai clic sul righello a quel punto. Infine, fai clic su OK per continuare.",ro:"Vom msura distana dintre centrele ochilor ti. Folosii imaginea video pentru a v vedea ochii. Pune un stilou pe orizontal pe fa la nlimea ochilor. Aliniai unghiile degetelor mari cu elevul drept i, respectiv, la stnga. Fr a pierde poziia degetelor mari, punei stiloul pe regula pe ecran pentru a msura separarea dintre degetele mari. Aliniai degetul stng cu zero i observai bine punctul n care este degetul drept. Eliberai stiloul i facei clic pe regula din acel moment. Facei clic pe OK pentru a continua.",pl:"Przytrzymaj kabel przed oczami, wyrwnaj kciuki z centrum renic. Nastpnie przytrzymaj kabel przy linijce i przy  lewy kciuk do zera i sprawd, gdzie jest twj prawy kciuk. Kliknij na linijk a nastpnie  OK, aby wysa swoje pomiary. Moesz uy obrazu wideo jako odniesienia. Jeli masz przy sobie linijk, moesz jej uy",ru:"      .   ,    .        .              .       ,      .         ,     .        . ,  ,  .",hy:"       :       :       :      ,       :        `    :         ,     :       : ,  OK,  :",fi:"Mittaamme etisyyden silmsi keskuksien vlill. Katso videokuvasi silmsi. Pid kyn vaakasuoraan kasvojasi vasten silmsi edess. Kohdista oikeat ja vasen peukalokynnet oikean ja vasemman oppilaasi keskuksiin. Tuo sitten kyn nytn hallitsijalle mitata peukaloidesi vlinen ero. Allign vasen peukalo nollalla ja huomaa miss oikea peukalo on. Laita kyn alas ja napsauta viivainta siin vaiheessa. Lopuksi napsauta OK jatkaaksesi.",ka:"      .   ,    .     .             .     ,      .           .       . ,   OK,  .",he:"      .       .       .             .             .              .        . ,     .",ar:'     .     .       .           .           .           .        .     "" .',ur:"                                                                                                                 ",hi:"                                                                  -                                    ,        ",ta:"      .      .           .             .           .     ,      .   ,     . ,     .",ml:"      .      .        .        .       -  .         .  ,    . ,   .",te:"      .      .         .              .          .           .  ,     . ,    .",kn:"      .      .         .             .       -   .             .         . ,    .",bn:"                                                -                             ,     ",id:"Kami akan mengukur jarak antara pusat mata Anda. Gunakan gambar video untuk menonton mata Anda. Pegang pena secara horizontal di wajah Anda di depan mata Anda. Sejajarkan kuku ibu jari kanan dan kiri Anda dengan pusat -pusat murid kanan dan kiri Anda. Kemudian bawa pena ke penguasa di layar untuk mengukur pemisahan antara ibu jari Anda. Lepaskan ibu jari kiri Anda dengan nol dan perhatikan di mana ibu jari kanan Anda berada. Letakkan pena dan klik penguasa pada saat itu. Akhirnya, klik OK untuk melanjutkan.","zh-CN":"","zh-HK":"",ja:"\n",ko:"       .    .      .         .           .    0      .       .    ."},RC_nearPointTitle:{"en-US":"Measure Pupillary Distance",de:"Messung der Pupillarabstand",fr:"Mesurer la distance pupillaire",es:"Medir la distancia pupilar",pt:"Mea a distncia pupilar",it:"Misurazione della distanza inter-pupillare.",ro:"Msurai distana pupilar",pl:"Zmierz odlego midzy renicami",ru:"  ",hy:"  ",fi:"Mittaa pupilli -etisyys",ka:"  ",he:"  ",ar:"  ",ur:"       \n",hi:"      \n",ta:"  ",ml:"  ",te:"  ",kn:"  ",bn:"   ",id:"Ukur jarak pupil","zh-CN":"","zh-HK":"",ja:"",ko:"  "},RC_ok:{"en-US":"OK",de:"OK",fr:"OK",es:"OK",pt:"OK",it:"OK",ro:"OK",pl:"OK",ru:"OK",hy:"",fi:"Hyv",ka:"",he:"",ar:"",ur:" ",hi:" ",ta:"",ml:"",te:"",kn:"",bn:" ",id:"Oke","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelButton:{"en-US":"Done",de:"Fertig",fr:"Fait",es:"Hecho",pt:"Feito",it:"Fatto",ro:"Terminat",pl:"Gotowe",ru:"",hy:"",fi:"Tehty",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"Selesai","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelIntro:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelIntroNext:{"en-US":"",de:"",fr:"",es:"",pt:"",it:"",ro:"",pl:"",ru:"",hy:"",fi:"",ka:"",he:"",ar:"",ur:"",hi:"",ta:"",ml:"",te:"",kn:"",bn:"",id:"","zh-CN":"","zh-HK":"",ja:"",ko:""},RC_panelTitle:{"en-US":"Please press a button to calibrate",de:"Bitte drcken Sie eine Taste, um zu kalibrieren",fr:"Appuyez sur un bouton de calibre:",es:"Presiona un botn para calibrar:",pt:"Pressione um boto de calibre:",it:"Si prega di premere un pulsante per calibrare",ro:"Apsai un buton de calibru:",pl:"Aby skalibrowa, nacisnij przycisk",ru:",    ",hy:"   Calibration ",fi:"Paina painiketta kalibroidaksesi",ka:",   ",he:"    ",ar:"     :",ur:"      :",hi:"      :",ta:"    ",ml:"     ",te:"     ",kn:"    ",bn:"      ",id:"Harap tekan tombol untuk mengkalibrasi","zh-CN":"","zh-HK":"",ja:"",ko:"  "},RC_panelTitleNext:{"en-US":"Thanks for calibrating. Hit the button to continue.",de:"Danke frs Kalibrieren. Klicken Sie auf die Taste, um fortzufahren.",fr:"Merci d'avoir calibr. Appuyez sur le bouton pour continuer.",es:"Gracias por completar la calibracin. Pulsa el botn para continuar.",pt:"Obrigado por concluir a calibrao. Pressione o boto para continuar.",it:"Grazie per la calibrazione. Premi il pulsante per continuare.",ro:"V mulumim pentru finalizarea calibrrii. Apsai butonul pentru a continua.",pl:"Dzikujemy za kalibracj. Nacinij przycisk, aby kontynuowa.",ru:"  .  ,  .",hy:"  :  ,  :",fi:"Kiitos kalibroinnista. Napsauta painiketta jatkaaksesi.",ka:" .   .",he:" .     .",ar:" .    .",ur:"        ",hi:"          ",ta:"  .   .",ml:" .   .",te:"  .   .",kn:"  .   .",bn:"        ",id:"Terima kasih telah mengkalibrasi. Tekan tombol untuk melanjutkan.","zh-CN":"","zh-HK":"",ja:"",ko:"  .   ."},RC_panelUsesWebcam:{"en-US":"uses webcam",de:"Verwendet Webcam",fr:"utilise la webcam",es:"Utiliza la cmara web",pt:"usa webcam",it:"Utilizza la webcam",ro:"utilizeaz webcam",pl:"uywa kamery internetowej",ru:"  -",hy:"  -",fi:"kytt verkkokameraa",ka:" ",he:"  ",ar:"  ",ur:"    ",hi:"    ",ta:" ",ml:" ",te:" ",kn:"  ",bn:"  ",id:"menggunakan webcam","zh-CN":"","zh-HK":"",ja:"",ko:" "},RC_panelUsesWebcamPhone:{"en-US":"uses webcam and phone",de:"Verwendet Webcam und Telefon",fr:"Utilise la webcam et le tlphone",es:"Utiliza cmara web y telfono",pt:"Usa webcam e telefone",it:"Utilizza webcam e telefono",ro:"Utilizeaz webcam i telefon",pl:"uywa kamery internetowej i telefonu",ru:"  -  ",hy:"  -  ",fi:"kytt verkkokameraa ja puhelinta",ka:"   ",he:"   ",ar:"   ",ur:"      ",hi:"      ",ta:"   ",ml:"  ",te:"   ",kn:"   ",bn:"    ",id:"menggunakan webcam dan telepon","zh-CN":"","zh-HK":"",ja:"",ko:"  "},RC_performance:{"en-US":"Graphics Performance",de:"Grafikleistung",fr:"Performance graphique",es:"Rendimiento grfico",pt:"Desempenho grfico",it:"Prestazioni grafiche",ro:"Performan grafic",pl:"Wydajno grafiki",ru:" ",hy:" ",fi:"Grafiikan suorituskyky",ka:" ",he:" ",ar:" ",ur:"  ",hi:" ",ta:" ",ml:" ",te:" ",kn:" ",bn:" ",id:"Kinerja grafis","zh-CN":"","zh-HK":"",ja:"",ko:" "},RC_performanceIntro:{"en-US":"Please do not disturb. Drawing graphics to assess web browser performance ...",de:"Bitte nicht stren. Grafik zeichnen, um die Leistung des Webbrowsers zu bewerten ...",fr:"Prire de ne pas dranger. Dessin graphiques pour valuer les performances du navigateur Web ...",es:"Por favor no molestar. Dibujo de grficos para evaluar el rendimiento del navegador web ...",pt:"Por favor no perturbe. Desenho de grficos para avaliar o desempenho do navegador da web ...",it:"Per favore non disturbare. Disegnare grafica per valutare le prestazioni del browser Web ...",ro:"Va rog nu deranjati. Desenarea graficelor pentru a evalua performana browserului web ...",pl:"Prosz nie przeszkadza. Rysowanie grafiki w celu oceny wydajnoci przegldarki internetowej ...",ru:",  .       - ...",hy:"   :   `     ...",fi:"Ole kiltti lk hiritse. Grafiikan piirtminen verkkoselaimen suorituskyvyn arvioimiseksi ...",ka:"  .    -    ...",he:"  .         ...",ar:"  .       ...",ur:"    .            ...",hi:"              ...",ta:"   .       ...",ml:".   browser      ...",te:"  .        ...",kn:"  .        ...",bn:"    .        ...",id:"Tolong jangan ganggu. Menggambar grafik untuk menilai kinerja browser web ...","zh-CN":"Web...","zh-HK":"Web...",ja:" Web...",ko:" .       ..."},RC_performanceTitle:{"en-US":"Graphics Performance",de:"Grafikleistung",fr:"Performance graphique",es:"Rendimiento grfico",pt:"Desempenho grfico",it:"Prestazioni grafiche",ro:"Performan grafic",pl:"Wydajno grafiki",ru:" ",hy:" ",fi:"Grafiikan suorituskyky",ka:" ",he:" ",ar:" ",ur:"  ",hi:" ",ta:" ",ml:" ",te:" ",kn:" ",bn:" ",id:"Kinerja grafis","zh-CN":"","zh-HK":"",ja:"",ko:" "},RC_privacyCamera:{"en-US":"ASSURANCE OF CAMERA PRIVACY. No photos or video are recorded. Each webcam frame is used only inside this computer, solely to estimate eye and gaze positions, and then erased, within 10 seconds. Only the eye and gaze positions are retained.",de:"Gewissheit der Privatsphre der Kamera. Es werden keine Fotos oder Videos aufgezeichnet. Jeder Webcam -Rahmen wird nur in diesem Computer verwendet, um nur die Augen- und Blickpositionen zu schtzen, und dann innerhalb von 10 Sekunden gelscht. Nur die Auge- und Blickpositionen bleiben erhalten.",fr:"Assurance de la confidentialit de la camra. Aucune photo ou vido n'est enregistre. Chaque cadre de webcam est utilis uniquement  l'intrieur de cet ordinateur, uniquement pour estimer les positions des yeux et du regard, puis efface, dans les 10 secondes. Seules les positions des yeux et du regard sont conserves.",es:"Aseguramiento de la privacidad de la cmara. No se graban fotos o video. Cada marco de cmara web se usa solo dentro de esta computadora, nicamente para estimar las posiciones de los ojos y la mirada, y luego se borra, en 10 segundos. Solo se conservan las posiciones de ojo y mirada.",pt:"Garantia da privacidade da cmera. Nenhuma foto ou vdeo  gravado. Cada quadro da webcam  usado apenas dentro deste computador, apenas para estimar as posies dos olhos e do olhar, e depois apagado, em 10 segundos. Somente as posies de olho e olhar so retidas.",it:"Assicurazione della privacy della telecamera. Non vengono registrate foto o video. Ogni cornice di webcam viene utilizzato solo all'interno di questo computer, esclusivamente per stimare le posizioni degli occhi e dello sguardo, quindi cancellato, entro 10 secondi. Vengono mantenute solo le posizioni degli occhi e dello sguardo.",ro:"Asigurarea confidenialitii camerei. Nu sunt nregistrate fotografii sau videoclipuri. Fiecare cadru webcam este utilizat doar n interiorul acestui computer, exclusiv pentru a estima poziiile ochilor i privirea, apoi terse, n 10 secunde. Sunt pstrate doar poziiile ochiului i privirii.",pl:"Zapewnienie prywatnoci kamery. adne zdjcia ani wideo nie s nagrywane. Kada ramka kamery internetowej jest uywana tylko wewntrz tego komputera, wycznie do oszacowania pozycji oka i spojrzenia, a nastpnie wymazana w cigu 10 sekund. Zatrzymane s tylko pozycje oka i spojrzenia.",ru:"   .     .    -     ,       ,      10 .      .",hy:"  :       :         ,       ,  , 10 :       :",fi:"Kameran yksityisyyden varmuus. Valokuvia tai videoita ei ole tallennettu. Jokaista verkkokamerakehyst kytetn vain tmn tietokoneen sisll, pelkstn silm- ja katselukohteiden arvioimiseksi ja poistetaan sitten 10 sekunnissa. Vain silm- ja katseasennot silytetn.",ka:"  .      .        ,      ,   , 10  .     .",he:"  .     .         ,         ,  10 .     .",ar:"  .       .                       10 .      .",ur:"                                            10              ",hi:"                         ,            ,   10                 ",ta:"  .      .       ,       ,  10  .      .",ml:"  .   .       , ,    ,  10  . ,    .",te:"   .     .        ,        ,  10  .       .",kn:"  .     .         ,       ,   10  .      .",bn:"                   ,           10             ",id:"Jaminan privasi kamera. Tidak ada foto atau video yang direkam. Setiap bingkai webcam hanya digunakan di dalam komputer ini, semata -mata untuk memperkirakan posisi mata dan pandangan, dan kemudian dihapus, dalam 10 detik. Hanya posisi mata dan tatapan yang dipertahankan.","zh-CN":"10","zh-HK":"10",ja:"10",ko:"  .    .             10   .     ."},RC_privacyIphoneMicrophone:{"en-US":'ASSURANCE OF MICROPHONE PRIVACY. Only an iPhone/iPad microphone can be used, because it is manufacturer-calibrated. The microphone records only while a loud sound plays through the desktop computer loudspeaker, and both the desktop computer and Phone/iPad prominently display "QUIET PLEASE! NOW RECORDING." The recording is used solely to estimate loudspeaker characteristics and then erased, within 30 seconds. Only the loudspeaker characteristics are retained.',de:'Gewissheit der Privatsphre von Mikrofon. Es kann nur ein iPhone/iPad-Mikrofon verwendet werden, da es Hersteller kalibriert ist. Das Mikrofon zeichnet nur auf, whrend ein lauter Sound den Desktop -Computer -Lautsprecher durchluft, und sowohl den Desktop -Computer als auch das Telefon/iPad zeigen prominent "Quiet bitte! Jetzt aufnehmen". Die Aufzeichnung wird ausschlielich zur Schtzung von Lautsprechereigenschaften verwendet und dann innerhalb von 30 Sekunden gelscht. Nur die Lautsprechermerkmale werden beibehalten.',fr:"Assurance de la confidentialit des microphones. Seul un microphone iPhone / iPad peut tre utilis, car il est calibr du fabricant. Le microphone n'enregistre que pendant qu'un son fort se joue dans le haut-parleur de l'ordinateur de bureau, et l'ordinateur de bureau et le tlphone / iPad affichent bien le silence s'il vous plat! Maintenant l'enregistrement \". L'enregistrement est utilis uniquement pour estimer les caractristiques des haut-parleurs, puis efface, dans les 30 secondes. Seules les caractristiques des haut-parleurs sont conserves.",es:'Aseguramiento de la privacidad del micrfono. Solo se puede usar un micrfono iPhone/iPad, porque est calibrado por el fabricante. El micrfono registra solo mientras un sonido fuerte se reproduce a travs del altavoz de la computadora de escritorio, y tanto la computadora de escritorio como el telfono/iPad muestran prominentemente "tranquilo por favor! Ahora grabando". La grabacin se utiliza nicamente para estimar las caractersticas del altavoz y luego se borra, en 30 segundos. Solo se conservan las caractersticas del altavoz.',pt:'Garantia da privacidade do microfone. Somente um microfone para iPhone/iPad pode ser usado, porque  calibrado ao fabricante. O microfone registra apenas enquanto um som alto reproduz o alto -falante do computador de mesa, e o computador da rea de trabalho e o telefone/iPad exibem com destaque "Quiet, por favor! Agora, gravao". A gravao  usada apenas para estimar as caractersticas do alto -falante e depois apagada, em 30 segundos. Somente as caractersticas do alto -falante so mantidas.',it:'Assicurazione della privacy del microfono.  possibile utilizzare solo un microfono iPhone/iPad, perch  calibrato dal produttore. Il microfono registra solo mentre un suono forte suona attraverso l\'altoparlante del computer desktop, e sia il computer desktop che il telefono/iPad visualizzano in modo prominente "Quiet Please! Ora Registrazione". La registrazione viene utilizzata esclusivamente per stimare le caratteristiche degli altoparlanti e quindi cancellata, entro 30 secondi. Vengono mantenute solo le caratteristiche degli altoparlanti.',ro:"Asigurarea confidenialitii microfonului. Poate fi utilizat doar un microfon iPhone/iPad, deoarece este calibrat de productor. Microfonul se nregistreaz doar n timp ce un sunet puternic se joac prin difuzorul computerului desktop, i att computerul desktop, ct i telefonul/iPad -ul afieaz n mod proeminent linitit te rog! Acum nregistrare. nregistrarea este utilizat exclusiv pentru a estima caracteristicile difuzoarelor i apoi terse, n 30 de secunde. Doar caracteristicile difuzoarelor sunt pstrate.",pl:"Zapewnienie prywatnoci mikrofonu. Mona uy tylko mikrofonu iPhone'a/iPada, poniewa jest on kalibrowany producentem. Mikrofon rejestruje tylko podczas gonego dwiku przez gonik komputerowy komputerowy, a zarwno komputer stacjonarny, jak i telefon/iPad wyranie wywietlaj Cicho prosz! Teraz nagrywanie. Nagrywanie suy wycznie do oszacowania waciwoci gonikw, a nastpnie usunicia, w cigu 30 sekund. Zachowane s tylko charakterystyka gonika.",ru:"   .     iPhone/iPad,     .      ,       ,     /iPad   , !  .       ,      30 .    .",hy:"  :     iPhone / iPad ,    - :        ,    ,    ,   ,   / iPad- ,    :        ,   , 30 :     :",fi:'Mikrofonin yksityisyyden varmuus. Vain iPhone/iPad-mikrofonia voidaan kytt, koska se on valmistajakalibroitu. Mikrofoni tallentaa vain, kun neks ni soitetaan tietokoneen kaiuttimen kautta, ja sek typyttietokone ett puhelin/iPad nyttvt nkyvsti "hiljainen kiitos! Nyt nauhoittaminen". Tallennusta kytetn yksinomaan kaiutinominaisuuksien arvioimiseksi ja poistetaan sitten 30 sekunnissa. Vain kaiutinominaisuudet silyvt.',ka:'  .  iPhone/iPad   ,    .    ,       ,      /iPad,   " !  ".         , 30 .    .',he:'  .      /,    .          ,      /    " !  ."           ,  30 .    .',ar:'  .    iPhone/iPad      .                       /iPad   "!  ."              30 .      .',ur:'        /                                        /      " !  "                           30            ',hi:'      iPhone/iPad       ,   -                  ,     /    " !  "                    30               ',ta:'  . /   ,   - .           ,     /   " !  "  .      ,  30  .    .',ml:'  .   /     ,    .     ,    /       "!  ."     30    .    .',te:'   . /   ,   -.           ,     /   " !  "  .          30  .     .',kn:'  . /    ,   - .          ,     /  " !  "   .       30      .    .',bn:'     /     ,   -                  /     "  !  "            30           ',id:'Jaminan privasi mikrofon. Hanya mikrofon iPhone/iPad yang dapat digunakan, karena dikalibrasi pabrikan. Mikrofon hanya merekam saat suara keras diputar melalui pengeras suara komputer desktop, dan baik komputer desktop dan telepon/iPad menampilkan "sunyi! Sekarang merekam." Rekaman ini digunakan semata -mata untuk memperkirakan karakteristik pengeras suara dan kemudian dihapus, dalam waktu 30 detik. Hanya karakteristik pengeras suara yang dipertahankan.',"zh-CN":"iPhone/iPad/iPad30","zh-HK":"iPhone/iPad/iPad30",ja:"iPhone/iPad/iPad30",ko:'  . iPhone/iPad     .     .               /iPad " !  " .          30   .     .'},RC_requestCamera:{"en-US":"To proceed, this study needs your permission to use the camera. ",de:"Um fortzufahren, erfordert diese Studie Ihre Erlaubnis, die Kamera zu verwenden.",fr:"Pour continuer, cette tude a besoin de votre autorisation pour utiliser la camra.",es:"Para continuar, este estudio necesita su permiso para usar la cmara.",pt:"Para prosseguir, este estudo precisa de sua permisso para usar a cmera.",it:"Per procedere, questo studio richiede il permesso di utilizzare la fotocamera.",ro:"Pentru a continua, acest studiu are nevoie de permisiunea dvs. de a utiliza camera.",pl:"Aby kontynuowa, to badanie wymaga zgody na korzystanie z aparatu.",ru:" ,        .",hy:"         :",fi:"Jatkamaan tm tutkimus tarvitsee lupaasi kytt kameraa.",ka:",        .",he:" ,      .",ar:"        .",ur:"    this          your      ",hi:"   ,              ",ta:",       .",ml:",       .",te:",       .",kn:",       .",bn:"  ,         ",id:"Untuk melanjutkan, studi ini membutuhkan izin Anda untuk menggunakan kamera.","zh-CN":"","zh-HK":"",ja:"",ko:"     ."},RC_screenSize:{"en-US":"Screen Size",de:"Bildschirmgre",fr:"Taille de l'cran",es:"Tamao de la pantalla",pt:"Tamanho da tela",it:"Grandezza dello schermo",ro:"Marimea ecranului",pl:"Rozmiar ekranu",ru:" ",hy:" ",fi:"Nytn koko",ka:" ",he:" ",ar:" ",ur:" ",hi:"  ",ta:" ",ml:" ",te:" ",kn:"",bn:" ",id:"Ukuran layar","zh-CN":"","zh-HK":"",ja:"",ko:" "},RC_screenSizeCredit:{"en-US":'Credit card suggested by the Li et al. (2020) "Virtual Chinrest" paper.',de:'Kreditkarte von Li et al. (2020) "Virtual Chinentrest" -Papier.',fr:'Carte de crdit suggre par Li et al. (2020) Papier "Chinrest virtuel".',es:'Tarjeta de crdito sugerida por el artculo de Li et al. (2020), Mentonera virtual".',pt:'Carto de crdito sugerido pelo artigo por Li et al. (2020), "Virtual Liera".',it:'Carta di credito suggerita da Li et al. (2020) carta "Virtual Chinrest".',ro:"Card de credit sugerat de articol de Li i colab. (2020), Virtual Liera.",pl:'Karta kredytowa sugerowana przez publikacj LI i in. (2020) "virtual chinrest"',ru:" ,  Li et al. (2020)  .",hy:" ,    Li et al. (2020)  :",fi:'Li et al. Ehdotti luottokortti. (2020) "Virtual Chinrest" -paperi.',ka:' ,   Li et al. (2020) " Chinrest" .',he:'     - Li et al. (2020)  "\' ".',ar:'    Li et al. (2020)  "chinrest ".',ur:'     \n  (2020) " " \n',hi:'      \n  (2020) "Virtual Chinrest" \n',ta:'     . (2020) " " .',ml:'Li et at al   . (2020) " " .',te:'     . (2020) " " .',kn:'     . (2020) " " .',bn:'       (2020) " " ',id:'Kartu kredit yang disarankan oleh Li et al. (2020) kertas "virtual chinrest".',"zh-CN":" Li et al. (2020) ","zh-HK":" Li et al. (2020) ",ja:"Li et al 2020",ko:'Li et al. (2020) "Virtual Chinrest".'},RC_screenSizeCreditCard:{"en-US":"a credit card",de:"eine Kreditkarte",fr:"Une carte de crdit",es:"una tarjeta de crdito",pt:"Um carto de crdito",it:"una carta di credito",ro:"un card de credit",pl:"karta kredytowa",ru:" ",hy:" ",fi:"luottokortti",ka:" ",he:" ",ar:" ",ur:" ",hi:" ",ta:" ",ml:"  ",te:"  ",kn:" ",bn:"  ",id:"sebuah kartu kredit","zh-CN":"","zh-HK":"",ja:"",ko:" "},RC_screenSizeHave:{"en-US":"I have xxx with me.",de:"Ich habe xxx bei mir.",fr:"J'ai xxx avec moi.",es:"Tengo xxx conmigo.",pt:"Eu tenho xxx comigo.",it:"Ho scelto un xxx.",ro:"Am xxx cu mine.",pl:"Mam ze sob obiekt typu xxx",ru:"    .",hy:"   xxx :",fi:"Minulla on xxx kanssani.",ka:"  xxx .",he:"  xxx .",ar:" xxx .",ur:"  xxx ",hi:"  xxx ",ta:" xxx .",ml:"  xxx .",te:" xxx .",kn:" xxx .",bn:"  xxx ",id:"Saya memiliki xxx dengan saya.","zh-CN":"xxx","zh-HK":"xxx",ja:"xxx",ko:"  xxx ."},RC_screenSizeIntro:{"en-US":"We will measure the size of this screen. Use the pull-down menu to pick something handy. You can use any common USB connector (including the one providing power to your computer) or a credit card (or any card of the same size). Place your object on the screen and move the slider to adjust the image to match your object's size. When they match, press RETURN (or click OK) to proceed.",de:"Wir werden die Gre dieses Bildschirms messen. Verwenden Sie das Pulldown-Men, um etwas Handiges auszuwhlen. Sie knnen jeden gngigen USB -Anschluss (einschlielich derjenigen verwenden, die Ihren Computer anbietet) oder einer Kreditkarte (oder einer beliebigen Karte derselben Gre). Platzieren Sie Ihr Objekt auf dem Bildschirm und bewegen Sie den Schieberegler, um das Bild an die Gre Ihres Objekts anzupassen. Wenn sie bereinstimmen, drcken Sie die Rckgabe (oder klicken Sie auf OK), um fortzufahren.",fr:"Nous mesurerons la taille de cet cran. Utilisez le menu Drop -Down pour choisir un objet commun qui est  votre porte. Vous pouvez utiliser n'importe quel connecteur USB (y compris celui qui fournit de l'nergie  votre ordinateur) ou une carte de crdit (ou toute carte de la mme taille). Placez votre objet sur l'cran et dplacez le curseur pour ajuster l'image pour correspondre  la taille de votre objet. Lorsqu'ils concident, appuyez sur Entre (ou cliquez sur OK) pour continuer.",es:"Mediremos el tamao de esta pantalla. Utiliza el men desplegable para elegir un objeto comn que est a tu alcance. Puedes usar cualquier conector USB (incluido el que proporciona energa a tu computadora) o una tarjeta de crdito (o cualquier tarjeta del mismo tamao). Coloca tu objeto sobre la pantalla y mueve el control deslizante para ajustar la imagen para que coincida con el tamao de tu objeto. Cuando coincidan, presiona ENTER (o haz clic en OK) para continuar.",pt:"Mediremos o tamanho desta tela. Use o menu Drop -Robnet para escolher um objeto comum que esteja ao seu alcance. Voc pode usar qualquer conector USB (incluindo o que fornece energia ao seu computador) ou um carto de crdito (ou qualquer carto do mesmo tamanho). Coloque seu objeto na tela e mova o controle deslizante para ajustar a imagem para corresponder ao tamanho do seu objeto. Quando coincidem, pressione Enter (ou clique em OK) para continuar.",it:"Misureremo le dimensioni di questo schermo. Utilizza il menu a tendina per scegliere un oggetto comune alla tua portata. Puoi utilizzare qualsiasi connettore USB (incluso quello che fornisce alimentazione al tuo computer) o una carta di credito (o qualsiasi carta delle stesse dimensioni).",ro:"Vom msura dimensiunea acestui ecran. Utilizai meniul Drop -down pentru a alege un obiect comun care este la ndemna dvs. Putei utiliza orice conector USB (inclusiv cel care ofer energie computerului dvs.) sau un card de credit (sau orice card de aceeai dimensiune). Plasai obiectul pe ecran i mutai glisorul pentru a regla imaginea pentru a se potrivi cu dimensiunea obiectului dvs. Cnd coincid, apsai Enter (sau facei clic pe OK) pentru a continua.",pl:"Bdziemy mierzy rozmiar tego ekranu. Uyj rozwijanego menu aby wybra oglnodostpny obiekt w twoim zasigu. Moesz uy dowolnego zcza USB (w tym adowarki do do komputera) lub karty kredytowej (albo dowolnej karty o tym samym rozmiarze). Umie obiekt na ekranie i przesu suwak aby rozmiar obiektu by taki sam jak na ekranie. Po dopasowaniu, nacinij enter (lub kliknij OK) aby kontynuowa.\n\n\n",ru:"     .   ,    ,    .     USB- ( ,      )    (       ).        ,   ,     .   ,  Return (  OK),  .",hy:"     :    `       :     USB  ( ,        )    (    ):        `      :    ,     (  OK):",fi:"Mittaamme tmn nytn koon. Valitse jotain ktev. Voit kytt mit tahansa yleist USB -liitint (mukaan lukien tietokoneellesi virran) tai luottokortti (tai mik tahansa samankokoinen kortti). Aseta objekti nytlle ja siirr liukusdint kuvan stmiseksi objektin kokoa. Kun ne vastaavat, jatka paina (tai napsauta OK).",ka:"    .  ,    .      USB  ( ,     )    (    ).       ,   ,     .   ,   (   OK).",he:"    .         .      USB (     )    (    ).                  .   ,   Return (   )  .",ar:"    .         .     USB (          )    (     ).                   .      RETURN (   ) .",ur:"                                 USB  (   )    (      )                \n       .              (     )\n",hi:"                 , -          (    )    (      )                  \n            ,        (   )\n",ta:"   .      .   ..  (     )    (    ) .    ,        .  ,   (   ) .",ml:"    .    - menu   .      (    )     (    ) .            . ,    (  ).",te:"    .   -  .    USB  (     )    (    ) .               .  ,    (   ).",kn:"    .   -  .      (     )    (    )  .               .  ,    (   ).",bn:"          -          (     )    (    )                     ,    (   ) ",id:"Kami akan mengukur ukuran layar ini. Gunakan menu pull-down untuk memilih sesuatu yang berguna. Anda dapat menggunakan konektor USB umum apa pun (termasuk yang memberikan daya ke komputer Anda) atau kartu kredit (atau kartu apa pun dengan ukuran yang sama). Tempatkan objek Anda di layar dan pindahkan slider untuk menyesuaikan gambar agar sesuai dengan ukuran objek Anda. Saat mereka cocok, tekan kembali (atau klik OK) untuk melanjutkan.","zh-CN":" USB ","zh-HK":" USB ",ja:"USBReturn",ko:"   .      .  USB  (    )    (   )   .          .    (  )  ."},RC_screenSizeTitle:{"en-US":"Screen Size Calibration",de:"Bildschirmgre Kalibrierung",fr:"talonnage de la taille de l'cran",es:"Calibracin del tamao de la pantalla",pt:"Calibrao do tamanho da tela",it:"Calibrazione delle dimensioni dello schermo",ro:"Calibrarea dimensiunii ecranului",pl:"Kalibracja rozmiaru ekranu",ru:"  ",hy:"  ",fi:"Nytn koon kalibrointi",ka:"  ",he:"  ",ar:"  ",ur:"   ",hi:"   ",ta:"  ",ml:"  ",te:"  ",kn:"   ",bn:"  ",id:"Kalibrasi ukuran layar","zh-CN":"","zh-HK":"",ja:"",ko:"  "},RC_screenSizeUSBA:{"en-US":"a USB Type A connector",de:"Ein USB -Typ A Connector",fr:"Un connecteur USB Type A",es:"un conector USB tipo A",pt:"Um conector USB tipo A",it:"Un connettore di tipo A USB",ro:"Un conector USB de tip A",pl:"Zcze USB typu A",ru:"  USB A",hy:"USB ",fi:"USB -tyypin A -liitin",ka:"USB  A ",he:"  USB  A",ar:" USB   A",ur:"USB   ",hi:"   ",ta:" ..   ",ml:"    ",te:"USB   ",kn:"   ",bn:"    ",id:"Konektor Tipe A USB","zh-CN":"USB A ","zh-HK":"USB A ",ja:"USB A",ko:"USB  A "},RC_screenSizeUSBC:{"en-US":"a USB Type C connector",de:"Ein USB -Typ -C -Anschluss",fr:"Un connecteur USB de type C",es:"un conector USB tipo C",pt:"Um conector USB tipo C",it:"Un connettore di tipo C USB",ro:"Un conector USB de tip C",pl:"Zcze USB typu C",ru:"  USB C",hy:"USB   ",fi:"USB -tyypin C -liitin",ka:"USB  C ",he:" USB  C",ar:" USB   C",ur:"USB   ",hi:"   ",ta:" ..   ",ml:"    ",te:"USB   ",kn:"   ",bn:"    ",id:"Konektor USB Tipe C","zh-CN":"USB C ","zh-HK":"USB C ",ja:"USB C",ko:"USB  C "},RC_starting:{"en-US":"Starting ...",de:"Beginnend ...",fr:"Commencer ...",es:"Empezando. ...",pt:"Iniciando. ...",it:"A partire da ...",ro:"Pornire. ...",pl:"Rozpoczcie ...",ru:" ...",hy:" ...",fi:"Aloita ...",ka:" ...",he:" ...",ar:" ...",ur:" ...",hi:" ...",ta:" ...",ml:" ...",te:" ...",kn:" ...",bn:" ...",id:"Mulai ...","zh-CN":"","zh-HK":"",ja:"",ko:" ..."},RC_viewingBlindSpotCredit:{"en-US":"We enhanced the blindspot mapping of Li et al. (2020) by adding flicker and manual control.",de:"Wir haben die Blindspot -Zuordnung von Li et al. (2020) Durch Hinzufgen von Flackern und manueller Steuerung.",fr:"Nous avons amlior la cartographie de Blindspot de Li et al. (2020) en ajoutant du scintillement et du contrle manuel.",es:'Segn lo sugerido en el artculo de Li et al. (2020), Mentonera virtual".\n',pt:'Conforme sugerido no artigo de Li et al. (2020), "Virtual Liera".\n',it:"Abbiamo migliorato la mappatura cieca di Li et al. (2020) aggiungendo sfarfallio e controllo manuale.",ro:"Dup cum sugereaz n articolul Li i colab. (2020), Virtual Liera.\n",pl:'Zgodnie z publikacj Li i in. (2020) "virtual chinrest"',ru:"     Li et al. (2020)      .",hy:"     Li et al. (2020)     :",fi:"Parannasimme Li et ai. (2020) lismll vlkkymist ja manuaalista ohjausta.",ka:"  Li et al. (2020)     .",he:"     Li et al. (2020)      .",ar:"      Li et al. (2020)      .",ur:'       (2020) " " ',hi:'        (2020) "Virtual Chinrest" ',ta:"      . (2020)      .",ml:" li et al al toon the the than thangined . (2020)    .",te:"       . (2020)      .",kn:"       . (2020)      .",bn:"        (2020)      ",id:"Kami meningkatkan pemetaan blindspot Li et al. (2020) dengan menambahkan flicker dan kontrol manual.","zh-CN":" Li et al. (2020) ","zh-HK":" Li et al. (2020) ",ja:"Li et al 2020Chinrest",ko:" Li et al. (2020)     ."},RC_viewingBlindSpotRejected:{"en-US":"Sorry, the most recent left and right measurements were inconsistent. Can we try again? Keep one eye closed. Focus on the crosshair and monitor the flashing dot out of the corner of your eye. Slide the dot left and right until it disappears into your blindspot, and then hit RETURN. Maintain your viewing distance as you test both eyes.",de:"Entschuldigung, die jngsten linken und rechten Messungen waren inkonsistent. Knnen wir es erneut versuchen? Halten Sie ein Auge geschlossen. Konzentrieren Sie sich auf das Fadenkreuz und berwachen Sie den blinkenden Punkt aus dem Augenwinkel. Schieben Sie den Punkt nach links und rechts, bis er in Ihren Blindspot verschwindet, und drcken Sie dann die Rckkehr. Behalten Sie Ihren Betrachtungsabstand bei, whrend Sie beide Augen testen.",fr:"Dsol, les mesures les plus rcentes de gauche et de droite taient incohrentes. Pouvons-nous ressayer? Gardez un il ferm. Concentrez-vous sur le rticule et surveillez le point clignotant du coin de votre il. Faites glisser le point  gauche et  droite jusqu' ce qu'il disparaisse dans votre point mort, puis appuyez sur Return. Maintenez votre distance de visualisation lorsque vous testez les deux yeux.",es:"Lo sentimos, las mediciones ms recientes de izquierda y derecha fueron inconsistentes. Podemos intentarlo de nuevo? Mantn un ojo cerrado. Concntrese en la mira y monitoree el punto intermitente en la esquina del ojo. Deslice el punto a la izquierda y a la derecha hasta que desaparezca en su punto ciego, y luego presione el retorno. Mantenga su distancia de visin mientras prueba ambos ojos.",pt:"Desculpe, as medies mais recentes de esquerda e direita foram inconsistentes. Podemos tentar de novo? Mantenha um olho fechado. Concentre -se na mira e monitore o ponto piscando pelo canto do olho. Deslize o ponto para a esquerda e para a direita at que ele desaparea no seu ponto cego e, em seguida, pressione o retorno. Mantenha sua distncia de visualizao ao testar os dois olhos.",it:"Mi dispiace, le misurazioni pi recenti di sinistra e destra erano incoerenti. Possiamo riprovare? Tieni un occhio chiuso. Concentrati sul mirino e monitora il punto lampeggiante dall'angolo dell'occhio. Fai scorrere il punto a sinistra e a destra finch non scompare nel tuo cieco, quindi premi ritorno. Mantieni la distanza di visione mentre si verificano entrambi gli occhi.",ro:"Ne pare ru, cele mai recente msurtori la stnga i la dreapta au fost inconsistente. Putem ncerca din nou? inei un ochi nchis. Concentrai -v pe ncruciare i monitorizai punctul intermitent din colul ochiului. Glisai punctul la stnga i la dreapta pn cnd dispare n Blindspot, apoi atingei ntoarcerea. Meninei -v distana de vizionare n timp ce testai ambii ochi.",pl:"Przepraszam, najnowsze pomiary lewych i prawych byy niespjne. Czy moemy sprbowa ponownie? Miej jedno oko zamknite. Skoncentruj si na celowniku i monitoruj migajc kropk z rogu oka. Wsu kropk w lewo i w prawo, a zniknie w twojej lepej, a nastpnie nacinij powrt. Utrzymuj odlego ogldania podczas testowania obu oczu.",ru:",        .     ?    .           -  .     ,        ,     .   ,     .",hy:",       :    :    :         ing  :     ,       ,   :    ,     :",fi:"Valitettavasti viimeisimmt vasen ja oikea mittaukset olivat epjohdonmukaisia. Voimmeko yritt uudelleen? Pid yksi silm kiinni. Keskity ristiin ja tarkkaile vilkkuvaa pistett silmn nurkasta. Liu'uta piste vasemmalle ja oikealle, kunnes se katoaa blindspotisi ja osu sitten paluun. Pid katseluetisyys testattaessasi molemmat silmt.",ka:",       .   ?   .   Crosshair-       .     ,      ,   .   ,    .",he:",       .    ?    .  - CrossHair      .               .          .",ar:"        .         .         .               .          .",ur:"                                                                             ",hi:" ,                ?                                    ,       -       ,      ",ta:",       .   ?   .           .        ,  .        .",ml:",   ,   .   ?    .   ,       .       ,  .        .",te:",       .   ?    .           .          ,   .        .",kn:",      .   ?   .           .          ,   .        .",bn:",              ?                                              ",id:"Maaf, pengukuran kiri dan kanan terbaru tidak konsisten. Bisakah kita mencoba lagi? Tutup satu mata. Fokus pada crosshair dan pantau titik berkedip keluar dari sudut mata Anda. Geser titik ke kiri dan ke kanan sampai menghilang ke dalam blindspot Anda, dan kemudian tekan kembali. Pertahankan jarak menonton Anda saat Anda menguji kedua mata.","zh-CN":"","zh-HK":"",ja:"",ko:".        .   ?   .        .              .        ."},RC_viewingDistance:{"en-US":"Viewing Distance",de:"Betrachtungsabstand",fr:"Distance de visualisation",es:"Distancia de observacin",pt:"Distncia de observao",it:"Distanza dallo schermo",ro:"Distana de observare",pl:"Odlego od ekranu",ru:" ",hy:" ",fi:"Katseluetisyys",ka:" ",he:" ",ar:" ",ur:"",hi:"  ",ta:" ",ml:" ",te:" ",kn:" ",bn:" ",id:"Jarak melihat","zh-CN":"","zh-HK":"",ja:"",ko:" "},RC_viewingDistanceIntro:{"en-US":"EXPLANATION. For this step, come closer, if necessary, so you're no farther than twice the screen width. Every eye has a blindspot. We'll find yours to discover how far your eye is from the screen. You'll be asked to close or cover one eye to isolate the other. You'll use your keyboard's arrow keys   to slide the flickering dot left and right until it disappears into your blindspot. You'll do this with each eye, alternating, until the last two measurements are consistent. Please maintain your viewing distance as you test both eyes.",de:"ERLUTERUNG. Kommen Sie fr diesen Schritt bei Bedarf nher, damit Sie nicht weiter als doppelt so hoch wie die Bildschirmbreite sind. Jedes Auge hat einen Blindspot. Wir werden Ihre finden, um herauszufinden, wie weit Ihr Auge vom Bildschirm vom Bildschirm entfernt ist. Sie werden gebeten, ein Auge zu schlieen oder abzudecken, um das andere zu isolieren. Sie verwenden die Pfeiltasten Ihrer Tastatur   um den flackernden Punkt nach links und rechts zu schieben, bis er in Ihren Blindspot verschwindet. Sie werden dies mit jedem Auge wechseln, bis die letzten beiden Messungen konsistent sind. Bitte behalten Sie Ihren Betrachtungsabstand bei, whrend Sie beide Augen testen.",fr:"EXPLICATION. Pour cette tape, approchez-vous, si ncessaire, vous n'tes donc pas plus loin que deux fois la largeur de l'cran. Chaque il a un point mort. Nous trouverons le vtre pour dcouvrir  quel point votre il est de l'cran. On vous demandera de fermer ou de couvrir un il pour isoler l'autre. Vous utiliserez les touches flches de votre clavier   Pour glisser le point scintillant  gauche et  droite jusqu' ce qu'il disparaisse dans votre point mort. Vous le ferez avec chaque il, en alternant, jusqu' ce que les deux dernires mesures soient cohrentes. Veuillez maintenir votre distance de visualisation lorsque vous testez les deux yeux.",es:"EXPLICACIN. Para este paso, acrcate, si es necesario, por lo que no ests ms lejos del doble del ancho de la pantalla. Cada ojo tiene un punto ciego. Encontraremos el suyo para descubrir qu tan lejos est su ojo desde la pantalla. Se le pedir que cierre o cubra un ojo para aislar al otro. Usar las teclas de flecha de su teclado   para deslizar el punto parpadeante a la izquierda y a la derecha hasta que desaparezca en su punto ciego. Har esto con cada ojo, alternando, hasta que las dos ltimas medidas sean consistentes. Mantenga su distancia de visin mientras prueba ambos ojos.",pt:"EXPLICAO. Para esta etapa, abordagem, se necessrio, para que voc no esteja mais longe da largura da tela. Cada olho tem um ponto cego. Vamos encontrar o seu para descobrir at que ponto seus olhos esto da tela. Voc ser solicitado a fechar ou cobrir um olho para isolar o outro. Usar as teclas de seta do teclado   para deslizar o ponto de tremeling para a esquerda e para a direita at que ele desaparea em seu ponto cego. Ele far isso a cada olho, alternando, at que as duas ltimas medidas sejam consistentes. Mantenha a distncia da sua viso enquanto experimenta os dois olhos.",it:"SPIEGAZIONE. Per questo passaggio, avvicinati, se necessario, quindi non sei pi lontano del doppio della larghezza dello schermo. Ogni occhio ha un cieco. Troveremo il tuo per scoprire quanto  lontano il tuo occhio dallo schermo. Ti verr chiesto di chiudere o coprire un occhio per isolare l'altro. Utilizzerai i tasti freccia della tastiera   Per far scorrere il punto tremolante a sinistra e a destra fino a quando non scompare nel tuo cieco. Lo farai con ogni occhio, alternando, fino a quando le ultime due misurazioni sono coerenti. Si prega di mantenere la distanza di visualizzazione mentre si verificano entrambi gli occhi.",ro:"EXPLICAIE. Pentru acest pas, abordai, dac este necesar, deci nu suntei mai departe de limea ecranului. Fiecare ochi are un punct orb. Vom gsi al tu pentru a descoperi ct de departe este ochiul tu de ecran. Vi se va cere s nchidei sau s acoperii un ochi pentru a -l izola pe cellalt. Va folosi tastele sgeat ale tastaturii dvs.   Pentru a glisa punctul de plpire spre stnga i la dreapta pn cnd va disprea la locul su orb. El va face acest lucru cu fiecare ochi, alternnd, pn cnd ultimele dou msuri sunt consecvente. Pstrai -v distana de vedere n timp ce ncercai ambii ochi.",pl:"WYJANIENIE. W tym kroku w razie potrzeby zbliaj si bliej, wic nie jeste dalej ni dwa razy wiksza ni szeroko ekranu. Kade oko ma lepy. Znajdziemy twoje, aby dowiedzie si, jak daleko jest twoje oko od ekranu. Zostaniesz poproszony o zamknicie lub zakrycie jednego oka, aby odizolowa drugie. Uyjesz klawiszy strzaek klawiatury  , aby przesun migotajc kropk w lewo i w prawo, a zniknie w twojej lepej. Zrobisz to z kadym okiem, na przemian, a dwa ostatnie pomiary bd spjne. Prosz zachowa odlego ogldania podczas testowania obu oczu.",ru:".       ,     ,     .       .   ,  ,      .       ,   .        ,       ,        .      , ,       . ,   ,     .",hy:":       ,      ,       :     :    `,       :        `  :               ,      :      ,       :     ,     :",fi:"SELITYS. Tt vaihetta varten tule tarvittaessa lhemmksi, joten et ole kauempana kuin kaksinkertainen nytn leveys. Jokaisessa silmss on blindspot. Lydmme sinun selvitt, kuinka kaukana silmsi on nytlt. Sinua pyydetn sulkemaan tai peittmn yksi silm eristksesi toisen. Kyt nppimistn nuolinppimi   liu'uttaa vilkkuvan pisteen vasemmalle ja oikealle, kunnes se katoaa blindspotisi. Teet tmn jokaisella silmll vuorotellen, kunnes kaksi viimeist mittausta ovat yhdenmukaisia. Pid katseluetisyys testattaessa molemmat silmt.",ka:".  , ,  ,  ,     ,    .    .   ,  ,       .       ,    .        ,       ,      .    , ,      . ,    ,    .",he:".  , ,  ,       .     .          .          .                     .     , ,      .           .",ar:".                  .     .       .         .                  BlindSpot.            .           .",ur:"                                     find                                                     use                                                   ",hi:"    ,   ,   ,                                                                                            ,  - ,                        ",ta:".  , ,  ,         .      .           .        .       the           .      ,    .        .",ml:".  , ,      .     .          .        .            ,  .     , ,    .        .",te:".   ,  , ,        .     .           .          .        Your            .           .         .",kn:".  ,   ,        .    .          .         .                .         .         .",bn:"   ,    ,                                     cover                       use                           ",id:"PENJELASAN. Untuk langkah ini, datang lebih dekat, jika perlu, jadi Anda tidak lebih dari dua kali lebar layar. Setiap mata memiliki buta. Kami akan menemukan milik Anda untuk menemukan seberapa jauh mata Anda dari layar. Anda akan diminta untuk menutup atau menutupi satu mata untuk mengisolasi yang lain. Anda akan menggunakan tombol panah keyboard Anda    Untuk menggeser titik berkedip ke kiri dan kanan sampai menghilang ke dalam blindspot Anda. Anda akan melakukan ini dengan masing -masing mata, bergantian, sampai dua pengukuran terakhir konsisten. Harap pertahankan jarak menonton Anda saat Anda menguji kedua mata.","zh-CN":"","zh-HK":"",ja:"",ko:".               .     .           .       .                   .           .        ."},RC_viewingDistanceIntroLiMethod:{"en-US":"EXPLANATION. For this step, come closer, if necessary, so you're no farther than twice the screen width. Every eye has a blindspot. We'll find yours to discover how far your eye is from the screen. You'll be asked to close or cover one eye to isolate the other. While you focus on the crosshair, watch the flickering dot out of the corner of your eye, and hit RETURN when it disappears into your blindspot. Depending on viewing distance and screen size, the flickering dot typically will reach your blindspot before it gets to the middle of the screen. You'll do this with each eye, alternating, until the last two measurements are consistent. Please maintain your viewing distance as you test both eyes.",de:"ERLUTERUNG. Kommen Sie fr diesen Schritt bei Bedarf nher, damit Sie nicht weiter als doppelt so hoch wie die Bildschirmbreite sind. Jedes Auge hat einen Blindspot. Wir werden Ihre finden, um herauszufinden, wie weit Ihr Auge vom Bildschirm vom Bildschirm entfernt ist. Sie werden gebeten, ein Auge zu schlieen oder abzudecken, um das andere zu isolieren. Whrend Sie sich auf das Fadenkreuz konzentrieren, beobachten Sie den flackernden Punkt aus dem Augenwinkel und treffen Sie die Rckkehr, wenn er in Ihrem Blindspot verschwindet. Abhngig von der Betrachtung der Entfernung und der Bildschirmgre erreicht der flackernde Punkt normalerweise Ihren Blindspot, bevor er in die Mitte des Bildschirms gelangt. Sie werden dies mit jedem Auge wechseln, bis die letzten beiden Messungen konsistent sind. Bitte behalten Sie Ihren Betrachtungsabstand bei, whrend Sie beide Augen testen.",fr:"EXPLICATION. Pour cette tape, approchez-vous, si ncessaire, vous n'tes donc pas plus loin que deux fois la largeur de l'cran. Chaque il a un point mort. Nous trouverons le vtre pour dcouvrir  quel point votre il est de l'cran. On vous demandera de fermer ou de couvrir un il pour isoler l'autre. Pendant que vous vous concentrez sur le rticule, regardez le point scintillant du coin de votre il et appuyez sur votre retour lorsqu'il disparat dans votre point mort. Selon la distance de visualisation et la taille de l'cran, le point scintillant atteindra gnralement votre point mort avant qu'il n'atteigne au milieu de l'cran. Vous le ferez avec chaque il, en alternant, jusqu' ce que les deux dernires mesures soient cohrentes. Veuillez maintenir votre distance de visualisation lorsque vous testez les deux yeux.",es:"EXPLICACIN. Para este paso, acrcate, si es necesario, por lo que no ests ms lejos del doble del ancho de la pantalla. Cada ojo tiene un punto ciego. Encontraremos el suyo para descubrir qu tan lejos est su ojo desde la pantalla. Se le pedir que cierre o cubra un ojo para aislar al otro. Mientras te enfocas en la mira, mira el punto parpadeante en la esquina del ojo y presione el retorno cuando desaparezca en tu punto ciego. Dependiendo de la distancia de vista y el tamao de la pantalla, el punto parpadeante generalmente llegar a su punto ciego antes de que llegue al centro de la pantalla. Har esto con cada ojo, alternando, hasta que las dos ltimas medidas sean consistentes. Mantenga su distancia de visin mientras prueba ambos ojos.",pt:"EXPLICAO. Para esta etapa, chegue mais perto, se necessrio, para que voc no esteja mais longe do que o dobro da largura da tela. Todo olho tem um ponto cego. Vamos encontrar o seu para descobrir at que ponto seus olhos esto da tela. Voc ser solicitado a fechar ou cobrir um olho para isolar o outro. Enquanto voc se concentra na mira, observe o ponto tremeluzente pelo canto do olho e acerte o retorno quando ele desaparecer no seu ponto cego. Dependendo da distncia de visualizao e do tamanho da tela, o ponto de trementao normalmente atinge seu ponto cego antes de chegar ao meio da tela. Voc far isso a cada olho, alternando, at que as duas ltimas medies sejam consistentes. Por favor, mantenha sua distncia de visualizao enquanto voc testa os dois olhos.",it:"SPIEGAZIONE. Per questo passaggio, avvicinati, se necessario, quindi non sei pi lontano del doppio della larghezza dello schermo. Ogni occhio ha un cieco. Troveremo il tuo per scoprire quanto  lontano il tuo occhio dallo schermo. Ti verr chiesto di chiudere o coprire un occhio per isolare l'altro. Mentre ti concentri sul mirino, guarda il punto tremolante dall'angolo dell'occhio e colpisci il ritorno quando scompare nel tuo cieco. A seconda della distanza di visualizzazione e delle dimensioni dello schermo, il punto tremolante in genere raggiunger il tuo blindspot prima che arrivi al centro dello schermo. Lo farai con ogni occhio, alternando, fino a quando le ultime due misurazioni sono coerenti. Si prega di mantenere la distanza di visualizzazione mentre si verificano entrambi gli occhi.",ro:"EXPLICAIE. Pentru acest pas, apropiai -v, dac este necesar, deci nu suntei mai departe de dou ori mai mult dect limea ecranului. Fiecare ochi are un orb. Vom gsi al tu pentru a descoperi ct de departe este ochiul tu de ecran. Vi se va cere s nchidei sau s acoperii un ochi pentru a -l izola pe cellalt. n timp ce v concentrai pe Crosshair, urmrii punctul plpit din colul ochiului i lovit -o revenii cnd dispare n Blindspot. n funcie de vizualizarea distanei i a dimensiunii ecranului, punctul plpitor va ajunge de obicei la Blindspot nainte de a ajunge la mijlocul ecranului. Vei face acest lucru cu fiecare ochi, alternnd, pn cnd ultimele dou msurtori sunt consecvente. V rugm s meninei distana de vizionare n timp ce testai ambii ochi.",pl:"WYJANIENIE. W tym kroku w razie potrzeby zbliaj si bliej, wic nie jeste dalej ni dwa razy wiksza ni szeroko ekranu. Kade oko ma lepy. Znajdziemy twoje, aby dowiedzie si, jak daleko jest twoje oko od ekranu. Zostaniesz poproszony o zamknicie lub zakrycie jednego oka, aby odizolowa drugie. Podczas gdy skupiasz si na celowniku, obserwuj migajc kropk z rogu oka i uderzaj, gdy zniknie w twojej lepej. W zalenoci od odlegoci wywietlania i rozmiaru ekranu migoczca kropka zazwyczaj dotrze do Blindspot, zanim dojdzie do rodka ekranu. Zrobisz to z kadym okiem, na przemian, a dwa ostatnie pomiary bd spjne. Prosz zachowa odlego ogldania podczas testowania obu oczu.",ru:".       ,     ,     .       .   ,  ,      .       ,   .     Crosshair,      -      ,      .        ,  ,  ,    ,      .      , ,       . ,   ,     .",hy:":     ,  ,        :    :    ` ,      :        `  :      ,           ,      :      ,  ,  ,   ,    :     , ,      :      ,     :",fi:"SELITYS. Tt vaihetta varten tule tarvittaessa lhemmksi, joten et ole kauempana kuin kaksinkertainen nytn leveys. Jokaisessa silmss on blindspot. Lydmme sinun selvitt, kuinka kaukana silmsi on nytlt. Sinua pyydetn sulkemaan tai peittmn yksi silm eristksesi toisen. Kun keskityt ristikkisiin, tarkkaile vilkkuvaa pistett silmn nurkasta ja ly paluuta, kun se katoaa blindspotisi. Katseluetisyydest ja nytn koosta riippuen vilkkuva piste saavuttaa tyypillisesti blindspotin ennen kuin se psee nytn keskelle. Teet tmn jokaisella silmll vuorotellen, kunnes kaksi viimeist mittausta ovat yhdenmukaisia. Pid katseluetisyys testattaessa molemmat silmt.",ka:".  , ,  ,  ,     ,    .    .   ,  ,       .       ,    .  ,    Crosshair- ,       ,     .     ,  ,  ,   ,      .    , ,      . ,    ,    .",he:".  , ,  ,       .     .          .          .    - CrossHair,               .     ,             .     , ,      .           .",ar:".                  .     .       .         .                    BlindSpot.                   .            .           .",ur:"                                       find                                                                                                                                       ",hi:"    ,   ,   ,                                                             ,           ,                        ,                       ,  - ,                        ",ta:".  , ,  ,         .      .           .        .    ,       ,        .      ,          .      ,    .        .",ml:".  , ,      .     .          .        .    ,       ,     .    ,          .     , ,    .        .",te:".   ,  , ,        .     .           .          .    ,             .       ,          .           .         .",kn:".  ,   ,        .    .          .         .    ,      ,        .       ,           .         .         .",bn:"   ,    ,                                     cover         ,                         ,                                    ",id:"PENJELASAN. Untuk langkah ini, datang lebih dekat, jika perlu, jadi Anda tidak lebih dari dua kali lebar layar. Setiap mata memiliki buta. Kami akan menemukan milik Anda untuk menemukan seberapa jauh mata Anda dari layar. Anda akan diminta untuk menutup atau menutupi satu mata untuk mengisolasi yang lain. Saat Anda fokus pada crosshair, saksikan titik -titik yang berkedip -kedip dari sudut mata Anda, dan tekan kembali ketika menghilang ke dalam blindspot Anda. Bergantung pada jarak menonton dan ukuran layar, titik -titik yang berkedip biasanya akan mencapai titik blindspot Anda sebelum sampai ke tengah layar. Anda akan melakukan ini dengan masing -masing mata, bergantian, sampai dua pengukuran terakhir konsisten. Harap pertahankan jarak menonton Anda saat Anda menguji kedua mata.","zh-CN":"","zh-HK":"",ja:"22",ko:".               .     .           .       .         ,      .     ,           .           .        ."},RC_viewingDistanceRedo:{"en-US":"Redo last response",de:"Letzte Antwort wiederholen",fr:"Refaire la dernire rponse",es:"Rehacer la ltima respuesta",pt:"Refazer a ltima resposta",it:"Rifiuta l'ultima risposta",ro:"Redo ultimul rspuns",pl:"Rwi ostatni odpowied",ru:"  ",hy:"Redo  ",fi:"Suunnittele viimeinen vastaus",ka:"  ",he:"    ",ar:"  ",ur:"   ",hi:"  ",ta:"   ",ml:"   ",te:"   ",kn:"   ",bn:"  ",id:"Mengulang respons terakhir","zh-CN":"","zh-HK":"",ja:"",ko:"  "},RC_viewingDistanceTitle:{"en-US":"Measure Viewing Distance",de:"Messen Sie den Betrachtungsabstand",fr:"Mesurer la distance d'observation",es:"Medir la distancia de visualizacin",pt:"Medir a distncia da visualizao",it:"Monitoraggio della distanza di visualizzazione",ro:"Msurai distana de vizualizare",pl:"Zmierz odlego od ekranu",ru:"  ",hy:"  ",fi:"Mittaa katseluetisyys",ka:"  ",he:"   ",ar:" ",ur:"     \n",hi:"    \n",ta:"  ",ml:"  ",te:"  ",kn:"  ",bn:"   ",id:"Ukur jarak tampilan","zh-CN":"","zh-HK":"",ja:"",ko:"  "}}},5207:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>_setDebugControl});var _components_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4769),_panelUtils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6326);const _setDebugControl=(e,t,n,r)=>{const a=document.createElement("div");a.className="rc-panel-debug-control",a.innerHTML='<h2> DEBUG CONTROL</h2><p class="rc-panel-debug-bold-text">Set&nbsp;&nbsp;<code>{ debug: false }</code>&nbsp;&nbsp;for production mode!</p>',t.appendChild(a);const s=[];for(let t of n){let n=t.name?t.name:t;const r=document.createElement("div");r.className="rc-panel-debug-control-task-row",r.id="rc-debugger-row-"+n;let i=e._debuggerDefault[n];if(i){a.innerHTML+=`<h3>${n}</h3>`;const e={n:"number",s:"string"};switch(n){case"screenSize":for(let t in i.value)r.innerHTML+=_createValueElement(n,t,i.value[t],".value."+t,e.n);break;case"measureDistance":r.innerHTML+=_createValueElement(n,"value",i.value,".value",e.n),r.innerHTML+=_createValueElement(n,"method",i.method,".method",e.s,!0);break;case"trackDistance":r.innerHTML+=_createValueElement(n,"viewingDistanceCm",i.value.viewingDistanceCm,".value",e.n),r.innerHTML+=_createValueElement(n,"PDCm",i.value.PDCm,".value",e.n),r.innerHTML+=_createValueElement(n,"nearPointCm.x",i.value.nearPointCm.x,".value.x",e.n),r.innerHTML+=_createValueElement(n,"nearPointCm.y",i.value.nearPointCm.y,".value.y",e.n),r.innerHTML+=_createValueElement(n,"latencyMs",i.value.latencyMs,".latencyMs",e.n),r.innerHTML+=_createValueElement(n,"method",i.method,".method",e.s,!0);break;case"trackGaze":r.innerHTML+=_createValueElement(n,"x",i.value.x,".value.x",e.n),r.innerHTML+=_createValueElement(n,"y",i.value.y,".value.y",e.n),r.innerHTML+=_createValueElement(n,"latencyMs",i.value.latencyMs,".value.latencyMs",e.n);break;case"performance":r.innerHTML+=_createValueElement(n,"computeArrayFillMHz",i.value.computeArrayFillMHz,".value.computeArrayFillMHz",e.n),r.innerHTML+=_createValueElement(n,"computeRandomMHz",i.value.computeRandomMHz,".value.computeRandomMHz",e.n),r.innerHTML+=_createValueElement(n,"idealFps",i.value.idealFps,".value.idealFps",e.n),r.innerHTML+=_createValueElement(n,"stressFps",i.value.stressFps,".value.stressFps",e.n)}a.appendChild(r),s.push(n)}else if((0,_panelUtils__WEBPACK_IMPORTED_MODULE_1__.fy)(n)){const e=n.replace(/[[ \]]/g,"");a.innerHTML+=`<h3>${e.charAt(0).toLowerCase()+e.slice(1)}</h3>`,r.innerHTML+=": ( Customized task result values cannot be pre-filled.",a.appendChild(r),s.push(n)}}const i=document.createElement("button");i.className="rc-panel-debug-control-next",i.innerHTML="Simulate calibration and continue",i.onclick=()=>{_wrapValues(e,s),(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.p1)(r,{timestamp:performance.now()}),e._panelStatus.panelFinished=!0},a.appendChild(i)},_createValueElement=(e,t,n,r,a,s=!1)=>`<div class="value-element">\n  <input type="text" id="${e}-${t.replace(".","-")}" value="${n}" data-source="${r}" data-type="${a}"${s?"readonly":""} />\n  <p>${t}</p>\n</div>`,_wrapValues=(e,t)=>{for(let n of t){const t=document.querySelector("#rc-debugger-row-"+n),r={};switch(n){case"screenSize":r.value={},_putData(e,r,t),e.newScreenData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.d9)(r);break;case"measureDistance":_putData(e,r,t),e.newViewingDistanceData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.d9)(r);break;case"trackDistance":e.newViewingDistanceData={value:_get(t,"#trackDistance-viewingDistanceCm"),latencyMs:_get(t,"#trackDistance-latencyMs"),method:_get(t,"#trackDistance-method","string"),timestamp:e._debuggerDefault.timestamp},e.newNearPointData={value:{x:_get(t,"#trackDistance-nearPointCm-x"),y:_get(t,"#trackDistance-nearPointCm-y")},timestamp:e._debuggerDefault.timestamp},e.newPDData={value:_get(t,"#trackDistance-PDCm"),timestamp:e._debuggerDefault.timestamp};break;case"trackGaze":r.value={},_putData(e,r,t),e.newGazePositionData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.d9)(r);break;case"performance":r.value={},_putData(e,r,t),e.newPerformanceData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.d9)(r)}}},_get=(e,t)=>{const n=e.querySelector(t);return"number"===n.dataset.type?Number(n.value):n.value},_putData=(RC,newData,taskRow)=>{for(let ele of taskRow.childNodes){const eleInput=ele.querySelector("input");try{eval(`newData${eleInput.dataset.source} = eleInput.dataset.type === 'number' ? Number(eleInput.value) : eleInput.value`)}catch(e){}newData.timestamp=RC._debuggerDefault.timestamp}return newData}},6326:(e,t,n)=>{"use strict";n.d(t,{A4:()=>p,V4:()=>l,Wd:()=>o,eV:()=>s,fy:()=>c,ih:()=>d,mA:()=>u,oA:()=>h,xn:()=>m});var r=n(2940),a=n(4769);const s={screenSize:{use:1,name:r.C.RC_screenSize["en-US"],phraseHandle:"RC_screenSize"},measureDistance:{use:1,name:r.C.RC_viewingDistance["en-US"],phraseHandle:"RC_viewingDistance"},trackDistance:{use:2,name:r.C.RC_distanceTracking["en-US"],phraseHandle:"RC_distanceTracking"},trackGaze:{use:2,name:r.C.RC_gazeTracking["en-US"],phraseHandle:"RC_gazeTracking"},performance:{use:1,name:r.C.RC_performance["en-US"],phraseHandle:"RC_performance"}},i=Object.keys(s),o=e=>{if(!Array.isArray(e))return!1;for(let t of e){if(!t)return!1;if("object"==typeof t&&t.name.includes("[")&&t.name.includes("]")){if(t.function&&"function"==typeof t.function)continue;return!1}if("object"==typeof t&&!i.includes(t.name))return!1;if("string"==typeof t&&!i.includes(t))return!1}return!0},l=e=>{document.querySelectorAll(".rc-panel-step").forEach((t=>{Number(t.dataset.index)===e&&(t.classList.replace("rc-panel-step-todo","rc-panel-step-finished"),t.classList.replace("rc-panel-step-active","rc-panel-step-inactive"))}))},u=e=>"string"==typeof e?e:e.name,c=e=>e&&e.length>2&&"["===e[0]&&"]"===e[e.length-1],h=e=>e.slice(1,-1),d=(e,t=null,n=null,r=null)=>{"string"==typeof e&&(e={name:e});const s=()=>{(0,a.p1)(t),(0,a.p1)(n,{timestamp:performance.now()}),(0,a.p1)(r)};return["screenSize","measureDistance","performance"].includes(e.name)?[e.options||{},t=>{(0,a.p1)(e.callback,t),s()}]:"trackGaze"===e.name?[e.options||{},t=>{(0,a.p1)(e.callbackOnCalibrationEnd,t),s()},e.callbackTrack||null]:"trackDistance"===e.name?[e.options||{},t=>{(0,a.p1)(e.callbackStatic,t),s()},e.callbackTrack||null]:void 0},p=e=>{e._panelStatus.panelResolveIntervals.forEach((e=>clearInterval(e))),e._panelStatus.panelResolveIntervals=[]},m=(e,t,n)=>{let r=`<select name="rc-lang" id="rc-panel-lang-picker" style="color: ${n} !important">`;for(let t of e.supportedLanguages)e.L===t.language&&(r+=`<option value="${t.language}" selected>${t.languageNameNative}</option>`);for(let t of e.supportedLanguages)e.L!==t.language&&(r+=`<option value="${t.language}">${t.languageNameNative}</option>`);r+="</select>",t.innerHTML=r,document.querySelector("#rc-panel-lang-picker").onchange=()=>{e.newLanguage(document.querySelector("#rc-panel-lang-picker").value),e.resetPanel()}}},3699:()=>{},1633:()=>{},1686:()=>{},9375:()=>{},8987:()=>{},4075:()=>{},4686:()=>{},2700:()=>{},8364:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.nc=void 0;var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>v$});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{assertParamsValid:()=>Am,computeFlatOffset:()=>zm,computeOutShape:()=>km,getNormalizedAxes:()=>Im,isSliceContinous:()=>Bm,maskToAxes:()=>xm,parseSliceParams:()=>Rm,sliceInfo:()=>Mm,startForAxis:()=>_m,startIndicesWithElidedDims:()=>Tm,stopForAxis:()=>Om,stopIndicesWithElidedDims:()=>Nm,stridesForAxis:()=>Dm,stridesWithElidedDims:()=>Cm});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{collectGatherOpShapeInfo:()=>Cw,computeOutShape:()=>kw,segOpComputeOptimalWindowSize:()=>xw});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{ERF_A1:()=>Ub,ERF_A2:()=>jb,ERF_A3:()=>Gb,ERF_A4:()=>qb,ERF_A5:()=>$b,ERF_P:()=>Wb,PARALLELIZE_THRESHOLD:()=>Ib,SELU_SCALE:()=>Vb,SELU_SCALEALPHA:()=>Lb,applyActivation:()=>gy,assertAndGetBroadcastShape:()=>vm,assertAxesAreInnerMostDims:()=>fg,assertParamsConsistent:()=>Sb,assignToTypedArray:()=>Qb,axesAreInnerMostDims:()=>hg,calculateShapes:()=>Pb,checkEinsumDimSizes:()=>sw,checkPadOnDimRoundingMode:()=>ff,combineLocations:()=>dg,complexWithEvenIndex:()=>Zb,complexWithOddIndex:()=>Xb,computeConv2DInfo:()=>af,computeConv3DInfo:()=>sf,computeDefaultPad:()=>of,computeDilation2DInfo:()=>tf,computeOptimalWindowSize:()=>Tb,computeOutAndReduceShapes:()=>pg,computeOutShape:()=>Eb,computePool2DInfo:()=>nf,computePool3DInfo:()=>rf,convertConv2DDataFormat:()=>mf,decodeEinsumEquation:()=>rw,eitherStridesOrDilationsAreOne:()=>pf,expandShapeToKeepDim:()=>mg,exponent:()=>ew,exponents:()=>Jb,fromStringArrayToUint8:()=>Ew,fromUint8ToStringArray:()=>Sw,getAxesPermutation:()=>gg,getBroadcastDims:()=>bm,getComplexWithIndex:()=>Yb,getEinsumComputePath:()=>iw,getEinsumPermutation:()=>aw,getFusedBiasGradient:()=>fy,getFusedDyActivation:()=>my,getImageCenter:()=>Nb,getInnerMostAxes:()=>bg,getPermuted:()=>_b,getReductionAxes:()=>wm,getReshaped:()=>Db,getReshapedPermuted:()=>Ob,getSliceBeginCoords:()=>Bb,getSliceSize:()=>zb,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>cw,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>hw,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>dw,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>fw,getSparseReshapeInputOutputMismatchErrorMessage:()=>yw,getSparseReshapeInputOutputMultipleErrorMessage:()=>gw,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>pw,getSparseReshapeNegativeOutputDimErrorMessage:()=>mw,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>Aw,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>bw,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>ww,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>vw,getUndoAxesPermutation:()=>yg,isIdentityPermutation:()=>ow,log:()=>sd,mergeRealAndImagArrays:()=>Hb,prepareAndValidate:()=>Rb,prepareSplitSize:()=>uw,segment_util:()=>t,shouldFuse:()=>yy,slice_util:()=>e,splitRealAndImagArrays:()=>Kb,tupleValuesAreOne:()=>df,upcastType:()=>ep,validateInput:()=>Fb,validateUpdateShape:()=>Mb,warn:()=>ad});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{addImpl:()=>YT,bincountImpl:()=>jN,bincountReduceImpl:()=>GN,ceilImpl:()=>HN,concatImpl:()=>JN,equalImpl:()=>MD,expImpl:()=>HD,expm1Impl:()=>QD,floorImpl:()=>f_,gatherNdImpl:()=>k_,gatherV2Impl:()=>S_,greaterEqualImpl:()=>D_,greaterImpl:()=>I_,lessEqualImpl:()=>j_,lessImpl:()=>V_,linSpaceImpl:()=>$_,logImpl:()=>K_,maxImpl:()=>uO,maximumImpl:()=>dO,minimumImpl:()=>xO,multiplyImpl:()=>TD,negImpl:()=>OO,notEqualImpl:()=>VO,prodImpl:()=>JO,rangeImpl:()=>tB,rsqrtImpl:()=>pB,sigmoidImpl:()=>PT,simpleAbsImpl:()=>iN,sliceImpl:()=>LN,sparseFillEmptyRowsImpl:()=>BB,sparseReshapeImpl:()=>RB,sparseSegmentReductionImpl:()=>FB,sqrtImpl:()=>UB,squaredDifferenceImpl:()=>$B,stridedSliceImpl:()=>YB,stringNGramsImpl:()=>ez,stringSplitImpl:()=>rz,stringToHashBucketFastImpl:()=>sz,subImpl:()=>a_,tileImpl:()=>cz,topKImpl:()=>mz,transposeImpl:()=>pN,uniqueImpl:()=>Az});var a=__webpack_require__(1795),s=__webpack_require__.n(a);const i=["tall","short","up","fancy","busy","loud","crazy","kind","nice","real","speedy","handy","active","alert","bold","brave","bright","calm","clever","cool","free","grand","great","happy","jolly","lucky","spicy","sunny","super","wise","warm","large"],o=["bat","bear","bird","cat","cow","deer","dog","dove","dragon","duck","eagle","fish","fox","frog","goose","lion","mouse","owl","pig","rat","seal","shark","sheep","snake","spider","tiger","turkey","viper","whale","wolf","onion","carrot","pear","bean","corn","bread","apple","banana","fig","grape","lemon","lime","orange","peach","plum","dumpling","cake","pasta","pot","sushi","coconut","pizza","burger","hotpot","sandwich","steak","soup","taco","tortilla","watermelon","yogurt","zucchini","noodles","beach","forest","mountain","ocean","plain","river","sea","swamp","valley","cave","cavern","creek","dungeon","island","jungle","marsh"],l=["blue","bronze","fire","forest","gold","gray","green","navy","purple","red","silver","sky","yellow","neon","black","white","brown","aqua","cyan","turquoise","teal","magenta","pink","rose","violet","indigo","lime","olive","maroon","orange","puce","salmon","tan","wheat","beige","coral","khaki","mauve","plum","sage","sienna","almond","apricot","coconut","colorless"];function u(e){return e[Math.floor(Math.random()*e.length)]}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(){const e="000"+(new Date).getMilliseconds().toString();return c(u(i))+c(u(l))+c(u(o))+e.substring(e.length-3)}var d=__webpack_require__(8756),p=__webpack_require__(4769),m=__webpack_require__(2940);function f(e){const t=Object.keys(m.C.EE_languageNameNative);if(t.includes(e))return g(e);const n=[];t.forEach((e=>{n.push(e.split("-")[0])}));const r=e.split("-")[0].toLowerCase();return n.includes(r)?g(t[n.indexOf(r)]):g("en-US")}function g(e){return{value:{language:e,languageNameEnglish:m.C.EE_languageNameEnglish[e],languageNameNative:m.C.EE_languageNameNative[e],languageDirection:m.C.EE_languageDirection[e],languagePhraseSource:m.C.EE_phraseSource[e]},timestamp:performance.now()}}function y(e){return"1"===m.C.EE_languageUseSpace[e]?" ":""}var b=__webpack_require__(9590),w=__webpack_require__.n(b);class v{constructor(){window.console.log(`%c\nEasyEyes Remote Calibrator ${this.version.value}\n`,`color: ${this._CONST.COLOR.ORANGE}`),this._initialized=!1,this._id=null,this._lang=null,this._langData=[],this._panelStatus={hasPanel:!1,panelFinished:!1,panelResolveIntervals:[]},this._panel={panel:null,panelObserver:null,panelTasks:[],panelParent:null,panelOptions:{},panelCallback:null,panelResolve:null},this._participantCheckEquipment={has:null,equipment:null,unit:null},this._trackingSetupFinishedStatus={gaze:!0,distance:!0},this._trackingPaused={gaze:!1,distance:!1},this._trackingVideoFrameTimestamps={gaze:0,distance:0},this._distanceTrackNudging={distanceCorrecting:null,distanceCorrectEnabled:!1,distanceDesired:null,distanceAllowedRatio:null},this._gazeTrackNudging={isCorrectingGaze:!1},this._environmentData=[],this._displayData=[],this._screenData=[],this._viewingDistanceData=[],this._nearPointData=[],this._PDData=[],this._gazePositionData=[],this._gazeAccuracyData=[],this._performanceData=[],this._fullscreenData=[],this._equipmentData=[],this._checkData=[],this._background={element:null,instructionElement:null},this._nudger={element:null,gazeElement:null},this._params={backgroundColor:"#eee",videoOpacity:.8,showCancelButton:!0}}get background(){return this._background.element}get instructionElement(){return this._background.instructionElement}get nudger(){return this._nudger.element}get params(){return this._params}get id(){return this._id?{value:this._id.value,timestamp:this._id.timestamp,date:this._id.date}:null}_helper_get(e,t){if(!e.length)return null;let n=e[e.length-1];return t?{value:n.value[t],timestamp:n.timestamp}:n}get version(){return{value:"0.6.3-beta.2"}}get supportedLanguages(){const e=[];for(let t in m.C.EE_languageNameEnglish)e.push({language:t,languageNameEnglish:m.C.EE_languageNameEnglish[t],languageNameNative:m.C.EE_languageNameNative[t]});return e}get L(){return this._lang}get LD(){return this.languageDirection.value}get language(){return this._helper_get(this._langData,"language")}get languageNameEnglish(){return this._helper_get(this._langData,"languageNameEnglish")}get languageNameNative(){return this._helper_get(this._langData,"languageNameNative")}get languageDirection(){return this._helper_get(this._langData,"languageDirection")}get languagePhraseSource(){return this._helper_get(this._langData,"languagePhraseSource")}get computeArrayFillMHz(){return this._helper_get(this._performanceData,"computeArrayFillMHz")}get computeRandomMHz(){return this._helper_get(this._performanceData,"computeRandomMHz")}get idealFps(){return this._helper_get(this._performanceData,"idealFps")}get stressFps(){return this._helper_get(this._performanceData,"stressFps")}get isFullscreen(){return this.fullscreenData.length&&w()((0,p.rm)(),this._helper_get(this._fullscreenData).value)||(this.newFullscreenData={value:(0,p.rm)(),timestamp:performance.now()}),this._helper_get(this._fullscreenData)}get concurrency(){return this._helper_get(this._environmentData,"concurrency")}get browser(){return this._helper_get(this._environmentData,"browser")}get browserVersion(){return this._helper_get(this._environmentData,"browserVersion")}get deviceType(){return this._helper_get(this._environmentData,"deviceType")}get isMobile(){const e=this._helper_get(this._environmentData,"deviceType");return{value:"desktop"!==e.value,timestamp:e.timestamp}}get model(){return this._helper_get(this._environmentData,"model")}get manufacturer(){return this._helper_get(this._environmentData,"manufacturer")}get engine(){return this._helper_get(this._environmentData,"engine")}get system(){return this._helper_get(this._environmentData,"system")}get systemFamily(){return this._helper_get(this._environmentData,"systemFamily")}get description(){return this._helper_get(this._environmentData,"description")}get fullDescription(){return this._helper_get(this._environmentData,"fullDescription")}get userLanguage(){return this._helper_get(this._environmentData,"userLanguage")}get equipment(){return this._helper_get(this._equipmentData)}get displayWidthPx(){return this._displaySize(),this._helper_get(this._displayData,"displayWidthPx")}get displayHeightPx(){return this._displaySize(),this._helper_get(this._displayData,"displayHeightPx")}get windowWidthPx(){return this._displaySize(),this._helper_get(this._displayData,"windowWidthPx")}get windowHeightPx(){return this._displaySize(),this._helper_get(this._displayData,"windowHeightPx")}get screenWidthCm(){return this._helper_get(this._screenData,"screenWidthCm")}get screenHeightCm(){return this._helper_get(this._screenData,"screenHeightCm")}get screenDiagonalCm(){return this._helper_get(this._screenData,"screenDiagonalCm")}get screenDiagonalIn(){return this._helper_get(this._screenData,"screenDiagonalIn")}get screenPpi(){return this._helper_get(this._screenData,"screenPpi")}get screenPhysicalPpi(){return this._helper_get(this._screenData,"screenPhysicalPpi")}get viewingDistanceCm(){return this._helper_get(this._viewingDistanceData)}get nearPointCm(){return this._helper_get(this._nearPointData)}get PDCm(){return this._helper_get(this._PDData)}get gazePositionPx(){return this._helper_get(this._gazePositionData)}get gazeAccuracyDeg(){return this._helper_get(this._gazeAccuracyData)}get displayData(){return this._displayData}get screenData(){return this._screenData}get viewingDistanceData(){return this._viewingDistanceData}get nearPointData(){return this._nearPointData}get PDData(){return this._PDData}get gazeData(){return this._gazePositionData}get performanceData(){return this._performanceData}get fullscreenData(){return this._fullscreenData}get environmentData(){return this._environmentData}get languageData(){return this._langData}get equipmentData(){return this._equipmentData}get checkData(){return this._checkData}set newDisplayData(e){this._displayData.push(e)}set newScreenData(e){this._screenData.push(e)}set newViewingDistanceData(e){this._viewingDistanceData.push(e)}set newNearPointData(e){this._nearPointData.push(e)}set newPDData(e){this._PDData.push(e)}set newGazePositionData(e){this._gazePositionData.push(e)}set newGazeAccuracyData(e){this._gazeAccuracyData.push(e)}set newEnvironmentData(e){this._environmentData.push(e)}set newPerformanceData(e){this._performanceData.push(e)}set newFullscreenData(e){this._fullscreenData.push(e)}set newLanguageData(e){this._langData.push(e)}set newEquipmentData(e){this._equipmentData.push(e)}set newCheckData(e){this._checkData.push(e)}}v.prototype.init=function(e={},t){this._initialized||(this._initialized=!0,(e=Object.assign({id:h(),language:"AUTO",fullscreen:!1},e)).fullscreen&&!d.f&&(0,p.Wx)(),this._id={value:e.id,timestamp:performance.now(),date:new Date},this._environment(),this._displaySize(),this._CONST.S.AUTO===e.language?this.newLanguageData=f(this.userLanguage.value):this.newLanguageData=f(e.language),this._lang=this.language.value,(0,p.p1)(t,this._id))},v.prototype._environment=function(){if(this.checkInitialized()){(0,p.Fh)();const e=e=>e.match(/Mobi/i)?"mobile":"desktop",t={value:{concurrency:window.navigator.hardwareConcurrency||-1,browser:s().name,browserVersion:s().version,deviceType:e(navigator.userAgent),model:s().product||"unknown",manufacturer:s().manufacturer||"unknown",engine:s().layout,system:`${s().os.family} ${s().os.version}`,systemFamily:s().os.family,description:s().description,fullDescription:s().ua,userLanguage:window.navigator.userLanguage||window.navigator.language},timestamp:this.id.timestamp};this.newEnvironmentData=t}},v.prototype.checkInitialized=function(){return!!this._initialized},v.prototype.getFullscreen=function(e=!0){return!!(0,p.rm)()||(this.newFullscreenData={value:!(!e||d.f)&&(0,p.Wx)(),timestamp:performance.now()},this.isMobile.value&&window.scrollBy(0,1),this.isFullscreen)},v.prototype.newLanguage=function(e){if(this.checkInitialized()){let t;return this.newLanguageData=t=f(e),this._lang=this.language.value,t}},v.prototype._addBackground=function(e){if(null!==this.background)return;let t=document.getElementById("calibration-background");return t||(t=document.createElement("div"),t.id="calibration-background",t.className=`calibration-background rc-lang-${this.LD.toLowerCase()}`,document.body.classList.add("lock-view"),document.body.appendChild(t),t.style.background=this.params.backgroundColor),e&&(t.innerHTML=e),this._background.element=t,this.background},v.prototype._replaceBackground=function(e){return null!==this.background&&this._removeBackground(),this._addBackground(e)},v.prototype._removeBackground=function(){let e=document.getElementById("calibration-background");return!!e&&(document.body.classList.remove("lock-view"),document.body.removeChild(e),this._background={element:null,instructionElement:null},!0)},v.prototype._addBackgroundText=function(e,t){let n=this.background.getElementsByClassName("calibration-instruction");for(let e=0;e<n.length;e++)this.background.removeChild(n[e]);this.background.innerHTML=(0,p.SG)(e,t)},v.prototype._constructFloatInstructionElement=function(e=null,t){if(null===this.background&&this._addBackground(),null!==this.instructionElement){if(this.instructionElement.id===e)return;this.background.removeChild(this.instructionElement),this._background.instructionElement=null}const n=document.createElement("p");return n.className="float-instruction",n.id=e||"float-instruction",n.innerHTML=t,this.background.appendChild(n),this._background.instructionElement=n},v.prototype._setFloatInstructionElementPos=function(e,t=16){const n=this.instructionElement.getBoundingClientRect();this.instructionElement.style.bottom=`calc(50% + ${t+10}px)`,this.instructionElement.style.textAlign="left",this.instructionElement.style.fontSize="1.1em","left"===e?(this.instructionElement.style.left=`max(10%, ${n.width/2}px)`,this.instructionElement.style.right="unset",this.instructionElement.style.transform=`translate(${-n.width/2}px, 0)`):"right"===e?(this.instructionElement.style.right=`max(10%, ${n.width/2}px)`,this.instructionElement.style.left="unset",this.instructionElement.style.transform=`translate(${n.width/2}px, 0)`):(this.instructionElement.style.left="50%",this.instructionElement.style.right="unset",this.instructionElement.style.top="unset",this.instructionElement.style.transform="translate(-50%, 0)",this.instructionElement.style.textAlign="center")},v.prototype._removeFloatInstructionElement=function(){return!!this.instructionElement&&(this.background.removeChild(this.instructionElement),this._background.instructionElement=null,this.background)},v.prototype._addCreditOnBackground=function(e){null===this.background&&this._addBackground();const t=document.createElement("p");return t.className="calibration-credit-text",t.id="calibration-credit-text",t.innerHTML=e,this.background.appendChild(t),t};const A=v;A.prototype._CONST=Object.freeze({N:{VIDEO_W:{DESKTOP:208,MOBILE:144},VIDEO_MARGIN:"10px",GAZE_CALIBRATION:{R:40,MARGIN:32,BORDER:8,CENTER_EXTRA_CHECK_OFFSET:2,MID_EXTRA_CHECK_OFFSET:6},PPI_DONT_USE:127.7,PD_DONT_USE:6.4,VIEW_DIST_DONT_USE:40},S:{AUTO:"AUTO",CLICK_TYPE:{MOUSE:"mouse",TOUCH:"touch"}},COLOR:{LIGHT_GREY:"#cccccc",ORANGE:"#ff9a00",DARK_RED:"#ac0d0d",RED:"#ee0000"},LTR:"LTR",RTL:"RTL",VIEW_METHOD:{B:"BlindSpot",F:"FaceMesh",T:"TurnAround"},IN_TO_CM:2.54,UNITS:{CM:"cm",IN_D:"inDecimal",IN_F:"inFractional"}}),A.prototype._debuggerDefault=Object.freeze({date:new Date("July 20, 69 20:17:40 GMT+00:00"),timestamp:performance.now(),screenSize:{value:{screenWidthCm:28.6,screenHeightCm:17.9,screenPhysicalPpi:250,screenPpi:125,screenDiagonalCm:33.8,screenDiagonalIn:13.3}},measureDistance:{value:40,method:"BlindSpot"},trackDistance:{value:{viewingDistanceCm:40,PDCm:6.4,nearPointCm:{x:0,y:0},latencyMs:50},method:"FaceMesh"},trackGaze:{value:{x:screen.width/2,y:screen.height/2,latencyMs:50}},performance:{value:{computeArrayFillMHz:(0,p.lt)(.5,3),computeRandomMHz:(0,p.lt)(5,3),idealFps:60,stressFps:60}}});var x=__webpack_require__(3443),k=__webpack_require__.n(x),C=__webpack_require__(9731),S=__webpack_require__.n(C),E=__webpack_require__(3304),I=__webpack_require__.n(E),T=__webpack_require__(8669),N=__webpack_require__.n(T);const D=(e,t)=>{e.style.top=Math.round(t.querySelector(".calibration-instruction").getBoundingClientRect().bottom)+25+"px"},_=e=>{const t=e.value/e.max;e.style.background=`linear-gradient(90deg, #ffc772, #ffc772 ${100*t}%, #fff ${100*t}%)`};var O=__webpack_require__(7870),B=__webpack_require__(6024);A.prototype._displaySize=function(){if(!this.checkInitialized())return;const e={value:{displayWidthPx:screen.width,displayHeightPx:screen.height,windowWidthPx:window.innerWidth,windowHeightPx:window.innerHeight},timestamp:performance.now()};this.displayData.length&&w()(e.value,this.displayData[this.displayData.length-1].value)||(this.newDisplayData=e)};const z={card:k(),arrow:S(),usba:I(),usbc:N()},R={card:3.375,usba:.787402,usbc:.787402};A.prototype.screenSize=function(e={},t){this.checkInitialized()&&((0,p.Fh)(),e=Object.assign({fullscreen:!1,repeatTesting:1,decimalPlace:1,defaultObject:"card",headline:" "+m.C.RC_screenSizeTitle[this.L],description:m.C.RC_screenSizeIntro[this.L],check:!1,checkCallback:null},e),this.getFullscreen(e.fullscreen),["usba","usbc","card"].includes(e.defaultObject)||(e.defaultObject="card"),e.description+=`<br /><br /><b class="rc-size-obj-selection">${m.C.RC_screenSizeHave[this.L].replace("xxx",`<select id="matching-obj"><option value="usba"${"usba"===e.defaultObject?" selected":""}>${m.C.RC_screenSizeUSBA[this.L]}</option><option value="usbc"${"usbc"===e.defaultObject?" selected":""}>${m.C.RC_screenSizeUSBC[this.L]}</option><option value="card"${"card"===e.defaultObject?" selected":""}>${m.C.RC_screenSizeCreditCard[this.L]}</option></select>`)}</b>`,this._addBackground(),this._addBackgroundText(e.headline,e.description),this._addCreditOnBackground(m.C.RC_screenSizeCredit[this.L]),function(e,t,n,r){const a=((e,t,n)=>{const r=document.createElement("input");return r.id="rc-size-slider",r.className="rc-slider",r.type="range",r.min=t,r.max=n,r.value=Math.max(Math.min(Math.round(100*Math.random()),80),20),r.step=.1,D(r,e),_(r),e.appendChild(r),r})(t,0,100),s=(t,n)=>{if("rc-slider"===t.target.className&&"rc-size-slider"===t.target.id&&(n===e._CONST.S.CLICK_TYPE.MOUSE&&1===t.which||n===e._CONST.S.CLICK_TYPE.TOUCH)){t.target.style.cursor="grabbing",c.setAttribute("fill",e._CONST.COLOR.ORANGE);const r=()=>{a.style.cursor="grab",c.setAttribute("fill",e._CONST.COLOR.LIGHT_GREY),document.removeEventListener("mouseup",r,!1)};n===e._CONST.S.CLICK_TYPE.MOUSE?document.addEventListener("mouseup",r,!1):n===e._CONST.S.CLICK_TYPE.TOUCH&&document.addEventListener("touchend",r,!1)}},i=e=>{s(e,"mouse")},o=e=>{s(e,"touch")};document.addEventListener("mousedown",i,!1),document.addEventListener("touchstart",o,!1);const l=P(["card","arrow","usba","usbc"],t);let u=n.defaultObject;document.getElementById("matching-obj").addEventListener("change",(e=>{L(e.target.value,l,d),u=e.target.value})),L("card",l);let c=document.getElementById("size-arrow-fill");c.setAttribute("fill",e._CONST.COLOR.LIGHT_GREY);let h={width:l.arrow.getBoundingClientRect().width,height:l.arrow.getBoundingClientRect().height};const d=()=>{M(e,a,l.card,l.arrow,h),F(a,l.usba),F(a,l.usbc)};d();const m=()=>{_(a),d()},f=new ResizeObserver((()=>{d(),D(a,t),W(l,a)}));f.observe(t);const g=()=>{document.removeEventListener("mousedown",i,!1),document.removeEventListener("touchstart",o,!1),document.removeEventListener("input",m,!1),f.unobserve(t),e._removeBackground(),(0,O.j)(b)},y=()=>{let t=(l[u].getBoundingClientRect().width||parseInt(l[u].style.width))/R[u];const a=n.decimalPlace,s=V(t,a);e.newScreenData=s,g(),n.check?e._checkScreenSize(r,s,n.checkCallback):(0,p.p1)(r,s)};a.addEventListener("input",m,!1);const b=(0,O.P)({Escape:g,Enter:y," ":y});(0,B.A)(e.L,e.background,{go:y,cancel:g},e.params.showCancelButton),L(u,l,d)}(this,this.background,e,t))};const M=(e,t,n,r,a)=>{const s=(t.offsetWidth-30)*(t.value/100)*(window.innerWidth<480?2:1)+15;n.style.width=s+"px";let i=n.getBoundingClientRect();0!==i.width&&(r.style.left=i.left+s+"px",r.style.top=i.top+e.background.scrollTop+(.63*s-a.height)/2+"px")},F=(e,t)=>{t.style.width=(0,p.a2)(Math.pow(e.value,1.5),0,1e3,50,400)+"px"},P=(e,t)=>{let n=document.getElementsByClassName("size-obj");for(;n.length;)n[0].parentNode.removeChild(n[0]);const r={};for(let n of e){let e=document.createElement("div");t.appendChild(e),e.outerHTML=z[n],e=document.getElementById("size-"+n),e.setAttribute("preserveAspectRatio","none"),e.style.visibility="hidden",r[n]=e}return W(r,document.querySelector("#rc-size-slider")),r},L=(e,t,n)=>{for(let n in t)t[n].style.visibility=n===e?"visible":"hidden";t.arrow.style.visibility="hidden",(0,p.p1)(n)},V=(e,t)=>{const n={value:{screenWidthCm:(0,p.lt)(2.54*window.screen.width/e,t),screenHeightCm:(0,p.lt)(2.54*window.screen.height/e,t),screenPhysicalPpi:(0,p.lt)(e*window.devicePixelRatio,t),screenPpi:(0,p.lt)(e,t)},timestamp:performance.now()};return n.value.screenDiagonalCm=(0,p.lt)(Math.hypot(n.value.screenWidthCm,n.value.screenHeightCm),t),n.value.screenDiagonalIn=(0,p.lt)(n.value.screenDiagonalCm/2.54,t),n},W=(e,t)=>{for(let n in e)e[n].style.top=t.getBoundingClientRect().top+50+"px"},U=32,j=(e,t)=>"left"===e?.1*t:.9*t;function G(e,t,n){e.fillStyle="#000",e.fillRect(t-16,n-1,U,3),e.fillRect(t-1,n-16,3,U)}function q(e,t,n){return"left"===e?[t+31,n-15]:[15,t-31]}const $="14.7.77",H=(e,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}),K=(e,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:e}),Z=(e,t)=>({startTime:t,type:"setValue",value:e}),X=(e,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:e}),Y=(e,t,{startTime:n,target:r,timeConstant:a})=>r+(t-r)*Math.exp((n-e)/a),Q=e=>"exponentialRampToValue"===e.type,J=e=>"linearRampToValue"===e.type,ee=e=>Q(e)||J(e),te=e=>"setValue"===e.type,ne=e=>"setValueCurve"===e.type,re=(e,t,n,r)=>{const a=e[t];return void 0===a?r:ee(a)||te(a)?a.value:ne(a)?a.values[a.values.length-1]:Y(n,re(e,t-1,a.startTime,r),a)},ae=(e,t,n,r,a)=>void 0===n?[r.insertTime,a]:ee(n)?[n.endTime,n.value]:te(n)?[n.startTime,n.value]:ne(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,re(e,t-1,n.startTime,a)],se=e=>"cancelAndHold"===e.type,ie=e=>"cancelScheduledValues"===e.type,oe=e=>se(e)||ie(e)?e.cancelTime:Q(e)||J(e)?e.endTime:e.startTime,le=(e,t,n,{endTime:r,value:a})=>n===a?a:0<n&&0<a||n<0&&a<0?n*(a/n)**((e-t)/(r-t)):0,ue=(e,t,n,{endTime:r,value:a})=>n+(e-t)/(r-t)*(a-n),ce=(e,{duration:t,startTime:n,values:r})=>((e,t)=>{const n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]})(r,(e-n)/t*(r.length-1)),he=e=>"setTarget"===e.type;class de{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=oe(e);if(se(e)||ie(e)){const n=this._automationEvents.findIndex((n=>ie(e)&&ne(n)?n.startTime+n.duration>=t:oe(n)>=t)),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),se(e)){const e=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&ee(r)){if(he(e))throw new Error("The internal list is malformed.");const n=ne(e)?e.startTime+e.duration:oe(e),a=ne(e)?e.values[e.values.length-1]:e.value,s=Q(r)?le(t,n,a,r):ue(t,n,a,r),i=Q(r)?H(s,t,this._currenTime):K(s,t,this._currenTime);this._automationEvents.push(i)}void 0!==e&&he(e)&&this._automationEvents.push(Z(this.getValue(t),t)),void 0!==e&&ne(e)&&e.startTime+e.duration>t&&(this._automationEvents[this._automationEvents.length-1]=X(new Float32Array([6,7]),e.startTime,t-e.startTime))}}else{const n=this._automationEvents.findIndex((e=>oe(e)>t)),r=-1===n?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[n-1];if(void 0!==r&&ne(r)&&oe(r)+r.duration>t)return!1;const a=Q(e)?H(e.value,e.endTime,this._currenTime):J(e)?K(e.value,t,this._currenTime):e;if(-1===n)this._automationEvents.push(a);else{if(ne(e)&&t+e.duration>oe(this._automationEvents[n]))return!1;this._automationEvents.splice(n,0,a)}}return!0}flush(e){const t=this._automationEvents.findIndex((t=>oe(t)>e));if(t>1){const e=this._automationEvents.slice(t-1),n=e[0];he(n)&&e.unshift(Z(re(this._automationEvents,t-2,n.startTime,this._defaultValue),n.startTime)),this._automationEvents=e}}getValue(e){if(0===this._automationEvents.length)return this._defaultValue;const t=this._automationEvents.findIndex((t=>oe(t)>e)),n=this._automationEvents[t],r=(-1===t?this._automationEvents.length:t)-1,a=this._automationEvents[r];if(void 0!==a&&he(a)&&(void 0===n||!ee(n)||n.insertTime>e))return Y(e,re(this._automationEvents,r-1,a.startTime,this._defaultValue),a);if(void 0!==a&&te(a)&&(void 0===n||!ee(n)))return a.value;if(void 0!==a&&ne(a)&&(void 0===n||!ee(n)||a.startTime+a.duration>e))return e<a.startTime+a.duration?ce(e,a):a.values[a.values.length-1];if(void 0!==a&&ee(a)&&(void 0===n||!ee(n)))return a.value;if(void 0!==n&&Q(n)){const[t,s]=ae(this._automationEvents,r,a,n,this._defaultValue);return le(e,t,s,n)}if(void 0!==n&&J(n)){const[t,s]=ae(this._automationEvents,r,a,n,this._defaultValue);return ue(e,t,s,n)}return this._defaultValue}}const pe=new WeakSet,me=new WeakMap,fe=new WeakMap,ge=new WeakMap,ye=new WeakMap,be=new WeakMap,we=new WeakMap,ve=new WeakMap,Ae=new WeakMap,xe=new WeakMap,ke={construct:()=>ke},Ce=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Se=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),a=r.match(Ce);for(;null!==a;){const e=a[1].slice(1,-1),s=a[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(s),r=r.slice(a[0].length).replace(/^[\s]+/,""),a=r.match(Ce)}return[n.join(";"),r]},Ee=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Ie=e=>{if(!(e=>{try{new new Proxy(e,ke)}catch{return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!=typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},Te=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},Ne=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return e.delete(r),r},De=(e,t,n,r)=>{const a=Te(e,t),s=Ne(a,(e=>e[0]===n&&e[1]===r));return 0===a.size&&e.delete(t),s},_e=e=>Te(we,e),Oe=e=>{if(pe.has(e))throw new Error("The AudioNode is already stored.");pe.add(e),_e(e).forEach((e=>e(!0)))},Be=e=>"port"in e,ze=e=>{if(!pe.has(e))throw new Error("The AudioNode is not stored.");pe.delete(e),_e(e).forEach((e=>e(!1)))},Re=(e,t)=>{!Be(e)&&t.every((e=>0===e.size))&&ze(e)},Me={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Fe=(e,t)=>e.context===t,Pe=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Le=()=>new DOMException("","IndexSizeError"),Ve=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(e){if(12===e.code)throw Le();throw e}})},We={numberOfChannels:1},Ue=-34028234663852886e22,je=-Ue,Ge=e=>pe.has(e),qe={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},$e=e=>Te(me,e),He=e=>Te(ge,e),Ke=(e,t)=>{const{activeInputs:n}=$e(e);n.forEach((n=>n.forEach((([n])=>{t.includes(e)||Ke(n,[...t,e])}))));const r=(e=>"playbackRate"in e)(e)?[e.playbackRate]:Be(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e)(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const e of r){const n=He(e);void 0!==n&&n.activeInputs.forEach((([e])=>Ke(e,t)))}Ge(e)&&ze(e)},Ze=e=>{Ke(e.destination,[])},Xe=e=>void 0===e||"number"==typeof e||"string"==typeof e&&("balanced"===e||"interactive"===e||"playback"===e),Ye=e=>"context"in e,Qe=e=>Ye(e[0]),Je=(e,t,n,r)=>{for(const t of e)if(n(t)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},et=(e,t,[n,r],a)=>{Je(e,[t,n,r],(e=>e[0]===t&&e[1]===n),a)},tt=(e,[t,n,r],a)=>{const s=e.get(t);void 0===s?e.set(t,new Set([[n,r]])):Je(s,[n,r],(e=>e[0]===n),a)},nt=e=>"inputs"in e,rt=(e,t,n,r)=>{if(nt(t)){const a=t.inputs[r];return e.connect(a,n,0),[a,n,0]}return e.connect(t,n,r),[t,n,r]},at=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},st=(e,t)=>{if(!_e(e).delete(t))throw new Error("Missing the expected event listener.")},it=(e,t,n)=>{const r=Te(e,t),a=Ne(r,(e=>e[0]===n));return 0===r.size&&e.delete(t),a},ot=(e,t,n,r)=>{nt(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},lt=e=>Te(fe,e),ut=e=>Te(ye,e),ct=e=>ve.has(e),ht=e=>!pe.has(e),dt=(e,t)=>new Promise((n=>{if(null!==t)n(!0);else{const t=e.createScriptProcessor(256,1,1),r=e.createGain(),a=e.createBuffer(1,2,44100),s=a.getChannelData(0);s[0]=1,s[1]=1;const i=e.createBufferSource();i.buffer=a,i.loop=!0,i.connect(t).connect(e.destination),i.connect(r),i.disconnect(r),t.onaudioprocess=r=>{const a=r.inputBuffer.getChannelData(0);Array.prototype.some.call(a,(e=>1===e))?n(!0):n(!1),i.stop(),t.onaudioprocess=null,i.disconnect(t),t.disconnect(e.destination)},i.start()}})),pt=(e,t)=>{const n=new Map;for(const t of e)for(const e of t){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach(((e,n)=>t(n,e)))},mt=e=>"context"in e,ft=e=>{const t=new Map;e.connect=(e=>(n,r=0,a=0)=>{const s=mt(n)?e(n,r,a):e(n,r),i=t.get(n);return void 0===i?t.set(n,[{input:a,output:r}]):i.every((e=>e.input!==a||e.output!==r))&&i.push({input:a,output:r}),s})(e.connect.bind(e)),e.disconnect=(n=>(r,a,s)=>{if(n.apply(e),void 0===r)t.clear();else if("number"==typeof r)for(const[e,n]of t){const a=n.filter((e=>e.output!==r));0===a.length?t.delete(e):t.set(e,a)}else if(t.has(r))if(void 0===a)t.delete(r);else{const e=t.get(r);if(void 0!==e){const n=e.filter((e=>e.output!==a&&(e.input!==s||void 0===s)));0===n.length?t.delete(r):t.set(r,n)}}for(const[n,r]of t)r.forEach((t=>{mt(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)}))})(e.disconnect)},gt=(e,t,n,r)=>{const{activeInputs:a,passiveInputs:s}=He(t),{outputs:i}=$e(e),o=_e(e),l=i=>{const o=lt(e),l=ut(t);if(i){const t=it(s,e,n);et(a,e,t,!1),r||ct(e)||o.connect(l,n)}else{const t=((e,t,n)=>Ne(e,(e=>e[0]===t&&e[1]===n)))(a,e,n);tt(s,t,!1),r||ct(e)||o.disconnect(l,n)}};return!!Je(i,[t,n],(e=>e[0]===t&&e[1]===n),!0)&&(o.add(l),Ge(e)?et(a,e,[n,l],!0):tt(s,[e,n,l],!0),!0)},yt=(e,t,n,r,a)=>{const[s,i]=((e,t,n,r)=>{const{activeInputs:a,passiveInputs:s}=$e(t),i=at(a[r],e,n);if(null===i)return[De(s,e,n,r)[2],!1];return[i[2],!0]})(e,n,r,a);if(null!==s&&(st(e,s),!i||t||ct(e)||ot(lt(e),lt(n),r,a)),Ge(n)){const{activeInputs:e}=$e(n);Re(n,e)}},bt=(e,t,n,r)=>{const[a,s]=((e,t,n)=>{const{activeInputs:r,passiveInputs:a}=He(t),s=at(r,e,n);if(null===s)return[it(a,e,n)[1],!1];return[s[2],!0]})(e,n,r);null!==a&&(st(e,a),!s||t||ct(e)||lt(e).disconnect(ut(n),r))};class wt{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach(((n,r)=>e.call(t,n,r,this)))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const vt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function At(e,t,n,r,a){if("function"==typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],r,a);else{const s=e.getChannelData(r);if(0===t[n].byteLength)t[n]=s.slice(a,a+128);else{const e=new Float32Array(s.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const xt=(e,t,n,r,a)=>{"function"==typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],r,a):0!==t[n].byteLength&&e.getChannelData(r).set(t[n],a)},kt=(e,t)=>{const n=[];for(let r=0;r<e;r+=1){const e=[],a="number"==typeof t?t:t[r];for(let t=0;t<a;t+=1)e.push(new Float32Array(128));n.push(e)}return n},Ct=async(e,t,n,r,a,s,i)=>{const o=null===t?128*Math.ceil(e.context.length/128):t.length,l=r.channelCount*r.numberOfInputs,u=a.reduce(((e,t)=>e+t),0),c=0===u?null:n.createBuffer(u,o,n.sampleRate);if(void 0===s)throw new Error("Missing the processor constructor.");const h=$e(e),d=await((e,t)=>{const n=Te(xe,e),r=lt(t);return Te(n,r)})(n,e),p=kt(r.numberOfInputs,r.channelCount),m=kt(r.numberOfOutputs,a),f=Array.from(e.parameters.keys()).reduce(((e,t)=>({...e,[t]:new Float32Array(128)})),{});for(let u=0;u<o;u+=128){if(r.numberOfInputs>0&&null!==t)for(let e=0;e<r.numberOfInputs;e+=1)for(let n=0;n<r.channelCount;n+=1)At(t,p[e],n,n,u);void 0!==s.parameterDescriptors&&null!==t&&s.parameterDescriptors.forEach((({name:e},n)=>{At(t,f,e,l+n,u)}));for(let e=0;e<r.numberOfInputs;e+=1)for(let t=0;t<a[e];t+=1)0===m[e][t].byteLength&&(m[e][t]=new Float32Array(128));try{const e=p.map(((e,t)=>0===h.activeInputs[t].size?[]:e)),t=i(u/n.sampleRate,n.sampleRate,(()=>d.process(e,m,f)));if(null!==c)for(let e=0,t=0;e<r.numberOfOutputs;e+=1){for(let n=0;n<a[e];n+=1)xt(c,m[e],n,t+n,u);t+=a[e]}if(!t)break}catch(t){e.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}));break}}return c},St={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Et={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},It={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Tt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Nt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Dt=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise((r=>{const a=()=>{n.onmessage=null,t.close(),n.close(),r()};n.onmessage=()=>a();try{t.postMessage(e,[e])}finally{a()}}))},_t={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ot=(e,t,n)=>{const r=t[n];if(void 0===r)throw e();return r},Bt={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},zt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Rt=()=>new DOMException("","InvalidStateError"),Mt=()=>new DOMException("","InvalidAccessError"),Ft={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Pt=(e,t,n,r,a,s,i,o,l,u,c)=>{const h=u.length;let d=o;for(let o=0;o<h;o+=1){let h=n[0]*u[o];for(let t=1;t<a;t+=1){const r=d-t&l-1;h+=n[t]*s[r],h-=e[t]*i[r]}for(let e=a;e<r;e+=1)h+=n[e]*s[d-e&l-1];for(let n=a;n<t;n+=1)h-=e[n]*i[d-n&l-1];s[d]=u[o],i[d]=h,d=d+1&l-1,c[o]=h}return d},Lt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Vt=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Wt={numberOfChannels:1},Ut=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n]&&(e[n]=r)},jt=(e,t)=>{Ut(e,t,"channelCount"),Ut(e,t,"channelCountMode"),Ut(e,t,"channelInterpretation")},Gt=e=>"function"==typeof e.getFloatTimeDomainData,qt=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n].value&&(e[n].value=r)},$t=e=>{e.start=(t=>(n=0,r=0,a)=>{if("number"==typeof a&&a<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,a)})(e.start)},Ht=e=>{var t;e.stop=(t=e.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},Kt=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Zt=async(e,t)=>{const n=await(e=>new Promise(((t,n)=>{const{port1:r,port2:a}=new MessageChannel;r.onmessage=({data:e})=>{r.close(),a.close(),t(e)},r.onmessageerror=({data:e})=>{r.close(),a.close(),n(e)},a.postMessage(e)})))(t);return new e(n)},Xt=(e,t)=>{const n=e.createBiquadFilter();return jt(n,t),qt(n,t,"Q"),qt(n,t,"detune"),qt(n,t,"frequency"),qt(n,t,"gain"),Ut(n,t,"type"),n},Yt=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return jt(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Rt()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Rt()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Rt()}})})(n),n},Qt=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Jt=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return jt(n,t),qt(n,t,"delayTime"),n},en=(e,t)=>{const n=e.createGain();return jt(n,t),qt(n,t,"gain"),n};function tn(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function nn(e,t){let n=[0,0];for(let s=e.length-1;s>=0;s-=1)a=t,n=[(r=n)[0]*a[0]-r[1]*a[1],r[0]*a[1]+r[1]*a[0]],n[0]+=e[s];var r,a;return n}const rn=(e,t,n,r)=>e.createScriptProcessor(t,n,r),an=()=>new DOMException("","NotSupportedError"),sn={numberOfChannels:1},on={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},ln={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},un={disableNormalization:!1},cn={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},hn=()=>new DOMException("","UnknownError"),dn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},pn=(e,t,n)=>void 0===e.copyFromChannel?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),mn=e=>{if(null===e)return!1;const t=e.length;return t%2!=0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},fn=(e,t,n,r)=>{let a=e;for(;!a.hasOwnProperty(t);)a=Object.getPrototypeOf(a);const{get:s,set:i}=Object.getOwnPropertyDescriptor(a,t);Object.defineProperty(e,t,{get:n(s),set:r(i)})},gn=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(9!==r.code)throw r;gn(e,t,n+1e-7)}},yn=e=>{const t=e.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},bn=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},wn=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},vn=(e,t)=>{const n=t.createGain();e.connect(n);const r=(t=>()=>{t.call(e,n),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),Qt(e,n),e.stop=(t=>{let r=!1;return(a=0)=>{if(r)try{t.call(e,a)}catch{n.gain.setValueAtTime(0,a)}else t.call(e,a),r=!0}})(e.stop)},An=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"==typeof t?t.call(e,n):t.handleEvent.call(e,n)},xn=(e=>(t,n,[r,a,s],i)=>{e(t[a],[n,r,s],(e=>e[0]===n&&e[1]===r),i)})(Je),kn=(e=>(t,n,[r,a,s],i)=>{const o=t.get(r);void 0===o?t.set(r,new Set([[a,n,s]])):e(o,[a,n,s],(e=>e[0]===a&&e[1]===n),i)})(Je),Cn=(e=>(t,n,r,a)=>e(t[a],(e=>e[0]===n&&e[1]===r)))(Ne),Sn=new WeakMap,En=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})(Sn),In=(Tn=new Map,Nn=new WeakMap,(e,t)=>{const n=Nn.get(e);if(void 0!==n)return n;const r=Tn.get(e);if(void 0!==r)return r;try{const n=t();return n instanceof Promise?(Tn.set(e,n),n.catch((()=>!1)).then((t=>(Tn.delete(e),Nn.set(e,t),t)))):(Nn.set(e,n),n)}catch{return Nn.set(e,!1),!1}});var Tn,Nn;const Dn="undefined"==typeof window?null:window,_n=((e,t)=>(n,r)=>{const a=n.createAnalyser();if(jt(a,r),!(r.maxDecibels>r.minDecibels))throw t();return Ut(a,r,"fftSize"),Ut(a,r,"maxDecibels"),Ut(a,r,"minDecibels"),Ut(a,r,"smoothingTimeConstant"),e(Gt,(()=>Gt(a)))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const r=Math.max(n.length,e.fftSize);for(let e=0;e<r;e+=1)t[e]=.0078125*(n[e]-128);return t}})(a),a})(In,Le),On=(e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})($e),Bn=((e,t,n)=>async(r,a,s)=>{const i=e(r);await Promise.all(i.activeInputs.map(((e,i)=>Array.from(e).map((async([e,o])=>{const l=t(e),u=await l.render(e,a),c=r.context.destination;n(e)||r===c&&n(r)||u.connect(s,o,i)})))).reduce(((e,t)=>[...e,...t]),[]))})($e,On,ct),zn=((e,t,n)=>()=>{const r=new WeakMap;return{render(a,s){const i=r.get(s);return void 0!==i?Promise.resolve(i):(async(a,s)=>{let i=t(a);if(!Fe(i,s)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,fftSize:i.fftSize,maxDecibels:i.maxDecibels,minDecibels:i.minDecibels,smoothingTimeConstant:i.smoothingTimeConstant};i=e(s,t)}return r.set(s,i),await n(a,s,i),i})(a,s)}}})(_n,lt,Bn),Rn=(Mn=be,e=>{const t=Mn.get(e);if(void 0===t)throw Rt();return t});var Mn;const Fn=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(Dn),Pn=(e=>t=>null!==e&&t instanceof e)(Fn),Ln=new WeakMap,Vn=(e=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(t,n,r){if(null!==n){let a=this._listeners.get(n);void 0===a&&(a=e(this,n),"function"==typeof n&&this._listeners.set(n,a)),this._nativeEventTarget.addEventListener(t,a,r)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const r=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===r?null:r,n)}})(An),Wn=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(Dn),Un=(e=>t=>null!==e&&t instanceof e)(Wn),jn=(e=>t=>null!==e&&"function"==typeof e.AudioNode&&t instanceof e.AudioNode)(Dn),Gn=(e=>t=>null!==e&&"function"==typeof e.AudioParam&&t instanceof e.AudioParam)(Dn),qn=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(Dn),$n=((e,t,n,r,a,s,i,o,l,u,c,h,d,p,m,f)=>class extends u{constructor(t,r,a,s){super(a),this._context=t,this._nativeAudioNode=a;const i=c(t);h(i)&&!0!==n(dt,(()=>dt(i,f)))&&ft(a),fe.set(this,a),we.set(this,new Set),"closed"!==t.state&&r&&Oe(this),e(this,s,a)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e,n=0,o=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw a();const u=c(this._context),h=m(u);if(d(e)||p(e))throw s();if(Ye(e)){const a=lt(e);try{const t=rt(this._nativeAudioNode,a,n,o),r=ht(this);(h||r)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!r&&ht(e)&&Oe(e)}catch(e){if(12===e.code)throw s();throw e}if(t(this,e,n,o,h)){const t=l([this],e);pt(t,r(h))}return e}const f=ut(e);if("playbackRate"===f.name&&1024===f.maxValue)throw i();try{this._nativeAudioNode.connect(f,n),(h||ht(this))&&this._nativeAudioNode.disconnect(f,n)}catch(e){if(12===e.code)throw s();throw e}if(gt(this,e,n,h)){const t=l([this],e);pt(t,r(h))}}disconnect(e,t,n){let r;const i=c(this._context),u=m(i);if(void 0===e)r=((e,t)=>{const n=$e(e),r=[];for(const a of n.outputs)Qe(a)?yt(e,t,...a):bt(e,t,...a),r.push(a[0]);return n.outputs.clear(),r})(this,u);else if("number"==typeof e){if(e<0||e>=this.numberOfOutputs)throw a();r=((e,t,n)=>{const r=$e(e),a=[];for(const s of r.outputs)s[1]===n&&(Qe(s)?yt(e,t,...s):bt(e,t,...s),a.push(s[0]),r.outputs.delete(s));return a})(this,u,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw a();if(Ye(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw a();if(r=((e,t,n,r,a)=>{const s=$e(e);return Array.from(s.outputs).filter((e=>!(e[0]!==n||void 0!==r&&e[1]!==r||void 0!==a&&e[2]!==a))).map((n=>(Qe(n)?yt(e,t,...n):bt(e,t,...n),s.outputs.delete(n),n[0])))})(this,u,e,t,n),0===r.length)throw s()}for(const e of r){const t=l([this],e);pt(t,o)}}})((Hn=me,(e,t,n)=>{const r=[];for(let e=0;e<n.numberOfInputs;e+=1)r.push(new Set);Hn.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,r,a,s,i,o,l,u,c,h,d)=>{const p=new WeakMap;return(m,f,g,y,b)=>{const{activeInputs:w,passiveInputs:v}=s(f),{outputs:A}=s(m),x=o(m),k=s=>{const o=l(f),u=l(m);if(s){const t=De(v,m,g,y);e(w,m,t,!1),b||h(m)||n(u,o,g,y),d(f)&&Oe(f)}else{const e=r(w,m,g,y);t(v,y,e,!1),b||h(m)||a(u,o,g,y);const n=i(f);if(0===n)c(f)&&Re(f,w);else{const e=p.get(f);void 0!==e&&clearTimeout(e),p.set(f,setTimeout((()=>{c(f)&&Re(f,w)}),1e3*n))}}};return!!u(A,[f,g,y],(e=>e[0]===f&&e[1]===g&&e[2]===y),!0)&&(x.add(k),c(m)?e(w,m,[g,y,k],!0):t(v,y,[m,g,k],!0),!0)}})(xn,kn,rt,Cn,ot,$e,En,_e,lt,Je,Ge,ct,ht),In,((e,t,n,r,a,s)=>i=>(o,l)=>{const u=e.get(o);if(void 0===u){if(!i&&s(o)){const e=r(o),{outputs:s}=n(o);for(const n of s)if(Qe(n)){const a=r(n[0]);t(e,a,n[1],n[2])}else{const t=a(n[0]);e.disconnect(t,n[1])}}e.set(o,l)}else e.set(o,u+l)})(ve,ot,$e,lt,ut,Ge),Le,Mt,an,((e,t,n,r,a,s,i,o)=>(l,u)=>{const c=t.get(l);if(void 0===c)throw new Error("Missing the expected cycle count.");const h=s(l.context),d=o(h);if(c===u){if(t.delete(l),!d&&i(l)){const t=r(l),{outputs:s}=n(l);for(const n of s)if(Qe(n)){const a=r(n[0]);e(t,a,n[1],n[2])}else{const e=a(n[0]);t.connect(e,n[1])}}}else t.set(l,c-u)})(rt,ve,$e,lt,ut,Rn,Ge,Pn),((e,t,n)=>function r(a,s){const i=Ye(s)?s:n(e,s);if((e=>"delayTime"in e)(i))return[];if(a[0]===i)return[a];if(a.includes(i))return[];const{outputs:o}=t(i);return Array.from(o).map((e=>r([...a,i],e[0]))).reduce(((e,t)=>e.concat(t)),[])})(Ln,$e,Te),Vn,Rn,Un,jn,Gn,Pn,qn);var Hn;const Kn=((e,t,n,r,a,s)=>class extends e{constructor(e,n){const i=a(e),o={...Me,...n},l=r(i,o);super(e,!1,l,s(i)?t():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})($n,zn,Le,_n,Rn,Pn),Zn=new WeakSet,Xn=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(Dn),Yn=(Qn=new Uint32Array(1),e=>(Qn[0]=e,Qn[0]));var Qn;const Jn=((e,t)=>n=>{n.copyFromChannel=(r,a,s=0)=>{const i=e(s),o=e(a);if(o>=n.numberOfChannels)throw t();const l=n.length,u=n.getChannelData(o),c=r.length;for(let e=i<0?-i:0;e+i<l&&e<c;e+=1)r[e]=u[e+i]},n.copyToChannel=(r,a,s=0)=>{const i=e(s),o=e(a);if(o>=n.numberOfChannels)throw t();const l=n.length,u=n.getChannelData(o),c=r.length;for(let e=i<0?-i:0;e+i<l&&e<c;e+=1)u[e+i]=r[e]}})(Yn,Le),er=(e=>t=>{t.copyFromChannel=(n=>(r,a,s=0)=>{const i=e(s),o=e(a);if(i<t.length)return n.call(t,r,o,i)})(t.copyFromChannel),t.copyToChannel=(n=>(r,a,s=0)=>{const i=e(s),o=e(a);if(i<t.length)return n.call(t,r,o,i)})(t.copyToChannel)})(Yn),tr=((e,t,n,r,a,s,i,o)=>{let l=null;return class u{constructor(u){if(null===a)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:c,numberOfChannels:h,sampleRate:d}={...We,...u};null===l&&(l=new a(1,1,44100));const p=null!==r&&t(s,s)?new r({length:c,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,c,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(i(p),Ve(p)):t(Pe,(()=>Pe(p)))||o(p),e.add(p),p}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===u.prototype||e.has(t)}}})(Zn,In,an,Xn,Fn,(e=>()=>{if(null===e)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0})(Xn),Jn,er),nr=(e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const a=()=>{n.removeEventListener("ended",a),n.disconnect(r),r.disconnect()};n.addEventListener("ended",a)})(en),rr=((e,t,n)=>async(r,a,s)=>{const i=t(r);await Promise.all(Array.from(i.activeInputs).map((async([t,r])=>{const i=e(t),o=await i.render(t,a);n(t)||o.connect(s,r)})))})(On,He,ct),ar=(e=>(t,n,r)=>e(n,t,r))(rr),sr=((e,t,n,r,a,s,i,o,l,u,c)=>(h,d)=>{const p=h.createBufferSource();return jt(p,d),qt(p,d,"playbackRate"),Ut(p,d,"buffer"),Ut(p,d,"loop"),Ut(p,d,"loopEnd"),Ut(p,d,"loopStart"),t(n,(()=>n(h)))||(e=>{e.start=(t=>{let n=!1;return(r=0,a=0,s)=>{if(n)throw Rt();t.call(e,r,a,s),n=!0}})(e.start)})(p),t(r,(()=>r(h)))||l(p),t(a,(()=>a(h)))||u(p,h),t(s,(()=>s(h)))||$t(p),t(i,(()=>i(h)))||c(p,h),t(o,(()=>o(h)))||Ht(p),e(h,p),p})(nr,In,(e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1}),(e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0}),(e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0}),yn,bn,wn,(e=>{e.start=(t=>(n=0,r=0,a)=>{const s=e.buffer,i=null===s?r:Math.min(s.duration,r);null!==s&&i>s.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,i,a)})(e.start)}),(e=>(t,n)=>{const r=n.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=r),e(t,"buffer",(e=>()=>{const n=e.call(t);return n===r?null:n}),(e=>n=>e.call(t,null===n?r:n)))})(fn),vn),ir=((e,t)=>(n,r,a)=>(e(r).replay(a),t(r,n,a)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(He),rr),or=((e,t,n,r,a)=>()=>{const s=new WeakMap;let i=null,o=null;return{set start(e){i=e},set stop(e){o=e},render(l,u){const c=s.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=Fe(c,u);if(!h){const e={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,loop:c.loop,loopEnd:c.loopEnd,loopStart:c.loopStart,playbackRate:c.playbackRate.value};c=t(u,e),null!==i&&c.start(...i),null!==o&&c.stop(o)}return s.set(u,c),h?await e(u,l.playbackRate,c.playbackRate):await r(u,l.playbackRate,c.playbackRate),await a(l,u,c),c})(l,u)}}})(ar,sr,lt,ir,Bn),lr=((e,t,n,r,a,s,i,o,l,u,c,h,d)=>(p,m,f,g=null,y=null)=>{const b=new de(f.defaultValue),w=m?r(b):null,v={get defaultValue(){return f.defaultValue},get maxValue(){return null===g?f.maxValue:g},get minValue(){return null===y?f.minValue:y},get value(){return f.value},set value(e){f.value=e,v.setValueAtTime(e,p.context.currentTime)},cancelAndHoldAtTime(e){if("function"==typeof f.cancelAndHoldAtTime)null===w&&b.flush(p.context.currentTime),b.add(a(e)),f.cancelAndHoldAtTime(e);else{const t=Array.from(b).pop();null===w&&b.flush(p.context.currentTime),b.add(a(e));const n=Array.from(b).pop();f.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?f.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?f.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?f.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&f.setValueCurveAtTime(n.values,n.startTime,n.duration))}return v},cancelScheduledValues:e=>(null===w&&b.flush(p.context.currentTime),b.add(s(e)),f.cancelScheduledValues(e),v),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;return null===w&&b.flush(p.context.currentTime),b.add(i(e,t)),f.exponentialRampToValueAtTime(e,t),v},linearRampToValueAtTime:(e,t)=>(null===w&&b.flush(p.context.currentTime),b.add(o(e,t)),f.linearRampToValueAtTime(e,t),v),setTargetAtTime:(e,t,n)=>(null===w&&b.flush(p.context.currentTime),b.add(l(e,t,n)),f.setTargetAtTime(e,t,n),v),setValueAtTime:(e,t)=>(null===w&&b.flush(p.context.currentTime),b.add(u(e,t)),f.setValueAtTime(e,t),v),setValueCurveAtTime(e,t,n){const r=e instanceof Float32Array?e:new Float32Array(e);if(null!==h&&"webkitAudioContext"===h.name){const e=t+n,a=p.context.sampleRate,s=Math.ceil(t*a),i=Math.floor(e*a),o=i-s,l=new Float32Array(o);for(let e=0;e<o;e+=1){const i=(r.length-1)/n*((s+e)/a-t),o=Math.floor(i),u=Math.ceil(i);l[e]=o===u?r[o]:(1-(i-o))*r[o]+(1-(u-i))*r[u]}null===w&&b.flush(p.context.currentTime),b.add(c(l,t,n)),f.setValueCurveAtTime(l,t,n);const u=i/a;u<e&&d(v,l[l.length-1],u),d(v,r[r.length-1],e)}else null===w&&b.flush(p.context.currentTime),b.add(c(r,t,n)),f.setValueCurveAtTime(r,t,n);return v}};return n.set(v,f),t.set(v,p),e(v,w),v})((ur=ge,(e,t)=>{ur.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),Ln,ye,(e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:r}=n;t.exponentialRampToValueAtTime(r,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:r}=n;t.linearRampToValueAtTime(r,e)}else if("setTarget"===n.type){const{startTime:e,target:r,timeConstant:a}=n;t.setTargetAtTime(r,e,a)}else if("setValue"===n.type){const{startTime:e,value:r}=n;t.setValueAtTime(r,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:r,values:a}=n;t.setValueCurveAtTime(a,r,e)}}}})),(e=>({cancelTime:e,type:"cancelAndHold"})),(e=>({cancelTime:e,type:"cancelScheduledValues"})),((e,t)=>({endTime:t,type:"exponentialRampToValue",value:e})),((e,t)=>({endTime:t,type:"linearRampToValue",value:e})),((e,t,n)=>({startTime:t,target:e,timeConstant:n,type:"setTarget"})),Z,X,Wn,gn);var ur;const cr=((e,t,n,r,a,s,i,o)=>class extends e{constructor(e,r){const o=s(e),l={...qe,...r},u=a(o,l),c=i(o),h=c?t():null;super(e,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,c,u.playbackRate,je,Ue)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"==typeof e?o(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(e=0,t=0,n){if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){Oe(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),Ge(this)&&ze(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})($n,or,lr,Rt,sr,Rn,Pn,An),hr=((e,t,n,r,a,s,i,o)=>class extends e{constructor(e,n){const r=s(e),l=i(r),u=a(r,n,l);super(e,!1,u,l?t(o):null),this._isNodeOfNativeOfflineAudioContext=l,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})($n,(e=>{const t=new WeakMap;return{render(n,r){const a=t.get(r);return void 0!==a?Promise.resolve(a):(async(n,r)=>{const a=r.destination;return t.set(r,a),await e(n,r,a),a})(n,r)}}}),Le,Rt,((e,t)=>(n,r,a)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}a&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:r});const i=e(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return t(i,"channelCount",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t);try{s.channelCount=t}catch(e){if(t>s.maxChannelCount)throw e}})),t(i,"channelCountMode",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t),s.channelCountMode=t})),t(i,"channelInterpretation",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t),s.channelInterpretation=t})),Object.defineProperty(i,"maxChannelCount",{get:()=>s.maxChannelCount}),i.connect(s),i})(en,fn),Rn,Pn,Bn),dr=((e,t,n,r,a)=>()=>{const s=new WeakMap;return{render(i,o){const l=s.get(o);return void 0!==l?Promise.resolve(l):(async(i,o)=>{let l=n(i);const u=Fe(l,o);if(!u){const e={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=t(o,e)}return s.set(o,l),u?(await e(o,i.Q,l.Q),await e(o,i.detune,l.detune),await e(o,i.frequency,l.frequency),await e(o,i.gain,l.gain)):(await r(o,i.Q,l.Q),await r(o,i.detune,l.detune),await r(o,i.frequency,l.frequency),await r(o,i.gain,l.gain)),await a(i,o,l),l})(i,o)}}})(ar,Xt,lt,ir,Bn),pr=(e=>(t,n)=>e.set(t,n))(Sn),mr=((e,t,n,r,a,s,i,o)=>class extends e{constructor(e,r){const l=s(e),u={...St,...r},c=a(l,u),h=i(l);super(e,!1,c,h?n():null),this._Q=t(this,h,c.Q,je,Ue),this._detune=t(this,h,c.detune,1200*Math.log2(je),-1200*Math.log2(je)),this._frequency=t(this,h,c.frequency,e.sampleRate/2,0),this._gain=t(this,h,c.gain,40*Math.log10(je),Ue),this._nativeBiquadFilterNode=c,o(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n)}catch(e){if(11===e.code)throw r();throw e}if(e.length!==t.length||t.length!==n.length)throw r()}})($n,lr,dr,Mt,Xt,Rn,Pn,pr),fr=((e,t)=>(n,r,a)=>{const s=new Set;return n.connect=(a=>(i,o=0,l=0)=>{const u=0===s.size;if(t(i))return a.call(n,i,o,l),e(s,[i,o,l],(e=>e[0]===i&&e[1]===o&&e[2]===l),!0),u&&r(),i;a.call(n,i,o),e(s,[i,o],(e=>e[0]===i&&e[1]===o),!0),u&&r()})(n.connect),n.disconnect=(e=>(r,i,o)=>{const l=s.size>0;if(void 0===r)e.apply(n),s.clear();else if("number"==typeof r){e.call(n,r);for(const e of s)e[1]===r&&s.delete(e)}else{t(r)?e.call(n,r,i,o):e.call(n,r,i);for(const e of s)e[0]!==r||void 0!==i&&e[1]!==i||void 0!==o&&e[2]!==o||s.delete(e)}const u=0===s.size;l&&u&&a()})(n.disconnect),n})(Je,jn),gr=((e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const a=n.createBufferSource();t(r,(()=>{const e=r.numberOfInputs;for(let t=0;t<e;t+=1)a.connect(r,0,t)}),(()=>a.disconnect(r)))})(Rt,fr),yr=((e,t)=>(n,r)=>{const a=n.createChannelMerger(r.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,a),jt(a,r),a})(Wn,gr),br=((e,t,n)=>()=>{const r=new WeakMap;return{render(a,s){const i=r.get(s);return void 0!==i?Promise.resolve(i):(async(a,s)=>{let i=t(a);if(!Fe(i,s)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfInputs:i.numberOfInputs};i=e(s,t)}return r.set(s,i),await n(a,s,i),i})(a,s)}}})(yr,lt,Bn),wr=((e,t,n,r,a)=>class extends e{constructor(e,s){const i=r(e),o={...Et,...s};super(e,!1,n(i,o),a(i)?t():null)}})($n,br,yr,Rn,Pn),vr=((e,t,n)=>()=>{const r=new WeakMap;return{render(a,s){const i=r.get(s);return void 0!==i?Promise.resolve(i):(async(a,s)=>{let i=t(a);if(!Fe(i,s)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfOutputs:i.numberOfOutputs};i=e(s,t)}return r.set(s,i),await n(a,s,i),i})(a,s)}}})(Yt,lt,Bn),Ar=((e,t,n,r,a,s)=>class extends e{constructor(e,i){const o=r(e),l=s({...It,...i});super(e,!1,n(o,l),a(o)?t():null)}})($n,vr,Yt,Rn,Pn,(e=>({...e,channelCount:e.numberOfOutputs}))),xr=((e,t,n,r)=>(a,{offset:s,...i})=>{const o=a.createBuffer(1,2,44100),l=t(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(a,{...i,gain:s}),c=o.getChannelData(0);c[0]=1,c[1]=1,l.buffer=o,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){u.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){u.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){u.channelInterpretation=e},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(e){l.onended=e},addEventListener:(...e)=>l.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>l.dispatchEvent(e[0]),removeEventListener:(...e)=>l.removeEventListener(e[0],e[1],e[2]),start(e=0){l.start.call(l,e)},stop(e=0){l.stop.call(l,e)}};return e(a,l),r(Qt(h,u),(()=>l.connect(u)),(()=>l.disconnect(u)))})(nr,sr,en,fr),kr=((e,t,n,r,a)=>(s,i)=>{if(void 0===s.createConstantSource)return n(s,i);const o=s.createConstantSource();return jt(o,i),qt(o,i,"offset"),t(r,(()=>r(s)))||$t(o),t(a,(()=>a(s)))||Ht(o),e(s,o),o})(nr,In,xr,yn,wn),Cr=((e,t,n,r,a)=>()=>{const s=new WeakMap;let i=null,o=null;return{set start(e){i=e},set stop(e){o=e},render(l,u){const c=s.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=Fe(c,u);if(!h){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,offset:c.offset.value};c=t(u,e),null!==i&&c.start(i),null!==o&&c.stop(o)}return s.set(u,c),h?await e(u,l.offset,c.offset):await r(u,l.offset,c.offset),await a(l,u,c),c})(l,u)}}})(ar,kr,lt,ir,Bn),Sr=((e,t,n,r,a,s,i)=>class extends e{constructor(e,i){const o=a(e),l={...Tt,...i},u=r(o,l),c=s(o),h=c?n():null;super(e,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=t(this,c,u.offset,je,Ue),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"==typeof e?i(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(e=0){if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){Oe(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),Ge(this)&&ze(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})($n,lr,Cr,kr,Rn,Pn,An),Er=((e,t)=>(n,r)=>{const a=n.createConvolver();if(jt(a,r),r.disableNormalization===a.normalize&&(a.normalize=!r.disableNormalization),Ut(a,r,"buffer"),r.channelCount>2)throw e();if(t(a,"channelCount",(e=>()=>e.call(a)),(t=>n=>{if(n>2)throw e();return t.call(a,n)})),"max"===r.channelCountMode)throw e();return t(a,"channelCountMode",(e=>()=>e.call(a)),(t=>n=>{if("max"===n)throw e();return t.call(a,n)})),a})(an,fn),Ir=((e,t,n)=>()=>{const r=new WeakMap;return{render(a,s){const i=r.get(s);return void 0!==i?Promise.resolve(i):(async(a,s)=>{let i=t(a);if(!Fe(i,s)){const t={buffer:i.buffer,channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,disableNormalization:!i.normalize};i=e(s,t)}return r.set(s,i),nt(i)?await n(a,s,i.inputs[0]):await n(a,s,i),i})(a,s)}}})(Er,lt,Bn),Tr=((e,t,n,r,a,s)=>class extends e{constructor(e,i){const o=r(e),l={...Nt,...i},u=n(o,l);super(e,!1,u,a(o)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==l.buffer&&s(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,44100),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})($n,Ir,Er,Rn,Pn,pr),Nr=((e,t,n,r,a)=>s=>{const i=new WeakMap;return{render(o,l){const u=i.get(l);return void 0!==u?Promise.resolve(u):(async(o,l)=>{let u=n(o);const c=Fe(u,l);if(!c){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:s};u=t(l,e)}return i.set(l,u),c?await e(l,o.delayTime,u.delayTime):await r(l,o.delayTime,u.delayTime),await a(o,l,u),u})(o,l)}}})(ar,Jt,lt,ir,Bn),Dr=((e,t,n,r,a,s,i)=>class extends e{constructor(e,o){const l=a(e),u={..._t,...o},c=r(l,u),h=s(l);super(e,!1,c,h?n(u.maxDelayTime):null),this._delayTime=t(this,h,c.delayTime),i(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})($n,lr,Nr,Jt,Rn,Pn,pr),_r=(e=>(t,n)=>{const r=t.createDynamicsCompressor();if(jt(r,n),n.channelCount>2)throw e();if("max"===n.channelCountMode)throw e();return qt(r,n,"attack"),qt(r,n,"knee"),qt(r,n,"ratio"),qt(r,n,"release"),qt(r,n,"threshold"),r})(an),Or=((e,t,n,r,a)=>()=>{const s=new WeakMap;return{render(i,o){const l=s.get(o);return void 0!==l?Promise.resolve(l):(async(i,o)=>{let l=n(i);const u=Fe(l,o);if(!u){const e={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=t(o,e)}return s.set(o,l),u?(await e(o,i.attack,l.attack),await e(o,i.knee,l.knee),await e(o,i.ratio,l.ratio),await e(o,i.release,l.release),await e(o,i.threshold,l.threshold)):(await r(o,i.attack,l.attack),await r(o,i.knee,l.knee),await r(o,i.ratio,l.ratio),await r(o,i.release,l.release),await r(o,i.threshold,l.threshold)),await a(i,o,l),l})(i,o)}}})(ar,_r,lt,ir,Bn),Br=((e,t,n,r,a,s,i,o)=>class extends e{constructor(e,a){const l=s(e),u={...Bt,...a},c=r(l,u),h=i(l);super(e,!1,c,h?n():null),this._attack=t(this,h,c.attack),this._knee=t(this,h,c.knee),this._nativeDynamicsCompressorNode=c,this._ratio=t(this,h,c.ratio),this._release=t(this,h,c.release),this._threshold=t(this,h,c.threshold),o(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})($n,lr,Or,_r,an,Rn,Pn,pr),zr=((e,t,n,r,a)=>()=>{const s=new WeakMap;return{render(i,o){const l=s.get(o);return void 0!==l?Promise.resolve(l):(async(i,o)=>{let l=n(i);const u=Fe(l,o);if(!u){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=t(o,e)}return s.set(o,l),u?await e(o,i.gain,l.gain):await r(o,i.gain,l.gain),await a(i,o,l),l})(i,o)}}})(ar,en,lt,ir,Bn),Rr=((e,t,n,r,a,s)=>class extends e{constructor(e,i){const o=a(e),l={...zt,...i},u=r(o,l),c=s(o);super(e,!1,u,c?n():null),this._gain=t(this,c,u.gain,je,Ue)}get gain(){return this._gain}})($n,lr,zr,en,Rn,Pn),Mr=((e,t,n,r)=>(a,s,{channelCount:i,channelCountMode:o,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=Kt(s,a.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),p=c instanceof Float64Array?c:new Float64Array(c),m=d.length,f=p.length,g=Math.min(m,f);if(0===m||m>20)throw r();if(0===d[0])throw t();if(0===f||f>20)throw r();if(0===p[0])throw t();if(1!==d[0]){for(let e=0;e<f;e+=1)p[e]/=d[0];for(let e=1;e<m;e+=1)d[e]/=d[0]}const y=n(a,h,i,i);y.channelCount=i,y.channelCountMode=o,y.channelInterpretation=l;const b=[],w=[],v=[];for(let e=0;e<i;e+=1){b.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),w.push(e),v.push(t)}y.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,r=t.numberOfChannels;for(let e=0;e<r;e+=1){const r=t.getChannelData(e),a=n.getChannelData(e);b[e]=Pt(d,m,p,f,g,w[e],v[e],b[e],32,r,a)}};const A=a.sampleRate/2;return Qt({get bufferSize(){return h},get channelCount(){return y.channelCount},set channelCount(e){y.channelCount=e},get channelCountMode(){return y.channelCountMode},set channelCountMode(e){y.channelCountMode=e},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(e){y.channelInterpretation=e},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener:(...e)=>y.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>y.dispatchEvent(e[0]),getFrequencyResponse(t,n,r){if(t.length!==n.length||n.length!==r.length)throw e();const a=t.length;for(let e=0;e<a;e+=1){const a=-Math.PI*(t[e]/A),s=[Math.cos(a),Math.sin(a)],i=tn(nn(p,s),nn(d,s));n[e]=Math.sqrt(i[0]*i[0]+i[1]*i[1]),r[e]=Math.atan2(i[1],i[0])}},removeEventListener:(...e)=>y.removeEventListener(e[0],e[1],e[2])},y)})(Mt,Rt,rn,an),Fr=((e,t,n,r)=>a=>e(Vt,(()=>Vt(a)))?Promise.resolve(e(r,r)).then((e=>{if(!e){const e=n(a,512,0,1);a.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>a.currentTime,e.connect(a.destination)}return a.startRendering()})):new Promise((e=>{const n=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(a.destination),a.startRendering()})))(In,en,rn,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((e=>{n.oncomplete=()=>{r.disconnect(),e(0!==n.currentTime)},n.startRendering()}))})(en,Fn)),Pr=((e,t,n,r,a)=>(s,i)=>{const o=new WeakMap;let l=null;const u=async(u,c)=>{let h=null,d=t(u);const p=Fe(d,c);if(void 0===c.createIIRFilter?h=e(c,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=c.createIIRFilter(i,s)),o.set(c,null===h?d:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(u.context.destination.channelCount,u.context.length,c.sampleRate);l=(async()=>{await r(u,e,e.destination);return((e,t,n,r)=>{const a=n instanceof Float64Array?n:new Float64Array(n),s=r instanceof Float64Array?r:new Float64Array(r),i=a.length,o=s.length,l=Math.min(i,o);if(1!==a[0]){for(let e=0;e<i;e+=1)s[e]/=a[0];for(let e=1;e<o;e+=1)a[e]/=a[0]}const u=new Float32Array(32),c=new Float32Array(32),h=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),d=e.numberOfChannels;for(let t=0;t<d;t+=1){const n=e.getChannelData(t),r=h.getChannelData(t);u.fill(0),c.fill(0),Pt(a,i,s,o,l,u,c,0,32,n,r)}return h})(await a(e),c,s,i)})()}const e=await l;return h.buffer=e,h.start(0),h}return await r(u,c,d),d};return{render(e,t){const n=o.get(t);return void 0!==n?Promise.resolve(n):u(e,t)}}})(sr,lt,Fn,Bn,Fr),Lr=(e=>(t,n,r)=>{if(void 0===t.createIIRFilter)return e(t,n,r);const a=t.createIIRFilter(r.feedforward,r.feedback);return jt(a,r),a})(Mr),Vr=((e,t,n,r,a,s)=>class extends e{constructor(e,i){const o=r(e),l=a(o),u={...Ft,...i},c=t(o,l?null:e.baseLatency,u);super(e,!1,c,l?n(u.feedback,u.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,r,a)=>{if(n.length!==r.length||r.length!==a.length)throw Mt();return t.call(e,n,r,a)})})(c),this._nativeIIRFilterNode=c,s(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})($n,Lr,Pr,Rn,Pn,pr),Wr=((e,t,n,r,a,s,i,o)=>(l,u)=>{const c=u.listener,{forwardX:h,forwardY:d,forwardZ:p,positionX:m,positionY:f,positionZ:g,upX:y,upY:b,upZ:w}=void 0===c.forwardX?(()=>{const h=new Float32Array(1),d=t(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),p=i(u);let m=!1,f=[0,0,-1,0,1,0],g=[0,0,0];const y=()=>{if(m)return;m=!0;const e=r(u,256,9,0);e.onaudioprocess=({inputBuffer:e})=>{const t=[s(e,h,0),s(e,h,1),s(e,h,2),s(e,h,3),s(e,h,4),s(e,h,5)];t.some(((e,t)=>e!==f[t]))&&(c.setOrientation(...t),f=t);const n=[s(e,h,6),s(e,h,7),s(e,h,8)];n.some(((e,t)=>e!==g[t]))&&(c.setPosition(...n),g=n)},d.connect(e)},b=e=>t=>{t!==f[e]&&(f[e]=t,c.setOrientation(...f))},w=e=>t=>{t!==g[e]&&(g[e]=t,c.setPosition(...g))},v=(t,r,s)=>{const i=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});i.connect(d,0,t),i.start(),Object.defineProperty(i.offset,"defaultValue",{get:()=>r});const c=e({context:l},p,i.offset,je,Ue);var h,m,f,g,b,w,v;return o(c,"value",(e=>()=>e.call(c)),(e=>t=>{try{e.call(c,t)}catch(e){if(9!==e.code)throw e}y(),p&&s(t)})),c.cancelAndHoldAtTime=(h=c.cancelAndHoldAtTime,p?()=>{throw a()}:(...e)=>{const t=h.apply(c,e);return y(),t}),c.cancelScheduledValues=(m=c.cancelScheduledValues,p?()=>{throw a()}:(...e)=>{const t=m.apply(c,e);return y(),t}),c.exponentialRampToValueAtTime=(f=c.exponentialRampToValueAtTime,p?()=>{throw a()}:(...e)=>{const t=f.apply(c,e);return y(),t}),c.linearRampToValueAtTime=(g=c.linearRampToValueAtTime,p?()=>{throw a()}:(...e)=>{const t=g.apply(c,e);return y(),t}),c.setTargetAtTime=(b=c.setTargetAtTime,p?()=>{throw a()}:(...e)=>{const t=b.apply(c,e);return y(),t}),c.setValueAtTime=(w=c.setValueAtTime,p?()=>{throw a()}:(...e)=>{const t=w.apply(c,e);return y(),t}),c.setValueCurveAtTime=(v=c.setValueCurveAtTime,p?()=>{throw a()}:(...e)=>{const t=v.apply(c,e);return y(),t}),c};return{forwardX:v(0,0,b(0)),forwardY:v(1,0,b(1)),forwardZ:v(2,-1,b(2)),positionX:v(6,0,w(0)),positionY:v(7,0,w(1)),positionZ:v(8,0,w(2)),upX:v(3,0,b(3)),upY:v(4,1,b(4)),upZ:v(5,0,b(5))}})():c;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return p},get positionX(){return m},get positionY(){return f},get positionZ(){return g},get upX(){return y},get upY(){return b},get upZ(){return w}}})(lr,yr,kr,rn,an,pn,Pn,fn),Ur=new WeakMap,jr=((e,t,n,r,a,s)=>class extends n{constructor(n,s){super(n),this._nativeContext=n,be.set(this,n),r(n)&&a.set(n,new Set),this._destination=new e(this,s),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"==typeof e?s(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(hr,Wr,Vn,Pn,Ur,An),Gr=((e,t,n,r,a,s)=>(i,o)=>{const l=i.createOscillator();return jt(l,o),qt(l,o,"detune"),qt(l,o,"frequency"),void 0!==o.periodicWave?l.setPeriodicWave(o.periodicWave):Ut(l,o,"type"),t(n,(()=>n(i)))||$t(l),t(r,(()=>r(i)))||s(l,i),t(a,(()=>a(i)))||Ht(l),e(i,l),l})(nr,In,yn,bn,wn,vn),qr=((e,t,n,r,a)=>()=>{const s=new WeakMap;let i=null,o=null,l=null;return{set periodicWave(e){i=e},set start(e){o=e},set stop(e){l=e},render(u,c){const h=s.get(c);return void 0!==h?Promise.resolve(h):(async(u,c)=>{let h=n(u);const d=Fe(h,c);if(!d){const e={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===i?void 0:i,type:h.type};h=t(c,e),null!==o&&h.start(o),null!==l&&h.stop(l)}return s.set(c,h),d?(await e(c,u.detune,h.detune),await e(c,u.frequency,h.frequency)):(await r(c,u.detune,h.detune),await r(c,u.frequency,h.frequency)),await a(u,c,h),h})(u,c)}}})(ar,Gr,lt,ir,Bn),$r=((e,t,n,r,a,s,i)=>class extends e{constructor(e,i){const o=a(e),l={...on,...i},u=n(o,l),c=s(o),h=c?r():null,d=e.sampleRate/2;super(e,!1,u,h),this._detune=t(this,c,u.detune,153600,-153600),this._frequency=t(this,c,u.frequency,d,-d),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"==typeof e?i(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(e=0){if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){Oe(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),Ge(this)&&ze(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(e=0){this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})($n,lr,Gr,qr,Rn,Pn,An),Hr=(e=>(t,n)=>{const r=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=t.createBuffer(1,2,44100);return r.buffer=a,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(sr),Kr=((e,t,n,r,a)=>(s,{curve:i,oversample:o,...l})=>{const u=s.createWaveShaper(),c=s.createWaveShaper();jt(u,l),jt(c,l);const h=n(s,{...l,gain:1}),d=n(s,{...l,gain:-1}),p=n(s,{...l,gain:1}),m=n(s,{...l,gain:-1});let f=null,g=!1,y=null;const b={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){h.channelCount=e,d.channelCount=e,u.channelCount=e,p.channelCount=e,c.channelCount=e,m.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){h.channelCountMode=e,d.channelCountMode=e,u.channelCountMode=e,p.channelCountMode=e,c.channelCountMode=e,m.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){h.channelInterpretation=e,d.channelInterpretation=e,u.channelInterpretation=e,p.channelInterpretation=e,c.channelInterpretation=e,m.channelInterpretation=e},get context(){return u.context},get curve(){return y},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)u.curve=n,c.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),r=new Float32Array(e+2-e%2);t[0]=n[0],r[0]=-n[e-1];const a=Math.ceil((e+1)/2),s=(e+1)/2-1;for(let i=1;i<a;i+=1){const o=i/a*s,l=Math.floor(o),u=Math.ceil(o);t[i]=l===u?n[l]:(1-(o-l))*n[l]+(1-(u-o))*n[u],r[i]=l===u?-n[e-1-l]:-(1-(o-l))*n[e-1-l]-(1-(u-o))*n[e-1-u]}t[a]=e%2==1?n[a-1]:(n[a-2]+n[a-1])/2,u.curve=t,c.curve=r}y=n,g&&(r(y)&&null===f?f=e(s,h):null!==f&&(f(),f=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(e){u.oversample=e,c.oversample=e},addEventListener:(...e)=>h.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>h.dispatchEvent(e[0]),removeEventListener:(...e)=>h.removeEventListener(e[0],e[1],e[2])};null!==i&&(b.curve=i instanceof Float32Array?i:new Float32Array(i)),o!==b.oversample&&(b.oversample=o);return a(Qt(b,p),(()=>{h.connect(u).connect(p),h.connect(d).connect(c).connect(m).connect(p),g=!0,r(y)&&(f=e(s,h))}),(()=>{h.disconnect(u),u.disconnect(p),h.disconnect(d),d.disconnect(c),c.disconnect(m),m.disconnect(p),g=!1,null!==f&&(f(),f=null)}))})(Hr,Rt,en,mn,fr),Zr=((e,t,n,r,a,s,i)=>(o,l)=>{const u=o.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===o.createGain().gain.automationRate)return n(o,l);jt(u,l);const c=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==c&&c.length<2)throw t();Ut(u,{curve:c},"curve"),Ut(u,l,"oversample");let h=null,d=!1;i(u,"curve",(e=>()=>e.call(u)),(t=>n=>(t.call(u,n),d&&(r(n)&&null===h?h=e(o,u):r(n)||null===h||(h(),h=null)),n)));return a(u,(()=>{d=!0,r(u.curve)&&(h=e(o,u))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(Hr,Rt,Kr,mn,fr,Wn,fn),Xr=((e,t,n,r,a,s,i,o,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:p,distanceModel:m,maxDistance:f,orientationX:g,orientationY:y,orientationZ:b,panningModel:w,positionX:v,positionY:A,positionZ:x,refDistance:k,rolloffFactor:C,...S})=>{const E=c.createPanner();if(S.channelCount>2)throw i();if("max"===S.channelCountMode)throw i();jt(E,S);const I={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},T=n(c,{...I,channelInterpretation:"speakers",numberOfInputs:6}),N=r(c,{...S,gain:1}),D=r(c,{...I,gain:1}),_=r(c,{...I,gain:0}),O=r(c,{...I,gain:0}),B=r(c,{...I,gain:0}),z=r(c,{...I,gain:0}),R=r(c,{...I,gain:0}),M=a(c,256,6,1),F=s(c,{...I,curve:new Float32Array([1,1]),oversample:"none"});let P=[g,y,b],L=[v,A,x];const V=new Float32Array(1);M.onaudioprocess=({inputBuffer:e})=>{const t=[l(e,V,0),l(e,V,1),l(e,V,2)];t.some(((e,t)=>e!==P[t]))&&(E.setOrientation(...t),P=t);const n=[l(e,V,3),l(e,V,4),l(e,V,5)];n.some(((e,t)=>e!==L[t]))&&(E.setPosition(...n),L=n)},Object.defineProperty(_.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0});const W={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(e){if(e>2)throw i();N.channelCount=e,E.channelCount=e},get channelCountMode(){return E.channelCountMode},set channelCountMode(e){if("max"===e)throw i();N.channelCountMode=e,E.channelCountMode=e},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(e){N.channelInterpretation=e,E.channelInterpretation=e},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(e){E.coneInnerAngle=e},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(e){E.coneOuterAngle=e},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();E.coneOuterGain=e},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(e){E.distanceModel=e},get inputs(){return[N]},get maxDistance(){return E.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;E.maxDistance=e},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return D.gain},get orientationY(){return _.gain},get orientationZ(){return O.gain},get panningModel(){return E.panningModel},set panningModel(e){E.panningModel=e},get positionX(){return B.gain},get positionY(){return z.gain},get positionZ(){return R.gain},get refDistance(){return E.refDistance},set refDistance(e){if(e<0)throw new RangeError;E.refDistance=e},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;E.rolloffFactor=e},addEventListener:(...e)=>N.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>N.dispatchEvent(e[0]),removeEventListener:(...e)=>N.removeEventListener(e[0],e[1],e[2])};h!==W.coneInnerAngle&&(W.coneInnerAngle=h),d!==W.coneOuterAngle&&(W.coneOuterAngle=d),p!==W.coneOuterGain&&(W.coneOuterGain=p),m!==W.distanceModel&&(W.distanceModel=m),f!==W.maxDistance&&(W.maxDistance=f),g!==W.orientationX.value&&(W.orientationX.value=g),y!==W.orientationY.value&&(W.orientationY.value=y),b!==W.orientationZ.value&&(W.orientationZ.value=b),w!==W.panningModel&&(W.panningModel=w),v!==W.positionX.value&&(W.positionX.value=v),A!==W.positionY.value&&(W.positionY.value=A),x!==W.positionZ.value&&(W.positionZ.value=x),k!==W.refDistance&&(W.refDistance=k),C!==W.rolloffFactor&&(W.rolloffFactor=C),1===P[0]&&0===P[1]&&0===P[2]||E.setOrientation(...P),0===L[0]&&0===L[1]&&0===L[2]||E.setPosition(...L);return u(Qt(W,E),(()=>{N.connect(E),e(N,F,0,0),F.connect(D).connect(T,0,0),F.connect(_).connect(T,0,1),F.connect(O).connect(T,0,2),F.connect(B).connect(T,0,3),F.connect(z).connect(T,0,4),F.connect(R).connect(T,0,5),T.connect(M).connect(c.destination)}),(()=>{N.disconnect(E),o(N,F,0,0),F.disconnect(D),D.disconnect(T),F.disconnect(_),_.disconnect(T),F.disconnect(O),O.disconnect(T),F.disconnect(B),B.disconnect(T),F.disconnect(z),z.disconnect(T),F.disconnect(R),R.disconnect(T),T.disconnect(M),M.disconnect(c.destination)}))})(rt,Rt,yr,en,rn,Zr,an,ot,pn,fr),Yr=(e=>(t,n)=>{const r=t.createPanner();return void 0===r.orientationX?e(t,n):(jt(r,n),qt(r,n,"orientationX"),qt(r,n,"orientationY"),qt(r,n,"orientationZ"),qt(r,n,"positionX"),qt(r,n,"positionY"),qt(r,n,"positionZ"),Ut(r,n,"coneInnerAngle"),Ut(r,n,"coneOuterAngle"),Ut(r,n,"coneOuterGain"),Ut(r,n,"distanceModel"),Ut(r,n,"maxDistance"),Ut(r,n,"panningModel"),Ut(r,n,"refDistance"),Ut(r,n,"rolloffFactor"),r)})(Xr),Qr=((e,t,n,r,a,s,i,o,l,u)=>()=>{const c=new WeakMap;let h=null;return{render(d,p){const m=c.get(p);return void 0!==m?Promise.resolve(m):(async(d,p)=>{let m=null,f=s(d);const g={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation},y={...g,coneInnerAngle:f.coneInnerAngle,coneOuterAngle:f.coneOuterAngle,coneOuterGain:f.coneOuterGain,distanceModel:f.distanceModel,maxDistance:f.maxDistance,panningModel:f.panningModel,refDistance:f.refDistance,rolloffFactor:f.rolloffFactor},b=Fe(f,p);if("bufferSize"in f)m=r(p,{...g,gain:1});else if(!b){const e={...y,orientationX:f.orientationX.value,orientationY:f.orientationY.value,orientationZ:f.orientationZ.value,positionX:f.positionX.value,positionY:f.positionY.value,positionZ:f.positionZ.value};f=a(p,e)}if(c.set(p,null===m?f:m),null!==m){if(null===h){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new i(6,d.context.length,p.sampleRate),r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(e.destination),h=(async()=>{const t=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(t,r)=>{const a=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await o(e,t,a.offset),a})));for(let e=0;e<6;e+=1)t[e].connect(r,0,e),t[e].start(0);return u(e)})()}const e=await h,s=r(p,{...g,gain:1});await l(d,p,s);const c=[];for(let t=0;t<e.numberOfChannels;t+=1)c.push(e.getChannelData(t));let f=[c[0][0],c[1][0],c[2][0]],b=[c[3][0],c[4][0],c[5][0]],w=r(p,{...g,gain:1}),v=a(p,{...y,orientationX:f[0],orientationY:f[1],orientationZ:f[2],positionX:b[0],positionY:b[1],positionZ:b[2]});s.connect(w).connect(v.inputs[0]),v.connect(m);for(let t=128;t<e.length;t+=128){const e=[c[0][t],c[1][t],c[2][t]],n=[c[3][t],c[4][t],c[5][t]];if(e.some(((e,t)=>e!==f[t]))||n.some(((e,t)=>e!==b[t]))){f=e,b=n;const i=t/p.sampleRate;w.gain.setValueAtTime(0,i),w=r(p,{...g,gain:0}),v=a(p,{...y,orientationX:f[0],orientationY:f[1],orientationZ:f[2],positionX:b[0],positionY:b[1],positionZ:b[2]}),w.gain.setValueAtTime(1,i),s.connect(w).connect(v.inputs[0]),v.connect(m)}}return m}return b?(await e(p,d.orientationX,f.orientationX),await e(p,d.orientationY,f.orientationY),await e(p,d.orientationZ,f.orientationZ),await e(p,d.positionX,f.positionX),await e(p,d.positionY,f.positionY),await e(p,d.positionZ,f.positionZ)):(await o(p,d.orientationX,f.orientationX),await o(p,d.orientationY,f.orientationY),await o(p,d.orientationZ,f.orientationZ),await o(p,d.positionX,f.positionX),await o(p,d.positionY,f.positionY),await o(p,d.positionZ,f.positionZ)),nt(f)?await l(d,p,f.inputs[0]):await l(d,p,f),f})(d,p)}}})(ar,yr,kr,en,Yr,lt,Fn,ir,Bn,Fr),Jr=((e,t,n,r,a,s,i)=>class extends e{constructor(e,o){const l=a(e),u={...ln,...o},c=n(l,u),h=s(l);super(e,!1,c,h?r():null),this._nativePannerNode=c,this._orientationX=t(this,h,c.orientationX,je,Ue),this._orientationY=t(this,h,c.orientationY,je,Ue),this._orientationZ=t(this,h,c.orientationZ,je,Ue),this._positionX=t(this,h,c.positionX,je,Ue),this._positionY=t(this,h,c.positionY,je,Ue),this._positionZ=t(this,h,c.positionZ,je,Ue),i(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})($n,lr,Yr,Qr,Rn,Pn,pr),ea=(e=>(t,{disableNormalization:n,imag:r,real:a})=>{const s=r instanceof Float32Array?r:new Float32Array(r),i=a instanceof Float32Array?a:new Float32Array(a),o=t.createPeriodicWave(i,s,{disableNormalization:n});if(Array.from(r).length<2)throw e();return o})(Le),ta=((e,t,n,r)=>class a{constructor(a,s){const i=t(a),o=r({...un,...s}),l=e(i,o);return n.add(l),l}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===a.prototype||n.has(e)}})(ea,Rn,new WeakSet,(e=>{const{imag:t,real:n}=e;return void 0===t?void 0===n?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...e,imag:t,real:Array.from(t,(()=>0))}:{...e,imag:t,real:n}})),na=((e,t,n,r,a,s)=>{const i=16385,o=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(e,s,h,d,p)=>{if(1===s)return((e,t,a,s)=>{const h=new Float32Array(i),d=new Float32Array(i);for(let e=0;e<i;e+=1){const t=e/16384*l;h[e]=Math.cos(t),d[e]=Math.sin(t)}const p=n(e,{...u,gain:0}),m=r(e,{...c,curve:h}),f=r(e,{...c,curve:o}),g=n(e,{...u,gain:0}),y=r(e,{...c,curve:d});return{connectGraph(){t.connect(p),t.connect(void 0===f.inputs?f:f.inputs[0]),t.connect(g),f.connect(a),a.connect(void 0===m.inputs?m:m.inputs[0]),a.connect(void 0===y.inputs?y:y.inputs[0]),m.connect(p.gain),y.connect(g.gain),p.connect(s,0,0),g.connect(s,0,1)},disconnectGraph(){t.disconnect(p),t.disconnect(void 0===f.inputs?f:f.inputs[0]),t.disconnect(g),f.disconnect(a),a.disconnect(void 0===m.inputs?m:m.inputs[0]),a.disconnect(void 0===y.inputs?y:y.inputs[0]),m.disconnect(p.gain),y.disconnect(g.gain),p.disconnect(s,0,0),g.disconnect(s,0,1)}}})(e,h,d,p);if(2===s)return((e,a,s,h)=>{const d=new Float32Array(i),p=new Float32Array(i),m=new Float32Array(i),f=new Float32Array(i),g=Math.floor(8192.5);for(let e=0;e<i;e+=1)if(e>g){const t=(e-g)/(16384-g)*l;d[e]=Math.cos(t),p[e]=Math.sin(t),m[e]=0,f[e]=1}else{const t=e/(16384-g)*l;d[e]=1,p[e]=0,m[e]=Math.cos(t),f[e]=Math.sin(t)}const y=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),b=n(e,{...u,gain:0}),w=r(e,{...c,curve:d}),v=n(e,{...u,gain:0}),A=r(e,{...c,curve:p}),x=r(e,{...c,curve:o}),k=n(e,{...u,gain:0}),C=r(e,{...c,curve:m}),S=n(e,{...u,gain:0}),E=r(e,{...c,curve:f});return{connectGraph(){a.connect(y),a.connect(void 0===x.inputs?x:x.inputs[0]),y.connect(b,0),y.connect(v,0),y.connect(k,1),y.connect(S,1),x.connect(s),s.connect(void 0===w.inputs?w:w.inputs[0]),s.connect(void 0===A.inputs?A:A.inputs[0]),s.connect(void 0===C.inputs?C:C.inputs[0]),s.connect(void 0===E.inputs?E:E.inputs[0]),w.connect(b.gain),A.connect(v.gain),C.connect(k.gain),E.connect(S.gain),b.connect(h,0,0),k.connect(h,0,0),v.connect(h,0,1),S.connect(h,0,1)},disconnectGraph(){a.disconnect(y),a.disconnect(void 0===x.inputs?x:x.inputs[0]),y.disconnect(b,0),y.disconnect(v,0),y.disconnect(k,1),y.disconnect(S,1),x.disconnect(s),s.disconnect(void 0===w.inputs?w:w.inputs[0]),s.disconnect(void 0===A.inputs?A:A.inputs[0]),s.disconnect(void 0===C.inputs?C:C.inputs[0]),s.disconnect(void 0===E.inputs?E:E.inputs[0]),w.disconnect(b.gain),A.disconnect(v.gain),C.disconnect(k.gain),E.disconnect(S.gain),b.disconnect(h,0,0),k.disconnect(h,0,0),v.disconnect(h,0,1),S.disconnect(h,0,1)}}})(e,h,d,p);throw a()};return(t,{channelCount:r,channelCountMode:i,pan:o,...l})=>{if("max"===i)throw a();const u=e(t,{...l,channelCount:1,channelCountMode:i,numberOfInputs:2}),c=n(t,{...l,channelCount:r,channelCountMode:i,gain:1}),d=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:o});let{connectGraph:p,disconnectGraph:m}=h(t,r,c,d,u);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const f={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(e){c.channelCount!==e&&(g&&m(),({connectGraph:p,disconnectGraph:m}=h(t,e,c,d,u)),g&&p()),c.channelCount=e},get channelCountMode(){return c.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw a();c.channelCountMode=e},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(e){c.channelInterpretation=e},get context(){return c.context},get inputs(){return[c]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get pan(){return d.gain},addEventListener:(...e)=>c.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>c.dispatchEvent(e[0]),removeEventListener:(...e)=>c.removeEventListener(e[0],e[1],e[2])};let g=!1;return s(Qt(f,u),(()=>{p(),g=!0}),(()=>{m(),g=!1}))}})(yr,Yt,en,Zr,an,fr),ra=((e,t)=>(n,r)=>{const a=r.channelCountMode;if("clamped-max"===a)throw t();if(void 0===n.createStereoPanner)return e(n,r);const s=n.createStereoPanner();return jt(s,r),qt(s,r,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>a,set:e=>{if(e!==a)throw t()}}),s})(na,an),aa=((e,t,n,r,a)=>()=>{const s=new WeakMap;return{render(i,o){const l=s.get(o);return void 0!==l?Promise.resolve(l):(async(i,o)=>{let l=n(i);const u=Fe(l,o);if(!u){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=t(o,e)}return s.set(o,l),u?await e(o,i.pan,l.pan):await r(o,i.pan,l.pan),nt(l)?await a(i,o,l.inputs[0]):await a(i,o,l),l})(i,o)}}})(ar,ra,lt,ir,Bn),sa=((e,t,n,r,a,s)=>class extends e{constructor(e,i){const o=a(e),l={...cn,...i},u=n(o,l),c=s(o);super(e,!1,u,c?r():null),this._pan=t(this,c,u.pan)}get pan(){return this._pan}})($n,lr,ra,aa,Rn,Pn),ia=((e,t,n)=>()=>{const r=new WeakMap;return{render(a,s){const i=r.get(s);return void 0!==i?Promise.resolve(i):(async(a,s)=>{let i=t(a);if(!Fe(i,s)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,curve:i.curve,oversample:i.oversample};i=e(s,t)}return r.set(s,i),nt(i)?await n(a,s,i.inputs[0]):await n(a,s,i),i})(a,s)}}})(Zr,lt,Bn),oa=((e,t,n,r,a,s,i)=>class extends e{constructor(e,t){const o=a(e),l={...dn,...t},u=n(o,l);super(e,!0,u,s(o)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,i(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})($n,Rt,Zr,ia,Rn,Pn,pr),la=(e=>null!==e&&e.isSecureContext)(Dn),ua=(e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return r()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(Dn),ca=new WeakMap,ha=((e,t)=>n=>{let r=e.get(n);if(void 0!==r)return r;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r})(ca,Fn),da=la?((e,t,n,r,a,s,i,o,l,u,c,h,d)=>{let p=0;return(m,f,g={credentials:"omit"})=>{const y=c.get(m);if(void 0!==y&&y.has(f))return Promise.resolve();const b=u.get(m);if(void 0!==b){const e=b.get(f);if(void 0!==e)return e}const w=s(m),v=void 0===w.audioWorklet?a(f).then((([e,t])=>{const[r,a]=Se(e,t);return n(`${r};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${a}\n})})(window,'_AWGS')`)})).then((()=>{const e=d._AWGS.pop();if(void 0===e)throw new SyntaxError;r(w.currentTime,w.sampleRate,(()=>e(class{},void 0,((e,n)=>{if(""===e.trim())throw t();const r=Ae.get(w);if(void 0!==r){if(r.has(e))throw t();Ie(n),Ee(n.parameterDescriptors),r.set(e,n)}else Ie(n),Ee(n.parameterDescriptors),Ae.set(w,new Map([[e,n]]))}),w.sampleRate,void 0,void 0)))})):Promise.all([a(f),Promise.resolve(e(h,h))]).then((([[e,t],n])=>{const r=p+1;p=r;const[a,s]=Se(e,t),u=new Blob([`${a};((AudioWorkletProcessor,registerProcessor)=>{${s}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${r}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),c=URL.createObjectURL(u);return w.audioWorklet.addModule(c,g).then((()=>{if(o(w))return w;const e=i(w);return e.audioWorklet.addModule(c,g).then((()=>e))})).then((e=>{if(null===l)throw new SyntaxError;try{new l(e,`__sac${r}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(c)))}));return void 0===b?u.set(m,new Map([[f,v]])):b.set(f,v),v.then((()=>{const e=c.get(m);void 0===e?c.set(m,new Set([f])):e.add(f)})).finally((()=>{const e=u.get(m);void 0!==e&&e.delete(f)})),v}})(In,an,(e=>t=>new Promise(((n,r)=>{if(null===e)return void r(new SyntaxError);const a=e.document.head;if(null===a)r(new SyntaxError);else{const s=e.document.createElement("script"),i=new Blob([t],{type:"application/javascript"}),o=URL.createObjectURL(i),l=e.onerror,u=()=>{e.onerror=l,URL.revokeObjectURL(o)};e.onerror=(t,n,a,s,i)=>n===o||n===e.location.href&&1===a&&1===s?(u(),r(i),!1):null!==l?l(t,n,a,s,i):void 0,s.onerror=()=>{u(),r(new SyntaxError)},s.onload=()=>{u(),n()},s.src=o,s.type="module",a.appendChild(s)}})))(Dn),ua,(e=>async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw e()})((()=>new DOMException("","AbortError"))),Rn,ha,Pn,qn,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),a=URL.createObjectURL(n);let s=!1,i=!1;try{await r.audioWorklet.addModule(a);const t=new e(r,"a",{numberOfOutputs:0}),n=r.createOscillator();t.port.onmessage=()=>s=!0,t.onprocessorerror=()=>i=!0,n.connect(t),n.start(0),await r.startRendering()}catch{}finally{URL.revokeObjectURL(a)}return s&&!i})(qn,Fn),Dn):void 0,pa=((e,t)=>n=>e(n)||t(n))(Un,Pn),ma=((e,t,n,r,a,s,i,o,l,u,c)=>(h,d)=>{const p=i(h)?h:s(h);if(a.has(d)){const e=n();return Promise.reject(e)}try{a.add(d)}catch{}return t(l,(()=>l(p)))?p.decodeAudioData(d).then((n=>(Dt(d).catch((()=>{})),t(o,(()=>o(n)))||c(n),e.add(n),n))):new Promise(((t,n)=>{const a=async()=>{try{await Dt(d)}catch{}},s=e=>{n(e),a()};try{p.decodeAudioData(d,(n=>{"function"!=typeof n.copyFromChannel&&(u(n),Ve(n)),e.add(n),a().then((()=>t(n)))}),(e=>{s(null===e?r():e)}))}catch(e){s(e)}}))})(Zn,In,(()=>new DOMException("","DataCloneError")),(()=>new DOMException("","EncodingError")),new WeakSet,Rn,pa,Pe,Vt,Jn,er),fa=((e,t,n,r,a,s,i,o,l,u,c,h,d,p,m,f,g,y,b,w)=>class extends m{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new a(this)}createBuffer(e,t,r){return new n({length:t,numberOfChannels:e,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(e=6){return new s(this,{numberOfInputs:e})}createChannelSplitter(e=6){return new i(this,{numberOfOutputs:e})}createConstantSource(){return new o(this)}createConvolver(){return new l(this)}createDelay(e=1){return new c(this,{maxDelayTime:e})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(e,t){return new p(this,{feedback:t,feedforward:e})}createOscillator(){return new f(this)}createPanner(){return new g(this)}createPeriodicWave(e,t,n={disableNormalization:!1}){return new y(this,{...n,imag:t,real:e})}createStereoPanner(){return new b(this)}createWaveShaper(){return new w(this)}decodeAudioData(e,t,n){return u(this._nativeContext,e).then((e=>("function"==typeof t&&t(e),e)),(e=>{throw"function"==typeof n&&n(e),e}))}})(da,Kn,tr,cr,mr,wr,Ar,Sr,Tr,ma,Dr,Br,Rr,Vr,jr,$r,Jr,ta,sa,oa),ga=((e,t,n,r)=>class extends e{constructor(e,a){const s=n(e),i=t(s,a);if(r(s))throw TypeError();super(e,!0,i,null),this._nativeMediaElementAudioSourceNode=i}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})($n,((e,t)=>e.createMediaElementSource(t.mediaElement)),Rn,Pn),ya=((e,t,n,r)=>class extends e{constructor(e,a){const s=n(e);if(r(s))throw new TypeError;const i={...Lt,...a},o=t(s,i);super(e,!1,o,null),this._nativeMediaStreamAudioDestinationNode=o}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})($n,((e,t)=>{const n=e.createMediaStreamDestination();return jt(n,t),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n}),Rn,Pn),ba=((e,t,n,r)=>class extends e{constructor(e,a){const s=n(e),i=t(s,a);if(r(s))throw new TypeError;super(e,!0,i,null),this._nativeMediaStreamAudioSourceNode=i}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})($n,((e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0));const r=n.slice(0,1),a=e.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(a,"mediaStream",{value:t}),a}),Rn,Pn),wa=((e,t)=>(n,{mediaStreamTrack:r})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(r);const a=new MediaStream([r]),s=n.createMediaStreamSource(a);if("audio"!==r.kind)throw e();if(t(n))throw new TypeError;return s})(Rt,Pn),va=((e,t,n)=>class extends e{constructor(e,r){const a=n(e);super(e,!0,t(a,r),null)}})($n,wa,Rn),Aa=((e,t,n,r,a,s,i,o,l)=>class extends e{constructor(e={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let t;try{t=new l(e)}catch(e){if(12===e.code&&"sampleRate is not in range"===e.message)throw n();throw e}if(null===t)throw r();if(!Xe(e.latencyHint))throw new TypeError(`The provided value '${e.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==e.sampleRate&&t.sampleRate!==e.sampleRate)throw n();super(t,2);const{latencyHint:a}=e,{sampleRate:s}=t;if(this._baseLatency="number"==typeof t.baseLatency?t.baseLatency:"balanced"===a?512/s:"interactive"===a||void 0===a?256/s:"playback"===a?1024/s:128*Math.max(2,Math.min(128,Math.round(a*s/128)))/s,this._nativeAudioContext=t,"webkitAudioContext"===l.name?(this._nativeGainNode=t.createGain(),this._nativeOscillatorNode=t.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(t.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===t.state){this._state="suspended";const e=()=>{"suspended"===this._state&&(this._state=null),t.removeEventListener("statechange",e)};t.addEventListener("statechange",e)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw t()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Ze(this)})))}createMediaElementSource(e){return new a(this,{mediaElement:e})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(e){return new i(this,{mediaStream:e})}createMediaStreamTrackSource(e){return new o(this,{mediaStreamTrack:e})}resume(){return"suspended"===this._state?new Promise(((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((e=>{if(void 0===e||15===e.code)throw t();throw e}))}suspend(){return this._nativeAudioContext.suspend().catch((e=>{if(void 0===e)throw t();throw e}))}})(fa,Rt,an,hn,ga,ya,ba,va,Wn),xa=(e=>t=>{const n=e.get(t);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(Ur),ka=(e=>(t,n)=>{e(t).add(n)})(xa),Ca=(e=>(t,n,r=0,a=0)=>{const s=t[r];if(void 0===s)throw e();return mt(n)?s.connect(n,0,a):s.connect(n,0)})(Le),Sa=(e=>(t,n)=>{e(t).delete(n)})(xa),Ea=(e=>(t,n,r,a=0)=>void 0===n?t.forEach((e=>e.disconnect())):"number"==typeof n?Ot(e,t,n).disconnect():mt(n)?void 0===r?t.forEach((e=>e.disconnect(n))):void 0===a?Ot(e,t,r).disconnect(n,0):Ot(e,t,r).disconnect(n,0,a):void 0===r?t.forEach((e=>e.disconnect(n))):Ot(e,t,r).disconnect(n,0))(Le),Ia=new WeakMap,Ta=((e,t)=>n=>t(e,n))(Ia,Te),Na=((e,t,n,r,a,s,i,o,l,u,c,h,d)=>(p,m,f,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw l();const y=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(y.some((e=>e<1)))throw l();if(y.length!==g.numberOfOutputs)throw t();if("explicit"!==g.channelCountMode)throw l();const b=g.channelCount*g.numberOfInputs,w=y.reduce(((e,t)=>e+t),0),v=void 0===f.parameterDescriptors?0:f.parameterDescriptors.length;if(b+v>6||w>6)throw l();const A=new MessageChannel,x=[],k=[];for(let e=0;e<g.numberOfInputs;e+=1)x.push(i(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),k.push(a(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const C=[];if(void 0!==f.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:r}of f.parameterDescriptors){const a=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[r]?g.parameterData[r]:void 0===e?0:e});Object.defineProperties(a.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?je:t},minValue:{get:()=>void 0===n?Ue:n}}),C.push(a)}const S=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,b+v)}),E=Kt(m,p.sampleRate),I=o(p,E,b+v,Math.max(1,w)),T=a(p,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),N=[];for(let e=0;e<g.numberOfOutputs;e+=1)N.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[e]}));for(let e=0;e<g.numberOfInputs;e+=1){x[e].connect(k[e]);for(let t=0;t<g.channelCount;t+=1)k[e].connect(S,t,e*g.channelCount+t)}const D=new wt(void 0===f.parameterDescriptors?[]:f.parameterDescriptors.map((({name:e},t)=>{const n=C[t];return n.connect(S,0,b+t),n.start(0),[e,n.offset]})));S.connect(I);let _=g.channelInterpretation,O=null;const B=0===g.numberOfOutputs?[I]:N,z={get bufferSize(){return E},get channelCount(){return g.channelCount},set channelCount(e){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return _},set channelInterpretation(e){for(const t of x)t.channelInterpretation=e;_=e},get context(){return I.context},get inputs(){return x},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return O},set onprocessorerror(e){"function"==typeof O&&z.removeEventListener("processorerror",O),O="function"==typeof e?e:null,"function"==typeof O&&z.addEventListener("processorerror",O)},get parameters(){return D},get port(){return A.port2},addEventListener:(...e)=>I.addEventListener(e[0],e[1],e[2]),connect:e.bind(null,B),disconnect:u.bind(null,B),dispatchEvent:(...e)=>I.dispatchEvent(e[0]),removeEventListener:(...e)=>I.removeEventListener(e[0],e[1],e[2])},R=new Map;var M,F;A.port1.addEventListener=(M=A.port1.addEventListener,(...e)=>{if("message"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=R.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{c(p.currentTime,p.sampleRate,(()=>t(e)))},R.set(t,e[1]))}}return M.call(A.port1,e[0],e[1],e[2])}),A.port1.removeEventListener=(F=A.port1.removeEventListener,(...e)=>{if("message"===e[0]){const t=R.get(e[1]);void 0!==t&&(R.delete(e[1]),e[1]=t)}return F.call(A.port1,e[0],e[1],e[2])});let P=null;Object.defineProperty(A.port1,"onmessage",{get:()=>P,set:e=>{"function"==typeof P&&A.port1.removeEventListener("message",P),P="function"==typeof e?e:null,"function"==typeof P&&(A.port1.addEventListener("message",P),A.port1.start())}}),f.prototype.port=A.port1;let L=null;const V=((e,t,n,r)=>{let a=xe.get(e);void 0===a&&(a=new WeakMap,xe.set(e,a));const s=Zt(n,r);return a.set(t,s),s})(p,z,f,g);V.then((e=>L=e));const W=kt(g.numberOfInputs,g.channelCount),U=kt(g.numberOfOutputs,y),j=void 0===f.parameterDescriptors?[]:f.parameterDescriptors.reduce(((e,{name:t})=>({...e,[t]:new Float32Array(128)})),{});let G=!0;const q=()=>{g.numberOfOutputs>0&&I.disconnect(T);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=N[e];for(let r=0;r<y[e];r+=1)T.disconnect(n,t+r,r);t+=y[e]}},$=new Map;I.onaudioprocess=({inputBuffer:e,outputBuffer:t})=>{if(null!==L){const n=h(z);for(let r=0;r<E;r+=128){for(let t=0;t<g.numberOfInputs;t+=1)for(let n=0;n<g.channelCount;n+=1)At(e,W[t],n,n,r);void 0!==f.parameterDescriptors&&f.parameterDescriptors.forEach((({name:t},n)=>{At(e,j,t,b+n,r)}));for(let e=0;e<g.numberOfInputs;e+=1)for(let t=0;t<y[e];t+=1)0===U[e][t].byteLength&&(U[e][t]=new Float32Array(128));try{const e=W.map(((e,t)=>{if(n[t].size>0)return $.set(t,E/128),e;const r=$.get(t);return void 0===r?[]:(e.every((e=>e.every((e=>0===e))))&&(1===r?$.delete(t):$.set(t,r-1)),e)})),a=c(p.currentTime+r/p.sampleRate,p.sampleRate,(()=>L.process(e,U,j)));G=a;for(let e=0,n=0;e<g.numberOfOutputs;e+=1){for(let a=0;a<y[e];a+=1)xt(t,U[e],a,n+a,r);n+=y[e]}}catch(e){G=!1,z.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}))}if(!G){for(let e=0;e<g.numberOfInputs;e+=1){x[e].disconnect(k[e]);for(let t=0;t<g.channelCount;t+=1)k[r].disconnect(S,t,e*g.channelCount+t)}if(void 0!==f.parameterDescriptors){const e=f.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=C[t];e.disconnect(S,0,b+t),e.stop()}}S.disconnect(I),I.onaudioprocess=null,H?q():X();break}}}};let H=!1;const K=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Z=()=>I.connect(K).connect(p.destination),X=()=>{I.disconnect(K),K.disconnect()};return Z(),d(z,(()=>{if(G){X(),g.numberOfOutputs>0&&I.connect(T);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=N[e];for(let r=0;r<y[e];r+=1)T.connect(n,t+r,r);t+=y[e]}}H=!0}),(()=>{G&&(Z(),q()),H=!1}))})(Ca,Le,Rt,yr,Yt,kr,en,rn,an,Ea,ua,Ta,fr),Da=((e,t,n,r,a)=>(s,i,o,l,u,c)=>{if(null!==o)try{const t=new o(s,l,c),r=new Map;let i=null;if(Object.defineProperties(t,{channelCount:{get:()=>c.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>i,set:e=>{"function"==typeof i&&t.removeEventListener("processorerror",i),i="function"==typeof e?e:null,"function"==typeof i&&t.addEventListener("processorerror",i)}}}),t.addEventListener=(d=t.addEventListener,(...e)=>{if("processorerror"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=r.get(e[1]);void 0!==n?e[1]=n:(e[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),t(n)):t(new ErrorEvent(e[0],{...n}))},r.set(t,e[1]))}}return d.call(t,"error",e[1],e[2]),d.call(t,...e)}),t.removeEventListener=(h=t.removeEventListener,(...e)=>{if("processorerror"===e[0]){const t=r.get(e[1]);void 0!==t&&(r.delete(e[1]),e[1]=t)}return h.call(t,"error",e[1],e[2]),h.call(t,e[0],e[1],e[2])}),0!==c.numberOfOutputs){const e=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(e).connect(s.destination);return a(t,(()=>e.disconnect()),(()=>e.connect(s.destination)))}return t}catch(e){if(11===e.code)throw r();throw e}var h,d;if(void 0===u)throw r();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(c),t(s,i,u,c)})(Rt,Na,en,an,fr),_a=((e,t,n,r,a,s,i,o,l,u,c,h,d,p,m,f)=>(g,y,b)=>{const w=new WeakMap;let v=null;return{render(A,x){o(x,A);const k=w.get(x);return void 0!==k?Promise.resolve(k):(async(o,A)=>{let x=c(o),k=null;const C=Fe(x,A),S=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(null===h){const e=S.reduce(((e,t)=>e+t),0),n=a(A,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),s=[];for(let e=0;e<o.numberOfOutputs;e+=1)s.push(r(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:S[e]}));const u=i(A,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});u.connect=t.bind(null,s),u.disconnect=l.bind(null,s),k=[n,s,u]}else C||(x=new h(A,g));if(w.set(A,null===k?x:k[2]),null!==k){if(null===v){if(void 0===b)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const e=o.channelCount*o.numberOfInputs,t=void 0===b.parameterDescriptors?0:b.parameterDescriptors.length,n=e+t,l=async()=>{const l=new d(n,128*Math.ceil(o.context.length/128),A.sampleRate),u=[],c=[];for(let e=0;e<y.numberOfInputs;e+=1)u.push(i(l,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),c.push(a(l,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const h=await Promise.all(Array.from(o.parameters.values()).map((async e=>{const t=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await p(l,e,t.offset),t}))),g=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<y.numberOfInputs;e+=1){u[e].connect(c[e]);for(let t=0;t<y.channelCount;t+=1)c[e].connect(g,t,e*y.channelCount+t)}for(const[t,n]of h.entries())n.connect(g,0,e+t),n.start(0);return g.connect(l.destination),await Promise.all(u.map((e=>m(o,l,e)))),f(l)};v=Ct(o,0===n?null:await l(),A,y,S,b,u)}const e=await v,t=n(A,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,c,h]=k;null!==e&&(t.buffer=e,t.start(0)),t.connect(l);for(let e=0,t=0;e<o.numberOfOutputs;e+=1){const n=c[e];for(let r=0;r<S[e];r+=1)l.connect(n,t+r,r);t+=S[e]}return h}if(C)for(const[t,n]of o.parameters.entries())await e(A,n,x.parameters.get(t));else for(const[e,t]of o.parameters.entries())await p(A,t,x.parameters.get(e));return await m(o,A,x),x})(A,x)}}})(ar,Ca,sr,yr,Yt,kr,en,Sa,Ea,ua,lt,qn,Fn,ir,Bn,Fr),Oa=(e=>t=>e.get(t))(ca),Ba=(e=>(t,n)=>{e.set(t,n)})(Ia),za=la?((e,t,n,r,a,s,i,o,l,u,c,h,d,p)=>class extends t{constructor(t,p,m){var f;const g=o(t),y=l(g),b=c({...vt,...m});d(b);const w=Ae.get(g),v=null==w?void 0:w.get(p),A=y||"closed"!==g.state?g:null!==(f=i(g))&&void 0!==f?f:g,x=a(A,y?null:t.baseLatency,u,p,v,b);super(t,!0,x,y?r(p,b,v):null);const k=[];x.parameters.forEach(((e,t)=>{const r=n(this,y,e);k.push([t,r])})),this._nativeAudioWorkletNode=x,this._onprocessorerror=null,this._parameters=new wt(k),y&&e(g,this);const{activeInputs:C}=s(this);h(x,C)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(e){const t="function"==typeof e?p(this,e):null;this._nativeAudioWorkletNode.onprocessorerror=t;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===t?e:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(ka,$n,lr,_a,Da,$e,Oa,Rn,Pn,qn,(e=>({...e,outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:Array.from({length:e.numberOfOutputs},(()=>1))})),Ba,(e=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),n.close()}}),An):void 0,Ra=(((e,t,n,r,a)=>{})(Rt,an,hn,jr,Wn),((e,t)=>(n,r,a)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,r,a)}catch(t){if("SyntaxError"===t.name)throw e();throw t}})(an,Fn)),Ma=((e,t,n,r,a,s,i,o)=>(l,u)=>n(l).render(l,u).then((()=>Promise.all(Array.from(r(u)).map((e=>n(e).render(e,u)))))).then((()=>a(u))).then((n=>("function"!=typeof n.copyFromChannel?(i(n),Ve(n)):t(s,(()=>s(n)))||o(n),e.add(n),n))))(Zn,In,On,xa,Fr,Pe,Jn,er),Fa=(((e,t,n,r,a)=>{})(In,Rt,Ra,jr,Ma),((e,t,n,r,a)=>class extends e{constructor(e,n,a){let s;if("number"==typeof e&&void 0!==n&&void 0!==a)s={length:n,numberOfChannels:e,sampleRate:a};else{if("object"!=typeof e)throw new Error("The given parameters are not valid.");s=e}const{length:i,numberOfChannels:o,sampleRate:l}={...sn,...s},u=r(o,i,l);t(Vt,(()=>Vt(u)))||u.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(u.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(u,o),this._length=i,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,Ze(this)})))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout((()=>this._waitForThePromiseToSettle(e)))}})(fa,In,Rt,Ra,Ma)),Pa=((e,t)=>n=>{const r=e.get(n);return t(r)||t(n)})(be,Un),La=((e,t)=>n=>e.has(n)||t(n))(fe,jn),Va=((e,t)=>n=>e.has(n)||t(n))(ye,Gn),Wa=((e,t)=>n=>{const r=e.get(n);return t(r)||t(n)})(be,Pn);function Ua(e,t){if(!e)throw new Error(t)}function ja(e,t,n=1/0){if(!(t<=e&&e<=n))throw new RangeError(`Value must be within [${t}, ${n}], got: ${e}`)}function Ga(e){e.isOffline||"running"===e.state||$a('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let qa=console;function $a(...e){qa.warn(...e)}function Ha(e){return void 0===e}function Ka(e){return!Ha(e)}function Za(e){return"number"==typeof e}function Xa(e){return"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object}function Ya(e){return Array.isArray(e)}function Qa(e){return"string"==typeof e}function Ja(e){return Qa(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)}const es="object"==typeof self?self:null,ts=es&&(es.hasOwnProperty("AudioContext")||es.hasOwnProperty("webkitAudioContext"));function ns(e,t,n,r){var a,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function rs(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))}Object.create;Object.create;class as{constructor(e,t,n){this._callback=e,this._type=t,this._updateInterval=n,this._createClock()}_createWorker(){const e=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),t=URL.createObjectURL(e),n=new Worker(t);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(e){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*e,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function ss(e){return Va(e)}function is(e){return La(e)}function os(e){return Wa(e)}function ls(e){return Pa(e)}function us(e){return e instanceof AudioBuffer}function cs(e,t){return"value"===e||ss(t)||is(t)||us(t)}function hs(e,...t){if(!t.length)return e;const n=t.shift();if(Xa(e)&&Xa(n))for(const t in n)cs(t,n[t])?e[t]=n[t]:Xa(n[t])?(e[t]||Object.assign(e,{[t]:{}}),hs(e[t],n[t])):Object.assign(e,{[t]:n[t]});return hs(e,...t)}function ds(e,t,n=[],r){const a={},s=Array.from(t);if(Xa(s[0])&&r&&!Reflect.has(s[0],r)){Object.keys(s[0]).some((t=>Reflect.has(e,t)))||(hs(a,{[r]:s[0]}),n.splice(n.indexOf(r),1),s.shift())}if(1===s.length&&Xa(s[0]))hs(a,s[0]);else for(let e=0;e<n.length;e++)Ka(s[e])&&(a[n[e]]=s[e]);return hs(e,a)}function ps(e,t){return Ha(e)?t:e}function ms(e,t){return t.forEach((t=>{Reflect.has(e,t)&&delete e[t]})),e}class fs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||es&&this.toString()===es.TONE_DEBUG_CLASS)&&function(...e){qa.log(...e)}(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}fs.version=$;const gs=1e-6;function ys(e,t){return e>t+gs}function bs(e,t){return ys(e,t)||vs(e,t)}function ws(e,t){return e+gs<t}function vs(e,t){return Math.abs(e-t)<gs}class As extends fs{constructor(){super(),this.name="Timeline",this._timeline=[];const e=ds(As.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Ua(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Ua(bs(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(e){const t=this._timeline.indexOf(e);return-1!==t&&this._timeline.splice(t,1),this}get(e,t="time"){const n=this._search(e,t);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const n=this._search(e,t);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const n=this._search(e);return n-1>=0?this._timeline[n-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(vs(this._timeline[t].time,e)){for(let n=t;n>=0&&vs(this._timeline[n].time,e);n--)t=n;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else 1===this._timeline.length&&bs(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(0===this._timeline.length)return-1;let n=0;const r=this._timeline.length;let a=r;if(r>0&&this._timeline[r-1][t]<=e)return r-1;for(;n<a;){let r=Math.floor(n+(a-n)/2);const s=this._timeline[r],i=this._timeline[r+1];if(vs(s[t],e)){for(let n=r;n<this._timeline.length;n++){if(!vs(this._timeline[n][t],e))break;r=n}return r}if(ws(s[t],e)&&ys(i[t],e))return r;ys(s[t],e)?a=r:n=r+1}return-1}_iterate(e,t=0,n=this._timeline.length-1){this._timeline.slice(t,n+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const n=this._search(e);return-1!==n&&this._iterate(t,0,n),this}forEachAfter(e,t){const n=this._search(e);return this._iterate(t,n+1),this}forEachBetween(e,t,n){let r=this._search(e),a=this._search(t);return-1!==r&&-1!==a?(this._timeline[r].time!==e&&(r+=1),this._timeline[a].time===t&&(a-=1),this._iterate(n,r,a)):-1===r&&this._iterate(n,0,a),this}forEachFrom(e,t){let n=this._search(e);for(;n>=0&&this._timeline[n].time>=e;)n--;return this._iterate(t,n+1),this}forEachAtTime(e,t){const n=this._search(e);if(-1!==n&&vs(this._timeline[n].time,e)){let r=n;for(let t=n;t>=0&&vs(this._timeline[t].time,e);t--)r=t;this._iterate((e=>{t(e)}),r,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const xs=[];function ks(e){xs.push(e)}const Cs=[];function Ss(e){Cs.push(e)}class Es extends fs{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach((e=>{Ha(this._events)&&(this._events={}),this._events.hasOwnProperty(e)||(this._events[e]=[]),this._events[e].push(t)})),this}once(e,t){const n=(...r)=>{t(...r),this.off(e,n)};return this.on(e,n),this}off(e,t){return e.split(/\W+/).forEach((n=>{if(Ha(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(Ha(t))this._events[e]=[];else{const n=this._events[e];for(let e=n.length-1;e>=0;e--)n[e]===t&&n.splice(e,1)}})),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const n=this._events[e].slice(0);for(let e=0,r=n.length;e<r;e++)n[e].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach((t=>{const n=Object.getOwnPropertyDescriptor(Es.prototype,t);Object.defineProperty(e.prototype,t,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class Is extends Es{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Ts extends Is{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new As,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=ds(Ts.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=function(e){return new Aa(e)}({latencyHint:e.latencyHint}),this._ticker=new as(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var e;return this._initialized||(e=this,xs.forEach((t=>t(e))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,n){return this._context.createBuffer(e,t,n)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,n){return this._context.createPeriodicWave(e,t,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){Ua(ls(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(e)}createMediaElementSource(e){Ua(ls(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(e)}createMediaStreamDestination(){Ua(ls(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Ua(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Ua(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Ua(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Ua(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return function(e,t,n){return Ua(Ka(za),"This node only works in a secure context (https or localhost)"),new za(e,t,n)}(this.rawContext,e,t)}addAudioWorkletModule(e,t){return rs(this,void 0,void 0,(function*(){Ua(Ka(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(t)||this._workletModules.set(t,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(t)}))}workletsAreReady(){return rs(this,void 0,void 0,(function*(){const e=[];this._workletModules.forEach((t=>e.push(t))),yield Promise.all(e)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let t=0;if(this._latencyHint=e,Qa(e))switch(e){case"interactive":t=.1;break;case"playback":t=.5;break;case"balanced":t=.25}this.lookAhead=t,this.updateInterval=t/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return ls(this._context)?this._context.resume():Promise.resolve()}close(){return rs(this,void 0,void 0,(function*(){var e;ls(this._context)&&(yield this._context.close()),this._initialized&&(e=this,Cs.forEach((t=>t(e))))}))}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),n=t.getChannelData(0);for(let t=0;t<n.length;t++)n[t]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=t,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((e=>this._constants[e].disconnect())),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:n+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach((t=>{t.id===e&&this._timeouts.remove(t)})),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const n=++this._timeoutIds,r=()=>{const a=this.now();this._timeouts.add({callback:()=>{e(),r()},id:n,time:a+t})};return r(),n}}function Ns(e,t){Ya(t)?t.forEach((t=>Ns(e,t))):Object.defineProperty(e,t,{enumerable:!0,writable:!1})}function Ds(e,t){Ya(t)?t.forEach((t=>Ds(e,t))):Object.defineProperty(e,t,{writable:!0})}const _s=()=>{};class Os extends fs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=_s;const e=ds(Os.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&us(e.url)||e.url instanceof Os?this.set(e.url):Qa(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:_s,onload:_s,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ms().sampleRate}set(e){return e instanceof Os?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return rs(this,void 0,void 0,(function*(){const t=Os.load(e).then((e=>{this.set(e),this.onload(this)}));Os.downloads.push(t);try{yield t}finally{const e=Os.downloads.indexOf(t);Os.downloads.splice(e,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Ya(e)&&e[0].length>0,n=t?e.length:1,r=t?e[0].length:e.length,a=Ms(),s=a.createBuffer(n,r,a.sampleRate),i=t||1!==n?e:[e];for(let e=0;e<n;e++)s.copyToChannel(i[e],e);return this._buffer=s,this}toMono(e){if(Za(e))this.fromArray(this.toArray(e));else{let e=new Float32Array(this.length);const t=this.numberOfChannels;for(let n=0;n<t;n++){const t=this.toArray(n);for(let n=0;n<t.length;n++)e[n]+=t[n]}e=e.map((e=>e/t)),this.fromArray(e)}return this}toArray(e){if(Za(e))return this.getChannelData(e);if(1===this.numberOfChannels)return this.toArray(0);{const e=[];for(let t=0;t<this.numberOfChannels;t++)e[t]=this.getChannelData(t);return e}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){const n=Math.floor(e*this.sampleRate),r=Math.floor(t*this.sampleRate);Ua(n<r,"The start time must be less than the end time");const a=r-n,s=Ms().createBuffer(this.numberOfChannels,a,this.sampleRate);for(let e=0;e<this.numberOfChannels;e++)s.copyToChannel(this.getChannelData(e).subarray(n,r),e);return new Os(s)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return(new Os).fromArray(e)}static fromUrl(e){return rs(this,void 0,void 0,(function*(){const t=new Os;return yield t.load(e)}))}static load(e){return rs(this,void 0,void 0,(function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const n=t[1].split("|");let r=n[0];for(const e of n)if(Os.supportsType(e)){r=e;break}e=e.replace(t[0],r)}const n=""===Os.baseUrl||Os.baseUrl.endsWith("/")?Os.baseUrl:Os.baseUrl+"/",r=yield fetch(n+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const a=yield r.arrayBuffer();return yield Ms().decodeAudioData(a)}))}static supportsType(e){const t=e.split("."),n=t[t.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return rs(this,void 0,void 0,(function*(){for(yield Promise.resolve();Os.downloads.length;)yield Os.downloads[0]}))}}Os.baseUrl="",Os.downloads=[];class Bs extends Ts{constructor(){var e,t,n;super({clockSource:"offline",context:os(arguments[0])?arguments[0]:(e=arguments[0],t=arguments[1]*arguments[2],n=arguments[2],new Fa(e,t,n)),lookAhead:0,updateInterval:os(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=os(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return rs(this,void 0,void 0,(function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const n=Math.floor(this.sampleRate/128);e&&t%n==0&&(yield new Promise((e=>setTimeout(e,1))))}}))}render(e=!0){return rs(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Os(t)}))}close(){return Promise.resolve()}}const zs=new class extends Is{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,n){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e,t){return rs(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let Rs=zs;function Ms(){return Rs===zs&&ts&&function(e){Rs=ls(e)?new Ts(e):os(e)?new Bs(e):e}(new Ts),Rs}if(es&&!es.TONE_SILENCE_LOGGING){0}function Fs(e){return Math.pow(2,e/12)}let Ps=440;function Ls(e){return Math.round(Vs(e))}function Vs(e){return 69+12*Math.log2(e/Ps)}class Ws extends fs{constructor(e,t,n){super(),this.defaultUnits="s",this._val=t,this._units=n,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const n=parseInt(e,10),r="."===t?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/n)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(t)))},regexp:/^(\d+)t$/i},tr:{method:(e,t,n)=>{let r=0;return e&&"0"!==e&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(r+=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Ws&&this.fromType(this._val),Ha(this._val))return this._noArg();if(Qa(this._val)&&Ha(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Xa(this._val)){let e=0;for(const t in this._val)if(Ka(this._val[t])){const n=this._val[t];e+=new this.constructor(this.context,t).valueOf()*n}return e}if(Ka(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}return Qa(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Us extends Ws{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Us(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const n=new this.constructor(this.context,e).valueOf(),r=this.valueOf();return r+(Math.round(r/n)*n-r)*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let e=1;e<9;e++){const n=Math.pow(2,e);t.push(n+"n."),t.push(n+"n"),t.push(n+"t")}t.push("0");let n=t[0],r=new Us(this.context,t[0]).toSeconds();return t.forEach((t=>{const a=new Us(this.context,t).toSeconds();Math.abs(a-e)<Math.abs(r-e)&&(n=t,r=a)})),n}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const n=Math.floor(t/this._getTimeSignature());let r=t%1*4;t=Math.floor(t)%this._getTimeSignature();const a=r.toString();a.length>3&&(r=parseFloat(parseFloat(a).toFixed(3)));return[n,t,r].join(":")}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.round(t*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Ls(this.toFrequency())}_now(){return this.context.now()}}class js extends Us{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Ps}static set A4(e){!function(e){Ps=e}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:js.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,t){const n=Gs[e.toLowerCase()]+12*(parseInt(t,10)+1);return"midi"===this.defaultUnits?n:js.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,n){let r=1;return e&&"0"!==e&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(r*=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}}})}transpose(e){return new js(this.context,this.valueOf()*Fs(e))}harmonize(e){return e.map((e=>this.transpose(e)))}toMidi(){return Ls(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/js.A4);let n=Math.round(12*t)+57;const r=Math.floor(n/12);r<0&&(n+=-12*r);return qs[n%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return function(e){return Ps*Math.pow(2,(e-69)/12)}(e)}static ftom(e){return Ls(e)}}const Gs={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},qs=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class $s extends Us{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Hs extends fs{constructor(){super();const e=ds(Hs.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Ms()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new Us(this.context,e).toSeconds()}toFrequency(e){return new js(this.context,e).toFrequency()}toTicks(e){return new $s(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach((n=>{Ha(e[n])&&delete t[n]})),t}get(){const e=this.constructor.getDefaults();return Object.keys(e).forEach((t=>{if(Reflect.has(this,t)){const n=this[t];Ka(n)&&Ka(n.value)&&Ka(n.setValueAtTime)?e[t]=n.value:n instanceof Hs?e[t]=n._getPartialProperties(e[t]):Ya(n)||Za(n)||Qa(n)||"boolean"==typeof n?e[t]=n:delete e[t]}})),e}set(e){return Object.keys(e).forEach((t=>{Reflect.has(this,t)&&Ka(this[t])&&(this[t]&&Ka(this[t].value)&&Ka(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Hs?this[t].set(e[t]):this[t]=e[t])})),this}}class Ks extends As{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return null!==t?t.state:this._initial}setStateAtTime(e,t,n){return ja(t,0),this.add(Object.assign({},n,{state:e,time:t})),this}getLastState(e,t){for(let n=this._search(t);n>=0;n--){const t=this._timeline[n];if(t.state===e)return t}}getNextState(e,t){const n=this._search(t);if(-1!==n)for(let t=n;t<this._timeline.length;t++){const n=this._timeline[t];if(n.state===e)return n}}}class Zs extends Hs{constructor(){super(ds(Zs.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=ds(Zs.getDefaults(),arguments,["param","units","convert"]);for(Ua(Ka(e.param)&&(ss(e.param)||e.param instanceof Zs),"param must be an AudioParam");!ss(e.param);)e.param=e.param._param;this._swappable=!!Ka(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new As(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Ka(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Hs.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Ka(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Ka(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return Ka(this.maxValue)&&Ka(this.minValue)&&ja(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?(t=e,Math.pow(10,t/20)):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e;var t}_toType(e){return this.convert&&"decibels"===this.units?(t=e,Math.log(t)/Math.LN10*20):e;var t}setValueAtTime(e,t){const n=this.toSeconds(t),r=this._fromType(e);return Ua(isFinite(r)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,n),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),n=this._events.getAfter(t),r=this._events.get(t);let a=this._initialValue;if(null===r)a=this._initialValue;else if("setTargetAtTime"!==r.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)a=r.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let e=r.value;if("setTargetAtTime"===r.type){const t=this._events.getBefore(r.time);e=null===t?this._initialValue:t.value}a="linearRampToValueAtTime"===n.type?this._linearInterpolate(r.time,e,n.time,n.value,t):this._exponentialInterpolate(r.time,e,n.time,n.value,t)}else a=r.value;else{const e=this._events.getBefore(r.time);let n;n=null===e?this._initialValue:e.value,"setTargetAtTime"===r.type&&(a=this._exponentialApproach(r.time,n,r.value,r.constant,t))}return this._toType(a)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(t)&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const n=this._fromType(e),r=this.toSeconds(t);return Ua(isFinite(n)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(n),this._events.add({time:r,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(n,r),this}exponentialRampToValueAtTime(e,t){let n=this._fromType(e);n=vs(n,0)?this._minOutput:n,this._assertRange(n);const r=this.toSeconds(t);return Ua(isFinite(n)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(n,r),this}exponentialRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t)),this}linearRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(t)),this}targetRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(e,n,t),this}exponentialApproachValueAtTime(e,t,n){t=this.toSeconds(t),n=this.toSeconds(n);const r=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(e,t,r),this.cancelAndHoldAtTime(t+.9*n),this.linearRampToValueAtTime(e,t+n),this}setTargetAtTime(e,t,n){const r=this._fromType(e);Ua(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const a=this.toSeconds(t);return this._assertRange(r),Ua(isFinite(r)&&isFinite(a),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:n,time:a,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,a,n),this._param.setTargetAtTime(r,a,n),this}setValueCurveAtTime(e,t,n,r=1){n=this.toSeconds(n),t=this.toSeconds(t);const a=this._fromType(e[0])*r;this.setValueAtTime(this._toType(a),t);const s=n/(e.length-1);for(let n=1;n<e.length;n++){const a=this._fromType(e[n])*r;this.linearRampToValueAtTime(this._toType(a),t+n*s)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Ua(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),n=this._fromType(this.getValueAtTime(t));Ua(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+n);const r=this._events.get(t),a=this._events.getAfter(t);return r&&vs(r.time,t)?a?(this._param.cancelScheduledValues(a.time),this._events.cancel(a.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):a&&(this._param.cancelScheduledValues(a.time),this._events.cancel(a.time),"linearRampToValueAtTime"===a.type?this.linearRampToValueAtTime(this._toType(n),t):"exponentialRampToValueAtTime"===a.type&&this.exponentialRampToValueAtTime(this._toType(n),t)),this._events.add({time:t,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,t),this}rampTo(e,t=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,t,n):this.linearRampTo(e,t,n),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const n=this._events.get(t);if(n&&"setTargetAtTime"===n.type){const r=this._events.getAfter(n.time),a=r?r.time:t+2,s=(a-t)/10;for(let n=t;n<a;n+=s)e.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(t=>{"cancelScheduledValues"===t.type?e.cancelScheduledValues(t.time):"setTargetAtTime"===t.type?e.setTargetAtTime(t.value,t.time,t.constant):e[t.type](t.value,t.time)})),this}setParam(e){Ua(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,n,r,a){return n+(t-n)*Math.exp(-(a-e)/r)}_linearInterpolate(e,t,n,r,a){return t+(a-e)/(n-e)*(r-t)}_exponentialInterpolate(e,t,n,r,a){return t*Math.pow(r/t,(a-e)/(n-e))}}class Xs extends Hs{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Ka(this.input)?ss(this.input)||this.input instanceof Zs?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ka(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Ka(e)&&(e instanceof Xs||is(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach((t=>{t.channelCount=e.channelCount,t.channelCountMode=e.channelCountMode,t.channelInterpretation=e.channelInterpretation}))}_getChannelProperties(){const e=this._getInternalNodes();Ua(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,n=0){return Qs(this,e,t,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return $a("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,n=0){return function(e,t,n=0,r=0){if(Ka(t))for(;t instanceof Xs;)t=t.input;for(;!is(e);)Ka(e.output)&&(e=e.output);ss(t)?e.disconnect(t,n):is(t)?e.disconnect(t,n,r):e.disconnect()}(this,e,t,n),this}chain(...e){return Ys(this,...e),this}fan(...e){return e.forEach((e=>this.connect(e))),this}dispose(){return super.dispose(),Ka(this.input)&&(this.input instanceof Xs?this.input.dispose():is(this.input)&&this.input.disconnect()),Ka(this.output)&&(this.output instanceof Xs?this.output.dispose():is(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ys(...e){const t=e.shift();e.reduce(((e,t)=>(e instanceof Xs?e.connect(t):is(e)&&Qs(e,t),t)),t)}function Qs(e,t,n=0,r=0){for(Ua(Ka(e),"Cannot connect from undefined node"),Ua(Ka(t),"Cannot connect to undefined node"),(t instanceof Xs||is(t))&&Ua(t.numberOfInputs>0,"Cannot connect to node with no inputs"),Ua(e.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof Xs||t instanceof Zs;)Ka(t.input)&&(t=t.input);for(;e instanceof Xs;)Ka(e.output)&&(e=e.output);ss(t)?e.connect(t,n):e.connect(t,n,r)}class Js extends Xs{constructor(){super(ds(Js.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=ds(Js.getDefaults(),arguments,["gain","units"]);this.gain=new Zs({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Ns(this,"gain")}static getDefaults(){return Object.assign(Xs.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ei extends Xs{constructor(e){super(e),this.onended=_s,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Js({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const t=this.toSeconds(e);return-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Xs.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:_s})}_startGain(e,t=1){Ua(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=e+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(t,e+n):this._gainNode.gain.exponentialApproachValueAtTime(t,e,n)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Ua(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.context.currentTime),t>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const e="exponential"===this._curve?2*t:0;this._stopSource(this.now()+e),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==_s&&(this.onended(this),this.onended=_s,!this.context.isOffline)){const e=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ua(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class ti extends ei{constructor(){super(ds(ti.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=ds(ti.getDefaults(),arguments,["offset"]);Qs(this._source,this._gainNode),this.offset=new Zs({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ei.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class ni extends Xs{constructor(){super(ds(ni.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=ds(ni.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ti({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Xs.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,n=0){return ri(this,e,t,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,n){return this._param.exponentialRampTo(e,t,n),this}linearRampTo(e,t,n){return this._param.linearRampTo(e,t,n),this}targetRampTo(e,t,n){return this._param.targetRampTo(e,t,n),this}exponentialApproachValueAtTime(e,t,n){return this._param.exponentialApproachValueAtTime(e,t,n),this}setTargetAtTime(e,t,n){return this._param.setTargetAtTime(e,t,n),this}setValueCurveAtTime(e,t,n,r){return this._param.setValueCurveAtTime(e,t,n,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,n){return this._param.rampTo(e,t,n),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function ri(e,t,n,r){(t instanceof Zs||ss(t)||t instanceof ni&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof ni&&(t.overridden=!0)),Qs(e,t,n,r)}class ai extends Zs{constructor(){super(ds(ai.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new As(1/0),this._multiplier=1;const e=ds(ai.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Zs.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,n){t=this.toSeconds(t),this.setRampPoint(t);const r=this._fromType(e),a=this._events.get(t),s=Math.round(Math.max(1/n,1));for(let e=0;e<=s;e++){const s=n*e+t,i=this._exponentialApproach(a.time,a.value,r,n,s);this.linearRampToValueAtTime(this._toType(i),s)}return this}setValueAtTime(e,t){const n=this.toSeconds(t);super.setValueAtTime(e,t);const r=this._events.get(n),a=this._events.previousEvent(r),s=this._getTicksUntilEvent(a,n);return r.ticks=Math.max(s,0),this}linearRampToValueAtTime(e,t){const n=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const r=this._events.get(n),a=this._events.previousEvent(r),s=this._getTicksUntilEvent(a,n);return r.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const n=this._fromType(e),r=this._events.get(t),a=Math.round(Math.max(10*(t-r.time),1)),s=(t-r.time)/a;for(let e=0;e<=a;e++){const a=s*e+r.time,i=this._exponentialInterpolate(r.time,r.value,t,n,a);this.linearRampToValueAtTime(this._toType(i),a)}return this}_getTicksUntilEvent(e,t){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ha(e.ticks)){const t=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(t,e.time)}const n=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(t));const a=this._events.get(t);return a&&a.time===t&&"setValueAtTime"===a.type&&(r=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(n+r)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),n=this._events.get(t);return Math.max(this._getTicksUntilEvent(n,t),0)}getDurationOfTicks(e,t){const n=this.toSeconds(t),r=this.getTicksAtTime(t);return this.getTimeOfTick(r+e)-n}getTimeOfTick(e){const t=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&n&&"linearRampToValueAtTime"===n.type&&t.value!==n.value){const r=this._fromType(this.getValueAtTime(t.time)),a=(this._fromType(this.getValueAtTime(n.time))-r)/(n.time-t.time),s=Math.sqrt(Math.pow(r,2)-2*a*(t.ticks-e)),i=(-r+s)/a,o=(-r-s)/a;return(i>0?i:o)+t.time}return t?0===t.value?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const n=this.toSeconds(t),r=this.toSeconds(e),a=this.getTicksAtTime(n);return this.getTicksAtTime(n+r)-a}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class si extends ni{constructor(){super(ds(si.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=ds(si.getDefaults(),arguments,["value"]);this.input=this._param=new ai({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(ni.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class ii extends Hs{constructor(){super(ds(ii.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Ks,this._tickOffset=new As;const e=ds(ii.getDefaults(),arguments,["frequency"]);this.frequency=new si({context:this.context,units:e.units,value:e.frequency}),Ns(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Hs.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const n=this.toSeconds(e);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),Ka(t)&&this.setTicksAtTime(t,n)),this}stop(e){const t=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(t)){const e=this._state.get(t);e&&e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&this._state.setStateAtTime("paused",t),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),n=this._state.getLastState("stopped",t),r={state:"paused",time:t};this._state.add(r);let a=n,s=0;return this._state.forEachBetween(n.time,t+this.sampleTime,(e=>{let t=a.time;const n=this._tickOffset.get(e.time);n&&n.time>=a.time&&(s=n.ticks,t=n.time),"started"===a.state&&"started"!==e.state&&(s+=this.frequency.getTicksAtTime(e.time)-this.frequency.getTicksAtTime(t)),a=e})),this._state.remove(r),s}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),n=this.frequency.timeToTicks(e,t);this.setTicksAtTime(n,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),n={state:"paused",time:e};this._state.add(n);let r=t,a=0;return this._state.forEachBetween(t.time,e+this.sampleTime,(e=>{let t=r.time;const n=this._tickOffset.get(e.time);n&&n.time>=r.time&&(a=n.seconds,t=n.time),"started"===r.state&&"started"!==e.state&&(a+=e.time-t),r=e})),this._state.remove(n),a}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const n=this._tickOffset.get(t),r=this._state.get(t),a=Math.max(n.time,r.time),s=this.frequency.getTicksAtTime(a)+e-n.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(e,t,n){let r=this._state.get(e);this._state.forEachBetween(e,t,(t=>{r&&"started"===r.state&&"started"!==t.state&&this.forEachTickBetween(Math.max(r.time,e),t.time-this.sampleTime,n),r=t}));let a=null;if(r&&"started"===r.state){const s=Math.max(r.time,e),i=this.frequency.getTicksAtTime(s),o=i-this.frequency.getTicksAtTime(r.time);let l=Math.ceil(o)-o;l=vs(l,1)?0:l;let u=this.frequency.getTimeOfTick(i+l);for(;u<t;){try{n(u,Math.round(this.getTicksAtTime(u)))}catch(e){a=e;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(a)throw a;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class oi extends Hs{constructor(){super(ds(oi.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=_s,this._lastUpdate=0,this._state=new Ks("stopped"),this._boundLoop=this._loop.bind(this);const e=ds(oi.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new ii({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ns(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Hs.getDefaults(),{callback:_s,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){Ga(this.context);const n=this.toSeconds(e);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,t),n<this._lastUpdate&&this.emit("start",n,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const n=this.toSeconds(t),r=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(r+e,n)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,(e=>{switch(e.state){case"started":const t=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,t);break;case"stopped":0!==e.time&&this.emit("stop",e.time);break;case"paused":this.emit("pause",e.time)}})),this._tickSource.forEachTickBetween(e,t,((e,t)=>{this.callback(e,t)})))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Es.mixin(oi);class li extends fs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=ds(li.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach((t=>{this._loadingCount++;const n=e.urls[t];this.add(t,n,this._bufferLoaded.bind(this,e.onload),e.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:_s,onload:_s,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Ua(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every((([e,t])=>t.loaded))}add(e,t,n=_s,r=_s){return Qa(t)?this._buffers.set(e.toString(),new Os(this.baseUrl+t,n,r)):this._buffers.set(e.toString(),new Os(t,n,r)),this}dispose(){return super.dispose(),this._buffers.forEach((e=>e.dispose())),this._buffers.clear(),this}}class ui extends $s{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class ci extends Hs{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new As,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ks((e=>{e.draw=new ci({context:e})})),Ss((e=>{e.draw.dispose()}));class hi extends fs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Ua(Ka(e.time),"Events must have a time property"),Ua(Ka(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new di(e.time,e.time+e.duration,e);for(null===this._root?this._root=t:this._root.insert(t),this._length++;null!==t;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(null!==this._root){const t=[];this._root.search(e.time,t);for(const n of t)if(n.event===e){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,(e=>this.remove(e))),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,t){null!==e.parent?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let t,n=null;if(e.getBalance()>0)if(null===e.left.right)t=e.left,t.right=e.right,n=t;else{for(t=e.left.right;null!==t.right;)t=t.right;t.parent&&(t.parent.right=t.left,n=t.parent,t.left=e.left,t.right=e.right)}else if(null===e.right.left)t=e.right,t.left=e.left,n=t;else{for(t=e.right.left;null!==t.left;)t=t.left;t.parent&&(t.parent.left=t.right,n=t.parent,t.left=e.left,t.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=t:e.parent.right=t:this._setRoot(t),n&&this._rebalance(n)}e.dispose()}_rotateLeft(e){const t=e.parent,n=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),null!==t?n?t.left=r:t.right=r:this._setRoot(r)}_rotateRight(e){const t=e.parent,n=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),null!==t?n?t.left=r:t.right=r:this._setRoot(r)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const t=[];if(this._root.search(e,t),t.length>0){let e=t[0];for(let n=1;n<t.length;n++)t[n].low>e.low&&(e=t[n]);return e.event}}return null}forEach(e){if(null!==this._root){const t=[];this._root.traverse((e=>t.push(e))),t.forEach((t=>{t.event&&e(t.event)}))}return this}forEachAtTime(e,t){if(null!==this._root){const n=[];this._root.search(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}forEachFrom(e,t){if(null!==this._root){const n=[];this._root.searchAfter(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((e=>e.dispose())),this._root=null,this}}class di{constructor(e,t,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(null!==this.left&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),this.low>e||null!==this.right&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),null!==this.left&&this.left.searchAfter(e,t)),null!==this.right&&this.right.searchAfter(e,t)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class pi extends Xs{constructor(){super(ds(pi.getDefaults(),arguments,["volume"])),this.name="Volume";const e=ds(pi.getDefaults(),arguments,["volume"]);this.input=this.output=new Js({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Ns(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Xs.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class mi extends Xs{constructor(){super(ds(mi.getDefaults(),arguments)),this.name="Destination",this.input=new pi({context:this.context}),this.output=new Js({context:this.context}),this.volume=this.input.volume;const e=ds(mi.getDefaults(),arguments);Ys(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Xs.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ys(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ks((e=>{e.destination=new mi({context:e})})),Ss((e=>{e.destination.dispose()}));class fi extends fs{constructor(e){super(),this.name="TimelineValue",this._timeline=new As({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class gi{constructor(e,t){this.id=gi._eventId++;const n=Object.assign(gi.getDefaults(),t);this.transport=e,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:_s,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}gi._eventId=0;class yi extends gi{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(yi.getDefaults(),t);this.duration=new ui(e.context,n.duration).valueOf(),this._interval=new ui(e.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},gi.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const t=this.transport.getTicksAtTime(e);t>=this.time&&t>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ui(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const t=this.transport.getTicksAtTime(e);t>this.time&&(this._nextTick=this.time+Math.ceil((t-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new ui(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ui(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class bi extends Hs{constructor(){super(ds(bi.getDefaults(),arguments)),this.name="Transport",this._loop=new fi(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new As,this._repeatedEvents=new hi,this._syncedSignals=[],this._swingAmount=0;const e=ds(bi.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new oi({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Ns(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Hs.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!=0&&t%(2*this._swingTicks)!=0){const n=t%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(n*Math.PI)*this._swingAmount;e+=new ui(this.context,2*this._swingTicks/3).toSeconds()*r}this._timeline.forEachAtTime(t,(t=>t.invoke(e)))}schedule(e,t){const n=new gi(this,{callback:e,time:new $s(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(e,t,n,r=1/0){const a=new yi(this,{callback:e,duration:new Us(this.context,r).toTicks(),interval:new Us(this.context,t).toTicks(),time:new $s(this.context,n).toTicks()});return this._addEvent(a,this._repeatedEvents)}scheduleOnce(e,t){const n=new gi(this,{callback:e,once:!0,time:new $s(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,(e=>this.clear(e.id))),this._repeatedEvents.forEachFrom(t,(e=>this.clear(e.id))),this}_bindClockEvents(){this._clock.on("start",((e,t)=>{t=new ui(this.context,t).toSeconds(),this.emit("start",e,t)})),this._clock.on("stop",(e=>{this.emit("stop",e)})),this._clock.on("pause",(e=>{this.emit("pause",e)}))}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){let n;return Ka(t)&&(n=this.toTicks(t)),this._clock.start(e,n),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Ya(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Us(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Us(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new ui(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new ui(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),n=this._clock.frequency.timeToTicks(e,t);this.ticks=n}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(t),r=t+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,t);this.emit("stop",r),this._clock.setTicksAtTime(e,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const t=this.now(),n=e-this.getTicksAtTime(t)%e;return this._clock.nextTickTime(n,t)}}syncSignal(e,t){if(!t){const n=this.now();if(0!==e.getValueAtTime(n)){const r=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);t=e.getValueAtTime(n)/r}else t=0}const n=new Js(t);return this.bpm.connect(n),n.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:n,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const n=this._syncedSignals[t];n.signal===e&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Ds(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Es.mixin(bi),ks((e=>{e.transport=new bi({context:e})})),Ss((e=>{e.transport.dispose()}));class wi extends Xs{constructor(e){super(e),this.input=void 0,this._state=new Ks("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=_s,this._syncedStop=_s,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new pi({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Ns(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Xs.getDefaults(),{mute:!1,onstop:_s,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,n){let r=Ha(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),this._synced||"started"!==this._state.getValueAtTime(r))if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const e=this._state.get(r);e&&(e.offset=this.toSeconds(ps(t,0)),e.duration=n?this.toSeconds(n):void 0);const a=this.context.transport.schedule((e=>{this._start(e,t,n)}),r);this._scheduled.push(a),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else Ga(this.context),this._start(r,t,n);else Ua(ys(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,t,n);return this}stop(e){let t=Ha(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),"started"===this._state.getValueAtTime(t)||Ka(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const e=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,n){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,t,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(t>0){const n=this._state.get(t);if(n&&"started"===n.state&&n.time!==t){const r=t-this.toSeconds(n.time);let a;n.duration&&(a=this.toSeconds(n.duration)-r),this._start(e,this.toSeconds(n.offset)+r,a)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(t)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((e=>this.context.transport.clear(e))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=_s,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class vi extends ei{constructor(){super(ds(vi.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=ds(vi.getDefaults(),arguments,["url","onload"]);Qs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Zs({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Os(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ei.getDefaults(),{url:new Os,loop:!1,loopEnd:0,loopStart:0,onload:_s,onerror:_s,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,n,r=1){Ua(this.buffer.loaded,"buffer is either not set or not loaded");const a=this.toSeconds(e);this._startGain(a,r),t=this.loop?ps(t,this.loopStart):ps(t,0);let s=Math.max(this.toSeconds(t),0);if(this.loop){const e=this.toSeconds(this.loopEnd)||this.buffer.duration,t=this.toSeconds(this.loopStart),n=e-t;bs(s,e)&&(s=(s-t)%n+t),vs(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ws(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(a,s)),Ka(n)){let e=this.toSeconds(n);e=Math.max(e,0),this.stop(a+e)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Ai(e,t){return rs(this,void 0,void 0,(function*(){const n=t/e.context.sampleRate,r=new Bs(1,n,e.context.sampleRate);new e.constructor(Object.assign(e.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0);return(yield r.render()).getChannelData(0)}))}class xi extends ei{constructor(){super(ds(xi.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=ds(xi.getDefaults(),arguments,["frequency","type"]);Qs(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Zs({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Zs({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Ns(this,["frequency","detune"])}static getDefaults(){return Object.assign(ei.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ki extends wi{constructor(){super(ds(ki.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=ds(ki.getDefaults(),arguments,["frequency","type"]);this.frequency=new ni({context:this.context,units:"frequency",value:e.frequency}),Ns(this,"frequency"),this.detune=new ni({context:this.context,units:"cents",value:e.detune}),Ns(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&"custom"!==e.type&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(wi.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),n=new xi({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return ki._periodicWaveCache.find((e=>{return e.phase===this._phase&&(t=e.partials,n=this._partials,t.length===n.length&&t.every(((e,t)=>n[t]===e)));var t,n}))}{const e=ki._periodicWaveCache.find((e=>e.type===this._type&&e.phase===this._phase));return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=-1!==["sine","square","sawtooth","triangle"].indexOf(e);if(0===this._phase&&t)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=e);else{const t=this._getCachedPeriodicWave();if(Ka(t)){const{partials:e,wave:n}=t;this._wave=n,this._partials=e,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[t,n]=this._getRealImaginary(e,this._phase),r=this.context.createPeriodicWave(t,n);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),ki._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:t,type:this._type,wave:this._wave}),ki._periodicWaveCache.length>100&&ki._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&"custom"!==this._type&&"custom"!==e?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){ja(e,0);let t=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(t=n[1]),"custom"!==this._type)this.type=0===e?t:t+e.toString();else{const t=new Float32Array(e);this._partials.forEach(((e,n)=>t[n]=e)),this._partials=Array.from(t),this.type=this._type}}_getRealImaginary(e,t){let n=2048;const r=new Float32Array(n),a=new Float32Array(n);let s=1;if("custom"===e){if(s=this._partials.length+1,this._partialCount=this._partials.length,n=s,0===this._partials.length)return[r,a]}else{const t=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);t?(s=parseInt(t[2],10)+1,this._partialCount=parseInt(t[2],10),e=t[1],s=Math.max(s,2),n=s):this._partialCount=0,this._partials=[]}for(let i=1;i<n;++i){const n=2/(i*Math.PI);let o;switch(e){case"sine":o=i<=s?1:0,this._partials[i-1]=o;break;case"square":o=1&i?2*n:0,this._partials[i-1]=o;break;case"sawtooth":o=n*(1&i?1:-1),this._partials[i-1]=o;break;case"triangle":o=1&i?n*n*2*(i-1>>1&1?-1:1):0,this._partials[i-1]=o;break;case"custom":o=this._partials[i-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}0!==o?(r[i]=-o*Math.sin(t*i),a[i]=o*Math.cos(t*i)):(r[i]=0,a[i]=0)}return[r,a]}_inverseFFT(e,t,n){let r=0;const a=e.length;for(let s=0;s<a;s++)r+=e[s]*Math.cos(s*n)+t[s]*Math.sin(s*n);return r}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let n=0;const r=2*Math.PI;for(let a=0;a<32;a++)n=Math.max(this._inverseFFT(e,t,a/32*r),n);return function(e,t,n){return Math.max(Math.min(e,n),t)}(-this._inverseFFT(e,t,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return rs(this,void 0,void 0,(function*(){return Ai(this,e)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ki._periodicWaveCache=[];class Ci extends Xs{constructor(){super(Object.assign(ds(Ci.getDefaults(),arguments,["context"])))}connect(e,t=0,n=0){return ri(this,e,t,n),this}}class Si extends Ci{constructor(){super(Object.assign(ds(Si.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=ds(Si.getDefaults(),arguments,["mapping","length"]);Ya(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):"function"==typeof e.mapping&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(ni.getDefaults(),{length:1024})}setMap(e,t=1024){const n=new Float32Array(t);for(let r=0,a=t;r<a;r++){const t=r/(a-1)*2-1;n[r]=e(t,r)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){Ua(["none","2x","4x"].some((t=>t.includes(e))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Ei extends Ci{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Si({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ii extends ni{constructor(){super(Object.assign(ds(Ii.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=ds(Ii.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Js({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ni.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ti extends wi{constructor(){super(ds(Ti.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Ei({context:this.context}),this._modulationNode=new Js({context:this.context});const e=ds(Ti.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ki({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ki({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ii({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ns(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ki.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return rs(this,void 0,void 0,(function*(){return Ai(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ni extends wi{constructor(){super(ds(Ni.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Js({context:this.context,gain:0});const e=ds(Ni.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ki({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new ni({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new ki({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ii({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ii({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ns(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ki.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return rs(this,void 0,void 0,(function*(){return Ai(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Di extends wi{constructor(){super(ds(Di.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Js({context:this.context,gain:0}),this._thresh=new Si({context:this.context,mapping:e=>e<=0?-1:1});const e=ds(Di.getDefaults(),arguments,["frequency","width"]);this.width=new ni({context:this.context,units:"audioRange",value:e.width}),this._triangle=new ki({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ns(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(wi.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return rs(this,void 0,void 0,(function*(){return Ai(this,e)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class _i extends wi{constructor(){super(ds(_i.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=ds(_i.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new ni({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ni({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Ns(this,["frequency","detune"])}static getDefaults(){return Object.assign(ki.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach((t=>t.start(e)))}_stop(e){e=this.toSeconds(e),this._forEach((t=>t.stop(e)))}_restart(e){this._forEach((t=>t.restart(e)))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach((t=>t.type=e))}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,n=e/(this._oscillators.length-1);this._forEach(((e,r)=>e.detune.value=t+n*r))}}get count(){return this._oscillators.length}set count(e){if(ja(e,1),this._oscillators.length!==e){this._forEach((e=>e.dispose())),this._oscillators=[];for(let t=0;t<e;t++){const n=new ki({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:0===t?()=>this.onstop(this):_s});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[t]=n}this.spread=this._spread,"started"===this.state&&this._forEach((e=>e.start()))}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach(((e,t)=>e.phase=this._phase+t/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach((t=>t.baseType=e)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach((t=>t.partials=e)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach((t=>t.partialCount=e)),this._type=this._oscillators[0].type}asArray(e=1024){return rs(this,void 0,void 0,(function*(){return Ai(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((e=>e.dispose())),this}}class Oi extends wi{constructor(){super(ds(Oi.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ii({context:this.context,value:2});const e=ds(Oi.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Di({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ki({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ns(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(wi.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return rs(this,void 0,void 0,(function*(){return Ai(this,e)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Bi={am:Ti,fat:_i,fm:Ni,oscillator:ki,pulse:Di,pwm:Oi};class zi extends wi{constructor(){super(ds(zi.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=ds(zi.getDefaults(),arguments,["frequency","type"]);this.frequency=new ni({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ni({context:this.context,units:"cents",value:e.detune}),Ns(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(ki.getDefaults(),Ni.getDefaults(),Ti.getDefaults(),_i.getDefaults(),Di.getDefaults(),Oi.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some((e=>this._sourceType===e))&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=Bi[e],n=this.now();if(this._oscillator){const e=this._oscillator;e.stop(n),this.context.setTimeout((()=>e.dispose()),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(t=this._oscillator.type),"fm"===e?this.type="fm"+t:"am"===e?this.type="am"+t:"fat"===e?this.type="fat"+t:"oscillator"===e?this.type=t:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,t){return e instanceof Bi[t]}get baseType(){return this._oscillator.baseType}set baseType(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===e||"pwm"===e||(this._oscillator.baseType=e)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(e){this._getOscType(this._oscillator,"fat")&&Za(e)&&(this._oscillator.count=e)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(e){this._getOscType(this._oscillator,"fat")&&Za(e)&&(this._oscillator.spread=e)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Qa(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(e=1024){return rs(this,void 0,void 0,(function*(){return Ai(this,e)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function Ri(e,t=1/0){const n=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){ja(r,e,t),n.set(this,r)}})}}function Mi(e,t=1/0){const n=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){ja(this.toSeconds(r),e,t),n.set(this,r)}})}}class Fi extends wi{constructor(){super(ds(Fi.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=ds(Fi.getDefaults(),arguments,["url","onload"]);this._buffer=new Os({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(wi.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:_s,onerror:_s,playbackRate:1,reverse:!1})}load(e){return rs(this,void 0,void 0,(function*(){return yield this._buffer.load(e),this._onload(),this}))}_onload(e=_s){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,n){return super.start(e,t,n),this}_start(e,t,n){t=this._loop?ps(t,this._loopStart):ps(t,0);const r=this.toSeconds(t),a=n;n=ps(n,Math.max(this._buffer.duration-r,0));let s=this.toSeconds(n);s/=this._playbackRate,e=this.toSeconds(e);const i=new vi({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(e+s),this._state.setStateAtTime("stopped",e+s,{implicitEnd:!0})),this._activeSources.add(i),this._loop&&Ha(a)?i.start(e,r):i.start(e,r,s-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach((e=>e.stop(t)))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){this._stop(e),this._start(e,t,n)}seek(e,t){const n=this.toSeconds(t);if("started"===this._state.getValueAtTime(n)){const t=this.toSeconds(e);this._stop(n),this._start(n,t)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ja(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopStart=e}))}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ja(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopEnd=e}))}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach((t=>{t.loop=e})),e)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),n=this._state.getNextState("stopped",t);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((e=>e.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(e,t)}))}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((e=>e.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}ns([Mi(0)],Fi.prototype,"fadeIn",void 0),ns([Mi(0)],Fi.prototype,"fadeOut",void 0);class Pi extends Xs{constructor(){super(ds(Pi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new ni({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=ds(Pi.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Xs.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Qa(e))return e;{let n;for(n in Li)if(Li[n][t]===e)return n;return e}}_setCurve(e,t,n){if(Qa(n)&&Reflect.has(Li,n)){const r=Li[n];Xa(r)?"_decayCurve"!==e&&(this[e]=r[t]):this[e]=r}else{if(!Ya(n)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+n);this[e]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){Ua(["linear","exponential"].some((t=>t===e)),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let n=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),a=this.getValueAtTime(e);if(a>0){n=(1-a)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(t,n,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(t,n,e);else{this._sig.cancelAndHoldAtTime(e);let r=this._attackCurve;for(let e=1;e<r.length;e++)if(r[e-1]<=a&&a<=r[e]){r=this._attackCurve.slice(e),r[0]=a;break}this._sig.setValueCurveAtTime(r,e,n,t)}if(r&&this.sustain<1){const a=t*this.sustain,s=e+n;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(a,r+s):this._sig.exponentialApproachValueAtTime(a,s,r)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,e):(Ua(Ya(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,n,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,n=1){return t=this.toSeconds(t),this.triggerAttack(t,n),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,n=0){return ri(this,e,t,n),this}asArray(e=1024){return rs(this,void 0,void 0,(function*(){const t=e/this.context.sampleRate,n=new Bs(1,t,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),a=r+this.toSeconds(this.release),s=.1*a,i=a+s,o=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/i,decay:t*this.toSeconds(this.decay)/i,release:t*this.toSeconds(this.release)/i,context:n}));o._sig.toDestination(),o.triggerAttackRelease(t*(r+s)/i,0);return(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}ns([Mi(0)],Pi.prototype,"attack",void 0),ns([Mi(0)],Pi.prototype,"decay",void 0),ns([Ri(0,1)],Pi.prototype,"sustain",void 0),ns([Mi(0)],Pi.prototype,"release",void 0);const Li=(()=>{const e=128;let t,n;const r=[];for(t=0;t<e;t++)r[t]=Math.sin(t/127*(Math.PI/2));const a=[];for(t=0;t<127;t++){n=t/127;const e=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;a[t]=e/10+.83*n}a[127]=1;const s=[];for(t=0;t<e;t++)s[t]=Math.ceil(t/127*5)/5;const i=[];for(t=0;t<e;t++)n=t/127,i[t]=.5*(1-Math.cos(Math.PI*n));const o=[];for(t=0;t<e;t++){n=t/127;const e=4*Math.pow(n,3)+.2,r=Math.cos(e*Math.PI*2*n);o[t]=Math.abs(r*(1-n))}function l(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=1-e[n];return t}return{bounce:{In:l(o),Out:o},cosine:{In:r,Out:(u=r,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:a,Out:l(a)},sine:{In:i,Out:l(i)},step:{In:s,Out:l(s)}};var u})();class Vi extends Xs{constructor(){super(ds(Vi.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=ds(Vi.getDefaults(),arguments);this._volume=this.output=new pi({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ns(this,"volume")}static getDefaults(){return Object.assign(Xs.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const n=this["_original_"+e]=this[e];this[e]=(...e)=>{const r=e[t],a=this.context.transport.schedule((r=>{e[t]=r,n.apply(this,e)}),r);this._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach((e=>this.context.transport.clear(e))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,t,n,r){const a=this.toSeconds(n),s=this.toSeconds(t);return this.triggerAttack(e,a,r),this.triggerRelease(a+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Wi extends Vi{constructor(){super(ds(Wi.getDefaults(),arguments));const e=ds(Wi.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Vi.getDefaults(),{detune:0,onsilence:_s,portamento:0})}triggerAttack(e,t,n=1){this.log("triggerAttack",e,t,n);const r=this.toSeconds(t);return this._triggerEnvelopeAttack(r,n),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const n=this.toSeconds(t),r=e instanceof js?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const e=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,e,n)}else this.frequency.setValueAtTime(r,n);return this}}ns([Mi(0)],Wi.prototype,"portamento",void 0);class Ui extends Pi{constructor(){super(ds(Ui.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Js({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ji extends Wi{constructor(){super(ds(ji.getDefaults(),arguments)),this.name="Synth";const e=ds(ji.getDefaults(),arguments);this.oscillator=new zi(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ui(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Ns(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{envelope:Object.assign(ms(Pi.getDefaults(),Object.keys(Xs.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(ms(zi.getDefaults(),[...Object.keys(wi.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+t+n)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Gi extends ji{constructor(){super(ds(Gi.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=ds(Gi.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Ns(this,["oscillator","envelope"])}static getDefaults(){return hs(Wi.getDefaults(),ji.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const n=this.toSeconds(t),r=this.toFrequency(e instanceof js?e.toFrequency():e),a=r*this.octaves;return this.oscillator.frequency.setValueAtTime(a,n),this.oscillator.frequency.exponentialRampToValueAtTime(r,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ns([Ri(0)],Gi.prototype,"octaves",void 0),ns([Mi(0)],Gi.prototype,"pitchDecay",void 0);const qi=new Set;function $i(e){qi.add(e)}function Hi(e,t){const n=`registerProcessor("${e}", ${t})`;qi.add(n)}$i('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');$i("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");$i("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");Hi("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Ki extends Vi{constructor(){super(ds(Ki.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=ds(Ki.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),t={};Object.keys(e.urls).forEach((n=>{const r=parseInt(n,10);if(Ua(Ja(n)||Za(r)&&isFinite(r),`url key is neither a note or midi pitch: ${n}`),Ja(n)){const r=new js(this.context,n).toMidi();t[r]=e.urls[n]}else Za(r)&&isFinite(r)&&(t[r]=e.urls[r])})),this._buffers=new li({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Vi.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:_s,onerror:_s,release:.1,urls:{}})}_findClosest(e){let t=0;for(;t<96;){if(this._buffers.has(e+t))return-t;if(this._buffers.has(e-t))return t;t++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,n=1){return this.log("triggerAttack",e,t,n),Array.isArray(e)||(e=[e]),e.forEach((e=>{const r=Vs(new js(this.context,e).toFrequency()),a=Math.round(r),s=r-a,i=this._findClosest(a),o=a-i,l=this._buffers.get(o),u=Fs(i+s),c=new vi({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);c.start(t,0,l.duration/u,n),Ya(this._activeSources.get(a))||this._activeSources.set(a,[]),this._activeSources.get(a).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(a)){const e=this._activeSources.get(a),t=e.indexOf(c);-1!==t&&e.splice(t,1)}}})),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach((e=>{const n=new js(this.context,e).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const e=this._activeSources.get(n);t=this.toSeconds(t),e.forEach((e=>{e.stop(t)})),this._activeSources.set(n,[])}})),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach((e=>{for(;e.length;){e.shift().stop(t)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,n,r=1){const a=this.toSeconds(n);return this.triggerAttack(e,a,r),Ya(t)?(Ua(Ya(e),"notes must be an array when duration is array"),e.forEach(((e,n)=>{const r=t[Math.min(n,t.length-1)];this.triggerRelease(e,a+this.toSeconds(r))}))):this.triggerRelease(e,a+this.toSeconds(t)),this}add(e,t,n){if(Ua(Ja(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Ja(e)){const r=new js(this.context,e).toMidi();this._buffers.add(r,t,n)}else this._buffers.add(e,t,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((e=>{e.forEach((e=>e.dispose()))})),this._activeSources.clear(),this}}ns([Mi(0)],Ki.prototype,"attack",void 0),ns([Mi(0)],Ki.prototype,"release",void 0);class Zi extends Xs{constructor(){super(Object.assign(ds(Zi.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=ds(Zi.getDefaults(),arguments,["pan"]);this.pan=new Zs({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Ns(this,"pan")}static getDefaults(){return Object.assign(Xs.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}Hi("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Xi extends Xs{constructor(){super(ds(Xi.getDefaults(),arguments,["solo"])),this.name="Solo";const e=ds(Xi.getDefaults(),arguments,["solo"]);this.input=this.output=new Js({context:this.context}),Xi._allSolos.has(this.context)||Xi._allSolos.set(this.context,new Set),Xi._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Xs.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Xi._allSolos.get(this.context).forEach((e=>e._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){Xi._soloed.has(this.context)||Xi._soloed.set(this.context,new Set),Xi._soloed.get(this.context).add(this)}_removeSolo(){Xi._soloed.has(this.context)&&Xi._soloed.get(this.context).delete(this)}_isSoloed(){return Xi._soloed.has(this.context)&&Xi._soloed.get(this.context).has(this)}_noSolos(){return!Xi._soloed.has(this.context)||Xi._soloed.has(this.context)&&0===Xi._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Xi._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Xi._allSolos=new Map,Xi._soloed=new Map;class Yi extends Xs{constructor(){super(ds(Yi.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=ds(Yi.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Zi({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new pi({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Ns(this,["pan","volume"])}static getDefaults(){return Object.assign(Xs.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Qi extends Xs{constructor(){super(ds(Qi.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=ds(Qi.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Xi({solo:e.solo,context:this.context}),this._panVol=this.output=new Yi({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ns(this,["pan","volume"])}static getDefaults(){return Object.assign(Xs.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Qi.buses.has(e)||Qi.buses.set(e,new Js({context:this.context})),Qi.buses.get(e)}send(e,t=0){const n=this._getBus(e),r=new Js({context:this.context,units:"decibels",gain:t});return this.connect(r),r.connect(n),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Qi.buses=new Map;class Ji extends Xs{constructor(){super(...arguments),this.name="Listener",this.positionX=new Zs({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Zs({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Zs({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Zs({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Zs({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Zs({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Zs({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Zs({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Zs({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Xs.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ks((e=>{e.listener=new Ji({context:e})})),Ss((e=>{e.listener.dispose()}));Ms().transport;Ms().destination,Ms().destination;Ms().listener;Ms().draw;Ms();const eo=new ji({oscillator:{type:"sine"},envelope:{attack:.001,decay:.001,sustain:1,release:.001}}).connect(new pi(-17).toDestination()),to=new ji({oscillator:{type:"sine"}}).connect(new pi(-5).toDestination()),no=(e=0)=>{switch(e){case 0:default:return void eo.triggerAttackRelease(2e3,.05);case 1:return void eo.triggerAttackRelease(500,.5);case 2:return void eo.triggerAttackRelease(200,.6);case 3:return void to.triggerAttackRelease(200,.2)}};var ro=__webpack_require__(6455),ao=__webpack_require__.n(ro);const so=(e,{showIcon:t})=>({icon:t?"info":void 0,allowEscapeKey:!1,allowEnterKey:!1,allowOutsideClick:!1,showConfirmButton:!0,confirmButtonText:m.C.RC_ok[e.L],showClass:{popup:"fadeInUp",icon:""},hideClass:{popup:"fadeOutDown"},iconColor:e._CONST.COLOR.ORANGE,confirmButtonColor:"#aaa",customClass:{popup:"my__swal2__container",icon:"my__swal2__icon",title:"my__swal2__title",htmlContainer:`my__swal2__html rc-lang-${e.LD.toLowerCase()}`,confirmButton:"rc-button rc-go-button"}});function io(e,t,n=!1,r){const a=t.control;let s=e._CONST.N.PPI_DONT_USE;e.screenPpi&&(s=e.screenPpi.value);let i=!0,o=[],l=0;const u=document.createElement("div");u.innerHTML='<canvas id="blind-spot-canvas" class="cursor-grab"></canvas>',e.background.appendChild(u),e._constructFloatInstructionElement("blind-spot-instruction",m.C.RC_distanceTrackingCloseL[e.L]),e._addCreditOnBackground(m.C.RC_viewingBlindSpotCredit[e.L]);const c=document.querySelector("#blind-spot-canvas"),h=c.getContext("2d"),d=document.getElementById("blind-spot-instruction");let f="left";e._setFloatInstructionElementPos(f,16);let g,y=j(f,c.width);const b=()=>{c.style.width=(c.width=window.innerWidth)+"px",c.style.height=(c.height=window.innerHeight)+"px",y=j(f,c.width),g=q(f,y,c.width)},w=new ResizeObserver((()=>{b()}));w.observe(e.background),b();let v=g["left"===f?0:1],A=v,x=e._CONST.COLOR.DARK_RED,k="left"===f?1:-1;const C=(t=!0)=>{i=!1,a&&function(e,t){document.getElementById(e).removeEventListener("mousedown",t),document.getElementById(e).removeEventListener("touchstart",t)}("blind-spot-canvas",P),w.unobserve(e.background),e._removeBackground(),!e._trackingSetupFinishedStatus.distance&&t&&(e._trackingSetupFinishedStatus.distance=!0,e.gazeTracker.checkInitialized("distance",!1)&&e.endDistance()),(0,O.j)(R),(0,O.j)(M,"keyup")},S=async()=>{if(no(),l+=1,o.push({dist:(0,p.lt)(oo(v,y,s),t.decimalPlace),v:k,closedEyeSide:f,crossX:y,circleX:v,ppi:s,timestamp:performance.now()}),2===Math.floor(l/t.repeatTesting))if(function(e){let t=[],n=[];for(let r of e)"left"===r.closedEyeSide?t.push(r.dist):n.push(r.dist);const r=(0,p.Y8)(t),a=(0,p.Y8)(n);return Math.abs(r-a)<.2*Math.min(r,a)}(o)){const a=e.newViewingDistanceData={value:(0,p.lt)((0,p.C2)(lo(o)),t.decimalPlace),timestamp:performance.now(),method:e._CONST.VIEW_METHOD.B,raw:{...o}};let s;n?(s="trackDistance",i=!1,w.unobserve(e.background),(0,O.j)(R),(0,O.j)(M,"keyup")):(s="measureDistance",C(!1)),t.check?await e._checkDistance(r,a,s,"trackDistance"===s,t.checkCallback):(0,p.p1)(r,a)}else{l=0;const t=o[0];z(t.v,t.closedEyeSide,t.crossX),o=[],ao().fire({...so(e,{showIcon:!1}),icon:void 0,html:m.C.RC_viewingBlindSpotRejected[e.L],allowEnterKey:!0})}else l%t.repeatTesting==0?("left"===f?(f="right",d.innerHTML=m.C.RC_distanceTrackingCloseR[e.L]):(f="left",d.innerHTML=m.C.RC_distanceTrackingCloseL[e.L]),e._setFloatInstructionElementPos(f,16),z(1,f,j(f,c.width),!1,!0)):(k=-k,_(f,g))};let E=!1,I=null;const T=t=>{E||(N(),E=!0,x=e._CONST.COLOR.RED,I=setInterval((()=>{"ArrowLeft"===t.key?(v-=10,D()):"ArrowRight"===t.key&&(v+=10,D())}),30))},N=()=>{E=!1,x=e._CONST.COLOR.DARK_RED,I&&(clearInterval(I),I=null)},D=()=>{A=(0,p.jH)(v,...g),v=A},_=(e,t)=>{let n=t["left"===e?0:1],r=Math.abs(t[1]-t[0])/4,a=(0,p.Fy)(n-r,n+r);(a-t[0])*(a-t[1])>0&&(a=2*n-a),v=a},z=(t,n,r,a=!0,s=!0)=>{k=t,f=n,y=r,g=q(f,y,c.width),a&&(d.innerHTML="left"===f?m.C.RC_distanceTrackingCloseL[e.L]:m.C.RC_distanceTrackingCloseR[e.L],e._setFloatInstructionElementPos(f,16)),s&&(v=g["left"===f?0:1],_(n,g))},R=(0,O.P)({Escape:t.showCancelButton?C:void 0,Enter:S," ":S,ArrowLeft:a?T:p.mz,ArrowRight:a?T:p.mz}),M=(0,O.P)({ArrowLeft:a?N:p.mz,ArrowRight:a?N:p.mz},"keyup");(0,B.A)(e.L,e.background,{go:S,cancel:t.showCancelButton?C:void 0},e.params.showCancelButton);const F={x:null,circleX:null},P=t=>{const n=!(!t.touches||!t.touches[0]);let r,a;if(n||t.preventDefault(),n?(r=t.touches[0].clientX,a=t.touches[0].clientY):(r=t.clientX,a=t.clientY),s=v,i=c.height/2,o=r,l=a,(0,p.iU)(s,i,o,l)<15){F.x=r,F.circleX=v;const a=document.getElementById("blind-spot-canvas");x=e._CONST.COLOR.RED,a.classList.replace("cursor-grab","cursor-grabbing");const s=e=>{let r;t.preventDefault(),e.preventDefault(),r=n?e.touches[0].clientX:e.clientX,v=F.circleX+r-F.x,v=(0,p.jH)(v,...q(f,y,c.width))};n?document.addEventListener("touchmove",s):document.addEventListener("mousemove",s);const i=()=>{n?(document.removeEventListener("touchend",i),document.removeEventListener("touchmove",s)):(document.removeEventListener("mouseup",i),document.removeEventListener("mousemove",s)),F.x=null,F.circleX=null,x=e._CONST.COLOR.DARK_RED,a.classList.replace("cursor-grabbing","cursor-grab")};n?document.addEventListener("touchend",i):document.addEventListener("mouseup",i)}var s,i,o,l};a&&function(e,t){document.getElementById(e).addEventListener("mousedown",t),document.getElementById(e).addEventListener("touchstart",t)}("blind-spot-canvas",P);let L=0;const V=()=>{h.clearRect(0,0,c.width,c.height),G(h,y,c.height/2),function(e,t,n,r,a,s,i=!0){t.beginPath(),t.arc(n,r,15,0,2*Math.PI),t.closePath(),t.fillStyle=i?a%4<2?s:"#fff":s,t.fill()}(0,h,v,c.height/2,L,x,t.sparkle),a||(v+=5*k,D()),i?(L++,requestAnimationFrame(V)):h.clearRect(0,0,c.width,c.height)};requestAnimationFrame(V)}function oo(e,t,n){return Math.abs(t-e)/n/(r=15,Math.tan(r*Math.PI/180))/.3937;var r}function lo(e){const t=[];for(let n of e)t.push(n.dist);return t}function uo(e,t={framerate:60,break:!1}){let n=0,r=0,a=0;const s=1e3/t.framerate,i=()=>{t.break||requestAnimationFrame(i),n=performance.now(),a=n-r,a>s&&(r=n-a%s,e())};requestAnimationFrame(i)}A.prototype.measureDistance=function(e={},t){if(!this.checkInitialized())return;let n;(0,p.Fh)(),n=void 0!==e.control&&!1===e.control?m.C.RC_viewingDistanceIntroLiMethod[this.L]:m.C.RC_viewingDistanceIntro[this.L],e=Object.assign({fullscreen:!1,repeatTesting:1,sparkle:!1,decimalPlace:1,control:!0,headline:" "+m.C.RC_viewingDistanceTitle[this.L],description:n,showDescription:!1,check:!1,checkCallback:!1,showCancelButton:!0},e),this.getFullscreen(e.fullscreen),this._addBackground(),this._replaceBackground((0,p.SG)(e.headline,e.showDescription?e.description:null,!0,"rc-hang-description")),io(this,e,!1,t)};const co=async e=>{if(navigator.permissions&&navigator.permissions.query)return navigator.permissions.query({name:"camera"}).then((async t=>{if("prompt"===t.state)return await ao().fire({...so(e,{showIcon:!1}),icon:void 0,imageUrl:"data:image/png;base64,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",imageWidth:480,imageAlt:"Please allow camera access",html:m.C.RC_requestCamera[e.L]+"<br />"+m.C.RC_privacyCamera[e.L]})})).catch((e=>{}))},ho={framerate:20,break:!0},po={pipWidthPx:0,decimalPlace:2,framerate:3,nearPoint:!0,showNearPoint:!1,desiredDistanceCm:void 0,desiredDistanceTolerance:1.2,desiredDistanceMonitor:!1,desiredDistanceMonitorCancelable:!1},mo={current:null},fo={video:!1},go=e=>{po.pipWidthPx=e.pipWidthPx,po.decimalPlace=e.decimalPlace,po.framerate=e.framerate,po.nearPoint=e.nearPoint,po.showNearPoint=e.showNearPoint,po.desiredDistanceCm=e.desiredDistanceCm,po.desiredDistanceTolerance=e.desiredDistanceTolerance,po.desiredDistanceMonitor=e.desiredDistanceMonitor,po.desiredDistanceMonitorCancelable=e.desiredDistanceMonitorCancelable},yo=(e,t,n,r)=>{e.showVideo(fo.video),fo.video=!1,e.gazeTracker.checkInitialized("gaze",!1)&&e.showGazer(n),(0,p.p1)(r,t),mo.current=t},bo=async(e,t,n,r,a)=>{e.gazeTracker.beginVideo({pipWidthPx:po.pipWidthPx},(()=>{e._removeFloatInstructionElement(),(0,p.p1)(t),a(e,po,n,r)}))},wo={current:null},vo={current:null},Ao={current:null},xo={current:null},ko={current:0},Co={current:1},So=(e,t)=>Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2]),Eo=(e,t,n,r,a,s,i,o)=>{let l=((e,t,n)=>[(-t[0]-n[0]+e.videoWidth)/2,(-t[1]-n[1]+e.videoHeight)/2])(n,r[133],r[362]);l.forEach(((t,n)=>{l[n]=(e.PDCm?e.PDCm.value:e._CONST.N.PD_DONT_USE)*t/a}));let u=e.newNearPointData={value:{x:(0,p.lt)(l[0],t.decimalPlace),y:(0,p.lt)(l[1]+screen.height/2*2.54/i,t.decimalPlace),latencyMs:o},timestamp:s};if(t.showNearPoint){let e=u.value.x*i/2.54,t=u.value.y*i/2.54;Object.assign(Ao.current.style,{left:screen.width/2-window.screenLeft+e-5+"px",top:screen.height/2-window.screenTop-(window.outerHeight-window.innerHeight)-t-5+"px"})}return u},Io=async(e,t,n,r)=>{const a=document.querySelector("#webgazerVideoFeed");(0,p._v)(1e3).then((async()=>{let s,i;ko.current=0,Co.current=1;s=await e.gazeTracker.webgazer.getTracker().model;let o=e.screenPpi?e.screenPpi.value:e._CONST.N.PPI_DONT_USE;!e.screenPpi&&t.nearPoint,t.nearPoint&&t.showNearPoint&&(Ao.current=document.createElement("div"),Ao.current.id="rc-near-point-dot",document.body.appendChild(Ao.current),Object.assign(Ao.current.style,{display:"block",zIndex:999999,width:"10px",height:"10px",background:"green",position:"fixed",top:"-15px",left:"-15px"})),xo.current=!1;const{desiredDistanceCm:l,desiredDistanceTolerance:u,desiredDistanceMonitor:c,desiredDistanceMonitorCancelable:h}=t;e._distanceTrackNudging.distanceCorrectEnabled=!0,e._distanceTrackNudging.distanceDesired=l,e._distanceTrackNudging.distanceAllowedRatio=u,vo.current=async()=>{const u=performance.now();if(i=await s.estimateFaces(a),i.length){e._trackingVideoFrameTimestamps.distance+=u;const s=i[0].scaledMesh;if(5===Co.current){if(ko.current+=So(s[133],s[362]),ko.current/=5,e._trackingVideoFrameTimestamps.distance/=5,null!==mo.current){wo.current||(wo.current=ko.current*mo.current.value,r.options.check||e._removeBackground(),e._trackingSetupFinishedStatus.distance=!0,xo.current=!0);const i=performance.now(),u=Math.round(i-e._trackingVideoFrameTimestamps.distance),d=e.newViewingDistanceData={value:(0,p.lt)(wo.current/ko.current,t.decimalPlace),timestamp:i,method:e._CONST.VIEW_METHOD.F,latencyMs:u};let m;(xo.current||c)&&(l&&e.nudgeDistance(h,r),xo.current=!1),t.nearPoint&&(m=Eo(e,t,a,s,ko.current,i,o,u)),n&&"function"==typeof n&&(e.gazeTracker.defaultDistanceTrackCallback=n,n({value:{viewingDistanceCm:d.value,nearPointCm:m?{x:m.value.x,y:m.value.y}:{x:null,y:null},latencyMs:u},timestamp:i,method:e._CONST.VIEW_METHOD.F}))}ko.current=0,Co.current=1,e._trackingVideoFrameTimestamps.distance=0}else ko.current+=So(s[133],s[362]),++Co.current}},ho.break=!1,ho.framerate=5*t.framerate,uo(vo.current,ho)}))};A.prototype.trackDistance=async function(e={},t,n){if(!this.checkInitialized())return;let r;if((0,p.Fh)(),r=void 0!==e.control&&!1===e.control?m.C.RC_viewingDistanceIntroLiMethod[this.L]:m.C.RC_viewingDistanceIntro[this.L],e=Object.assign({fullscreen:!1,repeatTesting:1,sparkle:!1,pipWidthPx:this._CONST.N.VIDEO_W[this.isMobile.value?"MOBILE":"DESKTOP"],showVideo:!0,showFaceOverlay:!1,decimalPlace:1,framerate:3,desiredDistanceCm:void 0,desiredDistanceTolerance:1.2,desiredDistanceMonitor:!1,desiredDistanceMonitorCancelable:!1,nearPoint:!1,showNearPoint:!1,control:!0,headline:" "+m.C.RC_distanceTrackingTitle[this.L],description:m.C.RC_distanceTrackingIntroStart[this.L]+y(this.L)+r+y(this.L)+m.C.RC_distanceTrackingIntroEnd[this.L],showDescription:!1,check:!1,checkCallback:null,showCancelButton:!0},e),this.getFullscreen(e.fullscreen),this.gazeTracker.checkInitialized("distance"))return this.gazeTracker._toFixedN=e.decimalPlace,this.showNearPoint(e.showNearPoint),this.showVideo(e.showVideo),void this.showFaceOverlay(e.showFaceOverlay);this._addBackground(),this._constructFloatInstructionElement("gaze-system-instruction",m.C.RC_starting[this.L]),await co(this);const a=this.gazeTracker.webgazer.params.showGazeDot,s=async()=>{this._addBackground(),this._replaceBackground((0,p.SG)(e.headline,e.showDescription?e.description:null,!0,"rc-hang-description")),this.gazeTracker.checkInitialized("gaze",!1)&&this.showGazer(!1),io(this,e,!0,(e=>{yo(this,e,a,t)}))};go(e),fo.video=e.showVideo,this.gazeTracker._init({toFixedN:1,showVideo:!0,showFaceOverlay:e.showFaceOverlay},"distance"),this._trackingSetupFinishedStatus.distance=!1;const i={options:e,callbackStatic:t,callbackTrack:n};e.nearPoint?bo(this,(()=>this._measurePD({},s)),n,i,Io):bo(this,s,n,i,Io)},A.prototype.pauseDistance=function(){return this.gazeTracker.checkInitialized("distance",!0)&&!this._trackingPaused.distance?(ho.break=!0,Ao.current&&(Ao.current.style.display="none"),this._trackingVideoFrameTimestamps.distance=0,this._trackingPaused.distance=!0,this.pauseNudger(),this):null},A.prototype.resumeDistance=function(){return this.gazeTracker.checkInitialized("distance",!0)&&this._trackingPaused.distance?(ho.break=!1,Ao.current&&(Ao.current.style.display="block"),ko.current=0,Co.current=1,this._trackingVideoFrameTimestamps.distance=0,uo(vo.current,ho),this._trackingPaused.distance=!1,this.resumeNudger(),this):null},A.prototype.endDistance=function(e=!1,t=!0){return this.gazeTracker.checkInitialized("distance",!0)?(ho.break=!0,ho.framerate=20,po.pipWidthPx=0,po.decimalPlace=2,po.framerate=3,po.nearPoint=!0,po.showNearPoint=!1,po.desiredDistanceCm=void 0,po.desiredDistanceTolerance=1.2,po.desiredDistanceMonitor=!1,po.desiredDistanceMonitorCancelable=!1,mo.current=null,wo.current=null,vo.current=null,xo.current=!1,this._trackingVideoFrameTimestamps.distance=0,this._trackingPaused.distance=!1,Ao.current&&(document.body.removeChild(Ao.current),Ao.current=null),this.endNudger(),t&&this.gazeTracker.end("distance",e),this):null},A.prototype.getDistanceNow=async function(e=null){if(!this.checkInitialized()||!this.gazeTracker.checkInitialized("distance",!0)||!ho.break)return;let t=e||this.gazeTracker.defaultDistanceTrackCallback,n=document.querySelector("#webgazerVideoFeed"),r=await this.gazeTracker.webgazer.getTracker().model;const a=performance.now();let s=await r.estimateFaces(n);if(s.length){const e=s[0].scaledMesh,r=So(e[133],e[362]);let i=performance.now();const o=(0,p.lt)(i-a,0),l=this.newViewingDistanceData={value:(0,p.lt)(wo.current/r,po.decimalPlace),timestamp:i,method:this._CONST.VIEW_METHOD.F,latencyMs:o};let u;return po.nearPoint&&(u=Eo(this,po,n,e,r,i,this.screenPpi?this.screenPpi.value:this._CONST.N.PPI_DONT_USE,o)),(0,p.p1)(t,{value:{viewingDistanceCm:l.value,nearPointCm:u?{x:u.value.x,y:u.value.y}:{x:null,y:null},latencyMs:o},timestamp:i,method:this._CONST.VIEW_METHOD.F}),l}return null},A.prototype.showNearPoint=function(e=!0){if(this.gazeTracker.checkInitialized("distance",!1)){const t=document.querySelector("#rc-near-point-dot");t&&(t.display=e?"block":"none")}};class To{constructor(e,t,n,r){this.RC=e,this.parent=t,this._buildElement(n,r)}moveTo(e){this.centerPosition={...e};const t=this._size();this.element.style.left=(0,p.jH)(this.centerPosition.x*this.RC.windowWidthPx.value-t.width/2,0,this.RC.windowWidthPx.value-t.width)+"px",this.element.style.top=(0,p.jH)(this.centerPosition.y*this.RC.windowHeightPx.value-t.height/2,0,this.RC.windowHeightPx.value-t.height)+"px"}contentTo(e){this.element.innerHTML=e}show(){this.element.style.display="block"}hide(){this.element.style.display="hide"}remove(){window.removeEventListener("resize",this._windowResizeHandler),this._windowResizeHandler=void 0,this.parent.removeChild(this.element)}_buildElement(e,t){this.element=document.createElement("div"),this.element.className="rc-look-at-guide",this.parent.appendChild(this.element),window.addEventListener("resize",this._windowResizeHandler=()=>{this.moveTo(this.centerPosition)}),this.show(),this.contentTo(t),this.moveTo(e)}_size(){return this.element.getBoundingClientRect()}}A.prototype.angleDistance=async function(e={},t,n=null){if(!this.checkInitialized())return;if((0,p.Fh)(),!this.screenPpi&&d.f,e=Object.assign({fullscreen:!1,repeatTesting:1,pipWidthPx:this._CONST.N.VIDEO_W[this.isMobile.value?"MOBILE":"DESKTOP"],showVideo:!0,showFaceOverlay:!1,decimalPlace:1,angleAsymmetryThresholdDeg:5,nearPoint:!1,showNearPoint:!1,headline:" "+m.C.RC_angleDistanceTitle[this.L],description:m.C.RC_angleDistanceIntro[this.L],check:!1,checkCallback:null,showCancelButton:!0,track:!0,framerate:3,desiredDistanceCm:void 0,desiredDistanceTolerance:1.2,desiredDistanceMonitor:!1,desiredDistanceMonitorCancelable:!1},e),this.getFullscreen(e.fullscreen),this.gazeTracker.checkInitialized("distance"))return this.gazeTracker._toFixedN=e.decimalPlace,this.showNearPoint(e.showNearPoint),this.showVideo(e.showVideo),void this.showFaceOverlay(e.showFaceOverlay);this._addBackground(),this._constructFloatInstructionElement("gaze-system-instruction",m.C.RC_starting[this.L]),await co(this);const r=this.gazeTracker.webgazer.params.showGazeDot;go(e),fo.video=e.showVideo;const a=async()=>{this._addBackground(),this._replaceBackground((0,p.SG)(e.headline,e.description,!1)),this.gazeTracker.checkInitialized("gaze",!1)&&this.showGazer(!1),await No(this,e,(e=>{yo(this,e,r,t)}))};this.gazeTracker._init({toFixedN:1,showVideo:!0,showFaceOverlay:e.showFaceOverlay},"distance"),this._trackingSetupFinishedStatus.distance=!1;const s={options:e,callbackStatic:t,callbackTrack:n};e.nearPoint?await bo(this,(()=>this._measurePD({},a)),n,s,Io):await bo(this,a,n,s,Io)};const No=async(e,t,n)=>{const r=document.querySelector("#webgazerVideoFeed"),a=await e.gazeTracker.webgazer.getTracker().model,s=[];let i=1,o=0;const l={framerate:20,break:!0},u=e.screenPpi?e.screenPpi.value:e._CONST.N.PPI_DONT_USE,c=[{name:"center",position:[.5,.5]},{name:"left",position:[0,.5]},{name:"center",position:[.5,.5]},{name:"right",position:[1,.5]}];let h=0,d=c[h],m=!1;const f=new To(e,e.background,{x:d.position[0],y:d.position[1]},"Look<br />Here"),g={},y=()=>{m=!0},b=()=>{l.break=!0,l.framerate=20,f.remove(),e._removeBackground(),e._trackingSetupFinishedStatus.distance=!0,e.gazeTracker.checkInitialized("distance",!1)&&e.endDistance(),(0,O.j)(w)},w=(0,O.P)({Escape:t.showCancelButton?b:void 0,Enter:y," ":y});(0,B.A)(e.L,e.background,{go:y,cancel:t.showCancelButton?b:void 0},e.params.showCancelButton);const v=()=>{no(),d=c[h],f.moveTo({x:d.position[0],y:d.position[1]}),m=!1,i=1,o=0};l.break=!1,l.framerate=5*po.framerate,uo((async()=>{if(m){const m=await a.estimateFaces(r);if(m.length){const r=m[0].mesh;5===i?(o+=Do(r[133],r[362]),o/=5,void 0===g[d.name]&&(g[d.name]=[]),g[d.name].push(o),s.push({averageAngleDeg:o,targetDirection:d.name,frameCount:5,ppi:u,timestamp:performance.now()}),h++,h<c.length?v():Oo(g)?(async r=>{l.break=!0,l.framerate=20;const a=e.newViewingDistanceData={value:(0,p.$V)(r),timestamp:performance.now(),method:e._CONST.VIEW_METHOD.T,raw:{...s}};t.track?(0,O.j)(w):b(),t.check?await e._checkDistance(n,a,"angleDistance",t.track,t.checkCallback):(0,p.p1)(n,a)})(_o(e,u,g)):(h=0,v())):(o+=Do(r[133],r[362]),++i)}}}),l)},Do=(e,t)=>180*Math.atan(Math.abs(t[2]-e[2])/Math.abs(t[0]-e[0]))/Math.PI,_o=(e,t,n)=>{const r=((0,p.Y8)(n.left)+(0,p.Y8)(n.right))/2;return e.windowWidthPx.value/2*2.54/t/Math.tan(r*Math.PI/180)},Oo=(e,t)=>!!d.f||Math.abs((0,p.Y8)(e.left)-(0,p.Y8)(e.right))<t&&Math.abs((0,p.Y8)(e.center))<1;A.prototype.nudgeDistance=function(e=!1,t){if(!this.checkInitialized())return;const{distanceDesired:n,distanceAllowedRatio:r}=this._distanceTrackNudging;if(n){if(this.viewingDistanceCm&&this.viewingDistanceCm.method===this._CONST.VIEW_METHOD.F){if(Bo(this.viewingDistanceCm.value,n,r))return!0;{const a=()=>{this._removeNudger(),clearInterval(this._distanceTrackNudging.distanceCorrecting),this._distanceTrackNudging.distanceCorrecting=null,(0,O.j)(i)},s=async()=>{this.endDistance(),this._addBackground(),await(0,p._v)(2e3),this.trackDistance(t.options,t.callbackStatic,t.callbackTrack)},i=(0,O.P)(e?{Escape:this.endNudger}:{});if(null===this._distanceTrackNudging.distanceCorrecting&&this._distanceTrackNudging.distanceCorrectEnabled){const[t,o,l]=zo(this);let u=e?{cancel:()=>{this.endNudger()}}:{};u={...u,custom:{callback:s,content:m.C.RC_distanceTrackingRedo[this.L]}},(0,B.A)(this.L,this.nudger,u,this.params.showCancelButton);const c=()=>{t.innerHTML=Ro(this,this.viewingDistanceCm.value,n),o.innerHTML=Math.round(this.viewingDistanceCm.value),l.innerHTML=Math.round(n)};c(),this._distanceTrackNudging.distanceCorrecting=setInterval((()=>{c(),Bo(this.viewingDistanceCm.value,n,r)&&(a(),(0,O.j)(i))}),200)}else this._distanceTrackNudging.distanceCorrecting&&!this._distanceTrackNudging.distanceCorrectEnabled&&a();return!1}}return!1}};const Bo=(e,t,n)=>{if(!Mo(n))return!1;let r=t*n,a=t/n;return e<=Math.max(r,a)&&e>=Math.min(r,a)},zo=e=>(e._addNudger(`<div id="rc-distance-correct">\n  <p id="rc-distance-correct-instruction"></p>\n  <p id="rc-distance-correct-guide">${m.C.RC_distanceTrackingGuide[e.L].replace("xx1",'<span class="rc-distance-num rc-distance-now" id="rc-distance-now"></span>').replace("xx2",'<span class="rc-distance-num rc-distance-desired" id="rc-distance-desired"></span>')}</p>\n</div>\n  `),[document.querySelector("#rc-distance-correct-instruction"),document.querySelector("#rc-distance-now"),document.querySelector("#rc-distance-desired")]),Ro=(e,t,n)=>t>=n?m.C.RC_distanceTrackingMoveCloser[e.L]:m.C.RC_distanceTrackingMoveFurther[e.L],Mo=e=>!isNaN(e)&&(e>0&&1!==e);A.prototype.setDistanceDesired=function(e,t=null){return this._distanceTrackNudging.distanceDesired=e,t&&Mo(t)&&(this._distanceTrackNudging.distanceAllowedRatio=t),e},A.prototype._addNudger=function(e){if(null!==this.nudger)return;let t=document.getElementById("calibration-nudger");return t||(t=document.createElement("div"),t.id="calibration-nudger",t.className=`calibration-nudger rc-lang-${this.LD.toLowerCase()}`,document.body.classList.add("lock-view"),document.body.appendChild(t),t.style.background=this.params.backgroundColor),e&&(t.innerHTML=e),this._nudger.element=t,this.nudger},A.prototype._removeNudger=function(){let e=document.getElementById("calibration-nudger");return!!e&&(document.body.classList.remove("lock-view"),document.body.removeChild(e),this._nudger={element:null},!0)},A.prototype.pauseNudger=function(){document.body.classList.add("hide-nudger")},A.prototype.resumeNudger=function(){document.body.classList.remove("hide-nudger")},A.prototype.endNudger=function(){return!!this._distanceTrackNudging.distanceCorrectEnabled&&(this._removeNudger(),this._distanceTrackNudging.distanceCorrectEnabled=!1,this._distanceTrackNudging.distanceCorrecting&&clearInterval(this._distanceTrackNudging.distanceCorrecting),this._distanceTrackNudging.distanceCorrecting=null,this._distanceTrackNudging.distanceDesired=null,this._distanceAllowedRatio=null,!0)};function Fo(e,t,n,r,a){let s=setInterval((()=>{let i=document.getElementById("webgazerVideoContainer");i&&(i.style.height=t/parseInt(i.style.width)*parseInt(i.style.height)+"px",i.style.width=t+"px",i.style.opacity=n,r.setVideoViewerSize(parseInt(i.style.width),parseInt(i.style.height)),Po(e,i),setTimeout((()=>{e.videoOpacity(),e.isMobile.value?i.style.transition="right 0.5s, top 0.5s, width 0.5s, height 0.5s, border-radius 0.5s":i.style.transition="left 0.5s, bottom 0.5s, width 0.5s, height 0.5s, border-radius 0.5s",(0,p.p1)(a)}),700),clearInterval(s))}),50)}function Po(e,t){e.isMobile.value?(t.style.left="unset",t.style.right=e._CONST.N.VIDEO_MARGIN,t.style.top=e._CONST.N.VIDEO_MARGIN,t.style.bottom="unset"):(t.style.left=e._CONST.N.VIDEO_MARGIN,t.style.right="unset",t.style.top="unset",t.style.bottom=e._CONST.N.VIDEO_MARGIN)}const Lo={video:!1,videoWidth:0,videoHeight:0,opacity:1,gaze:!1,faceOverlay:!1},Vo=.9;A.prototype._measurePD=function(e={},t){if(!this.checkInitialized())return;(0,p.Fh)(),e=Object.assign({fullscreen:!1,headline:" "+m.C.RC_nearPointTitle[this.L],description:m.C.RC_nearPointIntro[this.L],shortDescription:m.C.RC_nearPointIntro[this.L]},e),this.getFullscreen(e.fullscreen),this._replaceBackground(),this._replaceBackground((0,p.SG)(e.headline,e.shortDescription,!0));const n=this.screenPpi?this.screenPpi.value:this._CONST.N.PPI_DONT_USE;let[r,a]=Wo(this),[s,i]=Go(this,n,r,a);const o=this,l=(e=!0)=>{s.removeEventListener("mousedown",i),this._removeBackground(),this.showVideo(Lo.video),this.showGazer(Lo.gaze),this.showFaceOverlay(Lo.faceOverlay),this.gazeTracker.webgazer.showFaceFeedbackBox(!0),Object.assign(document.querySelector("#webgazerVideoContainer").style,{height:Lo.videoHeight,width:Lo.videoWidth,opacity:Lo.opacity,borderRadius:"5px"}),Po(o,document.querySelector("#webgazerVideoContainer")),Object.assign(document.querySelector("#webgazerVideoFeed").style,{height:Lo.videoHeight,width:Lo.videoWidth,top:"unset",transform:"scale(-1, 1)",transformOrigin:"unset"}),Lo.video=!1,Lo.videoWidth=0,Lo.videoHeight=0,Lo.opacity=1,Lo.gaze=!1,Lo.faceOverlay=!1,!o._trackingSetupFinishedStatus.distance&&e&&(o._trackingSetupFinishedStatus.distance=!0,o.endDistance()),(0,O.j)(c)},u=()=>{if(-100!==jo){const e={value:2.54*jo/n,timestamp:performance.now()};return this.newPDData=e,l(!1),(0,p.p1)(t,e)}},c=(0,O.P)({Escape:l,Enter:u," ":u});(0,B.A)(this.L,this.background,{go:u,cancel:l},this.params.showCancelButton),setTimeout((()=>{ao().fire({...so(this,{showIcon:!1}),icon:void 0,imageUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAADwCAIAAABXFyDtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGx2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuZGFiYWNiYiwgMjAyMS8wNC8xNC0wMDozOTo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA3LTI0VDExOjU3OjU0LTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wOC0yNFQyMjoyNDo1MC0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wOC0yNFQyMjoyNDo1MC0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiMTIzYjE3ZS0wMzUzLTQ4YWEtOGJkYy0zNTk0YmRkODBjMjEiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo4MjdjNGM2Yi1jMzExLTE3NGQtYTgxZC0zZGUyN2JmMTgxYjAiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowNWZiNzMxNi1hNDFiLTQyZTYtYmJiNy0yYTY2ODgxMzI1YTAiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA1ZmI3MzE2LWE0MWItNDJlNi1iYmI3LTJhNjY4ODEzMjVhMCIgc3RFdnQ6d2hlbj0iMjAyMS0wNy0yNFQxMTo1Nzo1NC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmQ3MjQ3ZjY2LTllZjItNDgzNy1hMGYzLWFmNzdmZDBjNDUxMyIgc3RFdnQ6d2hlbj0iMjAyMS0wNy0yNFQxMjozNTo1My0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmIxMjNiMTdlLTAzNTMtNDhhYS04YmRjLTM1OTRiZGQ4MGMyMSIgc3RFdnQ6d2hlbj0iMjAyMS0wOC0yNFQyMjoyNDo1MC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+e9Ws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",imageWidth:480,imageAlt:"Measurement Instruction",html:e.description})}),700)};const Wo=e=>{let t=document.querySelector("#webgazerVideoFeed");if(t)return Uo(e,t,document.querySelector("#webgazerVideoCanvas"),document.querySelector("#webgazerVideoContainer"))},Uo=(e,t,n,r,a=null)=>{a||t.captureStream&&(a=t.captureStream());let s=.3*window.innerWidth/parseInt(t.style.width)*parseInt(t.style.height);return Lo.videoWidth=r.style.width,Lo.videoHeight=r.style.height,Lo.opacity=r.style.opacity,Object.assign(r.style,{height:s+"px",width:window.innerWidth*Vo+"px",opacity:1,borderRadius:"15px"}),e.isMobile.value?Object.assign(r.style,{right:.5*window.innerWidth*(1-Vo)+"px",top:.5*(window.innerHeight-s)+"px"}):Object.assign(r.style,{left:.5*window.innerWidth*(1-Vo)+"px",bottom:.5*(window.innerHeight-s)+"px"}),Object.assign(t.style,{height:s*Vo/.3+"px",width:window.innerWidth*Vo+"px",top:.6000000000000001*-s+"px",transform:"scale(-2, 2)",transformOrigin:"center"}),Lo.video=e.gazeTracker.webgazer.params.showVideo,Lo.gaze=e.gazeTracker.webgazer.params.showGazeDot,Lo.faceOverlay=e.gazeTracker.webgazer.params.showFaceOverlay,Lo.video||e.showVideo(!0),Lo.gaze&&e.showGazer(!1),Lo.faceOverlay&&e.showFaceOverlay(!1),e.gazeTracker.webgazer.showFaceFeedbackBox(!1),[window.innerWidth*Vo,s]};let jo=-100;const Go=(e,t,n,r)=>{const a=document.createElement("div");a.id="rc-ruler",Object.assign(a.style,{height:.9*(window.innerHeight-r)/2+"px",width:2*window.innerWidth+"px",left:.25*(window.innerWidth-n)+"px",bottom:0,backgroundColor:"#FFD523dd",borderRadius:"15px 0 0 0",boxSizing:"border-box",borderBottom:"7px solid #bb6600"}),e.background.appendChild(a);const s=document.createElement("div");s.id="rc-ruler-scales",a.appendChild(s);const i=2.54*(a.clientWidth-60)/t;for(let n=0;n<=10*(0,p.lt)(i,1);n++){let r=document.createElement("div"),a=.1*n*t/2.54+"px";if(r.className="rc-ruler-scale "+(n%10==0?"rc-ruler-major":n%5==0?"rc-ruler-secondary":"rc-ruler-minor"),r.style.left=a,s.appendChild(r),n%10==0){let t=document.createElement("p");t.className="rc-ruler-scale-text",t.style.left=a,t.innerHTML=n/10,s.appendChild(t),0===n&&(t.style.color=e._CONST.COLOR.DARK_RED)}}let o=document.createElement("div");s.appendChild(o),o.outerHTML=S(),o=document.querySelector("#size-arrow"),o.setAttribute("preserveAspectRatio","none"),o.style.left="-100px",o.style.top="40px",document.getElementById("size-arrow-fill").setAttribute("fill",e._CONST.COLOR.DARK_RED);const l=e=>{o.style.left=(jo=e.offsetX-30)+"px";const t=e=>{o.style.left=(jo=e.offsetX-30)+"px"};a.addEventListener("mousemove",t),a.addEventListener("mouseup",(function e(){a.removeEventListener("mousemove",t),a.removeEventListener("mouseup",e)}))};return a.addEventListener("mousedown",l),[a,l]};var qo=__webpack_require__(7621),$o=__webpack_require__.n(qo);const Ho=e=>e/2.54,Ko={video:!1,gazer:!1};function Zo(e,t){e.background?e._replaceBackground((0,p.SG)(t.headline,t.description)):e._addBackground((0,p.SG)(t.headline,t.description)),e._constructFloatInstructionElement("gaze-system-instruction",m.C.RC_starting[e.L])}A.prototype.calibrateGaze=function(e={},t){if(!this.gazeTracker.checkInitialized("gaze",!0))return;(0,p.Fh)(),(e=Object.assign({greedyLearner:!1,calibrationCount:1,headline:" "+m.C.RC_gazeTrackingTitle[this.L],description:m.C.RC_gazeTrackingIntro[this.L]},e)).nudge=!1,Ko.video=this.gazeTracker.webgazer.params.showVideo,Ko.gazer=this.gazeTracker.webgazer.params.showGazeDot,Ko.video||this.showVideo(!0),Ko.gazer||this.showGazer(!0),this.gazeTracker.webgazer.params.greedyLearner=e.greedyLearner,Zo(this,e);const n=Xo(this,e,(()=>{this._removeBackground(),(0,O.j)(r),(0,p.p1)(t,{timestamp:performance.now()})})),r=(0,O.P)({Escape:()=>{n.deleteSelf(!1),this._removeBackground(),this.showVideo(Ko.video),this.showGazer(Ko.gazer),Ko.video=!1,Ko.gazer=!1,this._trackingSetupFinishedStatus.gaze||(this._trackingSetupFinishedStatus.gaze=!0,this.endGaze()),(0,O.j)(r)}})};const Xo=(e,t,n)=>(e._removeFloatInstructionElement(),new Yo(e,document.body,t,Ko,n));class Yo{constructor(e,t,n,r,a){this._sequentialOrder(n.nudge),this.nudge=n.nudge,this.RC=e,this.clickThresholdBase=d.f?1:n.calibrationCount,this.clicks=0,this.position=this.order.shift(),this.clickThreshold=this.clickThresholdBase,this.r=this.RC._CONST.N.GAZE_CALIBRATION.R,this.div=document.createElement("div");const s=document.createElement("div"),i=document.createElement("div");this.div.className="rc-crosshair",this.div.id="rc-crosshair",s.className="rc-crosshair-component rc-crosshair-vertical",i.className="rc-crosshair-component rc-crosshair-horizontal",i.style.height=s.style.width="3px",i.style.width=s.style.height="32px",this.div.style.background=e.params.backgroundColor;const o=$o()(e.params.backgroundColor).toRgb();return this.div.style.background=`rgba(${o.r}, ${o.g}, ${o.b}, 0.75)`,this.div.appendChild(s),this.div.appendChild(i),this.parent=t,this.parent.appendChild(this.div),this.placeDot(),this.handleClick=this.takeClick.bind(this),this.div.addEventListener("click",this.handleClick,!1),this.originalStyles=r,this.endCalibrationCallback=a,this.div}placeDot(){Object.assign(this.div.style,[{left:this.RC._CONST.N.GAZE_CALIBRATION.MARGIN+"px",right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px)`,right:"unset"},{left:window.innerWidth-this.RC._CONST.N.GAZE_CALIBRATION.R-this.RC._CONST.N.GAZE_CALIBRATION.MARGIN+"px",right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerWidth)}px)`,right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerWidth)}px)`,right:"unset"}][this.position[0]],[{top:this.RC._CONST.N.GAZE_CALIBRATION.MARGIN+"px",bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px)`,bottom:"unset"},{top:window.innerHeight-this.RC._CONST.N.GAZE_CALIBRATION.R-this.RC._CONST.N.GAZE_CALIBRATION.MARGIN+"px",bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerHeight)}px)`,bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerHeight)}px)`,bottom:"unset"}][this.position[1]])}takeClick(e){if(this.clickAtCenter(e)){this.clicks++,this.clicks>=this.clickThreshold&&(this.order.length?(this.position=this.order.shift(),this.clickThreshold=this.clickThresholdBase,this.placeDot(),this.clicks=0):this.deleteSelf(!0));let e=document.querySelectorAll(".leader-line");e&&e.forEach((e=>e.style.opacity=0))}}deleteSelf(e=!0){this.div.removeEventListener("click",this.handleClick,!1),this.parent.removeChild(this.div),e&&(this.nudge||this.RC.showVideo(this.originalStyles.video),this.nudge||(this.originalStyles.video=!1),this.RC.showGazer(this.originalStyles.gazer),this.originalStyles.gazer=!1,(0,p.p1)(this.endCalibrationCallback),this.nudge||(this.RC._trackingSetupFinishedStatus.gaze=!0))}clickAtCenter(e){const{x:t,y:n}=(0,p.NW)(e),{left:r,top:a,right:s,bottom:i}=this.div.getBoundingClientRect(),o=(r+s)/2,l=(a+i)/2;return t>=o-5&&t<=o+5&&n>=l-5&&n<=l+5}_randomOrder(){this.order=[];for(let e of[0,1,2])for(let t of[0,1,2])this.order.push([e,t]);(0,p.TV)(this.order)}_sequentialOrder(e=!1){this.order=e?[[1,1],[1,3],[4,1],[1,4],[3,1],[1,1],[1,4],[4,1],[1,3],[3,1],[1,1]]:d.f?[[0,0],[2,0],[2,2],[0,2],[1,1]]:[[1,1],[1,0],[2,0],[2,1],[2,2],[1,2],[0,2],[0,1],[0,0],[1,1],[1,2],[2,2],[2,1],[2,0],[1,0],[0,0],[0,1],[0,2],[1,1],[1,5],[6,5],[6,1],[6,6],[1,6],[5,6],[5,1],[5,5],[1,1],[1,6],[6,6],[6,1],[6,5],[1,5],[5,5],[5,1],[5,6],[1,1],[1,4],[4,1],[1,3],[3,1],[1,1],[1,3],[4,1],[1,4],[3,1],[1,1]]}getOffsetPx(e,t=null){const n=(r=e,a=this.RC.screenPpi?this.RC.screenPpi.value:this.RC._CONST.N.PPI_DONT_USE,s=this.RC.viewingDistanceCm?this.RC.viewingDistanceCm.value:this.RC._CONST.N.VIEW_DIST_DONT_USE,Ho(a)*s*Math.tan(r*(Math.PI/180)));var r,a,s;return t?Math.min(n,t):n}}A.prototype.trackGaze=async function(e={},t=null,n=null){if(!this.checkInitialized())return;if((0,p.Fh)(),e=Object.assign({fullscreen:!1,greedyLearner:!1,framerate:60,showGazer:!0,showVideo:!0,pipWidthPx:this._CONST.N.VIDEO_W[this.isMobile.value?"MOBILE":"DESKTOP"],showFaceOverlay:!1,calibrationCount:1,thresholdDeg:10,decimalPlace:0,headline:" "+m.C.RC_gazeTrackingTitle[this.L],description:m.C.RC_gazeTrackingIntro[this.L]},e),this.getFullscreen(e.fullscreen),this.gazeTracker.checkInitialized("gaze"))return this.gazeTracker._toFixedN=e.decimalPlace,this.showGazer(e.showGazer),this.showVideo(e.showVideo),this.showFaceOverlay(e.showFaceOverlay),this.gazeTracker.attachNewCallback(n),void(this.gazeTracker.defaultGazeCallback=n);this._addBackground(),await co(this),this.gazeTracker._init({greedyLearner:e.greedyLearner,framerate:e.framerate,toFixedN:e.decimalPlace,showVideo:e.showVideo,showFaceOverlay:e.showFaceOverlay,showGazer:e.showGazer},"gaze"),Zo(this,e);const r={pipWidthPx:e.pipWidthPx},a={greedyLearner:e.greedyLearner,calibrationCount:e.calibrationCount,headline:e.headline,description:e.description};this.gazeTracker.begin(r,(()=>{this._trackingSetupFinishedStatus.gaze=!1,this.calibrateGaze(a,s)}));const s=r=>{(0,p.p1)(t,r),this.gazeTracker.webgazer.params.greedyLearner||this.gazeTracker.stopLearning({click:!0,move:!0});return e.thresholdDeg,this.gazeTracker.attachNewCallback(n),void(this.gazeTracker.defaultGazeCallback=n)}},A.prototype.getGazeNow=async function(e={},t=null){if(!(this.checkInitialized()&&this.gazeTracker.checkInitialized("gaze",!0)&&this.gazeTracker.webgazer.params.paused&&this._trackingPaused.gaze))return;e=Object.assign({wait:0,frames:5},e);let n=t||this.gazeTracker.defaultGazeCallback;return await this.gazeTracker.getGazeNow(e,n)},A.prototype.pauseGaze=function(){!this.gazeTracker.checkInitialized("gaze",!0)&&this._trackingPaused.gaze||(this._trackingPaused.gaze=!0,this.gazeTracker.pause())},A.prototype.resumeGaze=function(){(this.gazeTracker.checkInitialized("gaze",!0)||this._trackingPaused.gaze)&&(this._trackingPaused.gaze=!1,this.gazeTracker.resume())},A.prototype.endGaze=function(e=!1){this.gazeTracker.checkInitialized("gaze",!0)&&(this._trackingPaused.gaze=!1,this.gazeTracker.end("gaze",e))},A.prototype.gazeLearning=function(e=!0,t){t=Object.assign({click:!0,move:!0},t),e?this.gazeTracker.startLearning(t):this.gazeTracker.stopLearning(t)},A.prototype.showGazer=function(e=!0){this.gazeTracker.checkInitialized("gaze",!1)&&this.gazeTracker.showGazer(e)},A.prototype.showVideo=function(e=!0){this.gazeTracker.checkInitialized("",!1)&&this.gazeTracker.showVideo(e)},A.prototype.showFaceOverlay=function(e=!0){this.gazeTracker.checkInitialized("gaze",!1)&&this.gazeTracker.showFaceOverlay(e)};var Qo=__webpack_require__(7781),Jo=__webpack_require__.n(Qo);const el={gazer:!1,gazeLearning:!1,gazePaused:!1},tl={current:null};A.prototype.nudgeGaze=function(e={},t){if(!this.checkInitialized()||!this.gazeTracker.checkInitialized("gaze",!0))return;if(e=Object.assign({showOffset:!0},e),this._gazeTrackNudging.isCorrectingGaze)return;this._gazeTrackNudging.isCorrectingGaze=!0;let n=document.getElementById("gaze-nudger");n||(n=document.createElement("div"),n.id="gaze-nudger",n.className=`gaze-nudger rc-lang-${this.LD.toLowerCase()}`,document.body.classList.add("lock-view"),document.body.appendChild(n),n.style.background=this.params.backgroundColor);const r=`<p class="float-instruction gaze-nudge-instruction" id="float-instruction">${m.C.RC_gazeTrackingNudge[this.L]}</p>`;n.innerHTML+=r;const a=nl(this,n,t);if(this._nudger.gazeElement=n,e.showOffset){const e=document.createElement("div");e.id="fake-gaze-dot",e.style.position="absolute",e.style.left=this.gazePositionPx.value.x-5+"px",e.style.top=this.gazePositionPx.value.y-5+"px",e.style.width="10px",e.style.height="10px",e.style.borderRadius="50%",e.style.background="transparent",e.style.zIndex="9999999999",document.body.appendChild(e),tl.current=new(Jo())(Jo().pointAnchor(e,{x:"50%",y:"50%"}),Jo().pointAnchor(a,{x:"50%",y:"50%"}),{path:"straight",color:this._CONST.COLOR.DARK_RED,startPlug:"disc"});const t=document.querySelector(".leader-line");t.style.zIndex=9999999999,t.style.opacity=.7,t.style.transitionDuration="0.2s"}el.gazePaused=this._trackingPaused.gaze,el.gazer=this.gazeTracker.webgazer.params.showGazeDot,el.gazeLearning=this.gazeTracker._learning,el.gazePaused&&this.resumeGaze(),el.gazer||this.showGazer(!0),el.gazeLearning||this.gazeLearning(!0,{click:!0,move:!1})};const nl=(e,t,n)=>new Yo(e,t,{greedyLearner:!1,calibrationCount:1,nudge:!0},el,(()=>{t.remove(),t=null,e._nudgerElement=null,document.body.classList.remove("lock-view"),el.gazePaused&&e.pauseGaze(),el.gazePaused=!1,tl.current&&(tl.current.remove(),tl.current=null),e._gazeTrackNudging.isCorrectingGaze=!1,(0,p.p1)(n)}));var rl=__webpack_require__(8764),al=__webpack_require__.n(rl);let sl=!1;A.prototype.getGazeAccuracy=function(e={},t,n){if(!this.checkInitialized())return!1;(0,p.Fh)();const r=this.screenPpi,a=this.viewingDistanceCm;if(!r||!a)return!1;e=Object.assign({backgroundColor:"#eee",thresholdDeg:10,decimalPlace:3},e),this._addBackground();const s=document.createElement("div");s.innerHTML='<canvas id="gaze-accuracy-canvas"></canvas>',this.background.appendChild(s);const i=document.querySelector("#gaze-accuracy-canvas"),o=i.getContext("2d"),l=()=>{i.style.width=(i.width=window.innerWidth)+"px",i.style.height=(i.height=window.innerHeight)+"px"},u=new ResizeObserver((()=>{l()}));return u.observe(this.background),l(),al().fire({...so(this,{showIcon:!0}),html:"We will measure your gaze accuracy. Please do not move the mouse and look at the fixation at the middle of the screen for the next 5 seconds."}).then((()=>{sl=!0,il(i,o,e),this.gazeTracker.startStoringPoints(),(0,p._v)(5e3).then((()=>{sl=!1,this.gazeTracker.stopStoringPoints();const s=this.gazeTracker.webgazer.getStoredPoints(),l=ol({x:i.width/2,y:i.height/2},s,r.value,a.value);this.newGazeAccuracyData={value:(0,p.lt)(l,e.decimalPlace),timestamp:performance.now()},l<e.thresholdDeg?(0,p.p1)(t):(0,p.p1)(n),o.clearRect(0,0,i.width,i.height),u.unobserve(this.background),this._removeBackground()}))})),!0};const il=(e,t,n)=>{const r=()=>{t.fillStyle=n.backgroundColor,t.fillRect(0,0,e.width,e.height),G(t,e.width/2,e.height/2),sl&&requestAnimationFrame(r)};requestAnimationFrame(r)},ol=(e,t,n,r)=>{let a=0;for(let s=0;s<t[0].length;s++){t[0][s]-=e.x,t[1][s]-=e.y;let i=2.54*Math.sqrt(Math.pow(t[0][s],2),Math.pow(t[1][s],2))/n;a+=180*Math.atan(i/r)/Math.PI}return a/=t[0].length,a};class ll{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class ul{refCount(e){return cl("refCount")}incRef(e){return cl("incRef")}timerAvailable(){return!0}time(e){return cl("time")}read(e){return cl("read")}readSync(e){return cl("readSync")}readToGPU(e,t){return cl("readToGPU")}numDataIds(){return cl("numDataIds")}disposeData(e,t){return cl("disposeData")}write(e,t,n){return cl("write")}move(e,t,n,r,a){return cl("move")}memory(){return cl("memory")}floatPrecision(){return cl("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return cl("dispose")}}function cl(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function hl(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,ml(e,t,n)}function dl(e,t,n){return Math.max(e,Math.min(t,n))}function pl(e){return e%2==0?e:e+1}function ml(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function fl(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function gl(e,t,n=""){fl(vl(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function yl(e){fl(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function bl(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||_l(e)&&!n)for(let r=0;r<e.length;++r)bl(e[r],t,n);else t.push(e);return t}function wl(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function vl(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Al(e){return e%1==0}function xl(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function kl(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Cl(e,t=(e=>0),n){return new Promise(((r,a)=>{let s=0;const i=()=>{if(e())return void r();s++;const o=t(s);null!=n&&s>=n?a():setTimeout(i,o)};i()}))}function Sl(e,t){let n=1,r=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)n*=e[t];else if(-1===e[t]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${t}`);r=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const a=e.slice();return a[r]=t/n,a}function El(e,t){const n=t.length;return fl((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),fl(e.every((e=>Al(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function Il(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,s=null==t||a?null:El(t,e).sort();let i=0;for(let t=0;t<e.length;++t){if(null!=s){if(s[i]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==s[i]||s[i]>t)&&1===e[t]&&(n.push(e[t]),r.push(t)),s[i]<=t&&i++}1!==e[t]&&(n.push(e[t]),r.push(t))}return{newShape:n,keptDims:r}}function Tl(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);n=new Uint8Array(t)}return n}function Nl(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function Dl(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function _l(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function Ol(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function Bl(e){return"string"==typeof e||e instanceof String}function zl(e){return"number"==typeof e}function Rl(e){return Array.isArray(e)?Rl(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":zl(e)?"float32":Bl(e)?"string":"boolean"==typeof e?"bool":"float32"}function Ml(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Fl(e,t){for(let n=t;n<e;++n)if(e%n==0)return n;return e}function Pl(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Ll(e,t,n,r=!1){const a=new Array;if(1===t.length){const s=t[0]*(r?2:1);for(let t=0;t<s;t++)a[t]=n[e+t]}else{const s=t[0],i=t.slice(1),o=i.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<s;t++)a[t]=Ll(e+t*o,i,n,r)}return a}function Vl(e,t,n=!1){if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return Ll(0,e,t,n)}function Wl(e,t){const n=Ul(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function Ul(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function jl(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return Vl(e,new Float32Array(n));if("int32"===t)return Vl(e,new Int32Array(n));if("bool"===t)return Vl(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function Gl(e){e.forEach((t=>{fl(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function ql(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let t=0;t<e.length-1;++t)r+=n[t]*e[t];return r}function $l(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let t=0;t<r.length-1;++t)r[t]=Math.floor(e/n[t]),e-=r[t]*n[t];return r[r.length-1]=e,r}function Hl(e){return e&&e.then&&"function"==typeof e.then}const Kl="tfjsflags";class Zl{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Xl,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&!Yl().getBool("IS_TEST")&&Yl().getBool("PROD"),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];!Yl().getBool("IS_TEST")&&Yl().getBool("PROD"),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(Hl(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(Kl in e){e.tfjsflags.split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}}function Xl(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function Yl(){return Jl}let Ql,Jl=null;function eu(){if(null==Ql){let e;if("undefined"!=typeof window)e=window;else if(void 0!==__webpack_require__.g)e=__webpack_require__.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}Ql=e}return Ql}function tu(e,t){const n=function(){const e=eu();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const nu="Abs",ru="Acos",au="Acosh",su="Add",iu="AddN",ou="All",lu="Any",uu="ArgMax",cu="ArgMin",hu="Asin",du="Asinh",pu="Atan",mu="Atanh",fu="Atan2",gu="AvgPool",yu="AvgPoolGrad",bu="AvgPool3D",wu="AvgPool3DGrad",vu="BatchMatMul",Au="BatchToSpaceND",xu="Bincount",ku="BroadcastArgs",Cu="Cast",Su="Ceil",Eu="ClipByValue",Iu="Complex",Tu="ComplexAbs",Nu="Concat",Du="Conv2D",_u="Conv2DBackpropFilter",Ou="Conv2DBackpropInput",Bu="Conv3D",zu="Conv3DBackpropFilterV2",Ru="Conv3DBackpropInputV2",Mu="Cos",Fu="Cosh",Pu="Cumprod",Lu="Cumsum",Vu="CropAndResize",Wu="DenseBincount",Uu="DepthToSpace",ju="DepthwiseConv2dNative",Gu="DepthwiseConv2dNativeBackpropFilter",qu="DepthwiseConv2dNativeBackpropInput",$u="Diag",Hu="Dilation2D",Ku="Dilation2DBackpropInput",Zu="Dilation2DBackpropFilter",Xu="RealDiv",Yu="Einsum",Qu="Elu",Ju="EluGrad",ec="Erf",tc="Equal",nc="Exp",rc="ExpandDims",ac="Expm1",sc="FFT",ic="Fill",oc="FlipLeftRight",lc="Floor",uc="FloorDiv",cc="FusedBatchNorm",hc="GatherV2",dc="GatherNd",pc="Greater",mc="GreaterEqual",fc="Identity",gc="IFFT",yc="Imag",bc="IsFinite",wc="IsInf",vc="IsNan",Ac="LeakyRelu",xc="Less",kc="LessEqual",Cc="LinSpace",Sc="Log",Ec="Log1p",Ic="LogicalAnd",Tc="LogicalNot",Nc="LogicalOr",Dc="LRN",_c="LRNGrad",Oc="Max",Bc="Maximum",zc="MaxPool",Rc="MaxPoolGrad",Mc="MaxPool3D",Fc="MaxPool3DGrad",Pc="MaxPoolWithArgmax",Lc="Mean",Vc="Min",Wc="Minimum",Uc="MirrorPad",jc="Mod",Gc="Multinomial",qc="Multiply",$c="Neg",Hc="NotEqual",Kc="NonMaxSuppressionV3",Zc="NonMaxSuppressionV4",Xc="NonMaxSuppressionV5",Yc="OnesLike",Qc="OneHot",Jc="Pack",eh="PadV2",th="Pow",nh="Prelu",rh="Prod",ah="Range",sh="Real",ih="Reciprocal",oh="Relu",lh="Reshape",uh="ResizeNearestNeighbor",ch="ResizeNearestNeighborGrad",hh="ResizeBilinear",dh="ResizeBilinearGrad",ph="Relu6",mh="Reverse",fh="Round",gh="Rsqrt",yh="ScatterNd",bh="Select",wh="Selu",vh="Slice",Ah="Sin",xh="Sinh",kh="Sign",Ch="Sigmoid",Sh="Softplus",Eh="Sqrt",Ih="Sum",Th="SpaceToBatchND",Nh="SplitV",Dh="Softmax",_h="SparseFillEmptyRows",Oh="SparseReshape",Bh="SparseSegmentMean",zh="SparseSegmentSum",Rh="SparseToDense",Mh="SquaredDifference",Fh="Square",Ph="StridedSlice",Lh="StringNGrams",Vh="StringSplit",Wh="StringToHashBucketFast",Uh="Sub",jh="Tan",Gh="Tanh",qh="Tile",$h="TopK",Hh="Transform",Kh="Transpose",Zh="Unique",Xh="Unpack",Yh="UnsortedSegmentSum",Qh="ZerosLike",Jh="Step",ed="RotateWithOffset",td="_FusedMatMul",nd="FusedConv2D",rd="FusedDepthwiseConv2D";function ad(...e){!Yl().getBool("IS_TEST")&&Yl().getBool("PROD")}function sd(...e){!Yl().getBool("IS_TEST")&&Yl().getBool("PROD")}const id=tu("kernelRegistry",(()=>new Map)),od=tu("gradRegistry",(()=>new Map));function ld(e,t){const n=pd(e,t);return id.get(n)}function ud(e){return od.get(e)}function cd(e){const t=id.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[s,i]=a,[o]=s.split("_");o===e&&n.push(i)}return n}function hd(e){const{kernelName:t,backendName:n}=e,r=pd(t,n);id.has(r)&&ad(),id.set(r,e)}function dd(e){const{kernelName:t}=e;od.has(t)&&Yl().getBool("DEBUG")&&ad(),od.set(t,e)}function pd(e,t){return`${t}_${e}`}var md=__webpack_require__(6509);const fd=__webpack_require__.n(md)()||md;function gd(e){return fd.fromString(e,!0,16)}const yd=gd("c3a5c85c97cb3127"),bd=gd("b492b66fbe98f273"),wd=gd("9ae16a3b2f90404f");function vd(e){return e.xor(e.shru(47))}function Ad(e,t,n){const r=e.slice(t,t+n);return fd.fromBytes(Array.from(r),!0,!0)}function xd(e,t){return Ad(e,t,8)}function kd(e,t){return Ad(e,t,4)}function Cd(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function Sd(e,t,n=gd("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function Ed(e,t,n,r){return function(e,t,n,r,a,s){a=a.add(e),s=Cd(s.add(a).add(r),21);const i=a;return a=(a=a.add(t)).add(n),s=s.add(Cd(a,44)),[a.add(r),s.add(i)]}(xd(e,t),xd(e,t+8),xd(e,t+16),xd(e,t+24),n,r)}function Id(e,t=e.length){const n=fd.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=wd.add(2*t),r=xd(e,0).add(wd),a=xd(e,t-8);return Sd(Cd(a,37).mul(n).add(r),Cd(r,25).add(a).mul(n),n)}if(t>=4){const n=wd.add(2*t);return Sd(kd(e,0).shl(3).add(t),kd(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return vd(wd.mul(n).xor(yd.mul(r))).mul(wd)}return wd}(e,t):function(e,t=e.length){const n=wd.add(2*t),r=xd(e,0).mul(bd),a=xd(e,8),s=xd(e,t-8).mul(n),i=xd(e,t-16).mul(wd);return Sd(Cd(r.add(a),43).add(Cd(s,30)).add(i),r.add(Cd(a.add(wd),18)).add(s),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=wd.add(2*t),r=xd(e,0).mul(wd),a=xd(e,8),s=xd(e,t-8).mul(n),i=xd(e,t-16).mul(wd),o=Cd(r.add(a),43).add(Cd(s,30)).add(i),l=Sd(o,r.add(Cd(a.add(wd),18)).add(s),n),u=xd(e,16).mul(n),c=xd(e,24),h=o.add(xd(e,t-32)).mul(n),d=l.add(xd(e,t-24)).mul(n);return Sd(Cd(u.add(c),43).add(Cd(h,30)).add(d),u.add(Cd(c.add(r),18)).add(h),n)}(e,t);let r=n,a=n.mul(bd).add(113),s=vd(a.mul(wd).add(113)).mul(wd),i=[fd.UZERO,fd.UZERO],o=[fd.UZERO,fd.UZERO];r=r.mul(wd).add(xd(e,0));let l=0;const u=64*(t-1>>6),c=u+(t-1&63)-63;do{r=Cd(r.add(a).add(i[0]).add(xd(e,l+8)),37).mul(bd),a=Cd(a.add(i[1]).add(xd(e,l+48)),42).mul(bd),r=r.xor(o[1]),a=a.add(i[0]).add(xd(e,l+40)),s=Cd(s.add(o[0]),33).mul(bd),i=Ed(e,l,i[1].mul(bd),r.add(o[0])),o=Ed(e,l+32,s.add(o[1]),a.add(xd(e,l+16))),[s,r]=[r,s],l+=64}while(l!==u);const h=bd.add(s.and(255).shl(1));return l=c,o[0]=o[0].add(t-1&63),i[0]=i[0].add(o[0]),o[0]=o[0].add(i[0]),r=Cd(r.add(a).add(i[0]).add(xd(e,l+8)),37).mul(h),a=Cd(a.add(i[1]).add(xd(e,l+48)),42).mul(h),r=r.xor(o[1].mul(9)),a=a.add(i[0].mul(9).add(xd(e,l+40))),s=Cd(s.add(o[0]),33).mul(h),i=Ed(e,l,i[1].mul(h),r.add(o[0])),o=Ed(e,l+32,s.add(o[1]),a.add(xd(e,l+16))),[s,r]=[r,s],Sd(Sd(i[0],o[0],h).add(vd(a).mul(yd)).add(s),Sd(i[1],o[1],h).add(r),h)}function Td(e,t){return"string"===t?_d(e):Nd([e],t)}function Nd(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=bl(e)),Yl().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function Dd(){return Yl().platform.now()}function _d(e,t="utf-8"){return t=t||"utf-8",Yl().platform.encode(e,t)}function Od(e,t="utf-8"){return t=t||"utf-8",Yl().platform.decode(e,t)}class Bd{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new Rd)}profileKernel(e,t,n){let r;const a=()=>{r=n()};let s;const i=Dd();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(a);else{a();for(const e of r)e.dataSync();s=Promise.resolve({kernelMs:Dd()-i})}if(Yl().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<r.length;t++){const n=r[t];n.data().then((t=>{zd(t,n.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:s.then((e=>e.kernelMs)),extraInfo:s.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:s}=e;n.forEach((e=>{Promise.all([e.data(),r,s]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])}))}))}}function zd(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(isNaN(n)||!isFinite(n))return!0}return!1}class Rd{logKernelProfile(e,t,n,r,a,s){"number"==typeof r?kl(`${r}ms`,9):r.error,kl(e,25),t.rank,t.size,kl(t.shape.toString(),14);let i="";for(const e in a){const n=a[e];if(null!=n){const r=n.shape||t.shape,a=r.length;i+=`${e}: ${a}D ${a>0?r:""} `}}}}function Md(e,t,n,r){const a=Pl(t),s=function(e,t,n,r){const a=wl(t),s=r[r.length-1],i=new Array(s).fill(0),o=t.length,l="complex64"===n?Vd(e):e;if(o>1)for(let e=0;e<a/s;e++){const t=e*s;for(let e=0;e<s;e++)i[e]=Math.max(i[e],Fd(l[t+e],0,n).length)}return i}(e,t,n,a),i=t.length,o=Ld(e,t,n,a,s),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${i}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(o.map((e=>"    "+e)).join("\n")),l.join("\n")}function Fd(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:Bl(e)?`'${e}'`:"bool"===n?Pd(e):parseFloat(e.toFixed(7)).toString(),kl(r,t)}function Pd(e){return 0===e?"false":"true"}function Ld(e,t,n,r,a,s=!0){const i="complex64"===n?2:1,o=t[0],l=t.length;if(0===l){if("complex64"===n){return[Fd(Vd(e)[0],0,n)]}return"bool"===n?[Pd(e[0])]:[e[0].toString()]}if(1===l){if(o>20){const t=3*i;let r=Array.from(e.slice(0,t)),s=Array.from(e.slice((o-3)*i,o*i));return"complex64"===n&&(r=Vd(r),s=Vd(s)),["["+r.map(((e,t)=>Fd(e,a[t],n))).join(", ")+", ..., "+s.map(((e,t)=>Fd(e,a[o-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?Vd(e):Array.from(e)).map(((e,t)=>Fd(e,a[t],n))).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),h=r[0]*i,d=[];if(o>20){for(let t=0;t<3;t++){const r=t*h,s=r+h;d.push(...Ld(e.slice(r,s),u,n,c,a,!1))}d.push("...");for(let t=o-3;t<o;t++){const r=t*h,s=r+h;d.push(...Ld(e.slice(r,s),u,n,c,a,t===o-1))}}else for(let t=0;t<o;t++){const r=t*h,s=r+h;d.push(...Ld(e.slice(r,s),u,n,c,a,t===o-1))}const p=2===l?",":"";d[0]="["+d[0]+p;for(let e=1;e<d.length-1;e++)d[e]=" "+d[e]+p;let m=",\n";for(let e=2;e<l;e++)m+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(s?"":m),d}function Vd(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class Wd{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=wl(e),null!=n){const e=n.length;fl(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Nl(t,this.size),this.strides=Pl(e)}set(e,...t){0===t.length&&(t=[0]),fl(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return Ud().makeTensor(this.values,this.shape,this.dtype)}}let Ud=null,jd=null,Gd=null;class qd{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=wl(e),this.strides=Pl(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return jd.buffer(this.shape,this.dtype,e)}bufferSync(){return jd.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Vl(this.shape,e,"complex64"===this.dtype)}arraySync(){return Vl(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=Ud().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>Od(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Ud().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Ud().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>Od(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Ud().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(Ud().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return jd.print(this,e)}clone(){return this.throwIfDisposed(),jd.clone(this)}toString(e=!1){return Md(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),jd.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),Ud().makeVariable(this,e,t,n)}}function $d(){return tu("Tensor",(()=>qd))}Object.defineProperty(qd,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),$d();class Hd extends qd{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!vl(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Ud().disposeTensor(this),this.dataId=e.dataId,Ud().incRef(this,null)}dispose(){Ud().disposeVariable(this),this.isDisposedInternal=!0}}var Kd,Zd,Xd,Yd,Qd;Object.defineProperty(Hd,Symbol.hasInstance,{value:e=>e instanceof qd&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Kd||(Kd={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Zd||(Zd={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Xd||(Xd={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Yd||(Yd={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Qd||(Qd={}));const Jd={float32:Yd,int32:Zd,bool:Xd,complex64:Qd};function ep(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return Jd[e][t]}function tp(e){return ep(e,"int32")}function np(e,t){if(e.dtype===t.dtype)return[e,t];const n=ep(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function rp(e,t){return t.some((t=>t.id===e.id))}function ap(e){const t=[];return sp(e,t,new Set),t}function sp(e,t,n){if(null==e)return;if(e instanceof qd)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!=typeof r)return;var r;const a=e;for(const e in a){const r=a[e];n.has(r)||(n.add(r),sp(r,t,n))}}function ip(e){return null!=e.kernelName}class op{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class lp{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new op}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(ad(),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Bd(this.backendInstance),!0}setupRegisteredKernels(){cd(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){cd(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof ul||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((e=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,ad(),ad(e.stack||e.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(e){return ad(),ad(e.stack||e.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),s=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return lp.nextTensorId++}nextVariableId(){return lp.nextVariableId++}clone(e){const t=cp.runKernel(fc,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return cp.runKernel(Cu,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=ld(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach((e=>{a+="complex64"===e.dtype?3:1}));const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-a-s;if(i>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${i} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),a=this.state.numBytes,s=this.state.numTensors;let i,o;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=ip(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(ip(e)){const{kernelName:t,inputs:a,attrs:s}=e;null==this.backendName&&this.backend;const l=ld(t,this.backendName);fl(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),i=()=>{const e=this.backend.numDataIds();o=l.kernelFunc({inputs:a,attrs:s,backend:this.backend});const i=Array.isArray(o)?o:[o];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,i);const u=i.map((e=>{if(null!=e.rank)return e;const{dataId:t,shape:n,dtype:r}=e;return this.makeTensorFromDataId(t,n,r)}));if(r){const e=this.getTensorsForGradient(t,a,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,a=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};i=()=>{const e=this.backend.numDataIds();o=this.tidy((()=>t(this.backend,a)));const n=Array.isArray(o)?o:[o];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,h=ip(e)?null:e.backwardsFunc;let d;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(d=this.profiler.profileKernel(l,u,(()=>i())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(d),t=d.outputs):t=i()})),r&&this.addTapeNode(l,u,t,h,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:d.timeMs,extraInfo:d.extraInfo}),Array.isArray(o)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const r=ud(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let s;r.saveAllInputs?(fl(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),s=Object.keys(t).map((e=>t[e]))):s=e.map((e=>t[e]));const i=n.filter(((e,t)=>a[t]));return s.concat(i)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&Bl(e[0])&&(a=e.map((e=>_d(e))));const s=r.write(a,t,n),i=new qd(t,n,s,this.nextTensorId());if(this.trackTensor(i,r),"string"===n){const e=this.state.tensorInfo.get(s),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return i}makeTensorFromDataId(e,t,n,r){const a=new qd(t,n=n||"float32",e,this.nextTensorId());return this.trackTensor(a,r),a}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new Hd(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*Ol(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Hd||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*Ol(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,s){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},o=ud(e);null!=o&&(r=o.gradFunc),null!=r&&(i.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=Ul(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],a,s))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=ap(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n,r=!1){if(fl(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const a=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));fl(a instanceof qd,(()=>"The result y returned by f() must be a tensor."));const s=function(e,t,n){const r={},a={};for(let e=0;e<t.length;e++)r[t[e].id]=!0;for(let n=0;n<e.length;n++){const s=e[n],i=s.inputs;for(const e in i){const n=i[e];let o=!1;for(let e=0;e<t.length;e++)if(r[n.id]){s.outputs.forEach((e=>r[e.id]=!0)),o=!0,a[s.id]=!0;break}if(o)break}}const s={};s[n.id]=!0;const i={};for(let t=e.length-1;t>=0;t--){const n=e[t],r=n.inputs;for(let e=0;e<n.outputs.length;e++)if(s[n.outputs[e].id]){for(const e in r)s[r[e].id]=!0,i[n.id]=!0;break}}const o=[];for(let t=0;t<e.length;t++){const n=e[t];if(a[n.id]&&i[n.id]){const e={};for(const t in n.inputs){const a=n.inputs[t];r[a.id]&&(e[t]=a)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,o.push(t)}}return o}(this.state.activeTape,t,a);if(!r&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[a.id]=null==n?function(e){const t=Wl(wl(e),"float32");return cp.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const s=t[a],i=[];if(s.outputs.forEach((t=>{const n=e[t.id];null!=n?i.push(n):i.push(null)})),null==s.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);const o=s.gradient(i);for(const t in s.inputs){if(!(t in o))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(o)}.`);const a=n((()=>o[t]()));if("float32"!==a.dtype)throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${a.dtype}'`);const i=s.inputs[t];if(!vl(a.shape,i.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${t}' has shape '${a.shape}', which does not match the shape of the input '${i.shape}'`);if(null==e[i.id])e[i.id]=a;else{const t=e[i.id];e[i.id]=r(t,a),t.dispose()}}}}(e,s,(e=>this.tidy(e)),hp);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:a,grads:r}}))}customGrad(e){return fl(Ml(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;fl(t.every((e=>e instanceof qd)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};t.forEach(((e,t)=>{r[t]=e}));return this.runKernelFunc({forwardFunc:(r,a)=>(n=e(...t,a),fl(n.value instanceof qd,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),fl(Ml(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,r)=>{const a=n.gradFunc(e,r),s=Array.isArray(a)?a:[a];fl(s.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),fl(s.every((e=>e instanceof qd)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const i={};return s.forEach(((e,t)=>{i[t]=()=>e})),i},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=Dd(),n=await this.backend.time(e);return n.wallMs=Dd()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new op;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function up(){const e=eu();if(null==e._tfengine){const t=new Zl(e);e._tfengine=new lp(t)}var t;return t=e._tfengine.ENV,Jl=t,Ud=()=>e._tfengine,e._tfengine}lp.nextTensorId=0,lp.nextVariableId=0;const cp=up();function hp(e,t){const n={a:e,b:t};return cp.runKernel(su,n)}let dp;function pp(e){if(void 0!==dp)return dp;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function mp(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}const fp=Yl();function gp(e,t){let n=e;if(_l(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||_l(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Yl().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&yp(e,r,[]),r}function yp(e,t,n){if(n=n||[],!Array.isArray(e)&&!_l(e))return void fl(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));fl(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),fl(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let t=0;t<e.length;++t)yp(e[t],r,n.concat(t))}function bp(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function wp(e,t,n,r="numeric"){if(e instanceof qd)return bp(r,e.dtype,t,n),e;let a=Rl(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),bp(r,a,t,n),null==e||!_l(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const s=gp(e,a);_l(e)||Array.isArray(e)||(e=[e]);const i="string"!==a?Nd(e,a):bl(e,[],!0);return cp.makeTensor(i,s,a)}function vp(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,a)=>wp(e,`${t}[${a}]`,n,r)))}fp.registerFlag("DEBUG",(()=>!1),(e=>{})),fp.registerFlag("IS_BROWSER",(()=>mp())),fp.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),fp.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),fp.registerFlag("PROD",(()=>!1)),fp.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>fp.getBool("DEBUG"))),fp.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),fp.registerFlag("IS_TEST",(()=>!1)),fp.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),fp.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),fp.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));function Ap(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+="__op";const a=(...e)=>{cp.startScope(n);try{const t=r(...e);return Hl(t),cp.endScope(t),t}catch(e){throw cp.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}const xp=Ap({complex_:function(e,t){const n=wp(e,"real","complex"),r=wp(t,"imag","complex");gl(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return cp.runKernel(Iu,a)}});function kp(e,t,n,r){if(null==r&&(r=Rl(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!_l(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Gl(t);const e=wl(t),r=wl(n);fl(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let e=0;e<n.length;++e){const r=n[e],a=e!==n.length-1||r!==wl(t.slice(e));fl(n[e]===t[e]||!a,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return _l(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Nd(e,r):bl(e,[],!0),cp.makeTensor(e,t,r)}function Cp(e,t,n){return kp(e,t,gp(e,n),n)}async function Sp(e,t){const n=[],r=[],a=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let s=0;s<a.length;++s){const i=a[s],o=Array.isArray(e)?e[s].tensor:e[i];if("float32"!==o.dtype&&"int32"!==o.dtype&&"bool"!==o.dtype&&"string"!==o.dtype&&"complex64"!==o.dtype)throw new Error(`Unsupported dtype in weight '${i}': ${o.dtype}`);const l={name:i,shape:o.shape,dtype:o.dtype};if("string"===o.dtype){const e=new Promise((async e=>{const t=await o.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+4*t.length,r=new Uint8Array(n);let a=0;for(let e=0;e<t.length;e++){const n=t[e],s=new Uint8Array(new Uint32Array([n.length]).buffer);r.set(s,a),a+=4,r.set(n,a),a+=n.length}e(r)}));r.push(e)}else r.push(o.data());null!=t&&(l.group=t),n.push(l)}return{data:Ep(await Promise.all(r)),specs:n}}function Ep(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let a=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}const Ip="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Tp(e){return Ip?Buffer.byteLength(e):new Blob([e]).size}function Np(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function Dp(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}async function _p(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),null!=e.weightsManifest){const[r,a]=await t(e.weightsManifest);n.weightSpecs=r,n.weightData=a}return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),n}function Op(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Tp(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Tp(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}class Bp{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Bp.instance&&(Bp.instance=new Bp),Bp.instance}static registerSaveRouter(e){Bp.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Bp.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Bp.getHandlers(e,"save")}static getLoadHandlers(e,t){return Bp.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?Bp.getInstance().loadRouters:Bp.getInstance().saveRouters).forEach((t=>{const a=t(e,n);null!==a&&r.push(a)})),r}}const zp="tensorflowjs",Rp="models_store",Mp="model_info_store";function Fp(){if(!Yl().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Pp(e){const t=e.result;t.createObjectStore(Rp,{keyPath:"modelPath"}),t.createObjectStore(Mp,{keyPath:"modelPath"})}class Lp{constructor(e){if(this.indexedDB=Fp(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(zp,1);r.onupgradeneeded=()=>Pp(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(Rp,"readonly"),r=t.objectStore(Rp).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{const r=Op(t),s=a.transaction(Mp,"readwrite");let i=s.objectStore(Mp);const o=i.put({modelPath:this.modelPath,modelArtifactsInfo:r});let l;o.onsuccess=()=>{l=a.transaction(Rp,"readwrite");const o=l.objectStore(Rp).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r});o.onsuccess=()=>e({modelArtifactsInfo:r}),o.onerror=e=>{i=s.objectStore(Mp);const t=i.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(o.error)),t.onerror=e=>(a.close(),n(o.error))}},o.onerror=e=>(a.close(),n(o.error)),s.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}Lp.URL_SCHEME="indexeddb://";const Vp=e=>{return Yl().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Lp.URL_SCHEME)?(t=e.slice(Lp.URL_SCHEME.length),new Lp(t)):null;var t};Bp.registerSaveRouter(Vp),Bp.registerLoadRouter(Vp);class Wp{constructor(){this.indexedDB=Fp()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(zp,1);n.onupgradeneeded=()=>Pp(n),n.onsuccess=()=>{const r=n.result,a=r.transaction(Mp,"readonly"),s=a.objectStore(Mp).getAll();s.onsuccess=()=>{const t={};for(const e of s.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},s.onerror=e=>(r.close(),t(s.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(Lp.URL_SCHEME)?t.slice(Lp.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(zp,1);r.onupgradeneeded=()=>Pp(r),r.onsuccess=()=>{const a=r.result,s=a.transaction(Mp,"readwrite"),i=s.objectStore(Mp),o=i.get(e);let l;o.onsuccess=()=>{if(null==o.result)return a.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=i.delete(e),s=()=>{l=a.transaction(Rp,"readwrite");const r=l.objectStore(Rp).delete(e);r.onsuccess=()=>t(o.result.modelArtifactsInfo),r.onerror=e=>n(o.error)};r.onsuccess=s,r.onerror=e=>(s(),a.close(),n(o.error))}},o.onerror=e=>(a.close(),n(o.error)),s.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)}))}}const Up="/",jp="tensorflowjs_models",Gp="info",qp="model_topology",$p="weight_specs",Hp="weight_data",Kp="model_metadata";function Zp(e){return{info:[jp,e,Gp].join(Up),topology:[jp,e,qp].join(Up),weightSpecs:[jp,e,$p].join(Up),weightData:[jp,e,Hp].join(Up),modelMetadata:[jp,e,Kp].join(Up)}}function Xp(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function Yp(e){const t=e.split(Up);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(Up)}class Qp{constructor(e){if(!Yl().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Zp(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=Op(e);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(Ip)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,r=t.length;e<r;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(e.weightData));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:r}}catch(e){throw Xp(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const s=this.LS.getItem(this.keys.weightData);if(null==s)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(Ip){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}(s),t}}Qp.URL_SCHEME="localstorage://";const Jp=e=>{return Yl().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Qp.URL_SCHEME)?(t=e.slice(Qp.URL_SCHEME.length),new Qp(t)):null;var t};Bp.registerSaveRouter(Jp),Bp.registerLoadRouter(Jp);class em{constructor(){fl(Yl().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),fl("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=jp+Up,n=Up+Gp;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){e[Yp(a)]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){var t;const n=Zp(e=(t=e).startsWith(Qp.URL_SCHEME)?t.slice(Qp.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return Xp(n),r}}const tm="://";class nm{constructor(){this.managers={}}static getInstance(){return null==nm.instance&&(nm.instance=new nm),nm.instance}static registerManager(e,t){fl(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(tm)&&(e=e.slice(0,e.indexOf(tm))),fl(e.length>0,(()=>"scheme must not be an empty string."));const n=nm.getInstance();fl(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=this.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(this.getInstance().managers)}}class rm{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}if(Yl().get("IS_BROWSER")){Yl().setPlatform("browser",new rm);try{nm.registerManager(Qp.URL_SCHEME,new em)}catch(e){}try{nm.registerManager(Lp.URL_SCHEME,new Wp)}catch(e){}}const am=()=>__webpack_require__(9375);let sm;class im{constructor(){this.util=__webpack_require__(8987),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=Yl().global.fetch?Yl().global.fetch(e,t):(null==sm&&(sm=am()),sm(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}function om(e,t="float32",n){return t=t||"float32",Gl(e),new Wd(e,t,n)}Yl().get("IS_NODE")&&!Yl().get("IS_BROWSER")&&Yl().setPlatform("node",new im);const lm=Ap({cast_:function(e,t){const n=wp(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return cp.runKernel(Cu,r,a)}});const um=Ap({clone_:function(e){const t={x:wp(e,"x","clone","string_or_numeric")};return cp.runKernel(fc,t)}});up();!function(e){jd=e}({buffer:om,cast:lm,clone:um,print:function(e,t=!1){}});function cm(e){return new Promise((e=>setTimeout(e))).then(e)}class hm{constructor(e){if(!Yl().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(hm.URL_SCHEME)&&(e=e.slice(hm.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=Dp(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,await cm((()=>a.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await cm((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:Op(e)}}}}hm.URL_SCHEME="downloads://";function dm(e,t,n,r){!function(e){fl(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){fl(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),fl(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),fl(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let a=0;return Promise.all(e.map((s=>(s.then((s=>{const i=n+ ++a/e.length*(r-n);return t(i),s})),s))))}async function pm(e,t){null==t&&(t={});const n=null==t.fetchFunc?Yl().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),a=(null==t.onProgress?await Promise.all(r):await dm(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(a):await dm(a,t.onProgress,.5,1)}Bp.registerSaveRouter((e=>Yl().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(hm.URL_SCHEME)?function(e="model"){return new hm(e)}(e.slice(hm.URL_SCHEME.length)):null));class mm{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(fl("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=Yl().platform.fetch,fl(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&fl(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=Dp(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:Op(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return _p(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(t),a=this.weightPathPrefix||n,s=[];for(const t of e)s.push(...t.weights);const i=[],o=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?o.push(this.weightUrlConverter(e)):i.push(a+e+r);this.weightUrlConverter&&i.push(...await Promise.all(o));return[s,Np(await pm(i,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}}function fm(e){return null!=e.match(mm.URL_SCHEME_REGEX)}mm.URL_SCHEME_REGEX=/^https?:\/\//;const gm=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>fm(e))):fm(e),n)return ym(e,t)}return null};function ym(e,t){return new mm(e,t)}Bp.registerSaveRouter(gm),Bp.registerLoadRouter(gm);function bm(e,t){const n=e.length,r=[];for(let a=0;a<n;a++){const s=n-1-a,i=e[s]||1;(t[t.length-1-a]||1)>1&&1===i&&r.unshift(s)}return r}function wm(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],s=t.length-r-1,i=t[s];(null==a||1===a&&i>1)&&n.unshift(s)}return n}function vm(e,t){const n=[],r=Math.max(e.length,t.length);for(let a=0;a<r;a++){let r=e[e.length-a-1];null==r&&(r=1);let s=t[t.length-a-1];if(null==s&&(s=1),1===r)n.unshift(s);else if(1===s)n.unshift(r);else{if(r!==s){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}n.unshift(r)}}return n}function Am(e,t,n){const r=e.shape.length;fl(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),fl(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let a=0;a<r;++a)fl(t[a]+n[a]<=e.shape[a],(()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${t[a]+n[a]}) would overflow input.shape[${a}] (${e.shape[a]})`))}function xm(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function km(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function Cm(e,t,n,r){const a=[...e];for(let e=a.length;e<r.length;e++)a.push(1);for(let e=0;e<n;e++)0===e?a[t]=1:(a.splice(t,0,1),a.pop());return a}function Sm(e,t,n){return n<=e?n:n-(t-1)}function Em(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function Im(e,t,n,r,a,s,i,o,l){const u=e.length;let c=new Array(u),h=new Array(u),d=new Array(u);if(t.length&&n>0){const l=t[0],u=n+1;c=Tm(i,l,u,r,e),h=Nm(o,l,u,a,e),d=Cm(s,l,u,e)}else for(let t=0;t<u;t++)c[t]=_m(i,r,s,e,t,l),h[t]=Om(o,a,s,e,t,l),d[t]=Dm(s,t,l);return{begin:c,end:h,strides:d}}function Tm(e,t,n,r,a){const s=[...a],i=Em(n,t);for(let a=0;a<s.length;a++)if(i.indexOf(a)>-1)s[a]=0;else{const i=Sm(t,n,a);let o=r[i];e&1<<i&&(o=0),s[a]=o}return s}function Nm(e,t,n,r,a){const s=[...a],i=Em(n,t);for(let a=0;a<s.length;a++)if(i.indexOf(a)>-1)s[a]=Number.MAX_SAFE_INTEGER;else{const i=Sm(t,n,a);let o=r[i];e&1<<i&&(o=Number.MAX_SAFE_INTEGER),s[a]=o}for(let e=0;e<s.length;e++){const t=a[e];s[e]<0&&(s[e]+=t),s[e]=dl(0,s[e],a[e])}return s}function Dm(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function _m(e,t,n,r,a,s){let i=t[a];const o=n[a]||1;(e&1<<a||s&1<<a||null==i)&&(i=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[a];return i<0&&(i+=l),i=dl(0,i,l-1),i}function Om(e,t,n,r,a,s){let i=t[a];const o=n[a]||1;(e&1<<a||s&1<<a||null==i)&&(i=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[a];return i<0&&(i+=l),i=o>0?dl(0,i,l):dl(-1,i,l-1),i}function Bm(e,t,n){let r=n.length;for(let e=0;e<n.length;e++)if(n[e]>1){r=e;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function zm(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function Rm(e,t,n){let r;const a=e.shape.length;let s;return r="number"==typeof t?[t,...new Array(a-1).fill(0)]:t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice(),r.forEach((e=>{fl(-1!==e,(()=>"slice() does not support negative begin indexing."))})),s=null==n?new Array(a).fill(-1):"number"==typeof n?[n,...new Array(a-1).fill(-1)]:n.length<a?n.concat(new Array(a-n.length).fill(-1)):n,s=s.map(((t,n)=>t>=0?t:(fl(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,s]}function Mm(e,t,n,r,a,s,i,o,l){let u;if(null==r?(u=new Array(t.length),u.fill(1)):u=r,null!=i&&0!=(i&i-1))throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const h={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:a,endMask:s,ellipsisMask:i,newAxisMask:o,shrinkAxisMask:l};for(let e=0;e<h.dims;e++)c&&0!=(1<<e&o)&&h.numAddAxisAfterEllipsis++,1<<e&i&&(c=!0);c||(h.ellipsisMask|=1<<h.dims,h.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(h,d);let p=!0,m=!0,f=!0;const g=[],y=[];for(let t=0;t<e.length;++t){if(0===d.strides[t])throw Error(`strides[${t}] must be non-zero`);const n=!!(d.shrinkAxisMask&1<<t),r=e[t];if(-1===r){g.push(n?1:-1);continue}const a=[d.beginMask&1<<t,d.endMask&1<<t],s=[d.strides[t]>0?0:-1,d.strides[t]>0?r:r-1];if(n&&d.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");f=f&&1===d.strides[t];const i=!!(d.beginMask&1<<t&&d.endMask&1<<t);if(d.beginValid&&d.endValid){if(n){const e=d.begin[t]<0?r+d.begin[t]:d.begin[t];if(d.begin[t]=e,d.end[t]=d.begin[t]+1,e<0||e>=r)throw Error(`slice index ${d.begin[t]} of dimension ${t} out of bounds.`)}else d.begin[t]=Fm(d.begin[t],0,d.strides[t],r,a,s),d.end[t]=Fm(d.end[t],1,d.strides[t],r,a,s);const e=1===d.strides[t]&&0===d.begin[t]&&d.end[t]===r;p=p&&e,m=m&&(0===t&&1===d.strides[t]||e)}else p=p&&1===d.strides[t]&&i,m=m&&(0===t&&1===d.strides[t]||i);let o,l=!1;if(d.beginValid&&d.endValid?(o=d.end[t]-d.begin[t],l=!0):n?(o=1,l=!0):i&&r>=0&&(o=d.strides[t]<0?-r:r,l=!0),l){let e;e=0===o||o<0!=d.strides[t]<0?0:Math.trunc(o/d.strides[t])+(o%d.strides[t]!=0?1:0),g.push(e)}else g.push(-1)}for(let e=0;e<d.finalShapeGatherIndices.length;++e){const t=d.finalShapeGatherIndices[e];t>=0?y.push(g[t]):-2===t&&y.push(1)}return{finalShapeSparse:y.filter(((e,t)=>-2!==d.finalShapeGatherIndices[t])),finalShape:y,isIdentity:p,sliceDim0:m,isSimpleSlice:f,begin:d.begin,end:d.end,strides:d.strides}}function Fm(e,t,n,r,a,s){if(a[t])return n>0?s[t]:s[t+1&1];{const t=e<0?r+e:e;return t<s[0]?s[0]:t>s[1]?s[1]:t}}class Pm{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class Lm{constructor(){this.classNameMap={}}static getMap(){return null==Lm.instance&&(Lm.instance=new Lm),Lm.instance}static register(e){Lm.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Vm(e){fl(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),fl("string"==typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),fl(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),Lm.register(e)}function Wm(){return cp}function Um(){return cp.memory()}function jm(e,t){return cp.tidy(e,t)}function Gm(e){ap(e).forEach((e=>e.dispose()))}function qm(e){return cp.keep(e)}function $m(e,t,n=1){return cp.registerBackend(e,t,n)}function Hm(e){return cp.customGrad(e)}function Km(e,t){if((_l(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&_l(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return kp(e,[],[],t)}Gd=function(e){Yl().getBool("DEPRECATION_WARNINGS_ENABLED")};class Zm extends Pm{minimize(e,t=!1,n){const{value:r,grads:a}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:a[e.name]})));this.applyGradients(e)}else this.applyGradients(a);return Gm(a),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){fl(Ml(e),(()=>"The f passed in variableGrads(f) must be a function")),fl(null==t||Array.isArray(t)&&t.every((e=>e instanceof Hd)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in cp.registeredVariables)t.push(cp.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,a=t.length;t=t.filter((e=>e.trainable)),fl(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`));const{value:s,grads:i}=cp.gradients(e,t,null,!0);fl(i.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),fl(0===s.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${s.rank} tensor`));const o={};return t.forEach(((e,t)=>{null!=i[t]&&(o[e.name]=i[t])})),null!=r&&r.forEach((e=>o[e.name]=null)),{value:s,grads:o}}(e,t)}dispose(){null!=this.iterations_&&Gm(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Km(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Zm,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});const Xm=Ap({abs_:function(e){const t=wp(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return cp.runKernel(Tu,e)}{const e={x:t};return cp.runKernel(nu,e)}}});const Ym=Ap({add_:function(e,t){let n=wp(e,"a","add"),r=wp(t,"b","add");[n,r]=np(n,r);const a={a:n,b:r};return cp.runKernel(su,a)}});const Qm=Ap({all_:function(e,t=null,n=!1){const r={x:wp(e,"x","all","bool")},a={axis:t,keepDims:n};return cp.runKernel(ou,r,a)}});const Jm=Ap({any_:function(e,t=null,n=!1){const r={x:wp(e,"x","any","bool")},a={axis:t,keepDims:n};return cp.runKernel(lu,r,a)}});const ef=Ap({argMax_:function(e,t=0){const n={x:wp(e,"x","argMax")},r={axis:t};return cp.runKernel(uu,n,r)}});function tf(e,t,n,r,a="NHWC",s){return af(e,[...t,e[3]],n,s,r,null,null,mf(a))}function nf(e,t,n,r,a,s,i="channelsLast"){const[o,l]=lf(t);let u;if("channelsLast"===i)u=[o,l,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);u=[o,l,e[1],e[1]]}return af(e,u,n,r,a,s,!1,i)}function rf(e,t,n,r,a,s,i="NDHWC"){const[o,l,u]=uf(t);let c,h;if("NDHWC"===i)h="channelsLast",c=[o,l,u,e[4],e[4]];else{if("NCDHW"!==i)throw new Error(`Unknown dataFormat ${i}`);h="channelsFirst",c=[o,l,u,e[1],e[1]]}return sf(e,c,n,r,a,!1,h,s)}function af(e,t,n,r,a,s,i=!1,o="channelsLast"){let[l,u,c,h]=[-1,-1,-1,-1];if("channelsLast"===o)[l,u,c,h]=e;else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);[l,h,u,c]=e}const[d,p,,m]=t,[f,g]=lf(n),[y,b]=lf(r),w=cf(d,y),v=cf(p,b),{padInfo:A,outHeight:x,outWidth:k}=function(e,t,n,r,a,s,i,o,l){let u,c,h;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=of(e,t,n));const s=e[0],i=e[1],o=hf((s-t+2*r)/n+1,a),l=hf((i-t+2*r)/n+1,a);return[o,l]}([t,n],s,r,e,o);c=a[0],h=a[1]}else if("same"===e){c=Math.ceil(t/r),h=Math.ceil(n/a);const e=Math.max(0,(c-1)*r+s-t),o=Math.max(0,(h-1)*a+i-n),l=Math.floor(e/2),d=e-l,p=Math.floor(o/2);u={top:l,bottom:d,left:p,right:o-p,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-s+1)/r),h=Math.ceil((n-i+1)/a);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const d="channelsLast"===l?e[1][0]:e[2][0],p="channelsLast"===l?e[1][1]:e[2][1],m="channelsLast"===l?e[2][0]:e[3][0],f="channelsLast"===l?e[2][1]:e[3][1];u={top:d,bottom:p,left:m,right:f,type:0===d&&0===p&&0===m&&0===f?"VALID":"EXPLICIT"},c=hf((t-s+d+p)/r+1,o),h=hf((n-i+m+f)/a+1,o)}}return{padInfo:u,outHeight:c,outWidth:h}}(a,u,c,f,g,w,v,s,o),C=i?m*h:m;let S;return"channelsFirst"===o?S=[l,C,x,k]:"channelsLast"===o&&(S=[l,x,k,C]),{batchSize:l,dataFormat:o,inHeight:u,inWidth:c,inChannels:h,outHeight:x,outWidth:k,outChannels:C,padInfo:A,strideHeight:f,strideWidth:g,filterHeight:d,filterWidth:p,effectiveFilterHeight:w,effectiveFilterWidth:v,dilationHeight:y,dilationWidth:b,inShape:e,outShape:S,filterShape:t}}function sf(e,t,n,r,a,s=!1,i="channelsLast",o){let[l,u,c,h,d]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[l,u,c,h,d]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[l,d,u,c,h]=e}const[p,m,f,,g]=t,[y,b,w]=uf(n),[v,A,x]=uf(r),k=cf(p,v),C=cf(m,A),S=cf(f,x),{padInfo:E,outDepth:I,outHeight:T,outWidth:N}=function(e,t,n,r,a,s,i,o,l,u,c){let h,d,p,m;if("number"==typeof e){h={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const s=function(e,t,n,r,a,s){null==a&&(a=of(e,t,r));const i=e[0],o=e[1],l=e[2],u=hf((i-t+2*a)/r+1,s),c=hf((o-t+2*a)/r+1,s),h=hf((l-t+2*a)/r+1,s);return[u,c,h,n]}([t,n,r,1],o,1,a,e,c);d=s[0],p=s[1],m=s[2]}else if("same"===e){d=Math.ceil(t/a),p=Math.ceil(n/s),m=Math.ceil(r/i);const e=(d-1)*a+o-t,c=(p-1)*s+l-n,f=(m-1)*i+u-r,g=Math.floor(e/2),y=e-g,b=Math.floor(c/2),w=c-b,v=Math.floor(f/2);h={top:b,bottom:w,left:v,right:f-v,front:g,back:y,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);h={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-o+1)/a),p=Math.ceil((n-l+1)/s),m=Math.ceil((r-u+1)/i)}return{padInfo:h,outDepth:d,outHeight:p,outWidth:m}}(a,u,c,h,y,b,w,k,C,S,o),D=s?g*d:g;let _;return"channelsFirst"===i?_=[l,D,I,T,N]:"channelsLast"===i&&(_=[l,I,T,N,D]),{batchSize:l,dataFormat:i,inDepth:u,inHeight:c,inWidth:h,inChannels:d,outDepth:I,outHeight:T,outWidth:N,outChannels:D,padInfo:E,strideDepth:y,strideHeight:b,strideWidth:w,filterDepth:p,filterHeight:m,filterWidth:f,effectiveFilterDepth:k,effectiveFilterHeight:C,effectiveFilterWidth:S,dilationDepth:v,dilationHeight:A,dilationWidth:x,inShape:e,outShape:_,filterShape:t}}function of(e,t,n,r=1){const a=cf(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function lf(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function uf(e){return"number"==typeof e?[e,e,e]:e}function cf(e,t){return t<=1?e:e+(e-1)*(t-1)}function hf(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function df(e){const[t,n,r]=lf(e);return 1===t&&1===n&&1===r}function pf(e,t){return df(e)||df(t)}function mf(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function ff(e,t,n){if(null!=n){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"==typeof t)fl(Al(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{fl(Al(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const gf=Ap({reshape_:function(e,t){const n={x:wp(e,"x","reshape","string_or_numeric")},r={shape:t};return cp.runKernel(lh,n,r)}});const yf=Ap({avgPool_:function(e,t,n,r,a){const s=wp(e,"x","avgPool","float32");fl(pf(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let i=s,o=!1;3===s.rank&&(o=!0,i=gf(s,[1,s.shape[0],s.shape[1],s.shape[2]])),fl(4===i.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${i.rank}.`)),ff("avgPool",r,a);const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let c=cp.runKernel(gu,l,u);return c=lm(c,s.dtype),o?gf(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const bf=Ap({avgPool3d_:function(e,t,n,r,a,s="NDHWC"){const i=wp(e,"x","avgPool3d","float32");let o=i,l=!1;4===i.rank&&(l=!0,o=gf(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),fl(5===o.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`)),fl("NDHWC"===s,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`)),ff("avgPool3d",r,a);const u={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:s};let h=cp.runKernel(bu,u,c);return h=lm(h,o.dtype),l?gf(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const wf=Ap({batchNorm_:function(e,t,n,r,a,s){null==s&&(s=.001);const i=wp(e,"x","batchNorm"),o=wp(t,"mean","batchNorm"),l=wp(n,"variance","batchNorm");let u,c;null!=a&&(u=wp(a,"scale","batchNorm")),null!=r&&(c=wp(r,"offset","batchNorm")),fl(o.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),fl(null==c||o.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),fl(null==u||o.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const h=function(e){let t;return t=0===e.rank||1===e.rank?gf(e,[1,1,1,e.size]):2===e.rank?gf(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?gf(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(i),d={x:h,scale:u,offset:c,mean:o,variance:l},p={varianceEpsilon:s},m=cp.runKernel(cc,d,p);return gf(m,i.shape)}});const vf=Ap({batchNorm2d_:function(e,t,n,r,a,s){const i=wp(e,"x","batchNorm"),o=wp(t,"mean","batchNorm"),l=wp(n,"variance","batchNorm");let u,c;return null!=a&&(u=wp(a,"scale","batchNorm")),null!=r&&(c=wp(r,"offset","batchNorm")),fl(2===i.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`)),fl(2===o.rank||1===o.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`)),fl(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=u&&fl(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=c&&fl(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`)),wf(i,o,l,c,u,s)}});const Af=Ap({batchNorm3d_:function(e,t,n,r,a,s){const i=wp(e,"x","batchNorm"),o=wp(t,"mean","batchNorm"),l=wp(n,"variance","batchNorm");let u,c;return null!=a&&(u=wp(a,"scale","batchNorm")),null!=r&&(c=wp(r,"offset","batchNorm")),fl(3===i.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`)),fl(3===o.rank||1===o.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`)),fl(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=u&&fl(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=c&&fl(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`)),wf(i,o,l,c,u,s)}});const xf=Ap({batchNorm4d_:function(e,t,n,r,a,s){const i=wp(e,"x","batchNorm"),o=wp(t,"mean","batchNorm"),l=wp(n,"variance","batchNorm");let u,c;return null!=a&&(u=wp(a,"scale","batchNorm")),null!=r&&(c=wp(r,"offset","batchNorm")),fl(4===i.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`)),fl(4===o.rank||1===o.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`)),fl(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=u&&fl(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=c&&fl(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`)),wf(i,o,l,c,u,s)}});const kf=Ap({clipByValue_:function(e,t,n){const r=wp(e,"x","clipByValue");fl(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`));const a={x:r},s={clipValueMin:t,clipValueMax:n};return cp.runKernel(Eu,a,s)}});const Cf=Ap({concat_:function(e,t=0){fl(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=vp(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return um(n[0]);const r=n,a={axis:t};return cp.runKernel(Nu,r,a)}});const Sf=Ap({concat1d_:function(e){return Cf(e,0)}});const Ef=Ap({concat2d_:function(e,t){return Cf(e,t)}});const If=Ap({concat3d_:function(e,t){return Cf(e,t)}});const Tf=Ap({concat4d_:function(e,t){return Cf(e,t)}});const Nf=Ap({conv2d_:function(e,t,n,r,a="NHWC",s=[1,1],i){const o=wp(e,"x","conv2d","float32"),l=wp(t,"filter","conv2d","float32");let u=o,c=!1;3===o.rank&&(c=!0,u=gf(o,[1,o.shape[0],o.shape[1],o.shape[2]])),fl(4===u.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`)),fl(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),ff("conv2d",r,i);const h="NHWC"===a?u.shape[3]:u.shape[1];fl(h===l.shape[2],(()=>`Error in conv2d: depth of input (${h}) must match input depth for filter ${l.shape[2]}.`)),fl(pf(n,s),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`));const d={x:u,filter:l},p={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:i},m=cp.runKernel(Du,d,p);return c?gf(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const Df=Ap({conv1d_:function(e,t,n,r,a="NWC",s=1,i){const o=wp(e,"x","conv1d"),l=wp(t,"filter","conv1d");let u=o,c=!1;2===o.rank&&(c=!0,u=gf(o,[1,o.shape[0],o.shape[1]])),fl(3===u.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`)),fl(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),ff("conv1d",r,i),fl(u.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),fl(pf(n,s),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${s}'`)),fl("NWC"===a,(()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`));const h=gf(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=gf(u,[u.shape[0],1,u.shape[1],u.shape[2]]),p=Nf(d,h,[1,n],r,"NHWC",[1,s],i);return gf(p,c?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});const _f=Ap({conv2DBackpropInput_:function(e,t,n,r,a,s="NHWC",i){fl(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let o=e,l=t,u=!1;3===t.rank&&(u=!0,l=gf(t,[1,t.shape[0],t.shape[1],t.shape[2]]),o=[1,e[0],e[1],e[2]]),fl(4===o.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`)),fl(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),fl(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const c="NHWC"===s?o[3]:o[1],h="NHWC"===s?l.shape[3]:l.shape[1];fl(c===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`)),fl(h===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${h}) must match output depth for filter ${n.shape[3]}.`)),ff("conv2dDerInput",a,i);const d={dy:l,filter:n},p={strides:r,pad:a,dataFormat:s,dimRoundingMode:i,inputShape:o},m=cp.runKernel(Ou,d,p);return u?gf(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const Of=Ap({conv2dTranspose_:function(e,t,n,r,a,s){const i=wp(e,"x","conv2dTranspose"),o=wp(t,"filter","conv2dTranspose");return _f(n,i,o,r,a,"NHWC",s)}});const Bf=Ap({conv3d_:function(e,t,n,r,a="NDHWC",s=[1,1,1]){const i=wp(e,"x","conv3d"),o=wp(t,"filter","conv3d");let l=i,u=!1;4===i.rank&&(u=!0,l=gf(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),fl(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),fl(5===o.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`)),fl(l.shape[4]===o.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`)),fl(pf(n,s),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),fl("NDHWC"===a,(()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`));const c={x:l,filter:o},h={strides:n,pad:r,dataFormat:a,dilations:s},d=cp.runKernel(Bu,c,h);return u?gf(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const zf=Ap({conv3DBackpropInput_:function(e,t,n,r,a){fl(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let s=e,i=t,o=!1;4===t.rank&&(o=!0,i=gf(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),s=[1,e[0],e[1],e[2],e[3]]);const l=s[4],u=i.shape[4];fl(5===s.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${s.length}.`)),fl(5===i.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`)),fl(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),fl(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),fl(u===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`));const c={dy:i,filter:n},h={pad:a,strides:r,inputShape:s},d=cp.runKernel(Ru,c,h);return o?gf(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Rf=Ap({conv3dTranspose_:function(e,t,n,r,a){const s=wp(e,"x","conv3dTranspose"),i=wp(t,"filter","conv3dTranspose");return zf(n,s,i,r,a)}});const Mf=Ap({depthwiseConv2d_:function(e,t,n,r,a="NHWC",s=[1,1],i){const o=wp(e,"x","depthwiseConv2d","float32"),l=wp(t,"filter","depthwiseConv2d","float32");let u=o,c=!1;3===o.rank&&(c=!0,u=gf(o,[1,o.shape[0],o.shape[1],o.shape[2]])),fl(4===u.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`)),fl(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`)),fl(u.shape[3]===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${u.shape[3]}) must match the inChannels dimension in filter ${l.shape[2]}.`)),ff("depthwiseConv2d",r,i);const h={x:u,filter:l},d={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:i},p=cp.runKernel(ju,h,d);return c?gf(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const Ff=Ap({floorDiv_:function(e,t){let n=wp(e,"a","floorDiv"),r=wp(t,"b","floorDiv");[n,r]=np(n,r);const a={a:n,b:r};return cp.runKernel(uc,a)}});const Pf=Ap({div_:function(e,t){let n=wp(e,"a","div"),r=wp(t,"b","div");if([n,r]=np(n,r),"int32"===n.dtype&&"int32"===r.dtype)return Ff(n,r);const a={a:n,b:r};return cp.runKernel(Xu,a,{})}});const Lf=Ap({elu_:function(e){const t={x:wp(e,"x","elu","float32")};return cp.runKernel(Qu,t)}});const Vf=Ap({equal_:function(e,t){let n=wp(e,"a","equal","string_or_numeric"),r=wp(t,"b","equal","string_or_numeric");[n,r]=np(n,r),vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(tc,a)}});const Wf=Ap({exp_:function(e){const t={x:wp(e,"x","exp")};return cp.runKernel(nc,t)}});const Uf=Ap({expandDims_:function(e,t=0){const n=wp(e,"x","expandDims","string_or_numeric");fl(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},a={dim:t};return cp.runKernel(rc,r,a)}});const jf=Ap({tile_:function(e,t){const n=wp(e,"x","tile","string_or_numeric");fl(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const r={x:n},a={reps:t};return cp.runKernel(qh,r,a)}});const Gf=Ap({eye_:function(e,t,n,r="float32"){null==t&&(t=e);const a=om([e,t],r),s=e<=t?e:t;for(let e=0;e<s;++e)a.set(1,e,e);const i=gf(a.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return jf(Uf(i,0),[n[0],1,1]);if(2===n.length)return jf(Uf(Uf(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return jf(Uf(Uf(Uf(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});function qf(e,t,n){const r={shape:e,value:t,dtype:n};return cp.runKernel(ic,{},r)}const $f=Ap({floor_:function(e){const t={x:wp(e,"x","floor","float32")};return cp.runKernel(lc,t)}});const Hf=Ap({gather_:function(e,t,n=0,r=0){const a={x:wp(e,"x","gather"),indices:wp(t,"indices","gather","int32")},s={axis:n,batchDims:r};return cp.runKernel(hc,a,s)}});const Kf=Ap({greater_:function(e,t){let n=wp(e,"a","greater","string_or_numeric"),r=wp(t,"b","greater","string_or_numeric");[n,r]=np(n,r),vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(pc,a)}});const Zf=Ap({greaterEqual_:function(e,t){let n=wp(e,"a","greaterEqual","string_or_numeric"),r=wp(t,"b","greaterEqual","string_or_numeric");[n,r]=np(n,r),vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(mc,a)}});const Xf=Ap({leakyRelu_:function(e,t=.2){const n={x:wp(e,"x","leakyRelu")},r={alpha:t};return cp.runKernel(Ac,n,r)}});const Yf=Ap({log_:function(e){const t={x:wp(e,"x","log","float32")};return cp.runKernel(Sc,t)}});const Qf=Ap({log1p_:function(e){const t={x:wp(e,"x","log1p")};return cp.runKernel(Ec,t)}});const Jf=Ap({max_:function(e,t=null,n=!1){const r={x:wp(e,"x","max")},a={reductionIndices:t,keepDims:n};return cp.runKernel(Oc,r,a)}});const eg=Ap({mul_:function(e,t){let n=wp(e,"a","mul"),r=wp(t,"b","mul");[n,r]=np(n,r);const a={a:n,b:r};return cp.runKernel(qc,a)}});const tg=Ap({sub_:function(e,t){let n=wp(e,"a","sub"),r=wp(t,"b","sub");[n,r]=np(n,r);const a={a:n,b:r};return cp.runKernel(Uh,a)}});const ng=Ap({sum_:function(e,t=null,n=!1){let r=wp(e,"x","sum");"bool"===r.dtype&&(r=lm(r,"int32"));const a={x:r},s={axis:t,keepDims:n};return cp.runKernel(Ih,a,s)}});const rg=Ap({logSoftmax_:function(e,t=-1){const n=wp(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const r=Hm(((e,n)=>{const r=Jf(e,t,!0),a=tg(e,r),s=tg(lm(a,"float32"),Yf(ng(Wf(a),t,!0)));n([s]);return{value:s,gradFunc:(e,n)=>{const[r]=n,a=Wf(r);return tg(e,eg(ng(e,t,!0),a))}}}));return r(n)}});const ag=Ap({logicalAnd_:function(e,t){const n=wp(e,"a","logicalAnd","bool"),r=wp(t,"b","logicalAnd","bool");vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(Ic,a)}});const sg=Ap({matMul_:function(e,t,n=!1,r=!1){let a=wp(e,"a","matMul"),s=wp(t,"b","matMul");[a,s]=np(a,s);const i={a,b:s},o={transposeA:n,transposeB:r};return cp.runKernel(vu,i,o)}});const ig=Ap({maxPool_:function(e,t,n,r,a){const s=wp(e,"x","maxPool");let i=s,o=!1;3===s.rank&&(o=!0,i=gf(s,[1,s.shape[0],s.shape[1],s.shape[2]])),fl(4===i.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${i.rank}.`)),fl(pf(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),ff("maxPool",r,a);const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=cp.runKernel(zc,l,u);return o?gf(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const og=Ap({maxPool3d_:function(e,t=[1,1,1],n,r,a,s="NDHWC"){const i=wp(e,"x","maxPool3d");let o=i,l=!1;4===i.rank&&(l=!0,o=gf(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),fl(5===o.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`)),fl("NDHWC"===s,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`)),ff("maxPool3d",r,a);const u={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:s},h=cp.runKernel(Mc,u,c);return l?gf(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const lg=Ap({maximum_:function(e,t){let n=wp(e,"a","maximum"),r=wp(t,"b","maximum");[n,r]=np(n,r),"bool"===n.dtype&&(n=lm(n,"int32"),r=lm(r,"int32")),vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(Bc,a)}});const ug=Ap({mean_:function(e,t=null,n=!1){const r={x:wp(e,"x","mean")},a={axis:t,keepDims:n};return cp.runKernel(Lc,r,a)}});const cg=Ap({minimum_:function(e,t){let n=wp(e,"a","minimum"),r=wp(t,"b","minimum");[n,r]=np(n,r),"bool"===n.dtype&&(n=lm(n,"int32"),r=lm(r,"int32")),vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(Wc,a)}});function hg(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function dg(e,t,n){const r=e.length+t.length,a=[];let s=0,i=0;for(let o=0;o<r;o++)-1===n.indexOf(o)?a.push(e[s++]):a.push(t[i++]);return a}function pg(e,t){const n=[],r=e.length;for(let a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((t=>e[t]))]}function mg(e,t){return dg(e,t.map((e=>1)),t)}function fg(e,t,n){fl(hg(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function gg(e,t){if(hg(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function yg(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function bg(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const wg=Ap({square_:function(e){const t=wp(e,"x","square");return cp.runKernel("Square",{x:t},{})}});const vg=Ap({moments_:function(e,t=null,n=!1){const r=El(t,(e=wp(e,"x","moments")).shape),a=ug(e,r,n);let s=a.shape;n||(s=mg(a.shape,r));const i=wg(tg(lm(e,"float32"),gf(a,s)));return{mean:a,variance:ug(i,r,n)}}});const Ag=Ap({neg_:function(e){const t={x:wp(e,"x","neg")};return cp.runKernel($c,t)}});const xg=Ap({notEqual_:function(e,t){let n=wp(e,"a","notEqual","string_or_numeric"),r=wp(t,"b","notEqual","string_or_numeric");[n,r]=np(n,r),vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(Hc,a)}});const kg=Ap({oneHot_:function(e,t,n=1,r=0){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const a={indices:wp(e,"indices","oneHot","int32")},s={depth:t,onValue:n,offValue:r};return cp.runKernel(Qc,a,s)}});function Cg(e,t="float32"){if("complex64"===t){const t=Cg(e,"float32"),n=Cg(e,"float32");return xp(t,n)}const n=Ul(wl(e),t);return cp.makeTensor(n,e,t)}function Sg(e,t="float32"){if("complex64"===t){const t=Sg(e,"float32"),n=Cg(e,"float32");return xp(t,n)}const n=Wl(wl(e),t);return cp.makeTensor(n,e,t)}const Eg=Ap({onesLike_:function(e){const t={x:wp(e,"x","onesLike")};return cp.runKernel(Yc,t)}});const Ig=Ap({pad_:function(e,t,n=0){const r=wp(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},s={x:r};return cp.runKernel(eh,s,a)}});const Tg=Ap({prelu_:function(e,t){const n={x:wp(e,"x","prelu"),alpha:wp(t,"alpha","prelu")};return cp.runKernel(nh,n)}});var Ng=__webpack_require__(3986);class Dg{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const s=a||Math.random();this.random=Ng.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,s;do{r=2*this.random()-1,a=2*this.random()-1,s=r*r+a*a}while(s>=1||0===s);const i=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*r*i,t=this.mean+this.stdDev*a*i,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class _g{constructor(e=0,t=1,n,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=Ng.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const Og=Ap({randomNormal_:function(e,t=0,n=1,r,a){if(null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const s=new Dg(t,n,r,!1,a),i=om(e,r);for(let e=0;e<i.values.length;e++)i.values[e]=s.nextValue();return i.toTensor()}});const Bg=Ap({randomUniform_:function(e,t=0,n=1,r="float32",a){const s=om(e,r),i=new _g(t,n,null,a);for(let e=0;e<s.values.length;e++)s.values[e]=i.nextValue();return s.toTensor()}});const zg=Ap({relu_:function(e){const t={x:wp(e,"x","relu")};return cp.runKernel(oh,t)}});const Rg=Ap({reverse_:function(e,t){const n={x:wp(e,"x","reverse")},r={dims:t};return cp.runKernel(mh,n,r)}});const Mg=Ap({selu_:function(e){const t={x:wp(e,"x","selu")};return cp.runKernel(wh,t)}});const Fg=Ap({separableConv2d_:function(e,t,n,r,a,s=[1,1],i="NHWC"){const o=wp(e,"x","separableConv2d"),l=wp(t,"depthwiseFilter","separableConv2d"),u=wp(n,"pointwiseFilter","separableConv2d");let c=o,h=!1;if(3===o.rank&&(h=!0,c=gf(o,[1,o.shape[0],o.shape[1],o.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");fl(4===c.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`)),fl(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),fl(4===u.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),fl(1===u.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`)),fl(1===u.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`));const d=l.shape[2],p=l.shape[3];fl(u.shape[2]===d*p,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*p}, but got ${u.shape[2]}.`));const m=Mf(c,l,r,a,i,s),f=Nf(m,u,1,"valid",i);return h?gf(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Pg=Ap({sigmoid_:function(e){const t={x:wp(e,"x","sigmoid","float32")};return cp.runKernel(Ch,t)}});const Lg=Ap({slice_:function(e,t,n){const r=wp(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const a={x:r},s={begin:t,size:n};return cp.runKernel(vh,a,s)}});const Vg=Ap({slice1d_:function(e,t,n){const r=wp(e,"x","slice1d");return fl(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),Lg(r,[t],[n])}});const Wg=Ap({slice2d_:function(e,t,n){const r=wp(e,"x","slice2d");return fl(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),Lg(r,t,n)}});const Ug=Ap({slice3d_:function(e,t,n){const r=wp(e,"x","slice3d");return fl(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),Lg(r,t,n)}});const jg=Ap({slice4d_:function(e,t,n){const r=wp(e,"x","slice4d");return fl(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),Lg(r,t,n)}});const Gg=Ap({softmax_:function(e,t=-1){const n=wp(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},a={dim:t};return cp.runKernel(Dh,r,a)}});const qg=Ap({softplus_:function(e){const t={x:wp(e,"x","softplus")};return cp.runKernel(Sh,t)}});const $g=Ap({split_:function(e,t,n=0){const r={x:wp(e,"x","split")},a={numOrSizeSplits:t,axis:n};return cp.runKernel(Nh,r,a)}});const Hg=Ap({sqrt_:function(e){const t={x:wp(e,"x","sqrt","float32")};return cp.runKernel(Eh,t)}});const Kg=Ap({squeeze_:function(e,t){const n=wp(e,"x","squeeze");return gf(n,Il(n.shape,t).newShape)}});const Zg=Ap({stack_:function(e,t=0){const n=vp(e,"tensors","stack","string_or_numeric");fl(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&fl(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,a={axis:t};return cp.runKernel(Jc,r,a)}});const Xg=Ap({tanh_:function(e){const t={x:wp(e,"x","tanh","float32")};return cp.runKernel(Gh,t)}});function Yg(e,t){yl(e);const n=gp(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return kp(e,null,n,t)}const Qg=Ap({truncatedNormal_:function(e,t=0,n=1,r,a){if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const s=new Dg(t,n,r,!0,a),i=om(e,r);for(let e=0;e<i.values.length;e++)i.values[e]=s.nextValue();return i.toTensor()}});const Jg=Ap({unstack_:function(e,t=0){const n=wp(e,"x","unstack","string_or_numeric");fl(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const r={value:n},a={axis:t};return cp.runKernel(Xh,r,a)}});const ey=Ap({broadcastTo_:function(e,t){let n=wp(e,"broadcastTo","x");const r=n.shape;if(t.some((e=>!(e>0)||e%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=gf(n,e)}const a=n.shape,s=Array.from(t);for(let e=t.length-1;e>=0;e--)if(a[e]===t[e])s[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===s.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return um(n);const i={x:n},o={reps:s};return cp.runKernel(qh,i,o)}});const ty=Ap({where_:function(e,t,n){const r=wp(t,"a","where"),a=wp(n,"b","where"),s=wp(e,"condition","where","bool"),i=vm(vm(s.shape,r.shape),a.shape),o={condition:ey(s,i),t:ey(r,i),e:ey(a,i)};return cp.runKernel(bh,o)}});const ny=Ap({zerosLike_:function(e){const t={x:wp(e,"x","zerosLike")};return cp.runKernel(Qh,t)}});const ry=Ap({transpose_:function(e,t){const n=wp(e,"x","transpose");if(null==t&&(t=n.shape.map(((e,t)=>t)).reverse()),fl(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${t}.`)),t.forEach((e=>{fl(e>=0&&e<n.rank,(()=>"All entries in 'perm' must be between 0 and "+(n.rank-1)+` but got ${t}`))})),n.rank<=1)return n.clone();const r={x:n},a={perm:t};return cp.runKernel(Kh,r,a)}});const ay=Ap({dropout_:function(e,t,n,r){const a=wp(e,"x","dropout");if(fl("float32"===a.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`)),fl(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof qd?a.clone():a;const s=function(e,t){if(null==t)return e.shape.slice();if(vl(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),i=1-t,o=Pf($f(Ym(Bg(s,0,1,"float32",r),i)),i);return eg(a,o)}});const sy=Ap({imag_:function(e){const t={input:wp(e,"input","imag")};return cp.runKernel(yc,t)}});const iy=Ap({real_:function(e){const t={input:wp(e,"input","real")};return cp.runKernel(sh,t)}});const oy=Ap({fft_:function(e){fl("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return cp.runKernel(sc,t)}});const ly=Ap({rfft_:function(e,t){fl("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(null!=t&&t<n){const r=e.shape.map((e=>0)),s=e.shape.map((e=>e));s[e.shape.length-1]=t,a=Lg(e,r,s),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,a=Cf([e,Cg(r)],e.shape.length-1),n=t}else a=e;const s=ny(a),i=gf(xp(a,s),[r,n]),o=oy(i),l=Math.floor(n/2)+1,u=iy(o),c=sy(o),h=$g(u,[l,n-l],u.shape.length-1),d=$g(c,[l,n-l],c.shape.length-1),p=a.shape.slice();return p[a.shape.length-1]=l,gf(xp(h[0],d[0]),p)}});const uy=Ap({ifft_:function(e){fl("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return cp.runKernel(gc,t)}});const cy=Ap({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=gf(e,[n,t]);r=uy(a)}else{const a=[n,2*(t-1)],s=gf(iy(e),[n,t]),i=gf(sy(e),[n,t]),o=Rg(Lg(s,[0,1],[n,t-2]),1),l=eg(Rg(Lg(i,[0,1],[n,t-2]),1),Km(-1)),u=Cf([s,o],1),c=Cf([i,l],1),h=gf(xp(u,c),[a[0],a[1]]);r=uy(h)}if(r=iy(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=gf(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const hy=Ap({conv2DBackpropFilter_:function(e,t,n,r,a,s="NHWC",i){let o=e;3===e.rank&&(o=gf(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=gf(t,[1,t.shape[0],t.shape[1],t.shape[2]])),fl(4===o.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`)),fl(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),fl(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const u="NHWC"===s?o.shape[3]:o.shape[1],c="NHWC"===s?l.shape[3]:l.shape[1];fl(u===n[2],(()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`)),fl(c===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`)),ff("conv2dDerFilter",a,i);const h={x:o,dy:l},d={strides:r,pad:a,dataFormat:s,dimRoundingMode:i,filterShape:n};return cp.runKernel(_u,h,d)}});const dy=Ap({relu6_:function(e){const t={x:wp(e,"x","relu6")};return cp.runKernel(ph,t)}});const py=Ap({step_:function(e,t=0){const n={x:wp(e,"x","step")},r={alpha:t};return cp.runKernel(Jh,n,r)}});function my(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return eg(e,py(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function fy(e,t){let n=t;const r=wm(e.shape,t.shape);return r.length>0&&(n=ng(n,r)),gf(n,e.shape)}function gy(e,t,n,r){if("linear"===t)return e;if("relu"===t)return zg(e);if("elu"===t)return Lf(e);if("relu6"===t)return dy(e);if("prelu"===t)return Tg(e,n);if("leakyrelu"===t)return Xf(e,r);if("sigmoid"===t)return Pg(e);throw new Error(`Unknown fused activation ${t}.`)}const yy=(e,t)=>!(e>0)||"linear"===t;const by=Ap({fusedConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",!1===yy(cp.state.gradientDepth,l)){let h=Nf(e,t,n,r,a,s,i);return null!=o&&(h=Ym(h,o)),gy(h,l,u,c)}const h=wp(e,"x","conv2d","float32"),d=wp(t,"filter","conv2d","float32");let p=h,m=!1;3===h.rank&&(m=!0,p=gf(h,[1,h.shape[0],h.shape[1],h.shape[2]])),fl(4===p.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`)),fl(4===d.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`)),ff("fused conv2d",r,i),fl(p.shape[3]===d.shape[2],(()=>`Error in conv2d: depth of input (${p.shape[3]}) must match input depth for filter ${d.shape[2]}.`)),fl(pf(n,s),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),fl("NHWC"===a,(()=>`Error in conv2d: got dataFormat of ${a} but only NHWC is currently supported.`));const f=af(p.shape,d.shape,n,s,r,i);let g,y;null!=o&&(g=wp(o,"bias","fused conv2d"),[g]=np(g,h),vm(f.outShape,g.shape)),null!=u&&(y=wp(u,"prelu weights","fused conv2d"));const b=(e,t)=>{const[a,i,o,u]=t,c=my(e,o,l);fl(df(s),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`));const h=[_f(i.shape,c,a,n,r),hy(i,c,a.shape,n,r)];if(null!=u){const e=fy(u,c);h.push(e)}return h},w={x:p,filter:d,bias:g,preluActivationWeights:y},v={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:i,activation:l,leakyreluAlpha:c};if(null==o){const e=Hm(((e,t,n)=>{let r=cp.runKernel(nd,w,v);return n([t,e,r]),m&&(r=gf(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(p,d)}{const e=Hm(((e,t,n,r)=>{let a=cp.runKernel(nd,w,v);return r([t,e,a,n]),m&&(a=gf(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}));return e(p,d,g)}}});const wy=Ap({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a,s=[1,1],i){let o=e;3===e.rank&&(o=gf(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=gf(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:o,dy:l},c={strides:r,pad:a,dimRoundingMode:i,dilations:s,filterShape:n};return cp.runKernel(Gu,u,c)}});const vy=Ap({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a,s=[1,1],i){let o=t,l=!1;3===t.rank&&(l=!0,o=gf(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:o,filter:n},c={strides:r,pad:a,dimRoundingMode:i,dilations:s,inputShape:e},h=cp.runKernel(qu,u,c);return l?gf(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});Ap({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(!1===yy(cp.state.gradientDepth,l)){let h=Mf(e,t,n,r,a,s,i);return null!=o&&(h=Ym(h,o)),gy(h,l,u,c)}const h=wp(e,"x","depthwiseConv2d","float32"),d=wp(t,"filter","depthwiseConv2d","float32");let p=h,m=!1;3===h.rank&&(m=!0,p=gf(h,[1,h.shape[0],h.shape[1],h.shape[2]])),fl(4===p.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`)),fl(4===d.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`)),fl(p.shape[3]===d.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${p.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`)),null==s&&(s=[1,1]),fl(pf(n,s),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),ff("fused depthwiseConv2d",r,i);const f=af(p.shape,d.shape,n,s,r,i,!0);let g,y;null!=o&&(g=wp(o,"bias","fused conv2d"),[g]=np(g,h),vm(f.outShape,g.shape)),null!=u&&(y=wp(u,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{fl(df(s),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`));const[a,o,u,c]=t,h=my(e,u,l),d=vy(o.shape,h,a,n,r,s,i),p=wy(o,h,a.shape,n,r,s,i);if(null!=c){return[d,p,fy(g,h)]}return[d,p]},w={x:p,filter:d,bias:g,preluActivationWeights:y},v={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:i,activation:l,leakyreluAlpha:c};if(null==o){const e=Hm(((e,t,n)=>{let r=cp.runKernel(rd,w,v);return n([t,e,r]),m&&(r=gf(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(p,d)}{const e=Hm(((e,t,n,r)=>{let a=cp.runKernel(rd,w,v);return r([t,e,a,n]),m&&(a=gf(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}));return e(p,d,g)}}});const Ay=Ap({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:a,activation:s="linear",preluActivationWeights:i,leakyreluAlpha:o}){if(!1===yy(cp.state.gradientDepth,s)){let l=sg(e,t,n,r);return null!=a&&(l=Ym(l,a)),gy(l,s,i,o)}let l=wp(e,"a","fused matMul"),u=wp(t,"b","fused matMul");[l,u]=np(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],h=r?u.shape[u.rank-1]:u.shape[u.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=r?u.shape[u.rank-2]:u.shape[u.rank-1],m=l.shape.slice(0,-2),f=u.shape.slice(0,-2),g=wl(m),y=wl(f);fl(c===h,(()=>`Error in fused matMul: inner shapes (${c}) and (${h}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`));const b=vm(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([d,p]),w=gf(l,n?[g,c,d]:[g,d,c]),v=gf(u,r?[y,p,h]:[y,h,p]);let A,x;null!=a&&(A=wp(a,"bias","fused matMul"),[A]=np(A,l),vm(b,A.shape)),null!=i&&(x=wp(i,"prelu weights","fused matMul"));const k=(e,t)=>{const[i,o,l,u]=t,c=my(gf(e,l.shape),l,s);let h,d;if(n||r?!n&&r?(h=sg(c,o,!1,!1),d=sg(c,i,!0,!1)):n&&!r?(h=sg(o,c,!1,!0),d=sg(i,c,!1,!1)):(h=sg(o,c,!0,!0),d=sg(c,i,!0,!0)):(h=sg(c,o,!1,!0),d=sg(i,c,!0,!1)),null!=a){return[h,d,fy(u,c)]}return[h,d]},C={a:w,b:v,bias:A,preluActivationWeights:x},S={transposeA:n,transposeB:r,activation:s,leakyreluAlpha:o};if(null==a){const e=Hm(((e,t,n)=>{const r=cp.runKernel(td,C,S);return n([e,t,r]),{value:gf(r,b),gradFunc:k}}));return e(w,v)}{const e=Hm(((e,t,n,r)=>{const a=cp.runKernel(td,C,S);return r([e,t,a,n]),{value:gf(a,b),gradFunc:k}}));return e(w,v,A)}}});function xy(e,t,n){const r=1-e%2,a=new Float32Array(e);for(let s=0;s<e;++s){const i=2*Math.PI*s/(e+r-1);a[s]=t-n*Math.cos(i)}return Yg(a,"float32")}Ap({hammingWindow_:function(e){return xy(e,.54,.46)}});const ky=Ap({hannWindow_:function(e){return xy(e,.5,.5)}});function Cy(e,t,n){if(yl(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=gp(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return kp(e,t,r,n)}const Sy=Ap({frame_:function(e,t,n,r=!1,a=0){let s=0;const i=[];for(;s+t<=e.size;)i.push(Lg(e,s,t)),s+=n;if(r)for(;s<e.size;){const r=s+t-e.size,o=Cf([Lg(e,s,t-r),qf([r],a)]);i.push(o),s+=n}return 0===i.length?Cy([],[0,t]):gf(Cf(i),[i.length,t])}});Ap({stft_:function(e,t,n,r,a=ky){var s;null==r&&(s=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(s)/Math.log(2)))));const i=Sy(e,t,n),o=eg(i,a(t));return ly(o,r)}});const Ey=Ap({cropAndResize_:function(e,t,n,r,a="bilinear",s=0){const i=wp(e,"image","cropAndResize"),o=wp(t,"boxes","cropAndResize","float32"),l=wp(n,"boxInd","cropAndResize","int32"),u=o.shape[0];fl(4===i.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`)),fl(2===o.rank&&4===o.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${o.shape}.`)),fl(1===l.rank&&l.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${o.shape}.`)),fl(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),fl(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),fl("bilinear"===a||"nearest"===a,(()=>`method must be bilinear or nearest, but was ${a}`));const c={image:i,boxes:o,boxInd:l},h={method:a,extrapolationValue:s,cropSize:r};return cp.runKernel(Vu,c,h)}});const Iy=Ap({flipLeftRight_:function(e){const t=wp(e,"image","flipLeftRight","float32");fl(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return cp.runKernel(oc,n,{})}});const Ty=Ap({grayscaleToRGB_:function(e){const t=wp(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];fl(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),fl(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,jf(t,a)}});const Ny=Ap({rotateWithOffset_:function(e,t,n=0,r=.5){const a=wp(e,"image","rotateWithOffset","float32");fl(4===a.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`));const s={image:a},i={radians:t,fillValue:n,center:r};return cp.runKernel(ed,s,i)}});function Dy(e,t,n,r,a,s){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==s&&(s=0);const i=e.shape[0];return n=Math.min(n,i),fl(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),fl(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),fl(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),fl(1===t.rank,(()=>"scores must be a 1D tensor")),fl(t.shape[0]===i,(()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${t.shape[0]}`)),fl(0<=s&&s<=1,(()=>`softNmsSigma must be in [0, 1], but was '${s}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:s}}const _y=Ap({nonMaxSuppression_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const s=wp(e,"boxes","nonMaxSuppression","float32"),i=wp(t,"scores","nonMaxSuppression","float32"),o=Dy(s,i,n,r,a),l={maxOutputSize:n=o.maxOutputSize,iouThreshold:r=o.iouThreshold,scoreThreshold:a=o.scoreThreshold};return cp.runKernel(Kc,{boxes:s,scores:i},l)}});function Oy(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,s=0,i=!1;for(;r<a;){s=r+(a-r>>>1);const o=n(t,e[s]);o>0?r=s+1:(a=s,i=!o)}return i?r:-r-1}(e,t,n||By)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function By(e,t){return e>t?1:e<t?-1:0}function zy(e,t,n,r,a){return Fy(e,t,n,r,a,0)}function Ry(e,t,n,r,a,s){return Fy(e,t,n,r,a,0,!1,s,!0)}function My(e,t,n,r,a,s){return Fy(e,t,n,r,a,s,!0)}function Fy(e,t,n,r,a,s,i=!1,o=!1,l=!1){const u=[];for(let e=0;e<t.length;e++)t[e]>a&&u.push({score:t[e],boxIndex:e,suppressBeginIndex:0});u.sort(Vy);const c=s>0?-.5/s:0,h=[],d=[];for(;h.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:s,suppressBeginIndex:i}=t;if(n<a)break;let o=!1;for(let n=h.length-1;n>=i;--n){const i=Py(e,s,h[n]);if(i>=r){o=!0;break}if(t.score=t.score*Ly(r,c,i),t.score<=a)break}t.suppressBeginIndex=h.length,o||(t.score===n?(h.push(s),d.push(t.score)):t.score>a&&Oy(u,t,Vy))}const p=h.length,m=n-p;o&&m>0&&(h.push(...new Array(m).fill(0)),d.push(...new Array(m).fill(0)));const f={selectedIndices:h};return i&&(f.selectedScores=d),l&&(f.validOutputs=p),f}function Py(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),s=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),h=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),p=(o-s)*(l-i),m=(h-u)*(d-c);if(p<=0||m<=0)return 0;const f=Math.max(s,u),g=Math.max(i,c),y=Math.min(o,h),b=Math.min(l,d),w=Math.max(y-f,0)*Math.max(b-g,0);return w/(p+m-w)}function Ly(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function Vy(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const Wy=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const s=wp(e,"boxes","nonMaxSuppressionAsync"),i=wp(t,"scores","nonMaxSuppressionAsync"),o=Dy(s,i,n,r,a);n=o.maxOutputSize,r=o.iouThreshold,a=o.scoreThreshold;const l=await Promise.all([s.data(),i.data()]),u=l[0],c=l[1],{selectedIndices:h}=zy(u,c,n,r,a);return s!==e&&s.dispose(),i!==t&&i.dispose(),Yg(h,"int32")};const Uy=Ap({nonMaxSuppressionWithScore_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=0){const i=wp(e,"boxes","nonMaxSuppression"),o=wp(t,"scores","nonMaxSuppression"),l=Dy(i,o,n,r,a,s),u={boxes:i,scores:o},c={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:a=l.scoreThreshold,softNmsSigma:s=l.softNmsSigma},h=cp.runKernel(Xc,u,c);return{selectedIndices:h[0],selectedScores:h[1]}}});const jy=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=0){const i=wp(e,"boxes","nonMaxSuppressionAsync"),o=wp(t,"scores","nonMaxSuppressionAsync"),l=Dy(i,o,n,r,a,s);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,s=l.softNmsSigma;const u=await Promise.all([i.data(),o.data()]),c=u[0],h=u[1],{selectedIndices:d,selectedScores:p}=My(c,h,n,r,a,s);return i!==e&&i.dispose(),o!==t&&o.dispose(),{selectedIndices:Yg(d,"int32"),selectedScores:Yg(p)}};const Gy=Ap({nonMaxSuppressionPadded_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=!1){const i=wp(e,"boxes","nonMaxSuppression"),o=wp(t,"scores","nonMaxSuppression"),l=Dy(i,o,n,r,a,null),u={boxes:i,scores:o},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:s},h=cp.runKernel(Zc,u,c);return{selectedIndices:h[0],validOutputs:h[1]}}});const qy=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=!1){const i=wp(e,"boxes","nonMaxSuppressionAsync"),o=wp(t,"scores","nonMaxSuppressionAsync"),l=Dy(i,o,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,h=l.scoreThreshold,[d,p]=await Promise.all([i.data(),o.data()]),{selectedIndices:m,validOutputs:f}=Ry(d,p,u,c,h,s);return i!==e&&i.dispose(),o!==t&&o.dispose(),{selectedIndices:Yg(m,"int32"),validOutputs:Km(f,"int32")}};const $y=Ap({resizeBilinear_:function(e,t,n=!1,r=!1){const a=wp(e,"images","resizeBilinear");fl(3===a.rank||4===a.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`)),fl(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),fl(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let s=a,i=!1;3===a.rank&&(i=!0,s=gf(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,o={images:s},l={alignCorners:n,halfPixelCenters:r,size:t},u=cp.runKernel(hh,o,l);return i?gf(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Hy=Ap({resizeNearestNeighbor_:function(e,t,n=!1,r=!1){const a=wp(e,"images","resizeNearestNeighbor");fl(3===a.rank||4===a.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`)),fl(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),fl("float32"===a.dtype||"int32"===a.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),fl(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let s=a,i=!1;3===a.rank&&(i=!0,s=gf(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,o={images:s},l={alignCorners:n,halfPixelCenters:r,size:t},u=cp.runKernel(uh,o,l);return i?gf(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Ky=Ap({bincount_:function(e,t,n){const r=wp(e,"x","bincount"),a=wp(t,"weights","bincount");fl("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),fl(n>=0,(()=>`size must be non-negative, but got ${n}.`)),fl(a.size===r.size||0===a.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`));const s={x:r,weights:a},i={size:n};return cp.runKernel(xu,s,i)}});const Zy=Ap({lessEqual_:function(e,t){let n=wp(e,"a","lessEqual","string_or_numeric"),r=wp(t,"b","lessEqual","string_or_numeric");[n,r]=np(n,r),vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(kc,a)}});const Xy=Ap({round_:function(e){const t={x:wp(e,"x","round")};return cp.runKernel(fh,t)}});function Yy(e,t,n=1,r="float32"){if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return cp.runKernel(ah,{},a)}const Qy=Ap({threshold_:function(e,t="binary",n=!1,r=.5){const a=wp(e,"image","threshold"),s=a.shape[0]*a.shape[1];let i,o,l,u,c=eg(Yg([r]),255);if(fl(3===a.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`)),fl(3===a.shape[2]||1===a.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`)),fl("int32"===a.dtype||"float32"===a.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`)),fl("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===a.shape[2]){[i,o,l]=$g(a,[1,1,1],-1);const e=eg(i,.2989),t=eg(o,.587),n=eg(l,.114);u=Ym(Ym(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,r,a,s,i,o,l=Yg([-1]),u=Yg([0]),c=Yg([0]);for(let h=0;h<e.size-1;h++){n=Lg(e,0,h+1),r=Lg(e,h+1),i=Pf(ng(n),t),o=Pf(ng(r),t);const d=ng(eg(n,Yy(0,n.size)));a=Pf(d,ng(n));const p=qf(r.shape,n.size),m=Ym(Yy(0,r.size),p),f=eg(r,m);s=Pf(ng(f),ng(r));const g=tg(a,s),y=tg(a,s),b=eg(i,o);c=eg(eg(b,g),y);const w=Kf(c,u);u=ty(w,c,u),l=ty(w,Yg([h]),l)}return l}(Ky(lm(Xy(u),"int32"),Cp([]),256),s)}const h=n?Zy(u,c):Kf(u,c);return lm(eg(h,255),"int32")}});const Jy=Ap({transform_:function(e,t,n="nearest",r="constant",a=0,s){const i=wp(e,"image","transform","float32"),o=wp(t,"transforms","transform","float32");fl(4===i.rank,(()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`)),fl(2===o.rank&&(o.shape[0]===i.shape[0]||1===o.shape[0])&&8===o.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),fl(null==s||2===s.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${s}.`));const l={image:i,transforms:o},u={interpolation:n,fillMode:r,fillValue:a,outputShape:s};return cp.runKernel(Hh,l,u)}});const eb=Ap({bandPart_:function(e,t,n){fl(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),fl(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const r=wp(e,"a","bandPart");fl(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const a=r.shape,[s,i]=r.shape.slice(-2);if(!(t<=s))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${s}).`);if(!(n<=i))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`);t<0&&(t=s),n<0&&(n=i);const o=gf(Yy(0,s,1,"int32"),[-1,1]),l=Yy(0,i,1,"int32"),u=tg(o,l),c=ag(Zy(u,Km(+t,"int32")),Zf(u,Km(-n,"int32"))),h=Cg([s,i],r.dtype);return gf(Zg(Jg(gf(r,[-1,s,i])).map((e=>ty(c,e,h)))),a)}});const tb=Ap({min_:function(e,t=null,n=!1){const r={x:wp(e,"x","min")},a={axis:t,keepDims:n};return cp.runKernel(Vc,r,a)}});const nb=Ap({pow_:function(e,t){let n=wp(e,"base","pow"),r=wp(t,"exp","pow");[n,r]=np(n,r);const a={a:n,b:r};return cp.runKernel(th,a)}});function rb(e,t,n=null){if(0===e.rank)return Xm(e);if(1!==e.rank&&null===n)return rb(gf(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return ng(Xm(e),n);if(t===1/0)return Jf(Xm(e),n);if(t===-1/0)return tb(Xm(e),n);if("euclidean"===t||2===t)return Hg(ng(nb(Xm(e),Km(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return Jf(ng(Xm(e),n[0]),n[1]-1);if(t===1/0)return Jf(ng(Xm(e),n[1]),n[0]);if(t===-1/0)return tb(ng(Xm(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Hg(ng(wg(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const ab=Ap({norm_:function(e,t="euclidean",n=null,r=!1){const a=rb(e=wp(e,"x","norm"),t,n);let s=a.shape;if(r){const t=El(n,e.shape);s=mg(a.shape,t)}return gf(a,s)}});const sb=Ap({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,fl(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)fl(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=$g(e,e.shape[0],0).map((e=>Kg(e,[0])));fl(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let t=0;t<e.length;++t)n.push(cp.tidy((()=>{let e=r[t];if(t>0)for(let r=0;r<t;++r){const t=eg(ng(eg(n[r],e)),n[r]);e=tg(e,t)}return Pf(e,ab(e,"euclidean"))})));return t?Zg(n,0):n}});function ib(e,t=!1){return cp.tidy((()=>{fl(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let a=Gf(n),s=um(e);const i=Cy([[1]],[1,1]);let o=um(i);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=s,l=o,u=a;[o,s,a]=cp.tidy((()=>{const t=Lg(s,[e,e],[n-e,1]),l=ab(t),u=Lg(s,[e,e],[1,1]),c=ty(Kf(u,0),Cy([[-1]]),Cy([[1]])),h=tg(u,eg(c,l)),d=Pf(t,h);o=1===d.shape[0]?um(i):Cf([i,Lg(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);const p=Ag(Pf(sg(c,h),l)),m=Lg(s,[e,0],[n-e,r]),f=eg(p,o),g=ry(o);if(0===e)s=tg(m,sg(f,sg(g,m)));else{const t=tg(m,sg(f,sg(g,m)));s=Cf([Lg(s,[0,0],[e,r]),t],0)}const y=ry(f),b=Lg(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=tg(b,sg(sg(b,o),y));else{const t=tg(b,sg(sg(b,o),y));a=Cf([Lg(a,[0,0],[n,e]),t],1)}return[o,s,a]})),Gm([t,l,u])}return!t&&n>r&&(a=Lg(a,[0,0],[n,r]),s=Lg(s,[0,0],[r,r])),[a,s]}))}const ob=Ap({qr_:function(e,t=!1){if(fl(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return ib(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=Jg(gf(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],s=[];r.forEach((e=>{const[n,r]=ib(e,t);a.push(n),s.push(r)}));return[gf(Zg(a,0),e.shape),gf(Zg(s,0),e.shape)]}}});var lb;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(lb||(lb={}));const ub=Ap({computeWeightedLoss_:function(e,t,n=lb.SUM_BY_NONZERO_WEIGHTS){const r=wp(e,"losses","computeWeightedLoss");let a=null;null!=t&&(a=wp(t,"weights","computeWeightedLoss"));const s=null==a?r:eg(r,a);if(n===lb.NONE)return s;if(n===lb.SUM)return ng(s);if(n===lb.MEAN){if(null==a)return ug(s);{const e=r.size/a.size,t=Pf(ng(s),ng(a));return e>1?Pf(t,Km(e)):t}}if(n===lb.SUM_BY_NONZERO_WEIGHTS){if(null==a)return Pf(ng(s),Km(r.size));{const e=eg(a,Sg(r.shape)),t=lm(ng(xg(e,Km(0))),"float32");return Pf(ng(s),t)}}throw Error(`Unknown reduction: ${n}`)}});Ap({absoluteDifference_:function(e,t,n,r=lb.SUM_BY_NONZERO_WEIGHTS){const a=wp(e,"labels","absoluteDifference"),s=wp(t,"predictions","absoluteDifference");let i=null;null!=n&&(i=wp(n,"weights","absoluteDifference")),gl(a.shape,s.shape,"Error in absoluteDifference: ");const o=Xm(tg(a,s));return ub(o,i,r)}});Ap({cosineDistance_:function(e,t,n,r,a=lb.SUM_BY_NONZERO_WEIGHTS){const s=wp(e,"labels","cosineDistance"),i=wp(t,"predictions","cosineDistance");let o=null;null!=r&&(o=wp(r,"weights","cosineDistance")),gl(s.shape,i.shape,"Error in cosineDistance: ");const l=Km(1),u=tg(l,ng(eg(s,i),n,!0));return ub(u,o,a)}});Ap({hingeLoss_:function(e,t,n,r=lb.SUM_BY_NONZERO_WEIGHTS){let a=wp(e,"labels","hingeLoss");const s=wp(t,"predictions","hingeLoss");let i=null;null!=n&&(i=wp(n,"weights","hingeLoss")),gl(a.shape,s.shape,"Error in hingeLoss: ");const o=Km(1);a=tg(eg(Km(2),a),o);const l=zg(tg(o,eg(a,s)));return ub(l,i,r)}});Ap({huberLoss_:function(e,t,n,r=1,a=lb.SUM_BY_NONZERO_WEIGHTS){const s=wp(e,"labels","huberLoss"),i=wp(t,"predictions","huberLoss");let o=null;null!=n&&(o=wp(n,"weights","huberLoss")),gl(s.shape,i.shape,"Error in huberLoss: ");const l=Km(r),u=Xm(tg(i,s)),c=cg(u,l),h=tg(u,c),d=Ym(eg(Km(.5),wg(c)),eg(l,h));return ub(d,o,a)}});Ap({logLoss_:function(e,t,n,r=1e-7,a=lb.SUM_BY_NONZERO_WEIGHTS){const s=wp(e,"labels","logLoss"),i=wp(t,"predictions","logLoss");let o=null;null!=n&&(o=wp(n,"weights","logLoss")),gl(s.shape,i.shape,"Error in logLoss: ");const l=Km(1),u=Km(r),c=Ag(eg(s,Yf(Ym(i,u)))),h=eg(tg(l,s),Yf(Ym(tg(l,i),u))),d=tg(c,h);return ub(d,o,a)}});const cb=Ap({squaredDifference_:function(e,t){let n=wp(e,"a","squaredDifference"),r=wp(t,"b","squaredDifference");[n,r]=np(n,r),vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(Mh,a,{})}});Ap({meanSquaredError_:function(e,t,n,r=lb.SUM_BY_NONZERO_WEIGHTS){const a=wp(e,"labels","meanSquaredError"),s=wp(t,"predictions","meanSquaredError");let i=null;null!=n&&(i=wp(n,"weights","meanSquaredError")),gl(a.shape,s.shape,"Error in meanSquaredError: ");const o=cb(a,s);return ub(o,i,r)}});Ap({sigmoidCrossEntropy_:function(e,t,n,r=0,a=lb.SUM_BY_NONZERO_WEIGHTS){let s=wp(e,"multiClassLabels","sigmoidCrossEntropy");const i=wp(t,"logits","sigmoidCrossEntropy");let o=null;if(null!=n&&(o=wp(n,"weights","sigmoidCrossEntropy")),gl(s.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=Km(r),t=Km(1),n=Km(.5);s=Ym(eg(s,tg(t,e)),eg(n,e))}const l=function(e,t){const n=wp(e,"labels","sigmoidCrossEntropyWithLogits"),r=wp(t,"logits","sigmoidCrossEntropyWithLogits");gl(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=zg(r),s=eg(r,n),i=Qf(Wf(Ag(Xm(r))));return Ym(tg(a,s),i)}(s,i);return ub(l,o,a)}});const hb=Ap({logSumExp_:function(e,t=null,n=!1){const r=wp(e,"x","logSumExp"),a=El(t,r.shape),s=Jf(r,a,!0),i=tg(r,s),o=Wf(i),l=ng(o,a),u=Yf(l),c=Ym(gf(s,u.shape),u);if(n){const e=mg(c.shape,a);return gf(c,e)}return c}});Ap({softmaxCrossEntropy_:function(e,t,n,r=0,a=lb.SUM_BY_NONZERO_WEIGHTS){let s=wp(e,"onehotLabels","softmaxCrossEntropy");const i=wp(t,"logits","softmaxCrossEntropy");let o=null;if(null!=n&&(o=wp(n,"weights","softmaxCrossEntropy")),gl(s.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){const e=Km(r),t=Km(1),n=Km(s.shape[1]);s=Ym(eg(s,tg(t,e)),Pf(e,n))}const l=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const r=Hm(((e,t,r)=>{const a=hb(t,[n],!0),s=tg(lm(t,"float32"),a);r([e,s]);const i=Ag(eg(s,e));return{value:ng(i,[n]),gradFunc:(e,t)=>{const[r,a]=t,s=mg(e.shape,[n]);return[eg(gf(e,s),tg(lm(r,"float32"),Wf(a))),eg(gf(e,s),tg(Wf(a),lm(r,"float32")))]}}}));return r(e,t)}(s,i);return ub(l,o,a)}});Ap({sparseFillEmptyRows_:function(e,t,n,r){const a=wp(e,"indices","sparseFillEmptyRows","int32"),s=wp(t,"values","sparseFillEmptyRows"),i=wp(n,"denseShape","sparseFillEmptyRows","int32"),o=wp(r,"defaultValue","sparseFillEmptyRows",s.dtype);if(2!==a.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${a.shape}`);if(1!==s.rank)throw new Error(`Values should be Tensor1D but received shape ${s.shape}`);if(1!==i.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(0!==o.rank)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const l={indices:a,values:s,denseShape:i,defaultValue:o},u=cp.runKernel(_h,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});Ap({sparseReshape_:function(e,t,n){const r=wp(e,"inputIndices","sparseReshape","int32"),a=wp(t,"inputShape","sparseReshape","int32"),s=wp(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(1!==s.rank)throw new Error(`New shape should be Tensor1D but received shape ${s.shape}`);const i={inputIndices:r,inputShape:a,newShape:s},o=cp.runKernel(Oh,i);return{outputIndices:o[0],outputShape:o[1]}}});Ap({sparseSegmentMean_:function(e,t,n){const r=wp(e,"data","sparseSegmentMean"),a=wp(t,"indices","sparseSegmentMean","int32"),s=wp(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${a.shape}`);if(1!==s.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${s.shape}`);const i={data:r,indices:a,segmentIds:s};return cp.runKernel(Bh,i)}});Ap({sparseSegmentSum_:function(e,t,n){const r=wp(e,"data","sparseSegmentSum"),a=wp(t,"indices","sparseSegmentSum","int32"),s=wp(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${a.shape}`);if(1!==s.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${s.shape}`);const i={data:r,indices:a,segmentIds:s};return cp.runKernel(zh,i)}});Ap({stringNGrams_:function(e,t,n,r,a,s,i,o){const l=wp(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=wp(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:a,rightPad:s,padWidth:i,preserveShortSequences:o},h={data:l,dataSplits:u},d=cp.runKernel(Lh,h,c);return{nGrams:d[0],nGramsSplits:d[1]}}});Ap({stringSplit_:function(e,t,n=!0){const r=wp(e,"input","stringSplit","string"),a=wp(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==a.rank)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);const s={skipEmpty:n},i={input:r,delimiter:a},o=cp.runKernel(Vh,i,s);return{indices:o[0],values:o[1],shape:o[2]}}});Ap({stringToHashBucketFast_:function(e,t){const n=wp(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return cp.runKernel(Wh,a,r)}});const db={flipLeftRight:Iy,grayscaleToRGB:Ty,resizeNearestNeighbor:Hy,resizeBilinear:$y,rotateWithOffset:Ny,cropAndResize:Ey,nonMaxSuppression:_y,nonMaxSuppressionAsync:Wy,nonMaxSuppressionWithScore:Uy,nonMaxSuppressionWithScoreAsync:jy,nonMaxSuppressionPadded:Gy,nonMaxSuppressionPaddedAsync:qy,threshold:Qy,transform:Jy},pb={bandPart:eb,gramSchmidt:sb,qr:ob};class mb extends Zm{constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=cp.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=cp.registeredVariables[t];null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:jm((()=>ny(r).variable(false)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:jm((()=>ny(r).variable(false)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const s=this.accumulatedGrads[n].variable,i=this.accumulatedUpdates[n].variable;jm((()=>{const e=Ym(eg(s,this.rho),eg(wg(a),1-this.rho)),t=eg(Pf(Hg(Ym(i,this.epsilon)),Hg(Ym(s,this.epsilon))),a),n=Ym(eg(i,this.rho),eg(wg(t),1-this.rho));s.assign(e),i.assign(n);const o=Ym(eg(t,-this.learningRate),r);r.assign(o)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(Gm(this.accumulatedGrads.map((e=>e.variable))),Gm(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}mb.className="Adadelta",Vm(mb);class fb extends Zm{constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=cp.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:jm((()=>qf(r.shape,this.initialAccumulatorValue).variable(e)))}}const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const s=this.accumulatedGrads[n].variable;jm((()=>{const e=Ym(s,wg(a));s.assign(e);const t=Ym(eg(Pf(a,Hg(Ym(e,cp.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&Gm(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}fb.className="Adagrad",Vm(fb);class gb extends Zm{constructor(e,t,n,r=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],jm((()=>{this.accBeta1=Km(t).variable(),this.accBeta2=Km(n).variable()})),null==r&&(this.epsilon=cp.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);jm((()=>{const n=tg(1,this.accBeta1),r=tg(1,this.accBeta2);t.forEach(((t,a)=>{const s=cp.registeredVariables[t];null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:`${t}/m`,variable:jm((()=>ny(s).variable(false)))}),null==this.accumulatedSecondMoment[a]&&(this.accumulatedSecondMoment[a]={originalName:`${t}/v`,variable:jm((()=>ny(s).variable(false)))});const i=Array.isArray(e)?e[a].tensor:e[t];if(null==i)return;const o=this.accumulatedFirstMoment[a].variable,l=this.accumulatedSecondMoment[a].variable,u=Ym(eg(o,this.beta1),eg(i,1-this.beta1)),c=Ym(eg(l,this.beta2),eg(wg(i),1-this.beta2)),h=Pf(u,n),d=Pf(c,r);o.assign(u),l.assign(c);const p=Ym(eg(Pf(h,Ym(Hg(d),this.epsilon)),-this.learningRate),s);s.assign(p)})),this.accBeta1.assign(eg(this.accBeta1,this.beta1)),this.accBeta2.assign(eg(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Gm(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&Gm(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),jm((()=>{this.accBeta1.assign(nb(this.beta1,this.iterations_+1)),this.accBeta2.assign(nb(this.beta2,this.iterations_+1))}));const t=e.length/2;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}gb.className="Adam",Vm(gb);class yb extends Zm{constructor(e,t,n,r=null,a=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],jm((()=>{this.iteration=Km(0).variable(),this.accBeta1=Km(t).variable()})),null==r&&(this.epsilon=cp.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);jm((()=>{const n=tg(1,this.accBeta1),r=Pf(-this.learningRate,Ym(eg(this.iteration,this.decay),1));t.forEach(((t,a)=>{const s=cp.registeredVariables[t];null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:`${t}/m`,variable:ny(s).variable(false)}),null==this.accumulatedWeightedInfNorm[a]&&(this.accumulatedWeightedInfNorm[a]={originalName:`${t}/v`,variable:ny(s).variable(false)});const i=Array.isArray(e)?e[a].tensor:e[t];if(null==i)return;const o=this.accumulatedFirstMoment[a].variable,l=this.accumulatedWeightedInfNorm[a].variable,u=Ym(eg(o,this.beta1),eg(i,1-this.beta1)),c=eg(l,this.beta2),h=Xm(i),d=lg(c,h);o.assign(u),l.assign(d);const p=Ym(eg(Pf(r,n),Pf(u,Ym(d,this.epsilon))),s);s.assign(p)})),this.iteration.assign(Ym(this.iteration,1)),this.accBeta1.assign(eg(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Gm(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&Gm(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}yb.className="Adamax",Vm(yb);class bb extends Zm{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=cp.registeredVariables[t];jm((()=>{const e=Ym(eg(this.c,r),a);a.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=qm(Km(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}bb.className="SGD",Vm(bb);class wb extends bb{constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Km(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=cp.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:jm((()=>ny(r).variable(e)))}}const a=this.accumulations[n].variable,s=Array.isArray(e)?e[n].tensor:e[t];null!=s&&jm((()=>{let e;const t=Ym(eg(this.m,a),s);e=this.useNesterov?Ym(eg(this.c,Ym(s,eg(t,this.m))),r):Ym(eg(this.c,t),r),a.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&Gm(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}wb.className="Momentum",Vm(wb);class vb extends Zm{constructor(e,t=.9,n=0,r=null,a=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=cp.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=cp.registeredVariables[t],a=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:jm((()=>ny(r).variable(a)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:jm((()=>ny(r).variable(a)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:jm((()=>ny(r).variable(a)))});const s=Array.isArray(e)?e[n].tensor:e[t];if(null==s)return;const i=this.accumulatedMeanSquares[n].variable,o=this.accumulatedMoments[n].variable;jm((()=>{const e=Ym(eg(i,this.decay),eg(wg(s),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,a=Ym(eg(t,this.decay),eg(s,1-this.decay)),l=Pf(eg(s,this.learningRate),Hg(tg(e,Ym(wg(a),this.epsilon)))),u=Ym(eg(o,this.momentum),l);i.assign(e),t.assign(a),o.assign(u);const c=tg(r,u);r.assign(c)}else{const e=Ym(eg(i,this.decay),eg(wg(s),1-this.decay)),t=Ym(eg(o,this.momentum),Pf(eg(s,this.learningRate),Hg(Ym(e,this.epsilon))));i.assign(e),o.assign(t);const n=tg(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&Gm(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&Gm(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&Gm(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}vb.className="RMSProp",Vm(vb);class Ab{static sgd(e){return new bb(e)}static momentum(e,t,n=!1){return new wb(e,t,n)}static rmsprop(e,t=.9,n=0,r=null,a=!1){return new vb(e,t,n,r,a)}static adam(e=.001,t=.9,n=.999,r=null){return new gb(e,t,n,r)}static adadelta(e=.001,t=.95,n=null){return new mb(e,t,n)}static adamax(e=.002,t=.9,n=.999,r=null,a=0){return new yb(e,t,n,r,a)}static adagrad(e,t=.1){return new fb(e,t)}}const xb={sgd:Ab.sgd,momentum:Ab.momentum,adadelta:Ab.adadelta,adagrad:Ab.adagrad,rmsprop:Ab.rmsprop,adamax:Ab.adamax,adam:Ab.adam},kb="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function Cb(){return new Promise((e=>kb((()=>e()))))}function Sb(e,t){const n=e[0].length;e.forEach(((e,t)=>{fl(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),fl(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,a)=>{for(let s=0;s<n;s++)fl(s===t||e[s]===r[s],(()=>`Error in concat${n}D: Shape of tensors[${a}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${a}.`))}))}function Eb(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}const Ib=30;function Tb(e){return e<=Ib?e:Fl(e,Math.floor(Math.sqrt(e)))}function Nb(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}function Db(e,t,n,r=!0){let a=[];if(r)a=a.concat(t.slice(0)),a.push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)a=a.concat([e[r+1]/t[r],t[r]]);a=a.concat(e.slice(n+1))}return a}function _b(e,t,n=!0){const r=[];if(n){r.push(t);for(let n=t+1;n<e;++n)n<=2*t?(r.push(n),r.push(n-(t+1))):r.push(n)}else{const n=[],a=[];for(let r=1;r<e;++r)r>=2*t+1||r%2==1?a.push(r):n.push(r);r.push(...n),r.push(0),r.push(...a)}return r}function Ob(e,t,n,r=!0){const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let n=1;n<e.length;++n)n<=t.length?r?a.push(t[n-1]*e[n]):a.push(e[n]/t[n-1]):a.push(e[n]);return a}function Bb(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function zb(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function Rb(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===wl(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const a=t.shape,s=a[a.length-1];let i=1;for(let e=0;e<a.length-1;++e)i*=a[e];const o=e.shape,l=a.slice();l.pop();let u=1;for(let e=s;e<n;++e)u*=o[e],l.push(o[e]);const c=[...Pl(e.shape).map((e=>e/u)),1].slice(0,s);return[l,i,u,c]}function Mb(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(s+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(s+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(s+" update.rank != "+(a+e.length-r));for(let e=0;e<a;++e)if(n.shape[e]!==t.shape[e])throw new Error(s+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-a;++t)if(n.shape[t+a]!==e[t+r])throw new Error(s+` updates.shape[${t+a}] (${n.shape[t+a]}) != shape[${t+a}] (${e[t+a]})`)}function Fb(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}Mb(n,t,e)}function Pb(e,t,n){const r=t.shape.length,a=r>1?t.shape[r-1]:1,s=n.length;let i=1;for(let e=a;e<s;++e)i*=n[e];const o=a<1?1:a;return{sliceRank:a,numUpdates:wl(t.shape)/o,sliceSize:i,strides:[...Pl(n.slice(0,a)),1],outputSize:wl(n)}}const Lb=1.7580993408473768,Vb=1.0507009873554805,Wb=.3275911,Ub=.254829592,jb=-.284496736,Gb=1.421413741,qb=-1.453152027,$b=1.061405429;function Hb(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Kb(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Zb(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:n,imag:r}}function Xb(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:n,imag:r}}function Yb(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Qb(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Jb(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){const s=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(s),r[a]=Math.sin(s)}return{real:n,imag:r}}function ew(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const tw="->",nw=/->/g;function rw(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(nw,"").length)/tw.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("->").');const[r,a]=e.split(tw);fl(-1===r.indexOf("..."),(()=>'The ellipsis notation ("...") is not supported yet.'));const s=r.split(","),i=s.length;if(t!==i)throw new Error(`Expected ${i} input tensors, received ${t}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let e=0;e<a.length;++e){const t=a[e];if(!s.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===o.indexOf(t)&&o.push(t)}for(let e=0;e<r.length;++e){const t=r[e];-1===o.indexOf(t)&&","!==t&&o.push(t)}const l=new Array(s.length);for(let e=0;e<i;++e){if(new Set(s[e].split("")).size!==s[e].length)throw new Error(`Found duplicate axes in input component ${s[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<s[e].length;++t)l[e].push(o.indexOf(s[e][t]))}const u=o.length,c=[];for(let e=a.length;e<u;++e)c.push(e);return{allDims:o,summedDims:c,idDims:l}}function aw(e,t){let n=new Array(e);n.fill(-1);for(let e=0;e<t.length;++e)n[t[e]]=e;const r=[];for(let t=0;t<e;++t)-1===n[t]&&r.push(t);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function sw(e,t,n){const r=new Array(e);for(let e=0;e<n.length;++e){const a=n[e].shape;for(let n=0;n<t[e].length;++n)void 0===r[t[e][n]]?r[t[e][n]]=a[n]:fl(r[t[e][n]]===a[n],(()=>`Expected dimension ${r[t[e][n]]} at axis ${n} of input shaped ${JSON.stringify(a)}, but got dimension ${a[n]}`))}}function iw(e,t){const n=e,r=[];let a=0;0===e.length&&n.push(-1),a=e.length+1;for(let e=0;e<a;++e)r.push([]);const s=[];for(let e=0;e<n.length;++e){const a=lw(t,n[e]);for(const t of a)-1===s.indexOf(t)&&(r[e].push(t),s.push(t))}return{path:n,steps:r}}function ow(e){return e.every(((e,t)=>e===t))}function lw(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function uw(e,t,n=0){let r=[];if("number"==typeof t)fl(e.shape[n]%t==0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const a=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);fl(a<=1,(()=>"There should be only one negative value in split array."));const s=t.indexOf(-1);if(-1!==s){const r=t.reduce(((e,t)=>t>0?e+t:e));t[s]=e.shape[n]-r}fl(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function cw(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function hw(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function dw(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function pw(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function mw(e,t){return`size ${e} must be non-negative, not ${t}`}function fw(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function gw(e,t){return`Input to reshape is a SparseTensor with ${wl(e)}\n  dense values, but the requested shape requires a multiple of ${wl(t)}. inputShape=${e} outputShape= ${t}`}function yw(e,t){return`Input to reshape is a tensor with ${wl(e)} dense values, but the requested shape has ${wl(t)}. inputShape=${e} outputShape=${t}`}function bw(){return"segment ids must be >= 0"}function ww(){return"segment ids are not increasing"}function vw(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function Aw(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function xw(e,t){let n,r=!1;for(e<=Ib?(n=e,r=!0):n=Fl(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Fl(e,n+1);return n}function kw(e,t,n){const r=[],a=e.length;for(let s=0;s<a;s++)s!==t?r.push(e[s]):r.push(n);return r}function Cw(e,t,n,r){const a=t.shape.length,s=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>s)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${s}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let n=0;n<r;++n)if(e.shape[n]!==t.shape[n])throw new Error(`x.shape[${n}]: ${e.shape[n]} should be equal to indices.shape[${n}]: ${t.shape[n]}.`);const i=e.shape[n],o=[];let l=1,u=1,c=1;for(let t=0;t<r;++t)o.push(e.shape[t]),l*=e.shape[t];for(let t=r;t<n;t++)o.push(e.shape[t]),u*=e.shape[t];for(let e=r;e<a;e++)o.push(t.shape[e]);for(let t=n+1;t<s;t++)o.push(e.shape[t]),c*=e.shape[t];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:i,outputShape:o}}function Sw(e){try{return e.map((e=>Od(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function Ew(e){return e.map((e=>_d(e)))}function Iw(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const r=om(e,"int32"),a=om([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const s=r.indexToLoc(n[t]),i=t*e.length;a.values.set(s,i)}return a.toTensor()}const Tw={kernelName:nu,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(e,py(lm(n,"float32"),-1))}}},Nw={kernelName:ru,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=wg(lm(n,"float32")),r=Hg(tg(Km(1),t));return Ag(Pf(e,r))}}}},Dw={kernelName:au,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Hg(tg(wg(lm(n,"float32")),1));return Pf(e,t)}}}},_w={kernelName:su,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=vm(n.shape,r.shape);return{a:()=>{let t=e;const r=wm(n.shape,a);return r.length>0&&(t=ng(t,r)),gf(t,n.shape)},b:()=>{let t=e;const n=wm(r.shape,a);return n.length>0&&(t=ng(t,n)),gf(t,r.shape)}}}},Ow={kernelName:iu,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}},Bw={kernelName:uu,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ny(n)}}},zw={kernelName:cu,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ny(n)}}},Rw={kernelName:hu,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pf(e,Hg(tg(Km(1),wg(lm(n,"float32")))))}}},Mw={kernelName:du,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Hg(Ym(Km(1),wg(lm(n,"float32"))));return Pf(e,t)}}}},Fw={kernelName:fu,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=vm(n.shape,r.shape);return{a:()=>{const t=Ym(wg(n),wg(r));let s=eg(e,Pf(r,t));const i=wm(n.shape,a);return i.length>0&&(s=ng(s,i)),gf(s,n.shape)},b:()=>{const t=Ym(wg(n),wg(r));let s=Ag(eg(e,Pf(n,t)));const i=wm(r.shape,a);return i.length>0&&(s=ng(s,i)),gf(s,r.shape)}}}},Pw={kernelName:pu,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pf(e,Ym(wg(lm(n,"float32")),1))}}},Lw={kernelName:mu,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pf(e,tg(Km(1),wg(lm(n,"float32"))))}}};const Vw=Ap({avgPool3dGrad_:function(e,t,n,r,a,s){const i=wp(e,"dy","avgPool3dGrad"),o=wp(t,"input","avgPool3dGrad");let l=i,u=o,c=!1;4===o.rank&&(c=!0,l=gf(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),u=gf(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),fl(5===l.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`)),fl(5===u.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`)),ff("avgPool3dGrad",a,s);const h={dy:l,input:u},d={filterSize:n,strides:r,pad:a,dimRoundingMode:s},p=cp.runKernel(wu,h,d);return c?gf(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),Ww={kernelName:bu,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:s,pad:i,dimRoundingMode:o}=n;return{x:()=>Vw(e,r,a,s,i,o)}}};const Uw=Ap({avgPoolGrad_:function(e,t,n,r,a){const s=wp(e,"dy","avgPoolGrad"),i=wp(t,"input","avgPoolGrad");fl(i.rank===s.rank,(()=>`Rank of input (${i.rank}) does not match rank of dy (${s.rank})`));let o=i,l=s,u=!1;3===i.rank&&(u=!0,o=gf(i,[1,i.shape[0],i.shape[1],i.shape[2]]),l=gf(s,[1,s.shape[0],s.shape[1],s.shape[2]])),fl(4===l.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`)),fl(4===o.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`));const c={dy:l,input:o},h={filterSize:n,strides:r,pad:a},d=cp.runKernel(yu,c,h);return u?gf(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),jw={kernelName:gu,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:s,pad:i}=n;return{x:()=>Uw(e,r,a,s,i)}}},Gw={kernelName:vu,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,a]=t,{transposeA:s,transposeB:i}=n;return s||i?!s&&i?{a:()=>sg(e,a,!1,!1),b:()=>sg(e,r,!0,!1)}:s&&!i?{a:()=>sg(a,e,!1,!0),b:()=>sg(r,e,!1,!1)}:{a:()=>sg(a,e,!0,!0),b:()=>sg(e,r,!0,!0)}:{a:()=>sg(e,a,!1,!0),b:()=>sg(r,e,!0,!1)}}};const qw=Ap({spaceToBatchND_:function(e,t,n){const r=wp(e,"x","spaceToBatchND");fl(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),fl(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),fl(r.shape.reduce(((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]==0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const a={x:r},s={blockShape:t,paddings:n};return cp.runKernel(Th,a,s)}}),$w={kernelName:Au,gradFunc:(e,t,n)=>{const{blockShape:r,crops:a}=n;return{x:()=>qw(e,r,a)}}},Hw={kernelName:"BroadcastTo",gradFunc:(e,t,n)=>{const r=n,a=r.inputShape,s=r.shape,i=Array.from(s);for(let e=a.length-1;e>=0;e--)if(a[e]===s[e])i[e]=1;else if(1!==a[e])throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${s}].`);const o=[];for(let e=0;e<i.length;e++)i[e]>1&&o.push(e);return{x:()=>ng(e,o,!0)}}},Kw={kernelName:Cu,gradFunc:e=>({x:()=>e.clone()})},Zw={kernelName:Su,gradFunc:e=>({x:()=>ny(e)})},Xw={kernelName:Eu,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:a,clipValueMax:s}=n;return{x:()=>ty(ag(Zf(r,a),Zy(r,s)),e,ny(e))}}},Yw={kernelName:Tu,inputsToSave:["x"],gradFunc:Tw.gradFunc},Qw={kernelName:Nu,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:a}=n,s=El(a,t[0].shape)[0],i=r.map((e=>e[s]));return $g(e,i,s).map((e=>()=>e))}},Jw={kernelName:Du,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{dilations:s,strides:i,pad:o,dataFormat:l}=n;return fl(df(s),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`)),{x:()=>_f(r.shape,e,a,i,o,l),filter:()=>hy(r,e,a.shape,i,o,l)}}},ev={kernelName:Ou,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{strides:s,pad:i,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>Nf(e,a,s,i,o,1,l),filter:()=>hy(e,r,a.shape,s,i,o,l)}}};const tv=Ap({conv3DBackpropFilter_:function(e,t,n,r,a){let s=e;4===e.rank&&(s=gf(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let i=t;4===i.rank&&(i=gf(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),fl(5===s.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${s.shape}.`)),fl(5===i.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${i.shape}.`)),fl(5===n.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`)),fl(s.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${s.shape[4]}) must match input depth in filter (${n[3]}.`)),fl(i.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${i.shape[4]}) must match output depth for filter (${n[4]}).`));const o={x:s,dy:i},l={strides:r,pad:a,filterShape:n};return cp.runKernel(zu,o,l)}}),nv={kernelName:Bu,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:s}=n;fl(df(r),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`));const[i,o]=t;return{x:()=>zf(i.shape,e,o,a,s),filter:()=>tv(i,e,o.shape,a,s)}}};const rv=Ap({sin_:function(e){const t={x:wp(e,"x","sin","float32")};return cp.runKernel(Ah,t)}}),av={kernelName:Mu,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(Ag(rv(lm(n,"float32"))),e)}}};const sv=Ap({sinh_:function(e){const t={x:wp(e,"x","sinh")};return cp.runKernel(xh,t)}}),iv={kernelName:Fu,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(sv(lm(n,"float32")),e)}}};const ov=Ap({cumsum_:function(e,t=0,n=!1,r=!1){const a={x:wp(e,"x","cumsum")},s={axis:t,exclusive:n,reverse:r};return cp.runKernel(Lu,a,s)}}),lv={kernelName:Lu,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a,exclusive:s,reverse:i}=n;return{x:()=>{const t=gg([a],r.rank);let n=ov(e,a,s,!i);return null!=t&&(n=ry(n,t)),n}}}},uv={kernelName:ju,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:s,dimRoundingMode:i}=n,o=null==r?[1,1]:r;fl(df(o),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`));const[l,u]=t;return fl(4===l.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`)),fl(4===u.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`)),fl(l.shape[3]===u.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`)),fl(pf(a,o),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${o}'.`)),ff("depthwiseConv2d",s,i),{x:()=>vy(l.shape,e,u,a,s,o,i),filter:()=>wy(l,e,u.shape,a,s,o,i)}}},cv={kernelName:Hu,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,s={x:r,filter:a,dy:e},i={x:r,filter:a,dy:e};return{x:()=>cp.runKernel(Ku,s,n),filter:()=>cp.runKernel(Zu,i,n)}}},hv={kernelName:Qu,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>cp.runKernel(Ju,r)}}},dv={kernelName:ec,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=eg(Wf(Ag(wg(n))),2/Math.sqrt(Math.PI));return{x:()=>eg(e,r)}}},pv={kernelName:nc,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(e,n)}}},mv={kernelName:rc,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>gf(e,n.shape)}}},fv={kernelName:ac,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(e,Wf(n))}}},gv={kernelName:lc,gradFunc:e=>({x:()=>ny(e)})},yv={kernelName:uc,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=vm(n.shape,r.shape);return{a:()=>{const t=Pf(e,lm(r,"float32")),s=wm(n.shape,a);return s.length>0?gf(ng(t,s),n.shape):t},b:()=>{let t=eg(e,lm(n,"float32"));const s=wm(r.shape,a);s.length>0&&(t=gf(ng(t,s),r.shape));const i=wg(r);return Ag(Pf(t,lm(i,"float32")))}}}};const bv=Ap({rsqrt_:function(e){const t={x:wp(e,"x","rsqrt","float32")};return cp.runKernel(gh,t)}}),wv={kernelName:cc,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[a,s,i,o]=t,l=null==o?Km(1):o,u=wm(s.shape,a.shape),c=[];if(1===s.rank){for(let e=0;e<a.shape.length-1;++e)c.push(a.shape[e]);c.push(1)}const h=tg(a,s),d=eg(e,l),p=bv(Ym(i,Km(r))),m=eg(eg(eg(p,p),p),Km(-.5));return{x:()=>1===s.rank?gf(eg(eg(e,jf(gf(p,[1,1,1,s.shape[0]]),c)),l),a.shape):gf(eg(eg(e,p),l),a.shape),mean:()=>{let e=eg(eg(p,Km(-1)),d);return 1===s.rank&&(e=ng(e,u)),gf(e,s.shape)},variance:()=>{let e=eg(eg(m,h),d);return 1===s.rank&&(e=ng(e,u)),gf(e,s.shape)},scale:()=>{const t=eg(h,p);let n=eg(e,t);return 1===s.rank&&(n=ng(n,u)),gf(n,s.shape)},offset:()=>{let t=e;return 1===s.rank&&(t=ng(t,u)),gf(t,s.shape)}}}};const vv=Ap({unsortedSegmentSum_:function(e,t,n){const r=wp(e,"x","unsortedSegmentSum"),a=wp(t,"segmentIds","unsortedSegmentSum","int32");fl(Al(n),(()=>"numSegments must be of dtype int"));const s={x:r,segmentIds:a},i={numSegments:n};return cp.runKernel(Yh,s,i)}}),Av={kernelName:hc,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,a]=t,{axis:s}=n,i=El(s,r.shape)[0];return{x:()=>{const t=r.shape,n=a.size,o=t.slice(0,i),l=o.length,u=t.slice(s,t.length).slice(1),c=u.length,h=xv(0,l),d=xv(l+1,l+1+c),p=kv([o,[n],u]),m=gf(e,p),f=gf(a,[n]),g=kv([[l],h,d]),y=ry(m,g);let b=vv(y,f,r.shape[i]);const w=yg(g);return b=ry(b,w),b},indices:()=>a}}};function xv(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function kv(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const Cv={kernelName:mc,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>ny(n),b:()=>ny(r)}}},Sv={kernelName:fc,gradFunc:e=>({x:()=>lm(e,"float32")})},Ev={kernelName:bc,gradFunc:e=>({x:()=>ny(e)})},Iv={kernelName:wc,gradFunc:e=>({x:()=>ny(e)})},Tv={kernelName:vc,gradFunc:e=>({x:()=>ny(e)})},Nv={kernelName:Ac,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:a}=n,s=Kf(r,0);return{x:()=>ty(s,e,eg(e,a))}}},Dv={kernelName:Ec,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pf(e,Ym(n,1))}}},_v={kernelName:Sc,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pf(e,lm(n,"float32"))}}},Ov={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;return{logits:()=>{const t=Wf(r);return tg(e,eg(ng(e,a,!0),t))}}}};const Bv=Ap({localResponseNormalizationBackprop_:function(e,t,n,r=5,a=1,s=1,i=.5){const o={x:e,y:t,dy:n},l={depthRadius:r,bias:a,alpha:s,beta:i};return cp.runKernel(_c,o,l)}}),zv={kernelName:Dc,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{depthRadius:s,bias:i,alpha:o,beta:l}=n;return{x:()=>Bv(r,a,e,s,i,o,l)}}};function Rv(e,t,n,r){return t.rank<n.rank&&(t=gf(t,mg(t.shape,r))),e.rank<n.rank&&(e=gf(e,mg(e.shape,r))),{x:()=>eg(e,lm(Vf(n,t),e.dtype))}}const Mv={kernelName:Oc,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:a}=r,s=t[0],i=Rv(e,t[1],s,El(a,s.shape));return{x:()=>i.x()}}};const Fv=Ap({less_:function(e,t){let n=wp(e,"a","less","string_or_numeric"),r=wp(t,"b","less","string_or_numeric");[n,r]=np(n,r),vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(xc,a)}}),Pv={kernelName:Bc,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>eg(e,lm(Zf(n,r),"float32")),b:()=>eg(e,lm(Fv(n,r),"float32"))}}};const Lv=Ap({maxPool3dGrad_:function(e,t,n,r,a,s,i){const o=wp(e,"dy","maxPool3dGrad"),l=wp(t,"input","maxPool3dGrad"),u=wp(n,"output","maxPool3dGrad");let c=o,h=l,d=u,p=!1;4===l.rank&&(p=!0,c=gf(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),h=gf(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=gf(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),fl(5===c.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`)),fl(5===h.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${h.rank}.`)),fl(5===d.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`)),ff("maxPool3dGrad",s,i);const m={dy:c,input:h,output:d},f={filterSize:r,strides:a,pad:s,dimRoundingMode:i},g=cp.runKernel(Fc,m,f);return p?gf(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),Vv={kernelName:Mc,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:s,strides:i,pad:o,dimRoundingMode:l}=n;return{x:()=>Lv(e,r,a,s,i,o,l)}}};const Wv=Ap({maxPoolGrad_:function(e,t,n,r,a,s,i){const o=wp(e,"dy","maxPoolGrad"),l=wp(t,"input","maxPoolGrad"),u=wp(n,"output","maxPoolGrad");fl(l.rank===o.rank,(()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`)),fl(4===o.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`)),fl(4===l.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`)),ff("maxPoolGrad",s,i);const c={dy:o,input:l,output:u},h={filterSize:r,strides:a,pad:s,dimRoundingMode:i};return cp.runKernel(Rc,c,h)}}),Uv={kernelName:zc,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:s,strides:i,pad:o}=n;return{x:()=>Wv(e,r,a,s,i,o)}}},jv={kernelName:Lc,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n,s=El(a,r.shape),i=wl(pg(r.shape,s)[1]);return{x:()=>{const t=r.shape.slice();s.forEach((e=>{t[e]=1}));const n=gf(e,t);return Pf(eg(n,Sg(r.shape,"float32")),i)}}}},Gv={kernelName:Vc,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:a}=r,[s,i]=t,o=Rv(e,i,s,El(a,s.shape));return{x:()=>o.x()}}},qv={kernelName:Wc,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>eg(e,lm(Zy(n,r),"float32")),b:()=>eg(e,lm(Kf(n,r),"float32"))}}},$v={kernelName:Uc,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,s=a.map((e=>e[0]));return{x:()=>Lg(e,s,r.shape)}}},Hv={kernelName:jc,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=vm(n.shape,r.shape);return{a:()=>{const t=wm(n.shape,a);return t.length>0?gf(ng(e,t),n.shape):e},b:()=>{const t=eg(e,Ag($f(Pf(n,r)))),s=wm(r.shape,a);return s.length>0?gf(ng(t,s),r.shape):t}}}},Kv={kernelName:qc,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=vm(n.shape,r.shape);return{a:()=>{const t=eg(e,lm(r,"float32")),s=wm(n.shape,a);return s.length>0?gf(ng(t,s),n.shape):t},b:()=>{const t=eg(e,lm(n,"float32")),s=wm(r.shape,a);return s.length>0?gf(ng(t,s),r.shape):t}}}},Zv={kernelName:$c,gradFunc:e=>({x:()=>Ag(e)})},Xv={kernelName:Qc,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>Cg(n.shape,"float32")}}},Yv={kernelName:Yc,gradFunc:e=>({x:()=>ny(e)})},Qv={kernelName:Jc,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return Jg(e,r).map((e=>()=>e))}},Jv={kernelName:eh,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,s=a.map((e=>e[0]));return{x:()=>Lg(e,s,r.shape)}}},eA={kernelName:th,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,a]=t,s=n,i=r,o=vm(s.shape,i.shape);return{a:()=>{const t=lm(i,"float32");let n=eg(e,eg(t,nb(s,tg(t,Km(1)))));const r=wm(s.shape,o);return r.length>0&&(n=ng(n,r)),gf(n,s.shape)},b:()=>{const t=Kf(s,0),n=ty(t,Yf(s),ny(s));let r=eg(e,eg(a,n));const l=wm(i.shape,o);return l.length>0&&(r=ng(r,l)),gf(r,i.shape)}}}},tA={kernelName:nh,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,a=Kf(n,0);return{x:()=>ty(a,e,eg(e,r)),alpha:()=>{let t=ty(a,ny(e),eg(e,n));const s=wm(r.shape,e.shape);return s.length>0&&(t=ng(t,s)),gf(t,r.shape)}}}},nA={kernelName:Xu,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=vm(n.shape,r.shape);return{a:()=>{const t=Pf(e,lm(r,"float32")),s=wm(n.shape,a);return s.length>0?gf(ng(t,s),n.shape):t},b:()=>{let t=eg(e,lm(n,"float32"));const s=wm(r.shape,a);s.length>0&&(t=gf(ng(t,s),r.shape));const i=wg(r);return Ag(Pf(t,lm(i,"float32")))}}}},rA={kernelName:ih,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pf(e,Ag(wg(n)))}}},aA={kernelName:ph,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=eg(Zy(n,6),py(n));return{x:()=>eg(e,lm(r,"float32"))}}},sA={kernelName:oh,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(e,lm(py(n),"float32"))}}},iA={kernelName:lh,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gf(e,n.shape)}}},oA={kernelName:hh,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>cp.runKernel(dh,a,n)}}},lA={kernelName:uh,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>cp.runKernel(ch,a,n)}}},uA={kernelName:mh,gradFunc:(e,t,n)=>{const{dims:r}=n,a=El(r,e.shape);return{x:()=>Rg(e,a)}}},cA={kernelName:fh,gradFunc:e=>({x:()=>ny(e)})},hA={kernelName:gh,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Ag(Pf(e,eg(nb(n,1.5),2)))}}};const dA=Ap({logicalNot_:function(e){const t={x:wp(e,"x","logicalNot","bool")};return cp.runKernel(Tc,t)}}),pA={kernelName:bh,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>lm(ny(n),"float32"),t:()=>eg(e,lm(n,e.dtype)),e:()=>eg(e,lm(dA(n),e.dtype))}}},mA={kernelName:wh,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Kf(n,Km(0)),r=Km(Lb),a=Km(Vb),s=eg(e,a),i=eg(eg(e,r),Wf(lm(n,"float32")));return ty(t,s,i)}}}},fA={kernelName:Ch,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(e,eg(n,tg(Km(1),n)))}}},gA={kernelName:kh,gradFunc:e=>({x:()=>ny(e)})};const yA=Ap({cos_:function(e){const t={x:wp(e,"x","cos","float32")};return cp.runKernel(Mu,t)}}),bA={kernelName:Ah,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(yA(lm(n,"float32")),e)}}};const wA=Ap({cosh_:function(e){const t={x:wp(e,"x","cosh","float32")};return cp.runKernel(Fu,t)}}),vA={kernelName:xh,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(wA(lm(n,"float32")),e)}}},AA={kernelName:vh,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:a,size:s}=n,i=r.shape,[o,l]=Rm(r,a,s),u=[];for(let t=0;t<e.rank;t++)u.push([o[t],i[t]-o[t]-l[t]]);return{x:()=>Ig(e,u)}}},xA={kernelName:Dh,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:a}=n,s=eg(e,r);return{logits:()=>tg(s,eg(ng(s,[a],true),r))}}},kA={kernelName:Sh,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(e,Pg(n))}}};const CA=Ap({batchToSpaceND_:function(e,t,n){const r=wp(e,"x","batchToSpaceND"),a=t.reduce(((e,t)=>e*t));fl(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),fl(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),fl(r.shape[0]%a==0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${a}`));const s={x:r},i={blockShape:t,crops:n};return cp.runKernel(Au,s,i)}}),SA={kernelName:Th,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:a}=n;return{x:()=>CA(e,r,a)}}},EA={kernelName:Nh,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>Cf(e,r)}}},IA={kernelName:qh,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:a}=n;return{x:()=>{let t=ny(r);if(1===r.rank)for(let n=0;n<a[0];++n)t=Ym(t,Lg(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<a[0];++n)for(let s=0;s<a[1];++s)t=Ym(t,Lg(e,[n*r.shape[0],s*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<a[0];++n)for(let s=0;s<a[1];++s)for(let i=0;i<a[2];++i)t=Ym(t,Lg(e,[n*r.shape[0],s*r.shape[1],i*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);for(let n=0;n<a[0];++n)for(let s=0;s<a[1];++s)for(let i=0;i<a[2];++i)for(let o=0;o<a[3];++o)t=Ym(t,Lg(e,[n*r.shape[0],s*r.shape[1],i*r.shape[2],o*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}};const TA=[Tw,Nw,Dw,_w,Ow,Bw,zw,Rw,Mw,Fw,Pw,Lw,Ww,jw,Gw,$w,Hw,Kw,Zw,Xw,Yw,Qw,ev,Jw,nv,av,iv,lv,uv,cv,nA,hv,dv,pv,mv,fv,yv,gv,wv,Av,Cv,Sv,Ev,Iv,Tv,Nv,Dv,_v,Ov,zv,Mv,Mv,Pv,Vv,Uv,jv,Gv,qv,$v,Hv,Kv,Zv,Xv,Yv,Qv,Jv,Jv,eA,tA,rA,aA,sA,iA,oA,lA,uA,cA,hA,pA,mA,fA,gA,bA,vA,AA,xA,kA,SA,SA,EA,EA,{kernelName:Eh,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pf(e,eg(Hg(lm(n,"float32")),2))}}},{kernelName:Mh,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=Km(2);return{a:()=>eg(e,eg(a,tg(n,r))),b:()=>eg(e,eg(a,tg(r,n)))}}},{kernelName:Fh,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(e,eg(lm(n,"float32"),2))}}},{kernelName:Jh,gradFunc:e=>({x:()=>ny(e)})},{kernelName:Uh,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=vm(n.shape,r.shape);return{a:()=>{let t=e;const r=wm(n.shape,a);return r.length>0&&(t=ng(t,r)),gf(t,n.shape)},b:()=>{let t=e;const n=wm(r.shape,a);return n.length>0&&(t=ng(t,n)),gf(Ag(t),r.shape)}}}},{kernelName:Ih,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,a=r.shape.slice(),{axis:s}=n;El(s,r.shape).forEach((e=>{a[e]=1}));const i=gf(e,a),o=eg(i,Sg(r.shape,"float32"));return{x:()=>o}}},{kernelName:jh,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pf(e,wg(yA(n)))}}},{kernelName:Gh,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>eg(tg(Km(1),wg(n)),e)}}},IA,{kernelName:Kh,gradFunc:(e,t,n)=>{const r=n,{perm:a}=r,s=yg(a);return{x:()=>ry(e,s)}}},{kernelName:Xh,gradFunc:(e,t,n)=>{const r=n,{axis:a}=r;return{value:()=>Zg(e,a)}}},{kernelName:Yh,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=lg(t,ny(t)),r=Hf(e,n);let a=Zf(t,Km(0,"int32"));const s=r.rank-a.rank;for(let e=0;e<s;++e)a=Uf(a,e+1);a=ag(a,Sg(r.shape,"bool"));const i=ny(r);return ty(a,r,i)}(e,n)}}},{kernelName:Qh,gradFunc:e=>({x:()=>ny(e)})}];for(const e of TA)dd(e);$d().prototype.abs=function(){return this.throwIfDisposed(),Xm(this)};const NA=Ap({acos_:function(e){const t={x:wp(e,"x","acos")};return cp.runKernel(ru,t)}});$d().prototype.acos=function(){return this.throwIfDisposed(),NA(this)};const DA=Ap({acosh_:function(e){const t={x:wp(e,"x","acosh")};return cp.runKernel(au,t)}});$d().prototype.acosh=function(){return this.throwIfDisposed(),DA(this)},$d().prototype.add=function(e){return this.throwIfDisposed(),Ym(this,e)},$d().prototype.all=function(e,t){return this.throwIfDisposed(),Qm(this,e,t)},$d().prototype.any=function(e,t){return this.throwIfDisposed(),Jm(this,e,t)},$d().prototype.argMax=function(e){return this.throwIfDisposed(),ef(this,e)};const _A=Ap({argMin_:function(e,t=0){const n={x:wp(e,"x","argMin")},r={axis:t};return cp.runKernel(cu,n,r)}});$d().prototype.argMin=function(e){return this.throwIfDisposed(),_A(this,e)},$d().prototype.asScalar=function(){return this.throwIfDisposed(),fl(1===this.size,(()=>"The array must have only 1 element.")),gf(this,[])},$d().prototype.asType=function(e){return this.throwIfDisposed(),lm(this,e)},$d().prototype.as1D=function(){return this.throwIfDisposed(),gf(this,[this.size])},$d().prototype.as2D=function(e,t){return this.throwIfDisposed(),gf(this,[e,t])},$d().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),gf(this,[e,t,n])},$d().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),gf(this,[e,t,n,r])},$d().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),gf(this,[e,t,n,r,a])};const OA=Ap({asin_:function(e){const t={x:wp(e,"x","asin")};return cp.runKernel(hu,t)}});$d().prototype.asin=function(){return this.throwIfDisposed(),OA(this)};const BA=Ap({asinh_:function(e){const t={x:wp(e,"x","asinh")};return cp.runKernel(du,t)}});$d().prototype.asinh=function(){return this.throwIfDisposed(),BA(this)};const zA=Ap({atan_:function(e){const t={x:wp(e,"x","atan")};return cp.runKernel(pu,t)}});$d().prototype.atan=function(){return this.throwIfDisposed(),zA(this)};const RA=Ap({atan2_:function(e,t){let n=wp(e,"a","atan2"),r=wp(t,"b","atan2");[n,r]=np(n,r);const a={a:n,b:r};return cp.runKernel(fu,a)}});$d().prototype.atan2=function(e){return this.throwIfDisposed(),RA(this,e)};const MA=Ap({atanh_:function(e){const t={x:wp(e,"x","atanh")};return cp.runKernel(mu,t)}});$d().prototype.atanh=function(){return this.throwIfDisposed(),MA(this)},$d().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),yf(this,e,t,n,r)},$d().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),CA(this,e,t)},$d().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),wf(this,e,t,n,r,a)},$d().prototype.broadcastTo=function(e){return this.throwIfDisposed(),ey(this,e)},$d().prototype.cast=function(e){return this.throwIfDisposed(),lm(this,e)};const FA=Ap({ceil_:function(e){const t={x:wp(e,"x","ceil","float32")};return cp.runKernel(Su,t)}});$d().prototype.ceil=function(){return this.throwIfDisposed(),FA(this)},$d().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),kf(this,e,t)},$d().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof qd&&(e=[e]),Cf([this,...e],t)},$d().prototype.conv1d=function(e,t,n,r,a,s){return this.throwIfDisposed(),Df(this,e,t,n,r,a,s)},$d().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),Of(this,e,t,n,r,a)},$d().prototype.conv2d=function(e,t,n,r,a,s){return this.throwIfDisposed(),Nf(this,e,t,n,r,a,s)},$d().prototype.cos=function(){return this.throwIfDisposed(),yA(this)},$d().prototype.cosh=function(){return this.throwIfDisposed(),wA(this)};const PA=Ap({cumprod_:function(e,t=0,n=!1,r=!1){const a={x:wp(e,"x","cumprod")},s={axis:t,exclusive:n,reverse:r};return cp.runKernel(Pu,a,s)}});$d().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),PA(this,e,t,n)},$d().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),ov(this,e,t,n)};const LA=Ap({depthToSpace_:function(e,t,n="NHWC"){const r=wp(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],s="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];fl(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),fl(a*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),fl(s*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${s} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),fl(i%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${i} for depthToSpace with input shape ${r.shape}`));const o={x:r},l={blockSize:t,dataFormat:n};return cp.runKernel(Uu,o,l)}});$d().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),LA(this,e,t)},$d().prototype.depthwiseConv2d=function(e,t,n,r,a,s){return this.throwIfDisposed(),Mf(this,e,t,n,r,a,s)};const VA=Ap({dilation2d_:function(e,t,n,r,a=[1,1],s="NHWC"){const i=wp(e,"x","dilation2d"),o=wp(t,"filter","dilation2d");fl(3===i.rank||4===i.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`)),fl(3===o.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`)),fl("NHWC"===s,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${s}`));let l=i,u=!1;3===i.rank&&(l=gf(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=!0);const c={x:l,filter:o},h={strides:n,pad:r,dilations:a},d=cp.runKernel(Hu,c,h);return u?gf(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});$d().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),VA(this,e,t,n,r,a)};const WA=Ap({divNoNan_:function(e,t){let n=wp(e,"a","div"),r=wp(t,"b","div");[n,r]=np(n,r);const a=Pf(n,r),s=ny(a),i=Vf(r,s);return ty(i,s,a)}});$d().prototype.divNoNan=function(e){return this.throwIfDisposed(),WA(this,e)},$d().prototype.div=function(e){return this.throwIfDisposed(),Pf(this,e)};const UA=Ap({dot_:function(e,t){const n=wp(e,"t1","dot"),r=wp(t,"t2","dot");fl(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const a=1===n.rank?n.size:n.shape[1],s=1===r.rank?r.size:r.shape[0];if(fl(a===s,(()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${s}.`)),1===n.rank&&1===r.rank){const e=gf(n,[1,-1]),t=gf(r,[-1,1]),a=sg(e,t);return gf(a,[])}if(1===n.rank&&2===r.rank){const e=gf(n,[1,-1]),t=gf(r,[r.shape[0],r.shape[1]]),a=sg(e,t);return gf(a,[a.size])}if(2===n.rank&&1===r.rank){const e=gf(r,[-1,1]),t=sg(n,e);return gf(t,[t.size])}{const e=gf(r,[r.shape[0],r.shape[1]]);return sg(n,e)}}});$d().prototype.dot=function(e){return this.throwIfDisposed(),UA(this,e)},$d().prototype.elu=function(){return this.throwIfDisposed(),Lf(this)},$d().prototype.equal=function(e){return this.throwIfDisposed(),Vf(this,e)};const jA=Ap({erf_:function(e){let t=wp(e,"x","erf");fl("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=lm(t,"float32"));const n={x:t};return cp.runKernel(ec,n)}});$d().prototype.erf=function(){return this.throwIfDisposed(),jA(this)},$d().prototype.exp=function(){return this.throwIfDisposed(),Wf(this)},$d().prototype.expandDims=function(e){return this.throwIfDisposed(),Uf(this,e)};const GA=Ap({expm1_:function(e){const t={x:wp(e,"x","expm1")};return cp.runKernel(ac,t)}});$d().prototype.expm1=function(){return this.throwIfDisposed(),GA(this)},$d().prototype.fft=function(){return this.throwIfDisposed(),oy(this)},$d().prototype.flatten=function(){return this.throwIfDisposed(),gf(this,[this.size])},$d().prototype.floor=function(){return this.throwIfDisposed(),$f(this)},$d().prototype.floorDiv=function(e){return this.throwIfDisposed(),Ff(this,e)},$d().prototype.gather=function(e,t){return this.throwIfDisposed(),Hf(this,e,t)},$d().prototype.greaterEqual=function(e){return this.throwIfDisposed(),Zf(this,e)},$d().prototype.greater=function(e){return this.throwIfDisposed(),Kf(this,e)},$d().prototype.ifft=function(){return this.throwIfDisposed(),uy(this)},$d().prototype.irfft=function(){return this.throwIfDisposed(),cy(this)};const qA=Ap({isFinite_:function(e){const t={x:wp(e,"x","isFinite")};return cp.runKernel(bc,t)}});$d().prototype.isFinite=function(){return this.throwIfDisposed(),qA(this)};const $A=Ap({isInf_:function(e){const t={x:wp(e,"x","isInf")};return cp.runKernel(wc,t)}});$d().prototype.isInf=function(){return this.throwIfDisposed(),$A(this)};const HA=Ap({isNaN_:function(e){const t={x:wp(e,"x","isNaN")};return cp.runKernel(vc,t)}});$d().prototype.isNaN=function(){return this.throwIfDisposed(),HA(this)},$d().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Xf(this,e)},$d().prototype.lessEqual=function(e){return this.throwIfDisposed(),Zy(this,e)},$d().prototype.less=function(e){return this.throwIfDisposed(),Fv(this,e)};const KA=Ap({localResponseNormalization_:function(e,t=5,n=1,r=1,a=.5){const s=wp(e,"x","localResponseNormalization");fl(4===s.rank||3===s.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${s.rank}.`)),fl(Al(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let i=s,o=!1;3===s.rank&&(o=!0,i=gf(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const l={x:i},u={depthRadius:t,bias:n,alpha:r,beta:a},c=cp.runKernel(Dc,l,u);return o?gf(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});$d().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),KA(this,e,t,n,r)};const ZA=Ap({logSigmoid_:function(e){const t=wp(e,"x","logSigmoid"),n=Hm((e=>({value:Ag(qg(Ag(e))),gradFunc:t=>eg(t,Pg(Ag(e)))})));return n(t)}});$d().prototype.logSigmoid=function(){return this.throwIfDisposed(),ZA(this)},$d().prototype.logSoftmax=function(e){return this.throwIfDisposed(),rg(this,e)},$d().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),hb(this,e,t)},$d().prototype.log=function(){return this.throwIfDisposed(),Yf(this)},$d().prototype.log1p=function(){return this.throwIfDisposed(),Qf(this)},$d().prototype.logicalAnd=function(e){return this.throwIfDisposed(),ag(this,e)},$d().prototype.logicalNot=function(){return this.throwIfDisposed(),dA(this)};const XA=Ap({logicalOr_:function(e,t){const n=wp(e,"a","logicalOr","bool"),r=wp(t,"b","logicalOr","bool");vm(n.shape,r.shape);const a={a:n,b:r};return cp.runKernel(Nc,a)}});$d().prototype.logicalOr=function(e){return this.throwIfDisposed(),XA(this,e)};const YA=Ap({logicalXor_:function(e,t){const n=wp(e,"a","logicalXor","bool"),r=wp(t,"b","logicalXor","bool");return vm(n.shape,r.shape),ag(XA(e,t),dA(ag(e,t)))}});$d().prototype.logicalXor=function(e){return this.throwIfDisposed(),YA(this,e)},$d().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),sg(this,e,t,n)},$d().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),ig(this,e,t,n,r)},$d().prototype.max=function(e,t){return this.throwIfDisposed(),Jf(this,e,t)},$d().prototype.maximum=function(e){return this.throwIfDisposed(),lg(this,e)},$d().prototype.mean=function(e,t){return this.throwIfDisposed(),ug(this,e,t)},$d().prototype.min=function(e,t){return this.throwIfDisposed(),tb(this,e,t)},$d().prototype.minimum=function(e){return this.throwIfDisposed(),cg(this,e)};const QA=Ap({mirrorPad_:function(e,t,n){fl("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=wp(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");fl(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const a="reflect"===n?1:0;for(let e=0;e<r.rank;e++)fl(2===t[e].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),fl(t[e][0]>=0&&t[e][0]<=r.shape[e]-a&&t[e][1]>=0&&t[e][1]<=r.shape[e]-a,(()=>`Padding in dimension ${e} cannot be greater than or equal to ${r.shape[e]-a} or less than 0 for input of shape ${r.shape}`));const s={paddings:t,mode:n},i={x:r};return cp.runKernel(Uc,i,s)}});$d().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),QA(this,e,t)};const JA=Ap({mod_:function(e,t){let n=wp(e,"a","mod"),r=wp(t,"b","mod");[n,r]=np(n,r);const a={a:n,b:r};return cp.runKernel(jc,a)}});$d().prototype.mod=function(e){return this.throwIfDisposed(),JA(this,e)},$d().prototype.mul=function(e){return this.throwIfDisposed(),eg(this,e)},$d().prototype.neg=function(){return this.throwIfDisposed(),Ag(this)},$d().prototype.norm=function(e,t,n){return this.throwIfDisposed(),ab(this,e,t,n)},$d().prototype.notEqual=function(e){return this.throwIfDisposed(),xg(this,e)},$d().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),kg(this,e,t,n)},$d().prototype.onesLike=function(){return this.throwIfDisposed(),Eg(this)},$d().prototype.pad=function(e,t){return this.throwIfDisposed(),Ig(this,e,t)};const ex=Ap({pool_:function(e,t,n,r,a,s,i){null==a&&(a=[1,1]),null==s&&(s=1),0===r&&(r="valid");const o=wp(e,"x","maxPool");let l=o,u=!1;3===o.rank&&(u=!0,l=gf(o,[1,o.shape[0],o.shape[1],o.shape[2]])),fl(pf(s,a),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${s} and dilations '${a}'`));const c=nf(l.shape,t,s,a,r),h=[c.dilationHeight,c.dilationWidth];let d;d="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))).map((e=>e-1)),r=n.map((e=>Math.floor(e/2))),a=n.map(((e,t)=>e-r[t]));return n.map(((e,t)=>[r[t],a[t]]))}([c.filterHeight,c.filterWidth],h):[[0,0],[0,0]];const p=1===h[0]&&1===h[1],[m,f]=function(e,t,n){const r=n.map((e=>e[0])),a=n.map((e=>e[1])),s=e.concat(r,a),i=t.map(((e,t)=>(e-s[t]%e)%e)),o=a.map(((e,t)=>e+i[t])),l=t.map(((e,t)=>[r[t],o[t]])),u=t.map(((e,t)=>[0,i[t]]));return[l,u]}([c.inHeight,c.inWidth],h,d),g=p?r:"valid",y=p?l:qw(l,h,m),b=("avg"===n?()=>yf(y,t,s,g,i):()=>ig(y,t,s,g,i))(),w=p?b:CA(b,h,f);return u?gf(w,[w.shape[1],w.shape[2],w.shape[3]]):w}});$d().prototype.pool=function(e,t,n,r,a,s){return this.throwIfDisposed(),ex(this,e,t,n,r,a,s)},$d().prototype.pow=function(e){return this.throwIfDisposed(),nb(this,e)},$d().prototype.prelu=function(e){return this.throwIfDisposed(),Tg(this,e)};const tx=Ap({prod_:function(e,t=null,n=!1){let r=wp(e,"x","prod");"bool"===r.dtype&&(r=lm(r,"int32"));const a={x:r},s={axis:t,keepDims:n};return cp.runKernel(rh,a,s)}});$d().prototype.prod=function(e,t){return this.throwIfDisposed(),tx(this,e,t)};const nx=Ap({reciprocal_:function(e){const t={x:wp(e,"x","reciprocal")};return cp.runKernel(ih,t)}});$d().prototype.reciprocal=function(){return this.throwIfDisposed(),nx(this)},$d().prototype.relu=function(){return this.throwIfDisposed(),zg(this)},$d().prototype.relu6=function(){return this.throwIfDisposed(),dy(this)},$d().prototype.reshapeAs=function(e){return this.throwIfDisposed(),gf(this,e.shape)},$d().prototype.reshape=function(e){return this.throwIfDisposed(),gf(this,e)},$d().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),$y(this,e,t,n)},$d().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),Hy(this,e,t,n)},$d().prototype.reverse=function(e){return this.throwIfDisposed(),Rg(this,e)},$d().prototype.rfft=function(){return this.throwIfDisposed(),ly(this)},$d().prototype.round=function(){return this.throwIfDisposed(),Xy(this)},$d().prototype.rsqrt=function(){return this.throwIfDisposed(),bv(this)},$d().prototype.selu=function(){return this.throwIfDisposed(),Mg(this)},$d().prototype.separableConv2d=function(e,t,n,r,a,s){return this.throwIfDisposed(),Fg(this,e,t,n,r,a,s)},$d().prototype.sigmoid=function(){return this.throwIfDisposed(),Pg(this)};const rx=Ap({sign_:function(e){const t={x:wp(e,"x","sign")};return cp.runKernel(kh,t)}});$d().prototype.sign=function(){return this.throwIfDisposed(),rx(this)},$d().prototype.sin=function(){return this.throwIfDisposed(),rv(this)},$d().prototype.sinh=function(){return this.throwIfDisposed(),sv(this)},$d().prototype.slice=function(e,t){return this.throwIfDisposed(),Lg(this,e,t)},$d().prototype.softmax=function(e){return this.throwIfDisposed(),Gg(this,e)},$d().prototype.softplus=function(){return this.throwIfDisposed(),qg(this)},$d().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),qw(this,e,t)},$d().prototype.split=function(e,t){return this.throwIfDisposed(),$g(this,e,t)},$d().prototype.sqrt=function(){return this.throwIfDisposed(),Hg(this)},$d().prototype.square=function(){return this.throwIfDisposed(),wg(this)},$d().prototype.squaredDifference=function(e){return this.throwIfDisposed(),cb(this,e)},$d().prototype.squeeze=function(e){return this.throwIfDisposed(),Kg(this,e)},$d().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof qd?[this,e]:[this,...e];return Zg(n,t)},$d().prototype.step=function(e){return this.throwIfDisposed(),py(this,e)};const ax=Ap({stridedSlice_:function(e,t,n,r,a=0,s=0,i=0,o=0,l=0){const u={x:wp(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:a,endMask:s,ellipsisMask:i,newAxisMask:o,shrinkAxisMask:l};return cp.runKernel(Ph,u,c)}});$d().prototype.stridedSlice=function(e,t,n,r,a,s,i,o){return this.throwIfDisposed(),ax(this,e,t,n,r,a,s,i,o)},$d().prototype.sub=function(e){return this.throwIfDisposed(),tg(this,e)},$d().prototype.sum=function(e,t){return this.throwIfDisposed(),ng(this,e,t)};const sx=Ap({tan_:function(e){const t={x:wp(e,"x","tan","float32")};return cp.runKernel(jh,t)}});$d().prototype.tan=function(){return this.throwIfDisposed(),sx(this)},$d().prototype.tanh=function(){return this.throwIfDisposed(),Xg(this)},$d().prototype.tile=function(e){return this.throwIfDisposed(),jf(this,e)},$d().prototype.toBool=function(){return this.throwIfDisposed(),lm(this,"bool")},$d().prototype.toFloat=function(){return this.throwIfDisposed(),lm(this,"float32")},$d().prototype.toInt=function(){return this.throwIfDisposed(),lm(this,"int32")};const ix=Ap({topk_:function(e,t=1,n=!0){const r=wp(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${t}`);const s={x:r},i={k:t,sorted:n},[o,l]=cp.runKernel($h,s,i);return{values:o,indices:l}}});$d().prototype.topk=function(e,t){return this.throwIfDisposed(),ix(this,e,t)},$d().prototype.transpose=function(e){return this.throwIfDisposed(),ry(this,e)};const ox=Ap({unique_:function(e,t=0){const n=wp(e,"x","unique","string_or_numeric");fl(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},a={axis:t},[s,i]=cp.runKernel(Zh,r,a);return{values:s,indices:i}}});let lx;function ux(){return null==lx&&(lx=cp.backend.epsilon()),lx}$d().prototype.unique=function(e){return this.throwIfDisposed(),ox(this,e)},$d().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),vv(this,e,t)},$d().prototype.unstack=function(e){return this.throwIfDisposed(),Jg(this,e)},$d().prototype.where=function(e,t){return this.throwIfDisposed(),ty(e,this,t)},$d().prototype.zerosLike=function(){return this.throwIfDisposed(),ny(this)};class cx extends Error{constructor(e){super(e),Object.setPrototypeOf(this,cx.prototype)}}class hx extends Error{constructor(e){super(e),Object.setPrototypeOf(this,hx.prototype)}}class dx extends Error{constructor(e){super(e),Object.setPrototypeOf(this,dx.prototype)}}class px extends Error{constructor(e){super(e),Object.setPrototypeOf(this,px.prototype)}}class mx extends Error{constructor(e){super(e),Object.setPrototypeOf(this,mx.prototype)}}Error;function fx(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function gx(e,t){if(!e)throw new mx(t)}function yx(e,t){let n=0;for(const r of e)r===t&&n++;return n}function bx(e){return 1===e.length?e[0]:e}function wx(e){return Array.isArray(e)?e:[e]}function vx(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function Ax(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let xx={};function kx(e){if(null==e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function Cx(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach((e=>Cx(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"==typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!=typeof t.value?Cx(t):e[n]=t.value)}}}function Sx(e,t={},n={},r="object",a=!1){if("string"==typeof e){const a=e;let s;if(a in n)s=n[a];else if(a in xx)s=xx[a];else if(s=t[a],null==s)throw new dx(`Unknown ${r}: ${e}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return s}{const s=e;if(null==s.className||null==s.config)throw new dx(`${r}: Improper config format: ${JSON.stringify(s)}.\n'className' and 'config' must set.`);const i=s.className;let o,l;if(i in n?[o,l]=n[i]:i in xx?[o,l]=xx.className:i in t&&([o,l]=t[i]),null==o)throw new dx(`Unknown ${r}: ${i}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){const e={};for(const t of Object.keys(xx))e[t]=xx[t];for(const t of Object.keys(n))e[t]=n[t];s.config.customObjects=e;const t=Object.assign({},xx);for(const e of Object.keys(n))xx[e]=n[e];Cx(s.config);const r=l(o,s.config,n,a);return xx=Object.assign({},t),r}{const e=Object.assign({},xx);for(const e of Object.keys(n))xx[e]=n[e];const t=new o(s.config);return xx=Object.assign({},e),t}}}function Ex(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function Ix(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function Tx(e){if(null==e)throw new dx(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function Nx(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new dx(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function Dx(e,t,n=0,r=1/0){return gx(n>=0),gx(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((e=>typeof e===t))}function _x(e,t){Array.isArray(e)?(fl(e.length>0,(()=>`${t} is unexpectedly an empty array.`)),e.forEach(((e,n)=>_x(e,`element ${n+1} of ${t}`)))):fl(Number.isInteger(e)&&e>0,(()=>`Expected ${t} to be a positive integer, but got ${Ox(e)}.`))}function Ox(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>Ox(e))).join(",")+"]":"string"==typeof e?`"${e}"`:`${e}`}function Bx(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function zx(e,t){return jm((()=>Hg(ng(eg(e,e),t,!0))))}class Rx extends Pm{getConfig(){return{}}}class Mx extends Rx{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return jm((()=>{const t=zx(e,this.axis),n=kf(t,0,this.maxValue);return eg(e,Pf(n,Ym(ux(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}Mx.className="MaxNorm",Vm(Mx);class Fx extends Rx{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return jm((()=>Pf(e,Ym(ux(),zx(e,this.axis)))))}getConfig(){return{axis:this.axis}}}Fx.className="UnitNorm",Vm(Fx);class Px extends Rx{apply(e){return zg(e)}}Px.className="NonNeg",Vm(Px);class Lx extends Rx{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return jm((()=>{const t=zx(e,this.axis),n=Ym(eg(this.rate,kf(t,this.minValue,this.maxValue)),eg(1-this.rate,t));return eg(e,Pf(n,Ym(ux(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}Lx.className="MinMaxNorm",Vm(Lx);const Vx={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Wx(e){return kx(e)}function Ux(e,t={}){return Sx(e,Lm.getMap().classNameMap,t,"constraint")}function jx(e){if(null==e)return null;if("string"==typeof e){return Ux({className:e in Vx?Vx[e]:e,config:{}})}return e instanceof Rx?e:Ux(e)}const Gx=["channelsFirst","channelsLast"],qx=["nearest","bilinear"],$x=["valid","same","causal"],Hx=["max","avg"],Kx=["sum","mul","concat","ave"],Zx=new Map;function Xx(e){Nx(Gx,"DataFormat",e)}function Yx(e){Nx($x,"PaddingMode",e)}function Qx(e){Nx(Hx,"PoolMode",e)}const Jx=[];function ek(e,t){Jx.push(e);try{const e=t();return Jx.pop(),e}catch(e){throw Jx.pop(),e}}function tk(e){if(!ak(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Jx.length?"":Jx.join("/")+"/")+e}function nk(e){if(!ak(e))throw new Error("Not a valid tensor name: '"+e+"'");Zx.has(e)||Zx.set(e,0);const t=Zx.get(e);if(Zx.set(e,Zx.get(e)+1),t>0){const n=`${e}_${t}`;return Zx.set(n,1),n}return e}const rk=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function ak(e){return!!e.match(rk)}function sk(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let r=1;for(let a=t;a<n;++a)r*=e[a];return r}function ik(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function ok(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function lk(e,t){if(t<e)throw new dx(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}function uk(e,t){return lm(e,t)}function ck(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),gf(e,n)}function hk(e,t,n){return jm((()=>{switch(e.rank){case 1:return Vg(e,t,n);case 2:return Wg(e,[t,0],[n,e.shape[1]]);case 3:return Ug(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return jg(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Lg(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Lg(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new dx(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function dk(e,t,n){return jm((()=>{switch(e.rank){case 1:return Vg(e,t,n);case 2:return Wg(e,[0,t],[e.shape[0],n]);case 3:return Ug(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return jg(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new dx(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function pk(e,t,n,r){return jm((()=>{switch(e.rank){case 1:return Vg(e,t,n);case 2:switch(r){case 1:return hk(e,t,n);case 2:return dk(e,t,n);default:throw new dx(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return hk(e,t,n);case 2:return Ug(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return dk(e,t,n);default:throw new dx(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return hk(e,t,n);case 2:return jg(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return jg(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return dk(e,t,n);default:throw new dx(`The axis is not within the rank of the tensor ${r}`)}default:throw new dx(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function mk(e,t=-1){let n;return t<0&&(n=e[0].rank,t=0!==n?n:0),t===e[0].rank&&(t=-1),Cf(e,t)}function fk(e,t){switch(e.rank){case 1:return Sf([e,t]);case 2:return Ef([e,t],0);case 3:return If([e,t],0);case 4:return Tf([e,t],0);default:throw new dx(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function gk(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new dx(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return jf(e,t)}function yk(e,t=0,n=1,r,a){return Og(e,t,n,r,a)}function bk(e,t,n,r){if(e.rank<2||t.rank<2)throw new px(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new px(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(2===e.rank&&2===t.rank){return Ay({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Ak(e.rank,r,"channelsLast"):null,activation:n})}{const a=e.shape.slice(),s=a.pop();e=gf(e,[-1,s]);const i=t.shape.slice(),o=i.pop(),l=i.pop(),u=[...i,o],c=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=gf(ry(t,c),[l,-1]);const h=[...a,...u];return gf(Ay({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Ak(e.rank,r,"channelsLast"):null,activation:n}),h)}}function wk(e,t,n){return jm((()=>(t=Array.isArray(t)?Yg(t,"int32"):lm(t,"int32"),Hf(e,t,n))))}function vk(e){return eg(e,e)}function Ak(e,t,n){const r=t.shape;if(1!==t.rank&&t.rank!==e)throw new dx(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===r.length?gf(t,[1,r[0],1,1,1]):gf(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?gf(t,[1,1,1,1,r[0]]):gf(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?gf(t,[1,r[0],1,1]):gf(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?gf(t,[1,1,1,r[0]]):gf(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?gf(t,[1,r[0],1]):gf(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?gf(t,[1,1,r[0]]):gf(t,[1].concat(r))}else if(e<3)return t;throw new dx(`Unsupported input rank by biasAdd: ${t.rank}`)}function xk(e,t,n){return jm((()=>(null==n&&(n="channelsLast"),Xx(n),Ym(e,Ak(e.rank,t,n)))))}function kk(e,t,n,r){return jm((()=>ay(e,t,n,r)))}function Ck(e,t,n=!1){return n?e():t()}const Sk=["fanIn","fanOut","fanAvg"],Ek=["normal","uniform","truncatedNormal"];class Ik extends Pm{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class Tk extends Ik{apply(e,t){return Cg(e,t)}}Tk.className="Zeros",Vm(Tk);class Nk extends Ik{apply(e,t){return Sg(e,t)}}Nk.className="Ones",Vm(Nk);class Dk extends Ik{constructor(e){if(super(),"object"!=typeof e)throw new dx(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new dx(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return jm((()=>eg(Km(this.value),Sg(e,t))))}getConfig(){return{value:this.value}}}Dk.className="Constant",Vm(Dk);class _k extends Ik{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return Bg(e,this.minval,this.maxval,t)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}_k.className="RandomUniform",Vm(_k);class Ok extends Ik{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new px(`randomNormal does not support dType ${t}.`);return yk(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Ok.className="RandomNormal",Vm(Ok);class Bk extends Ik{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new px(`truncatedNormal does not support dType ${t}.`);return Qg(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Bk.className="TruncatedNormal",Vm(Bk);class zk extends Ik{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return jm((()=>{if(2!==e.length||e[0]!==e[1])throw new dx("Identity matrix initializer can only be used for 2D square matrices.");return eg(this.gain,Gf(e[0]))}))}getConfig(){return{gain:this.gain}}}zk.className="Identity",Vm(zk);class Rk extends Ik{constructor(e){if(super(),e.scale<0)throw new dx(`scale must be a positive float. Got: ${e.scale}`);var t;this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,t=this.mode,Nx(Sk,"FanMode",t),this.distribution=null==e.distribution?"normal":e.distribution,function(e){Nx(Ek,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e,t="channelsLast"){let n,r;if(Xx(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===t){const t=sk(e,2);n=e[1]*t,r=e[0]*t}else if("channelsLast"===t){const t=sk(e,0,e.length-2);n=e[e.length-2]*t,r=e[e.length-1]*t}}else{const t=sk(e);n=Math.sqrt(t),r=Math.sqrt(t)}return[n,r]}(e),r=n[0],a=n[1];let s=this.scale;if("fanIn"===this.mode?s/=Math.max(1,r):"fanOut"===this.mode?s/=Math.max(1,a):s/=Math.max(1,(r+a)/2),"normal"===this.distribution){const n=Math.sqrt(s);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new px(`${this.getClassName()} does not support dType ${t}.`);return Qg(e,0,n,t,this.seed)}{const n=Math.sqrt(3*s);return Bg(e,-n,n,t)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Rk.className="VarianceScaling",Vm(Rk);class Mk extends Rk{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return Rk.className}}Mk.className="GlorotUniform",Vm(Mk);class Fk extends Rk{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return Rk.className}}Fk.className="GlorotNormal",Vm(Fk);class Pk extends Rk{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return Rk.className}}Pk.className="HeNormal",Vm(Pk);class Lk extends Rk{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return Rk.className}}Lk.className="HeUniform",Vm(Lk);class Vk extends Rk{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return Rk.className}}Vk.className="LeCunNormal",Vm(Vk);class Wk extends Rk{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return Rk.className}}Wk.className="LeCunNormal",Vm(Wk);class Uk extends Ik{constructor(e){if(super(),this.DEFAULT_GAIN=1,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed,null!=this.seed)throw new px("Random seed is not implemented for Orthogonal Initializer yet.")}apply(e,t){return jm((()=>{if(e.length<2)throw new px("Shape must be at least 2D.");e[0],e[1];const t=yk(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32");let n=pb.gramSchmidt(t);return e[0]>e[1]&&(n=ry(n)),eg(this.gain,n)}))}getConfig(){return{gain:this.gain,seed:this.seed}}}Uk.className="Orthogonal",Vm(Uk);const jk={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Gk(e,t={}){return Sx(e,Lm.getMap().classNameMap,t,"initializer")}function qk(e){return kx(e)}function $k(e){if("string"==typeof e){const t=e in jk?jk[e]:e;if("GlorotNormal"===t)return new Fk;if("GlorotUniform"===t)return new Mk;if("HeNormal"===t)return new Pk;if("HeUniform"===t)return new Lk;if("LeCunNormal"===t)return new Vk;if("LeCunUniform"===t)return new Wk;{const e={};return e.className=t,e.config={},Gk(e)}}return e instanceof Ik?e:Gk(e)}let Hk=0;function Kk(){return Hk++}const Zk={};function Xk(e=""){return e in Zk||(Zk[e]=0),Zk[e]+=1,e+Zk[e].toString()}function Yk(e){return Array.isArray(e)&&Array.isArray(e[0])}function Qk(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Jk(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new dx(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function eC(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new dx(`Expected exactly 1 Shape; got ${e.length}`)}return e}function tC(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const nC="Variable";class rC{constructor(e,t="float32",n="Variable",r=!0,a=null){this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=Kk(),n=null==n?nC:n,this.originalName=tk(n),this.name=nk(this.originalName),this.trainable_=r,this.constraint=a,this.val=function(e,t=!0,n,r){return cp.makeVariable(e,t,n,r)}(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function aC(e){return e.map((e=>e.read()))}function sC(e){e.forEach((e=>{e[0].write(e[1])}))}class iC{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class oC{constructor(e,t,n,r,a,s,i){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=a,this.outputTensorIndex=i,this.id=Kk(),null!=s&&(this.originalName=tk(s),this.name=nk(this.originalName)),this.rank=t.length}}let lC=0;class uC{constructor(e,t){this.callArgs=t,this.id=lC++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const t of e.inboundLayers)null!=t&&t.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let cC=0;class hC extends Pm{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=cC++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=vx(e)+"_"+Xk(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new hx(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new dx(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return bx(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return bx(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new cx(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new cx(`Layer ${this.name} is not connected, no input to return.`);return bx(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new cx(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new cx(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return bx(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=wx(e),null==this.inputSpec||0===this.inputSpec.length)return;const t=wx(this.inputSpec);if(e.length!==t.length)throw new dx(`Layer ${this.name} expects ${t.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(let n=0;n<e.length;n++){const r=e[n],a=t[n];if(null==a)continue;const s=r.rank;if(null!=a.ndim&&s!==a.ndim)throw new dx(`Input ${n} is incompatible with layer ${this.name}: expected ndim=${a.ndim}, found ndim=${s}`);if(null!=a.maxNDim&&s>a.maxNDim)throw new dx(`Input ${n} is incompatible with layer ${this.name}: expected max_ndim=${a.maxNDim}, found ndim=${s}`);if(null!=a.minNDim&&s<a.minNDim)throw new dx(`Input ${n} is incompatible with layer ${this.name}: expected min_ndim=${a.minNDim}, found ndim=${s}.`);if(null!=a.dtype&&r.dtype!==a.dtype)throw new dx(`Input ${n} is incompatible with layer ${this.name} : expected dtype=${a.dtype}, found dtype=${r.dtype}.`);if(a.axes){const e=r.shape;for(const t in a.axes){const r=Number(t),s=a.axes[t],i=r>=0?e[r]:e[e.length+r];if(null!=s&&-1===[s,null].indexOf(i))throw new dx(`Input ${n} is incompatible with layer ${this.name}: expected axis ${r} of input shape to have value ${s} but got shape ${e}.`)}}if(null!=a.shape)for(let e=0;e<a.shape.length;++e){const t=a.shape[e],s=r.shape[e];if(null!=t&&null!=s&&t!==s)throw new dx(`Input ${n} is incompatible with layer ${this.name}: expected shape=${a.shape}, found shape=${r.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=wx(e);let r=!0;for(const e of n)if(!(e instanceof oC)){r=!1;break}let a=!0;for(const e of n)if(e instanceof oC){a=!1;break}if(r===a)throw new dx("Arguments to apply() must be all SymbolicTensors or all Tensors");return ek(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of wx(e))t.push(n.shape);this.build(bx(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&a&&(this._refCount=1)}if(this.assertInputCompatibility(e),a){let r=this.call(e,t);const a=wx(r),s=[];for(let e of a)-1!==n.indexOf(e)&&(e=e.clone()),s.push(e);if(r=bx(s),null!=this.activityRegularizer)throw new px("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{const n=function(e){e=wx(e);const t=[];for(const n of e)t.push(n.shape);return bx(t)}(e),r=this.computeOutputShape(n);let a;const s="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),a=null!=r&&r.length>0&&Array.isArray(r[0])?r.map(((n,r)=>new oC(s,n,this,wx(e),t,this.name,r))):new oC(s,r,this,wx(e),t,this.name),this.addInboundNode(e,a,null,null,n,r,t),this._refCount++,null!=this.activityRegularizer)throw new px("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length);else{let t=!1;this.batchInputShape.forEach(((n,r)=>{null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)}))}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new cx(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new cx(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new hx(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return tC(this.weights)}build(e){this.built=!0}getWeights(e=!1){return aC(e?this.trainableWeights:this.weights)}setWeights(e){jm((()=>{const t=this.weights;if(t.length!==e.length)throw new dx(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(0===t.length)return;const n=[],r=aC(t);for(let a=0;a<r.length;++a){const s=r[a],i=t[a],o=e[a];if(!vl(s.shape,o.shape))throw new dx(`Layer weight shape ${s.shape} not compatible with provided weight shape ${o.shape}`);n.push([i,o])}sC(n)}))}addWeight(e,t,n,r,a,s,i,o){if(-1!==this._addedWeightNames.indexOf(e))throw new dx(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=o?o():$k("zeros"));const l=r.apply(t,n),u=new rC(l,n,e,s,i);return l.dispose(),null!=a&&this.addLoss((()=>a.apply(u.read()))),null==s&&(s=!0),s?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=wx(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach((e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)}))}return null}return t}addInboundNode(e,t,n,r,a,s,i=null){const o=wx(e);t=wx(t),n=wx(n),r=wx(r),a=Qk(a),s=Qk(s);const l=[],u=[],c=[];for(const e of o)l.push(e.sourceLayer),u.push(e.nodeIndex),c.push(e.tensorIndex);new uC({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:o,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:s},i);for(let e=0;e<t.length;e++)t[e].sourceLayer=this,t[e].nodeIndex=this.inboundNodes.length-1,t[e].tensorIndex=e}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function dC(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const r=dC(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of r)-1===t.indexOf(e)&&t.push(e)}return t}}}class pC extends hC{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:Xk("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new dx("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new dx("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new dx("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const r=new oC(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new uC({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new dx(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}async function mC(e){if(null==e)return;const t=[],n=[],r=[];for(const a in e){const s=e[a];if("number"!=typeof s){const e=s;t.push(e.data()),n.push(a),r.push(e)}}if(t.length>0){const a=await Promise.all(t);for(let t=0;t<a.length;++t)e[n[t]]=a[t][0];Gm(r)}}function fC(e){if(null!=e)for(const t in e){const n=e[t];"number"!=typeof n&&n.dispose()}}var gC;pC.className="InputLayer",Vm(pC),function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(gC||(gC={}));class yC{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class bC{constructor(e,t=10){null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class wC extends yC{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const e in t){const r=t[e];if("number"==typeof r)this.totals.hasOwnProperty(e)||(this.totals[e]=0),this.totals[e]=this.totals[e]+r*n;else{let t;e in this.totals?t=this.totals[e]:this.totals[e]=0;const a=jm((()=>Ym(this.totals[e],eg(r,n))));this.totals[e]=a,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const e of this.params.metrics)null!=this.totals[e]&&("number"==typeof this.totals[e]?t[e]=this.totals[e]/this.seen:jm((()=>{const n=eg(Pf(1,this.seen),this.totals[e]);t[e]=n,this.totals[e].dispose(),qm(t[e])})))}}class vC extends yC{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const e in t)null==this.history[e]&&(this.history[e]=[]),this.history[e].push(t[e])}async syncData(){const e=[],t=[],n=[];for(const r in this.history){const a=this.history[r];for(let s=0;s<a.length;++s)if("number"!=typeof a[s]){const i=a[s];e.push(i.data()),t.push(r),n.push(s)}}const r=await Promise.all(e);for(let e=0;e<r.length;++e){this.history[t[e]][n[e]].dispose(),this.history[t[e]][n[e]]=r[e][0]}}}class AC extends yC{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||Cb,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");zl(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let r,a=null!=n?n():Dd();return(...s)=>{const i=null!=n?n():Dd();return i-a<t||(a=i,r=e(...s)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const r=[];null!=this.yield&&(await mC(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await mC(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await mC(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await mC(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await mC(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):zl(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await mC(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await mC(e),await this.trainEnd(e))}}function xC(e,t){if(null==e&&(e={}),e instanceof yC)return[e];if(Array.isArray(e)&&e[0]instanceof yC)return e;return wx(e).map((e=>new AC(e,t)))}class kC{constructor(){}static registerCallbackConstructor(e,t){fl(e>=0&&Number.isInteger(e),(()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`)),kC.checkForDuplicate(t),null==kC.constructors[e]&&(kC.constructors[e]=[]),kC.constructors[e].push(t)}static checkForDuplicate(e){for(const t in kC.constructors){kC.constructors[+t].forEach((t=>{if(t===e)throw new dx("Duplicate callback constructor.")}))}}static clear(){kC.constructors={}}static createCallbacks(e){const t=[];for(const n in kC.constructors){const r=+n;e>=r&&t.push(...kC.constructors[r])}return t.map((e=>new e))}}function CC(e,t,n,r,a,s,i,o,l){const u=new vC,c=[new wC,...kC.createCallbacks(t)];null!=e&&c.push(...e),c.push(u);const h=new bC(c);return h.setParams({epochs:n,initialEpoch:r,samples:a,steps:s,batchSize:i,verbose:t,doValidation:o,metrics:l}),{callbackList:h,history:u}}function SC(e,t={},n=!1){return Sx(e,Lm.getMap().classNameMap,t,"layer",n)}function EC(e,t){return jm((()=>{"float32"!==e.dtype&&(e=lm(e,"float32"));const n=ng(vk(e),t,!0),r=qf(n.shape,ux()),a=Hg(lg(n,r));return Pf(e,a)}))}function IC(e,t){return jm((()=>ug(vk(tg(t,e)),-1)))}function TC(e,t){return jm((()=>ug(Xm(tg(t,e)),-1)))}function NC(e,t){return jm((()=>{const n=tg(e,t),r=kf(Xm(e),ux(),Number.MAX_VALUE),a=Xm(Pf(n,r));return eg(100,ug(a,-1))}))}function DC(e,t){return jm((()=>{const n=kf(t,ux(),Number.MAX_VALUE),r=Yf(Ym(1,n)),a=kf(e,ux(),Number.MAX_VALUE),s=Yf(Ym(1,a));return ug(vk(tg(r,s)),-1)}))}function _C(e,t,n=!1){return jm((()=>{if(n)t=Gg(t);else{const e=ng(t,t.shape.length-1,!0);t=Pf(t,e)}return t=kf(t,ux(),1-ux()),Ag(ng(eg(lm(e,"float32"),Yf(t)),t.shape.length-1))}))}function OC(e,t,n=!1){return jm((()=>{const r=lm($f(function(e){const t=[sk(e.shape)];return gf(e,t)}(e)),"int32"),a=(t=kf(t,ux(),1-ux())).shape;return _C(gf(kg(r,a[a.length-1]),a),t,n)}))}function BC(e,t){return jm((()=>{let n;return n=kf(t,ux(),1-ux()),n=Yf(Pf(n,tg(1,n))),ug(function(e,t){if(!vl(e.shape,t.shape))throw new dx(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return jm((()=>{const n=zg(t),r=Ag(Xm(t));return Ym(tg(n,eg(t,e)),Qf(Wf(r)))}))}(e,n),-1)}))}function zC(e,t){return jm((()=>{const n=kf(e,ux(),1),r=kf(t,ux(),1);return ng(eg(e,Yf(Pf(n,r))),-1)}))}function RC(e,t){return jm((()=>{const n=EC(e,-1),r=EC(t,-1),a=eg(n,r);return Ag(ng(a,-1))}))}kC.constructors={};const MC={meanSquaredError:IC,meanAbsoluteError:TC,meanAbsolutePercentageError:NC,meanSquaredLogarithmicError:DC,squaredHinge:function(e,t){return jm((()=>{const n=lg(0,tg(1,eg(e,t)));return ug(vk(n),-1)}))},hinge:function(e,t){return jm((()=>{const n=lg(0,tg(1,eg(e,t)));return ug(n,-1)}))},categoricalHinge:function(e,t){return jm((()=>{const n=ng(eg(e,t),-1),r=Jf(eg(tg(1,e),t),-1);return lg(0,Ym(1,tg(r,n)))}))},logcosh:function(e,t){return jm((()=>{const n=Math.log(2),r=tg(t,e),a=tg(Ym(r,qg(eg(-2,r))),n);return ug(a,-1)}))},categoricalCrossentropy:_C,sparseCategoricalCrossentropy:OC,binaryCrossentropy:BC,kullbackLeiblerDivergence:zC,poisson:function(e,t){return jm((()=>{const n=Yf(Ym(ux(),t));return ug(tg(t,eg(e,n)),-1)}))},cosineProximity:RC};function FC(e){if("string"==typeof e){if(e in MC)return MC[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new dx(t)}return e}function PC(e,t){return jm((()=>{const n=eg(.5,Eg(t)),r=uk(Kf(t,n),e.dtype);return ug(Vf(e,r),-1)}))}function LC(e,t){return jm((()=>uk(Vf(ef(e,-1),ef(t,-1)),"float32")))}function VC(e,t){return jm((()=>lm(ng(ag(Vf(e,1),Vf(t,1))),"float32")))}function WC(e,t){return BC(e,t)}function UC(e,t){return e.rank===t.rank&&(e=Kg(e,[e.rank-1])),(t=ef(t,-1)).dtype!==e.dtype&&(t=lm(t,e.dtype)),lm(Vf(e,t),"float32")}const jC=_C,GC=OC,qC={binaryAccuracy:PC,categoricalAccuracy:LC,precision:function(e,t){return jm((()=>{const n=VC(e,t),r=function(e,t){return jm((()=>lm(ng(ag(Vf(e,0),Vf(t,1))),"float32")))}(e,t),a=Ym(n,r);return lm(ty(Kf(a,0),Pf(n,a),0),"float32")}))},categoricalCrossentropy:jC,sparseCategoricalCrossentropy:GC,mse:IC,MSE:IC,mae:TC,MAE:TC,mape:NC,MAPE:NC,cosine:RC};function $C(e){if("string"==typeof e&&e in qC)return qC[e];if("string"!=typeof e&&null!=e)return e;throw new dx(`Unknown metric ${e}`)}function HC(e){if(gx(null!==e,`Unknown LossOrMetricFn ${e}`),"string"==typeof e)return e;{let t;for(const n of Object.keys(MC))if(MC[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(qC))if(qC[n]===e){t=n;break}return void 0!==t?t:e.name}}function KC(e,t,n=!1){if(null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!ZC(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){JSON.stringify(e).length}}function ZC(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!=typeof n)return!1;if(!ZC(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!ZC(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function XC(e,t,n,r=console.log){const a=function(e){let t=!0;const n=[],r=[];for(const t in e.nodesByDepth)n.push(e.nodesByDepth[t]);for(const e of n){if(e.length>1||1===e.length&&e[0].inboundLayers.length>1){t=!1;break}r.push(...e)}if(t)for(const n of e.layers){let e=!1;for(const a of n.inboundNodes)if(-1!==r.indexOf(a)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),s=["Layer (type)","Input Shape","Output shape","Param #"];let i;if(a?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!a){s.push("Receives inputs"),i=[];for(const t in e.nodesByDepth)i.push(...e.nodesByDepth[t])}r("_".repeat(t)),YC(s,n,r),r("=".repeat(t));const o=e.layers;for(let e=0;e<o.length;++e)a?QC(o[e],n,r):JC(o[e],n,i,r),r((e===o.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;t=null!=e.collectedTrainableWeights?tC(e.collectedTrainableWeights):tC(e.trainableWeights);return t}(e),u=tC(e.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(t))}function YC(e,t,n=console.log){let r="";for(let n=0;n<e.length;++n)n>0&&(r=r.slice(0,r.length-1)+" "),r+=e[n],r=r.slice(0,t[n]),r+=" ".repeat(t[n]-r.length);n(r)}function QC(e,t,n){let r,a;try{a=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(e){a="multiple"}try{r=JSON.stringify(e.outputShape)}catch(e){r="multiple"}YC([`${e.name} (${e.getClassName()})`,a,r,e.countParams().toString()],t,n)}function JC(e,t,n,r){let a,s;try{s=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(e){s="multiple"}try{a=JSON.stringify(e.outputShape)}catch(e){a="multiple"}const i=[];for(const t of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(t)))for(let e=0;e<t.inboundLayers.length;++e){const n=t.inboundLayers[e].name,r=t.nodeIndices[e],a=t.tensorIndices[e];i.push(`${n}[${r}][${a}]`)}const o=e.name,l=e.getClassName(),u=0===i.length?"":i[0];YC([`${o} (${l})`,s,a,e.countParams().toString(),u],t,r);for(let e=1;e<i.length;++e)YC(["","","","",i[e]],t,r)}function eS(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function tS(e,t){if(null===e)return null;if("string"==typeof e)return Ax(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const r=e[a];eS(t,a,r)?n.push(r):n.push(tS(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];if("name"===n&&"string"==typeof r)t[n]=r;else{const e=Ax(n);t[e]=tS(r,e)}}return t}}function nS(e,t){if(null==e)return null;if("string"==typeof e)return vx(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const r=e[a];eS(t,a,r)?n.push(r):n.push(nS(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n],a=vx(n);t[a]="name"!==n&&"className"!==n||"string"!=typeof r?nS(r,n):r}return t}}class rS{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof rS)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new dx(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return lm(t,e.dtype)}catch(n){throw new dx(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof oC){if(null==this.id2Value[e.id])throw new dx(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new dx(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof oC){if(null==this.id2Value[e.id])throw new dx(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new dx(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&Gm(this.id2Mask)}}const aS={},sS={};function iS(e,t,n,r){const a=null!=n&&n.training,s=Array.isArray(e),i=s?e:[e],o=i.map((e=>e.name)),l=[],u=t.names();for(const e of o)-1!==u.indexOf(e)?l.push(t.getValue(e)):l.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const c=o.join(",")+"|"+t.names().join(",");let h,d;if(null==aS[c]){const e=function(e,t){fl(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],r={};if(1===e.length){const a=lS(e[0],t);n=a.sorted,r=a.recipientMap}else{const a=new Set;for(const s of e){const{sorted:e,recipientMap:i}=lS(s,t);for(const t of e)a.has(t.name)||(n.push(t),a.add(t.name));for(const e in i)null==r[e]&&(r[e]=new Set),i[e].forEach((t=>r[e].add(t)))}}return{sorted:n,recipientCounts:oS(r)}}(i,t);h=e.sorted,d=e.recipientCounts,aS[c]=h,sS[c]=d}h=aS[c],d={},a||Object.assign(d,sS[c]);const p=new rS(t);for(let e=0;e<h.length;++e){if(null!=r){const e=Um().numTensors;e>r.maxNumTensors&&(r.maxNumTensors=e),e<r.minNumTensors&&(r.minNumTensors=e)}const s=h[e],i=s.sourceLayer;if(i instanceof pC)continue;const u=[],c=[],m=[];let f=!1;for(const e of s.inputs){const n=p.getValue(e),r=p.getMask(e);u.push(n),c.push(r),null!=r&&(f=!0),a||(d[e.name]--,0!==d[e.name]||t.hasKey(e)||-1!==o.indexOf(e.name)||n.isDisposed||!0===e.sourceLayer.stateful||m.push(n))}f&&((n=n||{}).mask=c[0]);const g=wx(i.apply(u,n));let y=null;i.supportsMasking&&(y=i.computeMask(u,c));const b=uS(s),w=Array.isArray(b)?b:[b];for(let e=0;e<w.length;++e){p.hasKey(w[e])||p.add(w[e],g[e],Array.isArray(y)?y[0]:y);const t=o.indexOf(w[e].name);-1!==t&&(l[t]=g[e])}a||Gm(m)}return p.disposeMasks(),s?l:l[0]}function oS(e){const t={};for(const n in e)t[n]=e[n].size;return t}function lS(e,t){const n=new Set,r=[],a={};for(const e of t.names())n.add(e);const s=[],i=[];for(s.push(e);s.length>0;){const e=s[s.length-1];if(n.has(e.name)){s.pop();continue}const t=i[i.length-1]===s.length-1;if(0===e.inputs.length||t)s.pop(),r.push(e),n.add(e.name),t&&i.pop();else{i.push(s.length-1);for(const t of e.inputs)null==a[t.name]&&(a[t.name]=new Set),a[t.name].add(e.name),n.has(t.name)||s.push(t)}}return{sorted:r,recipientMap:a}}function uS(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}class cS extends hC{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=Xk(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],Ix(this.inputs).length!==this.inputs.length)throw new dx(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map((e=>e.name))}`);Ix(this.outputs).length,this.outputs.length,this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const e of this.outputs){const t=e.sourceLayer,n=e.nodeIndex,r=e.tensorIndex;this.outputLayers.push(t),this.outputLayersNodeIndices.push(n),this.outputLayersTensorIndices.push(r)}for(const e of this.inputs){const t=e.sourceLayer,n=e.nodeIndex,r=e.tensorIndex;gx(0===n,"input layer has >1 nodes"),gx(0===r,"input layer has >1 tensors"),this.inputLayers.push(t),this.inputLayersNodeIndices.push(n),this.inputLayersTensorIndices.push(r)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let t=0;t<this.inputLayers.length;t++){const n=this.inputLayers[t];if(!(n instanceof pC))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${t} (0-based) originates from layer type ${n.getClassName()}.`);this.inputNames.push(n.name),this.feedInputShapes.push(n.batchInputShape),this.feedInputNames.push(n.name)}for(const e of this.outputLayers)this.outputNames.push(e.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},r={},a={},s={},i=[],o=(e,t,n,r,a,l)=>{null!=r&&null!=a&&null!=l||(r=e.sourceLayer,a=e.nodeIndex,l=e.tensorIndex);const u=r.inboundNodes[a];if(-1!==n.indexOf(u))throw new hx(`The tensor ${e.name} at layer "${r.name}" is part of a cycle.`);if(-1!==t.indexOf(u))return;this.containerNodes.add(cS.nodeKey(r,a)),r.id in s||(s[r.id]=Object.keys(s).length),-1===n.indexOf(u)&&n.push(u);const c=u.inboundLayers.length;for(let e=0;e<c;e++){const r=u.inputTensors[e],a=u.inboundLayers[e],s=u.nodeIndices[e],i=u.tensorIndices[e];o(r,t,n,a,s,i)}for(t.push(u);n.indexOf(u)>=0;)n.splice(n.indexOf(u),1);i.push(u)},l=[],u=[];for(const e of this.outputs)o(e,l,u);const c=i.slice().reverse();for(const e of c){n[e.id]=e,e.id in t||(t[e.id]=0);let s=t[e.id];const i=null==r[e.outboundLayer.id]?0:r[e.outboundLayer.id];s=Math.max(s,i),r[e.outboundLayer.id]=s,a[e.outboundLayer.id]=e.outboundLayer,t[e.id]=s;for(let r=0;r<e.inboundLayers.length;r++){const a=e.inboundLayers[r],i=e.nodeIndices[r],o=a.inboundNodes[i],l=null==t[o.id]?0:t[o.id];t[o.id]=Math.max(s+1,l),n[o.id]=o}}const h={};for(const e in t){const r=t[e];r in h||(h[r]=[]),h[r].push(n[e])}const d={};for(const e in r){const t=r[e];t in d||(d[t]=[]),d[t].push(a[e])}let p=Object.keys(d).map((e=>parseInt(e,10))).sort(Ex);this.layers=[];for(const e of p){const t=d[e];t.sort(((e,t)=>{const n=s[e.id],r=s[t.id];return n<r?-1:n>r?1:0}));for(const e of t)e instanceof cS&&this.internalContainerRefs.push(e),this.layers.push(e)}this.layersByDepth=d,p=Object.keys(h).map((e=>parseInt(e,10))).sort(Ex);const m=this.inputs.slice(),f=[];for(const e of p)for(const t of h[e]){const e=t.outboundLayer;if(null!=e){for(const n of t.inputTensors)if(-1===m.indexOf(n))throw new hx(`Graph disconnected: cannot obtain value for tensor ${n} at layer "${e.name}". The following previous layers were accessed without issue: ${f}`);for(const e of t.outputTensors)m.push(e);f.push(e.name)}}this.nodesByDepth=h;const g=this.layers.map((e=>e.name));for(const e of g){const t=g.filter((t=>t===e)).length;if(1!==t)throw new hx(`The name "${e}" is used ${t} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new uC({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new dx("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,t=!0){const n={};let r=0;for(const e of this.layers)for(const t of e.weights){if(null!=n[t.originalName])throw new dx(`Duplicate weight name: ${t.originalName}`);n[t.originalName]=t,r++}const a=[];for(const r in e){let s=r;if(null==n[r]){const e=r.split("/");s=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[s])a.push([n[s],e[r]]);else if(t)throw new dx(`Provided weight data has no target variable: ${r}`);delete n[s]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new dx(`${e.length} of ${r} weights are not set: ${e}`)}sC(a)}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers 3.15.0",t.backend="TensorFlow.js",t}toJSON(e,t=!0){const n=nS(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return jm((()=>{e=wx(e);const n=new rS;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return iS(this.outputs,n,t)}))}computeMask(e,t){return jm((()=>{let n;return e=wx(e),n=null==t?fx(null,e.length):wx(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=Qk(e);if(t.length!==this.inputLayers.length)throw new dx(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let e=0;e<t.length;e++){const r=this.inputLayers[e],a=t[e];n[r.name+"_0_0"]=a}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(Ex);if(r.length>1)for(const e of r){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(t.id))continue;const r=[];for(let t=0;t<e.inboundLayers.length;t++){const a=e.inboundLayers[t],s=e.nodeIndices[t],i=e.tensorIndices[t],o=n[`${a.name}_${s}_${i}`];r.push(o)}const a=Qk(t.computeOutputShape(bx(r))),s=t.inboundNodes.indexOf(e);for(let e=0;e<a.length;e++){n[`${t.name}_${s}_${e}`]=a[e]}}}const a=[],s=[];for(let e=0;e<this.outputLayers.length;e++){const t=this.outputLayers[e],n=this.outputLayersNodeIndices[e],r=this.outputLayersTensorIndices[e],a=`${t.name}_${n}_${r}`;s.push(a)}for(let e=0;e<s.length;e++){const t=s[e];gx(t in n),a.push(n[t])}return bx(a)}runInternalGraph(e,t){null==t&&(t=fx(null,e.length));const n={};for(let r=0;r<this.inputs.length;++r){const a=this.inputs[r],s=e[r],i=t[r];n[a.id]=[s,i]}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(Ex);for(const e of r){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer,r=e.inputTensors,a=e.outputTensors,s=new Array;for(const e of r)e.id in n&&s.push(n[e.id]);if(s.length===r.length){let r,i,o,l,u={};if(null!=e.callArgs&&(u=e.callArgs),1===s.length){const[e,n]=s[0];null==u.mask&&(u.mask=n),o=wx(t.call(e,u)),l=wx(t.computeMask(e,n)),r=[e],i=[n]}else r=s.map((e=>e[0])),i=s.map((e=>e[1])),null==u.mask&&(u.mask=i),o=wx(t.call(r,u)),l=wx(t.computeMask(r,i));if(t.activityRegularizer)throw new px("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<a.length;++e){const t=a[e],r=o[e],s=l[e];n[t.id]=[r,s]}}}}const a=[],s=[],i=[];for(const e of this.outputs){gx(e.id in n,`Could not compute output ${e.name} : ${e.id}`);const[t,r]=n[e.id];i.push(t.shape),a.push(t),s.push(r)}return[a,s,i]}buildNodeConversionMap(e){const t={};let n;for(const e of this.layers){n=e instanceof cS?1:0;for(let r=0;r<e.inboundNodes.length;r++){const a=cS.nodeKey(e,r);this.containerNodes.has(a)&&(t[a]=n,n+=1)}}return t}getLayer(e,t){if(null!=t){if(this.layers.length<=t)throw new dx(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}if(null==e)throw new dx("Provide either a layer name or layer index");for(const t of this.layers)if(t.name===e)return t;throw new dx(`No such layer: ${e}`)}calculateLosses(){return jm((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const r=cS.nodeKey(t,n);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const e of this.layers){const r=e.getClassName(),a=e.getConfig(),s=[];for(let n=0;n<e.inboundNodes.length;n++){const r=e.inboundNodes[n],a=cS.nodeKey(e,n);let i={};if(this.containerNodes.has(a)){if(r.callArgs)try{JSON.stringify(r.callArgs),i=r.callArgs}catch(e){i={}}if(r.inboundLayers.length>0){const e=[];for(let n=0;n<r.inboundLayers.length;n++){const a=r.inboundLayers[n],s=r.nodeIndices[n],o=r.tensorIndices[n];let l=t[cS.nodeKey(a,s)];null==l&&(l=0),e.push([a.name,l,o,i])}s.push(e)}}}const i={};i.name=e.name,i.className=r,i.config=a,i.inboundNodes=s,n.push(i)}e.layers=n;const r=[];for(let e=0;e<this.inputLayers.length;e++){const n=this.inputLayers[e],a=this.inputLayersNodeIndices[e],s=cS.nodeKey(n,a);if(!this.containerNodes.has(s))continue;let i=t[s];null==i&&(i=0);const o=this.inputLayersTensorIndices[e];r.push([n.name,i,o])}e.inputLayers=r;const a=[];for(let e=0;e<this.outputLayers.length;e++){const n=this.outputLayers[e],r=this.outputLayersNodeIndices[e],s=cS.nodeKey(n,r);if(!this.containerNodes.has(s))continue;let i=t[s];null==i&&(i=0);const o=this.outputLayersTensorIndices[e];a.push([n.name,i,o])}return e.outputLayers=a,e}static fromConfig(e,t,n={},r=!1){const a={},s={};function i(e,t){e.name in s?s[e.name].push(t):s[e.name]=[t]}function o(e,t){const n=[];let r;for(const s of t){const o=s[0],l=s[1],u=s[2];if(r=null==s[3]?{}:s[3],!(o in a))return void i(e,t);const c=a[o];if(c.inboundNodes.length<=l)return void i(e,t);const h=c.inboundNodes[l];n.push(h.outputTensors[u])}n.length>0&&e.apply(bx(n),r)}function l(e){const n=e.name,s=SC(e,null!=t.customObjects?t.customObjects:{});s.setFastWeightInitDuringBuild(r),a[n]=s;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new dx(`Corrupted configuration, expected array for nodeData: ${e}`);i(s,e)}))}const u=t.name,c=t.layers;for(const e of c)l(e);for(;!Tx(s);)for(const e of c){const t=a[e.name];if(t.name in s){const e=s[t.name];delete s[t.name];for(const n of e)o(t,n)}}const h=[],d=[],p=t.inputLayers;for(const e of p){const t=e[0],n=e[1],r=e[2];gx(t in a);const s=a[t].inboundNodes[n].outputTensors;h.push(s[r])}const m=t.outputLayers;for(const e of m){const t=e[0],n=e[1],r=e[2];gx(t in a);const s=a[t].inboundNodes[n].outputTensors;d.push(s[r])}return new e({inputs:h,outputs:d,name:u})}get stateful(){if(this._stateful)throw new dx("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){jm((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function hS(e,t,n){const r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function dS(e,t){return hS(e,t,"classWeight")}async function pS(e,t,n,r){if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=jm((()=>{if(1===e.shape.length)return um(e);if(2===e.shape.length){if(e.shape[1]>1){return ef(e,1)}if(1===e.shape[1])return gf(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)})),r=Array.from(await t.data());Gm(t);const a=[];return r.forEach((e=>{if(null==n[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);a.push(n[e])})),Yg(a,"float32")}return null}function mS(e,t){return eg(e,t)}function fS(e,t){let n,r;const a=t;n=a.xs,r=a.ys,fl(null!=n&&null!=r,(()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`));const s=gS("input",e.inputNames,n),i=gS("output",e.outputNames,r),o=s[0].shape[0];fl(s.length===e.inputs.length,(()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${s.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`)),fl(i.length===e.outputs.length,(()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${i.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`));for(let t=0;t<s.length;t++)fl(s[t].shape[0]===o,(()=>`Batch size mismatch: input ${e.inputNames[t]} has ${s[t].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`));for(let t=0;t<i.length;t++)fl(i[t].shape[0]===o,(()=>`Batch size mismatch: output ${e.outputNames[t]} has ${i[t].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`));return{xs:s,ys:i}}function gS(e,t,n){if(n instanceof qd)return[n];if(Array.isArray(n))return fl(n.length===t.length,(()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`)),n;{const r=[];for(const a of t){if(null==n[a])throw new dx(`The feature data generated by the dataset lacks the required ${e} key '${a}'.`);r.push(n[a])}return r}}async function yS(e,t,n){const r=null!=n.batchesPerEpoch;if(fl(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),fl(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),fl(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`)),fl(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`)),fl(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const a=null!=n.validationData;let s,i;if(a)if(bS(n.validationData))fl(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`));else{const e=function(e){if(3===e.length)throw new px("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);s=e.xs,i=e.ys}const o=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let u;u=a?l.slice().concat(l.map((e=>"val_"+e))):l.slice();const c=xC(n.callbacks,n.yieldEvery),h=null==n.verbose?1:n.verbose,{callbackList:d,history:p}=CC(c,h,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,a,u);d.setModel(e),e.history=p,await d.onTrainBegin(),e.stopTraining_=!1;let m=null==n.initialEpoch?0:n.initialEpoch,f=await t.iterator();for(;m<n.epochs;){const u={};await d.onEpochBegin(m);let c=0,h=0;for(r||(f=await t.iterator());!r||c<n.batchesPerEpoch;){const t=await f.next();if(r&&t.done)break;if(null!=t.value){const{xs:r,ys:a}=fS(e,t.value),s={};s.batch=h,s.size=r[0].shape[0],await d.onBatchBegin(h,s);const i=[];if(null!=n.classWeight){const t=dS(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)i.push(await pS(a[e],null,t[e]))}const u=r.concat(a).concat(i),p=o(u);Gm(u);for(let e=0;e<l.length;++e){const t=l[e],n=p[e];s[t]=n,qm(n)}await d.onBatchEnd(h,s),fC(s),h++,c++}if(r?c>=n.batchesPerEpoch:t.done){if(a){let t;t=bS(n.validationData)?wx(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):wx(e.evaluate(s,i,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)u[`val_${e.metricsNames[n]}`]=t[n]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(m,u),m++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function bS(e){return"function"==typeof e.iterator}function wS(e){fl(e>0&&Number.isInteger(e),(()=>`batchSize is required to be a positive integer, but got ${e}`))}function vS(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>hk(e,t,n-t))):hk(e,t,n-t)}function AS(e,t){return jm((()=>null==e?null:Array.isArray(e)?e.map((e=>AS(e,t))):wk(e,"int32"===t.dtype?t:lm(t,"int32"))))}function xS(e,t){const n=[];let r=0,a=null;for(;r<e;)a=r+t,a>=e&&(a=e),n.push([r,a]),r=a;return n}async function kS(e,t,n,r={}){if(e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let a,s,i,o,l,u,c,h,d;e.isTraining=!0;try{const p=null==r.batchSize?32:r.batchSize;wS(p);const m=!1,f=await e.standardizeUserData(t,n,r.sampleWeight,r.classWeight,m,p);a=f[0],s=f[1],d=f[2];let g,y=!1;if(null!=r.validationData&&r.validationData.length>0){if(y=!0,2!==r.validationData.length)throw 3===r.validationData.length?new px("validationData including sample weights is not supported yet."):new dx(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);l=r.validationData[0],u=r.validationData[1];const t=!0,n=await e.standardizeUserData(l,u,null,null,t,p);c=n[0],h=n[1],g=c.concat(h)}else if(null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1){y=!0;const e=Math.floor(a[0].shape[0]*(1-r.validationSplit)),t=a[0].shape[0];c=vS(a,e,t),i=a,a=vS(a,0,e),h=vS(s,e,t),o=s,s=vS(s,0,e),g=c.concat(h)}else null!=r.validationSteps&&(y=!0);const b=a.concat(s).concat(d);e.checkTrainableWeightsConsistency();const w=e.makeTrainFunction(),v=e.getDedupedMetricsNames();let A,x;y?(e.makeTestFunction(),A=e.testFunction,x=v.slice().concat(v.map((e=>"val_"+e)))):(A=null,g=[],x=v.slice());const k=xC(r.callbacks,r.yieldEvery),C=await async function(e,t,n,r,a,s,i,o,l,u,c,h,d,p,m){null==a&&(a=32),null==s&&(s=1),null==c&&(c=!0),null==d&&(d=0);let f=!1;if(null!=l&&null!=u&&(f=!0),null!=m&&(f=!0,null==p))throw new dx("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const g=e.checkNumSamples(n,a,p,"steps_per_epoch");let y;null!=g&&(y=lk(0,g)),null==i&&(i=1);const{callbackList:b,history:w}=CC(o,i,s,d,g,p,a,f,h);b.setModel(e),e.history=w,await b.onTrainBegin(),e.stopTraining_=!1;for(let i=d;i<s;++i){await b.onEpochBegin(i);const s={};if(null!=p)throw new px("stepsPerEpoch mode is not implemented yet.");{if("batch"===c)throw new px("batch shuffling is not implemneted yet");c&&hl(y);const i=Yg(y),o=xS(g,a);for(let c=0;c<o.length;++c){const h={};if(await b.onBatchBegin(c,h),jm((()=>{const d=o[c][0],p=o[c][1],m=hk(i,d,p-d);h.batch=c,h.size=p-d;const g=AS(n,m),y=t(g);for(let e=0;e<r.length;++e){const t=r[e],n=y[e];h[t]=n,qm(n)}if(c===o.length-1&&f){const t=e.testLoop(l,u,a);for(let e=0;e<r.length;++e){const n=r[e],a=t[e];qm(a),s["val_"+n]=a}}})),await b.onBatchEnd(c,h),fC(h),e.stopTraining_)break}i.dispose()}if(await b.onEpochEnd(i,s),e.stopTraining_)break}return await b.onTrainEnd(),await e.history.syncData(),e.history}(e,w,b,v,p,r.epochs,r.verbose,k,A,g,r.shuffle,x,r.initialEpoch,null,null);return C}finally{e.isTraining=!1,SS(a,t),SS(s,n),SS(i,t),SS(o,n),SS(c,l),SS(h,u),null!=d&&Gm(d)}}function CS(e){const t=[];e instanceof qd&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(1===r.rank)t.push(ck(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function SS(e,t){if(null==e)return;const n=[];if(t instanceof qd)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const e in t){const r=t[e];n.push(r.id)}const r=[];if(e instanceof qd)-1===n.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&r.push(e)}));else if(null!=e)for(const t in e){const a=e[t];-1===n.indexOf(a.id)&&r.push(a)}r.forEach((e=>{e.isDisposed||e.dispose()}))}function ES(e){return Array.isArray(e)}function IS(e){return!function(e){return e instanceof qd}(e)&&!ES(e)}function TS(e,t,n,r=!0,a=""){if(null==t||0===t.length){if(null!=e){let t=!1;if(ES(e)&&e.length>0)t=!0;else if(IS(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new dx(`Error when checking model ${a} expected no data, but got ${e}`)}return[]}if(null==e)return t.map((e=>null));let s;if(IS(e)){s=[];for(const n of t){if(null==e[n])throw new dx(`No data provided for "${n}". Need data for each key in: ${t}`);s.push(e[n])}}else if(ES(e)){if(e.length!==t.length)throw new dx(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);s=e}else{if(t.length>1)throw new dx(`The model ${a} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);s=[e]}if(s=CS(s),null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const i=s[e];if(i.shape.length!==n[e].length)throw new dx(`Error when checking ${a}: expected ${t[e]} to have ${n[e].length} dimension(s). but got array with shape ${i.shape}`);for(let t=0;t<n[e].length;++t){if(0===t&&!r)continue;const s=i.shape[t],o=n[e][t];if(null!=o&&o>=0&&s!==o)throw new dx(`${a} expected a batch of elements where each example has shape [${n[e].slice(1,n[e].length)}] (i.e.,tensor shape [*,${n[e].slice(1,n[e].length)}]) but the ${a} received an input with ${i.shape[0]} examples, each with shape [${i.shape.slice(1,i.shape.length)}] (tensor shape [${i.shape}])`)}}return s}function NS(e,t,n,r=!0,a=""){let s;if(Array.isArray(e)){if(e.length!==t.length)throw new dx(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);s=e}else{if(t.length>1)throw new dx(`The model expects ${t.length} ${a} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);s=[e]}if(null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const i=s[e];if(i.shape.length!==n[e].length)throw new dx(`Error when checking ${a}: expected ${t[e]} to have ${n[e].length} dimension(s), but got array with shape ${JSON.stringify(i.shape)}`);for(let s=0;s<n[e].length;++s){if(0===s&&!r)continue;const o=i.shape[s],l=n[e][s];if(null!=l&&l!==o)throw new dx(`Error when checking ${a}: expected ${t[e]} to have shape ${JSON.stringify(n[e])} but got array with shape ${JSON.stringify(i.shape)}.`)}}}class DS extends cS{constructor(e){super(e),this.isTraining=!1}summary(e,t,n=console.log){if(!this.built)throw new dx("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");XC(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>xb.adagrad(.01),Adadelta:()=>xb.adadelta(1,.95,ux()),Adam:()=>xb.adam(.001,.9,.999,ux()),Adamax:()=>xb.adamax(.002,.9,.999,ux(),0),RMSProp:()=>xb.rmsprop(.001,.9,0,ux()),SGD:()=>xb.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new dx(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Zm))throw new dx("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new dx(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);const n=e.loss;t=n.map((e=>FC(e)))}else{const n=FC(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new dx(`Unknown entry in loss dictionary: "${t}". Only expected the following keys: ${this.outputNames}`);for(const n of this.outputNames)e.loss[n],t.push(FC(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let e=0;e<this.outputs.length;++e){const t=this.internalOutputShapes[e],n=this.outputNames[e];this.feedOutputNames.push(n),this.feedOutputShapes.push(t),this.feedLossFns.push(this.lossFunctions[e])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],ek("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const r=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const r of t){let t=n.hasOwnProperty(r)?n[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),a=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};ek("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,r,s;for(const i of t){if("string"==typeof i&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(i)){const t=this.internalOutputShapes[e];let a;1===t[t.length-1]||this.lossFunctions[e]===BC?-1!==["accuracy","acc"].indexOf(i)?r=PC:-1!==["crossentropy","ce"].indexOf(i)&&(r=WC):this.lossFunctions[e]===OC?-1!==["accuracy","acc"].indexOf(i)?r=UC:-1!==["crossentropy","ce"].indexOf(i)&&(r=GC):-1!==["accuracy","acc"].indexOf(i)?r=LC:-1!==["crossentropy","ce"].indexOf(i)&&(r=jC),-1!==["accuracy","acc"].indexOf(i)?a="acc":-1!==["crossentropy","ce"].indexOf(i)&&(a="ce"),s=r,n=""+a}else{const e=$C(i);s=e,n=""+HC(i)}let t;ek(n,(()=>{t=s})),a(e,n,t)}})(r[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&(this.trainableWeights.length,this.collectedTrainableWeights.length)}evaluate(e,t,n={}){const r=null==n.batchSize?32:n.batchSize;wS(r);const a=this.standardizeUserDataXY(e,t,!0,r);try{const s=a[0].concat(a[1]);this.makeTestFunction();const i=this.testFunction;return bx(this.testLoop(i,s,r,n.verbose,n.steps))}finally{SS(a[0],e),SS(a[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const r=null!=(n=n||{}).batches,a=e.testFunction;let s=[];if(n.verbose>0)throw new px("Verbose mode is not implemented yet.");fl(!r||n.batches>0&&Number.isInteger(n.batches),(()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`));const i="function"==typeof t.next?t:await t.iterator();let o=0,l=0;for(;!r||l<n.batches;){const t=await i.next();if(s=jm((()=>{if(t.value){const{xs:n,ys:r}=fS(e,t.value),i=n.concat(r),u=jm((()=>a(i)));if(Gm(i),0===l)for(let e=0;e<u.length;++e)s.push(Km(0));const c=i[0].shape[0];for(let e=0;e<u.length;++e){const t=u[e],n=s[e];s[e]=jm((()=>Ym(s[e],eg(c,t)))),l>0&&Gm(n)}Gm(u),o+=c,++l}return s})),t.done)break}for(let e=0;e<s.length;++e){const t=s[e];s[e]=Pf(s[e],o),Gm(t)}return bx(s)}(this,e,t)}checkNumSamples(e,t,n,r="steps"){let a;if(null!=n){if(a=null,null!=t)throw new dx(`If ${r} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else{if(null==e)throw new dx(`Either the input data should have a defined shape, or ${r} shoud be specified.`);a=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return a}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new dx("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),s=new rS;if(e instanceof qd&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new dx(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)s.add(this.inputs[t],e[t])}else for(const t of this.inputs){const n=e[t.name];if(null==n)throw new dx(`No value is provided for the model's input ${t.name}`);s.add(t,n)}const i=iS(a,s);return n?i:i[0]}retrieveSymbolicTensors(e){const t=fx(null,e.length);let n=e.length;for(const r of this.layers){const a=Array.isArray(r.output)?r.output:[r.output],s=a.map((e=>e.name));for(let r=0;r<e.length;++r){const i=s.indexOf(e[r]);if(-1!==i&&(t[r]=a[i],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,r)=>{null==t&&n.push(e[r])})),new dx(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(n)}`)}return t}predictLoop(e,t=32,n=!1){return jm((()=>{const r=this.checkNumSamples(e);if(n)throw new px("Verbose predictLoop() is not implemented yet.");const a=xS(r,t),s=this.outputs.map((e=>[]));for(let t=0;t<a.length;++t){jm((()=>{const n=a[t][0],r=a[t][1],s=vS(e,n,r),i=[];if(Array.isArray(s))for(let e=0;e<s.length;++e)i.push({key:this.inputs[e],value:s[e]});else i.push({key:this.inputs[0],value:s});const o=new rS(i);return iS(this.outputs,o)})).forEach(((e,t)=>s[t].push(e)))}return bx(s.map((e=>Cf(e,0))))}))}predict(e,t={}){const n=CS(e);NS(n,this.inputNames,this.feedInputShapes,!1);try{const r=null==t.batchSize?32:t.batchSize;return wS(r),this.predictLoop(n,r)}finally{SS(n,e)}}predictOnBatch(e){NS(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t,n=!0,r){if(null==this.optimizer_)throw new hx("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const a=[];for(let e=0;e<this.feedOutputShapes.length;++e){const t=this.feedOutputShapes[e];this.feedLossFns[e]===OC?a.push(t.slice(0,t.length-1).concat([1])):a.push(t)}if(function(e,t,n){const r=Ix(e.map((e=>e.shape[0])));r.sort();const a=Ix(t.map((e=>e.shape[0])));if(a.sort(),r.length>1)throw new dx(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map((e=>e.shape)))}`);if(a.length>1)throw new dx(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map((e=>e.shape)))}`);if(r.length>0&&a.length>0&&!vl(r,a))throw new dx(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${a[0]} target sample(s).`)}(e=TS(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=TS(t,this.feedOutputNames,a,!1,"target")),function(e,t,n){const r=[IC,BC,_C];for(let a=0;a<e.length;++a){const s=e[a],i=t[a],o=n[a];if(null!=i){if(i===_C&&1===s.shape[s.shape.length-1])throw new dx(`You are passing a target array of shape ${s.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==r.indexOf(i)){const e=s.shape.slice(1),t=o.slice(1);for(let n=0;n<e.length;++n){const r=e[n],a=t[n];if(null!=a&&r!==a)throw new dx(`A target Tensor with shape ${s.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!=0)throw new dx(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${r}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,r,a=!0,s){const[i,o]=this.standardizeUserDataXY(e,t,a,s);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=r){const e=dS(r,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await pS(o[t],null,e[t]))}return[i,o,l]}testLoop(e,t,n,r=0,a){return jm((()=>{const s=this.checkNumSamples(t,n,a,"steps"),i=[];if(r>0)throw new px("Verbose mode is not implemented yet.");if(null!=a)throw new px("steps mode in testLoop() is not implemented yet");{const r=xS(s,n),a=Yg(lk(0,s));for(let n=0;n<r.length;++n){const s=r[n][0],o=r[n][1],l=hk(a,s,o-s),u=AS(t,l),c=e(u);if(0===n)for(let e=0;e<c.length;++e)i.push(Km(0));for(let e=0;e<c.length;++e){const t=c[e];i[e]=Ym(i[e],eg(o-s,t))}}for(let e=0;e<i.length;++e)i[e]=Pf(i[e],s)}return i}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const r=e[n];let a=r;if(yx(e,r)>1){a+=`_${yx(e.slice(0,n),r)}`}t.push(a)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),s=[],i=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const i=new rS(e),o=iS(this.outputs,i,{training:!0});let l;for(let e=0;e<this.lossFunctions.length;++e){let n=(0,this.lossFunctions[e])(r[e],o[e]);null!=a[e]&&(n=mS(n,a[e]));const s=ug(n);t.push(s),l=0===e?n:Ym(l,n)}for(let e=0;e<this.metricsTensors.length;++e){let n;if(this.outputs.length>1&&e<this.outputs.length)n=t[e];else{const t=this.metricsTensors[e][0],a=this.metricsTensors[e][1];n=ug(t(r[a],o[a]))}qm(n),s.push(n)}return l=ug(l),this.calculateLosses().forEach((e=>{l=Ym(l,e)})),l}),!0,i)].concat(s)}}makeTestFunction(){this.testFunction=e=>jm((()=>{const t=[];let n;const r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=[];for(let e=0;e<this.inputs.length;++e)s.push({key:this.inputs[e],value:r[e]});const i=new rS(s),o=iS(this.outputs,i);for(let e=0;e<this.lossFunctions.length;++e){const r=this.lossFunctions[e],s=ug(r(a[e],o[e]));n=0===e?s:Ym(n,s),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],r=this.metricsTensors[e][1],s=ug(n(a[r],o[r]));t.push(s)}return t}))}async fit(e,t,n={}){return kS(this,e,t,n)}async fitDataset(e,t){return yS(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),r=n[0],a=n[1],s=this.makeTrainFunction()(r.concat(a)),i=[];for(const e of s){const t=await e.data();i.push(t[0])}return Gm(s),SS(n[0],e),SS(n[1],t),bx(i)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n);for(let e=0;e<r.length;++e)n&&!r[e].trainable||t.push({name:r[e].originalName,tensor:a[e]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=Um().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-Um().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=vx(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!=typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>vx(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const r of t){if("string"!=typeof n[r])throw new Error("Serialization of non-string loss is not supported.");e[r]=vx(n[r])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[vx(HC(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>vx(HC(e))));{const e={};for(const t in this.metrics)e[t]=vx(HC(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=SC(tS(e.optimizer_config));let n,r;if("string"==typeof e.loss)n=Ax(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>Ax(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=Ax(e.loss[t])}if(Array.isArray(e.metrics))r=e.metrics.map((e=>Ax(e)));else if(null!=e.metrics){r={};for(const t in e.metrics)r[t]=Ax(e.metrics[t])}this.compile({loss:n,metrics:r,optimizer:t})}async save(e,t){if("string"==typeof e){const t=(n=e,Bp.getSaveHandlers(n));if(0===t.length)throw new dx(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new dx(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}var n;if(null==e.save)throw new dx("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await Sp(this.getNamedWeights(t)),a={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v3.15.0",convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){a.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:n}=await Sp(await this.optimizer.getWeights(),e);r.specs.push(...n),r.data=Np([r.data,t])}if(null!=this.userDefinedMetadata){const e=!0;KC(this.userDefinedMetadata,this.name,e),a.userDefinedMetadata=this.userDefinedMetadata}return a.weightData=r.data,a.weightSpecs=r.specs,e.save(a)}setUserDefinedMetadata(e){KC(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}DS.className="Model",Vm(DS);class _S extends DS{}_S.className="Functional",Vm(_S);class OS extends DS{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:Xk("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new dx(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof OS||e instanceof DS;let n;if(t){if(n=e,1!==n.outputs.length)throw new dx("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new dx("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new dx("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new dx("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new pC({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new dx(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new dx("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=dC(this.outputs[0])}this.inboundNodes=[],new uC({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:fx(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(eC(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new DS({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t,n=console.log){this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t,n={}){if(!this.built)throw new hx("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new hx("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e,t={}){return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t,n={}){if(!this.built)throw new hx("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new hx("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t,n={},r=!1){let a,s={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new dx("Legacy serialization format not supported yet.");a=t}else fl(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),a=t.layers,delete t.layers,s=t;const i=new e(s);if(!(i instanceof OS))throw new px(`Sequential.fromConfig called on non-Sequential input: ${i}`);for(const e of a){const t=SC(e,void 0,r);r&&t.setFastWeightInitDuringBuild(!0),i.add(t)}return i}set stopTraining(e){if(null==this.model)throw new dx("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new dx("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}OS.className="Sequential",Vm(OS);class BS extends Pm{getConfig(){return{}}}class zS extends BS{apply(e,t=1){return function(e,t=1){if(1!==t)throw new px(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return Lf(e)}(e,t)}}zS.className="elu",Vm(zS);class RS extends BS{apply(e){return Mg(e)}}RS.className="selu",Vm(RS);class MS extends BS{apply(e){return zg(e)}}MS.className="relu",Vm(MS);class FS extends BS{apply(e){return jm((()=>cg(6,zg(e))))}}FS.className="relu6",Vm(FS);class PS extends BS{apply(e){return e}}PS.className="linear",Vm(PS);class LS extends BS{apply(e){return Pg(e)}}LS.className="sigmoid",Vm(LS);class VS extends BS{apply(e){return function(e){return jm((()=>{const t=Ym(.5,eg(.2,e));return kf(t,0,1)}))}(e)}}VS.className="hardSigmoid",Vm(VS);class WS extends BS{apply(e){return qg(e)}}WS.className="softplus",Vm(WS);class US extends BS{apply(e){return function(e){return jm((()=>Pf(e,Ym(Xm(e),1))))}(e)}}US.className="softsign",Vm(US);class jS extends BS{apply(e){return Xg(e)}}jS.className="tanh",Vm(jS);class GS extends BS{apply(e,t=-1){return Gg(e,t)}}GS.className="softmax",Vm(GS);class qS extends BS{apply(e,t=-1){return rg(e,t)}}qS.className="logSoftmax",Vm(qS);class $S extends BS{apply(e,t=1){return jm((()=>eg(Pg(eg(e,t)),e)))}}$S.className="swish",Vm($S);class HS extends BS{apply(e){return jm((()=>eg(e,Xg(qg(e)))))}}function KS(e){return e.getClassName()}function ZS(e,t={}){return Sx(e,Lm.getMap().classNameMap,t,"activation")}function XS(e){if(null==e){const e={className:"linear",config:{}};return ZS(e)}if("string"==typeof e){const t={};return t.className=e,t.config={},ZS(t)}return e instanceof BS?e:ZS(e)}function YS(e){if(null!=e&&"object"!=typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}HS.className="mish",Vm(HS);class QS extends Pm{}class JS extends QS{constructor(e){super(),YS(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return jm((()=>{let t=Cg([1]);return this.hasL1&&(t=Ym(t,ng(eg(this.l1,Xm(e))))),this.hasL2&&(t=Ym(t,ng(eg(this.l2,vk(e))))),gf(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}JS.className="L1L2",Vm(JS);const eE={l1l2:"L1L2"};function tE(e){return kx(e)}function nE(e,t={}){return Sx(e,Lm.getMap().classNameMap,t,"regularizer")}function rE(e){if(null==e)return null;if("string"==typeof e){return nE({className:e in eE?eE[e]:e,config:{}})}return e instanceof QS?e:nE(e)}class aE extends hC{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=Jk(e);let n=zg(e);return null!=this.maxValue&&(n=kf(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}aE.className="ReLU",Vm(aE);class sE extends hC{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Jk(e);return Xf(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}sE.className="LeakyReLU",Vm(sE);class iE extends hC{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=$k(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=rE(e.alphaRegularizer),this.alphaConstraint=jx(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new dx(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=eC(e)).slice(1);if(null!=this.sharedAxes)for(const e of this.sharedAxes)t[e-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let t=1;t<e.length;++t)n[t]=e[t];this.inputSpec=[new iC({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=Jk(e),Tg(e,this.alpha.read())}getConfig(){const e={alphaInitializer:qk(this.alphaInitializer),alphaRegularizer:tE(this.alphaRegularizer),alphaConstraint:Wx(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}iE.className="PReLU",Vm(iE);class oE extends hC{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new px(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Jk(e);return Lf(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}oE.className="ELU",Vm(oE);class lE extends hC{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=Jk(e);return eg(n,lm(Kf(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}lE.className="ThresholdedReLU",Vm(lE);class uE extends hC{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new GS).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){const n=Jk(e);return this.softmax(n,this.axis)}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function cE(e,t,n){if("number"==typeof e)return fx(e,t);if(e.length!==t)throw new dx(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let a=0;a<t;++a){const s=e[a];if((r=s)!==parseInt(r.toString(),10))throw new dx(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${s}`)}return e;var r}function hE(e,t,n,r,a=1){if(null==e)return e;let s;return s="same"===n?e:e-(t+(t-1)*(a-1))+1,Math.floor((s+r-1)/r)}function dE(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+ok([n-t,0]);else{if("same"!==r)throw new dx(`Unsupport padding mode: ${r}.`);e*=t}return e}function pE(e,t){return jm((()=>(Xx(t),"channelsFirst"===t?ry(e,[0,2,3,1]):e)))}function mE(e,t){return jm((()=>(Xx(t),"channelsFirst"===t?ry(e,[0,2,3,4,1]):e)))}function fE(e,t,n,r=1,a="valid",s,i=1){return jm((()=>{if(null==s&&(s="channelsLast"),Xx(s),3!==e.shape.length)throw new dx(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new dx(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new dx(`The bias for a conv1dWithBias operation should be 1, but is ${t.shape.length} instead`);if("channelsFirst"===s&&(e=ry(e,[0,2,1])),"causal"===a)throw new px("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=Df(e,t,r,"same"===a?"same":"valid","NWC",i);return null!=n&&(o=xk(o,n)),o}))}function gE(e,t,n,r=[1,1],a="valid",s,i,o=null){return jm((()=>{if(null==s&&(s="channelsLast"),Xx(s),3!==e.rank&&4!==e.rank)throw new dx(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new dx(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=pE(e,s);if("causal"===a)throw new px("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=by({x:l,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:i,dataFormat:"NHWC",bias:n,activation:o}),"channelsFirst"===s&&(l=ry(l,[0,3,1,2])),l}))}function yE(e,t,n,r=[1,1,1],a="valid",s,i){return jm((()=>{if(null==s&&(s="channelsLast"),Xx(s),4!==e.rank&&5!==e.rank)throw new dx(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new dx(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let o=mE(e,s);if("causal"===a)throw new px("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=Bf(o,t,r,"same"===a?"same":"valid","NDHWC",i),null!=n&&(o=xk(o,n)),"channelsFirst"===s&&(o=ry(o,[0,4,1,2,3])),o}))}uE.className="Softmax",Vm(uE);class bE extends hC{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",bE.verifyArgs(t),this.rank=e,_x(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new px(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=cE(t.kernelSize,e,"kernelSize"),this.strides=cE(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,Yx(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Xx(this.dataFormat),this.activation=XS(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=$k(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=jx(t.biasConstraint),this.biasRegularizer=rE(t.biasRegularizer),this.activityRegularizer=rE(t.activityRegularizer),this.dilationRate=cE(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new dx(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new dx(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new dx(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(gx("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!Dx(e.kernelSize,"number",1,3))throw new dx(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:KS(this.activation),useBias:this.useBias,biasInitializer:qk(this.biasInitializer),biasRegularizer:tE(this.biasRegularizer),activityRegularizer:tE(this.activityRegularizer),biasConstraint:Wx(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class wE extends bE{constructor(e,t){super(e,t),this.kernel=null,wE.verifyArgs(t),this.filters=t.filters,_x(this.filters,"filters"),this.kernelInitializer=$k(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=jx(t.kernelConstraint),this.kernelRegularizer=rE(t.kernelRegularizer)}build(e){e=eC(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new dx(`The channel dimension of the input should be defined. Found ${e[t]}`);const n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return jm((()=>{let t;e=Jk(e);const n=null==this.bias?null:this.bias.read(),r=Bx(this.activation.getClassName());if(null!=r&&2===this.rank)t=gE(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=fE(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=gE(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new px("convolutions greater than 3D are not implemented yet.");t=yE(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=eC(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let e=0;e<n.length;++e){const r=hE(n[e],this.kernelSize[e],this.padding,this.strides[e],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[e]);t.push(r)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t),r.push(this.filters)):(r.push(this.filters),r=r.concat(t)),r}getConfig(){const e={filters:this.filters,kernelInitializer:qk(this.kernelInitializer),kernelRegularizer:tE(this.kernelRegularizer),kernelConstraint:Wx(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new dx(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class vE extends wE{constructor(e){super(2,e),vE.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!Dx(e.kernelSize,"number",1,2))throw new dx(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}vE.className="Conv2D",Vm(vE);class AE extends wE{constructor(e){super(3,e),AE.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new dx(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}AE.className="Conv3D",Vm(AE);class xE extends vE{constructor(e){if(super(e),this.inputSpec=[new iC({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new dx(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=eC(e)).length)throw new dx("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new dx("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new iC({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return jm((()=>{let t=Jk(e);if(4!==t.shape.length)throw new dx(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let a,s;"channelsFirst"===this.dataFormat?(a=2,s=3):(a=1,s=2);const i=n[a],o=n[s],l=this.kernelSize[0],u=this.kernelSize[1],c=this.strides[0],h=this.strides[1],d=[r,dE(i,c,l,this.padding),dE(o,h,u,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=ry(t,[0,2,3,1]));let p=Of(t,this.kernel.read(),d,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(p=ry(p,[0,3,1,2])),null!=this.bias&&(p=xk(p,this.bias.read(),this.dataFormat)),null!=this.activation&&(p=this.activation.apply(p)),p}))}computeOutputShape(e){const t=(e=eC(e)).slice();let n,r,a;"channelsFirst"===this.dataFormat?(n=1,r=2,a=3):(n=3,r=1,a=2);const s=this.kernelSize[0],i=this.kernelSize[1],o=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[r]=dE(t[r],o,s,this.padding),t[a]=dE(t[a],l,i,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}xE.className="Conv2DTranspose",Vm(xE);class kE extends AE{constructor(e){if(super(e),this.inputSpec=[new iC({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new dx(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=eC(e)).length)throw new dx("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new dx("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new iC({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return jm((()=>{let t=Jk(e);if(5!==t.shape.length)throw new dx(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let a,s,i;"channelsFirst"===this.dataFormat?(i=2,a=3,s=4):(i=1,a=2,s=3);const o=n[i],l=n[a],u=n[s],c=this.kernelSize[0],h=this.kernelSize[1],d=this.kernelSize[2],p=this.strides[0],m=this.strides[1],f=this.strides[2],g=[r,dE(o,p,c,this.padding),dE(l,m,h,this.padding),dE(u,f,d,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=ry(t,[0,2,3,4,1]));let y=Rf(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(y=ry(y,[0,4,1,2,3])),null!==this.bias&&(y=xk(y,this.bias.read(),this.dataFormat)),null!==this.activation&&(y=this.activation.apply(y)),y}))}computeOutputShape(e){const t=(e=eC(e)).slice();let n,r,a,s;"channelsFirst"===this.dataFormat?(n=1,r=2,a=3,s=4):(n=4,r=1,a=2,s=3);const i=this.kernelSize[0],o=this.kernelSize[1],l=this.kernelSize[2],u=this.strides[0],c=this.strides[1],h=this.strides[2];return t[n]=this.filters,t[r]=dE(t[r],u,i,this.padding),t[a]=dE(t[a],c,o,this.padding),t[s]=dE(t[s],h,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}kE.className="Conv3DTranspose",Vm(kE);class CE extends wE{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new dx("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new dx("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new dx(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=$k(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=rE(t.depthwiseRegularizer),this.depthwiseConstraint=jx(t.depthwiseConstraint),this.pointwiseInitializer=$k(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=rE(t.pointwiseRegularizer),this.pointwiseConstraint=jx(t.pointwiseConstraint)}build(e){if((e=eC(e)).length<this.rank+2)throw new dx(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new dx(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);const n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[];for(let e=0;e<this.rank;++e)a.push(1);a.push(n*this.depthMultiplier,this.filters);const s=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,s,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,s,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,s,this.biasConstraint):this.bias=null,this.inputSpec=[new iC({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return jm((()=>{let t;if(e=Jk(e),1===this.rank)throw new px("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=ry(e,[0,2,3,1])),t=Fg(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=xk(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=ry(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=qk(this.depthwiseInitializer),e.pointwiseInitializer=qk(this.pointwiseInitializer),e.depthwiseRegularizer=tE(this.depthwiseRegularizer),e.pointwiseRegularizer=tE(this.pointwiseRegularizer),e.depthwiseConstraint=Wx(this.depthwiseConstraint),e.pointwiseConstraint=Wx(this.pointwiseConstraint),e}}CE.className="SeparableConv";class SE extends CE{constructor(e){super(2,e)}}SE.className="SeparableConv2D",Vm(SE);class EE extends wE{constructor(e){super(1,e),EE.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!Dx(e.kernelSize,"number",1,1))throw new dx(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}EE.className="Conv1D",Vm(EE);class IE extends hC{constructor(e){super(e),"number"==typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return jm((()=>{if(e=Jk(e),"channelsLast"===this.dataFormat){const t=pk(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return pk(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=pk(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return pk(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}IE.className="Cropping2D",Vm(IE);class TE extends hC{constructor(e){var t;super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Xx(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,t=this.interpolation,Nx(qx,"InterpolationFormat",t)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return jm((()=>{let t=Jk(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=ry(t,[0,2,3,1]);const e=this.size[0]*n[2],r=this.size[1]*n[3],a="nearest"===this.interpolation?db.resizeNearestNeighbor(t,[e,r]):db.resizeBilinear(t,[e,r]);return ry(a,[0,3,1,2])}{const e=this.size[0]*n[1],r=this.size[1]*n[2];return"nearest"===this.interpolation?db.resizeNearestNeighbor(t,[e,r]):db.resizeBilinear(t,[e,r])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}TE.className="UpSampling2D",Vm(TE);class NE extends bE{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=$k(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=jx(e.depthwiseConstraint),this.depthwiseRegularizer=rE(e.depthwiseRegularizer)}build(e){if((e=eC(e)).length<4)throw new dx(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new dx(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);const n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return jm((()=>{let t=function(e,t,n=[1,1],r="valid",a,s){return jm((()=>{null==a&&(a="channelsLast"),Xx(a);let i=pE(e,a);if(4!==e.rank)throw new dx(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new dx(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return i=Mf(i,t,n,"same"===r?"same":"valid","NHWC",s),"channelsFirst"===a&&(i=ry(i,[0,3,1,2])),i}))}(e=Jk(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=xk(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=eC(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=hE(t,this.kernelSize[0],this.padding,this.strides[0]),s=hE(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,s]:[e[0],a,s,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=qk(this.depthwiseInitializer),e.depthwiseRegularizer=tE(this.depthwiseRegularizer),e.depthwiseConstraint=Wx(this.depthwiseRegularizer),e}}function DE(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new dx("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function _E(e,t,n,r=!1,a,s,i=!1,o=!1){return jm((()=>{const i=t.shape.length;if(i<3)throw new dx(`Input should be at least 3D, but is ${i}D.`);const l=[1,0].concat(lk(2,i));if(t=ry(t,l),null!=s)throw new px("The rnn() functoin of the deeplearn.js backend does not support constants yet.");null!=a&&((a=lm(lm(a,"bool"),"float32")).rank===i-1&&(a=Uf(a,-1)),a=ry(a,l)),r&&(t=Rg(t,0),null!=a&&(a=Rg(a,0)));const u=[];let c,h=n;const d=t.shape[0],p=Jg(t);let m,f;null!=a&&(m=Jg(a));for(let t=0;t<d;++t){const n=p[t],r=jm((()=>e(n,h)));if(null==a)c=r[0],h=r[1];else{const e=jm((()=>{const e=m[t],n=tg(Eg(e),e);return{output:Ym(eg(r[0],e),eg(h[0],n)),newStates:h.map(((t,a)=>Ym(eg(r[1][a],e),eg(t,n))))}}));c=e.output,h=e.newStates}o&&u.push(c)}if(o){f=Zg(u,1)}return[c,f,h]}))}NE.className="DepthwiseConv2D",Vm(NE);class OE extends hC{constructor(e){let t;if(super(e),null==e.cell)throw new dx("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new VE({cells:e.cell}):e.cell,null==t.stateSize)throw new dx("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new iC({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return lk(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){Yk(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let r;if(r=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const r of t)n.push([e[0],r]);return[r].concat(n)}return r}computeMask(e,t){return jm((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new px("Constants support is not implemented in RNN yet.");Yk(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new iC({shape:[t,null,...n]});const r=[e[0]].concat(e.slice(2));let a;if(this.cell.build(r),a=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!vl(this.stateSpec.map((e=>e.shape[e.shape.length-1])),a))throw new dx(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=a.map((e=>new iC({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e,t=!1){jm((()=>{if(!this.stateful)throw new cx("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new dx("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>Cg([n,e]))):this.states_=[Cg([n,this.cell.stateSize])];else if(null==e)Gm(this.states_),null!=this.keptStates&&(Gm(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>Cg([n,e]))):this.states_[0]=Cg([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new dx(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):Gm(this.states_);for(let t=0;t<this.states_.length;++t){const r=e[t],a=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,s=[n,a];if(!vl(r.shape,s))throw new dx(`State ${t} is incompatible with layer ${this.name}: expected shape=${s}, received shape=${r.shape}`);this.states_[t]=r}}this.states_=this.states_.map((e=>qm(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const a=DE(e,n,r,this.numConstants);e=a.inputs,n=a.initialState,r=a.constants;let s=[],i=[];if(null!=n){t.initialState=n,s=s.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new iC({shape:e.shape}));i=i.concat(this.stateSpec)}null!=r&&(t.constants=r,s=s.concat(r),this.numConstants=r.length);if(s[0]instanceof oC){const n=[e].concat(s),r=this.inputSpec.concat(i),a=this.inputSpec;this.inputSpec=r;const o=super.apply(n,t);return this.inputSpec=a,o}return super.apply(e,t)}call(e,t){return jm((()=>{const n=null==t?null:t.mask,r=null==t?null:t.training;let a=null==t?null:t.initialState;e=Jk(e),null==a&&(a=this.stateful?this.states_:this.getInitialState(e));const s=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(a.length!==s)throw new dx(`RNN Layer has ${s} state(s) but was passed ${a.length} initial state(s).`);this.unroll;const i={training:r},o=_E(((e,t)=>{const n=this.cell.call([e].concat(t),i);return[n[0],n.slice(1)]}),e,a,this.goBackwards,n,null,this.unroll,this.returnSequences),l=o[0],u=o[1],c=o[2];this.stateful&&this.resetStates(c,r);const h=this.returnSequences?u:l;return this.returnState?[h].concat(c):h}))}getInitialState(e){return jm((()=>{let t=Cg(e.shape);return t=ng(t,[1,2]),t=ck(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?gk(t,[1,e]):t)):this.cell.stateSize>1?[gk(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===OE.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign({},n,e,t)}static fromConfig(e,t,n={}){const r=SC(t.cell,n);return new e(Object.assign(t,{cell:r}))}}OE.className="RNN",Vm(OE);class BE extends hC{}class zE extends BE{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,_x(this.units,"units"),this.activation=XS(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=$k(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=$k(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=$k(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=rE(e.kernelRegularizer),this.recurrentRegularizer=rE(e.recurrentRegularizer),this.biasRegularizer=rE(e.biasRegularizer),this.kernelConstraint=jx(e.kernelConstraint),this.recurrentConstraint=jx(e.recurrentConstraint),this.biasConstraint=jx(e.biasConstraint),this.dropout=ik([1,ok([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=ik([1,ok([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=eC(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return jm((()=>{if(2!==e.length)throw new dx(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const r=null!=t.training&&t.training;let a;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=WE({ones:()=>Eg(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=WE({ones:()=>Eg(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,i=this.recurrentDropoutMask;a=bk(null!=s?eg(e,s):e,this.kernel.read()),null!=this.bias&&(a=xk(a,this.bias.read())),null!=i&&(n=eg(n,i));let o=Ym(a,bk(n,this.recurrentKernel.read()));return null!=this.activation&&(o=this.activation.apply(o)),[o,o]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:KS(this.activation),useBias:this.useBias,kernelInitializer:qk(this.kernelInitializer),recurrentInitializer:qk(this.recurrentInitializer),biasInitializer:qk(this.biasInitializer),kernelRegularizer:tE(this.kernelRegularizer),recurrentRegularizer:tE(this.recurrentRegularizer),biasRegularizer:tE(this.biasRegularizer),activityRegularizer:tE(this.activityRegularizer),kernelConstraint:Wx(this.kernelConstraint),recurrentConstraint:Wx(this.recurrentConstraint),biasConstraint:Wx(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,t)}}zE.className="SimpleRNNCell",Vm(zE);class RE extends OE{constructor(e){e.cell=new zE(e),super(e)}call(e,t){return jm((()=>{null!=this.cell.dropoutMask&&(Gm(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Gm(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}static fromConfig(e,t){return new e(t)}}RE.className="SimpleRNN",Vm(RE);class ME extends BE{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new dx("GRUCell does not support reset_after parameter set to true.");this.units=e.units,_x(this.units,"units"),this.activation=XS(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=XS(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=$k(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=$k(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=$k(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=rE(e.kernelRegularizer),this.recurrentRegularizer=rE(e.recurrentRegularizer),this.biasRegularizer=rE(e.biasRegularizer),this.kernelConstraint=jx(e.kernelConstraint),this.recurrentConstraint=jx(e.recurrentConstraint),this.biasConstraint=jx(e.biasConstraint),this.dropout=ik([1,ok([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=ik([1,ok([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=eC(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return jm((()=>{if(2!==e.length)throw new dx(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const n=null!=t.training&&t.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=WE({ones:()=>Eg(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=WE({ones:()=>Eg(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,s=this.recurrentDropoutMask;let i,o,l;0<this.dropout&&this.dropout<1&&(e=eg(e,a[0]));let u=bk(e,this.kernel.read());this.useBias&&(u=xk(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=eg(r,s[0]));const c=this.recurrentKernel.read(),[h,d]=$g(c,[2*this.units,this.units],c.rank-1),p=bk(r,h),[m,f,g]=$g(u,3,u.rank-1),[y,b]=$g(p,2,p.rank-1);i=this.recurrentActivation.apply(Ym(m,y)),o=this.recurrentActivation.apply(Ym(f,b));const w=bk(eg(o,r),d);l=this.activation.apply(Ym(g,w));const v=Ym(eg(i,r),eg(Ym(1,Ag(i)),l));return[v,v]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:KS(this.activation),recurrentActivation:KS(this.recurrentActivation),useBias:this.useBias,kernelInitializer:qk(this.kernelInitializer),recurrentInitializer:qk(this.recurrentInitializer),biasInitializer:qk(this.biasInitializer),kernelRegularizer:tE(this.kernelRegularizer),recurrentRegularizer:tE(this.recurrentRegularizer),biasRegularizer:tE(this.biasRegularizer),activityRegularizer:tE(this.activityRegularizer),kernelConstraint:Wx(this.kernelConstraint),recurrentConstraint:Wx(this.recurrentConstraint),biasConstraint:Wx(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,t)}}ME.className="GRUCell",Vm(ME);class FE extends OE{constructor(e){e.implementation,e.cell=new ME(e),super(e)}call(e,t){return jm((()=>{null!=this.cell.dropoutMask&&(Gm(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Gm(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}FE.className="GRU",Vm(FE);class PE extends BE{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,_x(this.units,"units"),this.activation=XS(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=XS(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=$k(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=$k(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=$k(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=rE(e.kernelRegularizer),this.recurrentRegularizer=rE(e.recurrentRegularizer),this.biasRegularizer=rE(e.biasRegularizer),this.kernelConstraint=jx(e.kernelConstraint),this.recurrentConstraint=jx(e.recurrentConstraint),this.biasConstraint=jx(e.biasConstraint),this.dropout=ik([1,ok([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=ik([1,ok([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=eC(e))[e.length-1];let r;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;r=new((t=class extends Ik{apply(t,r){const a=e.apply([n]),s=(new Nk).apply([n]),i=e.apply([2*n]);return fk(fk(a,s),i)}}).className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return jm((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new dx(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1];const a=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=WE({ones:()=>Eg(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=WE({ones:()=>Eg(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,i=this.recurrentDropoutMask;let o,l,u,c;0<this.dropout&&this.dropout<1&&(e=eg(e,s[0]));let h=bk(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=eg(r,i[0])),h=Ym(h,bk(r,this.recurrentKernel.read())),this.useBias&&(h=xk(h,this.bias.read()));const[d,p,m,f]=$g(h,4,h.rank-1);o=this.recurrentActivation.apply(d),l=this.recurrentActivation.apply(p),u=Ym(eg(l,a),eg(o,this.activation.apply(m))),c=this.recurrentActivation.apply(f);const g=eg(c,this.activation.apply(u));return[g,g,u]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:KS(this.activation),recurrentActivation:KS(this.recurrentActivation),useBias:this.useBias,kernelInitializer:qk(this.kernelInitializer),recurrentInitializer:qk(this.recurrentInitializer),biasInitializer:qk(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:tE(this.kernelRegularizer),recurrentRegularizer:tE(this.recurrentRegularizer),biasRegularizer:tE(this.biasRegularizer),activityRegularizer:tE(this.activityRegularizer),kernelConstraint:Wx(this.kernelConstraint),recurrentConstraint:Wx(this.recurrentConstraint),biasConstraint:Wx(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,t)}}PE.className="LSTMCell",Vm(PE);class LE extends OE{constructor(e){e.implementation,e.cell=new PE(e),super(e)}call(e,t){return jm((()=>{null!=this.cell.dropoutMask&&(Gm(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Gm(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}LE.className="LSTM",Vm(LE);class VE extends BE{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return jm((()=>{let n=e.slice(1);const r=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?r.push(n.splice(0,e.stateSize.length)):r.push(n.splice(0,1));r.reverse();const a=[];let s;for(let i=0;i<this.cells.length;++i){const o=this.cells[i];n=r[i],s=0===i?[e[0]].concat(n):[s[0]].concat(n),s=o.call(s,t),a.push(s.slice(1))}n=[];for(const e of a.slice().reverse())n.push(...e);return[s[0]].concat(n)}))}build(e){let t;Yk(e)&&(e=e[0]),this.cells.forEach(((n,r)=>{ek(`RNNCell_${r}`,(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign({},e,t)}static fromConfig(e,t,n={}){const r=[];for(const e of t.cells)r.push(SC(e,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return aC(e)}setWeights(e){const t=[];for(const n of this.cells){const r=n.weights.length,a=e.splice(r);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],a[e]])}sC(t)}}function WE(e){const{ones:t,rate:n,training:r=!1,count:a=1,dropoutFunc:s}=e,i=()=>null!=s?s(t(),n):kk(t(),n),o=()=>Ck(i,t,r);if(!a||a<=1)return qm(o().clone());return Array(a).fill(void 0).map(o).map((e=>qm(e.clone())))}VE.className="StackedRNNCells",Vm(VE);var UE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class jE extends OE{constructor(e){if(e.unroll)throw new px("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new px("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new iC({ndim:5})]}call(e,t){return jm((()=>{if(null!=this.cell.dropoutMask&&(Gm(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Gm(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new dx("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return jm((()=>{const{stateSize:t}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),a=Cg([r[0],...r.slice(2)]);return Array.isArray(t)?Array(t.length).fill(a):[a]}))}resetStates(e,t=!1){jm((()=>{if(!this.stateful)throw new cx("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),a=[r[0],...r.slice(2)];if(null==n[0])throw new dx("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>Cg(a))):this.states_=[Cg(a)];else if(null==e)Gm(this.states_),null!=this.keptStates&&(Gm(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>Cg(a))):this.states_[0]=Cg(a);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new dx(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):Gm(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],r=a;if(!vl(n.shape,r))throw new dx(`State ${t} is incompatible with layer ${this.name}: expected shape=${r}, received shape=${n.shape}`);this.states_[t]=n}}this.states_=this.states_.map((e=>qm(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:r,padding:a,strides:s,dilationRate:i}=this.cell,o="channelsFirst"===t,l=e[o?3:2],u=e[o?4:3],c=hE(l,r[0],a,s[0],i[0]),h=hE(u,r[1],a,s[1],i[1]);return[...e.slice(0,2),...o?[n,c,h]:[c,h,n]]}}jE.className="ConvRNN2D";class GE extends PE{constructor(e){const{filters:t,kernelSize:n,strides:r,padding:a,dataFormat:s,dilationRate:i}=e;super(Object.assign({},e,{units:t})),this.filters=t,_x(this.filters,"filters"),this.kernelSize=cE(n,2,"kernelSize"),this.kernelSize.forEach((e=>_x(e,"kernelSize"))),this.strides=cE(r||1,2,"strides"),this.strides.forEach((e=>_x(e,"strides"))),this.padding=a||"valid",Yx(this.padding),this.dataFormat=s||"channelsLast",Xx(this.dataFormat),this.dilationRate=cE(i||1,2,"dilationRate"),this.dilationRate.forEach((e=>_x(e,"dilationRate")))}build(e){var t;e=eC(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new dx(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const s=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",s,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,r=this.filters;e=new(t=class extends Ik{apply(e,t){return mk([n.apply([r]),Sg([r]),n.apply([2*r])])}},t.className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return jm((()=>{if(3!==e.length)throw new dx(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const n=t.training||!1,r=e[0],a=e[1],s=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=WE({ones:()=>Eg(r),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,o=(e,t,n)=>t&&t[n]?eg(t[n],e):e;let l=o(r,i,0),u=o(r,i,1),c=o(r,i,2),h=o(r,i,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=WE({ones:()=>Eg(a),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const d=this.recurrentDropoutMask;let p=o(a,d,0),m=o(a,d,1),f=o(a,d,2),g=o(a,d,3);const[y,b,w,v]=$g(this.kernel.read(),4,3),[A,x,k,C]=this.useBias?$g(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,y,A,this.padding),u=this.inputConv(u,b,x,this.padding),c=this.inputConv(c,w,k,this.padding),h=this.inputConv(h,v,C,this.padding);const[S,E,I,T]=$g(this.recurrentKernel.read(),4,3);p=this.recurrentConv(p,S),m=this.recurrentConv(m,E),f=this.recurrentConv(f,I),g=this.recurrentConv(g,T);const N=this.recurrentActivation.apply(Ym(l,p)),D=this.recurrentActivation.apply(Ym(u,m)),_=Ym(eg(D,s),eg(N,this.activation.apply(Ym(c,f)))),O=eg(this.recurrentActivation.apply(Ym(h,g)),this.activation.apply(_));return[O,O,_]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=UE(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},n,r)}inputConv(e,t,n,r){const a=Nf(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?xk(a,n,this.dataFormat):a}recurrentConv(e,t){return Nf(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}GE.className="ConvLSTM2DCell",Vm(GE);class qE extends jE{constructor(e){const t=new GE(e);super(Object.assign({},e,{cell:t}))}static fromConfig(e,t){return new e(t)}}qE.className="ConvLSTM2D",Vm(qE);class $E extends hC{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let e=0;e<this.noiseShape.length;++e)n.push(null==this.noiseShape[e]?t[e]:this.noiseShape[e]);return n}call(e,t){return jm((()=>{this.invokeCallHook(e,t);const n=Jk(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,r=this.getNoiseShape(n);return Ck((()=>kk(n,this.rate,r,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}$E.className="Dropout",Vm($E);class HE extends $E{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}HE.className="SpatialDropout1D",Vm(HE);class KE extends hC{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,_x(this.units,"units"),this.activation=XS(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=$k(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=$k(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=jx(e.kernelConstraint),this.biasConstraint=jx(e.biasConstraint),this.kernelRegularizer=rE(e.kernelRegularizer),this.biasRegularizer=rE(e.biasRegularizer),this.activityRegularizer=rE(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=eC(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=eC(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return jm((()=>{this.invokeCallHook(e,t);const n=Jk(e),r=Bx(this.activation.getClassName());let a;return null!=r?a=bk(n,this.kernel.read(),r,this.bias?this.bias.read():null):(a=bk(n,this.kernel.read()),null!=this.bias&&(a=xk(a,this.bias.read())),null!=this.activation&&(a=this.activation.apply(a))),a}))}getConfig(){const e={units:this.units,activation:KS(this.activation),useBias:this.useBias,kernelInitializer:qk(this.kernelInitializer),biasInitializer:qk(this.biasInitializer),kernelRegularizer:tE(this.kernelRegularizer),biasRegularizer:tE(this.biasRegularizer),activityRegularizer:tE(this.activityRegularizer),kernelConstraint:Wx(this.kernelConstraint),biasConstraint:Wx(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}KE.className="Dense",Vm(KE);class ZE extends hC{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=eC(e);for(const t of e.slice(1))if(null==t)throw new dx(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],sk(e,1)]}call(e,t){return jm((()=>{this.invokeCallHook(e,t);let n=Jk(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=ry(n,e)}return function(e){if(e.rank<=1)throw new dx(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],sk(e.shape,1)];return gf(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}ZE.className="Flatten",Vm(ZE);class XE extends hC{constructor(e){super(e),this.supportsMasking=!0,this.activation=XS(e.activation)}call(e,t){return jm((()=>{this.invokeCallHook(e,t);const n=Jk(e);return this.activation.apply(n)}))}getConfig(){const e={activation:KS(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}XE.className="Activation",Vm(XE);class YE extends hC{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return jm((()=>{return e=Jk(e),t=e,n=this.n,jm((()=>{if(2!==t.shape.length)throw new dx(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);return gk(ck(t,1),[1,n,1])}));var t,n}))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}YE.className="RepeatVector",Vm(YE);class QE extends hC{constructor(e){super(e),this.targetShape=e.targetShape;for(let e=0;e<this.targetShape.length;++e)this.isUnknown(this.targetShape[e])&&(this.targetShape[e]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",r=t.slice();let a=1,s=null;for(let e=0;e<r.length;++e){const t=r[e];if(this.isUnknown(t)){if(null!==s)throw new dx("Can only specifiy one unknown dimension.");s=e}else a*=t}const i=sk(e);if(null!==s){if(0===a||i%a!=0)throw new dx(n);r[s]=i/a}else if(i!==a)throw new dx(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return jm((()=>{this.invokeCallHook(e,t);const n=Jk(e),r=n.shape,a=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return gf(n,a)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}QE.className="Reshape",Vm(QE);class JE extends hC{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const t=lk(1,e.dims.length+1);if(!vl(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new iC({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=eC(e)).slice();return this.dims.forEach(((n,r)=>{t[r+1]=e[n]})),t}call(e,t){return ry(Jk(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}JE.className="Permute",Vm(JE);class eI extends hC{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=Jk(e);return Jm(xg(n,this.maskValue),-1)}call(e,t){return jm((()=>{this.invokeCallHook(e,t);const n=Jk(e),r=Jm(xg(n,this.maskValue),-1,!0);return eg(n,lm(r,n.dtype))}))}}eI.className="Masking",Vm(eI);class tI extends hC{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(wx(e.inputLength))}this.inputDim=e.inputDim,_x(this.inputDim,"inputDim"),this.outputDim=e.outputDim,_x(this.outputDim,"outputDim"),this.embeddingsInitializer=$k(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=rE(e.embeddingsRegularizer),this.activityRegularizer=rE(e.activityRegularizer),this.embeddingsConstraint=jx(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return jm((()=>this.maskZero?(e=Jk(e),xg(e,ny(e))):null))}computeOutputShape(e){if(e=eC(e),null==this.inputLength)return[...e,this.outputDim];const t=wx(this.inputLength);if(t.length!==e.length-1)throw new dx(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let r=0;r<t.length;++r){const a=t[r],s=e[r+1];if(null!=a&&null!=s&&a!==s)throw new dx(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==a&&(t[n]=s),n++}}return[e[0],...t,this.outputDim]}call(e,t){return jm((()=>{this.invokeCallHook(e,t);let n=Jk(e);"int32"!==n.dtype&&(n=uk(n,"int32"));const r=wk(this.embeddings.read(),gf(n,[n.size]));return gf(r,eC(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:qk(this.embeddingsInitializer),embeddingsRegularizer:tE(this.embeddingsRegularizer),activityRegularizer:tE(this.activityRegularizer),embeddingsConstraint:Wx(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}tI.className="Embedding",Vm(tI);class nI extends hC{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new px}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){const a=e[e.length-t.length+r],s=t[r];if(null==a||null==s||a<0||s<0)n.push(null);else if(1===a)n.push(s);else if(1===s)n.push(a);else{if(a!==s)throw new dx("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[eC(e)]),e.length<2)throw new dx(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(const n of e)null!=n&&null!==n[0]&&t.push(n[0]);if(t=Ix(t),t.length>1)throw new dx(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=null==e[0]?null:e[0].slice(1);for(let t=1;t<e.length;++t){const r=null==e[t]?null:e[t].slice(1);n=this.computeElementwiseOpOutputShape(n,r)}const r=e.map((e=>e.length));-1===e.indexOf(null)&&1===Ix(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return jm((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const r=ok(n);for(let n of e){const e=n.rank;for(let t=0;t<r-e;++t)n=ck(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const r of e){const e=r.rank;if(null==e){const e=r.shape,a=e[0],s=e.slice(1).concat([a]);let i=gf(r,[a].concat(sk(e.slice(1))));i=ry(i,[1,0]),i=gf(i,s),t.push(i),n=!0}else if(e>1){const a=lk(1,e).concat([0]);t.push(ry(r,a)),n=!0}else t.push(r)}let r=this.mergeFunction(t);const a=r.rank;if(n)if(null==a){const e=r.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));r=gf(ry(gf(r,[-1,t]),[1,0]),n)}else if(a>1){const e=[a-1].concat(lk(0,a-1));r=ry(r,e)}return r}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let n=1;n<e.length;++n){const r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}let n=[];for(const t of e)null!=t&&null!==t[0]&&n.push(t[0]);return n=Ix(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return jm((()=>{if(null==t)return null;if(!Array.isArray(t))throw new dx("`mask` should be an Array");if(!Array.isArray(e))throw new dx("`inputs` should be an Array");if(t.length!==e.length)throw new dx(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every((e=>null==e)))return null;let n=(t=t.map((e=>null==e?e:Uf(e,0))))[0];for(let e=1;e<t.length-1;++e)n=ag(n,t[e]);return n}))}}class rI extends nI{constructor(e){super(e)}mergeFunction(e){return jm((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Ym(t,e[n]);return t}))}}rI.className="Add",Vm(rI);class aI extends nI{constructor(e){super(e)}mergeFunction(e){return jm((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=eg(t,e[n]);return t}))}}aI.className="Multiply",Vm(aI);class sI extends nI{constructor(e){super(e)}mergeFunction(e){return jm((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Ym(t,e[n]);return eg(1/e.length,t)}))}}sI.className="Average",Vm(sI);class iI extends nI{constructor(e){super(e)}mergeFunction(e){return jm((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=lg(t,e[n]);return t}))}}iI.className="Maximum",Vm(iI);class oI extends nI{constructor(e){super(e)}mergeFunction(e){return jm((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=cg(t,e[n]);return t}))}}oI.className="Minimum",Vm(oI);class lI extends nI{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new dx("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const n of e)if(null!=n){t=!1;break}if(t)return;const n=[];for(let t=0;t<e.length;++t){const r=e[t].slice();r.splice(this.axis,1);let a=!1;for(const e of n)if(vl(e,r)){a=!0;break}a||n.push(r)}if(n.length>1)throw new dx("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return jm((()=>mk(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new dx("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const e of t.slice(1)){if(null==n[r]||null==e[r]){n[r]=null;break}n[r]+=e[r]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new dx("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new dx("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new dx(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return jm((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const r=[];for(let n=0;n<e.length;++n)null==t[n]?r.push(lm(Eg(e[n]),"bool")):t[n].rank<e[n].rank?r.push(Uf(t[n],-1)):r.push(t[n]);const a=Cf(r,this.axis);return Qm(a,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function uI(e,t){for(;e<0;)e+=t;return e}lI.className="Concatenate",Vm(lI);class cI extends nI{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){fl(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new px("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new dx(`Dimension incompatibility: ${t[r[0]]} !== ${n[r[1]]}`)}mergeFunction(e){if(2!==e.length)throw new dx(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>uI(t,e[n].shape.length))):[uI(this.axes,n.shape.length),uI(this.axes,r.shape.length)],this.normalize&&(n=EC(n,t[0]),r=EC(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new px("batchDot is not implemented for tensors of 4D or higher rank yet");if(fl(e.shape.length>=2,(()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`)),fl(e.shape.length>=2,(()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`)),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new px("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);const s=n;return jm((()=>{let n,i;if(r>a){n=r-a;const e=[];for(let t=0;t<n;++t)e.push(1);t=gf(t,t.shape.concat(e))}else if(a>r){n=a-r;const t=[];for(let e=0;e<n;++e)t.push(1);e=gf(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)i=s[0]===s[1]?ng(eg(e,t),s[0]):ng(eg(ry(e,[1,0]),t),s[1]);else{const n=s[0]!==e.shape.length-1,r=s[1]===t.shape.length-1;i=sg(e,t,n,r)}if(n>0){let e;e=r>a?r+a-3:r-1;const t=[];for(let r=e;r<e+n;++r)t.push(r);i=Kg(i,t)}return 1===i.shape.length&&(i=Uf(i,1)),i}))}(n,r,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[uI(this.axes,e.length),uI(this.axes,t.length)],n}computeOutputShape(e){fl(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new px("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const a=t.concat(n);return 1===a.length&&a.push(1),a}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}cI.className="Dot",Vm(cI);class hI extends hC{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return jm((()=>{this.invokeCallHook(e,t);const n=Jk(e);return Ck((()=>Ym(yk(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}hI.className="GaussianNoise",Vm(hI);class dI extends hC{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return jm((()=>{this.invokeCallHook(e,t);const n=Jk(e);if(this.rate>0&&this.rate<1){return Ck((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return eg(n,yk(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}dI.className="GaussianDropout",Vm(dI);class pI extends hC{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Jk(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return jm((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),r=()=>{const t=Jk(e),r=-1.7580993408473766;let a=Zf(Bg(n),this.rate);a=uk(a,"float32");const s=((1-this.rate)*(1+this.rate*r**2))**-.5,i=-s*r*this.rate,o=Ym(eg(t,a),eg(Ym(a,-1),r));return Ym(eg(o,s),i)};return Ck(r,(()=>Jk(e)),t.training||!1)}return e}))}}function mI(e,t,n,r,a,s=.001){let i;if(2===e.rank)i=vf(e,t,n,r,a,s);else if(3===e.rank)i=Af(e,t,n,r,a,s);else{if(4!==e.rank)throw new px(`batchNormalization is not implemented for array of rank ${e.rank} yet`);i=xf(e,t,n,r,a,s)}return i}function fI(e,t,n,r,a=.001){return vl(r.slice().sort(),lk(0,e.rank-1))?function(e,t,n,r,a=.001){return jm((()=>{const s=vg(e,r),i=s.mean,o=s.variance;return[mI(e,i,o,n,t,a),i,o]}))}(e,t,n,r,a):function(e,t,n,r,a=.001){return jm((()=>{const s=vg(e,r),i=s.mean,o=s.variance,l=[];for(const t of lk(0,e.rank))-1!==r.indexOf(t)?l.push(1):l.push(e.shape[t]);const u=gf(i,l),c=gf(o,l),h=null==t?null:gf(t,l),d=null==n?null:gf(n,l);return[mI(e,u,c,d,h,a),i,o]}))}(e,t,n,r,a)}pI.className="AlphaDropout",Vm(pI);class gI extends hC{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=$k(e.betaInitializer||"zeros"),this.gammaInitializer=$k(e.gammaInitializer||"ones"),this.movingMeanInitializer=$k(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=$k(e.movingVarianceInitializer||"ones"),this.betaConstraint=jx(e.betaConstraint),this.gammaConstraint=jx(e.gammaConstraint),this.betaRegularizer=rE(e.betaRegularizer),this.gammaRegularizer=rE(e.gammaRegularizer)}build(e){e=eC(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new dx(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new iC({ndim:e.length,axes:{[t]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return jm((()=>{const n=null!=t.training&&t.training,r=Jk(e),a=r.shape,s=a.length,i=lk(0,s),o=this.axis>=0?this.axis:this.axis+s;i.splice(o,1);const l=fx(1,s);l[o]=a[o];const u=i.slice();u.sort();const c=!vl(u,lk(0,s).slice(0,s-1));if(!n)return(()=>{if(c){const e=gf(this.movingMean.read(),l),t=gf(this.movingVariance.read(),l),n=this.center?gf(this.beta.read(),l):null,a=this.scale?gf(this.gamma.read(),l):null;return mI(r,e,t,n,a,this.epsilon)}return mI(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[h,d,p]=fI(r,this.gamma.read(),this.beta.read(),i,this.epsilon),m=(e,t,n)=>{jm((()=>{const r=1-n,a=e.read(),s=eg(tg(a,t),r);e.write(tg(a,s))}))};return(()=>{m(this.movingMean,d,this.momentum),m(this.movingVariance,p,this.momentum)})(),h}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:qk(this.betaInitializer),gammaInitializer:qk(this.gammaInitializer),movingMeanInitializer:qk(this.movingMeanInitializer),movingVarianceInitializer:qk(this.movingVarianceInitializer),betaRegularizer:tE(this.betaRegularizer),gammaRegularizer:tE(this.gammaRegularizer),betaConstraint:Wx(this.betaConstraint),gammaConstraint:Wx(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}gI.className="BatchNormalization",Vm(gI);class yI extends hC{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=$k(e.betaInitializer||"zeros"),this.gammaInitializer=$k(e.gammaInitializer||"ones"),this.betaRegularizer=rE(e.betaRegularizer),this.gammaRegularizer=rE(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=eC(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let e=0;e<this.axis.length;++e)this.axis[e]<0&&(this.axis[e]+=t);for(const e of this.axis)if(e<0||e>=t)throw new Error(`Invalid axis: ${e}`);if(this.axis.length!==Ix(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map((t=>e[t]));this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}call(e,t){const n=Jk(e),r=n.shape,a=r.length;return jm((()=>{let{mean:e,variance:t}=vg(n,this.axis,!0);const s=fx(1,a);for(const e of this.axis)s[e]=r[e];const i=e=>null!=e&&e.shape.length!==a?gf(e,s):e;let o=i(this.gamma.read()),l=i(this.beta.read());const u=[],c=[];for(let e=0;e<a;++e)-1!==this.axis.indexOf(e)?(u.push(r[e]),c.push(1)):(u.push(1),c.push(r[e]));return e=jf(e,u),t=jf(t,u),o=jf(o,c),l=jf(l,c),mI(n,e,t,l,o,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:qk(this.betaInitializer),gammaInitializer:qk(this.gammaInitializer),betaRegularizer:tE(this.betaRegularizer),gammaRegularizer:tE(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}yI.className="LayerNormalization",Vm(yI);class bI extends hC{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new dx(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,n;if("number"==typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new dx(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new dx(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new iC({ndim:4})]}computeOutputShape(e){let t,n;return e=eC(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return jm((()=>{return t=Jk(e),n=this.padding,r=this.dataFormat,jm((()=>{if(4!==t.rank)throw new dx(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(null==n&&(n=[[1,1],[1,1]]),2!==n.length||2!==n[0].length||2!==n[1].length)throw new dx("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==r&&(r="channelsLast"),"channelsLast"!==r&&"channelsFirst"!==r)throw new dx(`Unknown data format: ${r}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let e;return e="channelsFirst"===r?[[0,0],[0,0],n[0],n[1]]:[[0,0],n[0],n[1],[0,0]],Ig(t,e)}));var t,n,r}))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function wI(e,t,n,r,a,s){return jm((()=>{let i;Xx(a),Qx(s),Yx(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==s&&(s="max"),e=pE(e,a);const o="same"===r?"same":"valid";return i="max"===s?ig(e,t,n,o):yf(e,t,n,o),"channelsFirst"===a&&(i=ry(i,[0,3,1,2])),i}))}function vI(e,t,n,r,a,s){return jm((()=>{let i;Xx(a),Qx(s),Yx(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==s&&(s="max"),e=mE(e,a);const o="same"===r?"same":"valid";return i="max"===s?og(e,t,n,o):bf(e,t,n,o),"channelsFirst"===a&&(i=ry(i,[0,4,1,2,3])),i}))}bI.className="ZeroPadding2D",Vm(bI);class AI extends hC{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"==typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new dx(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(_x(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"==typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new dx(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);this.strides=e.strides}_x(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,Yx(this.padding),this.inputSpec=[new iC({ndim:3})]}computeOutputShape(e){const t=hE((e=eC(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return jm((()=>{this.invokeCallHook(e,t),e=ck(Jk(e),2);const n=this.poolingFunction(Jk(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Kg(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class xI extends AI{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Xx(a),Yx(r),wI(e,t,n,r,a,"max")}}xI.className="MaxPooling1D",Vm(xI);class kI extends AI{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Xx(a),Yx(r),wI(e,t,n,r,a,"avg")}}kI.className="AveragePooling1D",Vm(kI);class CI extends hC{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new dx(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];_x(this.poolSize,"poolSize"),_x(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Xx(this.dataFormat),Yx(this.padding),this.inputSpec=[new iC({ndim:4})]}computeOutputShape(e){e=eC(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=hE(t,this.poolSize[0],this.padding,this.strides[0]),n=hE(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return jm((()=>(this.invokeCallHook(e,t),this.poolingFunction(Jk(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class SI extends CI{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Xx(a),Yx(r),wI(e,t,n,r,a,"max")}}SI.className="MaxPooling2D",Vm(SI);class EI extends CI{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Xx(a),Yx(r),wI(e,t,n,r,a,"avg")}}EI.className="AveragePooling2D",Vm(EI);class II extends hC{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new dx(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];_x(this.poolSize,"poolSize"),_x(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Xx(this.dataFormat),Yx(this.padding),this.inputSpec=[new iC({ndim:5})]}computeOutputShape(e){e=eC(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=hE(t,this.poolSize[0],this.padding,this.strides[0]),n=hE(n,this.poolSize[1],this.padding,this.strides[1]),r=hE(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return jm((()=>(this.invokeCallHook(e,t),this.poolingFunction(Jk(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class TI extends II{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Xx(a),Yx(r),vI(e,t,n,r,a,"max")}}TI.className="MaxPooling3D",Vm(TI);class NI extends II{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return Xx(a),Yx(r),vI(e,t,n,r,a,"avg")}}NI.className="AveragePooling3D",Vm(NI);class DI extends hC{constructor(e){super(e),this.inputSpec=[new iC({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new px}}class _I extends DI{constructor(e){super(e||{})}call(e,t){return jm((()=>{const t=Jk(e);return ug(t,1)}))}}_I.className="GlobalAveragePooling1D",Vm(_I);class OI extends DI{constructor(e){super(e||{})}call(e,t){return jm((()=>{const t=Jk(e);return Jf(t,1)}))}}OI.className="GlobalMaxPooling1D",Vm(OI);class BI extends hC{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Xx(this.dataFormat),this.inputSpec=[new iC({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new px}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class zI extends BI{call(e,t){return jm((()=>{const t=Jk(e);return"channelsLast"===this.dataFormat?ug(t,[1,2]):ug(t,[2,3])}))}}zI.className="GlobalAveragePooling2D",Vm(zI);class RI extends BI{call(e,t){return jm((()=>{const t=Jk(e);return"channelsLast"===this.dataFormat?Jf(t,[1,2]):Jf(t,[2,3])}))}}RI.className="GlobalMaxPooling2D",Vm(RI);class MI extends hC{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t,n={}){const r=SC(t.layer,n);delete t.layer;const a={layer:r};return Object.assign(a,t),new e(a)}}class FI extends MI{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=eC(e)).length<3)throw new dx(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=eC(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return jm((()=>_E(((e,n)=>[Jk(this.layer.call(e,t)),[]]),e=Jk(e),[],!1,null,null,!1,!0)[1]))}}FI.className="TimeDistributed",Vm(FI);class PI extends MI{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=SC(n),t.goBackwards=!0!==t.goBackwards;const r={};var a;if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=SC(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,a=this.mergeMode,Nx(Kx,"BidirectionalMergeMode",a),e.weights)throw new px("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),this.returnState?(r=a.slice(1),t=a[0]):t=a[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):bx(n)}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const a=DE(e,n,r,this.numConstants);if(e=a.inputs,n=a.initialState,r=a.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==r)return super.apply(e,t);const s=[],i=[];if(null!=n){const e=n.length;if(e%2>0)throw new dx("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,s.push(...n);const r=n.map((e=>new iC({shape:e.shape})));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),i.push(...r)}if(null!=r)throw new px("Support for constants in Bidirectional layers is not implemented yet.");const o=s[0]instanceof oC;for(const e of s)if(e instanceof oC!==o)throw new dx("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(o){const n=[e].concat(s),r=this.inputSpec.concat(i),a=this.inputSpec;this.inputSpec=r;const o=super.apply(n,t);return this.inputSpec=a,o}return super.apply(e,t)}call(e,t){return jm((()=>{const n=t.initialState;let r,a,s,i;if(null==n)r=this.forwardLayer.call(e,t),a=this.backwardLayer.call(e,t);else{const s=n.slice(0,n.length/2),i=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:s})),a=this.backwardLayer.call(e,Object.assign(t,{initialState:i}))}return this.returnState&&(Array.isArray(r)&&(s=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),this.returnSequences&&(a=Rg(a,1)),"concat"===this.mergeMode?i=mk([r,a]):"sum"===this.mergeMode?i=Ym(r,a):"ave"===this.mergeMode?i=eg(.5,Ym(r,a)):"mul"===this.mergeMode?i=eg(r,a):null==this.mergeMode&&(i=[r,a]),this.returnState?null==this.mergeMode?i.concat(s):[i].concat(s):i}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){ek(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),ek(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=SC(t.layer);if(delete t.layer,null!=t.numConstants)throw new px("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=t;return r.layer=n,new e(r)}}PI.className="Bidirectional",Vm(PI);var LI,VI;Yl().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(LI||(LI={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(VI||(VI={}));function WI(e,t,n=new Map,r=new Set){if(null==e)return null;if("function"==typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(qI(e)){const a=Array.isArray(e)?[]:{};r.add(e);for(const s in e){const i=WI(e[s],t,n,r);a[s]=i}return r.delete(e),e.__proto__&&(a.__proto__=e.__proto__),a}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return n.set(e,a.value),a.value}function UI(e,t=GI){return jI(e,t)}function jI(e,t,n=new Set){const r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");const a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(qI(r)){const a=Array.isArray(r)?[]:{};n.add(r);for(const s in r){const r=jI(e.map((e=>e[s])),t,n);a[s]=r}return n.delete(r),a}throw new Error(`Can't recurse into non-iterable type: ${r}`)}return a.value}function GI(e){return null===e?null:qI(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function qI(e){let t=!1;if(Yl().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:n}=__webpack_require__(2700);t=e instanceof n}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof qd)&&!(e instanceof Promise)&&!t)}function $I(e){return function(e,t){return WI(e,t)}(e,HI)}function HI(e){return e instanceof qd?{value:e.clone(),recurse:!1}:qI(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class KI{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class ZI extends KI{constructor(){super(ZI.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let e=0;e<n;e++)t[e]=this.get(this.wrap(this.begin+e));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function XI(e){return new eT(e)}function YI(e,t){return new hT(e,t)}ZI.INITIAL_CAPACITY=32;class QI{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new oT(this,e)}filter(e){return new sT(this,e)}map(e){return new iT(this,e)}mapAsync(e){return new lT(this,e)}serialMapAsync(e){return new lT(this,e).serial()}flatmap(e){return new cT(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e,t=!0){return new aT(this,e,t)}columnMajorBatch(e,t=!0,n=GI){return this.rowMajorBatch(e,t).map((e=>UI(e,n)))}concatenate(e,t){return new hT(new JI([this,e]),t)}take(e){return e<0||null==e?this:new rT(this,e)}skip(e){return e<0||null==e?this:new nT(this,e)}prefetch(e){return new pT(this,e)}shuffle(e,t){return new mT(this,e,t)}serial(){return new tT(this)}}class JI extends QI{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:$I(e),done:!1}}}class eT extends QI{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class tT extends QI{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class nT extends QI{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;Gm(e.value)}return this.upstream.next()}}class rT extends QI{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class aT extends QI{constructor(e,t,n=!0){super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class sT extends QI{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;Gm(e.value)}}}class iT extends QI{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=ap(e.value),n=this.transform(e.value),r=ap(n);for(const e of t)rp(e,r)||e.dispose();return{value:n,done:!1}}}class oT extends QI{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class lT extends QI{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=ap(e.value),n=await this.transform(e.value),r=ap(n);for(const e of t)rp(e,r)||e.dispose();return{value:n,done:!1}}}class uT extends QI{constructor(){super(),this.outputQueue=new ZI,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class cT extends uT{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=ap(e.value),n=this.transform(e.value),r=ap(n);this.outputQueue.pushAll(n);for(const e of t)rp(e,r)||e.dispose();return!0}}class hT extends QI{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}var dT;!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(dT||(dT={}));class pT extends QI{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new KI(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class mT extends pT{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=Ng.alea(n||Dd().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class fT{constructor(){this.size=null}batch(e,t=!0){const n=this;let r;return fl(e>0,(()=>`batchSize needs to be positive, but it is\n      ${e}`)),r=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),gT((async()=>(await n.iterator()).columnMajorBatch(e,t,yT)),r)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,gT((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,gT((async()=>(await t.iterator()).filter((t=>jm((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return gT((async()=>(await t.iterator()).map((t=>jm((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return gT((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return gT((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,gT((async()=>YI(XI((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,gT((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t,n=!0){if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const r=this,a=Ng.alea(t||Dd().toString());return gT((async()=>{let t=a.int32();return n&&(t+=a.int32()),(await r.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,gT((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function gT(e,t=null){return new class extends fT{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function yT(e){if(null===e)return null;const t=e[0];if(null==(n=t)||null===(r=n)||"object"!=typeof r&&"function"!=typeof r||Array.isArray(n)||"object"==typeof n&&n instanceof qd||_l(n)){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof qd?Zg(e):Cp(e)}(e),recurse:!1}}var n,r;return{value:null,recurse:!0}}fT.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function bT(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&fl("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}const wT=Iw;class vT extends ul{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new ll(this,Wm())}nextDataId(){return vT.nextDataId++}write(e,t,n){this.firstUse&&(this.firstUse=!1,Yl().get("IS_NODE")&&ad());const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&Bl(n[0])){const a=n.map((e=>_d(e)));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return Hb(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return this.data.get(e).values}bufferSync(e){const t=this.readSync(e.dataId);let n=t;if("string"===e.dtype)try{n=t.map((e=>Od(e)))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return om(e.shape,e.dtype,n)}makeOutput(e,t,n){const r=this.write(e,t,n);return Wm().makeTensorFromDataId(r,t,n,this)}disposeData(e,t=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=Dd();e();return{kernelMs:Dd()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){bT([e],"where");const t=this.readSync(e.dataId);return wT(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}vT.nextDataId=0;function AT(e,t,n){return({inputs:r,attrs:a,backend:s})=>{const{x:i}=r;if(bT(i,e),"string"===i.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const o=s,l=o.data.get(i.dataId).values,u=wl(i.shape),c=n||i.dtype,h=Nl(c,u);for(let e=0;e<u;++e)h[e]=t(l[e],a);return o.makeTensorInfo(i.shape,c,h)}}function xT(e,t,n){return({inputs:r,attrs:a,backend:s})=>{const{x:i}=r;if(bT(i,e),"string"===i.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const o=s,l=o.data.get(i.dataId).values,u=n||i.dtype,c=t(l,u,a);return o.makeTensorInfo(i.shape,u,c)}}$m("cpu",(()=>new vT),1);const kT=AT(Qu,(e=>e>=0?e:Math.exp(e)-1)),CT={kernelName:Qu,backendName:"cpu",kernelFunc:kT};function ST(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const ET={kernelName:fc,backendName:"cpu",kernelFunc:ST};function IT(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:s}=r;bT([a],"leakyRelu");const i=wl(a.shape),o=n.data.get(a.dataId).values,l=Tl("float32",i);for(let e=0;e<o.length;e++)l[e]=o[e]<0?s*o[e]:o[e];return n.makeTensorInfo(a.shape,"float32",l)}const TT={kernelName:Ac,backendName:"cpu",kernelFunc:IT};function NT(e){return(t,n,r,a,s)=>{const i=vm(t,n),o=i.length,l=Pl(i),u=Tl(s,wl(i)),c=t.length,h=n.length,d=Pl(t),p=Pl(n),m=bm(t,i),f=bm(n,i);if(m.length+f.length===0)for(let t=0;t<u.length;++t)u[t]=e(r[t%r.length],a[t%a.length]);else for(let t=0;t<u.length;++t){const n=$l(t,o,l),s=n.slice(-c);m.forEach((e=>s[e]=0));const i=ql(s,c,d),g=n.slice(-h);f.forEach((e=>g[e]=0));const y=ql(g,h,p);u[t]=e(r[i],a[y])}return[u,i]}}const DT=NT(((e,t)=>e<0?t*e:e));function _T(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t;bT([r,a],"prelu");const s=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,[o,l]=DT(r.shape,a.shape,s,i,"float32");return n.makeTensorInfo(l,"float32",o)}const OT={kernelName:nh,backendName:"cpu",kernelFunc:_T},BT=AT(oh,(e=>Math.max(0,e))),zT={kernelName:oh,backendName:"cpu",kernelFunc:BT},RT=AT(ph,(e=>Math.min(Math.max(0,e),6))),MT={kernelName:ph,backendName:"cpu",kernelFunc:RT};function FT(e){return(t,n,r)=>{const a=Tl(n,t.length);for(let n=0;n<t.length;++n)a[n]=e(t[n],r);return a}}const PT=FT((e=>1/(1+Math.exp(-e)))),LT=AT(Ch,(e=>1/(1+Math.exp(-e)))),VT={kernelName:Ch,backendName:"cpu",kernelFunc:LT};function WT(e,t,n,r,a){if("linear"===n)return ST({inputs:{x:t},backend:e});if("relu"===n)return BT({inputs:{x:t},backend:e});if("elu"===n)return kT({inputs:{x:t},backend:e});if("relu6"===n)return RT({inputs:{x:t},backend:e});if("prelu"===n)return _T({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return IT({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return LT({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function UT(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,s=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,o=n.makeTensorInfo(r.shape,"complex64");return n.data.get(o.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",s),imag:n.makeTensorInfo(a.shape,"float32",i)},o}const jT={kernelName:Iu,backendName:"cpu",kernelFunc:UT};function GT(e,t,n="float32"){if("complex64"===n){return UT({inputs:{real:GT(e,t,"float32"),imag:GT(e,t,"float32")},backend:e})}const r=Ul(wl(t),n);return e.makeTensorInfo(t,n,r)}function qT(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.real,s=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,s)}const $T={kernelName:sh,backendName:"cpu",kernelFunc:qT};function HT(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:s}=r;if("complex64"===s){if("complex64"===a.dtype)return ST({inputs:{x:a},backend:n});const e=GT(n,a.shape,a.dtype),t=HT({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),r=UT({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===a.dtype){const e=qT({inputs:{input:a},backend:n}),t=HT({inputs:{x:e},backend:n,attrs:{dtype:s}});return n.disposeIntermediateTensorInfo(e),t}if(!Dl(a.dtype,s)){const e=ST({inputs:{x:a},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:s}}if("int32"===s){const e=n.data.get(a.dataId).values,t=Int32Array.from(e);return n.makeTensorInfo(a.shape,"int32",t)}if("bool"===s){const e=n.data.get(a.dataId).values,t=Nd([0],a.dtype),[r,s]=NT(((e,t)=>e!==t?1:0))(a.shape,[],e,t,"bool");return n.makeTensorInfo(s,"bool",r)}throw new Error(`Error in Cast: failed to cast ${a.dtype} to ${s}`)}const KT={kernelName:Cu,backendName:"cpu",kernelFunc:HT};function ZT(e,t,n,r){return null==n?({inputs:n,backend:a})=>{const{a:s,b:i}=n,o=a;bT([s,i],e);const l=o.data.get(s.dataId).values,u=o.data.get(i.dataId).values,c="string"===s.dtype?Sw(l):l,h="string"===s.dtype?Sw(u):u,d=r||s.dtype,[p,m]=t(s.shape,i.shape,c,h,d);return o.makeTensorInfo(m,d,p)}:({inputs:e,backend:a})=>{const{a:s,b:i}=e,o=a;if("complex64"===s.dtype||"complex64"===i.dtype){const e=HT({inputs:{x:s},backend:o,attrs:{dtype:"complex64"}}),t=o.data.get(e.dataId),r=t.complexTensorInfos.real,a=t.complexTensorInfos.imag,l=o.data.get(r.dataId).values,u=o.data.get(a.dataId).values,c=HT({inputs:{x:i},backend:o,attrs:{dtype:"complex64"}}),h=o.data.get(c.dataId),d=h.complexTensorInfos.real,p=h.complexTensorInfos.imag,m=o.data.get(d.dataId).values,f=o.data.get(p.dataId).values,[g,y,b]=n(s.shape,i.shape,l,u,m,f),w=o.makeTensorInfo(b,"float32",g),v=o.makeTensorInfo(b,"float32",y),A=UT({inputs:{real:w,imag:v},backend:o});return o.disposeIntermediateTensorInfo(e),o.disposeIntermediateTensorInfo(c),o.disposeIntermediateTensorInfo(w),o.disposeIntermediateTensorInfo(v),A}{const e=o.data.get(s.dataId).values,n=o.data.get(i.dataId).values,a=r||s.dtype,[l,u]=t(s.shape,i.shape,e,n,a);return o.makeTensorInfo(u,a,l)}}}function XT(e){return(t,n,r,a,s,i)=>{const o=vm(t,n),l=wl(o),u=o.length,c=Pl(o),h=Tl("float32",l),d=Tl("float32",l),p=bm(t,o),m=bm(n,o),f=Hb(r,a),g=Hb(s,i),y=t.length,b=Pl(t),w=n.length,v=Pl(n);if(p.length+m.length===0)for(let t=0;t<h.length;t++){const n=t%f.length,r=t%g.length,a=e(f[2*n],f[2*n+1],g[2*r],g[2*r+1]);h[t]=a.real,d[t]=a.imag}else for(let t=0;t<h.length;t++){const n=$l(t,u,c),r=n.slice(-y);p.forEach((e=>r[e]=0));const a=ql(r,y,b),s=n.slice(-w);m.forEach((e=>s[e]=0));const i=ql(s,w,v),o=e(f[2*a],f[2*a+1],g[2*i],g[2*i+1]);h[t]=o.real,d[t]=o.imag}return[h,d,o]}}const YT=NT(((e,t)=>e+t)),QT=XT(((e,t,n,r)=>({real:e+n,imag:t+r}))),JT=ZT(su,YT,QT),eN={kernelName:su,backendName:"cpu",kernelFunc:JT};function tN(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:s}=r,i=wl(a.shape),o=Sl(s,i),l=wl(o);fl(i===l,(()=>`The new shape (${o}) has ${l} elements and the old shape (${a.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`)),n.incRef(a.dataId);const u=n.data.get(a.dataId);if(null!=u.complexTensorInfos){const e=u.complexTensorInfos.real,t=u.complexTensorInfos.imag;e.shape=o,t.shape=o}return{dataId:a.dataId,shape:o,dtype:a.dtype}}const nN={kernelName:lh,backendName:"cpu",kernelFunc:tN};function rN(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:s}=t,{transposeA:i,transposeB:o}=r;bT([a,s],"matMul");const l=a.shape.length,u=s.shape.length,c=i?a.shape[l-2]:a.shape[l-1],h=o?s.shape[u-1]:s.shape[u-2],d=i?a.shape[l-1]:a.shape[l-2],p=o?s.shape[u-2]:s.shape[u-1],m=a.shape.slice(0,-2),f=s.shape.slice(0,-2),g=wl(m),y=wl(f),b=vm(a.shape.slice(0,-2),s.shape.slice(0,-2)).concat([d,p]);fl(c===h,(()=>`Error in matMul: inner shapes (${c}) and (${h}) of Tensors with shapes ${a.shape} and ${s.shape} and transposeA=${i} and transposeB=${o} must match.`));const w=o?[y,p,h]:[y,h,p],v=tN({inputs:{x:a},backend:n,attrs:{shape:i?[g,c,d]:[g,d,c]}}),A=tN({inputs:{x:s},backend:n,attrs:{shape:w}}),x=i?v.shape[1]:v.shape[2],k=i?v.shape[2]:v.shape[1],C=o?A.shape[1]:A.shape[2],S=Math.max(g,y),E=n.data.get(v.dataId).values,I=n.data.get(A.dataId).values,T=Pl(v.shape),N=Pl(A.shape),[D,_,O]=i?[T[0],1,T[1]]:[T[0],T[1],1],[B,z,R]=o?[1,N[1],N[0]]:[N[1],1,N[0]],M=k*C,F=om([S,k,C],v.dtype),P=F.values,L=n.blockSize;for(let e=0;e<S;e++)for(let t=0;t<k;t+=L)for(let n=0;n<C;n+=L)for(let r=0;r<x;r+=L){const a=Math.min(t+L,k),s=Math.min(n+L,C),i=Math.min(r+L,x);for(let o=t;o<a;o++)for(let t=n;t<s;t++){let n=0;for(let a=r;a<i;a++){const r=Math.min(e,g-1)*D,s=Math.min(e,y-1)*R;n+=E[r+o*_+a*O]*I[a*B+t*z+s]}P[e*M+(o*C+t)]+=n}}return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(A),n.makeTensorInfo(b,F.dtype,F.values)}const aN={kernelName:vu,backendName:"cpu",kernelFunc:rN};const sN={kernelName:td,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:s,bias:i,preluActivationWeights:o}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:h}=r;let d,p,m;const f=[];d=rN({inputs:{a,b:s},attrs:{transposeA:l,transposeB:u},backend:n}),i&&(p=JT({inputs:{a:d,b:i},backend:n}),f.push(d),d=p),c&&(m=WT(n,d,c,o,h),f.push(d),d=m);for(const e of f)n.disposeIntermediateTensorInfo(e);return d}};function iN(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const oN={kernelName:nu,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;bT(t,"abs");let r=new Float32Array(wl(t.shape));return r=iN(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},lN=AT(ru,(e=>Math.acos(e))),uN={kernelName:ru,backendName:"cpu",kernelFunc:lN},cN=AT(au,(e=>Math.acosh(e))),hN={kernelName:au,backendName:"cpu",kernelFunc:cN};const dN={kernelName:iu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;bT(t,"addN");const a=r.map((e=>n.data.get(e.dataId).values)),s=om(r[0].shape,r[0].dtype),i=s.values;for(let e=0;e<r.length;e++){const t=a[e];for(let e=0;e<i.length;e++)i[e]+=t[e]}return n.makeTensorInfo(s.shape,s.dtype,s.values)}};function pN(e,t,n,r,a){const s=t.length,i=wl(t),o=Pl(t),l=Pl(a),u=Tl(n,wl(a));for(let t=0;t<i;++t){const n=$l(t,s,o),a=new Array(n.length);for(let e=0;e<a.length;e++)a[e]=n[r[e]];u[ql(a,s,l)]=e[t]}return u}function mN(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{perm:s}=n;bT(a,"transpose");const i=a.shape.length,o=new Array(i);for(let e=0;e<o.length;e++)o[e]=a.shape[s[e]];const l=pN(r.data.get(a.dataId).values,a.shape,a.dtype,s,o);return{dataId:r.write(l,o,a.dtype),shape:o,dtype:a.dtype}}const fN={kernelName:Kh,backendName:"cpu",kernelFunc:mN};const gN={kernelName:ou,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r;bT(a,"all");const o=El(s,a.shape);let l=o;const u=gg(l,a.shape.length);let c=a;null!=u&&(c=mN({inputs:{x:a},backend:n,attrs:{perm:u}}),l=bg(l.length,a.shape.length)),fg("all",l,c.shape.length);const[h,d]=pg(c.shape,l),p=wl(d),m=Ul(wl(h),c.dtype),f=n.data.get(c.dataId).values;for(let e=0;e<m.length;++e){const t=e*p;let n=f[t];for(let e=0;e<p;++e){const r=f[t+e];n=n&&r}m[e]=n}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(h,c.dtype,m);if(i){const e=tN({inputs:{x:g},backend:n,attrs:{shape:mg(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const yN={kernelName:lu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r;bT(a,"any");const o=El(s,a.shape);let l=o;const u=gg(l,a.shape.length);let c=a;null!=u&&(c=mN({inputs:{x:a},backend:n,attrs:{perm:u}}),l=bg(l.length,a.shape.length)),fg("any",l,c.shape.length);const[h,d]=pg(c.shape,l),p=wl(d),m=Ul(wl(h),c.dtype),f=n.data.get(c.dataId).values;for(let e=0;e<m.length;++e){const t=e*p;let n=f[t];for(let e=0;e<p;++e){const r=f[t+e];n=n||r}m[e]=n}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(h,c.dtype,m);if(i){const e=tN({inputs:{x:g},backend:n,attrs:{shape:mg(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const bN={kernelName:uu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s}=r;bT(a,"argMax");let i=El(s,a.shape);const o=gg(i,a.shape.length);let l=a;const u=[];null!=o&&(l=mN({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),i=bg(i.length,l.shape.length)),i=[i[0]],fg("argMax",i,l.shape.length);const[c,h]=pg(l.shape,i),d=Ul(wl(c),"int32"),p=wl(h),m=n.data.get(l.dataId).values;for(let e=0;e<d.length;++e){const t=e*p;let n=m[t],r=0;for(let e=0;e<p;++e){const a=m[t+e];a>n&&(n=a,r=e)}d[e]=r}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",d)}};const wN={kernelName:cu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s}=r;bT(a,"argMin");let i=El(s,a.shape);const o=gg(i,a.shape.length);let l=a;const u=[];null!=o&&(l=mN({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),i=bg(i.length,l.shape.length)),i=[i[0]],fg("argMin",i,l.shape.length);const[c,h]=pg(l.shape,i),d=Ul(wl(c),"int32"),p=wl(h),m=n.data.get(l.dataId).values;for(let e=0;e<d.length;++e){const t=e*p;let n=m[t],r=0;for(let e=0;e<p;++e){const a=m[t+e];a<n&&(n=a,r=e)}d[e]=r}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",d)}},vN=AT(hu,(e=>Math.asin(e))),AN={kernelName:hu,backendName:"cpu",kernelFunc:vN},xN=AT(du,(e=>Math.asinh(e))),kN={kernelName:du,backendName:"cpu",kernelFunc:xN},CN=AT(pu,(e=>Math.atan(e))),SN={kernelName:pu,backendName:"cpu",kernelFunc:CN},EN=NT(((e,t)=>Math.atan2(e,t))),IN=ZT(fu,EN),TN={kernelName:fu,backendName:"cpu",kernelFunc:IN},NN=AT(mu,(e=>Math.atanh(e))),DN={kernelName:mu,backendName:"cpu",kernelFunc:NN};function _N(e,t,n,r,a,s){const i=a.strideHeight,o=a.strideWidth,l=a.dilationHeight,u=a.dilationWidth,c=a.effectiveFilterHeight,h=a.effectiveFilterWidth,d=a.padInfo.top,p=a.padInfo.left,m="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,f=om(a.outShape,n),g=f.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],b=a.outShape[2]*a.outShape[3],w=a.outShape[3];for(let t=0;t<a.batchSize;++t){const n=t*y,f=t*r[0];for(let t=0;t<a.inChannels;++t)for(let y=0;y<a.outHeight;++y){const v=y*i-d,A=Math.max(0,v),x=Math.min(a.inHeight,c+v),k=n+y*b;for(let n=0;n<a.outWidth;++n){const i=n*o-p,c=Math.max(0,i),d=Math.min(a.inWidth,h+i);let y=m,b=0,v=0;for(let n=A;n<x;n+=l){const a=f+n*r[1];for(let n=c;n<d;n+=u){const i=e[a+n*r[2]+t];"max"===s&&i>y?y=i:"avg"===s&&(b+=i,v++)}if(isNaN(y))break}g[k+n*w+t]="avg"===s?b/v:y}}}return f}function ON(e,t,n,r,a=!1,s=!1){const i=om(r.outShape,"int32"),o=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,h=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=r.padInfo.top,m=r.padInfo.left,f=om(t,n,e);for(let e=0;e<r.batchSize;++e)for(let t=0;t<r.inChannels;++t)for(let n=0;n<r.outHeight;++n){const g=n*o-p;let y=g;for(;y<0;)y+=u;const b=Math.min(r.inHeight,h+g);for(let o=0;o<r.outWidth;++o){const h=o*l-m;let p=h;for(;p<0;)p+=c;const w=Math.min(r.inWidth,d+h);let v=Number.NEGATIVE_INFINITY,A=-1;for(let n=y;n<b;n+=u){const i=n-g;for(let o=p;o<w;o+=c){const l=o-h,u=f.get(e,n,o,t);u>v&&(v=u,A=a?s?((e*r.inHeight+n)*r.inWidth+o)*r.inChannels+t:(n*r.inWidth+o)*r.inChannels+t:i*d+l)}}i.set(A,e,n,o,t)}}return i}function BN(e,t,n,r,a,s){const i=a.strideDepth,o=a.strideHeight,l=a.strideWidth,u=a.dilationDepth,c=a.dilationHeight,h=a.dilationWidth,d=a.effectiveFilterDepth,p=a.effectiveFilterHeight,m=a.effectiveFilterWidth,f=a.padInfo.front,g=a.padInfo.top,y=a.padInfo.left,b="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=om(a.outShape,n),v=w.values,A=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],x=a.outShape[2]*a.outShape[3]*a.outShape[4],k=a.outShape[3]*a.outShape[4],C=a.outShape[4];for(let t=0;t<a.batchSize;++t){const n=t*A,w=t*r[0];for(let t=0;t<a.inChannels;++t)for(let A=0;A<a.outDepth;++A){const S=A*i-f;let E=S;for(;E<0;)E+=u;const I=Math.min(a.inDepth,d+S),T=n+A*x;for(let n=0;n<a.outHeight;++n){const i=n*o-g;let d=i;for(;d<0;)d+=c;const f=Math.min(a.inHeight,p+i),A=T+n*k;for(let n=0;n<a.outWidth;++n){const i=n*l-y;let o=i;for(;o<0;)o+=h;const p=Math.min(a.inWidth,m+i),g=A+n*C;let x=b,k=0,S=0;for(let n=E;n<I;n+=u){const a=w+n*r[1];for(let n=d;n<f;n+=c){const i=a+n*r[2];for(let n=o;n<p;n+=h){const a=e[i+n*r[3]+t];if("max"===s&&a>x?x=a:"avg"===s&&(k+=a,S++),isNaN(x))break}if(isNaN(x))break}if(isNaN(x))break}v[g+t]="avg"===s?k/S:x}}}}return w}const zN={kernelName:gu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;bT(a,"avgPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:l}=r;fl(pf(i,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=nf(a.shape,s,i,1,o,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&vl(u.inShape,u.outShape))c=ST({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=Pl(a.shape),r=_N(e,a.shape,a.dtype,t,u,"avg");c=n.makeTensorInfo(u.outShape,a.dtype,r.values)}return c}};const RN={kernelName:bu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:s,strides:i,pad:o,dimRoundingMode:l,dataFormat:u}=r;bT(a,"avgPool3d");const c=rf(a.shape,s,i,1,o,l,u),h=BN(n.data.get(a.dataId).values,a.shape,a.dtype,Pl(a.shape),c,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}};const MN={kernelName:wu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,{filterSize:i,strides:o,pad:l,dimRoundingMode:u}=r;bT([a,s],"avgPool3DGrad");const c=rf(s.shape,i,o,1,l,u),h=c.strideDepth,d=c.strideHeight,p=c.strideWidth,m=c.filterDepth,f=c.filterHeight,g=c.filterWidth,y=c.dilationDepth,b=c.dilationHeight,w=c.dilationWidth,v=c.effectiveFilterDepth,A=c.effectiveFilterHeight,x=c.effectiveFilterWidth,k=v-1-c.padInfo.front,C=x-1-c.padInfo.left,S=A-1-c.padInfo.top,E=om(s.shape,"float32"),I=1/(m*f*g),T=n.bufferSync(a);for(let e=0;e<c.batchSize;++e)for(let t=0;t<c.inChannels;++t)for(let n=0;n<c.inDepth;++n)for(let r=0;r<c.inHeight;++r)for(let a=0;a<c.inWidth;++a){const s=n-k,i=r-S,o=a-C;let l=0;for(let n=0;n<v;n+=y){const r=(s+n)/h;if(!(r<0||r>=c.outDepth||Math.floor(r)!==r))for(let n=0;n<A;n+=b){const a=(i+n)/d;if(!(a<0||a>=c.outHeight||Math.floor(a)!==a))for(let n=0;n<x;n+=w){const s=(o+n)/p;if(s<0||s>=c.outWidth||Math.floor(s)!==s)continue;l+=T.get(e,r,a,s,t)}}}E.set(l*I,e,n,r,a,t)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}};const FN={kernelName:yu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,i=s;bT([a,s],"avgPoolGrad");const{filterSize:o,strides:l,pad:u}=r,c=nf(i.shape,o,l,1,u),h=c.strideHeight,d=c.strideWidth,p=c.filterHeight,m=c.filterWidth,f=c.dilationHeight,g=c.dilationWidth,y=c.effectiveFilterHeight,b=c.effectiveFilterWidth,w=b-1-c.padInfo.left,v=y-1-c.padInfo.top,A=om(i.shape,"float32"),x=1/(p*m),k=n.data.get(a.dataId).values,C=om(a.shape,"float32",k);for(let e=0;e<c.batchSize;++e)for(let t=0;t<c.inChannels;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const a=n-v,s=r-w;let i=0;for(let n=0;n<y;n+=f){const r=(a+n)/h;if(!(r<0||r>=c.outHeight||Math.floor(r)!==r))for(let n=0;n<b;n+=g){const a=(s+n)/d;if(a<0||a>=c.outWidth||Math.floor(a)!==a)continue;i+=C.get(e,r,a,t)}}A.set(i*x,e,n,r,t)}return n.makeTensorInfo(A.shape,A.dtype,A.values)}};const PN={kernelName:cc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,scale:s,offset:i,mean:o,variance:l}=t;fl(o.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),fl(null==i||o.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),fl(null==s||o.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),bT([a,o,l,s,i],"batchNorm");let{varianceEpsilon:u}=r;null==u&&(u=.001);const c=n.data.get(a.dataId).values,h=n.data.get(o.dataId).values,d=n.data.get(l.dataId).values,p=s?n.data.get(s.dataId).values:new Float32Array([1]),m=i?n.data.get(i.dataId).values:new Float32Array([0]),f=new Float32Array(c.length),g=m.length,y=p.length,b=d.length,w=h.length;let v=0,A=0,x=0,k=0;for(let e=0;e<c.length;++e)f[e]=m[v++]+(c[e]-h[A++])*p[x++]/Math.sqrt(d[k++]+u),v>=g&&(v=0),A>=w&&(A=0),x>=y&&(x=0),k>=b&&(k=0);return n.makeTensorInfo(a.shape,a.dtype,f)}};function LN(e,t,n,r,a){const s=Bm(r,t,n),i=wl(n),o=Pl(r);if(s){const n=zm(t,o);return"string"===a?e.slice(n,n+i):e.subarray(n,n+i)}const l=om(r,a,"string"===a?Sw(e):e),u=om(n,a);for(let e=0;e<u.size;++e){const n=u.indexToLoc(e),r=n.map(((e,n)=>e+t[n]));u.set(l.get(...r),...n)}return"string"===a?Ew(u.values):u.values}function VN(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:s,size:i}=r;bT(a,"slice");const[o,l]=Rm(a,s,i);Am(a,o,l);const u=LN(n.data.get(a.dataId).values,o,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,u)}const WN={kernelName:vh,backendName:"cpu",kernelFunc:VN};const UN={kernelName:Au,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:s,crops:i}=r;bT([a],"batchToSpaceND");const o=s.reduce(((e,t)=>e*t)),l=Db(a.shape,s,o),u=_b(l.length,s.length),c=Ob(a.shape,s,o),h=Bb(i,s.length),d=zb(c,i,s.length),p=tN({inputs:{x:a},backend:n,attrs:{shape:l}}),m=mN({inputs:{x:p},backend:n,attrs:{perm:u}}),f=tN({inputs:{x:m},backend:n,attrs:{shape:c}}),g=VN({inputs:{x:f},backend:n,attrs:{begin:h,size:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),g}};function jN(e,t,n,r,a){const s=wl(r),i=Ul(a,n);for(let n=0;n<e.length;n++){const r=e[n];if(r<0)throw new Error("Input x must be non-negative!");r>=a||(i[r]+=s>0?t[n]:1)}return i}function GN(e,t,n,r=!1){const a=e.shape[0],s=e.shape[1],i=om([a,n],t.dtype);for(let o=0;o<a;o++)for(let a=0;a<s;a++){const s=e.get(o,a);if(s<0)throw new Error("Input x must be non-negative!");s>=n||(r?i.set(1,o,s):t.size>0?i.set(i.get(o,s)+t.get(o,a),o,s):i.set(i.get(o,s)+1,o,s))}return i}const qN={kernelName:xu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:s}=t,{size:i}=r,o=jN(n.data.get(a.dataId).values,n.data.get(s.dataId).values,s.dtype,s.shape,i);return n.makeTensorInfo([i],s.dtype,o)}};const $N={kernelName:ku,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,s=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,o=vm(Array.from(s),Array.from(i));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},HN=FT((e=>Math.ceil(e))),KN=xT(Su,HN),ZN={kernelName:Su,backendName:"cpu",kernelFunc:KN},XN=AT(Eu,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),YN={kernelName:Eu,backendName:"cpu",kernelFunc:XN},QN={kernelName:Tu,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(wl(t.shape)),a=n.data.get(t.dataId),s=a.complexTensorInfos.real,i=a.complexTensorInfos.imag,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values;for(let e=0;e<o.length;e++){const t=o[e],n=l[e];r[e]=Math.hypot(t,n)}return n.makeOutput(r,t.shape,"float32")}};function JN(e,t,n,r){const a=Nl(n,wl(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=wl(e.shape);a.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const s="string"===n?Sw(e.vals):e.vals;let i=0;for(let n=0;n<e.shape[0];++n){const o=n*t[1]+r;for(let t=0;t<e.shape[1];++t)a[o+t]=s[i++]}r+=e.shape[1]}))}return a}function eD(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.imag,s=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,s)}const tD={kernelName:yc,backendName:"cpu",kernelFunc:eD};function nD(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,s=El(a,t[0].shape)[0];let i=Eb(t.map((e=>e.shape)),s);if(0===wl(i))return n.makeTensorInfo(i,t[0].dtype,[]);const o=t.filter((e=>wl(e.shape)>0));if(1===o.length)return ST({inputs:{x:o[0]},backend:n});if(Sb(o.map((e=>e.shape)),s),"complex64"===o[0].dtype){const e=o.map((e=>qT({inputs:{input:e},backend:n}))),t=o.map((e=>eD({inputs:{input:e},backend:n}))),r=nD({inputs:e,backend:n,attrs:{axis:s}}),a=nD({inputs:t,backend:n,attrs:{axis:s}}),i=UT({inputs:{real:r,imag:a},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),i}const l=o.map((e=>{const t=wl(e.shape.slice(s));return tN({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),u=l.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));i=Eb(l.map((e=>e.shape)),1);const c=1===l[0].shape[0],h=JN(u,i,t[0].dtype,c),d=Eb(o.map((e=>e.shape)),s),p=n.makeTensorInfo(d,t[0].dtype,h);return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}const rD={kernelName:Nu,backendName:"cpu",kernelFunc:nD};function aD(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:i,pad:o,dataFormat:l,dilations:u,dimRoundingMode:c}=r;bT([a,s],"conv2d");const h=mf(l),d=af(a.shape,s.shape,i,u,o,c,!1,h),p=d.filterHeight,m=d.filterWidth,f=d.dilationHeight,g=d.dilationWidth,y=d.padInfo.left,b=d.padInfo.top,w="channelsLast"===d.dataFormat,v=new Wd(d.outShape,a.dtype),A=Pl(a.shape),x=Pl(s.shape),k=A[0],C=w?A[1]:A[2],S=w?A[2]:1,E=w?1:A[1],I=v.strides[0],T=w?v.strides[1]:v.strides[2],N=w?v.strides[2]:1,D=w?1:v.strides[1],_=n.data.get(a.dataId).values,O=n.data.get(s.dataId).values,B=v.values;for(let e=0;e<d.batchSize;++e){const t=e*k,n=e*I;for(let e=0;e<d.outHeight;++e){const r=n+e*T,a=e*d.strideHeight-b;for(let e=0;e<p;++e){const n=a+e*f;if(n<0||n>=d.inHeight)continue;const s=e*x[0],i=t+n*C;for(let e=0;e<d.outWidth;++e){const t=r+e*N,n=e*d.strideWidth-y;for(let e=0;e<m;++e){const r=n+e*g;if(r<0||r>=d.inWidth)continue;const a=i+r*S;let o=s+e*x[1];for(let e=0;e<d.inChannels;++e){const n=_[a+e*E];for(let e=0;e<d.outChannels;++e)B[t+e*D]+=n*O[o+e];o+=d.outChannels}}}}}}return n.makeTensorInfo(v.shape,v.dtype,B)}const sD={kernelName:Du,backendName:"cpu",kernelFunc:aD};const iD={kernelName:_u,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:i,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;bT([a,s],"conv2dBackpropFilter");const h=mf(l),d=af(a.shape,c,i,1,o,u,!1,h),{strideHeight:p,strideWidth:m,filterHeight:f,filterWidth:g}=d,y="channelsLast"===d.dataFormat,b=new Wd(d.filterShape,"float32"),w=d.padInfo.left,v=d.padInfo.top,A=n.data.get(a.dataId).values,x=n.data.get(s.dataId).values,k=new Wd(a.shape,a.dtype,A),C=new Wd(s.shape,s.dtype,x);for(let e=0;e<f;++e){const t=Math.max(0,Math.ceil((v-e)/p)),n=Math.min(d.outHeight,(d.inHeight+v-e)/p);for(let r=0;r<g;++r){const a=Math.max(0,Math.ceil((w-r)/m)),s=Math.min(d.outWidth,(d.inWidth+w-r)/m);for(let i=0;i<d.inChannels;++i)for(let o=0;o<d.outChannels;++o){let l=0;for(let u=0;u<d.batchSize;++u)for(let c=t;c<n;++c){const t=e+c*p-v;for(let e=a;e<s;++e){const n=r+e*m-w;l+=y?k.get(u,t,n,i)*C.get(u,c,e,o):k.get(u,i,t,n)*C.get(u,o,c,e)}}b.set(l,e,r,i,o)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const oD={kernelName:Ou,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{inputShape:i,strides:o,pad:l,dataFormat:u,dimRoundingMode:c}=r;bT([a,s],"conv2dBackpropInput");const h=Pl(s.shape),d=Pl(a.shape);let p=mf(u);const m=af(i,s.shape,o,1,l,c,!1,p),f=new Wd(m.inShape,"float32"),g=f.values,y=n.data.get(a.dataId).values,b=n.data.get(s.dataId).values,[w,v,A]=h,{batchSize:x,filterHeight:k,filterWidth:C,inChannels:S,inHeight:E,inWidth:I,outChannels:T,outHeight:N,outWidth:D,strideHeight:_,strideWidth:O}=m;p=m.dataFormat;const B=k-1-m.padInfo.top,z=C-1-m.padInfo.left,R="channelsLast"===p,M=f.strides[0],F=R?f.strides[1]:f.strides[2],P=R?f.strides[2]:1,L=R?1:f.strides[1],V=d[0],W=R?d[1]:d[2],U=R?d[2]:1,j=R?1:d[1];for(let e=0;e<x;++e)for(let t=0;t<S;++t)for(let n=0;n<E;++n){const r=n-B,a=Math.max(0,Math.ceil(r/_)),s=Math.min(N,(k+r)/_);for(let i=0;i<I;++i){const o=i-z,l=Math.max(0,Math.ceil(o/O)),u=Math.min(D,(C+o)/O);let c=0;for(let n=a;n<s;++n){const a=n*_-r;for(let r=l;r<u;++r){const s=V*e+W*n+U*r,i=w*(k-1-a)+v*(C-1-(r*O-o))+A*t;for(let e=0;e<T;++e){c+=y[s+j*e]*b[i+e]}}}g[M*e+F*n+P*i+L*t]=c}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const lD={kernelName:Bu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:i,pad:o,dilations:l}=r;bT([a,s],"conv3d");const u=sf(a.shape,s.shape,i,l,o),{filterDepth:c,filterHeight:h,filterWidth:d,dilationDepth:p,dilationHeight:m,dilationWidth:f,padInfo:g}=u,y=g.front,b=g.left,w=g.top,v=new Wd(u.outShape,a.dtype),A=n.data.get(a.dataId).values,x=n.data.get(s.dataId).values,k=v.values,C=Pl(a.shape),S=Pl(s.shape);for(let e=0;e<u.batchSize;++e){const t=e*C[0],n=e*v.strides[0];for(let e=0;e<u.outDepth;++e){const r=n+e*v.strides[1],a=e*u.strideDepth-y;for(let e=0;e<c;++e){const n=a+e*p;if(n<0||n>=u.inDepth)continue;const s=e*S[0],i=t+n*C[1];for(let e=0;e<u.outHeight;++e){const t=r+e*v.strides[2],n=e*u.strideHeight-w;for(let e=0;e<h;++e){const r=n+e*m;if(r<0||r>=u.inHeight)continue;const a=s+e*S[1],o=i+r*C[2];for(let e=0;e<u.outWidth;++e){const n=t+e*u.outChannels,r=e*u.strideWidth-b;for(let e=0;e<d;++e){const t=r+e*f;if(t<0||t>=u.inWidth)continue;const s=a+e*S[2],i=o+t*u.inChannels;let l=s;for(let e=0;e<u.inChannels;++e){const t=A[i+e];for(let e=0;e<u.outChannels;++e)k[n+e]+=t*x[l+e];l+=u.outChannels}}}}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const uD={kernelName:zu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:i,pad:o,filterShape:l}=r;bT([a,s],"conv3dBackpropFilterV2");const u=Pl(a.shape),c=Pl(s.shape),h=sf(a.shape,l,i,1,o),d=h.strideDepth,p=h.strideHeight,m=h.strideWidth,f=h.filterDepth,g=h.filterHeight,y=h.filterWidth,b=new Wd(h.filterShape,"float32"),w=b.values,[v,A,x,k]=b.strides,C=n.data.get(s.dataId).values,[S,E,I,T]=c,N=n.data.get(a.dataId).values,[D,_,O,B]=u,z=h.padInfo.front,R=h.padInfo.left,M=h.padInfo.top;for(let e=0;e<f;++e){const t=Math.max(0,Math.ceil((z-e)/d)),n=Math.min(h.outDepth,(h.inDepth+z-e)/d),r=e*v;for(let a=0;a<g;++a){const s=Math.max(0,Math.ceil((M-a)/p)),i=Math.min(h.outHeight,(h.inHeight+M-a)/p),o=a*A+r;for(let r=0;r<y;++r){const l=Math.max(0,Math.ceil((R-r)/m)),u=Math.min(h.outWidth,(h.inWidth+R-r)/m),c=r*x+o;for(let o=0;o<h.inChannels;++o){const f=o*k+c;for(let c=0;c<h.outChannels;++c){let g=0;for(let f=0;f<h.batchSize;++f){const h=f*D,y=f*S;for(let f=t;f<n;++f){const t=(e+f*d-z)*_+h,n=f*E+y;for(let e=s;e<i;++e){const s=(a+e*p-M)*O+t,i=e*I+n;for(let e=l;e<u;++e){const t=e*T+i;g+=N[(r+e*m-R)*B+s+o]*C[t+c]}}}}w[f+c]=g}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const cD={kernelName:Ru,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{pad:i,strides:o,inputShape:l}=r;bT([a],"conv3dBackpropInputV2");const u=Pl(a.shape),c=Pl(s.shape),h=sf(l,s.shape,o,1,i),d=new Wd(h.inShape,"float32"),p=d.values,[m,f,g,y]=d.strides,b=n.data.get(a.dataId).values,[w,v,A,x]=u,k=n.data.get(s.dataId).values,[C,S,E,I]=c,{batchSize:T,filterDepth:N,filterHeight:D,filterWidth:_,inChannels:O,inDepth:B,inHeight:z,inWidth:R,outChannels:M,outDepth:F,outHeight:P,outWidth:L,strideDepth:V,strideHeight:W,strideWidth:U}=h,j=N-1-h.padInfo.front,G=D-1-h.padInfo.top,q=_-1-h.padInfo.left;for(let e=0;e<T;++e)for(let t=0;t<O;++t)for(let n=0;n<B;++n){const r=n-j,a=Math.max(0,Math.ceil(r/V)),s=Math.min(F,(N+r)/V);for(let i=0;i<z;++i){const o=i-G,l=Math.max(0,Math.ceil(o/W)),u=Math.min(P,(D+o)/W);for(let c=0;c<R;++c){const h=c-q,d=Math.max(0,Math.ceil(h/U)),T=Math.min(L,(_+h)/U);let O=0;for(let n=a;n<s;++n){const a=n*V-r;for(let r=l;r<u;++r){const s=r*W-o;for(let i=d;i<T;++i){const o=w*e+v*n+A*r+x*i,l=C*(N-1-a)+S*(D-1-s)+E*(_-1-(i*U-h))+I*t;for(let e=0;e<M;++e){O+=b[o+e]*k[l+e]}}}}p[m*e+f*n+g*i+y*c+t]=O}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}},hD=AT(Mu,(e=>Math.cos(e))),dD={kernelName:Mu,backendName:"cpu",kernelFunc:hD},pD=AT(Fu,(e=>Math.cosh(e))),mD={kernelName:Fu,backendName:"cpu",kernelFunc:pD};const fD={kernelName:Vu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:s,boxInd:i}=t,{cropSize:o,method:l,extrapolationValue:u}=r,[c,h,d,p]=a.shape,m=s.shape[0],[f,g]=o,y=om([m,f,g,p],"float32"),b=n.data.get(s.dataId).values,w=n.data.get(i.dataId).values,v=n.data.get(a.dataId).values,A=Pl(a.shape),x=Pl(y.shape);for(let e=0;e<m;e++){const t=4*e,n=b[t],r=b[t+1],a=b[t+2],s=b[t+3],i=w[e];if(i>=c)continue;const o=f>1?(a-n)*(h-1)/(f-1):0,m=g>1?(s-r)*(d-1)/(g-1):0;for(let t=0;t<f;t++){const c=f>1?n*(h-1)+t*o:.5*(n+a)*(h-1);if(c<0||c>h-1)for(let n=0;n<g;n++)for(let r=0;r<p;r++){const a=r+n*x[2]+t*x[1]+e*x[0];y.values[a]=u}else if("bilinear"===l){const n=Math.floor(c),a=Math.ceil(c),o=c-n;for(let l=0;l<g;l++){const c=g>1?r*(d-1)+l*m:.5*(r+s)*(d-1);if(c<0||c>d-1){for(let n=0;n<p;n++){const r=n+l*x[2]+t*x[1]+e*x[0];y.values[r]=u}continue}const h=Math.floor(c),f=Math.ceil(c),b=c-h;for(let r=0;r<p;r++){let s=r+h*A[2]+n*A[1]+i*A[0];const u=v[s];s=r+f*A[2]+n*A[1]+i*A[0];const c=v[s];s=r+h*A[2]+a*A[1]+i*A[0];const d=v[s];s=r+f*A[2]+a*A[1]+i*A[0];const p=u+(c-u)*b,m=d+(v[s]-d)*b;s=r+l*x[2]+t*x[1]+e*x[0],y.values[s]=p+(m-p)*o}}}else for(let n=0;n<g;++n){const a=g>1?r*(d-1)+n*m:.5*(r+s)*(d-1);if(a<0||a>d-1){for(let r=0;r<p;r++){const a=r+n*x[2]+t*x[1]+e*x[0];y.values[a]=u}continue}const o=Math.round(a),l=Math.round(c);for(let r=0;r<p;r++){const a=r+o*A[2]+l*A[1]+i*A[0],s=r+n*x[2]+t*x[1]+e*x[0];y.values[s]=v[a]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const gD={kernelName:Pu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,exclusive:i,reverse:o}=r;bT(a,"cumprod");const l=gg([s],a.shape.length);let u=a;null!=l&&(u=mN({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=bg(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const h=ep(u.dtype,"int32"),d=Wl(wl(u.shape),h),p=n.data.get(u.dataId).values,m=u.shape[u.shape.length-1],f=o?(e,t)=>e+m-t-1:(e,t)=>e+t;for(let e=0;e<p.length;e+=m)for(let t=0;t<m;t++){const n=f(e,t);if(0===t)d[n]=i?1:p[n];else{const r=f(e,t-1);d[n]=i?p[r]*d[r]:p[n]*d[r]}}const g=n.makeTensorInfo(u.shape,h,d);if(null!=l){const e=mN({inputs:{x:g},backend:n,attrs:{perm:yg(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const yD={kernelName:Lu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,exclusive:i,reverse:o}=r;bT(a,"cumsum");const l=gg([s],a.shape.length);let u=a;null!=l&&(u=mN({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=bg(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const h=ep(u.dtype,"int32"),d=Ul(wl(u.shape),h),p=n.data.get(u.dataId).values,m=u.shape[u.shape.length-1],f=o?(e,t)=>e+m-t-1:(e,t)=>e+t;for(let e=0;e<p.length;e+=m)for(let t=0;t<m;t++){const n=f(e,t);if(0===t)d[n]=i?0:p[n];else{const r=f(e,t-1);d[n]=i?p[r]+d[r]:p[n]+d[r]}}const g=n.makeTensorInfo(u.shape,h,d);if(null!=l){const e=mN({inputs:{x:g},backend:n,attrs:{perm:yg(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const bD={kernelName:Wu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:s}=t,{size:i,binaryOutput:o}=r;if(1===a.shape.length){const e=jN(n.data.get(a.dataId).values,n.data.get(s.dataId).values,s.dtype,s.shape,i);return n.makeTensorInfo([i],s.dtype,e)}if(2===a.shape.length){const e=GN(n.bufferSync(a),n.bufferSync(s),i,o);return n.makeTensorInfo(e.shape,s.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}};const wD={kernelName:Uu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:s,dataFormat:i}=r;fl("NHWC"===i,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${i}`));const o=a.shape[0],l=a.shape[1],u=a.shape[2],c=a.shape[3],h=l*s,d=u*s,p=c/(s*s),m=n.data.get(a.dataId).values,f=new Float32Array(o*h*d*p);let g=0;for(let e=0;e<o;++e)for(let t=0;t<h;++t){const n=Math.floor(t/s),r=t%s;for(let t=0;t<d;++t){const a=Math.floor(t/s),i=(r*s+t%s)*p;for(let t=0;t<p;++t){const r=t+i+c*(a+u*(n+l*e));f[g++]=m[r]}}}return n.makeTensorInfo([o,h,d,p],a.dtype,f)}};function vD(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:i,pad:o,dilations:l,dimRoundingMode:u}=r;bT([a,s],"depthwiseConv2DNative");const c=Pl(a.shape),h=Pl(s.shape);let d=l;null==d&&(d=[1,1]),fl(pf(i,d),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${d}'`));const p=af(a.shape,s.shape,i,d,o,u,!0),{filterHeight:m,filterWidth:f,dilationHeight:g,dilationWidth:y,padInfo:b}=p,w=b.left,v=b.top,A=p.outChannels/p.inChannels,x=new Wd(p.outShape,a.dtype),k=n.data.get(a.dataId).values,C=n.data.get(s.dataId).values,S=x.values;for(let e=0;e<p.batchSize;++e){const t=e*c[0],n=e*x.strides[0];for(let e=0;e<p.outHeight;++e){const r=n+e*x.strides[1],a=e*p.strideHeight-v;for(let e=0;e<m;++e){const n=a+e*g;if(n<0||n>=p.inHeight)continue;const s=e*h[0],i=t+n*c[1];for(let e=0;e<p.outWidth;++e){const t=r+e*x.strides[2],n=e*p.strideWidth-w;for(let e=0;e<f;++e){const r=n+e*y;if(r<0||r>=p.inWidth)continue;const a=s+e*h[1],o=i+r*p.inChannels;let l=t,u=a;for(let e=0;e<p.inChannels;++e){const t=k[o+e];for(let e=0;e<A;++e)S[l+e]+=t*C[u+e];l+=A,u+=A}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const AD={kernelName:ju,backendName:"cpu",kernelFunc:vD};const xD={kernelName:Gu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:i,dilations:o,pad:l,dimRoundingMode:u,filterShape:c}=r;bT([a,s],"depthwiseConv2dNativeBackpropFilter");const h=af(a.shape,c,i,o,l,u,!0),{strideHeight:d,strideWidth:p,filterHeight:m,filterWidth:f}=h,g=new Wd(h.filterShape,"float32"),y=h.padInfo.left,b=h.padInfo.top,w=h.outChannels/h.inChannels,v=n.data.get(a.dataId).values,A=new Wd(a.shape,a.dtype,v),x=n.data.get(s.dataId).values,k=new Wd(s.shape,s.dtype,x);for(let e=0;e<m;++e){const t=Math.max(0,Math.ceil((b-e)/d)),n=Math.min(h.outHeight,(h.inHeight+b-e)/d);for(let r=0;r<f;++r){const a=Math.max(0,Math.ceil((y-r)/p)),s=Math.min(h.outWidth,(h.inWidth+y-r)/p);for(let i=0;i<h.outChannels;++i){const o=Math.trunc(i/w),l=i%w;let u=0;for(let l=0;l<h.batchSize;++l)for(let c=t;c<n;++c){const t=e+c*d-b;for(let e=a;e<s;++e){const n=r+e*p-y;u+=A.get(l,t,n,o)*k.get(l,c,e,i)}}g.set(u,e,r,o,l)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const kD={kernelName:qu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{strides:i,dilations:o,pad:l,dimRoundingMode:u,inputShape:c}=r;bT([a,s],"depthwiseConv2DNativeBackpropInput");const h=Pl(a.shape),d=Pl(s.shape),p=af(c,s.shape,i,o,l,u,!0),m=new Wd(p.inShape,"float32"),f=m.values,[g,y,b]=m.strides,w=n.data.get(a.dataId).values,[v,A,x]=h,k=n.data.get(s.dataId).values,[C,S,E]=d,{batchSize:I,filterHeight:T,filterWidth:N,inChannels:D,inHeight:_,inWidth:O,outChannels:B,outHeight:z,outWidth:R,strideHeight:M,strideWidth:F}=p,P=T-1-p.padInfo.top,L=N-1-p.padInfo.left,V=B/D;for(let e=0;e<I;++e)for(let t=0;t<D;++t)for(let n=0;n<_;++n){const r=n-P,a=Math.max(0,Math.ceil(r/M)),s=Math.min(z,(T+r)/M);for(let i=0;i<O;++i){const o=i-L,l=Math.max(0,Math.ceil(o/F)),u=Math.min(R,(N+o)/F);let c=0;for(let n=a;n<s;++n){const a=n*M-r;for(let r=l;r<u;++r){const s=v*e+A*n+x*r,i=C*(T-1-a)+S*(N-1-(r*F-o))+E*t;for(let e=0;e<V;++e){c+=w[s+(t*V+e)]*k[i+e]}}}f[g*e+y*n+b*i+t]=c}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const CD={kernelName:$u,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=wl(r.shape),s=n.data.get(r.dataId).values,i=om([a,a],r.dtype),o=i.values;for(let e=0;e<s.length;e++)o[e*a+e]=s[e];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,i.dtype,i.values)}},SD={kernelName:Hu,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a}=e,{strides:s,pad:i,dilations:o}=n,l=t,u=l.data.get(r.dataId).values,c=r.shape.length,h=l.data.get(a.dataId).values,d=a.shape.length,{batchSize:p,inHeight:m,inWidth:f,inChannels:g,outHeight:y,outWidth:b,padInfo:w,strideHeight:v,strideWidth:A,filterHeight:x,filterWidth:k,dilationHeight:C,dilationWidth:S,outShape:E}=tf(r.shape,a.shape,s,i,"NHWC",o),I=wl(E),T=E.length,N=Nl(r.dtype,I);for(let e=0;e<p;++e)for(let t=0;t<y;++t){const n=t*v-w.top;for(let s=0;s<b;++s){const i=s*A-w.left;for(let o=0;o<g;++o){let l=Number.MIN_SAFE_INTEGER;for(let t=0;t<x;++t){const s=n+t*C;if(s>=0&&s<m)for(let n=0;n<k;++n){const p=i+n*S;if(p>=0&&p<f){const i=ql([e,s,p,o],c,Pl(r.shape)),m=ql([t,n,o],d,Pl(a.shape)),f=u[i]+h[m];f>l&&(l=f)}}}N[ql([e,t,s,o],T,Pl(E))]=l}}}return{dataId:l.write(Nd(N,r.dtype),E,r.dtype),shape:E,dtype:r.dtype}}},ED={kernelName:Zu,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a,dy:s}=e,{strides:i,pad:o,dilations:l}=n,u=t,c=Vl(r.shape,u.data.get(r.dataId).values),h=Vl(a.shape,u.data.get(a.dataId).values),{batchSize:d,inHeight:p,inWidth:m,inChannels:f,outHeight:g,outWidth:y,padInfo:b,strideHeight:w,strideWidth:v,filterHeight:A,filterWidth:x,dilationHeight:k,dilationWidth:C,outShape:S}=tf(r.shape,a.shape,i,o,"NHWC",l);fl(s.rank===S.length,(()=>`Error in Dilation2DBackpropFilter, dy must have the same rank as output ${S.length}, but got ${s.rank}`));const E=Vl(S,u.data.get(s.dataId).values),I=jl(a.shape,a.dtype);for(let e=0;e<d;++e)for(let t=0;t<g;++t){const n=t*w-b.top;for(let r=0;r<y;++r){const a=r*v-b.left;for(let s=0;s<f;++s){let i=Number.MIN_SAFE_INTEGER,o=0,l=0;for(let t=0;t<A;++t){const r=n+t*k;if(r>=0&&r<p)for(let n=0;n<x;++n){const u=a+n*C;if(u>=0&&u<m){const a=c[e][r][u][s]+h[t][n][s];a>i&&(i=a,o=t,l=n)}}}I[o][l][s]+=E[e][t][r][s]}}}return{dataId:u.write(Nd(I,r.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},ID={kernelName:Ku,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a,dy:s}=e,{strides:i,pad:o,dilations:l}=n,u=t,c=Vl(r.shape,u.data.get(r.dataId).values),h=Vl(a.shape,u.data.get(a.dataId).values),{batchSize:d,inHeight:p,inWidth:m,inChannels:f,outHeight:g,outWidth:y,padInfo:b,strideHeight:w,strideWidth:v,filterHeight:A,filterWidth:x,dilationHeight:k,dilationWidth:C,outShape:S}=tf(r.shape,a.shape,i,o,"NHWC",l);fl(s.rank===S.length,(()=>`Error in Dilation2DBackpropInput, dy must have the same rank as output ${S.length}, but got ${s.rank}`));const E=Vl(S,u.data.get(s.dataId).values),I=jl(r.shape,r.dtype);for(let e=0;e<d;++e)for(let t=0;t<g;++t){const n=t*w-b.top;for(let r=0;r<y;++r){const a=r*v-b.left;for(let s=0;s<f;++s){let i=Number.MIN_SAFE_INTEGER,o=n<0?0:n,l=a<0?0:a;for(let t=0;t<A;++t){const r=n+t*k;if(r>=0&&r<p)for(let n=0;n<x;++n){const u=a+n*C;if(u>=0&&u<m){const a=c[e][r][u][s]+h[t][n][s];a>i&&(i=a,o=r,l=u)}}}I[e][o][l][s]+=E[e][t][r][s]}}}return{dataId:u.write(Nd(I,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},TD=NT(((e,t)=>e*t)),ND=XT(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),DD=ZT(qc,TD,ND),_D={kernelName:qc,backendName:"cpu",kernelFunc:DD};function OD(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r;let o;bT(a,"sum"),o="bool"===a.dtype?HT({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):ST({inputs:{x:a},backend:n});const l=o.shape.length,u=El(s,o.shape),c=gg(u,l);let h=u,d=o;null!=c&&(d=mN({inputs:{x:o},backend:n,attrs:{perm:c}}),h=bg(h.length,l)),fg("sum",h,d.shape.length);const[p,m]=pg(d.shape,h);let f=GT(n,p,ep(d.dtype,"int32"));const g=wl(m),y=n.data.get(f.dataId).values,b=n.data.get(d.dataId).values;for(let e=0;e<y.length;++e){const t=e*g;let n=0;for(let e=0;e<g;++e)n+=b[t+e];y[e]=n}if(i){const e=f;f=tN({inputs:{x:f},backend:n,attrs:{shape:mg(f.shape,u)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(o),null!=c&&n.disposeIntermediateTensorInfo(d),f}const BD={kernelName:Ih,backendName:"cpu",kernelFunc:OD};const zD={kernelName:Yu,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,s=t,{allDims:i,summedDims:o,idDims:l}=rw(a,s.length);sw(i.length,l,s);const{path:u,steps:c}=iw(o,l),h=c.length;let d=null,p=i.length;const m=[];for(let e=0;e<h;++e){for(const t of c[e]){const{permutationIndices:e,expandDims:r}=aw(p,l[t]);let a;ow(e)?a=s[t]:(a=mN({inputs:{x:s[t]},backend:n,attrs:{perm:e}}),m.push(a));const i=a.shape.slice();for(let e=0;e<r.length;++e)i.splice(r[e],0,1);vl(a.shape,i)||(a=tN({inputs:{x:a},backend:n,attrs:{shape:i}}),m.push(a)),null===d?d=a:(d=DD({inputs:{a,b:d},backend:n}),m.push(d))}e<h-1&&(u[e]>=0&&(d=OD({inputs:{x:d},backend:n,attrs:{axis:u[e]-(i.length-p),keepDims:!1}}),m.push(d)),p--)}for(const e of m)e!==d&&n.disposeIntermediateTensorInfo(e);return d}};const RD={kernelName:Ju,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t;bT([r,a],"eluGrad");const s=new Float32Array(wl(a.shape)),i=n.data.get(a.dataId).values,o=n.data.get(r.dataId).values;for(let e=0;e<i.length;++e){const t=i[e];s[e]=t>=1?o[e]:o[e]*(t+1)}return n.makeTensorInfo(a.shape,"float32",s)}},MD=NT(((e,t)=>e===t?1:0)),FD=ZT(tc,MD,null,"bool"),PD={kernelName:tc,backendName:"cpu",kernelFunc:FD},LD=Wb,VD=Ub,WD=jb,UD=Gb,jD=qb,GD=$b,qD=AT(ec,(e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+LD*n);return t*(1-((((GD*r+jD)*r+UD)*r+WD)*r+VD)*r*Math.exp(-n*n))})),$D={kernelName:ec,backendName:"cpu",kernelFunc:qD},HD=FT((e=>Math.exp(e))),KD=xT(nc,HD,"float32"),ZD={kernelName:nc,backendName:"cpu",kernelFunc:KD};function XD(e){const{inputs:t,backend:n,attrs:r}=e,{input:a}=t,{dim:s}=r,i=a.shape.length,o=a.shape.slice();let l=s;return s<0&&(fl(-(i+1)<=s,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),l=i+s+1),o.splice(l,0,1),tN({inputs:{x:a},backend:n,attrs:{shape:o}})}const YD={kernelName:rc,backendName:"cpu",kernelFunc:XD},QD=FT((e=>Math.expm1(e))),JD=xT(ac,QD),e_={kernelName:ac,backendName:"cpu",kernelFunc:JD},t_=NT(((e,t)=>e/t)),n_=ZT(Xu,t_),r_={kernelName:Xu,backendName:"cpu",kernelFunc:n_},a_=NT(((e,t)=>e-t)),s_=XT(((e,t,n,r)=>({real:e-n,imag:t-r}))),i_=ZT(Uh,a_,s_),o_={kernelName:Uh,backendName:"cpu",kernelFunc:i_};function l_(e,t,n){const r=e.shape,a=r[0],s=r[1],i=n.data.get(e.dataId),o=i.complexTensorInfos.real,l=i.complexTensorInfos.imag,u=[a,s],c=wl(u),h=Tl("float32",c),d=Tl("float32",c);for(let e=0;e<a;e++){const r=VN({inputs:{x:o},backend:n,attrs:{begin:[e,0],size:[1,s]}}),a=VN({inputs:{x:l},backend:n,attrs:{begin:[e,0],size:[1,s]}}),i=UT({inputs:{real:r,imag:a},backend:n}),{real:u,imag:c}=u_(i,t,n),p=Hb(u,c);for(let t=0;t<s;t++){const n=Yb(p,t);h[e*s+t]=n.real,d[e*s+t]=n.imag}n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i)}const p=n.makeTensorInfo(u,"float32",h),m=n.makeTensorInfo(u,"float32",d),f=UT({inputs:{real:p,imag:m},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),f}function u_(e,t,n){const r=wl(e.shape),a=n.data.get(e.dataId),s=n.data.get(a.complexTensorInfos.real.dataId).values,i=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0==((o=r)&o-1)){const a=c_(s,i,r,t,n),o=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(o,"float32",a.real),t=n.makeTensorInfo(o,"float32",a.imag),s=n.makeTensorInfo([],"float32",Td(r,"float32")),i=ST({inputs:{x:s},backend:n}),l=r_.kernelFunc({inputs:{a:e,b:s},backend:n}),u=r_.kernelFunc({inputs:{a:t,b:i},backend:n}),c=n.data.get(l.dataId).values,h=n.data.get(u.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),{real:c,imag:h}}return a}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let a=0;a<t;a++){let s=0,i=0;for(let r=0;r<t;r++){const o=ew(a*r,t,n),l=Yb(e,r);s+=l.real*o.real-l.imag*o.imag,i+=l.real*o.imag+l.imag*o.real}n&&(s/=t,i/=t),Qb(r,s,i,a)}return r}(Hb(s,i),r,t);return Kb(e)}var o}function c_(e,t,n,r,a){if(1===n)return{real:e,imag:t};const s=Hb(e,t),i=n/2,o=Zb(s),l=o.real,u=o.imag,c=[l.length],h=a.makeTensorInfo(c,"float32",l),d=a.makeTensorInfo(c,"float32",u),p=UT({inputs:{real:h,imag:d},backend:a}),m=Xb(s),f=m.real,g=m.imag,y=[f.length],b=a.makeTensorInfo(y,"float32",f),w=a.makeTensorInfo(y,"float32",g),v=UT({inputs:{real:b,imag:w},backend:a}),A=c_(l,u,i,r,a),x=A.real,k=A.imag,C=[x.length],S=a.makeTensorInfo(C,"float32",x),E=a.makeTensorInfo(C,"float32",k),I=UT({inputs:{real:S,imag:E},backend:a}),T=c_(f,g,i,r,a),N=T.real,D=T.imag,_=[N.length],O=a.makeTensorInfo(_,"float32",N),B=a.makeTensorInfo(_,"float32",D),z=UT({inputs:{real:O,imag:B},backend:a}),R=Jb(n,r),M=[R.real.length],F=a.makeTensorInfo(M,"float32",R.real),P=a.makeTensorInfo(M,"float32",R.imag),L=UT({inputs:{real:F,imag:P},backend:a}),V=DD({inputs:{a:L,b:z},backend:a}),W=JT({inputs:{a:I,b:V},backend:a}),U=i_({inputs:{a:I,b:V},backend:a}),j=qT({inputs:{input:W},backend:a}),G=qT({inputs:{input:U},backend:a}),q=eD({inputs:{input:W},backend:a}),$=eD({inputs:{input:U},backend:a}),H=nD({inputs:[j,G],backend:a,attrs:{axis:0}}),K=nD({inputs:[q,$],backend:a,attrs:{axis:0}}),Z=a.data.get(H.dataId).values,X=a.data.get(K.dataId).values;return a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(w),a.disposeIntermediateTensorInfo(v),a.disposeIntermediateTensorInfo(S),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(F),a.disposeIntermediateTensorInfo(P),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo($),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(K),{real:Z,imag:X}}const h_={kernelName:sc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=wl(r.shape),s=r.shape[r.shape.length-1],i=tN({inputs:{x:r},backend:n,attrs:{shape:[a/s,s]}}),o=l_(i,!1,n),l=tN({inputs:{x:o},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),l}};function d_(e){const{backend:t,attrs:n}=e,{shape:r,value:a,dtype:s}=n,i=s||Rl(a),o=Nl(i,wl(r));return function(e,t,n){e.fill(t)}(o,a),t.makeTensorInfo(r,i,o)}const p_={kernelName:ic,backendName:"cpu",kernelFunc:d_};const m_={kernelName:oc,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,a=n,s=Tl(r.dtype,wl(r.shape)),[i,o,l,u]=r.shape,c=a.data.get(r.dataId).values;for(let e=0;e<i;e++){const t=e*l*o*u;for(let e=0;e<o;e++){const n=e*(l*u);for(let e=0;e<l;e++){const r=e*u;for(let a=0;a<u;a++){const i=Math.round(l-e-1),o=t+n+r+a;let h=c[o];if(i>=0&&i<l){h=c[t+n+i*u+a]}s[o]=h}}}}return{dataId:a.write(s,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},f_=FT((e=>Math.floor(e))),g_=xT(lc,f_),y_={kernelName:lc,backendName:"cpu",kernelFunc:g_},b_=NT(((e,t)=>Math.floor(e/t))),w_=ZT(uc,b_,null,"int32"),v_={kernelName:uc,backendName:"cpu",kernelFunc:w_};const A_={kernelName:nd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s,bias:i,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:m}=r;let f=aD({inputs:{x:a,filter:s},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:h,dimRoundingMode:d}});if(i){const e=f;f=JT({inputs:{a:f,b:i},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=f;f=WT(n,f,p,o,m),n.disposeIntermediateTensorInfo(e)}return f}};const x_={kernelName:rd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s,bias:i,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:m}=r;let f=vD({inputs:{x:a,filter:s},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:h,dimRoundingMode:d}});if(i){const e=f;f=JT({inputs:{a:f,b:i},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=f;f=WT(n,f,p,o,m),n.disposeIntermediateTensorInfo(e)}return f}};function k_(e,t,n,r,a,s,i,o,l){const u=om([r,s],n);for(let n=0;n<r;n++){const r=[];let c=0;for(let t=0;t<a;t++){const s=e[n*a+t];c+=s*i[t],r.push(s)}if(c<0||c>=l/s)throw new Error(`Invalid indices: ${r} does not index into ${o}`);for(let e=0;e<s;e++)u.values[n*s+e]=t.get(...t.indexToLoc(c*s+e))}return u}const C_={kernelName:dc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,s=wl(r.shape),i=a.shape,o=i[i.length-1],[l,u,c,h]=Rb(r,a);if(0===u)return n.makeTensorInfo(l,r.dtype,[]);const d=k_(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,u,o,c,h,r.shape,s);return n.makeTensorInfo(l,r.dtype,d.values)}};function S_(e,t,n){const r=om(n,e.dtype);for(let n=0;n<r.size;++n){const a=r.indexToLoc(n).slice(),s=a[0],i=a[2],o=t.locToIndex([s,i]);a[2]=t.values[o];const l=e.locToIndex(a);0<=l&&l<e.values.length&&(r.values[n]=e.values[l])}return r}const E_={kernelName:hc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:s}=t,{axis:i,batchDims:o}=r;bT([a,s],"gatherV2");const l=El(i,a.shape)[0],u=n.data.get(s.dataId).values,c=a.shape[l];for(let e=0;e<u.length;++e){const t=u[e];fl(t<=c-1&&t>=0,(()=>`GatherV2: the index value ${t} is not in [0, ${c-1}]`))}let h=o;null==o&&(h=0);const d=wl(s.shape),p=Cw(a,s,l,h),m=tN({inputs:{x:a},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),f=tN({inputs:{x:s},backend:n,attrs:{shape:[p.batchSize,d/p.batchSize]}}),g=[p.batchSize,p.outerSize,d/p.batchSize,p.sliceSize],y=n.bufferSync(f),b=S_(n.bufferSync(m),y,g);return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),n.makeTensorInfo(p.outputShape,b.dtype,b.values)}},I_=NT(((e,t)=>e>t?1:0)),T_=ZT(pc,I_,null,"bool"),N_={kernelName:pc,backendName:"cpu",kernelFunc:T_},D_=NT(((e,t)=>e>=t?1:0)),__=ZT(mc,D_,null,"bool"),O_={kernelName:mc,backendName:"cpu",kernelFunc:__};const B_={kernelName:gc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=wl(r.shape),s=r.shape[r.shape.length-1],i=tN({inputs:{x:r},backend:n,attrs:{shape:[a/s,s]}}),o=l_(i,!0,n),l=tN({inputs:{x:o},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),l}},z_=AT(bc,(e=>Number.isFinite(e)?1:0),"bool"),R_={kernelName:bc,backendName:"cpu",kernelFunc:z_},M_=AT(wc,(e=>Math.abs(e)===1/0?1:0),"bool"),F_={kernelName:wc,backendName:"cpu",kernelFunc:M_},P_=AT(vc,(e=>Number.isNaN(e)?1:0),"bool"),L_={kernelName:vc,backendName:"cpu",kernelFunc:P_},V_=NT(((e,t)=>e<t?1:0)),W_=ZT(xc,V_,null,"bool"),U_={kernelName:xc,backendName:"cpu",kernelFunc:W_},j_=NT(((e,t)=>e<=t?1:0)),G_=ZT(kc,j_,null,"bool"),q_={kernelName:kc,backendName:"cpu",kernelFunc:G_};function $_(e,t,n){const r=(t-e)/(n-1),a=Ul(n,"float32");a[0]=e;for(let e=1;e<a.length;e++)a[e]=a[e-1]+r;return a}const H_={kernelName:Cc,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:s}=n,i=$_(r,a,s);return t.makeTensorInfo([i.length],"float32",i)}},K_=FT((e=>Math.log(e))),Z_=xT(Sc,K_),X_={kernelName:Sc,backendName:"cpu",kernelFunc:Z_},Y_=AT(Ec,(e=>Math.log1p(e))),Q_={kernelName:Ec,backendName:"cpu",kernelFunc:Y_},J_=NT(((e,t)=>e&&t)),eO=ZT(Ic,J_,null,"bool"),tO={kernelName:Ic,backendName:"cpu",kernelFunc:eO},nO=AT(Tc,(e=>e?0:1),"bool"),rO={kernelName:Tc,backendName:"cpu",kernelFunc:nO},aO=NT(((e,t)=>e||t)),sO=ZT(Nc,aO,null,"bool"),iO={kernelName:Nc,backendName:"cpu",kernelFunc:sO};const oO={kernelName:Dc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:s,bias:i,alpha:o,beta:l}=r;bT(a,"LRN");const u=a.shape[3],c=u-1,h=n.data.get(a.dataId).values,d=wl(a.shape),p=new Float32Array(d);function m(e){const t=e%u;let n=e-t+Math.max(0,t-s);const r=e-t+Math.min(t+s,c);let a=0;for(;n<=r;n++){const e=h[n];a+=e*e}return a}for(let e=0;e<d;e++){const t=m(e),n=h[e]*Math.pow(i+o*t,-l);p[e]=n}return n.makeTensorInfo(a.shape,a.dtype,p)}};const lO={kernelName:_c,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:s,dy:i}=t,{depthRadius:o,bias:l,alpha:u,beta:c}=r;bT(i,"LRNGrad");const h=wl(i.shape),d=i.shape[3],p=n.data.get(i.dataId).values,m=n.data.get(a.dataId).values,f=n.data.get(s.dataId).values,g=new Float32Array(h),y=h;for(let e=0;e<y;e++){const t=e%d,n=e-t+Math.max(0,t-o),r=e-t+Math.min(d,t+o+1);let a=0;for(let e=n;e<r;e++)a+=Math.pow(m[e],2);a=u*a+l;for(let t=n;t<r;t++){let n=-2*u*c*m[t]*f[e]/a;e===t&&(n+=Math.pow(a,-c)),n*=p[e],g[t]+=n}}return n.makeTensorInfo(i.shape,a.dtype,g)}};function uO(e,t,n,r){const a=Tl(r,wl(n));for(let n=0;n<a.length;++n){const r=n*t;let s=e[r];for(let n=0;n<t;++n){const t=e[r+n];(Number.isNaN(t)||t>s)&&(s=t)}a[n]=s}return a}function cO(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:s,keepDims:i}=r,o=n;let l=a.shape;const u=l.length,c=El(s,l);let h=c;const d=gg(h,u);let p=o.data.get(a.dataId).values;if(null!=d){const e=new Array(u);for(let t=0;t<e.length;t++)e[t]=l[d[t]];p=pN(p,l,a.dtype,d,e),h=bg(h.length,u),l=e}bT(a,"max"),fg("max",h,u);const[m,f]=pg(l,h),g=uO(p,wl(f),m,a.dtype),y=o.write(g,m,a.dtype);let b=m;if(i){b=mg(m,c)}return{dataId:y,shape:b,dtype:a.dtype}}const hO={kernelName:Oc,backendName:"cpu",kernelFunc:cO},dO=NT(((e,t)=>Math.max(e,t))),pO=ZT(Bc,dO),mO={kernelName:Bc,backendName:"cpu",kernelFunc:pO};const fO={kernelName:zc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;bT(a,"maxPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:l}=r;fl(pf(i,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=nf(a.shape,s,i,1,o,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&vl(u.inShape,u.outShape))c=ST({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=Pl(a.shape),r=_N(e,a.shape,a.dtype,t,u,"max");c=n.makeTensorInfo(u.outShape,a.dtype,r.values)}return c}};const gO={kernelName:Mc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:s,strides:i,pad:o,dimRoundingMode:l,dataFormat:u}=r;bT(a,"maxPool3d");const c=rf(a.shape,s,i,1,o,l,u),h=BN(n.data.get(a.dataId).values,a.shape,a.dtype,Pl(a.shape),c,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}};const yO={kernelName:Fc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,{filterSize:i,strides:o,pad:l,dimRoundingMode:u}=r;bT([a,s],"maxPool3DGrad");const c=rf(s.shape,i,o,1,l,u),h=function(e,t){const n=om(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,s=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,h=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,m=t.padInfo.left;for(let f=0;f<t.batchSize;++f)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const b=y*r-d;let w=b;for(;w<0;)w+=i;const v=Math.min(t.inDepth,u+b);for(let r=0;r<t.outHeight;++r){const u=r*a-p;let d=u;for(;d<0;)d+=o;const A=Math.min(t.inHeight,c+u);for(let a=0;a<t.outWidth;++a){const p=a*s-m;let x=p;for(;x<0;)x+=l;const k=Math.min(t.inWidth,h+p);let C=Number.NEGATIVE_INFINITY,S=-1;for(let t=w;t<v;t+=i){const n=t-b;for(let r=d;r<A;r+=o){const a=r-u;for(let s=x;s<k;s+=l){const i=s-p,o=e.get(f,t,r,s,g);o>=C&&(C=o,S=n*c*h+a*c+i)}}}n.set(S,f,y,r,a,g)}}}return n}(n.bufferSync(s),c),d=c.strideDepth,p=c.strideHeight,m=c.strideWidth,f=c.dilationDepth,g=c.dilationHeight,y=c.dilationWidth,b=c.effectiveFilterDepth,w=c.effectiveFilterHeight,v=c.effectiveFilterWidth,A=b-1-c.padInfo.front,x=v-1-c.padInfo.left,k=w-1-c.padInfo.top,C=om(s.shape,"float32"),S=n.bufferSync(a);for(let e=0;e<c.batchSize;++e)for(let t=0;t<c.inChannels;++t)for(let n=0;n<c.inDepth;++n)for(let r=0;r<c.inHeight;++r)for(let a=0;a<c.inWidth;++a){const s=n-A,i=r-k,o=a-x;let l=0;for(let n=0;n<b;n+=f){const r=(s+n)/d;if(!(r<0||r>=c.outDepth||Math.floor(r)!==r))for(let a=0;a<w;a+=g){const s=(i+a)/p;if(!(s<0||s>=c.outHeight||Math.floor(s)!==s))for(let i=0;i<v;i+=y){const u=(o+i)/m;if(u<0||u>=c.outWidth||Math.floor(u)!==u)continue;const d=b*w*v-1-h.get(e,r,s,u,t)===n*w*v+a*v+i?1:0;if(0===d)continue;l+=S.get(e,r,s,u,t)*d}}}C.set(l,e,n,r,a,t)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};const bO={kernelName:Rc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s,output:i}=t,o=s;bT([s,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:h}=r,d=nf(o.shape,l,u,1,c,h),p=n.data.get(o.dataId).values,m=om(d.outShape,o.dtype,ON(p,o.shape,o.dtype,d).values),f=d.strideHeight,g=d.strideWidth,y=d.dilationHeight,b=d.dilationWidth,w=d.effectiveFilterHeight,v=d.effectiveFilterWidth,A=v-1-d.padInfo.left,x=w-1-d.padInfo.top,k=om(o.shape,"float32"),C=n.data.get(a.dataId).values,S=om(a.shape,"float32",C);for(let e=0;e<d.batchSize;++e)for(let t=0;t<d.inChannels;++t)for(let n=0;n<d.inHeight;++n)for(let r=0;r<d.inWidth;++r){const a=n-x,s=r-A;let i=0;for(let n=0;n<w;n+=y){const r=(a+n)/f;if(!(r<0||r>=d.outHeight||Math.floor(r)!==r))for(let a=0;a<v;a+=b){const o=(s+a)/g;if(o<0||o>=d.outWidth||Math.floor(o)!==o)continue;const l=w*v-1-m.get(e,r,o,t)===n*v+a?1:0;if(0===l)continue;i+=S.get(e,r,o,t)*l}}k.set(i,e,n,r,t)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};const wO={kernelName:Pc,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:a,strides:s,pad:i,includeBatchInIndex:o}=t,l=n;bT(r,"MaxPoolWithArgmax");const u=l.data.get(r.dataId).values,c=nf(r.shape,a,s,[1,1],i),[h,d]=function(e,t,n,r,a){const s=_N(e,0,n,Pl(t),a,"max"),i=ON(e,t,n,a,!0,r);return[s.values,i.values]}(u,r.shape,r.dtype,o,c),p=l.write(h,c.outShape,r.dtype),m=l.write(d,c.outShape,r.dtype);return[{dataId:p,shape:c.outShape,dtype:r.dtype},{dataId:m,shape:c.outShape,dtype:"int32"}]}};const vO={kernelName:Lc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r,o=El(s,a.shape),l=wl(pg(a.shape,o)[1]),u=[],c=n.makeTensorInfo([],"float32",new Float32Array([l]));u.push(c);const h=HT({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});u.push(h);const d=n_({inputs:{a:h,b:c},backend:n});u.push(d);const p=OD({inputs:{x:d},backend:n,attrs:{axis:s,keepDims:i}});return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const AO={kernelName:Vc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r;bT(a,"min");const o=El(s,a.shape);let l=o;const u=gg(l,a.shape.length);let c=a;null!=u&&(c=mN({inputs:{x:a},backend:n,attrs:{perm:u}}),l=bg(l.length,a.shape.length)),fg("min",l,c.shape.length);const[h,d]=pg(c.shape,l),p=wl(d),m=Ul(wl(h),c.dtype),f=n.data.get(c.dataId).values;for(let e=0;e<m.length;++e){const t=e*p;let n=f[t];for(let e=0;e<p;++e){const r=f[t+e];(Number.isNaN(r)||r<n)&&(n=r)}m[e]=n}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(h,c.dtype,m);if(i){const e=tN({inputs:{x:g},backend:n,attrs:{shape:mg(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}},xO=NT(((e,t)=>Math.min(e,t))),kO=ZT(Wc,xO),CO={kernelName:Wc,backendName:"cpu",kernelFunc:kO};const SO={kernelName:Uc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:s,mode:i}=r;bT(a,"mirrorPad");const o=s.map(((e,t)=>e[0]+a.shape[t]+e[1])),l=s.map((e=>e[0])),u=s.map(((e,t)=>e[0]+a.shape[t])),c="reflect"===i?0:1,h=n.data.get(a.dataId).values,d=a.shape.length,p=Pl(a.shape),m=wl(o),f=o.length,g=Pl(o),y=Tl(a.dtype,m);for(let e=0;e<m;e++){let t=$l(e,f,g);for(let e=0;e<f;e++)t[e]<l[e]?t[e]=2*l[e]-t[e]-c:t[e]>=u[e]&&(t[e]=2*(u[e]-1)-t[e]+c);t=t.map(((e,t)=>e-l[t]));const n=ql(t,d,p);y[e]=h[n]}return{dataId:n.write(y,o,a.dtype),shape:o,dtype:a.dtype}}},EO=NT(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),IO=ZT(jc,EO),TO={kernelName:jc,backendName:"cpu",kernelFunc:IO};function NO(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:s}=r,i=a.shape.length;let o=s;if(-1===o&&(o=i-1),o!==i-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${i} and dim was ${o}`);const l=El([o],a.shape),u=cO({inputs:{x:a},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=mg(u.shape,l),h=tN({inputs:{x:u},backend:n,attrs:{shape:c}}),d=i_({inputs:{a,b:h},backend:n}),p=KD({inputs:{x:d},backend:n}),m=OD({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),f=tN({inputs:{x:m},backend:n,attrs:{shape:c}}),g=n_({inputs:{a:p,b:f},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),g}const DO={kernelName:Dh,backendName:"cpu",kernelFunc:NO};const _O={kernelName:Gc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:s,seed:i,normalized:o}=r;bT(a,"multinomial");const l=o?a:NO({inputs:{logits:a},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],h=n.data.get(l.dataId).values,d=[u,s],p=Ul(wl(d),"int32");for(let e=0;e<u;++e){const t=e*c,n=new Float32Array(c-1);n[0]=h[t];for(let e=1;e<n.length;++e)n[e]=n[e-1]+h[t+e];const r=Ng.alea(i.toString()),a=e*s;for(let e=0;e<s;++e){const t=r();p[a+e]=n.length;for(let r=0;r<n.length;r++)if(t<n[r]){p[a+e]=r;break}}}return o||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",p)}};function OO(e,t,n){const r=Td(-1,n);return TD([],t,r,e,n)}const BO={kernelName:$c,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;bT(r,"neg");const a=n.data.get(r.dataId).values,[s,i]=OO(a,r.shape,r.dtype);return n.makeTensorInfo(i,r.dtype,s)}},zO=zy;const RO={kernelName:Kc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l}=r;bT(a,"NonMaxSuppression");const u=n.data.get(a.dataId).values,c=n.data.get(s.dataId).values,{selectedIndices:h}=zO(u,c,i,o,l);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}},MO=Ry;const FO={kernelName:Zc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=r;bT(a,"NonMaxSuppressionPadded");const c=n.data.get(a.dataId).values,h=n.data.get(s.dataId).values,{selectedIndices:d,validOutputs:p}=MO(c,h,i,o,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},PO=My;const LO={kernelName:Xc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=r;bT(a,"NonMaxSuppressionWithScore");const c=n.data.get(a.dataId).values,h=n.data.get(s.dataId).values,d=i,p=o,m=l,f=u,{selectedIndices:g,selectedScores:y}=PO(c,h,d,p,m,f);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}},VO=NT(((e,t)=>e!==t?1:0)),WO=ZT(Hc,VO,null,"bool"),UO={kernelName:Hc,backendName:"cpu",kernelFunc:WO};const jO={kernelName:Qc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{depth:s,onValue:i,offValue:o}=r;bT(a,"oneHot");const l=wl(a.shape),u=new Float32Array(l*s);u.fill(o);const c=n.data.get(a.dataId).values;for(let e=0;e<l;++e)c[e]>=0&&c[e]<s&&(u[e*s+c[e]]=i);return n.makeTensorInfo([...a.shape,s],"int32",u)}};function GO(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=qT({inputs:{input:r},backend:n}),t=GO({inputs:{x:e},backend:n}),a=eD({inputs:{input:r},backend:n}),s=GO({inputs:{x:a},backend:n}),i=UT({inputs:{real:t,imag:s},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),i}return d_({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const qO={kernelName:Qh,backendName:"cpu",kernelFunc:GO};const $O={kernelName:Yc,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){const t=qT({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),s=eD({inputs:{input:a},backend:r}),i=GO({inputs:{x:s},backend:r}),o=UT({inputs:{real:n,imag:i},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(i),o}return d_({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function HO(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return XD({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const s=t[0].shape,i=t[0].dtype;t.forEach((e=>{gl(s,e.shape,"All tensors passed to stack must have matching shapes"),fl(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],l=nD({inputs:t.map((e=>{const t=XD({inputs:{input:e},backend:n,attrs:{dim:a}});return o.push(t),t})),backend:n,attrs:{axis:a}});return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}const KO={kernelName:Jc,backendName:"cpu",kernelFunc:HO};const ZO={kernelName:eh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:s,constantValue:i}=r;bT(a,"pad");const o=s.map(((e,t)=>e[0]+a.shape[t]+e[1])),l=s.map((e=>e[0])),u=n.data.get(a.dataId).values,c=wl(a.shape),h=a.shape.length,d=Pl(a.shape),p=wl(o),m=o.length,f=Pl(o),g=Tl(a.dtype,p);0!==i&&g.fill(i);for(let e=0;e<c;e++){g[ql($l(e,h,d).map(((e,t)=>e+l[t])),m,f)]=u[e]}return{dataId:n.write(g,o,a.dtype),shape:o,dtype:a.dtype}}},XO=NT(((e,t)=>Math.pow(e,t))),YO=ZT(th,XO),QO={kernelName:th,backendName:"cpu",kernelFunc:YO};function JO(e,t,n,r){const[a,s]=pg(e,r),i=ep(t,"int32"),o=Ul(wl(a),i),l=wl(s);for(let e=0;e<o.length;++e){const t=e*l;let r=1;for(let e=0;e<l;++e)r*=n[t+e];o[e]=r}return{outVals:o,outShape:a,outDtype:i}}const eB={kernelName:rh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r;bT(a,"prod");const o=a.shape.length,l=El(s,a.shape),u=gg(l,o);let c=l,h=a;const d=[];null!=u&&(h=mN({inputs:{x:a},backend:n,attrs:{perm:u}}),d.push(h),c=bg(c.length,o));const p=n.data.get(h.dataId).values,{outVals:m,outShape:f,outDtype:g}=JO(h.shape,h.dtype,p,c);let y=f;return i&&(y=mg(f,l)),d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(y,g,m)}};function tB(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return Ul(0,r);const a=Ul(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(let e=1;e<a.length;e++)a[e]=a[e-1]+n;return a}const nB={kernelName:ah,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,dtype:s,step:i}=n,o=tB(r,a,i,s);return t.makeTensorInfo([o.length],s,o)}},rB=AT(ih,(e=>1/e)),aB={kernelName:ih,backendName:"cpu",kernelFunc:rB};const sB={kernelName:hh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:s,halfPixelCenters:i,size:o}=r;bT(a,"resizeBilinear");const l=Pl(a.shape),[u,c]=o,[h,d,p,m]=a.shape,f=n.data.get(a.dataId).values,g=new Float32Array(wl([h,u,c,m])),y=[s&&u>1?d-1:d,s&&c>1?p-1:p],b=[s&&u>1?u-1:u,s&&c>1?c-1:c];let w=0;const v=y[0]/b[0],A=y[1]/b[1];for(let e=0;e<h;e++)for(let t=0;t<u;t++){let n;n=i?v*(t+.5)-.5:v*t;const r=Math.max(0,Math.floor(n)),a=n-r,s=Math.min(d-1,Math.ceil(n)),o=e*l[0]+r*l[1],u=e*l[0]+s*l[1];for(let e=0;e<c;e++){let t;t=i?A*(e+.5)-.5:A*e;const n=Math.max(0,Math.floor(t)),r=t-n,s=Math.min(p-1,Math.ceil(t)),c=o+n*l[2],h=u+n*l[2],d=o+s*l[2],y=u+s*l[2];for(let e=0;e<m;e++){const t=f[c+e],n=f[h+e],s=t+(f[d+e]-t)*r,i=s+(n+(f[y+e]-n)*r-s)*a;g[w++]=i}}}return n.makeTensorInfo([h,u,c,m],"float32",g)}};const iB={kernelName:dh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:s}=t,{alignCorners:i}=r;bT([s,a],"resizeBilinearGrad");const o=Pl(a.shape),[l,u,c,h]=a.shape,[,d,p]=s.shape,m=new Float32Array(l*u*c*h),f=[i&&d>1?u-1:u,i&&p>1?c-1:c],g=[i&&d>1?d-1:d,i&&p>1?p-1:p],y=f[0]/g[0],b=f[1]/g[1],w=n.data.get(s.dataId).values;let v=0;for(let e=0;e<l;e++){const t=e*o[0];for(let e=0;e<d;e++){const n=e*y,r=Math.floor(n),a=Math.min(Math.ceil(n),u-1),s=t+r*o[1],i=t+a*o[1],l=n-r,d=1-l;for(let e=0;e<p;e++){const t=e*b,n=Math.floor(t),r=Math.min(Math.ceil(t),c-1),a=t-n,u=1-a,p=s+n*o[2],f=s+r*o[2],g=i+n*o[2],y=i+r*o[2],A=d*u,x=d*a,k=l*u,C=l*a;for(let e=0;e<h;e++){const t=w[v++];m[p+e]+=t*A,m[f+e]+=t*x,m[g+e]+=t*k,m[y+e]+=t*C}}}}return n.makeTensorInfo([l,c,u,h],"float32",m)}};const oB={kernelName:uh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:s,halfPixelCenters:i,size:o}=r;bT(a,"resizeNearestNeighbor");const l=Pl(a.shape),[u,c]=o,[h,d,p,m]=a.shape,f=n.data.get(a.dataId).values,g=new Float32Array(h*u*c*m),y=[s&&u>1?d-1:d,s&&c>1?p-1:p],b=[s&&u>1?u-1:u,s&&c>1?c-1:c],w=y[0]/b[0],v=y[1]/b[1];let A=0;for(let e=0;e<h;e++){const t=e*l[0];for(let e=0;e<u;e++){const n=i?w*(e+.5):w*e;let r=Math.min(d-1,s?Math.round(n):Math.floor(n));i&&(r=Math.max(0,r));const a=t+r*l[1];for(let e=0;e<c;e++){const t=i?v*(e+.5):v*e;let n=Math.min(p-1,s?Math.round(t):Math.floor(t));i&&(n=Math.max(0,n));const r=a+n*l[2];for(let e=0;e<m;e++){const t=f[r+e];g[A++]=t}}}}return n.makeTensorInfo([h,u,c,m],a.dtype,g)}};const lB={kernelName:ch,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:s}=t,{alignCorners:i}=r;bT([s,a],"resizeNearestNeighborGrad");const o=Pl(a.shape),l=Pl(s.shape),[u,c,h,d]=a.shape,[,p,m]=s.shape,f=new Float32Array(u*c*h*d),g=n.data.get(s.dataId).values,y=[i&&p>1?c-1:c,i&&m>1?h-1:h],b=[i&&p>1?p-1:p,i&&m>1?m-1:m],w=y[0]/b[0],v=y[1]/b[1],A=1/w,x=1/v,k=2*Math.ceil(A)+2,C=2*Math.ceil(x)+2;for(let e=0;e<u;e++){const t=e*o[0];for(let e=0;e<c;e++){const n=t+e*o[1],r=Math.floor(e*A),a=Math.floor(r-k/2);for(let r=0;r<h;r++){const s=n+r*o[2],u=Math.floor(r*x),y=Math.floor(u-C/2);for(let n=0;n<d;n++){let o=0;for(let s=0;s<k;s++){const u=s+a;if(u<0||u>=p)continue;const d=t+u*l[1],f=u*w;if(e===Math.min(c-1,i?Math.round(f):Math.floor(f)))for(let e=0;e<C;e++){const t=e+y;if(t<0||t>=m)continue;const a=d+t*l[2],s=t*v;r===Math.min(h-1,i?Math.round(s):Math.floor(s))&&(o+=g[a+n])}}f[s+n]=o}}}}return n.makeTensorInfo(a.shape,a.dtype,f)}};const uB={kernelName:mh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:s}=r;bT(a,"reverse");const i=a.shape.length,o=El(s,a.shape);if(0===i)return ST({inputs:{x:a},backend:n});const l=new Wd(a.shape,a.dtype),u=n.bufferSync(a);for(let e=0;e<l.size;e++){const t=l.indexToLoc(e),n=t.slice();o.forEach((e=>n[e]=a.shape[e]-1-n[e])),l.set(u.get(...n),...t)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},cB={kernelName:ed,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:a,fillValue:s,center:i}=t,o=n,l=Tl(r.dtype,wl(r.shape)),[u,c,h,d]=r.shape,[p,m]=Nb(i,c,h),f=Math.sin(a),g=Math.cos(a),y=o.data.get(r.dataId).values;for(let e=0;e<u;e++){const t=e*h*c*d;for(let e=0;e<c;e++){const n=e*(h*d);for(let r=0;r<h;r++){const a=r*d;for(let i=0;i<d;i++){const o=[u,e,r,i],b=o[2],w=o[1];let v=(b-p)*g-(w-m)*f,A=(b-p)*f+(w-m)*g;v=Math.round(v+p),A=Math.round(A+m);let x=s;if("number"!=typeof s&&(x=3===i?255:s[i]),v>=0&&v<h&&A>=0&&A<c){x=y[t+A*(h*d)+v*d+i]}l[t+n+a+i]=x}}}}return{dataId:o.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},hB=AT(fh,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1})),dB={kernelName:fh,backendName:"cpu",kernelFunc:hB},pB=FT((e=>1/Math.sqrt(e))),mB=xT(gh,pB),fB={kernelName:gh,backendName:"cpu",kernelFunc:mB};function gB(e,t,n,r,a,s,i,o,l,u){const c=[r/a,a],h=e.values,d=t.values;if(0===r)return om(n,t.dtype);const p=om(c,t.dtype);p.values.fill(l);for(let e=0;e<s;e++){const s=[];let l=0;for(let t=0;t<i;t++){const n=h[e*i+t];s.push(n),l+=n*o[t]}if(l<0||l>=r/a)throw new Error(`Invalid indices: ${s} does not index into ${n}`);for(let n=0;n<a;n++)u?p.values[l*a+n]+=d[e*a+n]:p.values[l*a+n]=0===t.rank?d[0]:d[e*a+n]}return p}const yB={kernelName:yh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:s}=t,{shape:i}=r,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:h}=Pb(0,a,i),d=gB(n.bufferSync(a),n.bufferSync(s),i,h,u,l,o,c,0,!0);return n.makeTensorInfo(i,d.dtype,d.values)}};const bB={kernelName:bh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:s}=t;bT([r,a,s],"select");const i=r.shape.length,o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(s.dataId).values,c=ep(a.dtype,s.dtype),h=Ul(wl(a.shape),c);let d=0;const p=0===i||i>1||1===a.shape.length?1:wl(a.shape.slice(1));for(let e=0;e<o.length;e++)for(let t=0;t<p;t++)1===o[e]?h[d++]=l[e]:h[d++]=u[e];return n.makeTensorInfo(a.shape,c,h)}},wB=Lb,vB=Vb,AB=AT(wh,(e=>e>=0?vB*e:wB*(Math.exp(e)-1))),xB={kernelName:wh,backendName:"cpu",kernelFunc:AB},kB=AT(kh,(e=>e<0?-1:e>0?1:0)),CB={kernelName:kh,backendName:"cpu",kernelFunc:kB},SB=AT(Ah,(e=>Math.sin(e))),EB={kernelName:Ah,backendName:"cpu",kernelFunc:SB},IB=AT(xh,(e=>Math.sinh(e))),TB={kernelName:xh,backendName:"cpu",kernelFunc:IB},NB=Math.log(1.1920928955078125e-7)+2,DB=AT(Sh,(e=>{const t=e>-NB,n=e<NB,r=Math.exp(e);let a;return a=n?r:t?e:Math.log(1+r),a})),_B={kernelName:Sh,backendName:"cpu",kernelFunc:DB};const OB={kernelName:Th,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:s,paddings:i}=r;bT([a],"spaceToBatchND");const o=wl(s),l=[[0,0]];l.push(...i);for(let e=1+s.length;e<a.shape.length;++e)l.push([0,0]);const u=ZO.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=Db(u.shape,s,o,!1),h=_b(c.length,s.length,!1),d=Ob(u.shape,s,o,!1),p=tN({inputs:{x:u},backend:n,attrs:{shape:c}}),m=mN({inputs:{x:p},backend:n,attrs:{perm:h}}),f=tN({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),f}};function BB(e,t,n,r,a,s,i){const o=t[0],l=s[0],u=new Array(l),c=new Array(o),h=t[1];if(0===l){if(0!==o)throw new Error(cw(o));return[Nl(n,0),[0,h],Nl(a,0),u,c]}let d=!0,p=0;const m=new Array(l).fill(0);for(let t=0;t<o;++t){const n=e[t*h];if(n<0)throw new Error(hw(t,n));if(n>=l)throw new Error(dw(t,n,l));++m[n],d=d&&n>=p,p=n}let f=!0;for(let e=0;e<l;++e){const t=0===m[e];u[e]=t,f=f&&!t,m[e]=Math.max(m[e],1),e>0&&(m[e]+=m[e-1])}if(f&&d){const t=e,n=r;for(let e=0;e<o;++e)c[e]=e;return[t,[o,h],n,u,c]}{const t=m[l-1],s=Nl(n,t*h),d=Nl(a,t),p=new Array(l).fill(0);for(let t=0;t<o;++t){const n=e[t*h],a=p[n],i=(0===n?0:m[n-1])+a;p[n]++;for(let n=0;n<h;++n)s[i*h+n]=e[t*h+n];d[i]=r[t],c[t]=i}for(let e=0;e<l;++e){if(0===p[e]){const t=0===e?0:m[e-1];s[t*h+0]=e;for(let e=1;e<h;++e)s[t*h+e]=0;d[t]=i}}return[s,[t,h],d,u,c]}}const zB={kernelName:_h,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:s,defaultValue:i}=t;if(1!==s.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${s.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Values must be a vector, saw:\n        ${a.shape}`);if(0!==i.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${i.shape}`);const o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values[0],[h,d,p,m,f]=BB(o,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,h),n.makeTensorInfo([d[0]],a.dtype,p),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map((e=>Number(e))))),n.makeTensorInfo([f.length],r.dtype,new Int32Array(f))]}};function RB(e,t,n,r,a){const s=wl(r),i=t[0],o=a.length,l=[];let u=1,c=-1;for(let e=0;e<o;++e){const t=a[e];if(-1===t){if(-1!==c)throw new Error(pw(c,e));c=e,l.push(1)}else{if(t<0)throw new Error(mw(e,t));u*=t,l.push(t)}}if(-1!==c){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(s/u);if(u*e!==s)throw new Error(gw(r,l));l[c]=e}if(wl(l)!==s)throw new Error(yw(r,l));const h=r.length,d=[];if(h>0){d[h-1]=1;for(let e=h-2;e>=0;--e)d[e]=d[e+1]*r[e+1]}const p=[];if(o>0){p[o-1]=1;for(let e=o-2;e>=0;--e)p[e]=p[e+1]*l[e+1]}const m=Nl(n,i*o);for(let t=0;t<i;++t){let n=0;for(let r=0;r<h;++r)n+=e[t*h+r]*d[r];for(let e=0;e<o;++e)m[t*o+e]=Math.trunc(n/p[e]),n%=p[e]}return[m,[i,o],l]}const MB={kernelName:Oh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:s}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${a.shape}`);if(1!==s.shape.length)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const i=Array.from(n.data.get(a.dataId).values),o=n.data.get(r.dataId).values,l=Array.from(n.data.get(s.dataId).values),[u,c,h]=RB(o,r.shape,r.dtype,i,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([h.length],s.dtype,new Int32Array(h))]}};function FB(e,t,n,r,a,s=!1,i=0){const o=r.length,l=[t[0],e.length/t[0]],u=l[1],c=o>0?a[o-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");const h=t.slice();h[0]=c;const d=Nl(n,h.reduce(((e,t)=>e*t),1));if(0===o)return c>0&&d.fill(i),[d,h];if(c<=0)throw new Error("segment ids must be >= 0");let p=0,m=1,f=0,g=a[p];for(;;){let t=0;if(m<o){if(t=a[m],g===t){++m;continue}if(g>=t)throw new Error("segment ids are not increasing")}if(g<0||g>=c)throw new Error(vw(g,c));g>f&&d.fill(i,f*u,g*u);for(let t=p;t<m;++t){const n=r[t];if(n<0||n>=l[0])throw new Error(Aw(t,r[t],l[0]));for(let t=0;t<u;t++)d[g*u+t]+=e[n*u+t]}if(s)for(let e=0;e<u;e++)d[g*u+e]/=m-p;if(p=m,++m,f=g+1,g=t,m>o)break}return f<c&&d.fill(i,f*u,c*u),[d,h]}const PB={kernelName:Bh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:s}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${a.shape}`);if(1!==s.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${s.shape}`);if(a.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(s.dataId).values,[u,c]=FB(i,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};const LB={kernelName:zh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:s}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${a.shape}`);if(1!==s.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${s.shape}`);if(a.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(s.dataId).values,[u,c]=FB(i,r.shape,r.dtype,o,l);return n.makeTensorInfo(c,r.dtype,u)}};const VB={kernelName:Rh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:s,defaultValue:i}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:h,outputSize:d}=Pb(0,a,o),p=gB(n.bufferSync(a),n.bufferSync(s),o,d,c,u,l,h,n.data.get(i.dataId).values[0],!1);return n.makeTensorInfo(o,p.dtype,p.values)}};const WB={kernelName:Nh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:s,axis:i}=r,o=El(i,a.shape)[0],l=uw(a,s,o),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map((e=>{const t=[...c];t[o]=e;const r=VN({inputs:{x:a},backend:n,attrs:{begin:u,size:t}});return u[o]+=e,r}))}},UB=FT((e=>Math.sqrt(e))),jB=AT(Eh,(e=>Math.sqrt(e))),GB={kernelName:Eh,backendName:"cpu",kernelFunc:jB},qB={kernelName:Fh,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,r=t;bT(n,"square");const a=r.data.get(n.dataId).values,s=new Float32Array(a.length);for(let e=0;e<a.length;++e){const t=a[e];s[e]=t*t}return{dataId:r.write(s,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},$B=NT(((e,t)=>{const n=e-t;return n*n})),HB=ZT(Mh,$B),KB={kernelName:Mh,backendName:"cpu",kernelFunc:HB},ZB=AT(Jh,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),XB={kernelName:Jh,backendName:"cpu",kernelFunc:ZB};function YB(e,t,n,r){const a=om(e,t.dtype);for(let e=0;e<a.size;e++){const s=a.indexToLoc(e),i=new Array(s.length);for(let e=0;e<i.length;e++)i[e]=s[e]*n[e]+r[e];a.set(t.get(...i),...s)}return a}const QB={kernelName:Ph,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:s,end:i,strides:o,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:h,shrinkAxisMask:d}=r;bT(a,"stridedSlice");const{finalShapeSparse:p,finalShape:m,isIdentity:f,sliceDim0:g,isSimpleSlice:y,begin:b,end:w,strides:v}=Mm(a.shape,s,i,o,l,u,c,h,d);let A;if(f)A=tN({inputs:{x:a},backend:n,attrs:{shape:m}});else if(g||y){fl(a.shape.length>=1,(()=>`Input must have rank at least 1, got: ${a.shape.length}`));const e=km(b,w,v),t=VN({inputs:{x:a},backend:n,attrs:{begin:b,size:e}});A=tN({inputs:{x:t},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(t)}else{const e=YB(p,n.bufferSync(a),v,b);A=n.makeTensorInfo(m,e.dtype,e.values)}return A}};class JB{constructor(e,t,n,r,a,s){this.separator=_d(e),this.nGramWidths=t,this.leftPad=_d(n),this.rightPad=_d(r),this.padWidth=a,this.preserveShort=s}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,a,s){for(let i=0;i<a;++i){const o=this.getPadWidth(s),l=Math.max(0,o-i),u=Math.max(0,o-(a-(i+1))),c=s-(l+u),h=t+(l>0?0:i-o);let d=0;d+=l*this.leftPad.length;for(let t=0;t<c;++t)d+=e[h+t].length;d+=u*this.rightPad.length;d+=(l+u+c-1)*this.separator.length,n[r+i]=new Uint8Array(d);const p=n[r+i];let m=0;const f=e=>e.forEach((e=>p[m++]=e));for(let e=0;e<l;++e)f(this.leftPad),f(this.separator);for(let t=0;t<c-1;++t)f(e[h+t]),f(this.separator);if(c>0){f(e[h+c-1]);for(let e=0;e<u;++e)f(this.separator),f(this.rightPad)}else{for(let e=0;e<u-1;++e)f(this.rightPad),f(this.separator);f(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let a=1;a<r;++a){let r=t[a]>=e;if(r=r&&t[a]<=n,!r)throw new Error(`Invalid split value ${t[a]}, must be in [${e}, ${n}]`);e=t[a]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const a=r-1,s=Nl("int32",r);if(0===n||0===r){const e=new Array(n);for(let e=0;e<=a;++e)s[e]=0;return[e,s]}s[0]=0;for(let e=1;e<=a;++e){const n=t[e]-t[e-1];let r=0;this.nGramWidths.forEach((e=>{r+=this.getNumNGrams(n,e)})),this.preserveShort&&n>0&&0===r&&(r=1),s[e]=s[e-1]+r}const i=new Array(s[a]);for(let n=0;n<a;++n){const r=t[n];let a=s[n];if(this.nGramWidths.forEach((s=>{const o=t[n+1]-t[n],l=this.getNumNGrams(o,s);this.createNGrams(e,r,i,a,l,s),a+=l})),this.preserveShort&&a===s[n]){const s=t[n+1]-t[n];if(0===s)continue;const o=s+2*this.padWidth,l=1;this.createNGrams(e,r,i,a,l,o)}}return[i,s]}}function ez(e,t,n,r,a,s,i,o){return new JB(n,r,a,s,i,o).compute(e,t)}const tz={kernelName:Lh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:s,leftPad:i,rightPad:o,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:h}=t,d=n.data.get(c.dataId).values,p=n.data.get(h.dataId).values,[m,f]=ez(d,p,a,s,i,o,l,u);return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(h.shape,"int32",f)]}};function nz(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const a=t[0];let s=e.indexOf(a);for(;-1!==s;){const t=e.subarray(0,s);n&&0===t.length||r.push(t),s=(e=e.subarray(s+1)).indexOf(a)}return void(n&&0===e.length||r.push(e))}let a=0;for(let s=0;s<e.length+1;s++)if(s===e.length||-1!==t.indexOf(e[s])){const t=e.subarray(a,s);n&&0===t.length||r.push(t),a=s+1}}function rz(e,t,n){const r=e.length,a=[];let s=0,i=0;const o=new Array(r);for(let l=0;l<r;++l){const r=a.length;nz(e[l],t,n,a);const u=a.length-r;o[l]=u,s+=u,i=Math.max(i,u)}const l=Nl("int32",2*s),u=new Array(s),c=[r,i];let h=0;for(let e=0;e<r;++e)for(let t=0;t<o[e];++t)l[2*h]=e,l[2*h+1]=t,u[h]=a[h],++h;return[l,u,c]}const az={kernelName:Vh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:s,delimiter:i}=t;if("string"!==s.dtype)throw new Error("Input must be of datatype string");if(1!==s.shape.length)throw new Error(`Input must be a vector, got shape: ${s.shape}`);if(0!==i.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values[0],[u,c,h]=rz(o,l,a),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};function sz(e,t){const n=Nl("int32",e.length);for(let r=0;r<e.length;++r)n[r]=Id(e[r]).modulo(t).getLowBitsUnsigned();return n}const iz={kernelName:Wh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:s}=t;if("string"!==s.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const i=sz(n.data.get(s.dataId).values,a);return n.makeTensorInfo(s.shape,"int32",i)}},oz=AT(jh,(e=>Math.tan(e))),lz={kernelName:jh,backendName:"cpu",kernelFunc:oz},uz=AT(Gh,(e=>Math.tanh(e)));function cz(e,t){const n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];const r=om(n,e.dtype);for(let t=0;t<r.values.length;++t){const n=r.indexToLoc(t),a=new Array(e.rank);for(let t=0;t<a.length;t++)a[t]=n[t]%e.shape[t];const s=e.locToIndex(a);r.values[t]=e.values[s]}return r}const hz={kernelName:qh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:s}=r;bT(a,"tile");const i=cz(n.bufferSync(a),s);return n.makeTensorInfo(i.shape,i.dtype,i.values)}},dz=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function pz(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){const a=r-n+1,s=t-n+1,i=Math.log(a),o=.5*Math.exp(2*i/3),l=.5*Math.sqrt(i*o*(a-o)/a)*Math.sign(s-a/2);pz(e,t,Math.max(n,Math.floor(t-s*o/a+l)),Math.min(r,Math.floor(t+(a-s)*o/a+l)))}const a=e[t];let s=n,i=r;for(ml(e,n,t),dz(e[r],a)>0&&ml(e,n,r);s<i;){for(ml(e,s,i),s++,i--;dz(e[s],a)<0;)s+=1;for(;dz(e[i],a)>0;)i-=1}0===dz(e[n],a)?ml(e,n,i):(i+=1,ml(e,i,r)),i<=t&&(n=i+1),t<=i&&(r=i-1)}}function mz(e,t,n,r,a){const s=t[t.length-1],[i,o]=[e.length/s,s],l=Tl(n,i*r),u=Tl("int32",i*r);for(let t=0;t<i;t++){const n=t*o,s=e.subarray(n,n+o);let i=new Array(s.length);s.forEach(((e,t)=>i[t]={value:e,index:t})),r<i.length&&(pz(i,r),i=i.slice(0,r)),a&&i.sort(dz);const c=t*r,h=l.subarray(c,c+r),d=u.subarray(c,c+r);for(let e=0;e<r;e++)h[e]=i[e].value,d[e]=i[e].index}const c=t.slice();return c[c.length-1]=r,[om(c,n,l),om(c,"int32",u)]}const fz={kernelName:$h,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:s,sorted:i}=r;bT(a,"topk");const o=n.data.get(a.dataId).values,[l,u]=mz(o,a.shape,a.dtype,s,i);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}};const gz={kernelName:Hh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:a,transforms:s}=t,{interpolation:i,fillMode:o,fillValue:l,outputShape:u}=n,[c,h,d,p]=a.shape,[m,f]=null!=u?u:[h,d],g=[c,m,f,p],y=Pl(a.shape),b=y[0],w=y[1],v=y[2],A=Tl(a.dtype,wl(g));A.fill(l);const x=r.data.get(a.dataId).values,k=r.data.get(s.dataId).values;for(let e=0;e<c;++e){const t=1===s.shape[0]?k:k.subarray(8*e,8*e+8);for(let n=0;n<m;++n)for(let r=0;r<f;++r)for(let a=0;a<p;++a){let s;const u=t[6]*r+t[7]*n+1;if(0===u)continue;const c=(t[0]*r+t[1]*n+t[2])/u,p=(t[3]*r+t[4]*n+t[5])/u,m=yz(c,d,o),f=yz(p,h,o);switch(i){case"nearest":s=wz(x,h,d,b,w,v,e,f,m,a,l);break;case"bilinear":s=vz(x,h,d,b,w,v,e,f,m,a,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${i}`)}A[e*b+n*w+r*v+a]=s}return r.makeTensorInfo(g,a.dtype,A)}return{dataId:r.write(A,g,a.dtype),shape:a.shape,dtype:a.dtype}}};function yz(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return dl(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return dl(0,n,t-1)}(e,t);case"nearest":return function(e,t){return dl(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function bz(e,t,n,r,a,s,i,o,l,u,c){return 0<=o&&o<t&&0<=l&&l<n?e[i*r+o*a+l*s+u]:c}function wz(e,t,n,r,a,s,i,o,l,u,c){return bz(e,t,n,r,a,s,i,Math.round(o),Math.round(l),u,c)}function vz(e,t,n,r,a,s,i,o,l,u,c){const h=Math.floor(o),d=Math.floor(l),p=h+1,m=d+1;return(p-o)*((m-l)*bz(e,t,n,r,a,s,i,h,d,u,c)+(l-d)*bz(e,t,n,r,a,s,i,h,m,u,c))+(o-h)*((m-l)*bz(e,t,n,r,a,s,i,p,d,u,c)+(l-d)*bz(e,t,n,r,a,s,i,p,m,u,c))}function Az(e,t,n,r){const a=El(t,n)[0],s=[1,n[0],1];for(let e=0;e<a;e++)s[0]*=n[e];s[1]=n[a];for(let e=a+1;e<n.length;e++)s[2]*=n[e];const i={},o=new Int32Array(n[a]),l=new Wd(s,r,e),u=[],c=1===s[0]&&1===s[2];for(let t=0;t<n[a];t++){let n;if(c)n=e[t].toString();else{const e=[];for(let n=0;n<s[0];n++)for(let r=0;r<s[2];r++)e.push(l.get(n,t,r));n=e.join(",")}if(void 0!==i[n])o[t]=i[n];else{const e=Object.keys(i).length;i[n]=e,o[t]=e,u.push(t)}}const h=s.slice();h[1]=Object.keys(i).length;const d=new Wd(h,r);u.forEach(((e,t)=>{for(let n=0;n<s[0];n++)for(let r=0;r<s[2];r++)d.set(l.get(n,e,r),n,t,r)}));const p=n.slice();return p[a]=h[1],{outputValues:d.values,outputShape:p,indices:o}}const xz={kernelName:Zh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:s}=t;bT(s,"unique");const i=r.data.get(s.dataId).values,{outputValues:o,outputShape:l,indices:u}=Az(i,a,s.shape,s.dtype);return[r.makeTensorInfo(l,s.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}};const kz={kernelName:Xh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:s}=r;s<0&&(s+=a.shape.length);const i=a.shape.length,o=a.shape[s],l=new Array(i-1);let u=0;for(let e=0;e<i;e++)e!==s&&(l[u++]=a.shape[e]);const c=new Array(i).fill(0),h=a.shape.slice();h[s]=1;const d=new Array(o);for(let e=0;e<d.length;e++){c[s]=e;const t=VN({inputs:{x:a},backend:n,attrs:{begin:c,size:h}});d[e]=tN({inputs:{x:t},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(t)}return d}};const Cz={kernelName:Yh,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:s}=t,{numSegments:i}=r;bT(a,"unsortedSegmentSum");const o=[],l=[],u=a.shape.length-s.shape.length;let c=s;for(let e=0;e<u;++e){const t=XD({inputs:{input:c},backend:n,attrs:{dim:e+1}});c=t,l.push(t)}for(let e=0;e<i;++e){const t=Td(e,"int32"),r=n.makeTensorInfo([],"int32",t),s=FD({inputs:{a:r,b:c},backend:n}),i=HT({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),u=DD({inputs:{a:i,b:a},backend:n}),h=OD({inputs:{x:u},backend:n,attrs:{axis:0,keepDims:!1}});o.push(h),l.push(r),l.push(s),l.push(i),l.push(u),l.push(h)}const h=HO({inputs:o,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}},Sz=[sN,oN,uN,hN,eN,dN,gN,yN,bN,wN,AN,kN,SN,TN,DN,zN,RN,MN,FN,aN,PN,UN,qN,$N,KT,ZN,YN,jT,QN,rD,sD,iD,oD,lD,uD,cD,dD,mD,fD,gD,yD,bD,wD,AD,xD,kD,CD,SD,ED,ID,zD,CT,RD,PD,$D,ZD,YD,e_,h_,p_,m_,y_,v_,A_,x_,C_,E_,N_,O_,ET,B_,tD,R_,F_,L_,TT,U_,q_,H_,X_,Q_,tO,rO,iO,oO,lO,hO,mO,fO,gO,yO,bO,wO,vO,AO,CO,SO,TO,_O,_D,BO,RO,FO,LO,UO,jO,$O,KO,ZO,QO,OT,eB,nB,$T,r_,aB,zT,MT,nN,sB,iB,oB,lB,uB,cB,dB,fB,yB,bB,xB,VT,CB,EB,TB,WN,DO,_B,OB,zB,MB,PB,LB,VB,WB,GB,qB,KB,XB,QB,tz,az,iz,o_,BD,lz,{kernelName:Gh,backendName:"cpu",kernelFunc:uz},hz,fz,gz,fN,xz,kz,Cz,qO];for(const e of Sz)hd(e);const Ez={},Iz={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Tz(e,t){if(!(e in Ez)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete Ez[e]}),!1),1===e)return n.getContext("webgl",Iz)||n.getContext("experimental-webgl",Iz);return n.getContext("webgl2",Iz)}(e,t);if(null===n)return null;Ez[e]=n}const n=Ez[e];return null==n||n.isContextLost()?(delete Ez[e],Tz(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Ez[e])}var Nz,Dz,_z;function Oz(e,t){return[t,e]}function Bz(e){const t=wl(e);return xl(Math.ceil(t/4))}function zz(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Rz(e,t){const n=e;let r,a,s,i,o,l,u,c,h,d;return 2===Yl().getNumber("WEBGL_VERSION")?(r=n.R32F,a=n.R16F,s=n.RGBA16F,i=n.RGBA32F,o=n.RED,u=4,c=1,h=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=e.RGBA,a=e.RGBA,s=e.RGBA,i=n.RGBA,o=e.RGBA,u=4,c=4,h=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:s,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:h,textureTypeFloat:d}}function Mz(e,t){const n=t();return Yl().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Nz||(Nz={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Dz||(Dz={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(_z||(_z={}));function Fz(e){return!!(Yl().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Pz(e,t){return Hz(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const Lz=/ERROR: [0-9]+:([0-9]+):/g;function Vz(e,t){const n=Lz.exec(t);if(null==n)return;const r=+n[1],a=e.split("\n"),s=a.length.toString().length+2,i=a.map(((e,t)=>kl((t+1).toString(),s)+e));let o=0;for(let e=0;e<i.length;e++)o=Math.max(i[e].length,o);i.slice(0,r-1),i.slice(r-1,r),i.slice(r)}function Wz(e,t){if(Mz(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw new Error("Shader program validation failed.")}function Uz(e,t,n,r,a,s,i){const o=e.getAttribLocation(t,n);return-1!==o&&(Mz(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),Mz(e,(()=>e.vertexAttribPointer(o,a,e.FLOAT,!1,s,i))),Mz(e,(()=>e.enableVertexAttribArray(o))),!0)}function jz(e,t,n,r){Mz(e,(()=>function(e,t,n){Kz(e,n),Mz(e,(()=>e.activeTexture(e.TEXTURE0+n))),Mz(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,r))),Mz(e,(()=>e.uniform1i(n,r)))}function Gz(e,t,n){Mz(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),Mz(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function qz(e,t){Mz(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),Mz(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function $z(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function Hz(e,t,n){const r=Mz(e,(()=>t()));if(null==r)throw new Error(n);return r}function Kz(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function Zz(e,t=2){return wl(e.slice(0,e.length-t))}function Xz(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Yz(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Zz(e),...Xz(e)]),t}function Qz(e){return e%2==0}function Jz(e,t){if(vl(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(Qz(n)&&Qz(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Qz(e[0])&&Qz(t[0])}let eR,tR;function nR(e,t){return null!=e.getExtension(t)}function rR(e){try{if(null!=Tz(e))return!0}catch(e){return!1}return!1}function aR(e){if(0===e)return!1;const t=Tz(e);if(1!==e){if(nR(t,"EXT_color_buffer_float"))return sR(t);const e="EXT_color_buffer_half_float";if(nR(t,e)){const n=t.getExtension(e);return function(e,t){const n=Rz(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const a=1,s=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,s,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),o}(t,n)}return!1}if(!nR(t,"OES_texture_float"))return!1;if(!nR(t,"WEBGL_color_buffer_float"))return!1;return sR(t)}function sR(e){const t=Rz(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function iR(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&fl("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const oR=Yl();function lR(){let e,t,n,r,a,s,i,o,l,u;return 2===Yl().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",s="outputColor",i="out vec4 outputColor;",o="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",s="gl_FragColor",i="",o="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:s,defineOutput:i,defineSpecialNaN:o,defineSpecialInf:l,defineRound:u}}function uR(e,t,n="index"){const r=Pl(t);return r.map(((t,a)=>`${`int ${e[a]} = ${n} / ${t}`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * ${t}`:`index -= ${e[a]} * ${t}`};`)).join("")}function cR(e,t,n="index"){const r=Pl(t);return r.map(((t,a)=>`${`int ${e[a]} = ${n} / outShapeStrides[${a}]`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * outShapeStrides[${a}]`:`index -= ${e[a]} * outShapeStrides[${a}]`};`)).join("")}function hR(e,t,n="index"){const r=function(e,t){const n=e.length,r=e.map((e=>`${t}[${e}]`)),a=new Array(n-1);a[n-2]=r[n-1];for(let e=n-3;e>=0;--e)a[e]=`(${a[e+1]} * ${r[e+1]})`;return a}(e.map(((e,t)=>t)),t);return r.map(((t,a)=>`${`int ${e[a]} = ${n} / ${r[a]}`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * ${r[a]}`:`index -= ${e[a]} * ${r[a]}`};`)).join("")}function dR(e){const t=Pl(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}oR.registerFlag("HAS_WEBGL",(()=>oR.getNumber("WEBGL_VERSION")>0)),oR.registerFlag("WEBGL_VERSION",(()=>rR(2)?2:rR(1)?1:0)),oR.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),oR.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===oR.get("WEBGL_VERSION"))),oR.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),oR.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),oR.registerFlag("WEBGL_PACK",(()=>oR.getBool("HAS_WEBGL"))),oR.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>oR.getBool("WEBGL_PACK"))),oR.registerFlag("WEBGL_PACK_CLIP",(()=>oR.getBool("WEBGL_PACK"))),oR.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>oR.getBool("WEBGL_PACK"))),oR.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>oR.getBool("WEBGL_PACK"))),oR.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>oR.getBool("WEBGL_PACK"))),oR.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>oR.getBool("WEBGL_PACK"))),oR.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>oR.getBool("WEBGL_PACK"))),oR.registerFlag("WEBGL_PACK_REDUCE",(()=>oR.getBool("WEBGL_PACK"))),oR.registerFlag("WEBGL_LAZILY_UNPACK",(()=>oR.getBool("WEBGL_PACK"))),oR.registerFlag("WEBGL_CONV_IM2COL",(()=>oR.getBool("WEBGL_PACK"))),oR.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==eR){const t=Tz(e);eR=t.getParameter(t.MAX_TEXTURE_SIZE)}return eR}(oR.getNumber("WEBGL_VERSION")))),oR.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==tR){const t=Tz(e);tR=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,tR)}(oR.getNumber("WEBGL_VERSION")))),oR.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=oR.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=Tz(e);return t=nR(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:nR(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),oR.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>oR.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!pp())),oR.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=Tz(e);if(1===e){if(!nR(t,"OES_texture_float"))return!1}else if(!nR(t,"EXT_color_buffer_float"))return!1;return sR(t)}(oR.getNumber("WEBGL_VERSION")))),oR.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!oR.getBool("WEBGL_FORCE_F16_TEXTURES")&&oR.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),oR.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>aR(oR.getNumber("WEBGL_VERSION")))),oR.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=oR.getNumber("WEBGL_VERSION"))&&null!=Tz(e).fenceSync;var e})),oR.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>oR.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),oR.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),oR.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>pp()?1:-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),oR.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),oR.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),oR.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),oR.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128));const pR="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:mR}=n;function fR(e,t,n){const r=[];if(e.forEach((e=>{const t=wl(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=ER(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const a=r.join("\n"),s=e.map((e=>function(e,t,n=!1,r){let a="";a+=n?yR(e,r):gR(e,r);const s=e.shapeInfo.logicalShape,i=t.logicalShape;s.length<=i.length&&(a+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",s=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,o=mR(e.shapeInfo.logicalShape,t.logicalShape),l=SR(i),u=i-s;let c;const h=["x","y","z","w","u","v"];c=0===s?"":i<2&&o.length>=1?"coords = 0;":o.map((e=>`coords.${h[e+u]} = 0;`)).join("\n");let d="";d=i<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+u]}`)).join(", ");let p="return outputValue;";const m=1===wl(e.shapeInfo.logicalShape),f=1===wl(t.logicalShape);if(1!==s||m||f){if(m&&!f)p=1===i?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(o.length){const e=s-2,t=s-1;o.indexOf(e)>-1&&o.indexOf(t)>-1?p="return vec4(outputValue.x);":o.indexOf(e)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(t)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${a}() {\n      ${l} coords = getOutputCoords();\n      ${c}\n      vec4 outputValue = get${r}(${d});\n      ${p}\n    }\n  `}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",s=t.texShape,i=e.shapeInfo.texShape,o=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&o===l&&null==e.shapeInfo.flatOffset&&vl(i,s))return`\n      float ${a}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const u=SR(l),c=mR(e.shapeInfo.logicalShape,t.logicalShape),h=l-o;let d;const p=["x","y","z","w","u","v"];d=0===o?"":l<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${p[e+h]} = 0;`)).join("\n");let m="";m=l<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${p[t+h]}`)).join(", ");return`\n    float ${a}() {\n      ${u} coords = getOutputCoords();\n      ${d}\n      return get${r}(${m});\n    }\n  `}(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),i=t.texShape,o=lR(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(o);let u,c,h=function(e){return`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${bR}\n    ${wR}\n    ${vR}\n  `}(o);t.isPacked?(u=function(e,t,n){switch(e.length){case 0:return xR();case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(vl(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),s=a*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${s};\n      index -= b * ${s};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),s=a*Math.ceil(e[e.length-2]/2);let i=s,o="",l="b, r, c";for(let t=2;t<e.length-1;t++)i*=e[e.length-t-1],o=`\n      int b${t} = index / ${i};\n      index -= b${t} * ${i};\n    `+o,l=`b${t}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${o}\n\n      int b = index / ${s};\n      index -= b * ${s};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,i,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(o)):(u=function(e,t,n){switch(e.length){case 0:return xR();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(vl(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${cR(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const r=uR(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${cR(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const r=uR(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=uR(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=uR(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,i,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(o)),n.packedInputs&&(h+=AR);return[h,l,c,a,u,s,n.userCode].join("\n")}function gR(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[a,s]=e.shapeInfo.texShape;if(1===a&&1===s)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const i=kR(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${i});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[o,l]=e.shapeInfo.texShape;return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${o}, ${l}, ${i});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${CR(e)}\n      }\n    `;const a=e.shapeInfo.texShape,s=a[0],i=a[1];if(1===i&&1===s)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const o=kR(n);if(1===i)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${s}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===s)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${i}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${s}, ${i}, index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),s=e.shapeInfo.texShape;if(null!=s&&vl(n,s)){if(t)return`\n      float ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;const e=s[0];return`\n    float ${a}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${s[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:i,keptDims:o}=Il(n),l=i;if(l.length<n.length){const n=["row","col"];return`\n      ${gR(IR(e,l),t)}\n      float ${a}(int row, int col) {\n        return ${a}(${TR(n,o)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${CR(e)}\n      }\n    `;const u=s[0],c=s[1],h=kR(r);if(1===c)return t?`\n      float ${a}(int row, int col) {\n        float index = dot(vec3(row, col, ${h}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${h}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===u)return t?`\n      float ${a}(int row, int col) {\n        float index = dot(vec3(row, col, ${h}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${h}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(t)return`\n      float ${a}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${h};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `;return`\n  float ${a}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${h};\n    vec2 uv = uvFromFlat(${u}, ${c}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),s=n[1]*n[2],i=n[2],{newShape:o,keptDims:l}=Il(n),u=o;if(u.length<n.length){const n=["row","col","depth"];return`\n        ${gR(IR(e,u),t)}\n        float ${a}(int row, int col, int depth) {\n          return ${a}(${TR(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${s}, ${i}, 1)));\n        ${CR(e)}\n      }\n    `;const c=e.shapeInfo.texShape,h=c[0],d=c[1],p=e.shapeInfo.flatOffset;if(d===s&&null==p)return t?`\n      float ${a}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${a}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${i}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${d}.0, ${h}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(d===i&&null==p)return t?`\n      float ${a}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${h}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const m=kR(r);if(t)return`\n    float ${a}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * ${s} + col * ${i} + depth + ${m};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `;return`\n      float ${a}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${s} + col * ${i} + depth + ${m};\n        vec2 uv = uvFromFlat(${h}, ${d}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),s=n[3],i=n[2]*s,o=n[1]*i,{newShape:l,keptDims:u}=Il(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${gR(IR(e,l),t)}\n      float ${a}(int row, int col, int depth, int depth2) {\n        return ${a}(${TR(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${o}, ${i}, ${s}, 1)));\n        ${CR(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1],m=`int stride2 = ${r}Shape[3];`,f=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(p===o&&null==c)return t?`\n      float ${a}(int row, int col, int depth, int depth2) {\n        ${m}\n        ${f}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${i}, ${s}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(p===s&&null==c)return t?`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const y=kR(r);if(t)return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${m}\n      ${f}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${i} +\n          depth * ${s} + depth2;\n      vec2 uv = uvFromFlat(${d}, ${p}, index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],s=t[3]*a,i=t[2]*s,o=t[1]*i,{newShape:l,keptDims:u}=Il(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${gR(IR(e,l))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${TR(t,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${o}, ${i}, ${s}, ${a})) +\n          depth3;\n        ${CR(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1];if(p===o&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${i}, ${s}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(p===a&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=kR(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${i} + depth * ${s} +\n          depth2 * ${a} + depth3 + ${m};\n      vec2 uv = uvFromFlat(${d}, ${p}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:a,keptDims:s}=Il(t);if(a.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${gR(IR(e,a))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${TR(t,s)});\n      }\n    `}const i=t[5],o=t[4]*i,l=t[3]*o,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${u}, ${l}, ${o})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${i}, 1)));\n        ${CR(e)}\n      }\n    `;const h=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],m=d[1];if(m===c&&null==h)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${u}, ${l}, ${o}, ${i})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${m}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(m===i&&null==h)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${m}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const f=kR(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${u} + depth * ${l} +\n          depth2 * ${o} + depth3 * ${i} + depth4 + ${f};\n      vec2 uv = uvFromFlat(${p}, ${m}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function yR(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=lR();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,s=lR();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${s.texture2D}(${n}, uv);\n    }\n  `;const i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${i[0]}, ${i[1]}, index);\n      return ${s.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),s=e.shapeInfo.texShape,i=s[0],o=s[1],l=lR();if(null!=s&&vl(n,s))return t?`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${i}.0);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${a}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `;const u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=Math.ceil(n[1]/2);return`\n    vec4 ${a}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),s=e.shapeInfo.texShape,i=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];if(1===n[0]){const r=[1,2],s=["b","row","col"];return`\n        ${yR(IR(e,n.slice(1)),t)}\n        vec4 ${a}(int b, int row, int col) {\n          return ${a}(${TR(s,r)});\n        }\n      `}const o=lR();if(t)return`\n    vec4 ${a}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${o.texture2D}(${r}, uv);\n    }\n  `;const l=i[0],u=i[1],c=Math.ceil(n[2]/2),h=c*Math.ceil(n[1]/2);return`\n    vec4 ${a}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${u}, ${h}, ${c}, b, row, col);\n      return ${o.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=lR();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${a.texture2D}(${n}, uv);\n    }\n  `;const s=e.shapeInfo.logicalShape,i=s.length,o=e.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=l[0],c=l[1],h=Math.ceil(s[i-1]/2);let d=h*Math.ceil(s[i-2]/2),p="int b, int row, int col",m=`b * ${d} + (row / 2) * ${h} + (col / 2)`;for(let e=2;e<i-1;e++)p=`int b${e}, `+p,d*=s[i-e-1],m=`b${e} * ${d} + `+m;return`\n    vec4 ${r}(${p}) {\n      int index = ${m};\n      int texR = index / ${c};\n      int texC = index - texR * ${c};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});\n      return ${a.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const bR="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",wR="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",vR="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",AR="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function xR(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function kR(e){return`offset${e}`}function CR(e){const t=e.name,n=wl(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function SR(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function ER(e,t,n){const{newShape:r,keptDims:a}=Il(t),s=t.length,i=e&&3===s&&1===t[0],o=i?t.slice(1):r,l=!e&&s>1&&!vl(t,n)&&r.length<s||i;return{useSqueezeShape:l,uniformShape:l?o:t,keptDims:a}}function IR(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function TR(e,t){return t.map((t=>e[t])).join(", ")}function NR(e,t,n,r){const a=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),s=a.map((e=>e.shapeInfo)),i={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},o=fR(a,i,t),l=function(e,t){const n=Hz(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(Mz(e,(()=>e.shaderSource(n,t))),Mz(e,(()=>e.compileShader(n))),Yl().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw Vz(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,o),u=e.createProgram(l);return Yl().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:s,outShapeInfo:i,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:s,outShapeInfo:i},DR(e,t,u))}function DR(e,t,n){const r={},a={},s={},i=[];let o,l,u,c=null,h=null;h=e.getUniformLocation(n,"NAN",!1),1===Yl().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(n,"INFINITY",!1));const d=!1;for(let i=0;i<t.variableNames.length;i++){const o=t.variableNames[i];r[o]=e.getUniformLocation(n,o,d),r[`offset${o}`]=e.getUniformLocation(n,`offset${o}`,d),t.enableShapeUniforms&&(a[`${o}Shape`]=e.getUniformLocation(n,`${o}Shape`,d),s[`${o}TexShape`]=e.getUniformLocation(n,`${o}TexShape`,d))}return t.enableShapeUniforms&&(o=e.getUniformLocation(n,"outShape",d),u=e.getUniformLocation(n,"outShapeStrides",d),l=e.getUniformLocation(n,"outTexShape",d)),t.customUniforms&&t.customUniforms.forEach(((t,r)=>{i[r]=e.getUniformLocation(n,t.name,d)})),{uniformLocations:r,customUniformLocations:i,infLoc:c,nanLoc:h,inShapesLocations:a,inTexShapesLocations:s,outShapeLocation:o,outShapeStridesLocation:u,outTexShapeLocation:l}}function _R(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const r=e.logicalShape,a=t[n],s=a.shape;if(!vl(r,s))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${s} must match`);if(e.isUniform&&a.isUniform)return;const i=e.texShape,o=a.isUniform?null:a.texData.texShape;if(!vl(i,o))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${i} and ${o} must match`)}))}function OR(e){return Yl().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class BR{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Nz.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=lR();this.outputShape=e,this.enableShapeUniforms=OR(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?cR(["r","c","d"],e):uR(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class zR{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Nz.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=lR();this.outputShape=e,this.enableShapeUniforms=OR(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?cR(["r","c","d"],e):uR(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class RR{constructor(e){this.variableNames=["A"],this.outTexUsage=Dz.DOWNLOAD;const t=lR();this.outputShape=e,this.userCode=`\n      ${pR}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class MR{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Dz.DOWNLOAD;const t=lR();this.outputShape=e,this.userCode=`\n      ${pR}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}class FR{constructor(e,t=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=lR();this.outputShape=e,this.enableShapeUniforms=OR(this.outputShape.length);let r="result";t&&(r="floor(result * 255. + 0.5)"),this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":dR(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ${n.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${n.output} = vec4(${r}, 0., 0., 0.);\n      }\n    `}}class PR{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=lR();this.outputShape=e,this.enableShapeUniforms=OR(this.outputShape.length);let r="",a="result";t&&(a="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let a=0;a<=1;a++){const s=2*t+a;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${a} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${a};\n          if (localCoords[1] + ${t} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${t};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${s}] = values[0];\n            } else if (offset == 1) {\n              result[${s}] = values[1];\n            } else if (offset == 2) {\n              result[${s}] = values[2];\n            } else {\n              result[${s}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":dR(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${n.output} = ${a};\n        }\n    `}}function LR(e){const t=lR();return function(e,t){const n=Hz(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(Mz(e,(()=>e.shaderSource(n,t))),Mz(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function VR(e){return function(e,t){const n=Hz(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return Mz(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),Mz(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function WR(e){return function(e,t){const n=Hz(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return Mz(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),Mz(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function UR(e,t,n,r,a,s){!function(e,t){const n=Yl().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const i=function(e){return Hz(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),o=e.TEXTURE_2D;return Mz(e,(()=>e.bindTexture(o,i))),Mz(e,(()=>e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),Mz(e,(()=>e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),Mz(e,(()=>e.texParameteri(o,e.TEXTURE_MIN_FILTER,e.NEAREST))),Mz(e,(()=>e.texParameteri(o,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===Yl().getNumber("WEBGL_VERSION")?Mz(e,(()=>e.texImage2D(o,0,r,t,n,0,a,s,null))):Mz(e,(()=>e.texStorage2D(o,1,r,t,n))),Mz(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:i,texShape:[n,t]}}function jR(e){return e.internalFormatFloat}function GR(e){return e.internalFormatHalfFloat}function qR(e){return e.downloadTextureFormat}function $R(e){return e.internalFormatPackedFloat}function HR(e){return e.internalFormatPackedHalfFloat}function KR(e,t,n,r,a,s,i,o){const l=e,u=new Float32Array(function(e,t){const[n,r]=zz(e,t);return n*r*4}(s,i));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}class ZR{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=Yl().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,function(e,t){Ez[e]=t}(t,e)):this.gl=Tz(t);let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===Yl().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=Pz(this.gl,e),nR(this.gl,t))this.textureHalfFloatExtension=Pz(this.gl,t);else if(Yl().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),nR(this.gl,r))this.colorBufferHalfFloatExtension=Pz(this.gl,r);else if(Yl().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",nR(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!nR(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=VR(this.gl),this.indexBuffer=WR(this.gl),this.framebuffer=function(e){return Hz(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=Rz(this.gl,this.textureHalfFloatExtension)}get debug(){return Yl().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program,this.outputTexture;const e=this.gl;Mz(e,(()=>e.finish())),Mz(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),Mz(e,(()=>e.deleteFramebuffer(this.framebuffer))),Mz(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),Mz(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),Mz(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,s]=Oz(t,n);return UR(e,a,s,jR(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,s]=Oz(t,n);return UR(e,a,s,GR(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,s]=Oz(t,n);return UR(e,a,s,qR(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){Mz(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===Yl().getNumber("WEBGL_VERSION")?Mz(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):Mz(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===Yl().getNumber("WEBGL_VERSION")?Mz(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):Mz(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),Mz(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,s){let i,o,l;Mz(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),a instanceof Uint8Array?(i=new Uint8Array(n*r*4),o=e.UNSIGNED_BYTE,l=e.RGBA):(i=new Float32Array(n*r*4),o=e.FLOAT,l=s.internalFormatPackedFloat),i.set(a),2===Yl().getNumber("WEBGL_VERSION")?Mz(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,o,i))):Mz(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,o,i))),Mz(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,s]=zz(t,n);return UR(e,a,s,HR(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,s]=zz(t,n);return UR(e,a,s,$R(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(qz(this.gl,this.framebuffer),this.outputTexture=null),Mz(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[a,s]=Oz(t,n),i=new Uint8Array(t*n*4);return Mz(e,(()=>e.readPixels(0,0,a,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,i))),new Float32Array(i.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,a,s){return KR(this.gl,e,0,0,0,a,s,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n,r){const a=e.createBuffer();Mz(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,a)));const s=16*t*n;return Mz(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,s,e.STREAM_READ))),Mz(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),Mz(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),a}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(Yl().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,a=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(a,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=a}else Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return Mz(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=LR(t));const n=function(e){return Hz(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);return Mz(t,(()=>t.attachShader(n,this.vertexShader))),Mz(t,(()=>t.attachShader(n,e))),function(e,t){if(Mz(e,(()=>e.linkProgram(t))),!Yl().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw new Error("Failed to link vertex and fragment shaders.")}(t,n),this.debug&&Wz(t,n),this.vertexAttrsAreBound||(this.setProgram(n),this.vertexAttrsAreBound=function(e,t,n){return Mz(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),Uz(e,t,"clipSpacePos",n,3,20,0)&&Uz(e,t,"uv",n,2,20,12)}(t,this.program,this.vertexBuffer)),n}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&Mz(this.gl,(()=>this.gl.deleteProgram(e)))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&Wz(this.gl,this.program),Mz(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?function(e,t,n){return Hz(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),Mz(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),jz(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,a]=zz(t,n);this.setOutputMatrixTextureDriver(e,r,a)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&Wz(this.gl,this.program),$z(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),Mz(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Mz(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Pz(this.gl,2===Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await Cl((()=>this.disposed||this.isQueryAvailable(e,Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||Cl((()=>(this.pollItems(),0===this.itemsToPoll.length)))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),Gz(this.gl,e,this.framebuffer),this.debug&&$z(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(Gz(this.gl,this.outputTexture,this.framebuffer),this.debug&&$z(this.gl)):qz(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;Gz(r,e,this.framebuffer),this.debug&&$z(r),this.outputTexture=e,Mz(r,(()=>r.viewport(0,0,t,n))),Mz(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),Mz(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{addImpl:XR,bincountImpl:YR,bincountReduceImpl:QR,ceilImpl:JR,concatImpl:eM,equalImpl:tM,expImpl:nM,expm1Impl:rM,floorImpl:aM,gatherNdImpl:sM,gatherV2Impl:iM,greaterImpl:oM,greaterEqualImpl:lM,lessImpl:uM,lessEqualImpl:cM,linSpaceImpl:hM,logImpl:dM,maxImpl:pM,maximumImpl:mM,minimumImpl:fM,multiplyImpl:gM,negImpl:yM,notEqualImpl:bM,prodImpl:wM,rangeImpl:vM,rsqrtImpl:AM,sigmoidImpl:xM,simpleAbsImpl:kM,sliceImpl:CM,sparseFillEmptyRowsImpl:SM,sparseReshapeImpl:EM,sparseSegmentReductionImpl:IM,sqrtImpl:TM,stridedSliceImpl:NM,stringNGramsImpl:DM,stringSplitImpl:_M,stringToHashBucketFastImpl:OM,subImpl:BM,tileImpl:zM,topKImpl:RM,transposeImpl:MM,uniqueImpl:FM}=r;function PM(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function LM(e,t){return 1===t?[e]:PM(e,t)}class VM{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=OR(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=LM("rc",this.rank),t=SR(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),a=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${r}\n\n            setOutput(vec4(${a}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let a=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)a=`${e[e.length-1-t]},`+a;t.push(a)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class WM{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=OR(this.outputShape.length);let n="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),n+=`\n        ${t}\n        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${e>0?"}":""}\n      `}var r,a;this.userCode=`\n      ${r=t,a=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${a?hR(["r","c","d"],"inputShape"):uR(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":dR(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class UM{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,t,n){const r=GM(t,n),a=qM(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);const s=jM(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=s,this.log();const e=this.freeTextures[a].shift();return this.usedTextures[a].push(e),e}let i;return r===_z.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===_z.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===_z.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===_z.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===_z.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),this.numUsedTextures++,this._numBytesAllocated+=s,this.log(),i}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const a=GM(n,r),s=qM(t,a,r);s in this.freeTextures||(this.freeTextures[s]=[]);const i=jM(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),o=Yl().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==o&&this._numBytesAllocated>o?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=i):(this.freeTextures[s].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;const l=this.usedTextures[s],u=l.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l.splice(u,1),this.log()}log(){if(!this.logEnabled)return;this.numFreeTextures,this.numUsedTextures,this._numBytesFree,this._numBytesAllocated}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function jM(e,t,n,r,a){const s=function(e,t){switch(e){case _z.PACKED_2X2_FLOAT32:return $R(t);case _z.PACKED_2X2_FLOAT16:return HR(t);case _z.UNPACKED_FLOAT32:return jR(t);case _z.UNPACKED_FLOAT16:return GR(t);case _z.PACKED_4X1_UNSIGNED_BYTE:return qR(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);let i;if(a){const[t,n]=zz(e[0],e[1]);i=t*n}else{const[t,n]=Oz(e[0],e[1]);i=t*n}const o=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,s);return i*o}function GM(e,t){if(e===Dz.UPLOAD)return _z.PACKED_2X2_FLOAT32;if(e===Dz.RENDER||null==e)return function(e){return Yl().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?_z.PACKED_2X2_FLOAT32:_z.UNPACKED_FLOAT32:e?_z.PACKED_2X2_FLOAT16:_z.UNPACKED_FLOAT16}(t);if(e===Dz.DOWNLOAD||e===Dz.PIXELS)return _z.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function qM(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class $M{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=OR(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const HM="return abs(x);";const KM="return x;";class ZM{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=OR(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class XM{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=OR(this.outputShape.length);const t=e.length,n=LM("rc",t),r=SR(t),a=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),s=n.slice(-2),i=t<=1?"rc":`vec2(${s.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${a});\n\n        setOutput(getChannel(packedInput, ${i}));\n      }\n    `}}const YM=Iw,QM={};const JM=Yl().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class eF extends ul{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Yl().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof ZR)t=e;else{const n=Tz(Yl().getNumber("WEBGL_VERSION"),e);t=new ZR(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=Tz(Yl().getNumber("WEBGL_VERSION"));t=new ZR(e),this.binaryCache=((n=Yl().getNumber("WEBGL_VERSION"))in QM||(QM[n]={}),QM[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new UM(this.gpgpu),this.numMBBeforeWarning=null==Yl().global.screen?1024:Yl().global.screen.height*Yl().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new ll(this,Wm())}nextDataId(){return eF.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,t,n){if((Yl().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Yl().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Dz.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,a){if(Yl().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Dz.UPLOAD,refCount:a})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:a,slice:s,shape:i,isPacked:o}=t;if(null!=s){let t;t=o?new ZM(i,KM):new $M(i,KM);const n=this.runWebGLProgram(t,[{dataId:e,shape:i,dtype:r}],r),a=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),a}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const l=null!=this.activeTimers;let u,c;if(l&&(u=Dd()),"complex64"===r){c=Hb(this.readSync(a.real.dataId),this.readSync(a.imag.dataId))}else c=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=Dd()-u),this.convertAndCacheOnCPU(e,c)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:a,dtype:s,complexTensorInfos:i,isPacked:o}=t;if(null!=a){let t;t=o?new ZM(r,KM):new $M(r,KM);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:s}],s),a=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),a}if(null!=n)return this.convertAndCacheOnCPU(e);if(Yl().getBool("DEBUG")&&!Yl().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===Yl().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,u,c=null;if("complex64"!==s&&Yl().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);c=this.gpgpu.createBufferFromTexture(t.texture.texture,...Bz(r))}if(this.pendingRead.set(e,[]),"complex64"!==s&&await this.gpgpu.createAndWaitForFence(),"complex64"===s){const e=await Promise.all([this.read(i.real.dataId),this.read(i.imag.dataId)]);u=Hb(e[0],e[1])}else if(null==c)u=this.getValuesFromTexture(e);else{const e=wl(r);u=this.gpgpu.downloadFloat32MatrixFromBuffer(c,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=c){const e=this.gpgpu.gl;Mz(e,(()=>e.deleteBuffer(c)))}const h=this.convertAndCacheOnCPU(e,u),d=this.pendingRead.get(e);return this.pendingRead.delete(e),d.forEach((e=>e(h))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Wm().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,t={}){const n=this.texData.get(e),{values:r,shape:a,slice:s,dtype:i,isPacked:o,texture:l}=n;if("complex64"===i)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=s){let n;n=o?new ZM(a,KM):new $M(a,KM);const r=this.runWebGLProgram(n,[{dataId:e,shape:a,dtype:i}],i),s=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),s}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,t.customTexShape),c=Wm().makeTensorFromDataId(u.dataId,u.shape,u.dtype),h=this.texData.get(u.dataId);return Object.assign({tensorRef:c},h.texture)}bufferSync(e){const t=this.readSync(e.dataId);let n=t;if("string"===e.dtype)try{n=t.map((e=>Od(e)))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return om(e.shape,e.dtype,n)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!Fz(n)){if(Yl().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),a=wl(t);if(Yl().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),s=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...Bz(t)).subarray(0,a);return this.disposeIntermediateTensorInfo(n),s}const s=Yl().getBool("WEBGL_PACK")&&!0===r,i=s?Yz(t):t,o=s?new MR(i):new RR(i),l=this.runWebGLProgram(o,[{shape:i,dtype:n,dataId:e}],"float32"),u=this.texData.get(l.dataId),c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(l),c}timerAvailable(){return Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const a=bl(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),s=bl(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(a);i.kernelMs=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}(e),i.getExtraProfileInfo=()=>e.map(((e,t)=>({name:s[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else i.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,i})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Dd(),endMs:null}}endTimer(e){return Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Dd(),e)}async getQueryTime(e){if(Yl().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:a,isPacked:s,slice:i}=this.texData.get(e),o=i&&i.origDataId||e,l=this.dataRefCount.get(o);l>1?this.dataRefCount.set(o,l-1):(this.dataRefCount.delete(o),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,a,s)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=JM){return Yl().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&wl(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){ad();const t=e.dataSync();return YM(e.shape,t)}packedUnaryOp(e,t,n){const r=new ZM(e.shape,t),a=this.compileAndRun(r,[e],n);return Wm().makeTensorFromDataId(a.dataId,a.shape,a.dtype)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=kM(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(Yl().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,HM,e.dtype);const t=new $M(e.shape,HM),n=this.compileAndRun(t,[e]);return Wm().makeTensorFromDataId(n.dataId,n.shape,n.dtype)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&Bl(n[0])){const a=n.map((e=>_d(e)));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){const{dataId:r}=this.makeTensorInfo(e,t,n);return Wm().makeTensorFromDataId(r,e,t,this)}unpackTensor(e){const t=new XM(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new VM(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[Zz(e.shape),...Xz(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[Zz(t),...Xz(t)],s=new WM(a,n),i=[n],o=this.runWebGLProgram(s,[r],e.dtype,i,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:a,dtype:s}=n;if(null!=t){fl(wl(a)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const i=Yz(a);let o;o=r?new zR(i):new BR(i);const l=[null!=t?t:Bz(i)];return{dtype:s,shape:a,dataId:this.runWebGLProgram(o,[{shape:i,dtype:s,dataId:e}],s,l,!0,t).dataId}}runWebGLProgram(e,t,n,r,a=!1,s){const i=this.makeTensorInfo(e.outputShape,n),o=this.texData.get(i.dataId);if(e.packedOutput&&(o.isPacked=!0),e.outPackingScheme===Nz.DENSE){const t=null!=s?s:Bz(e.outputShape);o.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(o.usage=e.outTexUsage),0===wl(i.shape))return o.values=Tl(i.dtype,0),i;const l=[],u=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&wl(t.shape)<=Yl().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!=!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!Jz(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),l.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(i.dataId);const c={shape:i.shape,texData:o,isUniform:!1},h=function(e,t,n){let r="";t.concat(n).forEach((t=>{const a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const s=t.texData.texShape,{useSqueezeShape:i,uniformShape:o,keptDims:l}=ER(e.packedInputs,t.shape,s);let u="",c="",h="";if(1===o.length&&e.packedInputs){const e=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];u=`${e[0]>1}_${e[1]>1}`}else if(2!==o.length||e.packedInputs){if(o.length>2&&!e.packedInputs){const e=Pl(o);h=`${e[0]===s[1]}_${e[e.length-1]===s[1]}`}}else c=`${o[0]>1}_${o[1]>1}`;const d=t.shape.length,p=2===o.length&&vl(t.shape,s),m=1===wl(t.shape),f=bm(t.shape,n.shape),g=!e.packedInputs&&d===n.shape.length&&vl(s,n.texData.texShape),y=e.packedInputs||o.length>2?"":`${s[0]>1}_${s[1]>1}`;r+=`${d}_${g}_${i?l:""}_${o.length}_${m}_${f}_${p}_${u}_${c}_${h}_${y}_${a}`}else{const e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${a}`}}));const a=e.userCode;let s=e.constructor.name;return s+="_"+r+"_"+a+`${Yl().getNumber("WEBGL_VERSION")}`,s}(e,u,c),d=this.getAndSaveBinary(h,(()=>NR(this.gpgpu,e,u,c))),p=null!=this.activeTimers;let m;p&&(m=this.startTimer()),Yl().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,a){t.program.enableShapeUniforms||(_R(t.inShapeInfos,n),_R([t.outShapeInfo],[r]));const s=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(s.texture,i[0],i[1]):e.setOutputMatrixTexture(s.texture,i[0],i[1]),e.setProgram(t.webGLProgram),1===Yl().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(((n,r)=>{const a=t.program.variableNames[r],s=t.uniformLocations[a],i=t.uniformLocations[`offset${a}`],o=t.inShapesLocations[`${a}Shape`],l=t.inTexShapesLocations[`${a}TexShape`];if(o){const{uniformShape:r}=ER(t.program.packedInputs,n.shape,n.texData.texShape);switch(r.length){case 1:e.gl.uniform1iv(o,new Int32Array(r));break;case 2:e.gl.uniform2iv(o,new Int32Array(r));break;case 3:e.gl.uniform3iv(o,new Int32Array(r));break;case 4:e.gl.uniform4iv(o,new Int32Array(r))}}if(l&&e.gl.uniform2i(l,n.texData.texShape[0],n.texData.texShape[1]),null!=s)if(n.isUniform)if(wl(n.shape)<2)e.gl.uniform1f(s,n.uniformValues[0]);else{let t=n.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(s,t)}else null!=n.texData.slice&&null!=i&&e.gl.uniform1i(i,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,s,r)}));const o=t.outShapeLocation;if(o)switch(r.shape.length){case 1:e.gl.uniform1iv(o,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(o,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(o,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(o,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=Pl(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a&&t.program.customUniforms.forEach(((n,r)=>{const s=t.customUniformLocations[r],i=a[r];if("float"===n.type)e.gl.uniform1fv(s,i);else if("vec2"===n.type)e.gl.uniform2fv(s,i);else if("vec3"===n.type)e.gl.uniform3fv(s,i);else if("vec4"===n.type)e.gl.uniform4fv(s,i);else if("int"===n.type)e.gl.uniform1iv(s,i);else if("ivec2"===n.type)e.gl.uniform2iv(s,i);else if("ivec3"===n.type)e.gl.uniform3iv(s,i);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(s,i)}})),e.executeProgram()}(this.gpgpu,d,u,c,r),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),p&&(m=this.endTimer(m),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(m)}));const f=Yl().get("WEBGL_FLUSH_THRESHOLD");if(f>0){const e=Dd();e-this.lastGlFlushTime>f&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!Yl().getBool("WEBGL_LAZILY_UNPACK")&&o.isPacked&&!1===a){const e=this.unpackTensor(i);return this.disposeIntermediateTensorInfo(i),e}return i}compileAndRun(e,t,n,r,a=!1){n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,a)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!Yl().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=jm((()=>{if(!Yl().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Yl().getBool("DEBUG");Yl().set("DEBUG",!1);const t=this.abs(Km(1e-8)).dataSync()[0];if(Yl().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:a,texture:s,usage:i,isPacked:o}=t;if(null!=s)return;const l=null!=this.activeTimers;let u;l&&(u=Dd());let c=t.texShape;if(null==c&&(c=function(e,t=!1){let n=Yl().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map(((t,n)=>n>=e.length-2?pl(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=Il(e);e=t.newShape}let r=wl(e);if(e.length<=1&&r<=n)return[1,r];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){const t=Zz(e);let n=2,a=2;return e.length&&([n,a]=Xz(e)),r=t*(n/2)*(a/2),xl(r).map((e=>2*e))}return xl(r)}(n,o),t.texShape=c),null!=a){const e=Yz(n);let s,i=c[1],h=c[0];const d=a instanceof Uint8Array||a instanceof Uint8ClampedArray;!o&&d||([i,h]=zz(c[0],c[1])),s=o?new PR(e,d):new FR(e,d);const p=d?[h,i]:c,m=this.makeTensorInfo(p,r),f=this.texData.get(m.dataId);f.usage=d?Dz.PIXELS:Dz.UPLOAD,f.texShape=p,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(m.dataId),i,h,a);const g=[[h,i]],y=!0,b=this.runWebGLProgram(s,[m],r,g,y),w=this.texData.get(b.dataId);t.texShape=w.texShape,t.isPacked=w.isPacked,t.usage=w.usage,Yl().get("ENGINE_COMPILE_ONLY")?this.disposeData(b.dataId):(t.texture=w.texture,t.values=null,this.texData.delete(b.dataId)),this.disposeIntermediateTensorInfo(m),l&&(this.uploadWaitMs+=Dd()-u)}else{const e=this.acquireTexture(c,i,r,o);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*Ol(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(e){throw e}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await Cb(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw Vz(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:t,customUniformLocations:n,infLoc:r,nanLoc:a,inShapesLocations:s,inTexShapesLocations:i,outShapeLocation:o,outShapeStridesLocation:l,outTexShapeLocation:u}=DR(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=a,e.inShapesLocations=s,e.inTexShapesLocations=i,e.outShapeLocation=o,e.outShapeStridesLocation=l,e.outTexShapeLocation=u}}}eF.nextDataId=0;mp()&&$m("webgl",(()=>new eF),2);class tF{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=vm(t,n),this.enableShapeUniforms=OR(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}class nF{constructor(e,t,n,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=vm(t,n);const a=this.outputShape.length;this.enableShapeUniforms=OR(a);let s="";if(r)if(0===a||1===wl(this.outputShape))s="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(s=`\n          ${SR(a)} coords = getOutputCoords();\n        `,1===a)this.enableShapeUniforms?s+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":s+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=LM("coords",a);this.enableShapeUniforms?s+=`\n            bool nextRowOutOfBounds =\n              (${e[a-2]} + 1) >= outShape[${a} - 2];\n            bool nextColOutOfBounds =\n              (${e[a-1]} + 1) >= outShape[${a} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:s+=`\n            bool nextRowOutOfBounds =\n              (${e[a-2]} + 1) >= ${this.outputShape[a-2]};\n            bool nextColOutOfBounds =\n              (${e[a-1]} + 1) >= ${this.outputShape[a-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${s}\n\n        setOutput(result);\n      }\n    `}}function rF(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const aF={kernelName:fc,backendName:"webgl",kernelFunc:rF};function sF(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,s=n.makeTensorInfo(r.shape,"complex64"),i=n.texData.get(s.dataId),o=rF({inputs:{x:r},backend:n}),l=rF({inputs:{x:a},backend:n});return i.complexTensorInfos={real:o,imag:l},s}const iF={kernelName:Iu,backendName:"webgl",kernelFunc:sF},oF="return (a < 0.) ? b * a : a;",lF="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const uF={kernelName:Ac,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:s}=r,i=n.makeTensorInfo([],"float32",Td(s,"float32")),o=Yl().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nF(lF,a.shape,i.shape):new tF(oF,a.shape,i.shape),l=n.runWebGLProgram(o,[a,i],"float32");return n.disposeIntermediateTensorInfo(i),l}},cF="return (a < 0.) ? b * a : a;",hF="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const dF={kernelName:nh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,s=Yl().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nF(hF,r.shape,a.shape):new tF(cF,r.shape,a.shape);return n.runWebGLProgram(s,[r,a],"float32")}};function pF({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:r}){return({inputs:a,backend:s})=>{const{x:i}=a,o=s,l=r||i.dtype;if(o.shouldExecuteOnCPU([i])&&null!=n){const e=o.texData.get(i.dataId),t=n(e.values,l);return o.makeTensorInfo(i.shape,l,t)}let u;return u=Yl().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new ZM(i.shape,t):new $M(i.shape,e),o.runWebGLProgram(u,[i],l)}}function mF({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:a,dtype:s}){return({inputs:i,backend:o})=>{const{a:l,b:u}=i,c=o;if(r&&"complex64"===l.dtype){const t=c.texData.get(l.dataId),n=c.texData.get(u.dataId),[r,a]=[[t.complexTensorInfos.real,n.complexTensorInfos.real],[t.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((t=>{const[n,r]=t,a={dataId:n.dataId,dtype:n.dtype,shape:l.shape},s={dataId:r.dataId,dtype:r.dtype,shape:u.shape},i=new tF(e,l.shape,u.shape);return c.runWebGLProgram(i,[a,s],ep(n.dtype,r.dtype))})),s=sF({inputs:{real:r,imag:a},backend:c});return c.disposeIntermediateTensorInfo(r),c.disposeIntermediateTensorInfo(a),s}const h=s||ep(l.dtype,u.dtype);if(("string"===l.dtype||"string"===u.dtype||c.shouldExecuteOnCPU([l,u]))&&null!=a){const e=c.texData.get(l.dataId).values,t=c.texData.get(u.dataId).values,n="string"===l.dtype?Sw(e):e,r="string"===l.dtype?Sw(t):t,[s,i]=a(l.shape,u.shape,n,r,h),o=c.makeTensorInfo(i,h);return c.texData.get(o.dataId).values=s,o}let d;return d=Yl().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new nF(t,l.shape,u.shape,n):new tF(e,l.shape,u.shape),c.runWebGLProgram(d,[l,u],h)}}function fF(e,t=!1){if("linear"===e)return"return x;";if("relu"===e)return t?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n";if("elu"===e)return t?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return t?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n";if("prelu"===e)return t?hF:cF;if("leakyrelu"===e)return t?lF:oF;if("sigmoid"===e)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class gF{constructor(e,t,n,r=!1,a=!1,s=!1,i=null,o=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=OR(this.outputShape.length);const u=r?e[1]:e[2],c=Math.ceil(u/2),h=r?"i * 2, rc.y":"rc.y, i * 2",d=a?"rc.z, i * 2":"i * 2, rc.z",p=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let f="",g="";i&&(f=o?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`vec4 activation(vec4 x) {\n          ${i}\n        }`,g="result = activation(result);");const y=s?"result += getBiasAtOutCoords();":"";s&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let b="rc.x",w="rc.x";e[0]<t[0]?b=`int(min(float(rc.x), ${e[0]-1}.))`:t[0]<e[0]&&(w=`int(min(float(rc.x), ${t[0]-1}.))`),this.userCode=`\n      ${f}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${c}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ${c}; i++) {\n          int batchA = ${b};\n          int batchB = ${w};\n          vec4 a = getMatrixA(batchA, ${h});\n          vec4 b = getMatrixB(batchB, ${d});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${p[0]} * ${m[0]});\n          result += (${p[1]} * ${m[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${y}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const yF="return areal * breal - aimag * bimag;",bF="return areal * bimag + aimag * breal;";class wF{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=vm(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const vF="return a * b;";function AF(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,s=ep(r.dtype,a.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(a.dataId),s=new wF(yF,r.shape,a.shape),i=new wF(bF,r.shape,a.shape),o=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:a.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:a.shape}],l=n.runWebGLProgram(s,o,"float32"),u=n.runWebGLProgram(i,o,"float32"),c=sF({inputs:{real:l,imag:u},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),c}if(n.shouldExecuteOnCPU([r,a])){const e=n.texData.get(r.dataId),t=n.texData.get(a.dataId),[i,o]=gM(r.shape,a.shape,e.values,t.values,s),l=n.makeTensorInfo(o,s);return n.texData.get(l.dataId).values=i,l}let i;return i=Yl().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nF(vF,r.shape,a.shape):new tF(vF,r.shape,a.shape),n.runWebGLProgram(i,[r,a],s)}const xF={kernelName:qc,backendName:"webgl",kernelFunc:AF};function kF(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:s}=r,i=n,o=wl(a.shape),l=Sl(s,o),u=wl(l);fl(o===u,(()=>`The new shape (${l}) has ${u} elements and the old shape (${a.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`));const c=i.texData.get(a.dataId);return!c.isPacked||Jz(a.shape,l)||null!==c.texture&&Jz(c.shape,l)?(i.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype}):function(e,t,n){const r=[Zz(e.shape),...Xz(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},s=[Zz(t),...Xz(t)],i=new WM(s,r),o=[r],l=n.runWebGLProgram(i,[a],e.dtype,o,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(a,l,i)}const CF={kernelName:lh,backendName:"webgl",kernelFunc:kF};class SF{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:a,outSize:s}=e;this.outputShape=[r,s];const i=4*Math.floor(n/4),o=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${Al(e)?e.toPrecision(2):e}, ones);`}let u="";a%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${i}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${i};\n        if (${1===o}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class EF{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:a,outSize:s}=e;this.outputShape=[r,s];let i="0.0",o="";"prod"===t?i="1.0":"min"===t?(i="1.0 / 1e-20",o="min"):"max"===t&&(i="-1.0 / 1e-20",o="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const u=4*Math.floor(n/4),c=n%4;let h=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${o}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${o}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,d="vec4";"all"===t?(i="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(i="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");let p="";a%n>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${i};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${p}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${i});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${h}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===c}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${h}\n        } else if (${2===c}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${h}\n        } else if (${3===c}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${h}\n        }\n        setOutput(${l});\n      }\n    `}}function IF(e,t,n,r){const a=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=Tb(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let s=e;for(let i=0;i<a.length;i++){const{inSize:o,windowSize:l,outSize:u}=a[i];let c,h;c="mean"===n?0===i?new SF({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u},o):new SF({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u}):new EF({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u},n),h=s,s=r.runWebGLProgram(c,[s],t),h.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(h)}return s}class TF{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;const r=SR(this.rank),a=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let t=0;t<e.length;t++)r[e[t]]=n[t];return r.join()}(t);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${a}));\n    }\n    `}}class NF{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=SR(this.rank),a=PM("rc",this.rank),s=new Array(this.rank);for(let e=0;e<t.length;e++)s[t[e]]=a[e];const i=`vec2(${s.slice(-2).join()})`,o=`++${a[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${s.join()}), ${i})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${o}) {\n        result[1] = ${l};\n      }\n      --${a[this.rank-1]};\n      if(++${a[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${o}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function DF(e,t,n){const r=Yl().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new NF(e.shape,t):new TF(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function _F(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r;return function(e,t,n,r){const a=t,s=e.shape.length,i=El(a,e.shape);let o=i;const l=gg(o,s),u=null!=l;let c=e;u&&(c=DF(e,l,r),o=bg(o.length,s)),fg("sum",o,s);const[h,d]=pg(c.shape,o);let p=h;n&&(p=mg(h,i));const m=wl(d),f=kF({inputs:{x:c},attrs:{shape:[wl(e.shape)/m,m]},backend:r}),g=IF(f,tp(e.dtype),"sum",r),y=kF({inputs:{x:g},attrs:{shape:p},backend:r});return r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(g),u&&r.disposeIntermediateTensorInfo(c),y}(a,s,i,n)}const OF={kernelName:Ih,backendName:"webgl",kernelFunc:_F};function BF(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{perm:s}=r,i=n,o=a.shape.length,l=new Array(o);for(let e=0;e<l.length;e++)l[e]=a.shape[s[e]];let u;if(i.shouldExecuteOnCPU([a])){const e=i.texData.get(a.dataId).values,t=MM(e,a.shape,a.dtype,s,l);u=i.makeTensorInfo(l,a.dtype);i.texData.get(u.dataId).values=t}else u=DF(a,s,i);return u}const zF={kernelName:Kh,backendName:"webgl",kernelFunc:BF};function RF({a:e,b:t,transposeA:n,transposeB:r,backend:a,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:l=null}){const u=e.shape.length,c=t.shape.length,h=n?e.shape[u-2]:e.shape[u-1],d=r?t.shape[c-1]:t.shape[c-2],p=n?e.shape[u-1]:e.shape[u-2],m=r?t.shape[c-2]:t.shape[c-1],f=e.shape.slice(0,-2),g=t.shape.slice(0,-2),y=wl(f),b=wl(g),w=vm(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([p,m]);fl(h===d,(()=>`Error in matMul: inner shapes (${h}) and (${d}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${r} must match.`));const v=n?[y,h,p]:[y,p,h],A=r?[b,m,d]:[b,d,m],x=kF({inputs:{x:e},backend:a,attrs:{shape:v}}),k=kF({inputs:{x:t},backend:a,attrs:{shape:A}}),C=[x,k],S=Math.max(y,b),E=n?x.shape[1]:x.shape[2],I=null!=s,T=null!=i,N="leakyrelu"===l,D=null!=l?fF(l,!0):null;let _;if((1===p||1===m)&&E>1e3&&!1===(I||T||N||null!=D)){let e=x,t=k;n&&(e=BF({inputs:{x},backend:a,attrs:{perm:[0,2,1]}}),C.push(e)),r&&(t=BF({inputs:{x:k},backend:a,attrs:{perm:[0,2,1]}}),C.push(t));const s=1===m;let i=e;1!==m&&(i=kF({inputs:{x:e},backend:a,attrs:{shape:[S,E,1]}}),C.push(i));const o=1===m?2:1;let l=t;s&&(l=kF({inputs:{x:t},backend:a,attrs:{shape:[S,1,E]}}),C.push(l));const u=AF({inputs:{a:i,b:l},backend:a});_=_F({inputs:{x:u},backend:a,attrs:{axis:o,keepDims:!0}}),C.push(u)}else{const l=ep(e.dtype,t.dtype),u=new gF(v,A,[S,p,m],n,r,I,D,T,N),c=[x,k];if(null!=s&&c.push(s),T&&c.push(i),N){const e=a.makeTensorInfo([],"float32",Td(o,"float32"));c.push(e),C.push(e)}_=a.runWebGLProgram(u,c,l)}const O=kF({inputs:{x:_},backend:a,attrs:{shape:w}});C.push(_);for(const e of C)a.disposeIntermediateTensorInfo(e);return O}const MF={kernelName:td,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:s,bias:i,preluActivationWeights:o}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:h}=r;return RF({a,b:s,transposeA:l,transposeB:u,backend:n,bias:i,preluActivationWeights:o,leakyreluAlpha:h,activation:c})}},FF="return abs(x);";const PF={kernelName:nu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=kM(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let a;return a=Yl().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new ZM(r.shape,FF):new $M(r.shape,FF),n.runWebGLProgram(a,[r],r.dtype)}},LF=pF({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),VF={kernelName:ru,backendName:"webgl",kernelFunc:LF},WF=pF({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),UF={kernelName:au,backendName:"webgl",kernelFunc:WF},jF="return a + b;",GF=mF({opSnippet:jF,packedOpSnippet:jF,supportsComplex:!0,cpuKernelImpl:XR}),qF={kernelName:su,backendName:"webgl",kernelFunc:GF};class $F{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}class HF{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}const KF={kernelName:iu,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,a=n;if(1===a.length)return rF({inputs:{x:a[0]},backend:r});if(a.length>Yl().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(a.length/2),n=e({inputs:a.slice(0,t),backend:r}),s=e({inputs:a.slice(t),backend:r});return e({inputs:[n,s],backend:r})}const s=a.map((e=>e.dtype)).reduce(((e,t)=>ep(e,t))),i=a.map((e=>e.shape)),o=Yl().getBool("WEBGL_PACK")?new HF(a[0].shape,i):new $F(a[0].shape,i);return r.runWebGLProgram(o,a,s)}};const ZF={kernelName:ou,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r,o=a.shape.length,l=El(s,a.shape);let u=l;const c=gg(u,o);let h=a;null!=c&&(h=BF({inputs:{x:a},backend:n,attrs:{perm:c}}),u=bg(u.length,o)),fg("all",u,o);const[d,p]=pg(h.shape,u),m=kF({inputs:{x:h},backend:n,attrs:{shape:[-1,wl(p)]}}),f=IF(m,m.dtype,"all",n);let g;if(i){g=kF({inputs:{x:f},backend:n,attrs:{shape:mg(d,l)}})}else g=kF({inputs:{x:f},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),null!=c&&n.disposeIntermediateTensorInfo(h),g}};const XF={kernelName:lu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r,o=a.shape.length,l=El(s,a.shape);let u=l;const c=gg(u,o);let h=a;null!=c&&(h=BF({inputs:{x:a},backend:n,attrs:{perm:c}}),u=bg(u.length,o)),fg("any",u,o);const[d,p]=pg(h.shape,u),m=kF({inputs:{x:h},backend:n,attrs:{shape:[-1,wl(p)]}}),f=IF(m,m.dtype,"any",n);let g;if(i){g=kF({inputs:{x:f},backend:n,attrs:{shape:mg(d,l)}})}else g=kF({inputs:{x:f},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),null!=c&&n.disposeIntermediateTensorInfo(h),g}};class YF{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:a,outSize:s}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,s];const i="max"===t?">":"<",o=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${o};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${i} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class QF{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,fl(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const a=e[e.length-1],s=Math.ceil(a/t);this.outputShape=e.slice(0,-1),s>1&&this.outputShape.push(s),r||this.variableNames.push("bestIndicesA");const i=this.outputShape,o=i.length,l=SR(o),u=LM("coords",o);let c,h;if(1===s){h=o+1;const e=SR(h);c=`\n        ${e} sourceLocR = ${e}(${u.join()}, 0);\n        ++${u[o-1]};\n        ${e} sourceLocG = ${e}(${u.join()}, 0);\n        ++${u[o-2]};\n        ${e} sourceLocA = ${e}(${u.join()}, 0);\n        --${u[o-1]};\n        ${e} sourceLocB = ${e}(${u.join()}, 0);\n        --${u[o-2]};`}else h=o,c=`\n        ${l} sourceLocR = coords;\n        ++${u[o-1]};\n        ${l} sourceLocG = coords;\n        ++${u[o-2]};\n        ${l} sourceLocA = coords;\n        --${u[o-1]};\n        ${l} sourceLocB = coords;\n        --${u[o-2]};`;const d=["x","y","z","w","u","v"].slice(0,h),p="."+d[h-1],m=d.map((e=>"int "+e)),f=LM("sourceLocR",h-1).concat("inIdx.r"),g=LM("sourceLocG",h-1).concat("inIdx.g"),y=LM("sourceLocB",h-1).concat("inIdx.b"),b=LM("sourceLocA",h-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",v=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${f.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${y.join()}),\n                             getBestIndicesAChannel(${b.join()})));`,A=`vec4(\n            getAChannel(${f.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${y.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,x=r?"":`\n      float getBestIndicesAChannel(${m.join()}) {\n        return getChannel(getBestIndicesA(${d.join()}),\n                                          vec2(${d.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${m.join()}) {\n        return getChannel(getA(${d.join()}),\n                               vec2(${d.slice(-2).join()}));\n      }\n      ${x}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${u[o-1]} < ${i[o-1]-1};\n        bool hasNextRow = ${u[o-2]} < ${i[o-2]-1};\n        ${c}\n        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},\n          sourceLocB${p}, sourceLocA${p}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${A};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${v}\n          vec4 candidate = ${A};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${w}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function JF(e,t,n,r=null){let a=t.shape[0],s=t.shape[1];null!=r&&(a=r.shape[0],s=r.shape[1]);const i=Tb(s),o={windowSize:i,inSize:s,batchSize:a,outSize:Math.ceil(s/i)},l=new YF(o,n,null==r),u=[t];null!=r&&u.push(r);const c=e.runWebGLProgram(l,u,"int32");if(1===c.shape[1])return c;const h=JF(e,t,n,c);return e.disposeIntermediateTensorInfo(c),h}function eP(e,t,n,r=null){const a=null!=r?r.shape:t.shape,s=Tb(a[a.length-1]),i=new QF(a,s,n,null==r),o=null==r?[t]:[t,r],l=e.runWebGLProgram(i,o,"int32");if(l.shape.length===t.shape.length){const r=eP(e,t,n,l);return e.disposeIntermediateTensorInfo(l),r}return l}function tP(e,t,n,r){const a=[n];if(fg("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!Yl().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],s=e.texData.get(t.dataId);let i=t;null!==s&&s.isPacked&&(i=e.unpackTensor(t),n.push(i));const[o,l]=pg(i.shape,a),u=wl(l),c=kF({inputs:{x:i},backend:e,attrs:{shape:[-1,u]}});n.push(c);const h=JF(e,c,r);n.push(h);const d=kF({inputs:{x:h},backend:e,attrs:{shape:o}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),d}return eP(e,t,r)}const nP={kernelName:uu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s}=r;let i=El(s,a.shape);const o=gg(i,a.shape.length);let l=a;const u=[];null!=o&&(l=BF({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),i=bg(i.length,l.shape.length)),fg("argMax",[i[0]],l.shape.length);const c=tP(n,l,i[0],"max");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};const rP={kernelName:cu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s}=r;let i=El(s,a.shape);const o=gg(i,a.shape.length);let l=a;const u=[];null!=o&&(l=BF({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),i=bg(i.length,l.shape.length)),fg("argMin",[i[0]],l.shape.length);const c=tP(n,l,i[0],"min");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}},aP=pF({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),sP={kernelName:hu,backendName:"webgl",kernelFunc:aP},iP=pF({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),oP={kernelName:du,backendName:"webgl",kernelFunc:iP},lP=pF({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),uP={kernelName:pu,backendName:"webgl",kernelFunc:lP},cP=mF({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),hP={kernelName:fu,backendName:"webgl",kernelFunc:cP},dP=pF({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),pP={kernelName:mu,backendName:"webgl",kernelFunc:dP};class mP{constructor(e,t,n,r=!1,a=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,i=e.strideHeight,o=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,h=e.effectiveFilterWidth,d=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const m="avg"===t,f=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let y="0.0";if(m||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${i}, ${o});\n        const ivec2 pads = ivec2(${d}, ${p});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${c};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${h};\n                wC += ${u}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?a?f:g:`wR * ${h} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let b=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(b="avgValue / count");const w=4*Math.floor(s/4),v=s%4,A=`\n      if (${m}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${i}, ${o});\n      const ivec2 pads = ivec2(${d}, ${p});\n      const float initializationValue = ${y};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${y});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${c};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${w}; wC += 4) {\n            int xC = xCCorner + wC * ${u};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              getValue(batch, xR, xC + 3 * ${u}, d)\n            );\n\n            ${A}\n          }\n\n          int xC = xCCorner + ${w};\n          if (${1===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${A}\n          } else if (${2===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${A}\n          } else if (${3===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              initializationValue\n            );\n\n            ${A}\n          }\n        }\n        setOutput(${b});\n      }\n    `}}class fP{constructor(e,t,n,r=!1,a=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,i=e.strideDepth,o=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,h=e.dilationWidth,d=e.effectiveFilterDepth,p=e.effectiveFilterHeight,m=e.effectiveFilterWidth,f=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const b="avg"===t;let w="0.0";if(b||(w="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${i}, ${o}, ${l});\n        const ivec3 pads = ivec3(${f}, ${g}, ${y});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${d};\n              wD += ${u}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${p};\n                wR += ${c}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${m};\n                  wC += ${h}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?a?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${m} +\n                      wR * ${m} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let v=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(v="avgValue / count");const A=4*Math.floor(s/4),x=s%4,k=`\n      if (${b}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${i}, ${o}, ${l});\n      const ivec3 pads = ivec3(${f}, ${g}, ${y});\n      const float initializationValue = ${w};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${w});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${d};\n            wD += ${u}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${p};\n            wR += ${c}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${A}; wC += 4) {\n              int xC = xCCorner + wC * ${h};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${h}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${h}, ch)\n              );\n\n              ${k}\n            }\n\n            int xC = xCCorner + ${A};\n            if (${1===x}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${k}\n            } else if (${2===x}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${k}\n            } else if (${3===x}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${h}, ch),\n                initializationValue\n              );\n\n              ${k}\n            }\n          }\n          setOutput(${v});\n        }\n      }\n    `}}const gP={kernelName:gu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;iR(a,"avgPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:l}=r;fl(pf(i,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=nf(a.shape,s,i,1,o,l);if(1===u.filterWidth&&1===u.filterHeight&&vl(u.inShape,u.outShape))return rF({inputs:{x:a},backend:n});const c=new mP(u,"avg",!1);return n.runWebGLProgram(c,[a],"float32")}};const yP={kernelName:bu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:s,strides:i,pad:o,dimRoundingMode:l,dataFormat:u}=r,c=rf(a.shape,s,i,[1,1,1],o,l,u),h=new fP(c,"avg",!1);return n.runWebGLProgram(h,[a],"float32")}};class bP{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,s=e.dilationHeight,i=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=o-1-e.padInfo.top,c=l-1-e.padInfo.left,h=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${u}, ${c});\n      const float avgMultiplier = float(${h});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n            wR += ${s}) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${i}) {\n            float dyC = float(dyCCorner + wC) / ${a}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class wP{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,s=e.strideHeight,i=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,h=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=c-1-e.padInfo.front,m=h-1-e.padInfo.top,f=d-1-e.padInfo.left,g=1/(t*n*r);this.userCode=`\n      const ivec3 pads = ivec3(${p}, ${m}, ${f});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${c};\n            wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${a}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${h};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${s}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${d};\n                wC += ${u}) {\n              float dyC = float(dyCCorner + wC) / ${i}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const vP={kernelName:wu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,i=s,{filterSize:o,strides:l,pad:u,dimRoundingMode:c}=r,h=rf(i.shape,o,l,[1,1,1],u,c),d=new wP(h);return n.runWebGLProgram(d,[a],i.dtype)}};const AP={kernelName:yu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,i=s;iR([a,s],"avgPoolGrad");const{filterSize:o,strides:l,pad:u}=r,c=nf(i.shape,o,l,1,u),h=new bP(c);return n.runWebGLProgram(h,[a],i.dtype)}};const xP={kernelName:vu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:s}=t,{transposeA:i,transposeB:o}=r;return RF({a,b:s,transposeA:i,transposeB:o,backend:n})}};class kP{constructor(e,t,n,r,a,s){this.outputShape=[],this.variableNames=["x","mean","variance"],vm(e,t),vm(e,n);let i="0.0";null!=r&&(vm(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let o="1.0";null!=a&&(vm(e,a),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${i};\n        float scale = ${o};\n        float inv = scale * inversesqrt(variance + float(${s}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class CP{constructor(e,t,n,r,a,s){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],vm(e,t),vm(e,n);let i="vec4(0.0)";null!=r&&(vm(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let o="vec4(1.0)";null!=a&&(vm(e,a),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${i};\n        vec4 scale = ${o};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${s}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const SP={kernelName:cc,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,mean:a,variance:s,offset:i,scale:o}=e;fl(a.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),fl(null==i||a.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),fl(null==o||a.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:l}=n;null==l&&(l=.001);const u=[r,a,s];let c=null;null!=i&&(c=i.shape,u.push(i));let h=null;null!=o&&(h=o.shape,u.push(o));const d=Yl().getBool("WEBGL_PACK_NORMALIZATION")?new CP(r.shape,a.shape,s.shape,c,h,l):new kP(r.shape,a.shape,s.shape,c,h,l);return t.runWebGLProgram(d,u,u[0].dtype)}};class EP{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=SR(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return IP.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let r;r=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${IP[t]} = start[${t}] + coords.${IP[t]};`)).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${n}));\n      }\n    `}}const IP=["x","y","z","w","u","v"];class TP{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=SR(this.rank),n=LM("coords",this.rank),r=LM("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,s=`getChannel(getSource(${r.join()}), ${a})`,i=`\n      result.x = ${s};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${s};\n        --${r[this.rank-1]};\n      }\n    `,o=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${s};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${s};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${r[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${i}\n        ${o}\n        setOutput(result);\n      }\n    `}}function NP(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:s,size:i}=r,[o,l]=Rm(a,s,i);if(Am(a,o,l),0===wl(l))return n.makeTensorInfo(l,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){const e=n.texData.get(a.dataId),t=CM(e.values,o,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,t)}const{isPacked:u}=n.texData.get(a.dataId),c=Bm(a.shape,o,l);if(u||!c){const e=Yl().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new TP(l):new EP(l),t=[o];return n.runWebGLProgram(e,[a],a.dtype,t)}return n.uploadToGPU(a.dataId),function(e,t,n,r){const a=r.texData.get(e.dataId),s=r.makeTensorInfo(n,e.dtype),i=r.texData.get(s.dataId);Object.assign(i,a),i.refCount=1,i.shape=n,i.dtype=e.dtype;let o=zm(t,Pl(e.shape));a.slice&&(o+=a.slice.flatOffset),i.slice={flatOffset:o,origDataId:a.slice&&a.slice.origDataId||e.dataId};const l=r.dataRefCount.get(i.slice.origDataId)||1;return r.dataRefCount.set(i.slice.origDataId,l+1),s}(a,o,l,n)}const DP={kernelName:vh,backendName:"webgl",kernelFunc:NP},_P={kernelName:Au,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:s,crops:i}=r;fl(a.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const o=s.reduce(((e,t)=>e*t)),l=Db(a.shape,s,o),u=_b(l.length,s.length),c=Ob(a.shape,s,o),h=Bb(i,s.length),d=zb(c,i,s.length),p=[],m=kF({inputs:{x:a},backend:n,attrs:{shape:l}}),f=BF({inputs:{x:m},backend:n,attrs:{perm:u}}),g=kF({inputs:{x:f},backend:n,attrs:{shape:c}}),y=NP({inputs:{x:g},backend:n,attrs:{begin:h,size:d}});return p.push(m),p.push(f),p.push(g),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const OP={kernelName:xu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:s}=t,{size:i}=r,o=n.readSync(a.dataId),l=n.readSync(s.dataId),u=YR(o,l,s.dtype,s.shape,i);return n.makeTensorInfo([i],s.dtype,u)}};const BP={kernelName:ku,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,s=n.readSync(r.dataId),i=n.readSync(a.dataId),o=vm(Array.from(s),Array.from(i));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},zP=mF({opSnippet:"return float(a != b);",cpuKernelImpl:bM,dtype:"bool"}),RP={kernelName:Hc,backendName:"webgl",kernelFunc:zP};function MP(e){const{inputs:t,backend:n}=e,{input:r}=t;return rF({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const FP={kernelName:sh,backendName:"webgl",kernelFunc:MP};const PP={kernelName:Cu,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:a}=t,{x:s}=n,{dtype:i}=a;if("complex64"===i){if("complex64"===s.dtype)return rF({inputs:{x:s},backend:r});const t=Cg(s.shape),n=e({inputs:{x:s},backend:r,attrs:{dtype:"float32"}}),a=sF({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),a}if("complex64"===s.dtype){const t=MP({inputs:{input:s},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:i}});return r.disposeIntermediateTensorInfo(t),n}if(!Dl(s.dtype,i)){const e=rF({inputs:{x:s},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:i}}if("int32"===i)return function(e,t){const n=new $M(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(s,r);if("bool"===i){const e=r.makeTensorInfo([],"bool",Tl("bool",1)),t=zP({inputs:{a:s,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${i}`)}},LP="return ceil(x);",VP=pF({opSnippet:LP,packedOpSnippet:LP,cpuKernelImpl:JR}),WP={kernelName:Su,backendName:"webgl",kernelFunc:VP};class UP{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class jP{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const GP={kernelName:Eu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:s,clipValueMax:i}=r;let o;o=Yl().getBool("WEBGL_PACK_CLIP")?new jP(a.shape):new UP(a.shape);const l=[[s],[i]];return n.runWebGLProgram(o,[a],a.dtype,l)}};class qP{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function $P(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const HP={kernelName:Tu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=n.texData.get(r.dataId),s=new qP(r.shape),i=[$P(r,a.complexTensorInfos.real),$P(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(s,i,i[0].dtype)}};class KP{constructor(e){this.outputShape=[],this.outputShape=Eb(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){const r=t[e-1];n.push(`else if (yC < ${t[e]}) setOutput(getT${e}(yR, yC-${r}));`)}const r=t.length,a=t[t.length-1];n.push(`else setOutput(getT${r}(yR, yC-${a}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class ZP{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Eb(e,t);const n=this.outputShape,r=n.length,a=SR(r),s=LM("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(((e,t)=>`T${t}`));const o=new Array(e.length-1);o[0]=e[0][t];for(let n=1;n<o.length;n++)o[n]=o[n-1]+e[n][t];const l=i[t],u=i.slice(-2),c=i.join();let h=`if (${l} < ${o[0]}) {\n        return getChannel(\n            getT0(${c}), vec2(${u.join()}));\n        }`;for(let e=1;e<o.length;e++){const t=o[e-1];h+=`\n        if (${l} < ${o[e]}  && ${l} >= ${o[e-1]}) {\n          return getChannel(\n            getT${e}(${XP(i,l,t)}),\n            vec2(${XP(u,l,t)}));\n        }`}const d=o.length,p=o[o.length-1];h+=`\n        return getChannel(\n          getT${d}(${XP(i,l,p)}),\n          vec2(${XP(u,l,p)}));`,this.userCode=`\n      float getValue(${i.map((e=>"int "+e))}) {\n        ${h}\n      }\n\n      void main() {\n        ${a} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${s}), 0., 0., 0.);\n\n        ${s[r-1]} = ${s[r-1]} + 1;\n        if (${s[r-1]} < ${n[r-1]}) {\n          result.g = getValue(${s});\n        }\n\n        ${s[r-2]} = ${s[r-2]} + 1;\n        if (${s[r-2]} < ${n[r-2]}) {\n          result.a = getValue(${s});\n        }\n\n        ${s[r-1]} = ${s[r-1]} - 1;\n        if (${s[r-2]} < ${n[r-2]} &&\n            ${s[r-1]} < ${n[r-1]}) {\n          result.b = getValue(${s});\n        }\n        setOutput(result);\n      }\n    `}}function XP(e,t,n){const r=e.indexOf(t);return e.map(((e,t)=>t===r?`${e} - ${n}`:e)).join()}function YP(e){const{inputs:t,backend:n}=e,{input:r}=t;return rF({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const QP={kernelName:yc,backendName:"webgl",kernelFunc:YP};function JP(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>MP({inputs:{input:e},backend:n}))),a=e.map((e=>YP({inputs:{input:e},backend:n}))),s=JP(r,t,n),i=JP(a,t,n),o=sF({inputs:{real:s,imag:i},backend:n});return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),a.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),o}let a=n.shouldExecuteOnCPU(e);if("string"===r&&(a=!0),a){const a=e.map((e=>{const r=wl(e.shape.slice(t));return kF({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),s=a.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),i=Eb(a.map((e=>e.shape)),1),o=1===a[0].shape[0],l=eM(s,i,r,o),u=Eb(e.map((e=>e.shape)),t),c=n.makeTensorInfo(u,r,l);return a.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}if(e.length>Yl().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const r=Math.floor(e.length/2),a=JP(e.slice(0,r),t,n),s=JP(e.slice(r),t,n),i=JP([a,s],t,n);return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),i}if(Yl().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){const a=new ZP(e.map((e=>e.shape)),t);return n.runWebGLProgram(a,e,r)}const{tensors2D:s,outShape:i}=function(e,t,n){const r=Eb(e.map((e=>e.shape)),t);return{tensors2D:e.map((e=>kF({inputs:{x:e},attrs:{shape:[-1,wl(e.shape.slice(t))]},backend:n}))),outShape:r}}(e,t,n),o=new KP(s.map((e=>e.shape))),l=n.runWebGLProgram(o,s,r);s.forEach((e=>n.disposeIntermediateTensorInfo(e)));const u=kF({inputs:{x:l},attrs:{shape:i},backend:n});return n.disposeIntermediateTensorInfo(l),u}function eL(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,s=El(a,t[0].shape)[0],i=Eb(t.map((e=>e.shape)),s);if(0===wl(i))return n.makeTensorInfo(i,t[0].dtype,[]);const o=t.filter((e=>wl(e.shape)>0));if(1===o.length)return rF({inputs:{x:o[0]},backend:n});return Sb(o.map((e=>e.shape)),s),JP(o,s,n)}const tL={kernelName:Nu,backendName:"webgl",kernelFunc:eL};class nL{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const s=e.padInfo.top,i=e.padInfo.left,o=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,h=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),m=e.inChannels%4,f="channelsLast"===e.dataFormat,g=f?1:2,y=f?2:3,b=f?3:1;let w="",v="";n&&(w=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,v="result = activation(result);");const A=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${w}\n\n      const ivec2 strides = ivec2(${o}, ${l});\n      const ivec2 pads = ivec2(${s}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${b}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${y}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${h}; wR++) {\n          int xR = xRCorner + wR * ${u};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${d}; wC++) {\n            int xC = xCCorner + wC * ${c};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${p}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${f}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===m}) {\n\n              if (${f}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${p}) *\n                    getW(wR, wC, ${p}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${p}, xR, xC) *\n                    getW(wR, wC, ${p}, d2);\n              }\n\n            } else if (${2===m}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2)\n              );\n\n              if (${f}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===m}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2),\n                getW(wR, wC, ${p} + 2, d2)\n              );\n\n              if (${f}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1),\n                  getX(batch, xR, xC, ${p} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC),\n                  getX(batch, ${p} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${A}\n        ${v}\n        setOutput(result);\n      }\n    `}}class rL{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,s=e.strideHeight,i=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,h=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),m=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${a}, ${s}, ${i});\n      const ivec3 pads = ivec3(${t}, ${n}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${c}; wF++) {\n          int xF = xFCorner + wF * ${o};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d}; wC++) {\n              int xC = xCCorner + wC * ${u};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${p}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===m}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${p}) *\n                  getW(wF, wR, wC, ${p}, d2);\n              } else if (${2===m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1),\n                  getX(batch, xF, xR, xC, ${p} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2),\n                  getW(wF, wR, wC, ${p} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class aL{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=OR(this.outputShape.length);const{dataFormat:n}=t,r=lR(),a="channelsLast"===n,s=a?0:1,i=a?1:2,o=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":`if(blockIndex < ${e[1]} && pos < ${e[0]}) {`;let l="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)l+=`\n          blockIndex = rc.y + ${t};\n          pos = rc.x + ${e};\n\n          ${o}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${s}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${i}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${a}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*e+t}] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*e+t}] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${r.output} = result;\n      }\n    `}}function sL({x:e,filter:t,convInfo:n,backend:r,bias:a=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:o=null}){const l=e.shape,u=r.texData.get(e.dataId),c=n.inChannels,h=l[0]*l[1]*l[2],d=n.outChannels,p="channelsLast"===n.dataFormat;let m;const f=[];if(!((1===h||1===d)&&c>1e3)&&u.isPacked&&p&&null!=u.texture&&l[2]%2!=0&&vl(u.shape.slice(-3),l.slice(-3))){const c=l[0]*l[1]*(l[2]+1),h={dataId:e.dataId,shape:[1,c,n.inChannels],dtype:e.dtype},d=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,fl(Jz(u.shape,h.shape),(()=>`packed reshape ${u.shape} to ${h.shape} isn't free`));const p=kF({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});f.push(p);const g=RF({a:h,b:p,backend:r,transposeA:false,transposeB:false,bias:a,activation:o,preluActivationWeights:s,leakyreluAlpha:i}),y=r.texData.get(g.dataId);fl(y.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=d,y.shape=n.outShape,m=rF({inputs:{x:g},backend:r}),m.shape=n.outShape,f.push(g)}else{const u=kF({inputs:{x:e},backend:r,attrs:{shape:[1,p?l[0]*l[1]*l[2]:l[0]*l[2]*l[3],n.inChannels]}}),c=kF({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),h=RF({a:u,b:c,transposeA:false,transposeB:false,backend:r,bias:a,activation:o,preluActivationWeights:s,leakyreluAlpha:i});m=kF({inputs:{x:h},backend:r,attrs:{shape:n.outShape}}),f.push(u),f.push(c),f.push(h)}for(const e of f)r.disposeIntermediateTensorInfo(e);return m}function iL({x:e,filter:t,convInfo:n,backend:r,bias:a=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:o=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:h,outHeight:d,dataFormat:p}=n,m="channelsLast"===p,f=l*u*c,g=d*h,y=[f,g],b=[],w=kF({inputs:{x:e},backend:r,attrs:{shape:e.shape.slice(1)}}),v=kF({inputs:{x:t},backend:r,attrs:{shape:[1,f,wl(t.shape)/f]}});b.push(w),b.push(v);const A=new aL(y,n),x=[w.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],k=r.runWebGLProgram(A,[w],"float32",x),C=kF({inputs:{x:k},backend:r,attrs:{shape:[1,y[0],y[1]]}});b.push(k),b.push(C);const S=null!=a,E=null!=s,I="leakyrelu"===o,T=o?fF(o,!0):null,N=new gF(C.shape,v.shape,[1,g,n.outChannels],!0,!1,S,T,E,I),D=[C,v];if(a&&D.push(a),E&&D.push(s),I){const e=r.makeTensorInfo([],"float32",Td(i,"float32"));D.push(e),b.push(e)}const _=r.runWebGLProgram(N,D,"float32"),O=kF({inputs:{x:_},backend:r,attrs:{shape:m?[1,d,h,n.outChannels]:[1,n.outChannels,d,h]}});b.push(_);for(const e of b)r.disposeIntermediateTensorInfo(e);return O}const oL={kernelName:Du,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:i,pad:o,dataFormat:l,dilations:u,dimRoundingMode:c}=r,h=mf(l),d=af(a.shape,s.shape,i,u,o,c,!1,h);let p;if(1!==d.filterHeight||1!==d.filterWidth||1!==d.dilationHeight||1!==d.dilationWidth||1!==d.strideHeight||1!==d.strideWidth||"SAME"!==d.padInfo.type&&"VALID"!==d.padInfo.type)if(Yl().getBool("WEBGL_CONV_IM2COL")&&1===a.shape[0])p=iL({x:a,filter:s,convInfo:d,backend:n});else{const e=new nL(d);p=n.runWebGLProgram(e,[a,s],"float32")}else p=sL({x:a,filter:s,convInfo:d,backend:n});const m=kF({inputs:{x:p},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(p),m}};class lL{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,s="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${a};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              if (${s}) {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class uL{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,s="channelsLast"===e.dataFormat,i=t-1-e.padInfo.top,o=n-1-e.padInfo.left,l=s?1:2,u=s?2:3,c=s?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${a}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${s}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class cL{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,s=e.padInfo.top,i=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${a};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${s};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${r} - ${i};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class hL{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,s=e.strideHeight,i=e.strideWidth,o=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${o}, ${l}, ${u});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${a}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${s}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${i}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const dL={kernelName:_u,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:i,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,h=mf(l),d=af(a.shape,c,i,1,o,u,!1,h),p=new lL(d);return n.runWebGLProgram(p,[a,s],"float32")}};const pL={kernelName:Ou,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{inputShape:i,strides:o,pad:l,dataFormat:u,dimRoundingMode:c}=r,h=mf(u),d=af(i,s.shape,o,1,l,c,!1,h),p=new uL(d);return n.runWebGLProgram(p,[a,s],"float32")}};const mL={kernelName:Bu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:i,pad:o,dilations:l}=r,u=sf(a.shape,s.shape,i,l,o),c=new rL(u);return n.runWebGLProgram(c,[a,s],"float32")}};const fL={kernelName:zu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:i,pad:o,filterShape:l}=r,u=sf(a.shape,l,i,1,o),c=new cL(u);return n.runWebGLProgram(c,[a,s],"float32")}};const gL={kernelName:Ru,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{pad:i,strides:o,inputShape:l}=r,u=sf(l,s.shape,o,1,i),c=new hL(u);return n.runWebGLProgram(c,[a,s],"float32")}},yL=pF({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),bL={kernelName:Mu,backendName:"webgl",kernelFunc:yL},wL=pF({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),vL={kernelName:Fu,backendName:"webgl",kernelFunc:wL};class AL{constructor(e,t,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[s,i,o,l]=e,[u]=t,[c,h]=n;this.outputShape=[u,c,h,l];const d="bilinear"===r?1:0,[p,m]=[i-1+".0",o-1+".0"],[f,g,y]=c>1?[""+(i-1)/(c-1),"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[b,w,v]=h>1?[""+(o-1)/(h-1),"(x2-x1) * width_ratio",`x1*${m} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${m}`];this.userCode=`\n      const float height_ratio = float(${f});\n      const float width_ratio = float(${b});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${s}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${w};\n\n        float in_y = ${y};\n        if( in_y < 0.0 || in_y > ${p} ) {\n          setOutput(float(${a}));\n          return;\n        }\n        float in_x = ${v};\n        if( in_x < 0.0 || in_x > ${m} ) {\n          setOutput(float(${a}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${d} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const xL={kernelName:Vu,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:s,boxInd:i}=t,{cropSize:o,method:l,extrapolationValue:u}=r,c=new AL(a.shape,s.shape,o,l,u);return n.runWebGLProgram(c,[a,s,i],"float32")}};class kL{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=e;const r=e.length,a=t?"1.0":`getX(${CL(r,"coords")})`,s=e[e.length-1];let i="",o="";t?(i=n?"end != "+(s-1):"end != 0",o=n?"end + 1":"end - 1"):(i=n?`end + pow2 < ${s}`:"end >= pow2",o=n?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${SR(r)} coords = getOutputCoords();\n        int end = ${SL(r,"coords")};\n        float val = ${a};\n        int pow2 = int(pow(2.0, index));\n        if (${i}) {\n          int idx = ${o};\n          ${SL(r,"coords")} = idx;\n          val *= getX(${CL(r,"coords")});\n        }\n        setOutput(val);\n      }\n    `}}function CL(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative product for rank ${e} is not yet supported`)}function SL(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative product for rank ${e} is not yet supported`)}const EL={kernelName:Pu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,exclusive:i,reverse:o}=r,l=a.shape.length,u=gg([s],l);let c=a;null!=u&&(c=BF({inputs:{x:a},backend:n,attrs:{perm:u}}));const h=bg(1,l)[0];if(h!==l-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${a.shape.length-1} but got axis=${s}`);const d=c.shape[h];let p=rF({inputs:{x:c},backend:n});for(let e=0;e<=Math.ceil(Math.log2(d))-1;e++){const t=new kL(c.shape,!1,o),r=[[e]],a=p;p=n.runWebGLProgram(t,[p],p.dtype,r),n.disposeIntermediateTensorInfo(a)}if(i){const e=new kL(c.shape,i,o),t=p;p=n.runWebGLProgram(e,[p],p.dtype),n.disposeIntermediateTensorInfo(t)}if(null!=u){const e=BF({inputs:{x:p},backend:n,attrs:{perm:yg(u)}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(c),e}return p}};class IL{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=e;const r=e.length,a=t?"0.0":`getX(${TL(r,"coords")})`,s=e[e.length-1];let i="",o="";t?(i=n?"end != "+(s-1):"end != 0",o=n?"end + 1":"end - 1"):(i=n?`end + pow2 < ${s}`:"end >= pow2",o=n?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${SR(r)} coords = getOutputCoords();\n        int end = ${NL(r,"coords")};\n        float val = ${a};\n        int pow2 = int(pow(2.0, index));\n        if (${i}) {\n          int idx = ${o};\n          ${NL(r,"coords")} = idx;\n          val += getX(${TL(r,"coords")});\n        }\n        setOutput(val);\n      }\n    `}}function TL(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}function NL(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}const DL={kernelName:Lu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,exclusive:i,reverse:o}=r,l=a.shape.length,u=gg([s],l);let c=a;null!=u&&(c=BF({inputs:{x:a},backend:n,attrs:{perm:u}}));const h=bg(1,l)[0];if(h!==l-1)throw new Error(`WebGL cumsum shader expects an inner-most axis=${a.shape.length-1} but got axis=${s}`);const d=c.shape[h];let p=rF({inputs:{x:c},backend:n});for(let e=0;e<=Math.ceil(Math.log2(d))-1;e++){const t=new IL(c.shape,!1,o),r=[[e]],a=p;p=n.runWebGLProgram(t,[p],p.dtype,r),n.disposeIntermediateTensorInfo(a)}if(i){const e=new IL(c.shape,i,o),t=p;p=n.runWebGLProgram(e,[p],p.dtype),n.disposeIntermediateTensorInfo(t)}if(null!=u){const e=BF({inputs:{x:p},backend:n,attrs:{perm:yg(u)}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(c),e}return p}};const _L={kernelName:Wu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:s}=t,{size:i,binaryOutput:o}=r;if(1===a.shape.length){const e=n.readSync(a.dataId),t=n.readSync(s.dataId),r=YR(e,t,s.dtype,s.shape,i);return n.makeTensorInfo([i],s.dtype,r)}if(2===a.shape.length){const e=n.bufferSync(a),t=n.bufferSync(s),r=QR(e,t,i,o);return n.makeTensorInfo(r.shape,s.dtype,r.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}};class OL{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const BL={kernelName:Uu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:s,dataFormat:i}=r,o=a.shape[0],l=("NHWC"===i?a.shape[1]:a.shape[2])*s,u=("NHWC"===i?a.shape[2]:a.shape[3])*s,c=("NHWC"===i?a.shape[3]:a.shape[1])/(s*s),h=new OL("NHWC"===i?[o,l,u,c]:[o,c,l,u],s,i);return n.runWebGLProgram(h,[a],a.dtype)}};class zL{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=OR(this.outputShape.length);const s=e.filterHeight,i=e.filterWidth,o=e.outChannels/e.inChannels;let l="",u="";n&&(l=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,u="result = activation(result);");const c=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${o};\n        int q = d2 - d1 * ${o};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${s}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${c}\n        ${u}\n        setOutput(result);\n      }\n    `}}class RL{constructor(e,t=!1,n=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=OR(this.outputShape.length);const s=e.outChannels/e.inChannels,i=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,h=c;let d="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let e=0;e<c;e++)d+=`\n          vec4 xTexelC${2*e};\n          int xTexelC${2*e}Ready;\n          vec4 xTexelC${2*e+1};\n          int xTexelC${2*e+1}Ready;\n          vec4 xC${e};`;d+=`\n    for (int r = 0; r < ${u}; r++) {\n      `;for(let e=0;e<c;e++)d+=`\n          xTexelC${2*e} = vec4(0.0);\n          xTexelC${2*e}Ready = 0;\n          xTexelC${2*e+1} = vec4(0.0);\n          xTexelC${2*e+1}Ready = 0;\n          xC${e} = vec4(0.0);`;d+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let e=0;e<(h+1)/2;e++){const t=2*e;if(d+=`\n          xC = xCCorner + ${t*l};\n          `,1===o){if(t<c&&(i%2==1?(d+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n              `,d+=1===l&&t>0?`\n                xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                  } else {\n                    xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                  }\n                  `):d+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xC${t} = xTexelC${t};\n                `,t+1<c)){const e=i%2==0?pl(l):l;l%2==0&&i%2==1||l%2!=0&&i%2!=1?(d+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                    xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${t+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${t+1}Ready = 1;\n                  }\n                  `,l>1&&(d+=`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                      xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                      xTexelC${t}Ready = 1;\n                    }\n                    `),d+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                  `):d+=1===e?`\n                    xC${t+1} = xTexelC${t};\n                    `:`\n                    xCOffset = xC + ${e};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                      xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${t+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${t+1}Ready = 1;\n                    }\n\n                    xC${t+1} = xTexelC${t+1};\n                    `}}else t<c&&(i%2==1?(d+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n              `,t+1<c&&(d+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                `)):(d+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(\n                  xTexelC${t}.xy, xTexelC${t+1}.xy);\n              `,t+1<c&&(d+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                `)));t<c&&(d+=`\n            wTexel = getW(r, ${t}, d1, q);\n            dotProd += xC${t} * vec4(wTexel.xz, wTexel.xz);\n          `,t+1<c&&(d+=`\n              wTexel = getW(r, ${t+1}, d1, q);\n              dotProd += xC${t+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}d+="\n    }\n  ",d+="\n      }\n    ";let p="",m="";n&&(p=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:a?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,m="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${p}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${s};\n        int q = d2 - d1 * ${s};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${d}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${f}\n        ${m}\n        setOutput(result);\n      }\n    `}}const ML={kernelName:ju,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:i,pad:o,dilations:l,dimRoundingMode:u}=r;let c=l;null==c&&(c=[1,1]),fl(pf(i,c),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`));const h=af(a.shape,s.shape,i,c,o,u,!0);let d;d=Yl().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels==1?new RL(h):new zL(h);const p=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return n.runWebGLProgram(d,[a,s],"float32",p)}};class FL{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${s} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${a};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class PL{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.top,i=n-1-e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${a}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${o}; dm++) {\n              int d2 = d1 * ${o} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const LL={kernelName:Gu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:s}=t,{strides:i,dilations:o,pad:l,dimRoundingMode:u,filterShape:c}=r,h=af(a.shape,c,i,o,l,u,!0),d=new FL(h);return n.runWebGLProgram(d,[a,s],"float32")}};const VL={kernelName:qu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:s}=t,{strides:i,dilations:o,pad:l,dimRoundingMode:u,inputShape:c}=r,h=af(c,s.shape,i,o,l,u,!0),d=new PL(h);return n.runWebGLProgram(d,[a,s],"float32")}};class WL{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const UL={kernelName:$u,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=[...r.shape,...r.shape],s=wl(r.shape),i=kF({inputs:{x:r},backend:n,attrs:{shape:[s]}}),o=new WL(s),l=n.runWebGLProgram(o,[i],i.dtype),u=kF({inputs:{x:l},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),u}};class jL{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:a,strideWidth:s,filterHeight:i,filterWidth:o,dilationHeight:l,dilationWidth:u}=e,{top:c,left:h}=r;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${s});\n      const ivec2 pads = ivec2(${c}, ${h});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${i}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${o}; w++) {\n              int wIn = wBeg + w * ${u};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const GL={kernelName:Hu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s}=t,{strides:i,pad:o,dilations:l}=r,u=tf(a.shape,s.shape,i,o,"NHWC",l);let c;const h=new jL(u);c=n.runWebGLProgram(h,[a,s],"float32");const d=kF({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),d}};const qL={kernelName:Yu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,s=t,{allDims:i,summedDims:o,idDims:l}=rw(a,s.length);sw(i.length,l,s);const{path:u,steps:c}=iw(o,l),h=c.length;let d=null,p=i.length;const m=[];for(let e=0;e<h;++e){for(const t of c[e]){const{permutationIndices:e,expandDims:r}=aw(p,l[t]);let a;ow(e)?a=s[t]:(a=BF({inputs:{x:s[t]},backend:n,attrs:{perm:e}}),m.push(a));const i=a.shape.slice();for(let e=0;e<r.length;++e)i.splice(r[e],0,1);vl(a.shape,i)||(a=kF({inputs:{x:a},backend:n,attrs:{shape:i}}),m.push(a)),null===d?d=a:(d=AF({inputs:{a,b:d},backend:n}),m.push(d))}e<h-1&&(u[e]>=0&&(d=_F({inputs:{x:d},backend:n,attrs:{axis:u[e]-(i.length-p),keepDims:!1}}),m.push(d)),p--)}for(const e of m)e!==d&&n.disposeIntermediateTensorInfo(e);return d}},$L=pF({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),HL={kernelName:Qu,backendName:"webgl",kernelFunc:$L},KL={kernelName:Ju,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:a}=t,s=Yl().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nF("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new tF("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(s,[r,a],r.dtype)}},ZL=mF({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:tM}),XL={kernelName:tc,backendName:"webgl",kernelFunc:ZL},YL=pF({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${Wb};\n  float a1 = ${Ub};\n  float a2 = ${jb};\n  float a3 = ${Gb};\n  float a4 = ${qb};\n  float a5 = ${$b};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),QL={kernelName:ec,backendName:"webgl",kernelFunc:YL},JL=pF({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:nM,dtype:"float32"}),eV={kernelName:nc,backendName:"webgl",kernelFunc:JL};function tV(e){const{inputs:t,attrs:n,backend:r}=e,{dim:a}=n,{input:s}=t,i=s.shape.length,o=s.shape.slice();let l=a;return a<0&&(fl(-(i+1)<=a,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),l=i+a+1),o.splice(l,0,1),kF({inputs:{x:s},backend:r,attrs:{shape:o}})}const nV={kernelName:rc,backendName:"webgl",kernelFunc:tV},rV="return exp(x) - 1.0;",aV=pF({opSnippet:rV,packedOpSnippet:rV,cpuKernelImpl:rM}),sV={kernelName:ac,backendName:"webgl",kernelFunc:aV};class iV{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const a=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,s=n?`${r}.0`:"1.0";let i;if("real"===e)i="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);i="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${a};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${i}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${s};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function oV(e,t,n){const r=n.texData.get(e.dataId),a=wl(e.shape),s=e.shape[e.shape.length-1],i=kF({inputs:{x:e},backend:n,attrs:{shape:[a/s,s]}}),o=i.shape,l=new iV("real",o,t),u=new iV("imag",o,t),c=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:o},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:o}],h=n.runWebGLProgram(l,c,"float32"),d=n.runWebGLProgram(u,c,"float32"),p=sF({inputs:{real:h,imag:d},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d);const m=kF({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(p),m}const lV={kernelName:sc,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return oV(r,!1,n)}};class uV{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function cV(e){const{backend:t,attrs:n}=e,{shape:r,value:a}=n;let{dtype:s}=n;if(s=s||Rl(a),"string"===s){const e=Nl(s,wl(r));return e.fill(a),t.makeTensorInfo(r,s,e)}{const e=new uV(r,a),n=[[a]];return t.runWebGLProgram(e,[],s,n)}}const hV={kernelName:ic,backendName:"webgl",kernelFunc:cV};class dV{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const pV={kernelName:oc,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,r=t,a=new dV(n.shape);return r.runWebGLProgram(a,[n],n.dtype)}},mV="return floor(x);",fV=pF({opSnippet:mV,packedOpSnippet:mV,cpuKernelImpl:aM}),gV={kernelName:lc,backendName:"webgl",kernelFunc:fV},yV=mF({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),bV={kernelName:uc,backendName:"webgl",kernelFunc:yV};class wV{constructor(e){this.variableNames=["A"];const t=lR(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class vV{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=lR(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const AV={kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:a}=t;const{numChannels:s}=r,i="undefined"!=typeof HTMLVideoElement&&a instanceof HTMLVideoElement,o="undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement,[l,u]=i?[a.videoWidth,a.videoHeight]:[a.width,a.height],c=[u,l],h=[u,l,s];(o||i)&&(null==xV&&(xV=document.createElement("canvas").getContext("2d")),xV.canvas.width=l,xV.canvas.height=u,xV.drawImage(a,0,0,l,u),a=xV.canvas);const d=n.makeTensorInfo(c,"int32");n.texData.get(d.dataId).usage=Dz.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),a);const p=Yl().getBool("WEBGL_PACK")?new vV(h):new wV(h),m=n.runWebGLProgram(p,[d],"int32");return n.disposeData(d.dataId),m}};let xV;const kV={kernelName:nd,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s,bias:i,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:m}=r,f=mf(c),g=af(a.shape,s.shape,l,h,u,d,!1,f);let y;const b=[];if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(Yl().getBool("WEBGL_CONV_IM2COL")&&1===a.shape[0])y=iL({x:a,filter:s,convInfo:g,backend:n,bias:i,activation:p,preluActivationWeights:o,leakyreluAlpha:m});else{const e=null!=i,t=null!=o,r="leakyrelu"===p,l=p?fF(p,!1):null,u=new nL(g,e,l,t,r),c=[a,s];if(i&&c.push(i),o&&c.push(o),r){const e=n.makeTensorInfo([],"float32",Td(m,"float32"));c.push(e),b.push(e)}y=n.runWebGLProgram(u,c,"float32")}else y=sL({x:a,filter:s,convInfo:g,backend:n,bias:i,activation:p,preluActivationWeights:o,leakyreluAlpha:m});const w=kF({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return b.push(y),b.forEach((e=>n.disposeIntermediateTensorInfo(e))),w}};const CV={kernelName:rd,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:s,bias:i,preluActivationWeights:o}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:h,activation:d,leakyreluAlpha:p}=r,m=[];let f=c;null==f&&(f=[1,1]),fl(pf(l,f),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${f}'`));const g=af(a.shape,s.shape,l,f,u,h,!0),y=Yl().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels==1,b=d?fF(d,y):null,w=[a,s],v=null!=i,A=null!=o,x="leakyrelu"===d;if(v&&w.push(i),A&&w.push(o),x){const e=n.makeTensorInfo([],"float32",Td(p,"float32"));w.push(e),m.push(e)}let k;k=y?new RL(g,v,b,A,x):new zL(g,v,b,A,x);const C=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],S=n.runWebGLProgram(k,w,"float32",C);return m.forEach((e=>n.disposeIntermediateTensorInfo(e))),S}};class SV{constructor(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;const r=SR(t.length),a=SR(n.length),s=this.sliceDim>1?"strides[j]":"strides";this.userCode=`\n        ${r} strides = ${r}(${this.strides});\n         void main() {\n          ${a} coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ${this.sliceDim}; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ${s};\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      `}}const EV={kernelName:dc,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,s=a.shape,i=s[s.length-1],o=wl(r.shape),[l,u,c,h]=Rb(r,a),d=kF({inputs:{x:a},backend:n,attrs:{shape:[u,i]}}),p=kF({inputs:{x:r},backend:n,attrs:{shape:[wl(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){const e=n.readSync(a.dataId),t=n.bufferSync(r),s=sM(e,t,r.dtype,u,i,c,h,r.shape,o);return n.makeTensorInfo(l,r.dtype,s.values)}const m=new SV(i,h,[u,c]),f=n.runWebGLProgram(m,[p,d],p.dtype),g=kF({inputs:{x:f},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),g}};class IV{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=SR(this.rank),r=function(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let t=0;t<e.length;t++)2===t?r.push("index"):r.push(`${n[t]}`);return r.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function TV(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:s}=t,{axis:i,batchDims:o}=r,l=El(i,a.shape)[0];if(Yl().get("DEBUG")){const e=n.readSync(s.dataId),t=a.shape[l];for(let n=0;n<e.length;++n){const r=e[n];fl(r<=t-1&&r>=0,(()=>`GatherV2: the index value ${r} is not in [0, ${t-1}]`))}}const u=Cw(a,s,l,o),c=wl(s.shape),h=[],d=kF({inputs:{x:a},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),p=kF({inputs:{x:s},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});h.push(d),h.push(p);const m=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([a,s])||"string"===a.dtype){const e=n.bufferSync(p),t=n.bufferSync(d),r=iM(t,e,m);return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u.outputShape,r.dtype,r.values)}const f=new IV(d.shape,m),g=n.runWebGLProgram(f,[d,p],d.dtype);h.push(g);const y=kF({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const NV={kernelName:hc,backendName:"webgl",kernelFunc:TV},DV=mF({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:oM,dtype:"bool"}),_V={kernelName:pc,backendName:"webgl",kernelFunc:DV},OV=mF({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:lM}),BV={kernelName:mc,backendName:"webgl",kernelFunc:OV};const zV={kernelName:gc,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return oV(r,!0,n)}},RV=pF({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),MV={kernelName:bc,backendName:"webgl",kernelFunc:RV},FV=pF({opSnippet:"return float(isinf(x));",dtype:"bool"}),PV={kernelName:wc,backendName:"webgl",kernelFunc:FV},LV=pF({opSnippet:"return float(isnan(x));",dtype:"bool"}),VV={kernelName:vc,backendName:"webgl",kernelFunc:LV},WV=mF({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:uM,dtype:"bool"}),UV={kernelName:xc,backendName:"webgl",kernelFunc:WV},jV=mF({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:cM,dtype:"bool"}),GV={kernelName:kc,backendName:"webgl",kernelFunc:jV};const qV={kernelName:Cc,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:s}=n,i=hM(r,a,s);return t.makeTensorInfo([i.length],"float32",i)}},$V=pF({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:dM}),HV={kernelName:Sc,backendName:"webgl",kernelFunc:$V},KV=pF({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),ZV={kernelName:Ec,backendName:"webgl",kernelFunc:KV},XV=mF({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),YV={kernelName:Ic,backendName:"webgl",kernelFunc:XV},QV=pF({opSnippet:"return float(!(x >= 1.0));"}),JV={kernelName:Tc,backendName:"webgl",kernelFunc:QV},eW=mF({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),tW={kernelName:Nc,backendName:"webgl",kernelFunc:eW};class nW{constructor(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];const s=t,i=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;o=.5===a?`inversesqrt(${l})`:1===a?`1.0/(${l})`:`exp(log(${l}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${s}; j <= ${s}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${i}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${o};\n        setOutput(val);\n      }\n    `}}class rW{constructor(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const s=t,i=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;o=.5===a?`inversesqrt(${l})`:1===a?`1.0/(${l})`:`exp(log(${l}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${s};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${s}; j <= ${s}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${i}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${o};\n        setOutput(result);\n      }\n    `}}const aW={kernelName:Dc,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:s,bias:i,alpha:o,beta:l}=r,u=Yl().getBool("WEBGL_PACK_NORMALIZATION")?new rW(a.shape,s,i,o,l):new nW(a.shape,s,i,o,l);return n.runWebGLProgram(u,[a],a.dtype)}};class sW{constructor(e,t,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=a,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${a})\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${a});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const iW={kernelName:_c,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a,y:s,dy:i}=t,{depthRadius:o,bias:l,alpha:u,beta:c}=r,h=new sW(a.shape,o,l,u,c);return n.runWebGLProgram(h,[a,s,i],a.dtype)}};function oW(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:s,keepDims:i}=r,o=a.shape.length,l=El(s,a.shape);let u=l;const c=gg(u,o),h=null!=c,d=n.shouldExecuteOnCPU([a]);let p=a;if(h){if(d){const e=n.texData.get(p.dataId).values,t=new Array(o);for(let e=0;e<t.length;e++)t[e]=a.shape[c[e]];const r=MM(e,a.shape,a.dtype,c,t);p=n.makeTensorInfo(t,a.dtype);n.texData.get(p.dataId).values=r}else p=DF(a,c,n);u=bg(u.length,o)}fg("max",u,o);const[m,f]=pg(p.shape,u);let g,y=m;if(i&&(y=mg(m,l)),d){const e=n.texData.get(p.dataId).values,t=pM(e,wl(f),y,a.dtype);g=n.makeTensorInfo(y,a.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,r){const a=wl(t),s=kF({inputs:{x:e},attrs:{shape:[wl(e.shape)/a,a]},backend:r}),i=IF(s,e.dtype,"max",r),o=kF({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(i),o}(p,f,y,n);return h&&n.disposeIntermediateTensorInfo(p),g}const lW={kernelName:Oc,backendName:"webgl",kernelFunc:oW},uW=mF({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:mM}),cW={kernelName:Bc,backendName:"webgl",kernelFunc:uW};const hW={kernelName:zc,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;iR(a,"maxPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:l}=r;fl(pf(i,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=nf(a.shape,s,i,1,o,l);if(1===u.filterWidth&&1===u.filterHeight&&vl(u.inShape,u.outShape))return rF({inputs:{x:a},backend:n});const c=new mP(u,"max",!1);return n.runWebGLProgram(c,[a],a.dtype)}};const dW={kernelName:Mc,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:s,strides:i,pad:o,dataFormat:l,dimRoundingMode:u}=r,c=rf(a.shape,s,i,[1,1,1],o,u,l),h=new fP(c,"max",!1);return n.runWebGLProgram(h,[a],a.dtype)}};class pW{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,s=e.effectiveFilterWidth,i=a-1-e.padInfo.top,o=s-1-e.padInfo.left,l=a*s-1;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${a};\n          wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${s}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${s} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class mW{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,s=e.dilationHeight,i=e.dilationWidth,o=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=o-1-e.padInfo.front,h=l-1-e.padInfo.top,d=u-1-e.padInfo.left,p=o*l*u-1;this.userCode=`\n      const ivec3 pads = ivec3(${c}, ${h}, ${d});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${o};\n           wD += ${a}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${s}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${u};\n                wC += ${i}) {\n              float dyC = float(dyCCorner + wC) / ${r}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${p} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${u} +\n                  wR * ${u} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const fW={kernelName:Fc,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s}=t,i=s,{filterSize:o,strides:l,pad:u,dimRoundingMode:c}=r,h=rf(i.shape,o,l,[1,1,1],u,c),d=new fP(h,"max",!0),p=n.runWebGLProgram(d,[i],i.dtype),m=new mW(h),f=n.runWebGLProgram(m,[a,p],i.dtype);return n.disposeIntermediateTensorInfo(p),f}};const gW={kernelName:Rc,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:s,output:i}=t,o=s;iR([s,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:h}=r,d=nf(o.shape,l,u,1,c,h),p=new mP(d,"max",!0),m=n.runWebGLProgram(p,[o],o.dtype),f=new pW(d),g=n.runWebGLProgram(f,[a,m],o.dtype);return n.disposeIntermediateTensorInfo(m),g}};const yW={kernelName:Pc,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:a,strides:s,pad:i,includeBatchInIndex:o}=t,l=n;fl(4===r.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`));const u=[1,1];fl(pf(s,u),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`));const c=nf(r.shape,a,s,u,i),[h,d]=function(e,t,n,r){let a=new mP(n,"max",!1);const s=r.runWebGLProgram(a,[e],"float32");return a=new mP(n,"max",!0,!0,t),[s,r.runWebGLProgram(a,[e],"float32")]}(r,o,c,l);return[h,d]}};const bW={kernelName:Lc,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{keepDims:a,axis:s}=t,i=n,o=r.shape.length,l=El(s,r.shape);let u=l;const c=gg(u,o),h=null!=c,d=i.shouldExecuteOnCPU([r]),p=[];let m=r;if(h){if(d){const e=i.texData.get(m.dataId).values,t=new Array(o);for(let e=0;e<t.length;e++)t[e]=r.shape[c[e]];const n=MM(e,r.shape,r.dtype,c,t);m=i.makeTensorInfo(t,r.dtype);i.texData.get(m.dataId).values=n}else m=DF(r,c,i);p.push(m),u=bg(u.length,o)}fg("sum",u,o);const[f,g]=pg(m.shape,u);let y=f;a&&(y=mg(f,l));const b=function(e,t,n,r){const a=wl(t),s=kF({inputs:{x:e},attrs:{shape:[wl(e.shape)/a,a]},backend:r}),i=IF(s,"float32","mean",r),o=kF({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(i),o}(m,g,y,i);for(const e of p)i.disposeIntermediateTensorInfo(e);return b}};const wW={kernelName:Vc,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r,o=a.shape.length,l=El(s,a.shape);let u=l;const c=gg(u,o);let h=a;null!=c&&(h=BF({inputs:{x:a},backend:n,attrs:{perm:c}}),u=bg(u.length,a.shape.length)),fg("min",u,o);const[d,p]=pg(h.shape,u),m=kF({inputs:{x:h},backend:n,attrs:{shape:[-1,wl(p)]}}),f=IF(m,m.dtype,"min",n);let g;if(i){g=kF({inputs:{x:f},backend:n,attrs:{shape:mg(d,l)}})}else g=kF({inputs:{x:f},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),null!=c&&n.disposeIntermediateTensorInfo(h),g}},vW=mF({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:fM}),AW={kernelName:Wc,backendName:"webgl",kernelFunc:vW};class xW{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=SR(r),s=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l="reflect"===n?0:1;this.userCode=1!==r?`\n      ${a} start = ${a}(${s});\n      ${a} end = ${a}(${i});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${a} coords = outC - start;\n        setOutput(getX(${o}));\n      }\n    `:`\n        int start = ${s};\n        int end = ${i};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class kW{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=SR(r),s=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),o=LM("rc",r),l=LM("source",r),u=`${o[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,h="reflect"===n?0:1;let d="";if(1===r){const e=`\n        ${a} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${h};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${h};\n        }\n        source -= start;\n      `;d=`\n        ${a} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${o[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n      `}else{const e=`\n        ${a} source = rc;\n        ${a} lt = ${a}(lessThan(source, start));\n        ${a} gte = ${a}(greaterThanEqual(source, end));\n        ${a} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${h}) +\n                gte * ((end - 1) * 2 - source + ${h});\n        source -= start;\n      `;d=`\n        ${a} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${o[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n        rc = outputLoc;\n        ${o[r-2]} += 1;\n        if(${o[r-2]} < ${this.outputShape[r-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${c});\n          ${o[r-1]} += 1;\n          if(${u}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${c});\n          }\n        }\n      `}this.userCode=`\n      const ${a} start = ${a}(${s});\n      const ${a} end = ${a}(${i});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${d}\n        setOutput(result);\n      }\n    `}}const CW={kernelName:Uc,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r}=e,{paddings:a,mode:s}=n,i=Yl().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new kW(r.shape,a,s):new xW(r.shape,a,s);return t.runWebGLProgram(i,[r],r.dtype)}},SW=mF({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),EW={kernelName:jc,backendName:"webgl",kernelFunc:SW};class IW{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const TW=mF({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),NW={kernelName:Xu,backendName:"webgl",kernelFunc:TW},DW="return a - b;",_W=mF({opSnippet:DW,packedOpSnippet:DW,supportsComplex:!0,cpuKernelImpl:BM}),OW={kernelName:Uh,backendName:"webgl",kernelFunc:_W};function BW(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:s}=r,i=El([s],a.shape),o=oW({inputs:{x:a},backend:n,attrs:{reductionIndices:i,keepDims:!1}}),l=mg(o.shape,i),u=kF({inputs:{x:o},backend:n,attrs:{shape:l}}),c=_W({inputs:{a,b:u},backend:n}),h=JL({inputs:{x:c},backend:n}),d=_F({inputs:{x:h},backend:n,attrs:{axis:i,keepDims:!1}}),p=kF({inputs:{x:d},backend:n,attrs:{shape:l}}),m=TW({inputs:{a:h,b:p},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),m}const zW={kernelName:Dh,backendName:"webgl",kernelFunc:BW};const RW={kernelName:Gc,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:s,seed:i,normalized:o}=r,l=o?a:BW({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),u=l.shape[0],c=l.shape[1],h=new IW(u,c,s),d=[[i]],p=n.runWebGLProgram(h,[l],"int32",d);return o||n.disposeIntermediateTensorInfo(l),p}};const MW={kernelName:$c,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,a]=yM(e.values,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,t)}let a;return a=Yl().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new ZM(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new $M(r.shape,"if (isnan(x)) return x;\n  return -x;\n"),n.runWebGLProgram(a,[r],r.dtype)}},FW=zy;const PW={kernelName:Kc,backendName:"webgl",kernelFunc:function(e){ad();const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l}=r,u=n.readSync(a.dataId),c=n.readSync(s.dataId),{selectedIndices:h}=FW(u,c,i,o,l);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}},LW=Ry;const VW={kernelName:Zc,backendName:"webgl",kernelFunc:function(e){ad();const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(a.dataId),h=n.readSync(s.dataId),{selectedIndices:d,validOutputs:p}=LW(c,h,i,o,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},WW=My;const UW={kernelName:Xc,backendName:"webgl",kernelFunc:function(e){ad();const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:s}=t,{maxOutputSize:i,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(a.dataId),h=n.readSync(s.dataId),d=i,p=o,m=l,f=u,{selectedIndices:g,selectedScores:y}=WW(c,h,d,p,m,f);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class jW{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const GW={kernelName:Qc,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{depth:s,onValue:i,offValue:o}=r,l=wl(a.shape),u=new jW(l,s,i,o),c=kF({inputs:{x:a},backend:n,attrs:{shape:[l]}}),h=n.runWebGLProgram(u,[c],a.dtype);n.disposeIntermediateTensorInfo(c);const d=kF({inputs:{x:h},backend:n,attrs:{shape:[...a.shape,s]}});return n.disposeIntermediateTensorInfo(h),d}};function qW(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=MP({inputs:{input:r},backend:n}),t=qW({inputs:{x:e},backend:n}),a=YP({inputs:{input:r},backend:n}),s=qW({inputs:{x:a},backend:n}),i=sF({inputs:{real:t,imag:s},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),i}return cV({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const $W={kernelName:Qh,backendName:"webgl",kernelFunc:qW};const HW={kernelName:Yc,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){const t=MP({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),s=YP({inputs:{input:a},backend:r}),i=qW({inputs:{x:s},backend:r}),o=sF({inputs:{real:n,imag:i},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(i),o}return cV({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};const KW={kernelName:Jc,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return tV({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const s=t[0].shape,i=t[0].dtype;t.forEach((e=>{gl(s,e.shape,"All tensors passed to stack must have matching shapes"),fl(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],l=eL({inputs:t.map((e=>{const t=tV({inputs:{input:e},backend:n,attrs:{dim:a}});return o.push(t),t})),backend:n,attrs:{axis:a}});return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}};class ZW{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=SR(r),s=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${a} start = ${a}(${s});\n      ${a} end = ${a}(${i});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${a} coords = outC - start;\n          setOutput(getX(${o}));\n        }\n      }\n    `:`\n        int start = ${s};\n        int end = ${i};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class XW{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=SR(r),s=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),o=LM("rc",r),l=LM("source",r),u=`${o[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,h=[`${a} rc = outputLoc;`,`${o[r-1]} += 1;\n       if(${u}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${o[r-2]} += 1;\n       if(${o[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${o[r-1]} += 1;\n         if(${u}) {`],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let e=0,t=1===r?2:4;e<t;e++)p+=`\n        ${h[e]}\n        if (${d}) {\n          result[${e}] = float(value);\n        } else {\n          ${a} source = rc - start;\n          result[${e}] = getChannel(getX(${l.join()}), ${c});\n        }\n      `;p+=1===r?"} ":"}}",this.userCode=`\n      const ${a} start = ${a}(${s});\n      const ${a} end = ${a}(${i});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}const YW=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:s,constantValue:i}=r;if(0===wl(a.shape)){const e=s.map(((e,t)=>e[0]+a.shape[t]+e[1]));return cV({backend:n,attrs:{shape:e,value:i,dtype:a.dtype}})}const o=Yl().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new XW(a.shape,s,i):new ZW(a.shape,s,i),l=[[i]];return n.runWebGLProgram(o,[a],a.dtype,l)},QW={kernelName:eh,backendName:"webgl",kernelFunc:YW},JW=mF({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),eU={kernelName:th,backendName:"webgl",kernelFunc:JW};const tU={kernelName:rh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:s,keepDims:i}=r,o=a.shape.length,l=[],u=El(s,a.shape);let c=u;const h=gg(c,o);let d,p=a;if(null!=h&&(p=BF({inputs:{x:a},backend:n,attrs:{perm:h}}),c=bg(c.length,o),l.push(p)),fg("prod",c,o),n.shouldExecuteOnCPU([p])){const e=n.texData.get(p.dataId).values,{outVals:t,outShape:r,outDtype:a}=wM(p.shape,p.dtype,e,c);d=n.makeTensorInfo(r,a,t)}else{const[e,t]=pg(p.shape,c),r=wl(t),s=kF({inputs:{x:p},backend:n,attrs:{shape:[-1,r]}}),i=IF(s,tp(a.dtype),"prod",n);d=kF({inputs:{x:i},backend:n,attrs:{shape:e}}),l.push(s),l.push(i)}if(i){l.push(d);const e=mg(d.shape,u);d=kF({inputs:{x:d},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},nU=e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:s,dtype:i}=n,o=vM(r,a,s,i);return t.makeTensorInfo([o.length],i,o)},rU={kernelName:ah,backendName:"webgl",kernelFunc:nU},aU=pF({opSnippet:"return 1.0 / x;"}),sU={kernelName:ih,backendName:"webgl",kernelFunc:aU},iU=pF({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),oU={kernelName:oh,backendName:"webgl",kernelFunc:iU},lU=pF({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),uU={kernelName:ph,backendName:"webgl",kernelFunc:lU};class cU{constructor(e,t,n,r,a){this.variableNames=["A"],this.outputShape=[];const[s,i,o,l]=e;this.outputShape=[s,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let h;h=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${i}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${h};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class hU{constructor(e,t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[s,i,o,l]=e;this.outputShape=[s,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let h;h=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${i}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${h};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const dU={kernelName:hh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:s,halfPixelCenters:i,size:o}=r,[l,u]=o,c=Yl().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new hU(a.shape,l,u,s,i):new cU(a.shape,l,u,s,i);return n.runWebGLProgram(c,[a],"float32")}};class pU{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,a]=t,[,s,i]=e,o=[n&&s>1?r-1:r,n&&i>1?a-1:a],l=[n&&s>1?s-1:s,n&&i>1?i-1:i],u=o[0]/l[0],c=o[1]/l[1],h=1/u,d=1/c,p=2*Math.ceil(h)+2,m=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${h});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${m});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${s}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${i}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${a-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const mU={kernelName:dh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:s}=t,{alignCorners:i}=r,o=new pU(s.shape,a.shape,i);return n.runWebGLProgram(o,[s],s.dtype)}};class fU{constructor(e,t,n,r,a){this.variableNames=["A"],this.outputShape=[];const[s,i,o,l]=e;this.outputShape=[s,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=r?"0.5":"0.0";let d;d=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${i}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class gU{constructor(e,t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[s,i,o,l]=e;this.outputShape=[s,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=r?"0.5":"0.0";let d;d=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${i}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const yU={kernelName:uh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:s,halfPixelCenters:i,size:o}=r,[l,u]=o,c=Yl().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new gU(a.shape,l,u,s,i):new fU(a.shape,l,u,s,i);return n.runWebGLProgram(c,[a],a.dtype)}};class bU{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,a]=t,[,s,i]=e,o=[n&&s>1?r-1:r,n&&i>1?a-1:a],l=[n&&s>1?s-1:s,n&&i>1?i-1:i],u=o[0]/l[0],c=o[1]/l[1],h=1/u,d=1/c,p=2*Math.ceil(h)+2,m=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${h});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${m});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${s}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${i}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${o[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${o[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${a}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const wU={kernelName:ch,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:s}=t,{alignCorners:i}=r,o=new bU(s.shape,a.shape,i);return n.runWebGLProgram(o,[s],s.dtype)}};class vU{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const r=e.map(((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(r))).join(","),a=SR(n);this.userCode=`\n      void main() {\n        ${a} coords = getOutputCoords();\n        setOutput(getX(${r}));\n      }\n    `}}class AU{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const r=LM("rc",n),a=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,s=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,i=SR(n);function o(n){const r=e.map(((r,a)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${r[n]} - 1`:`${r[n]}`}(a,n)));return`getChannel(getX(${r.join(",")}), vec2(${r.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${a}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${i} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return o(e)}(r.slice())};\n          if(${a}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",o(e)}(r.slice())};\n          }\n          if(${s}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",o(e)}(r.slice())};\n            if(${a}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",o(e)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const xU={kernelName:mh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:s}=r,i=a.shape.length,o=El(s,a.shape);if(0===i)return rF({inputs:{x:a},backend:n});const l=Yl().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new AU(a.shape,o):new vU(a.shape,o);return n.runWebGLProgram(l,[a],a.dtype)}};class kU{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let a="";a="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${a}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const CU={kernelName:ed,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:a,fillValue:s,center:i}=t,o=n,l=new kU(r.shape,s),[u,c]=Nb(i,r.shape[1],r.shape[2]),h=[[u,c,Math.sin(a),Math.cos(a)]];return o.runWebGLProgram(l,[r],r.dtype,h)}},SU=pF({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),EU={kernelName:fh,backendName:"webgl",kernelFunc:SU},IU=pF({opSnippet:"return inversesqrt(x);",cpuKernelImpl:AM}),TU={kernelName:gh,backendName:"webgl",kernelFunc:IU};class NU{constructor(e,t,n,r,a,s,i=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=s;const o=SR(a.length),l=SR(s.length);let u="";1===n?u="i":2===n&&(u="i, j");const c=`getIndices(${u})`;let h="";1===r?h="i":2===r&&(h="i, coords[1]");const d=`getUpdates(${h})`,p=t>1?"strides[j]":"strides";this.userCode=`\n        ${o} strides = ${o}(${a});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${c});\n              flattenedIndex += index * ${p};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${d};\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      `}}const DU={kernelName:yh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:s}=t,{shape:i}=r,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:h}=Pb(0,a,i),d=[h/u,u];if(0===h)return n.makeTensorInfo(i,a.dtype);const p=kF({inputs:{x:a},backend:n,attrs:{shape:[l,o]}}),m=kF({inputs:{x:s},backend:n,attrs:{shape:[l,u]}}),f=n.makeTensorInfo([],"float32",new Float32Array([0])),g=new NU(l,o,p.shape.length,m.shape.length,c,d),y=n.runWebGLProgram(g,[m,p,f],m.dtype),b=kF({inputs:{x:y},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(f),b}};class _U{constructor(e,t,n){let r,a;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)a="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],i=[];for(let r=0;r<t.length;r++)i.push(`${n[r]}`),r<e&&s.push(`${n[r]}`);r=s.join(),a=i.join()}const s=SR(n);this.userCode=`\n      void main() {\n        ${s} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${a}));\n        } else {\n          setOutput(getB(${a}));\n        }\n      }\n    `}}const OU={kernelName:bh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:s}=t,i=new _U(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(i,[r,a,s],ep(a.dtype,s.dtype))}},BU=pF({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${Lb};\n  float scale = ${Vb};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),zU={kernelName:wh,backendName:"webgl",kernelFunc:BU},RU=pF({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:xM}),MU={kernelName:Ch,backendName:"webgl",kernelFunc:RU},FU=pF({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),PU={kernelName:kh,backendName:"webgl",kernelFunc:FU},LU=pF({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),VU={kernelName:Ah,backendName:"webgl",kernelFunc:LU},WU=pF({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),UU={kernelName:xh,backendName:"webgl",kernelFunc:WU},jU=pF({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),GU={kernelName:Sh,backendName:"webgl",kernelFunc:jU},qU={kernelName:Th,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:s,paddings:i}=r;fl(a.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const o=s.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...i);for(let e=1+s.length;e<a.shape.length;++e)l.push([0,0]);const u=[],c=YW({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),h=Db(c.shape,s,o,!1),d=_b(h.length,s.length,!1),p=Ob(c.shape,s,o,!1),m=kF({inputs:{x:c},backend:n,attrs:{shape:h}}),f=BF({inputs:{x:m},backend:n,attrs:{perm:d}}),g=kF({inputs:{x:f},backend:n,attrs:{shape:p}});return u.push(c),u.push(m),u.push(f),u.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const $U={kernelName:_h,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:s,defaultValue:i}=t;if(1!==s.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${s.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${r.shape}`);if(1!==a.shape.length)throw new Error(`Values must be a vector, saw:\n         ${a.shape}`);if(0!==i.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${i.shape}`);const o=n.readSync(r.dataId),l=n.readSync(a.dataId),u=n.readSync(s.dataId),c=n.readSync(i.dataId)[0],[h,d,p,m,f]=SM(o,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,h),n.makeTensorInfo([d[0]],a.dtype,p),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map((e=>Number(e))))),n.makeTensorInfo([f.length],r.dtype,new Int32Array(f))]}};const HU={kernelName:Oh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:s}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape ${a.shape}`);if(1!==s.shape.length)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const i=Array.from(n.readSync(a.dataId)),o=n.readSync(r.dataId),l=Array.from(n.readSync(s.dataId)),[u,c,h]=EM(o,r.shape,r.dtype,i,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([h.length],s.dtype,new Int32Array(h))]}};const KU={kernelName:Bh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:s}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${a.shape}`);if(1!==s.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${s.shape}`);const i=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(s.dataId),[u,c]=IM(i,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};const ZU={kernelName:zh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:s}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${a.shape}`);if(1!==s.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${s.shape}`);const i=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(s.dataId),[u,c]=IM(i,r.shape,r.dtype,o,l);return n.makeTensorInfo(c,r.dtype,u)}};const XU={kernelName:Rh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:s,defaultValue:i}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:u,strides:c,outputSize:h}=Pb(0,a,o),d=new NU(u,l,a.shape.length,s.shape.length,c,[h,1],!1),p=n.runWebGLProgram(d,[s,a,i],s.dtype),m=kF({inputs:{x:p},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(p),m}};const YU={kernelName:Nh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:s,axis:i}=r,o=El(i,a.shape)[0],l=uw(a,s,o),u=a.shape.length,c=new Array(u).fill(0),h=a.shape.slice();return l.map((e=>{const t=[...h];t[o]=e;const r=NP({inputs:{x:a},backend:n,attrs:{begin:c,size:t}});return c[o]+=e,r}))}},QU="return sqrt(x);",JU=pF({opSnippet:QU,packedOpSnippet:QU,cpuKernelImpl:TM}),ej={kernelName:Eh,backendName:"webgl",kernelFunc:JU},tj={kernelName:Fh,backendName:"webgl",kernelFunc:pF({opSnippet:"return x * x;"})},nj="return (a - b) * (a - b);",rj=mF({opSnippet:nj,packedOpSnippet:nj}),aj={kernelName:Mh,backendName:"webgl",kernelFunc:rj};const sj={kernelName:Jh,backendName:"webgl",kernelFunc:function({inputs:e,attrs:t,backend:n}){const{x:r}=e,a=`if (isnan(x)) return x;\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `,s=new $M(r.shape,a);return n.runWebGLProgram(s,[r],r.dtype)}};class ij{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,a=SR(n.length),s=SR(n.length);let i="";if(1===r)i="coords * strides + begin";else{let e=0;i=n.map(((t,r)=>(e++,1===n.length?`coords * strides[${r}] + begin[${r}]`:`coords[${e-1}] * strides[${r}] + begin[${r}]`))).join(",")}this.userCode=`\n      ${a} begin = ${a}(${e});\n      ${a} strides = ${a}(${t});\n\n      void main() {\n        ${s} coords = getOutputCoords();\n        setOutput(getX(${i}));\n      }\n    `}}const oj={kernelName:Ph,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:s,end:i,strides:o,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:h,shrinkAxisMask:d}=r,{finalShapeSparse:p,finalShape:m,isIdentity:f,sliceDim0:g,isSimpleSlice:y,begin:b,end:w,strides:v}=Mm(a.shape,s,i,o,l,u,c,h,d);let A;if(f)A=kF({inputs:{x:a},backend:n,attrs:{shape:m}});else if(g||y){fl(a.shape.length>=1,(()=>`Input must have rank at least 1, got: ${a.shape.length}`));const e=km(b,w,v),t=NP({inputs:{x:a},backend:n,attrs:{begin:b,size:e}});A=kF({inputs:{x:t},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([a])){const e=n.readSync(a.dataId),t=om(a.shape,a.dtype,e),r=NM(p,t,v,b);A=n.makeTensorInfo(m,a.dtype,r.values)}else{const e=new ij(b,v,p);A=n.runWebGLProgram(e,[a],a.dtype)}}const x=kF({inputs:{x:A},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(A),x}};const lj={kernelName:Lh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:s,leftPad:i,rightPad:o,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:h}=t,d=n.readSync(c.dataId),p=n.readSync(h.dataId),[m,f]=DM(d,p,a,s,i,o,l,u);return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(h.shape,"int32",f)]}};const uj={kernelName:Vh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:s,delimiter:i}=t;if("string"!==s.dtype)throw new Error("Input must be of datatype string");if(1!==s.shape.length)throw new Error(`Input must be a vector, got shape: ${s.shape}`);if(0!==i.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const o=n.readSync(s.dataId),l=n.readSync(i.dataId)[0],[u,c,h]=_M(o,l,a),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};const cj={kernelName:Wh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:s}=t;if("string"!==s.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const i=n.readSync(s.dataId),o=OM(i,a);return n.makeTensorInfo(s.shape,"int32",o)}},hj=pF({opSnippet:"return tan(x);"}),dj={kernelName:jh,backendName:"webgl",kernelFunc:hj},pj=pF({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),mj={kernelName:Gh,backendName:"webgl",kernelFunc:pj};class fj{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;const r=SR(this.rank),a=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let t=0;t<e.length;t++)r.push(`imod(${n[t]}, ${e[t]})`);return r.join()}(e);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${a}));\n      }\n    `}}function gj(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:s}=r;if("string"===a.dtype||a.shape.length>5){const e=n.readSync(a.dataId),t="string"===a.dtype?e.map((e=>Od(e))):e,r=om(a.shape,a.dtype,t),i=zM(r,s);return n.makeTensorInfo(i.shape,i.dtype,i.values)}const i=new fj(a.shape,s);return n.runWebGLProgram(i,[a],a.dtype)}const yj={kernelName:qh,backendName:"webgl",kernelFunc:gj};class bj{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class wj{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function vj(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function Aj(e){let t=1;for(;t<e;)t*=2;return t}const xj={kernelName:$h,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:s,sorted:i}=r,o=Yl().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Yl().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=a.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([a])||c<o||s>l){const e=n.readSync(a.dataId),[t,r]=RM(e,u,a.dtype,s,i);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===s)return u[u.length-1]=0,[n.makeTensorInfo(u,a.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(1===c)return[a,cV({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const h=n.texData.get(a.dataId),d=null!==h&&h.isPacked,p=d?n.unpackTensor(a):a,m=wl(u)/c,f=kF({inputs:{x:p},attrs:{shape:[m,c]},backend:n});d&&vj(n,p);const g=Aj(s),y=Aj(c);let b=null;const w=()=>null===b?[f,f]:[f,b],v=(e,t,r)=>{const a=w(),s=new bj(r),i=[[c],[null===b?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],o=b;b=n.runWebGLProgram(s,a,"int32",i),vj(n,o)};for(let e=1;e<g;e*=2){const t=2*e;for(let n=e;n>=1;n/=2)v(t,n,[m,y])}for(let e=y;e>g;e/=2){const t=w(),r=new wj([m,e/2]),a=[[c],[null===b?1:0],[g]],s=b;b=n.runWebGLProgram(r,t,"int32",a),vj(n,s);const i=g/2,o=2*i;for(let e=i;e>=1;e/=2)v(o,e,b.shape)}let A=b;b=NP({inputs:{x:b},backend:n,attrs:{begin:0,size:[m,s]}}),vj(n,A);let x=TV({inputs:{x:f,indices:b},backend:n,attrs:{axis:1,batchDims:1}});vj(n,f);const k=u.slice(0,-1);k.push(s),A=b,b=kF({inputs:{x:b},attrs:{shape:k},backend:n}),vj(n,A);const C=x;return x=kF({inputs:{x},attrs:{shape:k},backend:n}),vj(n,C),[x,b]}};class kj{constructor(e,t,n,r,a,s){this.variableNames=["Image","Transforms"],this.outputShape=s;const i="nearest"===n?1:2;let o;switch(r){case"constant":default:o=1;break;case"reflect":o=2;break;case"wrap":o=3;break;case"nearest":o=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${o} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${a});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${a});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${i} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const Cj={kernelName:Hh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,transforms:s}=t,{interpolation:i,fillMode:o,fillValue:l,outputShape:u}=r,[c,h,d,p]=a.shape,[m,f]=null!=u?u:[h,d],g=new kj(h,d,i,o,l,[c,m,f,p]);return n.runWebGLProgram(g,[a,s],"float32")}};const Sj={kernelName:Zh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:s}=t;iR(s,"unique");const i=r.readSync(s.dataId),{outputValues:o,outputShape:l,indices:u}=FM(i,a,s.shape,s.dtype);return[r.makeTensorInfo(l,s.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}};const Ej={kernelName:Xh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:s}=r;s<0&&(s+=a.shape.length);const i=a,o=i.shape.length,l=a.shape[s],u=new Array(o-1);let c=0;for(let e=0;e<o;e++)e!==s&&(u[c++]=i.shape[e]);const h=[],d=new Array(o).fill(0),p=i.shape.slice();p[s]=1;const m=new Array(l);for(let e=0;e<m.length;e++){d[s]=e;const t=NP({inputs:{x:i},backend:n,attrs:{begin:d,size:p}}),r=kF({inputs:{x:t},backend:n,attrs:{shape:u}});m[e]=r,h.push(t)}return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),m}};class Ij{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,a=e.inSize,s=e.numSegments,i=s*Math.ceil(a/n);this.outputShape=[r,i];const o=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ";let c="";a%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `);let h="";a%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${h}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${s})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${s})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${o}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${u}\n        }\n\n        int inIdx = inOffset + ${o};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${u}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${u}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${u}\n        }\n        setOutput(sumValue);\n      }\n    `}}const Tj={kernelName:Yh,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:s}=t,{numSegments:i}=r,o=a.shape.length,l=[];let u=0;const c=gg([u],o);let h=a;null!=c&&(h=BF({inputs:{x:a},backend:n,attrs:{perm:c}}),l.push(h),u=bg(1,o)[0]);const d=kw(h.shape,u,i),p=wl([h.shape[u]]),m=kF({inputs:{x:h},backend:n,attrs:{shape:[-1,p]}});l.push(m);const f=tp(a.dtype),g=(e,t,r,a,s)=>{const i=e.shape[0],o=e.shape[1],u=xw(o,s),c=new Ij({windowSize:u,inSize:o,batchSize:i,numSegments:s},t),h=n.compileAndRun(c,[e,r],a);if(l.push(h),h.shape[1]===s)return h;const d=nU({backend:n,attrs:{start:0,stop:s,step:1,dtype:"float32"}}),p=gj({inputs:{x:d},backend:n,attrs:{reps:[o/u]}});l.push(d),l.push(p);return g(h,t,p,a,s)},y=kF({inputs:{x:g(m,"unsortedSegmentSum",s,f,i)},backend:n,attrs:{shape:d}});let b=y;if(null!=c){l.push(y);const e=yg(c);b=BF({inputs:{x:b},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}},Nj=[MF,PF,VF,UF,qF,KF,ZF,XF,nP,rP,sP,oP,uP,hP,pP,gP,yP,vP,AP,xP,SP,_P,OP,BP,PP,WP,GP,iF,HP,tL,oL,dL,pL,mL,fL,gL,bL,vL,xL,EL,DL,_L,BL,ML,LL,VL,UL,GL,qL,HL,KL,XL,QL,eV,nV,sV,lV,hV,pV,gV,bV,AV,kV,CV,EV,NV,_V,BV,aF,zV,QP,MV,PV,VV,uF,UV,GV,qV,HV,ZV,YV,JV,tW,aW,iW,lW,cW,hW,dW,fW,gW,yW,bW,wW,AW,CW,EW,RW,xF,MW,PW,VW,UW,RP,GW,HW,KW,QW,eU,dF,tU,rU,FP,NW,sU,oU,uU,CF,dU,mU,yU,wU,xU,CU,EU,TU,DU,OU,zU,MU,PU,VU,UU,DP,zW,GU,qU,$U,HU,KU,ZU,XU,YU,ej,tj,aj,sj,oj,lj,uj,cj,OW,OF,dj,mj,yj,xj,Cj,zF,Sj,Ej,Tj,$W];for(const e of Nj)hd(e);__webpack_require__(187);const Dj={moveTickSize:50,videoContainerId:"webgazerVideoContainer",videoElementId:"webgazerVideoFeed",videoElementCanvasId:"webgazerVideoCanvas",faceOverlayId:"webgazerFaceOverlay",faceFeedbackBoxId:"webgazerFaceFeedbackBox",gazeDotId:"webgazerGazeDot",videoViewerWidth:320,videoViewerHeight:240,faceFeedbackBoxRatio:.66,showVideo:!0,mirrorVideo:!0,showFaceOverlay:!0,showFaceFeedbackBox:!0,showGazeDot:!0,camConstraints:{video:{width:{min:320,ideal:640,max:1920},height:{min:240,ideal:480,max:1080},facingMode:"user"}},dataTimestep:50,showVideoPreview:!0,applyKalmanFilter:!0,saveDataAcrossSessions:!0,storingPoints:!1,videoIsOn:!1};__webpack_require__(3769);var _j=__webpack_require__(9479),Oj=__webpack_require__.n(_j);const Bj=__webpack_require__(4698),zj=function(){this.model=Bj.load({maxFaces:1}),this.predictionReady=!1};zj.prototype.positionsArray=null,zj.prototype.getEyePatches=async function(e,t,n){if(0===e.width)return null;const r=await this.model,a=await r.estimateFaces(e);if(0==a.length)return!1;this.positionsArray=a[0].scaledMesh;const s=this.positionsArray;var i=Math.round(Math.min(s[247][0],s[130][0],s[25][0])),o=Math.round(Math.min(s[247][1],s[27][1],s[190][1])),l=Math.round(Math.max(s[190][0],s[243][0],s[233][0])-i),u=Math.round(Math.max(s[25][1],s[23][1],s[112][1])-o),c=Math.round(Math.min(s[414][0],s[463][0],s[453][0])),h=Math.round(Math.min(s[414][1],s[257][1],s[467][1])),d=Math.round(Math.max(s[467][0],s[359][0],s[255][0])-c),p=Math.round(Math.max(s[341][1],s[253][1],s[255][1])-h);if(0===l||0===d)return null;if(0===u||0===p)return null;var m={},f=e.getContext("2d").getImageData(i,o,l,u);m.left={patch:f,imagex:i,imagey:o,width:l,height:u};var g=e.getContext("2d").getImageData(c,h,d,p);return m.right={patch:g,imagex:c,imagey:h,width:d,height:p},this.predictionReady=!0,m},zj.prototype.getPositions=function(){return this.positionsArray},zj.prototype.reset=function(){},zj.prototype.drawFaceOverlay=function(e,t){if(t){e.fillStyle="#32EEDB",e.strokeStyle="#32EEDB",e.lineWidth=.5;for(let n=0;n<t.length;n++){const r=t[n][0],a=t[n][1];e.beginPath(),e.arc(r,a,1,0,2*Math.PI),e.closePath(),e.fill()}}},zj.prototype.name="TFFaceMesh";const Rj=zj,Mj={};function Fj(e,t,n){return e<t?t:e>n?n:e}Mj.Eye=function(e,t,n,r,a){this.patch=e,this.imagex=t,this.imagey=n,this.width=r,this.height=a},Mj.getEyeFeats=function(e){var t=this.resizeEye(e.left,10,6),n=this.resizeEye(e.right,10,6),r=this.grayscale(t.data,t.width,t.height),a=this.grayscale(n.data,n.width,n.height),s=[];this.equalizeHistogram(r,5,s);var i=[];return this.equalizeHistogram(a,5,i),s.concat(i)},Mj.DataWindow=function(e,t){this.data=[],this.windowSize=e,this.index=0,this.length=0,t&&(this.data=t.slice(t.length-e,t.length),this.length=this.data.length)},Mj.DataWindow.prototype.push=function(e){return this.data.length<this.windowSize?(this.data.push(e),this.length=this.data.length,this):(this.data[this.index]=e,this.index=(this.index+1)%this.windowSize,this)},Mj.DataWindow.prototype.get=function(e){return this.data[this.getTrueIndex(e)]},Mj.DataWindow.prototype.getTrueIndex=function(e){return this.data.length<this.windowSize?e:(e+this.index)%this.windowSize},Mj.DataWindow.prototype.addAll=function(e){for(var t=0;t<e.length;t++)this.push(e[t])},Mj.grayscale=function(e,t,n){for(var r=new Uint8ClampedArray(e.length>>2),a=0,s=0,i=0;i<n;i++)for(var o=0;o<t;o++){var l=.299*e[s]+.587*e[s+1]+.114*e[s+2];r[a++]=l,s+=4}return r},Mj.equalizeHistogram=function(e,t,n){var r=e.length;n||(n=e),t||(t=5);for(var a=Array(256).fill(0),s=0;s<r;s+=t)++a[e[s]];for(var i=255*t/r,o=0,l=0;l<256;++l){var u=a[l];o=u+=o,a[l]=u*i}for(var c=0;c<r;++c)n[c]=a[e[c]];return n},Mj.threshold=function(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]>t?255:0;return e},Mj.correlation=function(e,t){const n=Math.min(e.length,t.length);let r=0;for(let a=0;a<n;a++)e[a]===t[a]&&r++;return r/Math.max(e.length,t.length)},Mj.resizeEye=function(e,t,n){var r=document.createElement("canvas");r.width=e.width,r.height=e.height,r.getContext("2d").putImageData(e.patch,0,0);var a=document.createElement("canvas");return a.width=t,a.height=n,a.getContext("2d").drawImage(r,0,0,r.width,r.height,0,0,t,n),a.getContext("2d").getImageData(0,0,t,n)},Mj.bound=function(e){return e.x=Fj(e.x,0,window.innerWidth),e.y=Fj(e.y,0,window.innerHeight),e},Mj.DebugBox=function(e){var t;this.para=document.createElement("p"),this.div=document.createElement("div"),this.div.appendChild(this.para),document.body.appendChild(this.div),this.buttons={},this.canvas={},this.stats={},t=this,setInterval((function(){!function(e,t){var n="";for(var r in t)n+=r+": "+t[r]+"\n";e.innerText=n}(t.para,t.stats)}),e||300)},Mj.DebugBox.prototype.set=function(e,t){this.stats[e]=t},Mj.DebugBox.prototype.inc=function(e,t,n){this.stats[e]||(this.stats[e]=n||0),this.stats[e]+=t||1},Mj.DebugBox.prototype.addButton=function(e,t){this.buttons[e]||(this.buttons[e]=document.createElement("button"),this.div.appendChild(this.buttons[e]));var n=this.buttons[e];this.buttons[e]=n,n.addEventListener("click",t),n.innerText=e},Mj.DebugBox.prototype.show=function(e,t){this.canvas[e]||(this.canvas[e]=document.createElement("canvas"),this.div.appendChild(this.canvas[e]));var n=this.canvas[e];n.getContext("2d").clearRect(0,0,n.width,n.height),t(n)};const Pj=Mj;var Lj=__webpack_require__(7871),Vj=__webpack_require__.n(Lj);const Wj={transpose:function(e){for(var t=e.length,n=e[0].length,r=new Array(n),a=0;a<t;a++)for(var s=0;s<n;s++)0===a&&(r[s]=new Array(t)),r[s][a]=e[a][s];return r},getMatrix:function(e,t,n,r){for(var a=new Array(t.length),s=r-n+1,i=0;i<t.length;i++){a[i]=new Array(s);for(var o=n;o<=r;o++)a[i][o-n]=e[t[i]][o]}return a},getSubMatrix:function(e,t,n,r,a){for(var s=a-r+1,i=new Array(n-t+1),o=t;o<=n;o++){var l=o-t;i[l]=new Array(s);for(var u=r;u<=a;u++)i[l][u-r]=e[o][u]}return i},mult:function(e,t){t.length,e[0].length;for(var n=new Array(e.length),r=new Array(e[0].length),a=0;a<t[0].length;a++){for(var s=0;s<e[0].length;s++)r[s]=t[s][a];for(var i=0;i<e.length;i++){0===a&&(n[i]=new Array(t[0].length));var o=e[i],l=0;for(s=0;s<e[0].length;s++)l+=o[s]*r[s];n[i][a]=l}}return n},LUDecomposition:function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++){n[r]=new Array(e[0].length);for(var a=0;a<e[0].length;a++)n[r][a]=e[r][a]}var s=e.length,i=e[0].length,o=new Array(s);for(r=0;r<s;r++)o[r]=r;var l=1,u=new Array,c=new Array(s);for(a=0;a<i;a++){for(r=0;r<s;r++)c[r]=n[r][a];for(r=0;r<s;r++){u=n[r];for(var h=Math.min(r,a),d=0,p=0;p<h;p++)d+=u[p]*c[p];u[a]=c[r]-=d}var m=a;for(r=a+1;r<s;r++)Math.abs(c[r])>Math.abs(c[m])&&(m=r);if(m!=a){for(p=0;p<i;p++){var f=n[m][p];n[m][p]=n[a][p],n[a][p]=f}p=o[m];o[m]=o[a],o[a]=p,l=-l}if(a<s&0!=n[a][a])for(r=a+1;r<s;r++)n[r][a]/=n[a][a]}t.length;for(a=0;a<i;a++)n[a][a];var g=t[0].length,y=self.webgazer.mat.getMatrix(t,o,0,g-1);for(p=0;p<i;p++)for(r=p+1;r<i;r++)for(a=0;a<g;a++)y[r][a]-=y[p][a]*n[r][p];for(p=i-1;p>=0;p--){for(a=0;a<g;a++)y[p][a]/=n[p][p];for(r=0;r<p;r++)for(a=0;a<g;a++)y[r][a]-=y[p][a]*n[r][p]}return y},QRDecomposition:function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++){n[r]=new Array(e[0].length);for(var a=0;a<e[0].length;a++)n[r][a]=e[r][a]}for(var s,i=e.length,o=e[0].length,l=new Array(o),u=0;u<o;u++){s=0;for(r=u;r<i;r++)s=Math.hypot(s,n[r][u]);if(0!=s){n[u][u]<0&&(s=-s);for(r=u;r<i;r++)n[r][u]/=s;n[u][u]+=1;for(a=u+1;a<o;a++){var c=0;for(r=u;r<i;r++)c+=n[r][u]*n[r][a];c=-c/n[u][u];for(r=u;r<i;r++)n[r][a]+=c*n[r][u]}}l[u]=-s}t.length;for(a=0;a<o;a++)l[a];var h=t[0].length,d=new Array(t.length);for(r=0;r<t.length;r++)d[r]=new Array(t[0].length);for(r=0;r<t.length;r++)for(a=0;a<t[0].length;a++)d[r][a]=t[r][a];for(u=0;u<o;u++)for(a=0;a<h;a++){for(c=0,r=u;r<i;r++)c+=n[r][u]*d[r][a];c=-c/n[u][u];for(r=u;r<i;r++)d[r][a]+=c*n[r][u]}for(u=o-1;u>=0;u--){for(a=0;a<h;a++)d[u][a]/=l[u];for(r=0;r<u;r++)for(a=0;a<h;a++)d[r][a]-=d[u][a]*n[r][u]}return Wj.getSubMatrix(d,0,o-1,0,h-1)}},Uj=Wj,jj={InitRegression:function(){var e=700;this.ridgeParameter=Math.pow(10,-5),this.errorXArray=new Pj.DataWindow(e),this.errorYArray=new Pj.DataWindow(e),this.screenXClicksArray=new Pj.DataWindow(e),this.screenYClicksArray=new Pj.DataWindow(e),this.eyeFeaturesClicks=new Pj.DataWindow(e),this.trailTime=1e3,this.trailDataWindow=this.trailTime/Dj.moveTickSize,this.screenXTrailArray=new Pj.DataWindow(10),this.screenYTrailArray=new Pj.DataWindow(10),this.eyeFeaturesTrail=new Pj.DataWindow(10),this.trailTimes=new Pj.DataWindow(10),this.dataClicks=new Pj.DataWindow(e),this.dataTrail=new Pj.DataWindow(10);var t=[[1/4,0,.5,0],[0,1/4,0,.5],[.5,0,1,0],[0,.5,0,1]];t=Vj().mul(t,.1);var n=Vj().mul(Vj().identity(2),47),r=Vj().mul(Vj().identity(4),1e-4);this.kalman=new jj.KalmanFilter([[1,0,1,0],[0,1,0,1],[0,0,1,0],[0,0,0,1]],[[1,0,0,0],[0,1,0,0]],t,n,r,[[500],[500],[0],[0]])},KalmanFilter:function(e,t,n,r,a,s){this.F=e,this.Q=n,this.H=t,this.R=r,this.P=a,this.X=s}};jj.KalmanFilter.prototype.update=function(e){for(var t=Vj().add,n=Vj().sub,r=Vj().inv,a=Vj().identity,s=Uj.mult,i=Uj.transpose,o=s(this.F,this.X),l=t(s(s(this.F,this.P),i(this.F)),this.Q),u=n(e,s(this.H,o)),c=t(s(s(this.H,l),i(this.H)),this.R),h=s(l,s(i(this.H),r(c))),d=0;d<u.length;d++)u[d]=[u[d]];return this.X=t(o,s(h,u)),this.P=s(n(a(h.length),s(h,this.H)),l),i(s(this.H,this.X))[0]},jj.ridge=function(e,t,n){var r=t[0].length,a=new Array(r),s=Uj.transpose(t),i=new Array,o=!0;do{for(var l=Uj.mult(s,t),u=0;u<r;u++)l[u][u]=l[u][u]+n;var c=Uj.mult(s,e);for(u=0;u<r;u++)a[u]=c[u][0];try{0!==a.length&&(a.length,a.length);a.length,a.length,i=l.length===l[0].length?Vj().LUsolve(Vj().LU(l,!0),c):webgazer.mat.QRDecomposition(l,c);for(u=0;u<r;u++)a[u]=i[u];o=!0}catch(e){n*=10,o=!1}}while(!o);return a},jj.setData=function(e){for(var t=0;t<e.length;t++){var n=new Uint8ClampedArray(e[t].eyes.left.patch.data),r=new Uint8ClampedArray(e[t].eyes.right.patch.data);e[t].eyes.left.patch=new ImageData(n,e[t].eyes.left.width,e[t].eyes.left.height),e[t].eyes.right.patch=new ImageData(r,e[t].eyes.right.width,e[t].eyes.right.height),this.addData(e[t].eyes,e[t].screenPos,e[t].type)}},jj.getCurrentFixationIndex=function(){for(var e=this.screenXTrailArray.get(0),t=this.screenYTrailArray.get(0),n=this.screenXTrailArray.length-1;n>=0;n--){var r=this.screenXTrailArray.get(n),a=this.screenYTrailArray.get(n);if(Math.sqrt(Math.pow(r-e,2)+Math.pow(a-t,2))>72)return n+1}return n},jj.addData=function(e,t,n){e&&("click"===n?(this.screenXClicksArray.push([t[0]]),this.screenYClicksArray.push([t[1]]),this.eyeFeaturesClicks.push(Pj.getEyeFeats(e)),this.dataClicks.push({eyes:e,screenPos:t,type:n})):"move"===n&&(this.screenXTrailArray.push([t[0]]),this.screenYTrailArray.push([t[1]]),this.eyeFeaturesTrail.push(Pj.getEyeFeats(e)),this.trailTimes.push(performance.now()),this.dataTrail.push({eyes:e,screenPos:t,type:n})))};const Gj=jj,qj={RidgeReg:function(){this.init()}};qj.RidgeReg.prototype.init=Gj.InitRegression,qj.RidgeReg.prototype.addData=Gj.addData,qj.RidgeReg.prototype.predict=function(e){if(!e||0===this.eyeFeaturesClicks.length)return null;for(var t=performance.now()-this.trailTime,n=[],r=[],a=[],s=0;s<this.trailDataWindow;s++)this.trailTimes.get(s)>t&&(n.push(this.screenXTrailArray.get(s)),r.push(this.screenYTrailArray.get(s)),a.push(this.eyeFeaturesTrail.get(s)));var i=this.screenXClicksArray.data.concat(n),o=this.screenYClicksArray.data.concat(r),l=this.eyeFeaturesClicks.data.concat(a),u=Gj.ridge(i,l,this.ridgeParameter),c=Gj.ridge(o,l,this.ridgeParameter),h=Pj.getEyeFeats(e),d=0;for(s=0;s<h.length;s++)d+=h[s]*u[s];var p=0;for(s=0;s<h.length;s++)p+=h[s]*c[s];if(d=Math.floor(d),p=Math.floor(p),Dj.applyKalmanFilter){var m=[d,p];return{x:(m=this.kalman.update(m))[0],y:m[1]}}return{x:d,y:p}},qj.RidgeReg.prototype.setData=Gj.setData,qj.RidgeReg.prototype.getData=function(){return this.dataClicks.data},qj.RidgeReg.prototype.name="ridge";const $j=qj,Hj={RidgeWeightedReg:function(){this.init()}};Hj.RidgeWeightedReg.prototype.init=Gj.InitRegression,Hj.RidgeWeightedReg.prototype.addData=Gj.addData,Hj.RidgeWeightedReg.prototype.predict=function(e){if(!e||0===this.eyeFeaturesClicks.length)return null;for(var t=performance.now()-this.trailTime,n=[],r=[],a=[],s=0;s<this.trailDataWindow;s++)this.trailTimes.get(s)>t&&(n.push(this.screenXTrailArray.get(s)),r.push(this.screenYTrailArray.get(s)),a.push(this.eyeFeaturesTrail.get(s)));var i=this.eyeFeaturesClicks.data.length,o=Array(i),l=Array(i),u=Array(i);for(s=0;s<i;s++){for(var c=Math.sqrt(1/(i-s)),h=this.eyeFeaturesClicks.getTrueIndex(s),d=0;d<this.eyeFeaturesClicks.data[h].length;d++){var p=this.eyeFeaturesClicks.data[h][d]*c;void 0!==o[h]?o[h].push(p):o[h]=[p]}l[h]=this.screenXClicksArray.get(s).slice(0,this.screenXClicksArray.get(s).length),u[h]=this.screenYClicksArray.get(s).slice(0,this.screenYClicksArray.get(s).length),l[s][0]=l[s][0]*c,u[s][0]=u[s][0]*c}var m=l.concat(n),f=u.concat(r),g=o.concat(a),y=Gj.ridge(m,g,this.ridgeParameter),b=Gj.ridge(f,g,this.ridgeParameter),w=Pj.getEyeFeats(e),v=0;for(s=0;s<w.length;s++)v+=w[s]*y[s];var A=0;for(s=0;s<w.length;s++)A+=w[s]*b[s];if(v=Math.floor(v),A=Math.floor(A),Dj.applyKalmanFilter){var x=[v,A];return{x:(x=this.kalman.update(x))[0],y:x[1]}}return{x:v,y:A}},Hj.RidgeWeightedReg.prototype.setData=Gj.setData,Hj.RidgeWeightedReg.prototype.getData=function(){return this.dataClicks.data},Hj.RidgeWeightedReg.prototype.name="ridgeWeighted";const Kj=Hj,Zj={};Math.pow(10,-5);var Xj=700,Yj={X:[0],Y:[0]};Zj.RidgeRegThreaded=function(){this.init()},Zj.RidgeRegThreaded.prototype.init=function(){this.screenXClicksArray=new Pj.DataWindow(Xj),this.screenYClicksArray=new Pj.DataWindow(Xj),this.eyeFeaturesClicks=new Pj.DataWindow(Xj),this.screenXTrailArray=new Pj.DataWindow(10),this.screenYTrailArray=new Pj.DataWindow(10),this.eyeFeaturesTrail=new Pj.DataWindow(10),this.dataClicks=new Pj.DataWindow(Xj),this.dataTrail=new Pj.DataWindow(Xj),this.worker||(this.worker=new Worker("ridgeWorker.mjs"),this.worker.onerror=function(e){},this.worker.onmessage=function(e){Yj.X=e.data.X,Yj.Y=e.data.Y});var e=[[1/4,0,.5,0],[0,1/4,0,.5],[.5,0,1,0],[0,.5,0,1]];e=Vj().mul(e,.1);var t=Vj().mul(Vj().identity(2),47),n=Vj().mul(Vj().identity(4),1e-4);this.kalman=new Gj.KalmanFilter([[1,0,1,0],[0,1,0,1],[0,0,1,0],[0,0,0,1]],[[1,0,0,0],[0,1,0,0]],e,t,n,[[500],[500],[0],[0]])},Zj.RidgeRegThreaded.prototype.addData=function(e,t,n){e&&this.worker.postMessage({eyes:Pj.getEyeFeats(e),screenPos:t,type:n})},Zj.RidgeRegThreaded.prototype.predict=function(e){if(!e)return null;for(var t=Yj.X,n=Yj.Y,r=Pj.getEyeFeats(e),a=0,s=0,i=0;i<r.length;i++)a+=r[i]*t[i],s+=r[i]*n[i];if(a=Math.floor(a),s=Math.floor(s),Dj.applyKalmanFilter){var o=[a,s];return{x:(o=this.kalman.update(o))[0],y:o[1]}}return{x:a,y:s}},Zj.RidgeRegThreaded.prototype.setData=Gj.setData,Zj.RidgeRegThreaded.prototype.getData=function(){return this.dataClicks.data},Zj.RidgeRegThreaded.prototype.name="ridge";const Qj=Zj;function Jj(e){return new Promise((t=>setTimeout(t,e)))}function eG(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}const tG={tracker:{}};tG.tracker.TFFaceMesh=Rj,tG.reg=$j,tG.reg.RidgeWeightedReg=Kj.RidgeWeightedReg,tG.reg.RidgeRegThreaded=Qj.RidgeRegThreaded,tG.util=Pj,tG.params=Dj;var nG=null,rG=null,aG=null,sG=null,iG=null,oG=null,lG=null,uG=!1,cG=new Array(50),hG=new Array(50),dG=(performance.now(),null),pG=null;tG.params.paused=!1,tG.params.greedyLearner=!1,tG.params.framerate=60,tG.params.showGazeDot=!1,tG.params.getLatestVideoFrameTimestamp=()=>{},tG.params.activeCamera={label:"",id:""};let mG=[];var fG=function(e){},gG=fG,yG=["click","move"],bG=performance.now(),wG=new tG.tracker.TFFaceMesh,vG=[new tG.reg.RidgeReg],AG={TFFacemesh:function(){return new tG.tracker.TFFaceMesh}},xG={ridge:function(){return new tG.reg.RidgeReg},weightedRidge:function(){return new tG.reg.RidgeWeightedReg},threadedRidge:function(){return new tG.reg.RidgeRegThreaded}},kG="webgazerGlobalData",CG="webgazerGlobalSettings",SG={},EG=[];let IG,TG,NG,DG,_G,OG,BG,zG,RG,MG,FG,PG;tG.computeValidationBoxSize=function(){var e=aG.videoWidth,t=aG.videoHeight,n=parseInt(aG.style.width),r=parseInt(aG.style.height),a=Math.min(e,t),s=e==Math.max(e,t)?n/e:r/t,i=a*tG.params.faceFeedbackBoxRatio*s;return[(r-i)/2,(n-i)/2,i,i]};let LG=!1,VG=!1;function WG(){null!==oG&&dG?(LG||VG||(VG=!0,setTimeout((()=>{IG=aG.videoWidth,TG=aG.videoHeight,NG=Math.min(IG,TG),DG=NG*tG.params.faceFeedbackBoxRatio,_G=(TG-DG)/2,OG=(IG-DG)/2,BG=OG+DG,zG=_G+DG,LG=!0,VG=!1}),500)),RG=IG-dG.left.imagex,FG=IG-dG.right.imagex,MG=dG.left.imagey,PG=dG.right.imagey,oG.style.border=LG&&RG>OG&&RG<BG&&FG>OG&&FG<BG&&MG>_G&&MG<zG&&PG>_G&&PG<zG?"solid gray 2px":"solid red 4px"):oG.style.border="solid red 4px"}function UG(e,t,n){if(e)try{return wG.getEyePatches(e,t,n)}catch(e){return null}}function jG(e,t,n){e.width!==t&&(e.width=t),e.height!==n&&(e.height=n),e.getContext("2d").drawImage(aG,0,0,e.width,e.height)}async function GG(e,t=dG){var n=[];if(0===vG.length)return null;for(var r in vG)n.push(vG[r].predict(t));return void 0!==e?null===n[e]?null:{x:n[e].x,y:n[e].y,eyeFeatures:t}:0===n.length||null===n[0]?null:{x:n[0].x,y:n[0].y,eyeFeatures:t,all:n}}var qG=new Pj.DataWindow(4),$G=0;let HG=null,KG=-1,ZG=!0;async function XG(){return dG=await UG(sG,sG.width,sG.height)}async function YG(){if(HG=window.performance.now(),tG.params.videoIsOn&&(ZG&&(ZG=!1,tG.params.getLatestVideoFrameTimestamp(performance.now())),await async function(e=!1){if(jG(sG,sG.width,sG.height),tG.params.paused&&!e||(dG=await UG(sG,sG.width,sG.height)),tG.params.showFaceOverlay){var t=tG.getTracker();iG.getContext("2d").clearRect(0,0,aG.videoWidth,aG.videoHeight),t.drawFaceOverlay(iG.getContext("2d"),t.getPositions())}tG.params.showFaceFeedbackBox&&WG()}()),tG.params.paused)lG&&!uG&&(lG.style.opacity="0");else if(HG-KG>=1e3/tG.params.framerate&&(KG=HG,pG=GG(),pG=await pG,gG(pG),ZG=!0,pG)){qG.push(pG);var e=0,t=0,n=qG.length;for(var r in qG.data)e+=qG.get(r).x,t+=qG.get(r).y;var a=Pj.bound({x:e/n,y:t/n});tG.params.storingPoints&&(tG.storePoints(a.x,a.y,$G),50==++$G&&($G=0)),lG.style.opacity="",lG.style.left=`${a.x}px`,lG.style.top=`${a.y}px`}requestAnimationFrame(YG)}var QG=function(e,t,n){if(!tG.params.paused){if(0===vG.length)return null;for(var r in vG)dG&&vG[r].addData(dG,[e,t],n)}},JG=async function(e){QG(e.clientX,e.clientY,yG[0]),tG.params.saveDataAcrossSessions&&await async function(){var e=vG[0].getData()||EG;Oj().setItem(CG,SG),Oj().setItem(kG,e)}()},eq=function(e){if(!tG.params.paused){var t=performance.now();t<bG+tG.params.moveTickSize||(bG=t,QG(e.clientX,e.clientY,yG[1]))}},tq=function(e={}){(e=Object.assign({click:!0,move:!0},e)).click&&document.addEventListener("click",JG,!0),e.move&&document.addEventListener("mousemove",eq,!0)},nq=function(e={}){(e=Object.assign({click:!0,move:!0},e)).click&&document.removeEventListener("click",JG,!0),e.move&&document.removeEventListener("mousemove",eq,!0)};async function rq(e="all",t){if(!tG.params.videoIsOn){function n(e){iq(aG.videoWidth,aG.videoHeight),tG.setVideoViewerSize(tG.params.videoViewerWidth,tG.params.videoViewerHeight),rG.appendChild(sG),tG.videoCanvas=sG,rG.appendChild(iG),rG.appendChild(oG),e.target.removeEventListener(e.type,n)}nG=t,(rG=document.createElement("div")).id=tG.params.videoContainerId,rG.style.display="block",rG.style.opacity=tG.params.showVideo?.8:0,rG.style.left="10px",rG.style.bottom="10px",rG.style.width=tG.params.videoViewerWidth+"px",rG.style.height=tG.params.videoViewerHeight+"px",(aG=document.createElement("video")).setAttribute("playsinline",""),aG.id=tG.params.videoElementId,aG.srcObject=t,aG.autoplay=!0,aG.style.display="block",aG.style.position="absolute",aG.style.width=tG.params.videoViewerWidth+"px",aG.style.height=tG.params.videoViewerHeight+"px",(sG=document.createElement("canvas")).id=tG.params.videoElementCanvasId,sG.style.display="block",sG.style.opacity=0,(iG=document.createElement("canvas")).id=tG.params.faceOverlayId,iG.style.display=tG.params.showFaceOverlay?"block":"none",iG.style.position="absolute",tG.params.mirrorVideo&&(aG.style.setProperty("-moz-transform","scale(-1, 1)"),aG.style.setProperty("-webkit-transform","scale(-1, 1)"),aG.style.setProperty("-o-transform","scale(-1, 1)"),aG.style.setProperty("transform","scale(-1, 1)"),aG.style.setProperty("filter","FlipH"),iG.style.setProperty("-moz-transform","scale(-1, 1)"),iG.style.setProperty("-webkit-transform","scale(-1, 1)"),iG.style.setProperty("-o-transform","scale(-1, 1)"),iG.style.setProperty("transform","scale(-1, 1)"),iG.style.setProperty("filter","FlipH")),(oG=document.createElement("canvas")).id=tG.params.faceFeedbackBoxId,oG.style.display=tG.params.showFaceFeedbackBox?"block":"none",oG.style.border="solid red 4px",oG.style.position="absolute",rG.appendChild(aG),document.body.appendChild(rG),aG.addEventListener("timeupdate",n)}"video"!=e&&((lG=document.createElement("div")).id=tG.params.gazeDotId,lG.style.display=tG.params.showGazeDot?"block":"none",lG.style.width="10px",lG.style.height="10px",lG.style.left="-10px",lG.style.top="-10px",lG.style.transform="translate(-5px, -5px)",document.body.appendChild(lG),tq(),tG.params.paused=!1,performance.now()),await YG()}tG.begin=function(e){return tG._begin(!1,e)},tG.beginVideo=function(e){tG._begin(!0,e)};const aq=e=>tG.params.activeCamera.id?{video:{...e.video,deviceId:tG.params.activeCamera.id}}:e;tG._begin=function(e,t){if(!tG.params.videoIsOn)return void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("Unfortunately, your browser does not support access to the webcam through the getUserMedia API. Try to use the latest version of Google Chrome, Mozilla Firefox, Opera, or Microsoft Edge instead."))}),new Promise((async(n,r)=>{let a;try{void 0!==navigator.mediaDevices&&(await navigator.mediaDevices.getUserMedia({video:!0}),"function"==typeof navigator.mediaDevices.enumerateDevices&&navigator.mediaDevices.enumerateDevices().then((async r=>{if((e=>{mG=[],e.forEach((e=>{"videoinput"===e.kind&&mG.push(e)})),tG.params.activeCamera.label=mG[0].label,tG.params.activeCamera.id=mG[0].deviceId})(r),0===mG.length)throw t(mG),"We can't find any video input devices.";try{a=await navigator.mediaDevices.getUserMedia(aq(tG.params.camConstraints))}catch(e){throw t(mG),e}rq(e?"video":"all",a).then((()=>{mG.length>1&&(e=>{const t=rG,n=document.createElement("select");n.className=n.id="webgazer-videoinput-select",n.name="videoinput",e.forEach(((e,t)=>{var r;n.innerHTML+=`<option value="${e.deviceId+"%"+e.label}"${0===t?" selected":""} name="1">${r=e.label,r.length<8?r:r.slice(0,8)+"..."}</option>`})),n.onchange=e=>{const[t,r]=n.value.split("%");tG.params.activeCamera.label=r,tG.params.activeCamera.id=t,tG.setCameraConstraints(aq(tG.params.camConstraints))},t.appendChild(n)})(mG)})),tG.params.videoIsOn=!0,e||n(tG)})))}catch(e){aG=null,a=null,r(e)}}));rq("gaze")},tG.isReady=function(){return null!==sG&&sG.width>0},tG.pause=function(){return tG.params.paused=!0,tG},tG.stopLearning=function(e){return nq(e),tG},tG.startLearning=function(e){return tq(e),tG},tG.resume=async function(){return tG.params.paused?(tG.params.paused=!1,ZG=!0,sq.current&&(clearInterval(sq.current),sq.current=void 0,uG=!1,lG.style.backgroundColor="",lG.style.opacity=""),await YG(),tG):tG},tG.end=function(e=!1){return e&&(qG=new Pj.DataWindow(4),$G=0,HG=null,KG=-1,LG=!1,tG.params.videoIsOn=!1,setTimeout((()=>{tG.stopVideo(),rG.remove()}),500)),tG},tG.stopVideo=function(){return nG.getTracks()[0].stop(),tG},tG.detectCompatibility=function(){return void 0!==(navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia)},tG.showVideoPreview=function(e){return tG.params.showVideoPreview=e,tG.showVideo(e&&tG.params.showVideo),tG.showFaceOverlay(e&&tG.params.showFaceOverlay),tG.showFaceFeedbackBox(e&&tG.params.showFaceFeedbackBox),tG},tG.showVideo=function(e,t=.8){return tG.params.showVideo=e,rG&&(rG.style.opacity=e?t:0,rG.style.zIndex=e?999999997:-999999997),tG},tG.showFaceOverlay=function(e){return tG.params.showFaceOverlay=e,iG&&(iG.style.display=e?"block":"none"),tG},tG.showFaceFeedbackBox=function(e){return tG.params.showFaceFeedbackBox=e,oG&&(oG.style.display=e?"block":"none"),tG},tG.showPredictionPoints=function(e){return tG.params.showGazeDot=e,lG&&(lG.style.display=e?"block":"none"),tG};const sq={current:void 0};function iq(e,t){sG&&(sG.width=e,sG.height=t),iG&&(iG.width=e,iG.height=t)}tG.popPredictionPoints=function(){return sq.current&&(clearInterval(sq.current),sq.current=void 0,uG=!1),lG&&tG.params.showGazeDot&&(uG=!0,lG.style.backgroundColor="red",lG.style.opacity=1,sq.current=setInterval((()=>{lG.style.opacity-=.02,lG.style.opacity<=.02&&(clearInterval(sq.current),sq.current=void 0,uG=!1,lG.style.backgroundColor="",lG.style.opacity="")}),50)),tG},tG.saveDataAcrossSessions=function(e){return tG.params.saveDataAcrossSessions=e,tG},tG.applyKalmanFilter=function(e){return tG.params.applyKalmanFilter=e,tG},tG.setCameraConstraints=async function(e){if(tG.params.camConstraints=e,nG){tG.pause();try{nG.getVideoTracks().forEach((e=>{e.stop()}));const e=await navigator.mediaDevices.getUserMedia(tG.params.camConstraints);setTimeout((()=>{const t=e.getVideoTracks()[0].getSettings();nG=e,aG.srcObject=e,iq(t.width,t.height)}),1500)}catch(e){return}await tG.resume()}},tG.setStaticVideo=function(e){return e,tG},tG.setVideoViewerSize=function(e,t){tG.params.videoViewerWidth=e,tG.params.videoViewerHeight=t,aG.style.width=e+"px",aG.style.height=t+"px",rG.style.width=e+"px",rG.style.height=t+"px",iG.style.width=e+"px",iG.style.height=t+"px";var n=tG.computeValidationBoxSize();oG.style.top=n[0]+"px",oG.style.left=n[1]+"px",oG.style.width=n[2]+"px",oG.style.height=n[3]+"px"},tG.addMouseEventListeners=function(){return tq(),tG},tG.removeMouseEventListeners=function(){return nq(),tG},tG.recordScreenPosition=function(e,t,n){return QG(e,t,n||yG[0]),tG},tG.storePoints=function(e,t,n){cG[n]=e,hG[n]=t},tG.setTracker=function(e){if(void 0===AG[e]){for(var t in AG);return tG}return wG=AG[e](),tG},tG.setRegression=function(e){if(void 0===xG[e]){for(var t in xG);return tG}return EG=vG[0].getData(),(vG=[xG[e]()])[0].setData(EG),tG},tG.addTrackerModule=function(e,t){AG[e]=function(){return new t}},tG.addRegressionModule=function(e,t){xG[e]=function(){return new t}},tG.addRegression=function(e){var t=xG[e]();return EG=vG[0].getData(),t.setData(EG),vG.push(t),tG},tG.setGazeListener=function(e){return gG=e,tG},tG.clearGazeListener=function(){return gG=fG,tG},tG.setVideoElementCanvas=function(e){return sG=e},tG.clearData=async function(){!function(){for(var e in Oj().clear(),vG)vG[e].init()}()},tG.getTracker=function(){return wG},tG.getRegression=function(){return vG},tG.getCurrentPrediction=async function(e=0,t=150,n=5){let r=0;const a=[],s=[];for(let e=0;e<n;e++)r+=performance.now(),jG(sG,sG.width,sG.height),a.push(await XG()),await Jj(1e3/tG.params.framerate);let i;tG.params.getLatestVideoFrameTimestamp(Math.round(r/n)),await Jj(t);for(const e of a){for(let t=0;t<2;t++)i=await GG(void 0,e);s.push(i)}const o=Math.round(s.reduce(((e,t)=>t.x>=0&&t.x<=window.innerWidth?e+t.x:e),0)/s.length),l=Math.round(s.reduce(((e,t)=>t.y>=0&&t.y<=window.innerHeight?e+t.y:e),0)/s.length);return lG&&(lG.style.left=`${o}px`,lG.style.top=`${l}px`),{x:o,y:l,raw:s.map((e=>({x:eG(e.x,0),y:eG(e.y,0)})))}},tG.params.getEventTypes=function(){return yG.slice()},tG.getVideoElementCanvas=function(){return sG},tG.getVideoPreviewToCameraResolutionRatio=function(){return[tG.params.videoViewerWidth/aG.videoWidth,tG.params.videoViewerHeight/aG.videoHeight]},tG.getStoredPoints=function(){return[cG,hG]};const oq=tG;class lq{constructor(e){this.calibrator=e,this.webgazer=oq,this.defaultGazeCallback=null,this.defaultDistanceTrackCallback=null,this._initialized={distance:!1,gaze:!1},this._learning=!0,this._running={distance:!1,gaze:!1},this._runningVideo=!1,this._toFixedN=1}begin({pipWidthPx:e},t){this.checkInitialized("gaze",!0)&&(this._running.gaze||(this.webgazer.begin(this.videoFailed.bind(this)),this._running.gaze=!0,this._runningVideo=!0),Fo(this.calibrator,e,this.calibrator.params.videoOpacity,this.webgazer,t))}beginVideo({pipWidthPx:e},t){this.checkInitialized("distance",!0)&&(this._runningVideo||(this.webgazer.beginVideo(this.videoFailed.bind(this)),this._runningVideo=!0),Fo(this.calibrator,e,this.calibrator.params.videoOpacity,this.webgazer,t))}videoFailed(e){ao().fire({...so(this.calibrator,{showIcon:!0}),icon:"error",iconColor:this.calibrator._CONST.COLOR.DARK_RED,showConfirmButton:!1,html:e.length?m.C.RC_errorCameraUseDenied[this.calibrator.L]:m.C.RC_errorNoCamera[this.calibrator.L]})}attachNewCallback(e){this.checkInitialized("gaze",!0)&&this.webgazer.setGazeListener((t=>{if(t){const n=this.calibrator.newGazePositionData=this.getData(t);(0,p.p1)(e,n)}}))}async getGazeNow(e={},t){e=Object.assign({wait:0,frames:5},e);let n=this.calibrator.newGazePositionData=this.getData(await this.webgazer.getCurrentPrediction(0,e.wait,e.frames));return this.webgazer.popPredictionPoints(),(0,p.p1)(t,n),n}end(){this.webgazer.end()}}lq.prototype._init=function({greedyLearner:e,framerate:t,toFixedN:n,showVideo:r,showFaceOverlay:a,showGazer:s},i){this.checkInitialized(i)||("gaze"===i&&(this.webgazer.params.greedyLearner=e,this.webgazer.params.framerate=t,this.webgazer.params.getLatestVideoFrameTimestamp=this._getLatestVideoTimestamp.bind(this),this.showGazer(s)),this._toFixedN=n,this.showVideo(r),this.showFaceOverlay(a),this._initialized[i]=!0)},lq.prototype.checkInitialized=function(e,t=!1){return!!(""===e?this._initialized.gaze||this._initialized.distance:this._initialized[e])},lq.prototype.getData=function(e){let t=performance.now();return{value:{x:(0,p.lt)(e.x,this._toFixedN),y:(0,p.lt)(e.y,this._toFixedN),latencyMs:(0,p.lt)(t-this.calibrator._trackingVideoFrameTimestamps.gaze,0)},timestamp:t,raw:e.raw?e.raw:void 0}},lq.prototype.pause=function(){this.webgazer.pause()},lq.prototype.resume=function(){this.webgazer.resume()},lq.prototype.end=function(e,t=!1){if(!this.checkInitialized(e,!0))return;const n=t||!this._initialized.gaze||!this._initialized.distance;"gaze"===e?(this._endGaze(),n&&this.checkInitialized("distance")&&this.calibrator.endDistance(!1,!1),this.calibrator._trackingVideoFrameTimestamps.gaze=0):(this.defaultDistanceTrackCallback=null,n&&this.checkInitialized("gaze")&&this._endGaze()),n?(this._initialized={distance:!1,gaze:!1},this._running={distance:!1,gaze:!1},this.webgazer.end(!0),this._runningVideo=!1):(this._initialized[e]=!1,this._running[e]=!1)},lq.prototype._endGaze=function(){this.webgazer.params.paused=!0,this._learning=!0,this.defaultGazeCallback=null,this.webgazer.clearData(),this.webgazer.params.greedyLearner=!1,this.webgazer.params.framerate=60,this.webgazer.params.getLatestVideoFrameTimestamp=()=>{}},lq.prototype._getLatestVideoTimestamp=function(e){this.calibrator._trackingVideoFrameTimestamps.gaze=e},lq.prototype.startStoringPoints=function(){this.webgazer.params.storingPoints=!0},lq.prototype.stopStoringPoints=function(){this.webgazer.params.storingPoints=!1},lq.prototype.startLearning=function(e){this._learning||(this.webgazer.startLearning(e),this._learning=!0)},lq.prototype.stopLearning=function(e){this._learning&&(this.webgazer.stopLearning(e),this._learning=!1)},lq.prototype.showGazer=function(e){this.webgazer.showPredictionPoints(e)},lq.prototype.showVideo=function(e){this.webgazer.showVideo(e,this.calibrator._params.videoOpacity)},lq.prototype.showFaceOverlay=function(e){this.webgazer.showFaceOverlay(e)},A.prototype.performanceCompute=async function(e,t=!1){if(!this.checkInitialized())return;const n=performance.now();let r={_useless:void 0,time:0,randomTime:0};for(;performance.now()-n<500;)r._useless=Array(5e3).fill(Math.floor(10*Math.random())),r.time++;const a=performance.now();for(r._useless=0;performance.now()-a<500;)r._useless+=Math.random(),r.randomTime++;const s={value:{computeArrayFillMHz:(0,p.lt)(2*r.time/1e6,3),computeRandomMHz:(0,p.lt)(2*r.randomTime/1e6,3),idealFps:void 0,stressFps:void 0},timestamp:performance.now()};return t||(this.newPerformanceData=s),(0,p.p1)(e,s),s},A.prototype.performance=async function(e={},t){if(!this.checkInitialized())return;e=Object.assign({testComputation:!0,testFrameCount:180,testObjectCount:1e4,headline:" "+m.C.RC_performanceTitle[this.L],description:m.C.RC_performanceIntro[this.L]},e),this._addBackground(),this._addBackgroundText(e.headline,e.description),await(0,p._v)(200);const n=e.testComputation?await this.performanceCompute(null,!0):{value:{computeArrayFillMHz:void 0,computeRandomMHz:void 0}},r=document.createElement("canvas"),a=r.getContext("2d");r.width=window.innerWidth,r.height=window.innerHeight,this.background.appendChild(r);const s=await uq(a),i=await cq(a,e.testFrameCount,e.testObjectCount),o=this.newPerformanceData={value:{computeArrayFillMHz:n.value.computeArrayFillMHz,computeRandomMHz:n.value.computeRandomMHz,idealFps:Math.round(6e4/(s.end-s.start)),stressFps:Math.round(1e3*e.testFrameCount/(i.end-i.start))},timestamp:performance.now()};return this._removeBackground(),(0,p.p1)(t,o),o};const uq=()=>{let e=60;const t=performance.now();return new Promise((n=>{const r=()=>{e--,e>0?requestAnimationFrame(r):n({start:t,end:performance.now()})};requestAnimationFrame(r)}))},cq=async(e,t,n)=>{let r=t;const a=[],s=["#000000","#333333","#999999"];for(let e=0;e<n;e++)a.push(new hq(s));e.fillStyle="#ffffff";const i=performance.now();return new Promise((t=>{const n=()=>{e.clearRect(0,0,window.innerWidth,window.innerHeight),e.beginPath();for(let t of a)t.move(),t.draw(e);r--,r>0?requestAnimationFrame(n):t({start:i,end:performance.now()})};requestAnimationFrame(n)}))};class hq{constructor(e){this.w=(0,p.Fy)(20,70),this.h=(0,p.Fy)(30,70),this.x=-this.w+Math.random()*window.innerWidth,this.y=-this.h/2+Math.random()*(window.innerHeight+this.h/2),this.speed=(0,p.Fy)(1,5),this.stroke=e[Math.floor(Math.random()*e.length)]}move(){this.x+=this.speed+.5*Math.random(),this.x>window.innerWidth&&(this.x=-this.w)}draw(e){e.strokeStyle=this.stroke,e.fillRect(this.x,this.y,this.w,this.h),e.strokeRect(this.x,this.y,this.w,this.h)}}A.prototype.getEquipment=async function(e,t=!1){if(this.equipment&&!t)return(0,p.p1)(e);this._replaceBackground();const n=this,{CM:r,IN_D:a,IN_F:s}=n._CONST.UNITS,i={};i[r]="centimeter",i[a]="inch (decimal, e.g. 11.5 in)",i[s]="inch (fractional, e.g. 12 3/8 in)";const{value:o}=await ao().fire({...so(n,{showIcon:!1}),title:"Do you have a ruler or tape measure?",html:"Ideally, it should be long enough to measure your viewing distance, but even a 6 inch (15 cm) ruler can be useful. Please select the units you'll use, or indicate that no ruler or tape measure is available.",input:"select",inputOptions:{...i,none:"No ruler or tape measure is available"},inputPlaceholder:"Select an option",inputValidator:e=>new Promise((t=>{e.length||t("Please select an option.");const r="none"!==e;n.newEquipmentData={value:{has:r,unit:r?e:null,equipment:r?"":null},timestamp:performance.now()},t()}))});return o?(0,p.p1)(e):void 0};var dq=__webpack_require__(9315),pq=__webpack_require__(3450),mq=__webpack_require__.n(pq),fq=__webpack_require__(1462),gq=__webpack_require__.n(fq);A.prototype._checkScreenSize=async function(e,t,n){await this.getEquipment((()=>{yq(this,e,t,n)}))};const yq=async(e,t,n,r)=>{if(e.equipment&&e.equipment.value.has){e._replaceBackground((0,p.SG)(" Measure the Length of the Arrow",'Use your ruler (or tape measure) to measure the length of the arrow. Type your numerical answer into the box. Just digits, period, decimal comma, and <span style="font-family: Courier, monospace;">/</span> (forward slash) for fractional inches. Then click OK or hit RETURN.'));const t=t=>[()=>{const n=document.createElement("div");e.background.appendChild(n),n.outerHTML=t},()=>{for(let t of e.background.getElementsByClassName("arrow-two-sided-svg"))t.remove()},{callback:()=>{},content:"Ruler is too short"}],n=await(0,dq.E)(e,...t(mq())),a=await(0,dq.E)(e,...t(gq())),s={};if(n){const t=n.value,r=e.windowWidthPx.value,a=(0,p.lt)(2.54*r/e.screenPpi.value,1);s.horizontal={...t,calibratorArrowWidthCm:a,arrowWidthPx:r}}if(a){const t=a.value,n=e.windowHeightPx.value,r=(0,p.lt)(2.54*n/e.screenPpi.value,1);s.vertical={...t,calibratorArrowHeightCm:r,arrowHeightPx:n}}if(s.vertical||s.horizontal){const t={value:s,timestamp:n?n.timestamp:a.timestamp,measure:"screenSize"};e.newCheckData=t,(0,p.p1)(r,t)}}e._removeBackground(),(0,p.p1)(t,n)};A.prototype._checkDistance=async function(e,t,n,r,a){await this.getEquipment((()=>bq(this,e,t,n,r,a)))};const bq=async(e,t,n,r,a,s)=>{const i=()=>{e._removeBackground(),a||(0,p.p1)(t,n)};if(a&&(0,p.p1)(t,n),e.equipment&&e.equipment.value.has){e._replaceBackground((0,p.SG)(" Hold Still and Measure Viewing Distance with Ruler",'Hold still so that your viewing distance from the screen stays unchanged from the last measurement. Please measure the distance from the middle of your screen to one of your eyes using your ruler (or measuring tape). If your ruler is not long enough, then select "Ruler is too short" below. Type your numerical answer into the box, then click OK or hit RETURN.'));const t=await(0,dq.E)(e,null,null,{callback:()=>{},content:"Ruler is too short"});if(t){const n={value:{...t.value,calibratorCm:e.viewingDistanceCm.value,calibratorMethod:e.viewingDistanceCm.method},timestamp:t.timestamp,measure:r};return e.newCheckData=n,i(),void(0,p.p1)(s,n)}}i()};var wq=__webpack_require__(5207),vq=__webpack_require__(923),Aq=__webpack_require__.n(vq),xq=__webpack_require__(8859),kq=__webpack_require__.n(xq),Cq=__webpack_require__(3379),Sq=__webpack_require__.n(Cq),Eq=__webpack_require__(7795),Iq=__webpack_require__.n(Eq),Tq=__webpack_require__(569),Nq=__webpack_require__.n(Tq),Dq=__webpack_require__(3565),_q=__webpack_require__.n(Dq),Oq=__webpack_require__(9216),Bq=__webpack_require__.n(Oq),zq=__webpack_require__(4589),Rq=__webpack_require__.n(zq),Mq=__webpack_require__(5912),Fq={};Fq.styleTagTransform=Rq(),Fq.setAttributes=_q(),Fq.insert=Nq().bind(null,"head"),Fq.domAPI=Iq(),Fq.insertStyleElement=Bq();Sq()(Mq.Z,Fq);Mq.Z&&Mq.Z.locals&&Mq.Z.locals;var Pq=__webpack_require__(6326);A.prototype.removePanel=function(){return!!this._panelStatus.hasPanel&&(this._panel.panelObserver.unobserve(this._panel.panel),this._panel.panel.remove(),this._panel.panel=null,this._panel.panelObserver=null,this._panel.panelTasks=[],this._panel.panelParent=null,this._panel.panelOptions={},this._panel.panelCallback=null,this._panel.panelResolve=null,this._panelStatus.hasPanel=!1,this._panelStatus.panelFinished=!1,(0,Pq.A4)(this),!0)},A.prototype.resetPanel=function(e=null,t=null,n=null,r=null,a=null){if(!this._panelStatus.hasPanel)return!1;const s=e||[...this._panel.panelTasks],i=n||{...this._panel.panelOptions},o=r&&"function"==typeof r?r:this._panel.panelCallback,l=a||this._panel.panelResolve;return null!==t&&t!==this._panel.panelParent?(this.removePanel(),this.panel(s,t,i,o,l)):((0,Pq.A4)(this),this.panel(s,this._panel.panelParent,i,o,l,!0))},A.prototype.panel=async function(e,t,n={},r=null,a=null,s=!1){if(this._panelStatus.hasPanel^s)return!1;if("string"==typeof(0,Pq.Wd)(e))return!1;const i=document.querySelector(t);if(!i)return!1;n=Object.assign({headline:m.C.RC_panelTitle[this.L],description:m.C.RC_panelIntro[this.L],showNextButton:!1,nextHeadline:m.C.RC_panelTitleNext[this.L],nextDescription:m.C.RC_panelIntroNext[this.L],nextButton:m.C.RC_panelButton[this.L],color:"#3490de",debug:!1,i18n:!0,_demoActivateAll:!1},n);const o=$o()(n.color).darken(20).toString();document.documentElement.style.setProperty("--rc-panel-theme-color",n.color),document.documentElement.style.setProperty("--rc-panel-darken-color",o),document.documentElement.style.setProperty("--rc-panel-theme-color-semi",n.color+"66"),document.documentElement.style.setProperty("--rc-panel-darken-color-semi",o+"88");const l=document.createElement("div");l.className=l.id="rc-panel",this.LD===this._CONST.RTL?l.className+=" rc-lang-rtl":l.className+=" rc-lang-ltr",n.i18n&&(l.innerHTML+='<div class="rc-panel-language-parent" id="rc-panel-language-parent"></div>'),l.innerHTML+=`<h1 class="rc-panel-title" id="rc-panel-title">${n.headline}</h1>`,l.innerHTML+=`<p class="rc-panel-description" id="rc-panel-description">${n.description}</p>`,l.innerHTML+='<div class="rc-panel-steps" id="rc-panel-steps"></div>',s?i.replaceChild(l,this._panel.panel):i.appendChild(l);const u=l.querySelector("#rc-panel-steps"),c=this,h=new ResizeObserver((()=>{Wq(u,l.offsetWidth,c.LD)}));if(h.observe(l),Wq(u,l.offsetWidth,this.LD),0===e.length)u.className+=" rc-panel-no-steps";else for(let t in e){const r=Lq(this,t,e[t],n);u.appendChild(r)}(n.showNextButton||n._demoActivateAll)&&u.appendChild(Vq(e.length,n));Uq(this,{index:0,finished:[]},e,n,r),this._panel.panel=l,this._panel.panelObserver=h,this._panel.panelTasks=e,this._panel.panelParent=t;const d={...n};return n.headline===m.C.RC_panelTitle[this.L]&&delete d.headline,n.description===m.C.RC_panelIntro[this.L]&&delete d.description,n.nextHeadline===m.C.RC_panelTitleNext[this.L]&&delete d.nextHeadline,n.nextDescription===m.C.RC_panelIntroNext[this.L]&&delete d.nextDescription,n.nextButton===m.C.RC_panelButton[this.L]&&delete d.nextButton,this._panel.panelOptions=d,this._panel.panelCallback=r,this._panel.panelResolve=a,this._panelStatus.hasPanel=!0,this._panelStatus.panelFinished=!1,n.i18n&&(0,Pq.xn)(this,document.querySelector("#rc-panel-language-parent"),o),n.debug&&(0,wq.$)(this,l,e,r),null===a&&(a=!0),new Promise((e=>{const t=setInterval((()=>{this._panelStatus.panelFinished&&(clearInterval(t),e(a))}),100);this._panelStatus.panelResolveIntervals.push(t)}))};const Lq=(e,t,n,r)=>{let a,s,i;switch(a=!Pq.eV[(0,Pq.mA)(n)]&&(0,Pq.fy)((0,Pq.mA)(n))?-1:Pq.eV[(0,Pq.mA)(n)].use,a){case 0:case 1:default:s="",i="";break;case 2:s=Aq(),i=m.C.RC_panelUsesWebcam[e.L];break;case 3:s=Aq()+kq(),i=m.C.RC_panelUsesWebcamPhone[e.L]}const o=document.createElement("button");return o.className="rc-panel-step rc-panel-step-todo"+(r._demoActivateAll?" rc-panel-step-active":" rc-panel-step-inactive"),o.dataset.index=t,o.innerHTML=(s.length?`<p class="rc-panel-step-use">${s}</p>`:"")+`<p class="rc-panel-step-name">${Number(t)+1}&nbsp;&nbsp;${(0,Pq.fy)((0,Pq.mA)(n))?(0,Pq.oA)((0,Pq.mA)(n)):m.C[Pq.eV[(0,Pq.mA)(n)].phraseHandle][e.L]}</p>`+(s.length?`<p class="rc-panel-step-use-tip">${s} ${i}</p>`:""),o},Vq=(e,t)=>{const n=document.createElement("button");return n.className="rc-panel-step rc-panel-next-button rc-panel-step-inactive",n.dataset.index=e,n.innerHTML=`<p class="rc-panel-step-name">${t.nextButton}</p>`,n},Wq=(e,t,n)=>{t<640?(e.classList.add("rc-panel-steps-s"),e.classList.remove("rc-panel-steps-l"),e.childNodes.forEach((e=>{e.classList.add(`rc-lang-${n.toLowerCase()}`)}))):(e.classList.add("rc-panel-steps-l"),e.classList.remove("rc-panel-steps-s"),e.childNodes.forEach((e=>{e.classList.remove("rc-lang-ltr"),e.classList.remove("rc-lang-rtl")})))},Uq=(e,t,n,r,a)=>{document.querySelectorAll(".rc-panel-step").forEach(((s,i)=>{const o=Number(s.dataset.index);if(r._demoActivateAll)s.onclick=async()=>{const r=n[i],s=(0,Pq.mA)(r);(0,Pq.fy)(s)?await(0,p.nr)(r.function):e[(0,Pq.mA)(n[i])](...(0,Pq.ih)(n[i])),(0,Pq.V4)(i),t.finished.push((0,Pq.mA)(n[i]));for(let e of n)if(!t.finished.includes((0,Pq.mA)(e)))return;let o=document.querySelector(".rc-panel-next-button");o.classList.replace("rc-panel-step-inactive","rc-panel-step-active"),o.onclick=()=>{e._panelStatus.panelFinished=!0,(0,p.p1)(a,{timestamp:performance.now()})}};else if(o===t.index)if(s.classList.replace("rc-panel-step-inactive","rc-panel-step-active"),s.focus(),o!==n.length)o!==n.length-1||r.showNextButton?s.onclick=async()=>{const s=n[t.index],i=(0,Pq.mA)(s),o=()=>{(0,Pq.V4)(t.index),t.index++,Uq(e,t,n,r,a)};(0,Pq.fy)(i)?(await(0,p.nr)(s.function),o()):e[i](...(0,Pq.ih)(n[t.index],o))}:s.onclick=async()=>{const r=n[t.index],s=(0,Pq.mA)(r);(0,Pq.fy)(s)?(await(0,p.nr)(r.function),(0,Pq.V4)(t.index),(0,p.p1)(a,{timestamp:performance.now()}),e._panelStatus.panelFinished=!0):e[(0,Pq.mA)(n[t.index])](...(0,Pq.ih)(n[t.index],(()=>{(0,Pq.V4)(t.index)}),a,(()=>{e._panelStatus.panelFinished=!0})))};else if(o===n.length&&r.showNextButton){const{headline:t,nextHeadline:n,description:i,nextDescription:o}=r;t!==n&&(document.querySelector("#rc-panel-title").innerHTML=n),i!==o&&(document.querySelector("#rc-panel-description").innerHTML=o),s.onclick=()=>{e._panelStatus.panelFinished=!0,(0,p.p1)(a,{timestamp:performance.now()})}}}))};A.prototype.backgroundColor=function(e=null){if(!this.checkInitialized())return null;null!==e&&/^#([0-9A-F]{3}){1,2}$/i.test(e)?this._params.backgroundColor=e:this._params.backgroundColor="#eee";let t=document.querySelector("#calibration-background");return t&&(t.style.background=this.params.backgroundColor),this.params.backgroundColor},A.prototype.videoOpacity=function(e=null){if(!this.checkInitialized())return null;null===e||Number(e)!==e||Number(e)>1||Number(e)<0?this._params.videoOpacity=.8:this._params.videoOpacity=e;let t=document.querySelector("#webgazerVideoContainer");return t&&(t.style.opacity=this.params.videoOpacity),this.params.videoOpacity},A.prototype.showCancelButton=function(e=!0){return this.checkInitialized()?(this._params.showCancelButton=!!e,this.params.showCancelButton):null};var jq=__webpack_require__(3668),Gq={};Gq.styleTagTransform=Rq(),Gq.setAttributes=_q(),Gq.insert=Nq().bind(null,"head"),Gq.domAPI=Iq(),Gq.insertStyleElement=Bq();Sq()(jq.Z,Gq);jq.Z&&jq.Z.locals&&jq.Z.locals;var qq=__webpack_require__(3224),$q={};$q.styleTagTransform=Rq(),$q.setAttributes=_q(),$q.insert=Nq().bind(null,"head"),$q.domAPI=Iq(),$q.insertStyleElement=Bq();Sq()(qq.Z,$q);qq.Z&&qq.Z.locals&&qq.Z.locals;var Hq=__webpack_require__(3359),Kq={};Kq.styleTagTransform=Rq(),Kq.setAttributes=_q(),Kq.insert=Nq().bind(null,"head"),Kq.domAPI=Iq(),Kq.insertStyleElement=Bq();Sq()(Hq.Z,Kq);Hq.Z&&Hq.Z.locals&&Hq.Z.locals;var Zq=__webpack_require__(2013),Xq={};Xq.styleTagTransform=Rq(),Xq.setAttributes=_q(),Xq.insert=Nq().bind(null,"head"),Xq.domAPI=Iq(),Xq.insertStyleElement=Bq();Sq()(Zq.Z,Xq);Zq.Z&&Zq.Z.locals&&Zq.Z.locals;var Yq=__webpack_require__(6616),Qq={};Qq.styleTagTransform=Rq(),Qq.setAttributes=_q(),Qq.insert=Nq().bind(null,"head"),Qq.domAPI=Iq(),Qq.insertStyleElement=Bq();Sq()(Yq.Z,Qq);Yq.Z&&Yq.Z.locals&&Yq.Z.locals;var Jq=__webpack_require__(7705),e$={};e$.styleTagTransform=Rq(),e$.setAttributes=_q(),e$.insert=Nq().bind(null,"head"),e$.domAPI=Iq(),e$.insertStyleElement=Bq();Sq()(Jq.Z,e$);Jq.Z&&Jq.Z.locals&&Jq.Z.locals;var t$=__webpack_require__(9438),n$={};n$.styleTagTransform=Rq(),n$.setAttributes=_q(),n$.insert=Nq().bind(null,"head"),n$.domAPI=Iq(),n$.insertStyleElement=Bq();Sq()(t$.Z,n$);t$.Z&&t$.Z.locals&&t$.Z.locals;var r$=__webpack_require__(7448),a$={};a$.styleTagTransform=Rq(),a$.setAttributes=_q(),a$.insert=Nq().bind(null,"head"),a$.domAPI=Iq(),a$.insertStyleElement=Bq();Sq()(r$.Z,a$);r$.Z&&r$.Z.locals&&r$.Z.locals;var s$=__webpack_require__(9485),i$={};i$.styleTagTransform=Rq(),i$.setAttributes=_q(),i$.insert=Nq().bind(null,"head"),i$.domAPI=Iq(),i$.insertStyleElement=Bq();Sq()(s$.Z,i$);s$.Z&&s$.Z.locals&&s$.Z.locals;var o$=__webpack_require__(2601),l$={};l$.styleTagTransform=Rq(),l$.setAttributes=_q(),l$.insert=Nq().bind(null,"head"),l$.domAPI=Iq(),l$.insertStyleElement=Bq();Sq()(o$.Z,l$);o$.Z&&o$.Z.locals&&o$.Z.locals;var u$=__webpack_require__(6771),c$={};c$.styleTagTransform=Rq(),c$.setAttributes=_q(),c$.insert=Nq().bind(null,"head"),c$.domAPI=Iq(),c$.insertStyleElement=Bq();Sq()(u$.Z,c$);u$.Z&&u$.Z.locals&&u$.Z.locals;var h$=__webpack_require__(9686),d$={};d$.styleTagTransform=Rq(),d$.setAttributes=_q(),d$.insert=Nq().bind(null,"head"),d$.domAPI=Iq(),d$.insertStyleElement=Bq();Sq()(h$.Z,d$);h$.Z&&h$.Z.locals&&h$.Z.locals;var p$=__webpack_require__(5904),m$={};m$.styleTagTransform=Rq(),m$.setAttributes=_q(),m$.insert=Nq().bind(null,"head"),m$.domAPI=Iq(),m$.insertStyleElement=Bq();Sq()(p$.Z,m$);p$.Z&&p$.Z.locals&&p$.Z.locals;var f$=__webpack_require__(9230),g$={};g$.styleTagTransform=Rq(),g$.setAttributes=_q(),g$.insert=Nq().bind(null,"head"),g$.domAPI=Iq(),g$.insertStyleElement=Bq();Sq()(f$.Z,g$);f$.Z&&f$.Z.locals&&f$.Z.locals;var y$=__webpack_require__(2120),b$={};b$.styleTagTransform=Rq(),b$.setAttributes=_q(),b$.insert=Nq().bind(null,"head"),b$.domAPI=Iq(),b$.insertStyleElement=Bq();Sq()(y$.Z,b$);y$.Z&&y$.Z.locals&&y$.Z.locals;const w$=new A;w$.gazeTracker=new lq(w$);const v$=w$})(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__})()));
//# sourceMappingURL=RemoteCalibrator.min.js.map