/*! For license information please see RemoteCalibrator.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.RemoteCalibrator=t():e.RemoteCalibrator=t()}(self,(()=>(()=>{var __webpack_modules__={6003:()=>{window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(e,1e3/60)},window.cancelRequestAnimFrame=window.cancelCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout},359:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,a:()=>r});var s=n(9199);const i=(e,t,{go:n,cancel:i,custom:r},a,o=!0)=>{const l=document.createElement("div");let c,u,h;if(l.className="rc-buttons"+(o?" rc-absolute-buttons":""),l.id="rc-buttons",n&&(c=document.createElement("button"),c.className="rc-button rc-go-button",c.onclick=n,c.innerHTML=s.H.RC_ok[e],l.appendChild(c)),i&&a&&(u=document.createElement("button"),u.className="rc-button rc-cancel-button",u.onclick=i,u.innerHTML=s.H.RC_cancel[e],l.appendChild(u)),r){const{callback:e,content:t}=r;h=document.createElement("button"),h.className="rc-button rc-custom-button",h.onclick=e,h.innerHTML=t,l.appendChild(h)}return t.appendChild(l),[l,c,u,h]},r=e=>{e.querySelector("#rc-buttons").remove()}},2016:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>takeInput});var _buttons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(359),_keyBinder__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9853),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9043);const takeInput=async(RC,extraFunction=null,extraFunctionOut=null,customButtonConfig=null)=>{const unit=RC.equipment.value.unit,unitDisplay=unit===RC._CONST.UNITS.CM?"cm":"in",unitIsFraction=unit===RC._CONST.UNITS.IN_F,formItem=`<div class="rc-form">\n  <div class="rc-form-inputs">\n  ${unitIsFraction?`<input type="text" class="rc-form-input rc-form-input-f-integer" placeholder="integer" /><input type="text" class="rc-form-input rc-form-input-f-fraction" placeholder="fraction (like 3/8) or 0" /><span>${unitDisplay}</span>`:`<input type="text" class="rc-form-input" /><span>${unitDisplay}</span>`}\n  </div>\n</div>`,instruction=RC.background.querySelector(".calibration-instruction");instruction.innerHTML+=formItem;const formElement=instruction.querySelector(".rc-form"),formInputElement=instruction.querySelector(".rc-form-input"),formInputElementFInteger=instruction.querySelector(".rc-form-input-f-integer"),formInputElementFFraction=instruction.querySelector(".rc-form-input-f-fraction");unitIsFraction?formInputElementFInteger.focus():formInputElement.focus();const addedButtons=(0,_buttons__WEBPACK_IMPORTED_MODULE_0__.F)(RC.L,formElement,{go:()=>{},custom:customButtonConfig||void 0},!0,!1),goButton=addedButtons[1],customButton=addedButtons[3];goButton.disabled=!0;const eleOkay=e=>{e.classList.remove("rc-input-error"),goButton.disabled=!1},eleError=e=>{isAcceptedSingleInput(e.value.slice(-1))?(e.classList.add("rc-input-error"),goButton.disabled=!0):e.value=e.value.substring(0,e.value.length-1)},setupEleOninput=(e,t)=>{e.oninput=()=>{t(e.value)?eleOkay(e):eleError(e)}},_validationForFraction=()=>{let e=!0;return validInputInteger(formInputElementFInteger.value)?eleOkay(formInputElementFInteger):(eleError(formInputElementFInteger),e=!1),validInputFraction(formInputElementFFraction.value)?eleOkay(formInputElementFFraction):(eleError(formInputElementFFraction),e=!1),e};return unitIsFraction?(formInputElementFInteger.oninput=_validationForFraction,formInputElementFFraction.oninput=_validationForFraction):setupEleOninput(formInputElement,validInput),(0,_utils__WEBPACK_IMPORTED_MODULE_2__.nB)(extraFunction),new Promise((resolve=>{const bFunction=()=>{removeInputElements(formElement,extraFunctionOut),(0,_keyBinder__WEBPACK_IMPORTED_MODULE_1__.l)(bindKeysFunction),resolve(null)},fFunction=()=>{let valid=!1,numericalValue,inputValue;unitIsFraction&&validInputInteger(formInputElementFInteger.value)&&validInputFraction(formInputElementFFraction.value)?(valid=!0,numericalValue=Number.parseInt(formInputElementFInteger.value)+eval(formInputElementFFraction.value),inputValue=`${formInputElementFInteger.value} ${formInputElementFFraction.value}`):!unitIsFraction&&validInput(formInputElement.value)&&(valid=!0,numericalValue=Number(formInputElement.value)||Number(formInputElement.value.replace(",",".")),inputValue=formInputElement.value),valid&&(removeInputElements(formElement,extraFunctionOut),(0,_keyBinder__WEBPACK_IMPORTED_MODULE_1__.l)(bindKeysFunction),resolve({value:{numerical:numericalValue,input:inputValue,unit},timestamp:performance.now()}))};goButton.onclick=fFunction,customButton.onclick=bFunction;const bindKeysFunction=(0,_keyBinder__WEBPACK_IMPORTED_MODULE_1__.m)({Enter:fFunction,Escape:bFunction})}))},removeInputElements=(e,t)=>{(0,_buttons__WEBPACK_IMPORTED_MODULE_0__.a)(e);for(const t of e.children)t.remove();e.remove(),(0,_utils__WEBPACK_IMPORTED_MODULE_2__.nB)(t)},validInput=e=>e.length>0&&!e.includes(" ")&&(!Number.isNaN(e)||!Number.isNaN(e.replace(",","."))),validInputInteger=e=>!!validInput(e)&&(Number.parseInt(e)===Number(e)&&Number(e)>0),validInputFraction=text=>{if("0"===text)return!0;if(!text.includes("/")||text.match(/\//g).length>1)return!1;const numbers=text.split("/");return validInputInteger(numbers[0])&&validInputInteger(numbers[1])&&(0,_utils__WEBPACK_IMPORTED_MODULE_2__.DW)(numbers[1])&&eval(text)<1},isAcceptedSingleInput=e=>/[0-9]/.test(e)||[".","/",","].includes(e)},9853:(e,t,n)=>{"use strict";n.d(t,{l:()=>r,m:()=>i});var s=n(9043);function i(e,t="keydown"){const n=t=>{t.key in e&&(t.preventDefault(),(0,s.nB)(e[t.key],t))};return document.body.addEventListener(t,n),n}function r(e,t="keydown"){document.body.removeEventListener(t,e)}},2646:(e,t,n)=>{"use strict";n.d(t,{G:()=>a,t:()=>i});var s=n(9199);function i(e){const t=Object.keys(s.H.EE_languageNameNative);if(t.includes(e))return r(e);const n=[];t.map((e=>{n.push(e.split("-")[0])}));const i=e.split("-")[0].toLowerCase();return n.includes(i)?r(t[n.indexOf(i)]):r("en-US")}function r(e){return{value:{language:e,languageNameEnglish:s.H.EE_languageNameEnglish[e],languageNameNative:s.H.EE_languageNameNative[e],languageDirection:s.H.EE_languageDirection[e],languagePhraseSource:s.H.EE_phraseSource[e]},timestamp:performance.now()}}function a(e){return"TRUE"===s.H.EE_languageUsesSpacesBool[e]?" ":""}},877:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cameraShutterSound:()=>b,soundFeedback:()=>w,stampOfApprovalSound:()=>C});const s="mocha"===n(7786)._;let i,r,a,o;s||(o=n(9171),i=o.Synth,r=o.Volume,a=o.NoiseSynth);class l{triggerAttackRelease(){}}class c{triggerAttackRelease(){}}const u=s?new l:new i({oscillator:{type:"sine"},envelope:{attack:.001,decay:.001,sustain:1,release:.001}}).connect(new r(-17).toDestination()),h=s?new l:new i({oscillator:{type:"sine"}}).connect(new r(-5).toDestination());let d,p,f,m;s?(d=new c,p=new l,f=new l):(m=new r(-6).toDestination(),d=new a({noise:{type:"pink"},envelope:{attack:.001,decay:.1,sustain:0,release:.12}}).connect(new r(-14).toDestination()),p=new i({oscillator:{type:"sawtooth"},envelope:{attack:.001,decay:.05,sustain:0,release:.08}}).connect(m),f=new i({oscillator:{type:"square"},envelope:{attack:.001,decay:.045,sustain:0,release:.07}}).connect(m));const g="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 ",y=e=>{try{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);const s=new Blob([n],{type:"audio/mpeg"}),i=new Audio(URL.createObjectURL(s));return i.volume=.7,i}catch(e){return null}};let A=null;s||(A=y(g));const w=(e=0)=>{switch(e){case 0:default:return void u.triggerAttackRelease(2e3,.05);case 1:return void u.triggerAttackRelease(500,.5);case 2:return void u.triggerAttackRelease(200,.6);case 3:return void h.triggerAttackRelease(200,.2)}},b=()=>{if(!s){if(A)try{return A.currentTime=0,void A.play().catch((e=>{v()}))}catch(e){return void v()}v()}},v=()=>{const e=o.now();d.triggerAttackRelease(.25,e),p.triggerAttackRelease(1400,.07,e),f.triggerAttackRelease(750,.07,e+.07)};let x=null;s||(x=y("//vkRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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1AU28RWkqitQvE85c1NgxSlKFGV4BgwENLkA5IuazSUQG6v6prWcpu0uu+ewM569lAQQ6GAwdAFChUkdSaFRUtVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"));const C=()=>{if(!s&&x)try{x.currentTime=0,x.play().catch((e=>{}))}catch(e){}}},9043:(e,t,n)=>{"use strict";n.d(t,{$O:()=>h,$k:()=>w,Av:()=>y,DW:()=>p,Eh:()=>u,Ew:()=>d,JZ:()=>g,KY:()=>b,Kv:()=>v,Nh:()=>m,Sf:()=>o,aS:()=>c,k4:()=>f,ln:()=>A,nB:()=>r,yy:()=>a});var s=n(4284),i=(n(8840),n(9199));function r(e,...t){if(e&&"function"==typeof e)return t.length?e(...t):e()}!function(){let e=0;const t=["ms","moz","webkit","o"];for(let e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[`${t[e]}RequestAnimationFrame`],window.cancelAnimationFrame=window[`${t[e]}CancelAnimationFrame`]||window[`${t[e]}CancelRequestAnimationFrame`];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){const s=performance.now(),i=Math.max(0,16-(s-e)),r=window.setTimeout((function(){t(s+i)}),i);return e=s+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError;const t=Object(e);for(let e=1;e<arguments.length;e++){let n=arguments[e];if(null==n)continue;n=Object(n);const s=Object.keys(Object(n));for(let e=0,i=s.length;e<i;e++){const i=s[e],r=Object.getOwnPropertyDescriptor(n,i);r?.enumerable&&(t[i]=n[i])}}return t}})}();function a(e){return new Promise((t=>setTimeout(t,e)))}async function o(e="en-US",t=null){if(c())return!0;if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)try{return await l()}catch(n){let r=!1;return t&&(t.disableKeypadHandler=!0),await s.A.fire({html:i.H.EE_FullScreenOk[e],confirmButtonText:"OK",preConfirm:async()=>{r=await l()}}),t&&(t.disableKeypadHandler=!1),r}return!1}const l=async()=>{const e=document.documentElement;return e.requestFullscreen?(await e.requestFullscreen(),!0):e.mozRequestFullScreen?(await e.mozRequestFullScreen(),!0):e.webkitRequestFullscreen?(await e.webkitRequestFullscreen(),!0):!!e.msRequestFullscreen&&(await e.msRequestFullscreen(),!0)};function c(){return null!=document.fullscreenElement||null!=document.webkitFullscreenElement||null!=document.mozFullScreenElement||null!=document.msFullscreenElement}async function u(){if(!c())return!0;try{return document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.msExitFullscreen&&await document.msExitFullscreen(),!0}catch(e){return!1}}function h(e,t=null,n=!1,s="",i=null,r=null,a=!1){return`<div class="calibration-instruction${n?" calibration-instruction-scrollable":""}${"left"===i?" calibration-instruction-left":""}"><p id="instruction-title" class="heading1">${e}</p>${r?'<p class="heading1">'+r+"</p>":""}${t?`<p id="instruction-body" class="${a?s:"calibration-description "+s}">${t}</p></div>`:""}`}function d(e,t,n,s,i){return s+1*(e-t)/(n-t)*(i-s)}function p(e){return e&&!(e&e-1)}function f(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function m(e,t){const n=10**t;return Math.round(e*n)/n}const g=e=>{const t=Math.floor(e.length/2),n=[...e].sort(((e,t)=>e-t));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2};function y(e,t,n=1){let s=0,i=0;for(;0===s;)s=Math.random();for(;0===i;)i=Math.random();let r=Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*i);return r=r/10+.5,r>1||r<0?r=y(e,t,n):(r=r**n,r*=t-e,r+=e),r}const A=e=>JSON.parse(JSON.stringify(e));function w(){"activeElement"in document&&document.activeElement.blur()}const b=e=>{if("touchstart"===e.type||"touchmove"===e.type){const t=e.touches[0];return{x:t.clientX,y:t.clientY}}return{x:e.clientX,y:e.clientY}};function v(e){return e.replace(/\n/g,"<br/>")}},7786:(e,t,n)=>{"use strict";n.d(t,{A:()=>b,_:()=>A});var s=n(7503),i=n.n(s),r=n(115),a=n.n(r);const o=["tall","short","up","down","fancy","busy","loud","crazy","kind","nice","real","speedy","handy","active","alert","bold","brave","bright","calm","clever","cool","free","grand","great","happy","jolly","lucky","spicy","sunny","super","wise"],l=["bat","bear","bird","cat","cow","deer","dog","dove","dragon","duck","eagle","fish","fox","frog","goose","lion","mouse","owl","pig","rat","seal","shark","sheep","snake","spider","tiger","turkey","viper","whale","wolf","onion","carrot","pear","bean","corn","bread","apple","banana","fig","grape","lemon","lime","orange","peach","plum","dumpling","cake","pasta","pot","sushi"],c=["blue","bronze","fire","forest","gold","gray","green","navy","purple","red","silver","sky","yellow","neon","black","white","brown","aqua"];function u(e){return e[Math.floor(Math.random()*e.length)]}function h(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(){const e=`000${(new Date).getMilliseconds().toString()}`;return h(u(o))+h(u(c))+h(u(l))+e.substring(e.length-3)}var p=n(782),f=n(9043),m=n(2646),g=n(9199);var y=n(4564);const A="production";class w{constructor(){window.console.log(`%c\nEasyEyes Remote Calibrator ${this.version.value}\n`,`color: ${this._CONST.COLOR.ORANGE}`),this._initialized=!1,this._initializing=!1,this._id=null,this._lang=null,this._langData=[],this._panelStatus={hasPanel:!1,panelFinished:!1,panelResolveIntervals:[]},this._panel={panel:null,panelObserver:null,panelTasks:[],panelParent:null,panelOptions:{},panelCallback:null,panelResolve:null},this._participantCheckEquipment={has:null,equipment:null,unit:null},this._trackingSetupFinishedStatus={gaze:!0,distance:!0},this._trackingPaused={gaze:!1,distance:!1},this._trackingVideoFrameTimestamps={gaze:0,distance:0},this._distanceTrackNudging={distanceCorrecting:null,distanceCorrectEnabled:!1,distanceDesired:null,distanceAllowedRatio:null,needEasyEyesKeypadBeyondCm:null},this._gazeTrackNudging={isCorrectingGaze:!1},this._environmentData=[],this._displayData=[],this._screenData=[],this._viewingDistanceData=[],this._nearPointData=[],this._PDData=[],this._gazePositionData=[],this._gazeAccuracyData=[],this._performanceData=[],this._fullscreenData=[],this._equipmentData=[],this._checkData=[],this._background={element:null,instructionElement:null},this._nudger={element:null,gazeElement:null,nudgerPaused:!1},this._params={backgroundColor:"#eee",videoOpacity:.8,showCancelButton:!0},this.viewingDistanceAllowedPreciseBool=!0,this.keypadHandler=null}get background(){return this._background.element}get instructionElement(){return this._background.instructionElement}get nudger(){return this._nudger.element}get params(){return this._params}get id(){return this._id?{value:this._id.value,timestamp:this._id.timestamp,date:this._id.date}:null}_helper_get(e,t){if(!e.length)return null;const n=e[e.length-1];return t?{value:n.value[t],timestamp:n.timestamp}:n}get version(){return{value:"0.8.46"}}get supportedLanguages(){const e=[];for(const t in g.H.EE_languageNameEnglish)e.push({language:t,languageNameEnglish:g.H.EE_languageNameEnglish[t],languageNameNative:g.H.EE_languageNameNative[t]});return e}get L(){return this._lang}get LD(){return this.languageDirection.value}get language(){return this._helper_get(this._langData,"language")}get languageNameEnglish(){return this._helper_get(this._langData,"languageNameEnglish")}get languageNameNative(){return this._helper_get(this._langData,"languageNameNative")}get languageDirection(){return this._helper_get(this._langData,"languageDirection")}get languagePhraseSource(){return this._helper_get(this._langData,"languagePhraseSource")}get computeArrayFillMHz(){return this._helper_get(this._performanceData,"computeArrayFillMHz")}get computeRandomMHz(){return this._helper_get(this._performanceData,"computeRandomMHz")}get idealFps(){return this._helper_get(this._performanceData,"idealFps")}get stressFps(){return this._helper_get(this._performanceData,"stressFps")}get isFullscreen(){return this.fullscreenData.length&&a()((0,f.aS)(),this._helper_get(this._fullscreenData).value)||(this.newFullscreenData={value:(0,f.aS)(),timestamp:performance.now()}),this._helper_get(this._fullscreenData)}get concurrency(){return this._helper_get(this._environmentData,"concurrency")}get browser(){return this._helper_get(this._environmentData,"browser")}get browserVersion(){return this._helper_get(this._environmentData,"browserVersion")}get deviceType(){return this._helper_get(this._environmentData,"deviceType")}get isMobile(){const e=this._helper_get(this._environmentData,"deviceType");return{value:"desktop"!==e.value,timestamp:e.timestamp}}get model(){return this._helper_get(this._environmentData,"model")}get manufacturer(){return this._helper_get(this._environmentData,"manufacturer")}get engine(){return this._helper_get(this._environmentData,"engine")}get system(){return this._helper_get(this._environmentData,"system")}get systemFamily(){return this._helper_get(this._environmentData,"systemFamily")}get description(){return this._helper_get(this._environmentData,"description")}get fullDescription(){return this._helper_get(this._environmentData,"fullDescription")}get userLanguage(){return this._helper_get(this._environmentData,"userLanguage")}get equipment(){return this._helper_get(this._equipmentData)}get displayWidthPx(){return this._displaySize(),this._helper_get(this._displayData,"displayWidthPx")}get displayHeightPx(){return this._displaySize(),this._helper_get(this._displayData,"displayHeightPx")}get windowWidthPx(){return this._displaySize(),this._helper_get(this._displayData,"windowWidthPx")}get windowHeightPx(){return this._displaySize(),this._helper_get(this._displayData,"windowHeightPx")}get screenWidthCm(){return this._helper_get(this._screenData,"screenWidthCm")}get screenHeightCm(){return this._helper_get(this._screenData,"screenHeightCm")}get screenDiagonalCm(){return this._helper_get(this._screenData,"screenDiagonalCm")}get screenDiagonalIn(){return this._helper_get(this._screenData,"screenDiagonalIn")}get screenPpi(){return this._helper_get(this._screenData,"screenPpi")}get screenPhysicalPpi(){return this._helper_get(this._screenData,"screenPhysicalPpi")}get viewingDistanceCm(){return this._helper_get(this._viewingDistanceData)}get nearPointCm(){return this._helper_get(this._nearPointData)}get PDCm(){return this._helper_get(this._PDData)}get gazePositionPx(){return this._helper_get(this._gazePositionData)}get gazeAccuracyDeg(){return this._helper_get(this._gazeAccuracyData)}get displayData(){return this._displayData}get screenData(){return this._screenData}get viewingDistanceData(){return this._viewingDistanceData}get nearPointData(){return this._nearPointData}get PDData(){return this._PDData}get gazeData(){return this._gazePositionData}get performanceData(){return this._performanceData}get fullscreenData(){return this._fullscreenData}get environmentData(){return this._environmentData}get languageData(){return this._langData}get equipmentData(){return this._equipmentData}get checkData(){return this._checkData}set newDisplayData(e){this._displayData.push(e)}set newScreenData(e){this._screenData.push(e)}set newViewingDistanceData(e){this._viewingDistanceData.push(e)}set newNearPointData(e){this._nearPointData.push(e)}set newPDData(e){this._PDData.push(e)}set newGazePositionData(e){this._gazePositionData.push(e)}set newGazeAccuracyData(e){this._gazeAccuracyData.push(e)}set newEnvironmentData(e){this._environmentData.push(e)}set newPerformanceData(e){this._performanceData.push(e)}set newFullscreenData(e){this._fullscreenData.push(e)}set newLanguageData(e){this._langData.push(e)}set newEquipmentData(e){this._equipmentData.push(e)}set newCheckData(e){this._checkData.push(e)}}w.prototype.init=async function(e={},t=void 0,n={easyEyesKeypadHandler:null}){if(!this._initialized&&!this._initializing){this._initializing=!0;const s=Object.assign({id:d(),language:"AUTO",languagePhrasesJSON:null,fullscreen:!1},e);await(async(e=null)=>{const{remoteCalibratorPhrases:t}=await import("https://cdn.jsdelivr.net/gh/EasyEyes/remote-calibrator@latest/src/i18n/phrases.js");Object.assign(g.H,t),e&&Object.assign(g.H,e)})(s.languagePhrasesJSON),s.fullscreen&&!p.Y&&await(0,f.Sf)(this.language.value,this),this._id={value:s.id,timestamp:performance.now(),date:new Date},this._environment(!0),this._displaySize(!0),this._CONST.S.AUTO===s.language?this.newLanguageData=(0,m.t)(this.userLanguage.value):this.newLanguageData=(0,m.t)(s.language),this._lang=this.language.value,this._initializing=!1,this._initialized=!0,n?.easyEyesKeypadHandler&&(this.keypadHandler=n.easyEyesKeypadHandler,this.disableKeypadHandler=!1),(0,f.nB)(t,this._id)}},w.prototype._environment=function(e=!1){if(e||this.checkInitialized()){(0,f.$k)();const e=e=>e.match(/Mobi/i)?"mobile":"desktop",t={value:{concurrency:window.navigator.hardwareConcurrency||-1,browser:i().name,browserVersion:i().version,deviceType:e(navigator.userAgent),model:i().product||"unknown",manufacturer:i().manufacturer||"unknown",engine:i().layout,system:`${i().os.family} ${i().os.version}`,systemFamily:i().os.family,description:i().description,fullDescription:i().ua,userLanguage:window.navigator.userLanguage||window.navigator.language},timestamp:this.id.timestamp};this.newEnvironmentData=t}},w.prototype.checkInitialized=function(){return!!this._initialized},w.prototype.removeKeypadHandler=function(){this.keypadHandler&&((0,y.NL)(this.keypadHandler),this.keypadHandler=null)},w.prototype._returnToPanelForScreenSize=function(){if(!this._panelStatus.hasPanel)return;this._removeBackground(),this._removeFloatInstructionElement(),this.gazeTracker&&this.gazeTracker.checkInitialized("distance",!1)&&this.endDistance(),this._cleanupDistanceCalibrationElements(),this._removeGlobalDistanceEventListeners();const e=this._panel.panelTasks;let t=-1;for(let n=0;n<e.length;n++){if("screenSize"===("string"==typeof e[n]?e[n]:e[n].name)){t=n;break}}-1!==t&&this._resetPanelToStep(t)},w.prototype._resetPanelToStep=function(e){if(!this._panelStatus.hasPanel)return;const t=this._panel.panelTasks,n=this._panel.panelOptions,s=this._panel.panelCallback,i={index:e,finished:[]};for(let n=0;n<e;n++)i.finished.push("string"==typeof t[n]?t[n]:t[n].name);document.querySelectorAll(".rc-panel-step").forEach(((t,n)=>{const s=Number(t.dataset.index);t.classList.remove("rc-panel-step-active","rc-panel-step-inactive","rc-panel-step-finished","rc-panel-step-todo"),s<e?t.classList.add("rc-panel-step-todo","rc-panel-step-inactive"):s===e?t.classList.add("rc-panel-step-todo","rc-panel-step-active"):t.classList.add("rc-panel-step-todo","rc-panel-step-inactive")})),this._activateStepAt(i,t,n,s)},w.prototype._activateStepAt=function(e,t,n,s){document.querySelectorAll(".rc-panel-step").forEach(((i,r)=>{const a=Number(i.dataset.index);a===e.index&&(i.classList.replace("rc-panel-step-inactive","rc-panel-step-active"),i.focus(),a!==t.length&&(a!==t.length-1||n.showNextButton?i.onclick=()=>{this["string"==typeof t[e.index]?t[e.index]:t[e.index].name](...this._getTaskOptionsCallbacks(t[e.index],(()=>{this._finishStepAt(e.index),e.index++,this._activateStepAt(e,t,n,s)})))}:i.onclick=()=>{this["string"==typeof t[e.index]?t[e.index]:t[e.index].name](...this._getTaskOptionsCallbacks(t[e.index],(()=>{this._finishStepAt(e.index)}),s,(()=>{this._panelStatus.panelFinished=!0})))}))}))},w.prototype._finishStepAt=function(e){const t=document.querySelectorAll(".rc-panel-step");for(const n of t)Number(n.dataset.index)===e&&(n.classList.replace("rc-panel-step-todo","rc-panel-step-finished"),n.classList.replace("rc-panel-step-active","rc-panel-step-inactive"))},w.prototype._getTaskOptionsCallbacks=function(e,t,n=null,s=null){"string"==typeof e&&(e={name:e});const i=()=>{t&&t(),n&&n({timestamp:performance.now()}),s&&s()};return["screenSize","measureDistance","performance"].includes(e.name)?[e.options||{},t=>{e.callback&&e.callback(t),i()}]:"trackGaze"===e.name?[e.options||{},t=>{e.callbackOnCalibrationEnd&&e.callbackOnCalibrationEnd(t),i()},e.callbackTrack||null]:"trackDistance"===e.name?[e.options||{},t=>{e.callbackStatic&&e.callbackStatic(t),i()},e.callbackTrack||null]:void 0},w.prototype._cleanupDistanceCalibrationElements=function(){document.querySelectorAll(".float-instruction").forEach((e=>{e.parentNode&&e.parentNode.removeChild(e)}));const e=document.querySelector("#blind-spot-canvas");e&&e.parentNode&&e.parentNode.removeChild(e);const t=document.querySelector("#blind-spot-instruction");t&&t.parentNode&&t.parentNode.removeChild(t);document.querySelectorAll('[id*="object-test"]').forEach((e=>{e.parentNode&&e.parentNode.removeChild(e)}));const n=document.querySelector(".rc-button-container");n&&n.parentNode&&n.parentNode.removeChild(n),this._background&&(this._background.instructionElement=null)},w.prototype._removeGlobalDistanceEventListeners=function(){["keydown","keyup","mousedown","mouseup","mousemove","touchstart","touchend","touchmove"].forEach((e=>{document.querySelectorAll("canvas, div, button").forEach((e=>{if(e.id&&(e.id.includes("blind-spot")||e.id.includes("object-test"))){const t=e.cloneNode(!0);e.parentNode&&e.parentNode.replaceChild(t,e)}}))}));try{if(window.ResizeObserver){document.querySelectorAll("[data-observed]").forEach((e=>{e.removeAttribute("data-observed")}))}}catch(e){}},w.prototype.getFullscreen=async function(e=!0){try{if((0,f.aS)())return!0;this.newFullscreenData={value:(e&&p.Y,await(0,f.Sf)(this.language.value,this)),timestamp:performance.now()},this.isMobile.value&&window.scrollBy(0,1)}catch(e){}return this.isFullscreen},w.prototype.newLanguage=function(e){if(this.checkInitialized()){let t;return this.newLanguageData=t=(0,m.t)(e),this._lang=this.language.value,t}},w.prototype._addBackground=function(e){if(null!==this.background)return;let t=document.getElementById("calibration-background");return t||(t=document.createElement("div"),t.id="calibration-background",t.className=`calibration-background rc-lang-${this.LD.toLowerCase()}`,document.body.classList.add("lock-view"),document.body.appendChild(t),t.style.background=this.params.backgroundColor),e&&(t.innerHTML=e),this._background.element=t,this.background},w.prototype._replaceBackground=function(e){return null!==this.background&&this._removeBackground(),this._addBackground(e)},w.prototype._removeBackground=function(){const e=document.getElementById("calibration-background");return!!e&&(document.body.classList.remove("lock-view"),document.body.removeChild(e),this._background={element:null,instructionElement:null},!0)},w.prototype._addBackgroundText=function(e,t){const n=this.background.getElementsByClassName("calibration-instruction");for(let e=0;e<n.length;e++)this.background.removeChild(n[e]);this.background.innerHTML=(0,f.$O)(e,t)},w.prototype._constructFloatInstructionElement=function(e,t){if(null===this.background&&this._addBackground(),null!==this.instructionElement){if(this.instructionElement.id===e)return;this.background.removeChild(this.instructionElement),this._background.instructionElement=null}const n=document.createElement("p");return n.className="float-instruction",n.id=e||"float-instruction",n.innerHTML=(0,f.Kv)(t),this.background.appendChild(n),this._background.instructionElement=n,n},w.prototype._setFloatInstructionElementPos=function(e,t=16){if(!this.instructionElement)return;const n=this.instructionElement;n.style.top=`calc(15% + ${t+10}px)`,n.style.bottom="unset",n.style.maxWidth="50vw",n.style.width="50vw",n.style.textAlign="left",n.style.transform="translate(0, 0)","left"===e?(n.style.left="0",n.style.right="50vw"):"right"===e?(n.style.left="50vw",n.style.right="0"):(n.style.left="25vw",n.style.right="25vw")},w.prototype._removeFloatInstructionElement=function(){return!!this.instructionElement&&(this.background.removeChild(this.instructionElement),this._background.instructionElement=null,this.background)},w.prototype._addCreditOnBackground=function(e){null===this.background&&this._addBackground();const t=document.createElement("p");return t.className="calibration-credit-text",t.id="calibration-credit-text",t.innerHTML=e,this.background.appendChild(t),t};const b=w},782:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});const s=!1},4564:(e,t,n)=>{"use strict";n.d(t,{KD:()=>i,NL:()=>s});const s=e=>{e&&(e.event_handlers.current=[])},i=(e,t,n=null,s=!0,i=["return"],r=null,a=!1)=>{if(!t)return()=>{};t.keypad&&t.keypad.update(i);const o=((e,t)=>e?(e.event_handlers.current.push(t),()=>{e.event_handlers.current=e.event_handlers.current.filter((e=>e!==t))}):()=>{})(t,(l=>{if(i.includes(l.name)){if(t.all_keys.current=[],r&&r.disableKeypadHandler)return;e&&e.click(),n&&(a?n(l.name):n()),s&&o()}}));return o}},8840:(e,t,n)=>{"use strict"},9199:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});const s=["en-US","ar","hy","bg","zh-CN","zh-HK","hr","cs","da","nl","en-UK","fi","fr","de","el","he","hi","hu","is","id","it","ja","kn","ko","lt","ms","ml","no","fa","pl","pt","ro","ru","sr","es","sw","sv","tl","tr","ur"],i={};["EE_languageNameEnglish","EE_languageNameNative","EE_languageDirection","EE_languageUseSpace","EE_phraseSource","EE_FullScreenOk","RC_cancel","RC_distanceTracking","RC_distanceTrackingCloseL","RC_distanceTrackingCloseR","RC_distanceTrackingGuide","RC_distanceTrackingIntroEnd","RC_distanceTrackingIntroStart","RC_distanceTrackingMoveCloser","RC_distanceTrackingMoveFurther","RC_rulerUnit","RC_howLong","RC_produceDistanceTitle1","RC_produceDistanceTitle2","RC_produceDistanceTitle","RC_produceDistance","RC_TestDistances","RC_AllDistancesRecorded","RC_canUsePhoneKeypad","RC_distanceTrackingRedo","RC_distanceTrackingTitle","RC_errorCameraUseDenied","RC_errorNoCamera","RC_gazeTracking","RC_gazeTrackingIntro","RC_gazeTrackingNudge","RC_gazeTrackingTitle","RC_nearPointIntro","RC_nearPointTitle","RC_ok","RC_panelButton","RC_panelIntro","RC_panelTitle","RC_panelTitleNext","RC_panelIntroNext","RC_panelUsesWebcam","RC_panelUsesWebcamPhone","RC_performance","RC_performanceIntro","RC_performanceTitle","RC_privacyCamera","RC_requestCamera","RC_screenSize","RC_screenSizeCredit","RC_screenSizeCreditCard","RC_screenSizeHave","RC_screenSizeIntro","RC_screenSizeTitle","RC_screenSizeUSBA","RC_screenSizeUSBC","RC_starting","RC_viewingBlindSpotCredit","RC_viewingBlindSpotRejected","RC_viewingDistance","RC_viewingDistanceIntroTitle","RC_viewingDistanceIntroLiMethod","RC_viewingDistanceTitle","T_proceed"].map((e=>{i[e]={},s.map((t=>{i[e][t]=""}))}))},7790:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>_setDebugControl});var _components_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9043);const _setDebugControl=(e,t,n,s)=>{const i=document.createElement("div");i.className="rc-panel-debug-control",i.innerHTML='<h2>DEBUG CONTROL</h2><p class="rc-panel-debug-bold-text">REMEMBER TO SET debug TO false FOR PRODUCTION MODE!</p>',t.appendChild(i);const r=[];for(const t of n){const n=t.name?t.name:t,s=document.createElement("div");s.className="rc-panel-debug-control-task-row",s.id=`rc-debugger-row-${n}`;const a=e._debuggerDefault[n];if(a){i.innerHTML+=`<h3>${n}</h3>`;const e={n:"number",s:"string"};switch(n){case"screenSize":for(const t in a.value)s.innerHTML+=_createValueElement(n,t,a.value[t],`.value.${t}`,e.n);break;case"measureDistance":s.innerHTML+=_createValueElement(n,"value",a.value,".value",e.n),s.innerHTML+=_createValueElement(n,"method",a.method,".method",e.s,!0);break;case"trackDistance":s.innerHTML+=_createValueElement(n,"viewingDistanceCm",a.value.viewingDistanceCm,".value",e.n),s.innerHTML+=_createValueElement(n,"PDCm",a.value.PDCm,".value",e.n),s.innerHTML+=_createValueElement(n,"nearPointCm.x",a.value.nearPointCm.x,".value.x",e.n),s.innerHTML+=_createValueElement(n,"nearPointCm.y",a.value.nearPointCm.y,".value.y",e.n),s.innerHTML+=_createValueElement(n,"latencyMs",a.value.latencyMs,".latencyMs",e.n),s.innerHTML+=_createValueElement(n,"method",a.method,".method",e.s,!0);break;case"trackGaze":s.innerHTML+=_createValueElement(n,"x",a.value.x,".value.x",e.n),s.innerHTML+=_createValueElement(n,"y",a.value.y,".value.y",e.n),s.innerHTML+=_createValueElement(n,"latencyMs",a.value.latencyMs,".value.latencyMs",e.n);break;case"performance":s.innerHTML+=_createValueElement(n,"computeArrayFillMHz",a.value.computeArrayFillMHz,".value.computeArrayFillMHz",e.n),s.innerHTML+=_createValueElement(n,"computeRandomMHz",a.value.computeRandomMHz,".value.computeRandomMHz",e.n),s.innerHTML+=_createValueElement(n,"idealFps",a.value.idealFps,".value.idealFps",e.n),s.innerHTML+=_createValueElement(n,"stressFps",a.value.stressFps,".value.stressFps",e.n)}i.appendChild(s),r.push(n)}}const a=document.createElement("button");a.className="rc-panel-debug-control-next",a.innerHTML="Simulate calibration and continue",e.calibrationSimulatedBool=!1,a.onclick=()=>{_wrapValues(e,r),(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.nB)(s,{timestamp:performance.now()}),e._panelStatus.panelFinished=!0,e.calibrationSimulatedBool=!0},i.appendChild(a)},_createValueElement=(e,t,n,s,i,r=!1)=>`<div class="value-element">\n  <input type="text" id="${e}-${t.replace(".","-")}" value="${n}" data-source="${s}" data-type="${i}"${r?"readonly":""} />\n  <p>${t}</p>\n</div>`,_wrapValues=(e,t)=>{for(const n of t){const t=document.querySelector(`#rc-debugger-row-${n}`),s={};switch(n){case"screenSize":s.value={},_putData(e,s,t),e.newScreenData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.ln)(s);break;case"measureDistance":_putData(e,s,t),e.newViewingDistanceData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.ln)(s);break;case"trackDistance":e.newViewingDistanceData={value:_get(t,"#trackDistance-viewingDistanceCm"),latencyMs:_get(t,"#trackDistance-latencyMs"),method:_get(t,"#trackDistance-method","string"),timestamp:e._debuggerDefault.timestamp},e.newNearPointData={value:{x:_get(t,"#trackDistance-nearPointCm-x"),y:_get(t,"#trackDistance-nearPointCm-y")},timestamp:e._debuggerDefault.timestamp},e.newPDData={value:_get(t,"#trackDistance-PDCm"),timestamp:e._debuggerDefault.timestamp};break;case"trackGaze":s.value={},_putData(e,s,t),e.newGazePositionData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.ln)(s);break;case"performance":s.value={},_putData(e,s,t),e.newPerformanceData=(0,_components_utils__WEBPACK_IMPORTED_MODULE_0__.ln)(s)}}},_get=(e,t)=>{const n=e.querySelector(t);return"number"===n.dataset.type?Number(n.value):n.value},_putData=(RC,newData,taskRow)=>{for(const ele of taskRow.childNodes){const eleInput=ele.querySelector("input");try{eval(`newData${eleInput.dataset.source} = eleInput.dataset.type === 'number' ? Number(eleInput.value) : eleInput.value`)}catch(e){}newData.timestamp=RC._debuggerDefault.timestamp}return newData}},2921:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,".animated{-webkit-animation-duration:var(--animate-duration);animation-duration:var(--animate-duration);-webkit-animation-fill-mode:both;animation-fill-mode:both}.animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.animated.repeat-1{-webkit-animation-iteration-count:var(--animate-repeat);animation-iteration-count:var(--animate-repeat)}.animated.repeat-2{-webkit-animation-iteration-count:calc(var(--animate-repeat)*2);animation-iteration-count:calc(var(--animate-repeat)*2)}.animated.repeat-3{-webkit-animation-iteration-count:calc(var(--animate-repeat)*3);animation-iteration-count:calc(var(--animate-repeat)*3)}.animated.delay-1s{-webkit-animation-delay:var(--animate-delay);animation-delay:var(--animate-delay)}.animated.delay-2s{-webkit-animation-delay:calc(var(--animate-delay)*2);animation-delay:calc(var(--animate-delay)*2)}.animated.delay-3s{-webkit-animation-delay:calc(var(--animate-delay)*3);animation-delay:calc(var(--animate-delay)*3)}.animated.delay-4s{-webkit-animation-delay:calc(var(--animate-delay)*4);animation-delay:calc(var(--animate-delay)*4)}.animated.delay-5s{-webkit-animation-delay:calc(var(--animate-delay)*5);animation-delay:calc(var(--animate-delay)*5)}.animated.faster{-webkit-animation-duration:calc(var(--animate-duration)/2);animation-duration:calc(var(--animate-duration)/2)}.animated.fast{-webkit-animation-duration:calc(var(--animate-duration)*.8);animation-duration:calc(var(--animate-duration)*.8)}.animated.slow{-webkit-animation-duration:calc(var(--animate-duration)*2);animation-duration:calc(var(--animate-duration)*2)}.animated.slower{-webkit-animation-duration:calc(var(--animate-duration)*3);animation-duration:calc(var(--animate-duration)*3)}@media (prefers-reduced-motion:reduce),print{.animated{-webkit-animation-duration:1ms!important;animation-duration:1ms!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important;-webkit-transition-duration:1ms!important;transition-duration:1ms!important}.animated[class*=Out]{opacity:0}}","",{version:3,sources:["webpack://./node_modules/animate.css/source/_base.css"],names:[],mappings:"AAAA,UACE,kDAA2C,CAA3C,0CAA2C,CAC3C,gCAAyB,CAAzB,wBACF,CAEA,mBACE,0CAAmC,CAAnC,kCACF,CAEA,mBACE,uDAAgD,CAAhD,+CACF,CAEA,mBACE,+DAA0D,CAA1D,uDACF,CAEA,mBACE,+DAA0D,CAA1D,uDACF,CAEA,mBACE,4CAAqC,CAArC,oCACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,mBACE,oDAA+C,CAA/C,4CACF,CAEA,iBACE,0DAAqD,CAArD,kDACF,CAEA,eACE,2DAAuD,CAAvD,mDACF,CAEA,eACE,0DAAqD,CAArD,kDACF,CAEA,iBACE,0DAAqD,CAArD,kDACF,CAEA,6CACE,UACE,wCAAkC,CAAlC,gCAAkC,CAElC,6CAAuC,CAAvC,qCAAuC,CADvC,yCAAmC,CAAnC,iCAEF,CAEA,sBACE,SACF,CACF",sourcesContent:[".animated {\n  animation-duration: var(--animate-duration);\n  animation-fill-mode: both;\n}\n\n.animated.infinite {\n  animation-iteration-count: infinite;\n}\n\n.animated.repeat-1 {\n  animation-iteration-count: var(--animate-repeat);\n}\n\n.animated.repeat-2 {\n  animation-iteration-count: calc(var(--animate-repeat) * 2);\n}\n\n.animated.repeat-3 {\n  animation-iteration-count: calc(var(--animate-repeat) * 3);\n}\n\n.animated.delay-1s {\n  animation-delay: var(--animate-delay);\n}\n\n.animated.delay-2s {\n  animation-delay: calc(var(--animate-delay) * 2);\n}\n\n.animated.delay-3s {\n  animation-delay: calc(var(--animate-delay) * 3);\n}\n\n.animated.delay-4s {\n  animation-delay: calc(var(--animate-delay) * 4);\n}\n\n.animated.delay-5s {\n  animation-delay: calc(var(--animate-delay) * 5);\n}\n\n.animated.faster {\n  animation-duration: calc(var(--animate-duration) / 2);\n}\n\n.animated.fast {\n  animation-duration: calc(var(--animate-duration) * 0.8);\n}\n\n.animated.slow {\n  animation-duration: calc(var(--animate-duration) * 2);\n}\n\n.animated.slower {\n  animation-duration: calc(var(--animate-duration) * 3);\n}\n\n@media print, (prefers-reduced-motion: reduce) {\n  .animated {\n    animation-duration: 1ms !important;\n    transition-duration: 1ms !important;\n    animation-iteration-count: 1 !important;\n  }\n\n  .animated[class*='Out'] {\n    opacity: 0;\n  }\n}\n"],sourceRoot:""}]);const o=a},2636:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,":root{--animate-duration:1s;--animate-delay:1s;--animate-repeat:1}","",{version:3,sources:["webpack://./node_modules/animate.css/source/_vars.css"],names:[],mappings:"AAAA,MACE,qBAAsB,CACtB,kBAAmB,CACnB,kBACF",sourcesContent:[":root {\n  --animate-duration: 1s;\n  --animate-delay: 1s;\n  --animate-repeat: 1;\n}\n"],sourceRoot:""}]);const o=a},7271:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,"@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInUp{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}","",{version:3,sources:["webpack://./node_modules/animate.css/source/fading_entrances/fadeInUp.css"],names:[],mappings:"AAAA,4BACE,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CAEA,GACE,SAAU,CACV,+BAA+B,CAA/B,uBACF,CACF,CAVA,oBACE,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CAEA,GACE,SAAU,CACV,+BAA+B,CAA/B,uBACF,CACF,CAEA,UACE,+BAAwB,CAAxB,uBACF",sourcesContent:["@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n.fadeInUp {\n  animation-name: fadeInUp;\n}\n"],sourceRoot:""}]);const o=a},2551:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,"@-webkit-keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.fadeOutDown{-webkit-animation-name:fadeOutDown;animation-name:fadeOutDown}","",{version:3,sources:["webpack://./node_modules/animate.css/source/fading_exits/fadeOutDown.css"],names:[],mappings:"AAAA,+BACE,GACE,SACF,CAEA,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CACF,CATA,uBACE,GACE,SACF,CAEA,GACE,SAAU,CACV,uCAAkC,CAAlC,+BACF,CACF,CAEA,aACE,kCAA2B,CAA3B,0BACF",sourcesContent:["@keyframes fadeOutDown {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n}\n\n.fadeOutDown {\n  animation-name: fadeOutDown;\n}\n"],sourceRoot:""}]);const o=a},8470:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,'.swal2-popup.swal2-toast{background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:min-content auto min-content;overflow-y:hidden;padding:1em;pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{font-size:1em;margin:.5em 1em;padding:0;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{font-size:1em;height:2em;margin:.5em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{font-size:.8em;margin:.5em 0 0;padding:.5em 0 0}.swal2-popup.swal2-toast .swal2-close{align-self:center;font-size:2em;grid-column:3/3;grid-row:1/99;height:.8em;margin:0;width:.8em}.swal2-popup.swal2-toast .swal2-html-container{font-size:1em;margin:.5em 1em;overflow:initial;padding:0;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{align-self:center;grid-column:1;grid-row:1/99;height:2em;margin:.25em;width:2em}.swal2-popup.swal2-toast .swal2-icon{align-self:center;grid-column:1;grid-row:1/99;height:2em;margin:0 .5em 0 0;min-width:2em;width:2em}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{align-items:center;display:flex;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{height:2em;width:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{height:auto;justify-content:flex-start;margin:.5em 0 0;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{font-size:1em;margin:.25em .5em;padding:.4em .6em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{border-radius:50%;height:3em;position:absolute;width:1.6em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{border-radius:4em 0 0 4em;left:-.5em;top:-.8em;transform:rotate(-45deg);transform-origin:2em 2em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{border-radius:0 4em 4em 0;left:.9375em;top:-.25em;transform-origin:0 1.5em}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{height:2em;width:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{height:2.6875em;left:.4375em;top:0;width:.4375em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{left:.1875em;top:1.125em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{right:.1875em;top:.9375em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){box-sizing:border-box;display:grid;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;inset:0;overflow-x:hidden;padding:.625em;position:fixed;transition:background-color .1s;z-index:1060;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:transparent!important}div:where(.swal2-container).swal2-bottom-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}div:where(.swal2-container).swal2-bottom,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-top{grid-template-columns:auto minmax(0,1fr) auto}div:where(.swal2-container).swal2-bottom-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-left>.swal2-popup,div:where(.swal2-container).swal2-center-start>.swal2-popup{align-self:center;grid-row:2}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-left>.swal2-popup,div:where(.swal2-container).swal2-bottom-start>.swal2-popup{align-self:end;grid-column:1;grid-row:3}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup,div:where(.swal2-container).swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{align-self:stretch;grid-row:1/4}div:where(.swal2-container).swal2-no-transition{transition:none!important}div:where(.swal2-container) div:where(.swal2-popup){background:#fff;border:none;border-radius:5px;box-sizing:border-box;color:#545454;display:none;font-family:inherit;font-size:1rem;grid-template-columns:minmax(0,100%);max-width:100%;padding:0 0 1.25em;position:relative;width:32em}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){color:inherit;font-size:1.875em;font-weight:600;margin:0;max-width:100%;padding:.8em 1em 0;position:relative;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){align-items:center;box-sizing:border-box;display:flex;flex-wrap:wrap;justify-content:center;margin:1.25em auto 0;padding:0;width:auto;z-index:1}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}div:where(.swal2-container) div:where(.swal2-loader){align-items:center;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-color:#2778c4 transparent;border-radius:100%;border-style:solid;border-width:.25em;display:none;height:2.2em;justify-content:center;margin:0 1.875em;width:2.2em}div:where(.swal2-container) button:where(.swal2-styled){box-shadow:0 0 0 3px transparent;font-weight:500;margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){background:initial;background-color:#7066e0;border:0;border-radius:.25em;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){background:initial;background-color:#dc3741;border:0;border-radius:.25em;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){background:initial;background-color:#6e7881;border:0;border-radius:.25em;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px hsla(208,8%,47%,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){border-top:1px solid #eee;color:inherit;font-size:1em;margin:1em 0 0;padding:1em 1em 0;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{border-bottom-left-radius:5px;border-bottom-right-radius:5px;bottom:0;grid-column:auto!important;left:0;overflow:hidden;position:absolute;right:0}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){background:rgba(0,0,0,.2);height:.25em;width:100%}div:where(.swal2-container) img:where(.swal2-image){margin:2em auto 1em;max-width:100%}div:where(.swal2-container) button:where(.swal2-close){align-items:center;background:transparent;border:none;border-radius:5px;color:#ccc;cursor:pointer;font-family:monospace;font-size:2.5em;height:1.2em;justify-content:center;justify-self:end;margin-bottom:-1.2em;margin-right:0;margin-top:0;overflow:hidden;padding:0;transition:color .1s,box-shadow .1s;width:1.2em;z-index:2}div:where(.swal2-container) button:where(.swal2-close):hover{background:transparent;color:#f27474;transform:none}div:where(.swal2-container) button:where(.swal2-close):focus-visible{box-shadow:inset 0 0 0 3px rgba(100,150,200,.5);outline:none}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{color:inherit;font-size:1.125em;font-weight:400;justify-content:center;line-height:normal;margin:0;overflow:auto;padding:1em 1.6em .3em;text-align:center;z-index:1;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) label:where(.swal2-checkbox),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) textarea:where(.swal2-textarea){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) textarea:where(.swal2-textarea){background:transparent;border:1px solid #d9d9d9;border-radius:.1875em;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;box-sizing:border-box;color:inherit;font-size:1.125em;transition:border-color .1s,box-shadow .1s;width:auto}div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5);outline:none}div:where(.swal2-container) input:where(.swal2-file)::-moz-placeholder,div:where(.swal2-container) input:where(.swal2-input)::-moz-placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::-moz-placeholder{color:#ccc}div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{background:#fff;margin:1em 2em 3px}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{color:inherit;font-weight:600;text-align:center;width:20%}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{font-size:1.125em;height:2.625em;line-height:2.625em;padding:0}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{background:transparent;font-size:1.125em;margin-left:auto;margin-right:auto;width:75%}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{background:transparent;color:inherit;font-size:1.125em;max-width:100%;min-width:50%;padding:.375em .625em}div:where(.swal2-container) .swal2-checkbox,div:where(.swal2-container) .swal2-radio{align-items:center;background:#fff;color:inherit;justify-content:center}div:where(.swal2-container) .swal2-checkbox label,div:where(.swal2-container) .swal2-radio label{font-size:1.125em;margin:0 .6em}div:where(.swal2-container) .swal2-checkbox input,div:where(.swal2-container) .swal2-radio input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;background:#f0f0f0;color:#666;font-size:1em;font-weight:300;justify-content:center;margin:1em 0 0;overflow:hidden;padding:.625em}div:where(.swal2-container) div:where(.swal2-validation-message):before{background-color:#f27474;border-radius:50%;color:#fff;content:"!";display:inline-block;font-weight:600;height:1.5em;line-height:1.5em;margin:0 .625em;min-width:1.5em;text-align:center;width:1.5em}div:where(.swal2-container) .swal2-progress-steps{align-items:center;background:transparent;flex-wrap:wrap;font-weight:600;margin:1.25em auto;max-width:100%;padding:0}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{background:#2778c4;border-radius:2em;color:#fff;flex-shrink:0;height:2em;line-height:2em;text-align:center;width:2em;z-index:20}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{background:#2778c4;flex-shrink:0;height:.4em;margin:0 -1px;width:2.5em;z-index:10}div:where(.swal2-icon){border:.25em solid #000;border-radius:50%;box-sizing:content-box;cursor:default;font-family:inherit;height:5em;justify-content:center;line-height:5em;margin:2.5em auto .6em;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:5em}div:where(.swal2-icon) .swal2-icon-content{align-items:center;display:flex;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{flex-grow:1;position:relative}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{background-color:#f27474;border-radius:.125em;display:block;height:.3125em;position:absolute;top:2.3125em;width:2.9375em}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{border-radius:50%;height:7.5em;position:absolute;width:3.75em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{border-radius:7.5em 0 0 7.5em;left:-2.0635em;top:-.4375em;transform:rotate(-45deg);transform-origin:3.75em 3.75em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{border-radius:0 7.5em 7.5em 0;left:1.875em;top:-.6875em;transform:rotate(-45deg);transform-origin:0 3.75em}div:where(.swal2-icon).swal2-success .swal2-success-ring{border:.25em solid hsla(98,55%,69%,.3);border-radius:50%;box-sizing:content-box;height:100%;left:-.25em;position:absolute;top:-.25em;width:100%;z-index:2}div:where(.swal2-icon).swal2-success .swal2-success-fix{height:5.625em;left:1.625em;position:absolute;top:.5em;transform:rotate(-45deg);width:.4375em;z-index:1}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{background-color:#a5dc86;border-radius:.125em;display:block;height:.3125em;position:absolute;z-index:2}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{left:.8125em;top:2.875em;transform:rotate(45deg);width:1.5625em}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{right:.5em;top:2.375em;transform:rotate(-45deg);width:2.9375em}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{height:50px;overflow:scroll;position:absolute;top:-9999px;width:50px}.swal2-rtl .swal2-close{margin-left:0;margin-right:0}.swal2-rtl .swal2-timer-progress-bar{left:auto;right:0}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotate(2deg)}33%{transform:translateY(0) rotate(-2deg)}66%{transform:translateY(.3125em) rotate(2deg)}to{transform:translateY(0) rotate(0deg)}}@keyframes swal2-toast-hide{to{opacity:0;transform:rotate(1deg)}}@keyframes swal2-toast-animate-success-line-tip{0%{left:.0625em;top:.5625em;width:0}54%{left:.125em;top:.125em;width:0}70%{left:-.25em;top:.625em;width:1.625em}84%{left:.75em;top:1.0625em;width:.5em}to{left:.1875em;top:1.125em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{right:1.375em;top:1.625em;width:0}65%{right:.9375em;top:1.25em;width:0}84%{right:0;top:.9375em;width:1.125em}to{right:.1875em;top:.9375em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}to{transform:scale(1)}}@keyframes swal2-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.5)}}@keyframes swal2-animate-success-line-tip{0%{left:.0625em;top:1.1875em;width:0}54%{left:.125em;top:1.0625em;width:0}70%{left:-.375em;top:2.1875em;width:3.125em}84%{left:1.3125em;top:3em;width:1.0625em}to{left:.8125em;top:2.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{right:2.875em;top:3.375em;width:0}65%{right:2.875em;top:3.375em;width:0}84%{right:0;top:2.1875em;width:3.4375em}to{right:.5em;top:2.375em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}to{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;opacity:0;transform:scale(.4)}50%{margin-top:1.625em;opacity:0;transform:scale(.4)}80%{margin-top:-.375em;transform:scale(1.15)}to{margin-top:0;opacity:1;transform:scale(1)}}@keyframes swal2-animate-error-icon{0%{opacity:0;transform:rotateX(100deg)}to{opacity:1;transform:rotateX(0deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-1turn)}to{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{opacity:0;transform:rotate(45deg)}25%{opacity:.4;transform:rotate(-25deg)}50%{opacity:.8;transform:rotate(15deg)}75%{opacity:1;transform:rotate(-5deg)}to{opacity:1;transform:rotateX(0)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent;box-sizing:border-box;max-width:100%;pointer-events:none;width:360px}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}',"",{version:3,sources:["webpack://./node_modules/sweetalert2/src/scss/_toasts.scss","webpack://./node_modules/sweetalert2/src/variables.scss","webpack://./node_modules/sweetalert2/src/scss/_core.scss","webpack://./node_modules/sweetalert2/src/scss/_icons.scss","webpack://./node_modules/sweetalert2/src/scss/_toasts-animations.scss","webpack://./node_modules/sweetalert2/src/scss/_animations.scss","webpack://./node_modules/sweetalert2/src/scss/_body.scss","webpack://./node_modules/sweetalert2/src/scss/_toasts-body.scss"],names:[],mappings:"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B,CCnCrB,gCDuCwB,CCxCxB,kBDuCyB,CCtCzB,kBDuCwB,CCvCxB,kBDuCwB,CCjDxB,YAAA,CAIA,YDuCkB,CCzClB,sBDuC2B,CCpC3B,gBDuCkB,CCzClB,WD8CwB,CCpC1B,wDAIE,gCDZsB,CCatB,eDZuB,CCQvB,cDZkB,CCalB,oBDZmB,CCanB,yBDVuB,CCcvB,wEACE,cAAA,CAGF,8EAIE,kBAAA,CACA,wBDbkC,CCUlC,QDZwB,CCaxB,mBDZ+B,CCe/B,UDpNQ,CCqNR,aDb2B,CCe3B,4FACE,yCDfgC,CCmBpC,2EAIE,kBAAA,CACA,wBDlB+B,CCe/B,QDjBqB,CCkBrB,mBDjB4B,CCoB5B,UDlOQ,CCmOR,aDlBwB,CCoBxB,yFACE,uCDpB6B,CCwBjC,6EAIE,kBAAA,CACA,wBDvBiC,CCoBjC,QDtBuB,CCuBvB,mBDtB8B,CCyB9B,UDhPQ,CCiPR,aDvB0B,CCyB1B,2FACE,wCDzB+B,CC8BjC,4FACE,yCD1DwB,CC8D5B,sEACE,YDhEuB,CCmEzB,0EACE,QAAA,CAIJ,qDAGE,yBAAA,CACA,aDlIiB,CCmIjB,aDlIqB,CC8HrB,cDlIkB,CCmIlB,iBDlImB,CCsInB,iBDlIsB,CCqIxB,gEAQE,6BD5QkB,CC2QlB,8BD3QkB,CCuQlB,QAAA,CAEA,0BAAA,CADA,MAAA,CAEA,eAAA,CALA,iBAAA,CACA,ODtQkB,CC+QpB,iEAGE,yBD/IkC,CC8IlC,YD/I8B,CC8I9B,UD7IkC,CCkJpC,oDAEE,mBDrPiB,CCoPjB,cDpPiB,CCwPnB,uDAGE,kBDtJ6B,CCmK7B,sBDtJ4B,CCmJ5B,WDtJwB,CCuJxB,iBDxSkB,CC2SlB,UDtJuB,CCyJvB,cAAA,CAFA,qBDtJ6B,CCuJ7B,eDtJ2B,CCyI3B,YDtJwB,CCoJxB,sBDtJiC,CCuKjC,gBDzK8B,CC6J9B,oBAAA,CADA,cDtJqB,CCqJrB,YDrJqB,CCyJrB,eAAA,CADA,SDvJyB,CCyJzB,mCDvJF,CCgJE,WDtJuB,CCmJvB,SDtJ8B,CC2K9B,6DAEE,sBDtJgC,CCuJhC,aDxRQ,CCsRR,cDtRQ,CC2RV,qEAEE,+CDxJgC,CCuJhC,YDvJgC,CC2JlC,yEACE,QAAA,CAIJ,kDAME,aDpRyB,CCqRzB,iBDpR6B,CCqR7B,eDpR+B,CC8Q/B,sBDpRmC,CC2RnC,kBDpR+B,CC8Q/B,QDpR0B,CCsR1B,aDpR4B,CCmR5B,sBDpR2B,CC0R3B,iBDpR8B,CC2Q9B,SAAA,CAUA,oBDpR6B,CCqR7B,qBDpR8B,CCuRhC,4UAME,kBD1RiB,CC6RnB,uKAQE,sBD3RqB,CCyRrB,wBD/RiB,CCgSjB,qBD/RwB,CCiSxB,gED/RF,CCyRE,qBAAA,CAOA,aD5RgB,CC6RhB,iBD/RoB,CCyRpB,0CDrRF,CCoRE,UDxRoB,CCiSpB,0NACE,8BAAA,CACA,oCAAA,CAGF,yLACE,wBD/RqB,CCiSrB,yED9RJ,CC6RI,YD7RJ,CCiSE,6NACE,UAAA,CADF,8MACE,UAAA,CAIJ,yCAEE,eDpYU,CCmYV,kBDnYU,CCsYV,+CACE,SAAA,CAGF,gDAEE,aDzTc,CC0Td,eAAA,CACA,iBAAA,CAHA,SAGA,CAGF,+FAIE,iBDpUkB,CCkUlB,cDzUe,CC4Uf,mBD5Ue,CC0Uf,SD1Ue,CCgVnB,yCACE,cDjViB,CCkVjB,eDjVkB,CCoVpB,wCAIE,sBDjVqB,CCkVrB,iBDnVoB,CCiVpB,gBAAA,CADA,iBAAA,CADA,SD/UoB,CCsVtB,4CACE,aDxUoB,CCyUpB,aDxUqB,CC2UvB,0CAIE,sBD9VqB,CC+VrB,aD9VgB,CC+VhB,iBDjWoB,CC6VpB,cAAA,CADA,aAAA,CAEA,qBD9VoB,CCoWtB,qFAEE,kBAAA,CAEA,eDzbU,CC0bV,aDvWgB,CCqWhB,sBDrWgB,CCyWhB,iGAEE,iBD7WkB,CC4WlB,aD5WkB,CCgXpB,iGACE,aAAA,CACA,aAAA,CAIJ,4DACE,YAAA,CACA,sBDpWgC,CCqWhC,iBDtWuB,CCyWzB,iEACE,kBDtWmC,CC2WnC,kBDvWkC,CCwWlC,UDvW6B,CCwW7B,aDvWiC,CCwWjC,eDvWmC,CCgWnC,sBDtWuC,CCuWvC,cDtW8B,CCwW9B,eAAA,CADA,cDlWmC,CCyWnC,wEASE,wBDzbQ,CCwbR,iBAAA,CAEA,UDleQ,CCydR,WAAA,CACA,oBAAA,C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",sourceRoot:""}]);const o=a},663:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,".rc-buttons{z-index:999999999999}#rc-buttons{pointer-events:auto!important;z-index:999999999999!important}.rc-absolute-buttons{bottom:1.25rem;position:fixed;right:1.25rem;text-align:right}.rc-button{border:none!important;border-radius:7px!important;color:#fff!important;cursor:pointer;font-size:1.2rem!important;font-weight:700!important;line-height:150%!important;margin:.25rem!important;padding:1rem 1.5rem!important;text-align:center!important}.rc-go-button{background:#019267!important;color:#fff!important}.rc-go-button:hover{background:#016b4a!important}.rc-go-button:active{background:#014d35!important}.rc-cancel-button,.rc-custom-button{background:#999!important;color:#fff!important}.rc-cancel-button:hover,.rc-custom-button:hover{background:#777!important}.rc-cancel-button:active,.rc-custom-button:active{background:#555!important;color:#fff!important}.rc-custom-button{padding:1.2rem 1.7rem!important}.rc-button-container .rc-button:nth-child(2),.rc-custom-button{border-radius:7px!important;font-size:1rem!important;font-weight:700!important;line-height:150%!important;margin:.25rem!important}.rc-button-container .rc-button:nth-child(2){padding:1rem 1.5rem!important}.rc-button:disabled{background:#ddd!important;color:#999!important;cursor:default!important}","",{version:3,sources:["webpack://./src/css/buttons.scss"],names:[],mappings:"AAAA,YACE,oBAAA,CAIF,YAEE,6BAAA,CADA,8BACA,CAGF,qBAGE,cAAA,CAFA,cAAA,CAGA,aAAA,CAFA,gBAEA,CAGF,WAEE,qBAAA,CAMA,2BAAA,CAEA,oBAAA,CADA,cAAA,CALA,0BAAA,CACA,yBAAA,CAFA,0BAAA,CAIA,uBAAA,CADA,6BAAA,CALA,2BASA,CAGF,cACE,4BAAA,CACA,oBAAA,CAEA,oBACE,4BAAA,CAGF,qBACE,4BAAA,CAIJ,oCAEE,yBAAA,CACA,oBAAA,CAEA,gDACE,yBAAA,CAGF,kDACE,yBAAA,CACA,oBAAA,CAIJ,kBAEE,+BAIA,CAIF,+DAJE,2BAAA,CALA,wBAAA,CAGA,yBAAA,CADA,0BAAA,CAEA,uBAWA,CANF,6CAEE,6BAIA,CAGF,oBACE,yBAAA,CACA,oBAAA,CACA,wBAAA",sourceRoot:""}]);const o=a},290:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,".my__swal2__container .swal2-select{border:2px solid #aaa!important;border-radius:5px!important;font-family:inherit!important;font-size:1.2rem!important;margin:auto 1.6rem!important;outline:none!important;padding-top:.5rem!important}.rc-form{font-family:inherit;font-size:2rem;pointer-events:auto!important}.rc-form .rc-form-inputs{display:flex;justify-content:space-between!important;margin:1rem 0}.rc-form .rc-form-inputs .rc-form-input,.rc-form .rc-form-inputs span{flex-grow:1;font-family:inherit;font-size:inherit;padding:.5rem}.rc-form .rc-form-inputs span{font-weight:700}.rc-form .rc-form-input{border:2px solid #aaa;border-radius:5px;outline:none;width:min(100%,10rem)}.rc-form .rc-form-input.rc-input-error{border-color:#ac0d0d!important;color:#ac0d0d!important}.rc-form .rc-form-input+.rc-form-input{margin-left:.5rem}.arrow-two-sided-svg{position:fixed}.arrow-two-sided-svg .arrow-two-sided{fill:#ff9a00}.arrow-two-sided-horizontal{bottom:10%;left:0;right:0;width:100%}.arrow-two-sided-vertical{bottom:0;height:100%;right:5%;top:0}","",{version:3,sources:["webpack://./src/css/check.scss"],names:[],mappings:"AAAA,oCAME,+BAAA,CADA,2BAAA,CADA,6BAAA,CAHA,0BAAA,CACA,4BAAA,CAKA,sBAAA,CAJA,2BAIA,CAOF,SAEE,mBAAA,CADA,cAAA,CAEA,6BAAA,CAEA,yBACE,YAAA,CACA,uCAAA,CACA,aAAA,CAEA,sEAEE,WAAA,CAEA,mBAAA,CACA,iBAAA,CAFA,aAEA,CAGF,8BACE,eAAA,CAIJ,wBACE,qBAAA,CAEA,iBAAA,CADA,YAAA,CAEA,qBAAA,CAEA,uCACE,8BAAA,CACA,uBAAA,CAIJ,uCACE,iBAAA,CAIJ,qBACE,cAAA,CAEA,sCACE,YAAA,CAIJ,4BAEE,UAAA,CACA,MAAA,CACA,OAAA,CAHA,UAGA,CAGF,0BAIE,QAAA,CAHA,WAAA,CACA,QAAA,CACA,KACA",sourceRoot:""}]);const o=a},2945:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,"#eye-side{font-weight:700}#blind-spot-canvas{bottom:0;display:block;left:0;margin:0;padding:0;position:fixed;right:0;top:0;z-index:-1}#blind-spot-instruction{max-width:50vw!important;text-align:left!important;width:50vw!important}@media(min-width:641px){#blind-spot-instruction{font-size:1.1rem!important;width:65%!important}}@media(max-width:640px){#blind-spot-instruction{font-size:.9rem!important;width:90%!important}}#pip-video{display:none}#video-canvas{border-radius:6px;bottom:1rem;display:block;left:1rem;position:absolute;z-index:1000}#rc-ruler{cursor:pointer;max-height:120px;overflow:hidden;position:fixed;-webkit-user-select:none;-moz-user-select:none;user-select:none}#rc-ruler-scales{left:30px;pointer-events:none;position:absolute;top:0;z-index:1}#rc-ruler-scales #size-arrow{opacity:.5;transform:rotate(90deg) translateY(calc(50% + 3px))}#rc-ruler-scales .rc-ruler-scale-text{color:rgba(44,46,67,.667);font-weight:700;margin:0!important;padding:0;position:absolute;top:32px!important;transform:translate(-50%)!important}#rc-ruler-scales .rc-ruler-scale{display:block;position:absolute;top:0;transform:translate(-1px);width:2px;z-index:2}#rc-ruler-scales .rc-ruler-major{background-color:rgba(44,46,67,.933);height:30px}#rc-ruler-scales .rc-ruler-secondary{background-color:rgba(89,82,96,.867);height:24px}#rc-ruler-scales .rc-ruler-minor{background-color:rgba(89,82,96,.4);height:16px}.hide-nudger .calibration-nudger{display:none!important;opacity:0!important}.calibration-nudger,.gaze-nudger{bottom:0;box-sizing:border-box;height:100%;left:0;margin:0;overflow:hidden;position:fixed;right:0;scrollbar-width:none;text-align:center;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:999999999}.calibration-nudger *,.gaze-nudger *{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}#rc-distance-correct{margin:0 auto auto;overflow-wrap:break-word;padding:2rem;text-align:center;width:100%}#rc-distance-correct #rc-distance-correct-instruction{font-size:7rem;font-weight:700;line-height:100%;margin:0 auto 2rem;text-align:justify}#rc-distance-correct #rc-distance-correct-guide{font-size:3rem;font-weight:500;line-height:300%;text-align:justify}#rc-distance-correct #rc-distance-correct-guide .rc-distance-num{border-radius:7px!important;font-family:monospace!important;font-size:9rem;font-weight:700;padding:.5rem;vertical-align:middle}.heading1{font-family:Verdana;font-size:24pt;font-weight:700}.heading2{font-size:18pt}.bodyText,.heading2{font-family:Verdana;font-weight:400}.bodyText{font-size:15pt}","",{version:3,sources:["webpack://./src/css/distance.scss"],names:[],mappings:"AAAA,UACE,eAAA,CAGF,mBAME,QAAA,CAJA,aAAA,CAGA,MAAA,CAIA,QAAA,CADA,SAAA,CAPA,cAAA,CAMA,OAAA,CAHA,KAAA,CADA,UAMA,CAGF,wBAEE,wBAAA,CAEA,yBAAA,CADA,oBACA,CAGF,wBACE,wBAEE,0BAAA,CADA,mBACA,CAAA,CAIJ,wBACE,wBAEE,yBAAA,CADA,mBACA,CAAA,CAIJ,WACE,YAAA,CAGF,cAME,iBAAA,CAFA,WAAA,CADA,aAAA,CAEA,SAAA,CAHA,iBAAA,CADA,YAKA,CAKF,UAKE,cAAA,CAHA,gBAAA,CACA,eAAA,CAFA,cAAA,CAKA,wBAAA,CAAA,qBAAA,CAAA,gBAAA,CAGF,iBAGE,SAAA,CAEA,mBAAA,CAJA,iBAAA,CACA,KAAA,CAEA,SACA,CAEA,6BAEE,UAAA,CADA,mDACA,CAGF,sCAKE,yBAAA,CACA,eAAA,CAHA,kBAAA,CACA,SAAA,CAHA,iBAAA,CACA,kBAAA,CAKA,mCAAA,CAGF,iCAEE,aAAA,CADA,iBAAA,CAEA,KAAA,CAEA,yBAAA,CADA,SAAA,CAEA,SAAA,CAGF,iCACE,oCAAA,CACA,WAAA,CAGF,qCACE,oCAAA,CACA,WAAA,CAGF,iCACE,kCAAA,CACA,WAAA,CAOF,iCACE,sBAAA,CACA,mBAAA,CAIJ,iCASE,QAAA,CAIA,qBAAA,CARA,WAAA,CAEA,MAAA,CAGA,QAAA,CACA,eAAA,CARA,cAAA,CAKA,OAAA,CAOA,oBAAA,CADA,iBAAA,CARA,KAAA,CAMA,wBAAA,CAAA,qBAAA,CAAA,gBAAA,CARA,UAAA,CAFA,iBAaA,CAEA,qCACE,wHAAA,CAKJ,qBAGE,kBAAA,CAEA,wBAAA,CADA,YAAA,CAHA,iBAAA,CACA,UAGA,CAEA,sDAEE,cAAA,CADA,eAAA,CAGA,gBAAA,CADA,kBAAA,CAEA,kBAAA,CAGF,gDAEE,cAAA,CADA,eAAA,CAEA,gBAAA,CACA,kBAAA,CAEA,iEAEE,2BAAA,CAEA,+BAAA,CAEA,cAAA,CAHA,eAAA,CAFA,aAAA,CAIA,qBACA,CAeN,UAGE,mBAAA,CAFA,cAAA,CACA,eACA,CAGF,UACE,cAEA,CAGF,oBAHE,mBAAA,CADA,eAOA,CAHF,UACE,cAEA",sourceRoot:""}]);const o=a},4636:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,":root{--rc-panel-theme-color:#3490de;--rc-panel-darken-color:#185b94;--rc-panel-theme-color-semi:#3490de66;--rc-panel-darken-color-semi:#185b9488}.rc-panel{background-color:var(--rc-panel-theme-color);border-radius:10px!important;box-shadow:var(--rc-panel-darken-color-semi) 0 50px 100px -20px,var(--rc-panel-theme-color-semi) 0 30px 60px -30px!important;display:block;margin-left:auto!important;margin-right:auto!important;max-width:720px!important;overflow:hidden;padding:.75rem!important;position:relative;width:100%}.rc-panel *{box-sizing:border-box;outline:none;text-rendering:optimizeLegibility;vertical-align:baseline;-webkit-font-smoothing:auto;-moz-osx-font-smoothing:grayscale;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-kerning:normal;scrollbar-width:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.rc-panel .rc-panel-title{color:#fff!important;font-size:2rem!important;font-weight:600!important;margin:1rem 1rem 0!important}.rc-panel .rc-panel-description{color:hsla(0,0%,100%,.8)!important;font-size:1rem!important;font-weight:500!important;margin:.5rem 1rem 0!important}.rc-panel #rc-panel-language-parent{display:flex;flex-direction:row-reverse;margin:0;padding:0}.rc-panel #rc-panel-language-parent #rc-panel-lang-picker{background-color:hsla(0,0%,100%,.8)!important;border:none!important;border-radius:5px!important;display:block;font-size:1rem!important;font-weight:500!important;margin:.25rem .25rem 0!important;outline:none!important;padding:.25rem!important}.rc-panel .rc-panel-steps{margin:-3rem 0 0!important;padding-top:4rem!important}.rc-panel .rc-panel-steps.rc-panel-steps-l,.rc-panel .rc-panel-steps.rc-panel-steps-s{display:flex!important;justify-content:space-between!important}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step{background:hsla(0,0%,100%,.8);flex-grow:1!important;margin:.25rem!important;padding:0!important;position:relative;text-align:center;transition:background-color .2s}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step .rc-panel-step-use,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step .rc-panel-step-use{font-size:1rem!important;line-height:170%!important;margin:0!important;padding:0 .3rem!important;position:absolute;right:0;top:0}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step .rc-panel-step-use svg,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step .rc-panel-step-use svg{height:1rem;width:1rem;fill:var(--rc-panel-darken-color)}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step .rc-panel-step-name,.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step .rc-panel-step-name{color:var(--rc-panel-darken-color);font-size:1rem!important;font-weight:700!important;line-height:150%!important;white-space:nowrap}.rc-panel .rc-panel-steps.rc-panel-steps-l{flex-flow:row nowrap;max-width:100%;overflow-x:scroll}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step-name{margin:1.5rem .5rem!important}.rc-panel .rc-panel-steps.rc-panel-steps-l .rc-panel-step-use-tip{bottom:110%!important;display:flex!important;left:50%!important;position:absolute!important;transform:translate(-50%)!important}.rc-panel .rc-panel-steps.rc-panel-steps-s{flex-flow:column nowrap;overflow-x:hidden}.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step{overflow-x:hidden;text-align:left;white-space:nowrap}.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step-name{margin:1.2rem .75rem 1.2rem 1.5rem!important}.rc-panel .rc-panel-steps.rc-panel-steps-s .rc-panel-step-use-tip{display:inline-flex!important;position:relative!important}.rc-panel .rc-panel-steps .rc-panel-step{border:none!important;border-radius:7px!important}.rc-panel .rc-panel-steps .rc-panel-step .rc-panel-step-name{display:inline-block!important;position:relative!important}.rc-panel .rc-panel-steps .rc-panel-step-use-tip{align-items:center!important;background-color:rgba(255,154,0,.933)!important;border:none!important;border-radius:7px!important;color:#fff!important;font-size:.75rem!important;font-weight:500!important;justify-content:center!important;line-height:100%!important;margin:0!important;opacity:0;padding:.7rem .5rem!important;pointer-events:none;text-align:center!important;transition:opacity .2s;width:-moz-max-content!important;width:max-content!important;z-index:10!important}.rc-panel .rc-panel-steps .rc-panel-step-use-tip svg{height:.75rem;width:.75rem;fill:#fff}.rc-panel .rc-panel-steps .rc-panel-step-use-tip svg:last-of-type{margin-right:5px}.rc-panel .rc-panel-steps .rc-panel-step-todo:focus,.rc-panel .rc-panel-steps .rc-panel-step-todo:hover{background-color:#fff}.rc-panel .rc-panel-steps .rc-panel-step-todo:focus .rc-panel-step-use-tip,.rc-panel .rc-panel-steps .rc-panel-step-todo:hover .rc-panel-step-use-tip{opacity:1!important}.rc-panel .rc-panel-steps .rc-panel-step-todo:active{background-color:hsla(0,0%,93%,.8)}.rc-panel .rc-panel-steps .rc-panel-step-finished{background-color:hsla(0,0%,73%,.8)!important}.rc-panel .rc-panel-steps .rc-panel-step-inactive{opacity:.6;pointer-events:none}.rc-panel .rc-panel-steps .rc-panel-step-active{cursor:pointer;opacity:1}.rc-panel ::-webkit-scrollbar{display:none;width:0}.rc-panel .rc-panel-debug-control{background-color:hsla(0,0%,100%,.8);border:3px solid #e00;border-radius:7px;margin:1rem 0 0;overflow:hidden;padding:.5rem}.rc-panel .rc-panel-debug-control *{color:#ac0d0d}.rc-panel .rc-panel-debug-control h2,.rc-panel .rc-panel-debug-control h3,.rc-panel .rc-panel-debug-control p{margin:0!important}.rc-panel .rc-panel-debug-control h2{font-size:1.2rem!important;font-weight:700!important}.rc-panel .rc-panel-debug-control h3{font-size:.9rem;font-variant:small-caps;font-weight:500;padding-bottom:.3rem;padding-top:.5rem}.rc-panel .rc-panel-debug-control .rc-panel-debug-bold-text{font-size:1rem!important;font-weight:700}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-next{background-color:#e00;border:none;border-radius:5px;color:#fff;cursor:pointer;font-size:.9rem!important;margin:1rem 0 0;padding:.5rem 1.2rem!important}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-next:hover{background-color:#ac0d0d}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row{display:inline-flex;justify-content:flex-start!important;width:100%}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element{flex-grow:1;overflow-x:hidden;padding:0 .1rem;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element:first-of-type{padding-left:0}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element:last-of-type{padding-right:0}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element p{color:#ac0d0d;font-size:.65rem!important;line-height:150%!important;padding-left:1px!important}.rc-panel .rc-panel-debug-control .rc-panel-debug-control-task-row .value-element input{background-color:hsla(0,0%,100%,.8);border:1px solid #e99!important;border-radius:3px!important;font-size:.8rem;margin:0!important;padding:.3rem!important;pointer-events:auto;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto;width:100%}","",{version:3,sources:["webpack://./src/css/panel.scss"],names:[],mappings:"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",sourceRoot:""}]);const o=a},5151:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,"#size-card,#size-usba,#size-usbc{display:block;height:auto;left:2rem;position:absolute;z-index:2}#size-arrow{display:block;height:auto;position:absolute;width:70px;z-index:1}#size-arrow-fill{transition:fill .3s}.minor{transition:opacity .25s}.rc-slider:active~.size-obj .minor{opacity:0}#matching-obj{background-color:#fff;border:none;border-radius:7px;font-size:1.1rem;font-weight:600;margin-bottom:unset;margin-left:.3rem;margin-right:.3rem;margin-top:unset;padding-bottom:unset;padding-left:.3rem;padding-right:.3rem;padding-top:unset;pointer-events:auto!important;vertical-align:middle}@media(min-width:481px){.rc-size-obj-selection{display:inline-flex}}@media(max-width:480px){.rc-size-obj-selection{display:inline-block}}","",{version:3,sources:["webpack://./src/css/screenSize.scss"],names:[],mappings:"AAAA,iCAIE,aAAA,CAGA,WAAA,CADA,SAAA,CAHA,iBAAA,CAKA,SAAA,CAGF,YAEE,aAAA,CAGA,WAAA,CAJA,iBAAA,CAGA,UAAA,CAEA,SAAA,CAGF,iBACE,mBAAA,CAGF,OACE,uBAAA,CAIF,mCACE,SAAA,CAKF,cAGE,qBAAA,CADA,WAAA,CADA,iBAAA,CAMA,gBAAA,CADA,eAAA,CADA,mBAAA,CAAA,iBAAA,CAAA,kBAAA,CAAA,gBAAA,CADA,oBAAA,CAAA,kBAAA,CAAA,mBAAA,CAAA,iBAAA,CAKA,6BAAA,CADA,qBACA,CAGF,wBACE,uBACE,mBAAA,CAAA,CAIJ,wBACE,uBACE,oBAAA,CAAA",sourceRoot:""}]);const o=a},5319:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,".rc-slider{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:linear-gradient(90deg,#ffc772,#ffc772 60%,#fff 0);border-radius:5px;cursor:grab;direction:ltr!important;display:block;height:10px;left:2rem;opacity:1;position:absolute;transition:opacity .3s;width:calc(100% - 4rem);z-index:10}.rc-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:#ff9a00;border:1px solid #cc7a00;border-radius:15px;box-shadow:0 0 12px 0 rgba(136,82,0,.2);cursor:inherit;height:30px;width:30px}.rc-slider::-moz-range-thumb{-moz-appearance:none;appearance:none;background:#ff9a00;border:1px solid #cc7a00;border-radius:15px;box-shadow:0 0 12px 0 rgba(136,82,0,.2);cursor:inherit;height:30px;width:30px}.rc-slider::-ms-thumb{appearance:none;background:#ff9a00;border:1px solid #cc7a00;border-radius:15px;box-shadow:0 0 12px 0 rgba(136,82,0,.2);cursor:inherit;height:30px;width:30px}","",{version:3,sources:["webpack://./src/css/slider.scss"],names:[],mappings:"AAAA,WAGE,uBAAA,CAAA,oBAAA,CAAA,eAAA,CAGA,4DAAA,CAIA,iBAAA,CAEA,WAAA,CAEA,uBAAA,CAZA,aAAA,CAGA,WAAA,CAIA,SAAA,CAFA,SAAA,CANA,iBAAA,CAYA,sBAAA,CATA,uBAAA,CAOA,UAGA,CAkBF,iCAVE,uBAAA,CAAA,eAAA,CAKA,kBAAA,CADA,wBAAA,CADA,kBAAA,CAGA,uCAAA,CACA,cAAA,CALA,WAAA,CADA,UAMA,CAOF,6BAdE,oBAAA,CAAA,eAAA,CAKA,kBAAA,CADA,wBAAA,CADA,kBAAA,CAGA,uCAAA,CACA,cAAA,CALA,WAAA,CADA,UAMA,CAWF,sBAlBE,eAAA,CAKA,kBAAA,CADA,wBAAA,CADA,kBAAA,CAGA,uCAAA,CACA,cAAA,CALA,WAAA,CADA,UAMA",sourceRoot:""}]);const o=a},4889:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,"#webgazerVideoContainer .webgazer-videoinput-select{background:hsla(0,0%,100%,.8)!important;border:none!important;border-radius:.6rem!important;color:#666;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:.6rem;left:0;line-height:100%;margin:.3rem;outline:none!important;padding:.2rem .3rem;position:absolute;top:0;z-index:9}","",{version:3,sources:["webpack://./src/css/video.scss"],names:[],mappings:"AACE,oDAcE,uCAAA,CAHA,qBAAA,CAEA,6BAAA,CAEA,UAAA,CARA,wHAAA,CAEA,eAAA,CALA,MAAA,CAMA,gBAAA,CALA,YAAA,CAOA,sBAAA,CANA,mBAAA,CAJA,iBAAA,CACA,KAAA,CAFA,SAcA",sourceRoot:""}]);const o=a},9057:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,"#gaze-system-instruction{top:65%;white-space:pre}.gaze-nudge-instruction{top:65%}.gaze-calibration-dot{background:#ff005c80;cursor:auto;display:block;position:fixed!important;transition-timing-function:ease-in-out;transition:left .5s,right .5s,top .5s,bottom .5s;z-index:999999998}.gaze-calibration-dot-click{background:#ff005c;cursor:pointer;margin:auto;position:absolute;text-align:center;vertical-align:middle}.gaze-calibration-dot-click:active{opacity:.3}.gaze-calibration-dot-text{color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:.9rem;font-weight:500;vertical-align:text-bottom}#webgazerGazeDot,#webgazerGazeDot-tempClone,.gaze-calibration-dot-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}#webgazerGazeDot,#webgazerGazeDot-tempClone{background-color:#111d5e;border-radius:5px;opacity:.5;position:fixed;z-index:9999999999}#webgazerVideoContainer{border-radius:5px;display:block;opacity:1!important;overflow:hidden;position:fixed!important;transform-origin:bottom left;z-index:999999997}#webgazerFaceFeedbackBox,#webgazerVideoContainer,#webgazerVideoContainer *{-webkit-user-select:none;-moz-user-select:none;user-select:none}#webgazerFaceFeedbackBox{border-radius:10px;box-sizing:border-box;opacity:.6;pointer-events:none}.rc-crosshair,.rc-gaze-nudger-arrows{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.rc-crosshair{border-radius:50%;cursor:pointer;display:block;height:40px;position:fixed!important;transition-timing-function:ease-in-out;transition:left .5s,right .5s,top .5s,bottom .5s;width:40px;z-index:999999999}.rc-crosshair-component{background-color:#000;left:50%;margin:auto;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none}","",{version:3,sources:["webpack://./src/css/gaze.css"],names:[],mappings:"AAAA,yBACE,OAAQ,CACR,eACF,CAEA,wBACE,OACF,CAEA,sBACE,oBAAqB,CAGrB,WAAe,CADf,aAAc,CADd,wBAA0B,CAI1B,sCAAuC,CACvC,gDAIa,CANb,iBAOF,CAEA,4BAEE,kBAAmB,CAEnB,cAAe,CADf,WAAY,CAFZ,iBAAkB,CAIlB,iBAAkB,CAClB,qBACF,CAEA,mCACE,UACF,CAEA,2BAIE,UAAW,CAHX,wHAC8D,CAG9D,eAAiB,CAFjB,eAAgB,CAGhB,0BAGF,CAIA,uEALE,mBAAoB,CADpB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAeF,CATA,4CAKE,wBAAyB,CACzB,iBAAkB,CAFlB,UAAY,CAFZ,cAAe,CACf,kBAMF,CAEA,wBAKE,iBAAkB,CAHlB,aAAc,CAId,mBAAqB,CACrB,eAAgB,CAJhB,wBAA0B,CAC1B,4BAA6B,CAH7B,iBASF,CAMA,2EAPE,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAcF,CAPA,yBAGE,kBAAmB,CADnB,qBAAsB,CAEtB,UAAY,CACZ,mBAEF,CAIA,qCAEE,iBAAkB,CAIlB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBACF,CAEA,cAcE,iBAAkB,CARlB,cAAe,CAJf,aAAc,CAEd,WAAY,CAHZ,wBAA0B,CAM1B,sCAAuC,CACvC,gDAIa,CATb,UAAW,CAEX,iBAUF,CAEA,wBAQE,qBAAsB,CALtB,QAAS,CAET,WAAY,CACZ,mBAAoB,CALpB,iBAAkB,CAClB,OAAQ,CAER,8BAAgC,CAGhC,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAEF",sourcesContent:["#gaze-system-instruction {\n  top: 65%;\n  white-space: pre;\n}\n\n.gaze-nudge-instruction {\n  top: 65%;\n}\n\n.gaze-calibration-dot {\n  background: #ff005c80;\n  position: fixed !important;\n  display: block;\n  cursor: initial;\n  z-index: 999999998;\n  transition-timing-function: ease-in-out;\n  transition:\n    left 0.5s,\n    right 0.5s,\n    top 0.5s,\n    bottom 0.5s;\n}\n\n.gaze-calibration-dot-click {\n  position: absolute;\n  background: #ff005c;\n  margin: auto;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n}\n\n.gaze-calibration-dot-click:active {\n  opacity: 0.3;\n}\n\n.gaze-calibration-dot-text {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 500;\n  color: #fff;\n  font-size: 0.9rem;\n  vertical-align: text-bottom;\n  user-select: none;\n  pointer-events: none;\n}\n\n/* ----------------------------- WebGazer Native ---------------------------- */\n\n#webgazerGazeDot,\n#webgazerGazeDot-tempClone {\n  position: fixed;\n  z-index: 9999999999;\n  opacity: 0.5;\n  background-color: #111d5e;\n  border-radius: 5px;\n  pointer-events: none;\n  user-select: none;\n}\n\n#webgazerVideoContainer {\n  z-index: 999999997;\n  display: block;\n  position: fixed !important;\n  transform-origin: bottom left;\n  border-radius: 5px;\n  opacity: 1 !important;\n  overflow: hidden;\n  /* pointer-events: none; */\n  user-select: none;\n}\n\n#webgazerVideoContainer * {\n  user-select: none;\n}\n\n#webgazerFaceFeedbackBox {\n  /* TODO Set style in sub-module */\n  box-sizing: border-box;\n  border-radius: 10px;\n  opacity: 0.6;\n  pointer-events: none;\n  user-select: none;\n}\n\n/* ------------------------------- Gaze Nudger ------------------------------ */\n\n.rc-crosshair,\n.rc-gaze-nudger-arrows {\n  position: absolute;\n  /* top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%); */\n  user-select: none;\n}\n\n.rc-crosshair {\n  position: fixed !important;\n  display: block;\n  width: 40px;\n  height: 40px;\n  z-index: 999999999;\n  cursor: pointer;\n  transition-timing-function: ease-in-out;\n  transition:\n    left 0.5s,\n    right 0.5s,\n    top 0.5s,\n    bottom 0.5s;\n  /* filter: drop-shadow(0 0 3px #fff); */\n  border-radius: 50%;\n}\n\n.rc-crosshair-component {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin: auto;\n  pointer-events: none;\n  user-select: none;\n  background-color: #000;\n}\n"],sourceRoot:""}]);const o=a},9725:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,"#calibration-background{bottom:0;box-sizing:border-box;height:100%;left:0;margin:0;overflow:hidden;overflow-y:scroll;position:fixed;right:0;scrollbar-width:none;text-align:center;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:999999990}#calibration-background::-webkit-scrollbar{display:none;width:0}#calibration-background *{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}#calibration-background p{line-height:150%}.calibration-instruction{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.calibration-instruction-scrollable{height:200%}.calibration-trackDistance-check-progessBar-container{background-color:#f3f3f3;bottom:0;height:40px;left:0;position:fixed;width:100%;z-index:999999995}.calibration-trackDistance-check-progessBar{background-color:#4caf50;height:100%;transition:width .3s ease;width:0}.calibration-trackDistance-check-progessBar-text{color:#000;font-size:30px;left:2%;margin:0;position:absolute;top:1%}.calibration-trackDistance-check-viewingDistance-container{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;line-height:1;max-width:50%;min-width:50%;position:fixed;right:0;top:0;z-index:999999995}.calibration-trackDistance-check-viewingDistance{font-size:54vh;margin:0;text-align:center}.calibration-trackDistance-check-viewingDistance-units{font-size:30vh;margin:0;text-align:center}.calibration-checkSize-lengthDisplay-container{align-items:baseline;bottom:180px;display:flex;flex-direction:row;gap:.15em;height:auto;justify-content:center;left:50%;line-height:1;max-width:100%;min-width:auto;position:fixed;transform:translateX(-50%);z-index:999999995}.calibration-checkSize-lengthDisplay{font-size:30vh;line-height:1;margin:0;min-width:0;padding:0;text-align:center;width:auto}.calibration-checkSize-lengthDisplay-units{font-size:15vh;line-height:1;margin:0;text-align:center}.calibration-instruction-left{bottom:0;left:0;margin:auto;right:50%;top:0}.calibration-instruction h1{font-weight:700;min-width:360px}.calibration-instruction *{font-size:1.4rem;line-height:1.6;margin:0;padding:0}.calibration-instruction p{margin-top:1rem;white-space:pre-line}.calibration-description{line-height:1.6}.rc-hang-description{font-size:1rem!important;margin-top:50vh!important}@media (min-width:481px){.calibration-instruction{margin:2rem}.calibration-instruction h1{font-size:2.5rem!important;line-height:100%}.calibration-description{width:calc(100% - 4rem);width:max(min(100% - 7rem,864px),300px)}.calibration-description,.calibration-description *{font-size:1.4rem}.calibration-credit-text{font-size:.9rem!important}}@media (max-width:480px){.calibration-instruction{margin:1rem}.calibration-instruction h1{font-size:1.8rem!important;line-height:120%}.calibration-description{width:calc(90% - 6rem)}.calibration-description,.calibration-description *{font-size:1.4rem}.calibration-credit-text{font-size:.7rem!important}}.float-instruction{background:hsla(0,0%,100%,.9);border-radius:10px;font-size:1rem;font-weight:500;left:50%;margin:0;max-width:25rem;padding:10px 17px;position:fixed;text-align:center;transform:translate(-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:999999991}.float-instruction.blindspot-instruction{background:none;color:#000}.swal2-container{z-index:999999999!important}.calibration-credit-text{bottom:3px!important;color:#999!important;line-height:100%!important;margin:0!important;padding:0!important;position:fixed!important;text-align:center!important;width:100%!important}.lock-view{overflow:hidden!important}.rc-lang-ltr{direction:ltr!important;text-align:left!important}.rc-lang-rtl{direction:rtl!important;text-align:right!important}.cursor-grab{cursor:grab}.cursor-grabbing{cursor:grabbing}","",{version:3,sources:["webpack://./src/css/main.css"],names:[],mappings:"AACA,wBAQE,QAAS,CAMT,qBAAsB,CAVtB,WAAY,CAEZ,MAAO,CAGP,QAAS,CAET,eAAgB,CAChB,iBAAkB,CAVlB,cAAe,CAKf,OAAQ,CASR,oBAAqB,CADrB,iBAAkB,CAVlB,KAAM,CAQN,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAAiB,CAVjB,UAAW,CAFX,iBAgBF,CAEA,2CAEE,YAAa,CADb,OAEF,CAEA,0BACE,wHAEF,CAEA,0BACE,gBACF,CAEA,yBAGE,mBAAoB,CAFpB,iBAAkB,CAClB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAEF,CAEA,oCACE,WACF,CAEA,sDAME,wBAAyB,CAJzB,QAAS,CAGT,WAAY,CAFZ,MAAO,CAFP,cAAe,CAGf,UAAW,CAGX,iBACF,CAEA,4CAGE,wBAAyB,CAFzB,WAAY,CAGZ,yBAA2B,CAF3B,OAGF,CAEA,iDAKE,UAAW,CACX,cAAe,CAHf,OAAQ,CAIR,QAAS,CANT,iBAAkB,CAClB,MAMF,CACA,2DASE,kBAAmB,CAFnB,YAAa,CACb,qBAAsB,CAFtB,WAAY,CAIZ,sBAAuB,CAEvB,aAAc,CARd,aAAc,CACd,aAAc,CAJd,cAAe,CAEf,OAAQ,CADR,KAAM,CASN,iBAEF,CACA,iDACE,cAAe,CACf,QAAS,CACT,iBACF,CACA,uDACE,cAAe,CACf,QAAS,CACT,iBACF,CAEA,+CAUE,oBAAqB,CARrB,YAAa,CAMb,YAAa,CACb,kBAAmB,CAKnB,SAAW,CAPX,WAAY,CAIZ,sBAAuB,CARvB,QAAS,CAUT,aAAc,CARd,cAAe,CACf,cAAe,CALf,cAAe,CAGf,0BAA2B,CAQ3B,iBAGF,CAEA,qCACE,cAAe,CAMf,aAAc,CALd,QAAS,CAIT,WAAY,CAFZ,SAAU,CADV,iBAAkB,CAElB,UAGF,CAEA,2CACE,cAAe,CAGf,aAAc,CAFd,QAAS,CACT,iBAEF,CAEA,8BAKE,QAAS,CAHT,MAAO,CAIP,WAAY,CAHZ,SAAU,CACV,KAGF,CAEA,4BAEE,eAAgB,CADhB,eAEF,CAEA,2BACE,gBAAiB,CACjB,eAAgB,CAChB,QAAS,CACT,SACF,CAEA,2BAEE,eAAgB,CADhB,oBAEF,CAEA,yBACE,eACF,CAEA,qBAEE,wBAA0B,CAD1B,yBAEF,CAKA,yBACE,yBACE,WACF,CAEA,4BAEE,0BAA4B,CAD5B,gBAEF,CAEA,yBACE,uBAAwB,CACxB,uCACF,CAEA,oDAEE,gBACF,CAEA,yBACE,yBACF,CACF,CAEA,yBACE,yBACE,WACF,CAEA,4BAEE,0BAA4B,CAD5B,gBAEF,CAEA,yBACE,sBACF,CAEA,oDAEE,gBACF,CAEA,yBACE,yBACF,CACF,CAEA,mBAIE,6BAAoC,CAMpC,kBAAmB,CACnB,cAAe,CACf,eAAgB,CALhB,QAAS,CADT,QAAS,CAET,eAAgB,CAHhB,iBAAkB,CAJlB,cAAe,CACf,iBAAkB,CAOlB,yBAA6B,CAN7B,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAAiB,CAUjB,iBACF,CAGA,yCACE,eAAgB,CAChB,UACF,CAIA,iBACE,2BACF,CAIA,yBAGE,oBAAsB,CACtB,oBAAsB,CAGtB,0BAA4B,CAF5B,kBAAoB,CACpB,mBAAqB,CALrB,wBAA0B,CAO1B,2BAA6B,CAN7B,oBAOF,CAIA,WACE,yBACF,CAIA,aACE,uBAAyB,CACzB,yBACF,CAEA,aACE,uBAAyB,CACzB,0BACF,CAMA,aACE,WACF,CAEA,iBACE,eACF",sourcesContent:["/* background div */\n#calibration-background {\n  z-index: 999999990;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n  /* background: #eee; */\n  overflow: hidden;\n  overflow-y: scroll;\n  user-select: none;\n  box-sizing: border-box;\n  text-align: center;\n  scrollbar-width: none;\n}\n\n#calibration-background::-webkit-scrollbar {\n  width: 0;\n  display: none;\n}\n\n#calibration-background * {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n}\n\n#calibration-background p {\n  line-height: 150%;\n}\n\n.calibration-instruction {\n  position: absolute;\n  user-select: none;\n  pointer-events: none;\n}\n\n.calibration-instruction-scrollable {\n  height: 200%;\n}\n\n.calibration-trackDistance-check-progessBar-container {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 40px;\n  background-color: #f3f3f3;\n  z-index: 999999995;\n}\n\n.calibration-trackDistance-check-progessBar {\n  height: 100%;\n  width: 0%;\n  background-color: #4caf50;\n  transition: width 0.3s ease;\n}\n\n.calibration-trackDistance-check-progessBar-text {\n  position: absolute;\n  top: 1%;\n  left: 2%;\n  /* transform: translate(-50%, -80%); */\n  color: #000;\n  font-size: 30px;\n  margin: 0;\n}\n.calibration-trackDistance-check-viewingDistance-container {\n  position: fixed;\n  top: 0;\n  right: 0;\n  max-width: 50%;\n  min-width: 50%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 999999995;\n  line-height: 1;\n}\n.calibration-trackDistance-check-viewingDistance {\n  font-size: 54vh;\n  margin: 0;\n  text-align: center;\n}\n.calibration-trackDistance-check-viewingDistance-units {\n  font-size: 30vh;\n  margin: 0;\n  text-align: center;\n}\n\n.calibration-checkSize-lengthDisplay-container {\n  position: fixed;\n  bottom: 180px;\n  left: 50%;\n  transform: translateX(-50%);\n  max-width: 100%;\n  min-width: auto;\n  height: auto;\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n  justify-content: center;\n  z-index: 999999995;\n  line-height: 1;\n  gap: 0.15em;\n}\n\n.calibration-checkSize-lengthDisplay {\n  font-size: 30vh;\n  margin: 0;\n  text-align: center;\n  padding: 0;\n  width: auto;\n  min-width: 0;\n  line-height: 1;\n}\n\n.calibration-checkSize-lengthDisplay-units {\n  font-size: 15vh;\n  margin: 0;\n  text-align: center;\n  line-height: 1;\n}\n\n.calibration-instruction-left {\n  /* use only the left half of the screen */\n  left: 0;\n  right: 50%;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n}\n\n.calibration-instruction h1 {\n  min-width: 360px;\n  font-weight: 700;\n}\n\n.calibration-instruction * {\n  font-size: 1.4rem;\n  line-height: 1.6;\n  margin: 0;\n  padding: 0;\n}\n\n.calibration-instruction p {\n  white-space: pre-line;\n  margin-top: 1rem;\n}\n\n.calibration-description {\n  line-height: 1.6;\n}\n\n.rc-hang-description {\n  margin-top: 50vh !important;\n  font-size: 1rem !important;\n}\n\n/* -------------------------------------------------------------------------- */\n/* Screen size specific */\n\n@media (min-width: 481px) {\n  .calibration-instruction {\n    margin: 2rem;\n  }\n\n  .calibration-instruction h1 {\n    line-height: 100%;\n    font-size: 2.5rem !important;\n  }\n\n  .calibration-description {\n    width: calc(100% - 4rem);\n    width: max(min(100% - 7rem, 864px), 300px);\n  }\n\n  .calibration-description,\n  .calibration-description * {\n    font-size: 1.4rem;\n  }\n\n  .calibration-credit-text {\n    font-size: 0.9rem !important;\n  }\n}\n\n@media (max-width: 480px) {\n  .calibration-instruction {\n    margin: 1rem;\n  }\n\n  .calibration-instruction h1 {\n    line-height: 120%;\n    font-size: 1.8rem !important;\n  }\n\n  .calibration-description {\n    width: calc(90% - 6rem);\n  }\n\n  .calibration-description,\n  .calibration-description * {\n    font-size: 1.4rem;\n  }\n\n  .calibration-credit-text {\n    font-size: 0.7rem !important;\n  }\n}\n\n.float-instruction {\n  position: fixed;\n  text-align: center;\n  user-select: none;\n  background: rgba(255, 255, 255, 0.9);\n  padding: 10px 17px;\n  margin: 0;\n  left: 50%;\n  max-width: 25rem;\n  transform: translate(-50%, 0);\n  border-radius: 10px;\n  font-size: 1rem;\n  font-weight: 500;\n  z-index: 999999991;\n}\n\n/* Blindspot-specific instruction styling - no white background */\n.float-instruction.blindspot-instruction {\n  background: none;\n  color: black;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.swal2-container {\n  z-index: 999999999 !important;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.calibration-credit-text {\n  position: fixed !important;\n  width: 100% !important;\n  bottom: 3px !important;\n  color: #999 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  line-height: 100% !important;\n  text-align: center !important;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.lock-view {\n  overflow: hidden !important;\n}\n\n/* -------------------------------------------------------------------------- */\n\n.rc-lang-ltr {\n  direction: ltr !important;\n  text-align: left !important;\n}\n\n.rc-lang-rtl {\n  direction: rtl !important;\n  text-align: right !important;\n}\n\n/* -------------------------------------------------------------------------- */\n/* --------------------------------- CURSOR --------------------------------- */\n/* -------------------------------------------------------------------------- */\n\n.cursor-grab {\n  cursor: grab;\n}\n\n.cursor-grabbing {\n  cursor: grabbing;\n}\n"],sourceRoot:""}]);const o=a},2535:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(1354),i=n.n(s),r=n(6314),a=n.n(r)()(i());a.push([e.id,".swal2-container{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif!important}.my__swal2__icon{font-weight:700!important;-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.my__swal2__icon *{color:#019267!important}.my__swal2__title{color:#000!important;font-size:2rem!important;font-weight:700!important;margin-bottom:0!important;margin-left:2.5rem!important}.my__swal2__html,.my__swal2__title{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.my__swal2__html{color:#444!important;font-size:1.2rem!important;font-weight:400!important;line-height:150%!important;margin:1.6rem;margin-left:2.5rem!important}.my__swal2__html__center{text-align:center!important}.swal2-popup .swal2-confirm{background-color:#019267!important;color:#fff!important;font-size:1.2rem!important}.swal2-popup .swal2-confirm:hover{background-color:#016b4a!important}.swal2-popup .swal2-confirm:active{background-color:#014d35!important}.animate__animated.animate__fadeInUp,.animate__animated.animate__fadeOutDown{--animate-duration:400ms!important;--animate-delay:0!important}.fadeInUp,.fadeOutDown{animation-delay:0!important;animation-duration:.4s!important}#custom-radio-group{align-items:center;align-self:center;display:flex;flex-direction:row;justify-content:left;padding-left:1.75rem}#custom-radio-group label{display:flex;flex-direction:row;font-size:1.4rem;margin-right:10px}#custom-radio-group input{margin-right:5px;width:auto}.camera-selection-popup{bottom:auto!important;left:50%!important;position:fixed!important;top:0!important;transform:translateX(-50%)!important}.camera-selection-popup,.camera-selection-popup .swal2-container{max-width:none!important;overflow:visible!important}.camera-selection-popup.swal2-popup{max-width:none!important;min-width:-moz-fit-content!important;min-width:fit-content!important;width:-moz-fit-content!important;width:fit-content!important}.camera-selection-popup video{transform:scaleX(-1)!important}.camera-selection-popup .my__swal2__html{margin:0!important}.camera-selection-popup .swal2-content,.camera-selection-popup .swal2-html-container,.camera-selection-popup.my__swal2__container{margin-top:0!important;padding-top:0!important}.camera-no-overlay,.camera-no-overlay.swal2-popup{background:#eee!important;background-color:#eee!important;border:none!important;box-shadow:none!important}","",{version:3,sources:["webpack://./src/css/swal.css"],names:[],mappings:"AAAA,iBACE,kIAEF,CAEA,iBACE,yBAA4B,CAC5B,kCAA4B,CAA5B,+BAA4B,CAA5B,0BACF,CAEA,mBACE,uBACF,CAEA,kBACE,oBAAsB,CACtB,wBAA0B,CAC1B,yBAA4B,CAE5B,yBAA2B,CAC3B,4BACF,CAEA,mCALE,kCAA4B,CAA5B,+BAA4B,CAA5B,0BAaF,CARA,iBAGE,oBAAsB,CACtB,0BAA4B,CAE5B,yBAA8B,CAD9B,0BAA4B,CAJ5B,aAAc,CACd,4BAMF,CAEA,yBACE,2BACF,CAGA,4BACE,kCAAoC,CACpC,oBAAsB,CACtB,0BACF,CAEA,kCACE,kCACF,CAEA,mCACE,kCACF,CAEA,6EAEE,kCAAoC,CACpC,2BACF,CAEA,uBAGE,2BAA6B,CAD7B,gCAEF,CAEA,oBAGE,kBAAmB,CAGnB,iBAAkB,CALlB,YAAa,CACb,kBAAmB,CAGnB,oBAAqB,CADrB,oBAGF,CAEA,0BAEE,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAHjB,iBAIF,CAGA,0BAEE,gBAAiB,CADjB,UAEF,CAGA,wBAKE,qBAAuB,CAFvB,kBAAoB,CAFpB,wBAA0B,CAC1B,eAAiB,CAEjB,oCAKF,CAGA,iEANE,wBAA0B,CAE1B,0BAOF,CAGA,oCACE,wBAA0B,CAE1B,oCAAiC,CAAjC,+BAAiC,CACjC,gCAA6B,CAA7B,2BACF,CAGA,8BACE,8BACF,CAGA,yCACE,kBACF,CAaA,kIAEE,sBAAwB,CADxB,uBAEF,CAUA,kDAGE,yBAA2B,CAC3B,+BAAiC,CAFjC,qBAAuB,CADvB,yBAIF",sourcesContent:[".swal2-container {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif !important;\n}\n\n.my__swal2__icon {\n  font-weight: bold !important;\n  user-select: none !important;\n}\n\n.my__swal2__icon * {\n  color: #019267 !important;\n}\n\n.my__swal2__title {\n  color: #000 !important;\n  font-size: 2rem !important;\n  font-weight: bold !important;\n  user-select: none !important;\n  margin-bottom: 0 !important;\n  margin-left: 2.5rem !important;\n}\n\n.my__swal2__html {\n  margin: 1.6rem;\n  margin-left: 2.5rem !important;\n  color: #444 !important;\n  font-size: 1.2rem !important;\n  line-height: 150% !important;\n  font-weight: normal !important;\n  user-select: none !important;\n}\n\n.my__swal2__html__center {\n  text-align: center !important;\n}\n\n/* Ensure SweetAlert confirm buttons are green */\n.swal2-popup .swal2-confirm {\n  background-color: #019267 !important;\n  color: #fff !important;\n  font-size: 1.2rem !important;\n}\n\n.swal2-popup .swal2-confirm:hover {\n  background-color: #016b4a !important;\n}\n\n.swal2-popup .swal2-confirm:active {\n  background-color: #014d35 !important;\n}\n\n.animate__animated.animate__fadeInUp,\n.animate__animated.animate__fadeOutDown {\n  --animate-duration: 400ms !important;\n  --animate-delay: 0 !important;\n}\n\n.fadeInUp,\n.fadeOutDown {\n  animation-duration: 400ms !important;\n  animation-delay: 0 !important;\n}\n\n#custom-radio-group {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-left: 1.75rem;\n  justify-content: left;\n  align-self: center;\n}\n\n#custom-radio-group label {\n  margin-right: 10px;\n  display: flex;\n  flex-direction: row;\n  font-size: 1.4rem;\n}\n\n/* input inside the label */\n#custom-radio-group input {\n  width: auto;\n  margin-right: 5px;\n}\n\n/* Camera selection popup specific positioning */\n.camera-selection-popup {\n  position: fixed !important;\n  top: 0 !important;\n  left: 50% !important;\n  transform: translateX(-50%) !important;\n  bottom: auto !important;\n  max-width: none !important;\n  /* Remove width: auto !important to allow dynamic width calculation */\n  overflow: visible !important;\n}\n\n/* Ensure the popup container can expand beyond viewport */\n.camera-selection-popup .swal2-container {\n  overflow: visible !important;\n  max-width: none !important;\n}\n\n/* Override SweetAlert2's default max-width for camera selection popup */\n.camera-selection-popup.swal2-popup {\n  max-width: none !important;\n  /* Remove width: auto !important to allow dynamic width calculation */\n  min-width: fit-content !important;\n  width: fit-content !important;\n}\n\n/* Mirror video previews in camera selection popup */\n.camera-selection-popup video {\n  transform: scaleX(-1) !important;\n}\n\n/* Remove margins from HTML container in camera selection popup */\n.camera-selection-popup .my__swal2__html {\n  margin: 0 !important;\n}\n\n/* Remove only top padding and margin from camera selection popup */\n.camera-selection-popup.my__swal2__container {\n  padding-top: 0 !important;\n  margin-top: 0 !important;\n}\n\n.camera-selection-popup .swal2-content {\n  padding-top: 0 !important;\n  margin-top: 0 !important;\n}\n\n.camera-selection-popup .swal2-html-container {\n  padding-top: 0 !important;\n  margin-top: 0 !important;\n}\n\n/* Remove any overlay effects completely */\n.camera-no-overlay {\n  box-shadow: none !important;\n  border: none !important;\n  background: #eee !important;\n  background-color: #eee !important;\n}\n\n.camera-no-overlay.swal2-popup {\n  box-shadow: none !important;\n  border: none !important;\n  background: #eee !important;\n  background-color: #eee !important;\n}\n"],sourceRoot:""}]);const o=a},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(s)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);s&&a[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},1354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),r="/*# ".concat(i," */");return[t].concat([r]).join("\n")}return[t].join("\n")}},7158:function(e){var t=function(){"use strict";var e,t,n,s,i,r,a,o,l,c,u,h,d,p,f,m,g,y,A,w,b,v,x,C="leader-line",k={top:1,right:2,bottom:3,left:4},E={straight:1,arc:2,fluid:3,magnet:4,grid:5},S="behind",I=C+"-defs",T={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},_={behind:S,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},N={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},D=[1,2,3,4],M="auto",B={x:"left",y:"top",width:"width",height:"height"},R=10,F=30,O=.5522847,L=.25*Math.PI,z=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,V="http://www.w3.org/2000/svg",P="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,W=!P&&!!document.uniqueID,G="MozAppearance"in document.documentElement.style,U=!(P||G||!window.chrome||!window.CSS),j=!(P||W||G||U||window.chrome||!("WebkitAppearance"in document.documentElement.style)),q=W||P?.2:.1,H={path:3,lineColor:"coral",lineSize:4,plugSE:[S,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},Y=(b={}.toString,v={}.hasOwnProperty.toString,x=v.call(Object),function(e){var t,n;return e&&"[object Object]"===b.call(e)&&(!(t=Object.getPrototypeOf(e))||(n=t.hasOwnProperty("constructor")&&t.constructor)&&"function"==typeof n&&v.call(n)===x)}),K=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},Z=(p={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},f=1e3/60/2,m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,f)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},y=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},A=[],w=0,{add:function(e,t,n,s,i,r,a){var o,l,c,u,h,d,m,g,y,b,v,x,C,k=++w;function E(t,n){return{value:e(n),timeRatio:t,outputRatio:n}}if("string"==typeof i&&(i=p[i]),e=e||function(){},n<f)l=[E(0,0),E(1,1)];else{if(c=f/n,l=[E(0,0)],0===i[0]&&0===i[1]&&1===i[2]&&1===i[3])for(h=c;h<=1;h+=c)l.push(E(h,h));else for(d=u=(h=c)/10;d<=1;d+=u)void 0,b=(y=(g=d)*g)*g,C=3*(v=1-g)*y,h<=(m={x:(x=v*v*3*g)*i[0]+C*i[2]+b,y:x*i[1]+C*i[3]+b}).x&&(l.push(E(m.x,m.y)),h+=c);l.push(E(1,1))}return o={animId:k,frameCallback:t,duration:n,count:s,frames:l,reverse:!!r},A.push(o),!1!==a&&oe(o,a),k},remove:function(e){var t;A.some((function(n,s){return n.animId===e&&(t=s,!(n.framesStart=null))}))&&A.splice(t,1)},start:function(e,t,n){A.some((function(s){return s.animId===e&&(s.reverse=!!t,oe(s,n),!0)}))},stop:function(e,t){var n;return A.some((function(s){return s.animId===e&&(t?null!=s.lastFrame&&(n=s.frames[s.lastFrame].timeRatio):(n=(Date.now()-s.framesStart)/s.duration,s.reverse&&(n=1-n),n<0?n=0:1<n&&(n=1)),!(s.framesStart=null))})),n},validTiming:function(e){return"string"==typeof e?p[e]:Array.isArray(e)&&[0,1,2,3].every((function(t){return y(e[t])&&0<=e[t]&&e[t]<=1}))?[e[0],e[1],e[2],e[3]]:null}}),Q=(h={},re.m=u=[function(e,t,n){n.r(t);var s=[],i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return clearTimeout(e)},a=Date.now(),o=void 0;function l(){var e=void 0,t=void 0;o&&(r.call(window,o),o=null),s.forEach((function(t){var n;(n=t.event)&&(t.event=null,t.listener(n),e=!0)})),e?(a=Date.now(),t=!0):Date.now()-a<500&&(t=!0),t&&(o=i.call(window,l))}function c(e){var t=-1;return s.some((function(n,s){return n.listener===e&&(t=s,!0)})),t}var u={add:function(e){var t=void 0;return-1===c(e)?(s.push(t={listener:e}),function(e){t.event=e,o||l()}):null},remove:function(e){var t;-1<(t=c(e))&&(s.splice(t,1),!s.length&&o&&(r.call(window,o),o=null))}};t.default=u}],re.c=h,re.d=function(e,t,n){re.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},re.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},re.t=function(e,t){if(1&t&&(e=re(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(re.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)re.d(n,s,function(t){return e[t]}.bind(null,s));return n},re.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return re.d(t,"a",t),t},re.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},re.p="",re(re.s=0).default),X={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:S},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:S},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:S},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},$={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},J="fade",ee=[],te={},ne=0,se={},ie=0;function re(e){if(h[e])return h[e].exports;var t=h[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,re),t.l=!0,t.exports}function ae(){var e=Date.now(),t=!1;d&&(g.call(window,d),d=null),A.forEach((function(n){var s,i,r;if(n.framesStart){if((s=e-n.framesStart)>=n.duration&&n.count&&n.loopsLeft<=1)return r=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(r.value,!0,r.timeRatio,r.outputRatio),void(n.framesStart=null);if(s>n.duration){if(i=Math.floor(s/n.duration),n.count){if(i>=n.loopsLeft)return r=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(r.value,!0,r.timeRatio,r.outputRatio),void(n.framesStart=null);n.loopsLeft-=i}n.framesStart+=n.duration*i,s=e-n.framesStart}n.reverse&&(s=n.duration-s),r=n.frames[n.lastFrame=Math.round(s/f)],!1!==n.frameCallback(r.value,!1,r.timeRatio,r.outputRatio)?t=!0:n.framesStart=null}})),t&&(d=m.call(window,ae))}function oe(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,ae()}function le(e,t){var n,s;return typeof e!=typeof t||(n=Y(e)?"obj":Array.isArray(e)?"array":"")!=(Y(t)?"obj":Array.isArray(t)?"array":"")||("obj"===n?le(s=Object.keys(e).sort(),Object.keys(t).sort())||s.some((function(n){return le(e[n],t[n])})):"array"===n?e.length!==t.length||e.some((function(e,n){return le(e,t[n])})):e!==t)}function ce(e){return e?Y(e)?Object.keys(e).reduce((function(t,n){return t[n]=ce(e[n]),t}),{}):Array.isArray(e)?e.map(ce):e:e}function ue(e){var t,n,s,i=1,r=e=(e+"").trim();function a(e){var t=1,n=z.exec(e);return n&&(t=parseFloat(n[1]),n[2]?t=0<=t&&t<=100?t/100:1:(t<0||1<t)&&(t=1)),t}return(t=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(n=t[1].toLowerCase(),s=t[2].trim().split(/\s*,\s*/),"rgba"===n&&4===s.length?(i=a(s[3]),r="rgb("+s.slice(0,3).join(", ")+")"):"hsla"===n&&4===s.length?(i=a(s[3]),r="hsl("+s.slice(0,3).join(", ")+")"):"hwb"===n&&4===s.length?(i=a(s[3]),r="hwb("+s.slice(0,3).join(", ")+")"):"gray"===n&&2===s.length?(i=a(s[1]),r="gray("+s[0]+")"):"device-cmyk"===n&&5<=s.length&&(i=a(s[4]),r="device-cmyk("+s.slice(0,4).join(", ")+")")):(t=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?r=t[1]?(i=parseInt(t[2],16)/255,"#"+t[1]):(i=parseInt(t[4]+t[4],16)/255,"#"+t[3]):"transparent"===e.toLocaleLowerCase()&&(i=0),[i,r]}function he(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function de(e,t){var n,s,i,r,a={};if(!(i=e.ownerDocument))return null;if(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_DISCONNECTED)return null;for(s in n=e.getBoundingClientRect())a[s]=n[s];if(!t){if(!(r=i.defaultView))return null;a.left+=r.pageXOffset,a.right+=r.pageXOffset,a.top+=r.pageYOffset,a.bottom+=r.pageYOffset}return a}function pe(e,t){var n,s,i=[],r=e;for(t=t||window;;){if(!(n=r.ownerDocument))return null;if(!(s=n.defaultView))return null;if(s===t)break;if(!(r=s.frameElement))return null;i.unshift(r)}return i}function fe(e,t){var n,s,i=0,r=0;return(s=pe(e,t=t||window))?s.length?(s.forEach((function(e,t){var n,s,a=de(e,0<t);i+=a.left,r+=a.top,s=(n=e).ownerDocument.defaultView.getComputedStyle(n,""),a={left:n.clientLeft+parseFloat(s.paddingLeft),top:n.clientTop+parseFloat(s.paddingTop)},i+=a.left,r+=a.top})),(n=de(e,!0)).left+=i,n.right+=i,n.top+=r,n.bottom+=r,n):de(e):null}function me(e,t){var n=e.x-t.x,s=e.y-t.y;return Math.sqrt(n*n+s*s)}function ge(e,t,n){var s=t.x-e.x,i=t.y-e.y;return{x:e.x+s*n,y:e.y+i*n,angle:Math.atan2(i,s)/(Math.PI/180)}}function ye(e,t,n){var s=Math.atan2(e.y-t.y,t.x-e.x);return{x:t.x+Math.cos(s)*n,y:t.y+Math.sin(s)*n*-1}}function Ae(e,t,n,s,i){var r=i*i,a=r*i,o=1-i,l=o*o,c=l*o,u=c*e.x+3*l*i*t.x+3*o*r*n.x+a*s.x,h=c*e.y+3*l*i*t.y+3*o*r*n.y+a*s.y,d=e.x+2*i*(t.x-e.x)+r*(n.x-2*t.x+e.x),p=e.y+2*i*(t.y-e.y)+r*(n.y-2*t.y+e.y),f=t.x+2*i*(n.x-t.x)+r*(s.x-2*n.x+t.x),m=t.y+2*i*(n.y-t.y)+r*(s.y-2*n.y+t.y),g=o*e.x+i*t.x,y=o*e.y+i*t.y,A=o*n.x+i*s.x,w=o*n.y+i*s.y,b=90-180*Math.atan2(d-f,p-m)/Math.PI;return{x:u,y:h,fromP2:{x:d,y:p},toP1:{x:f,y:m},fromP1:{x:g,y},toP2:{x:A,y:w},angle:b+=180<b?-180:180}}function we(e,t,n,s,i){function r(e,t,n,s,i){return e*(e*(-3*t+9*n-9*s+3*i)+6*t-12*n+6*s)-3*t+3*n}var a,o,l,c,u=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,d=(i=null==i||1<i?1:i<0?0:i)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach((function(i,p){o=r(a=d*i+d,e.x,t.x,n.x,s.x),l=r(a,e.y,t.y,n.y,s.y),c=o*o+l*l,h+=u[p]*Math.sqrt(c)})),d*h}function be(e,t,n,s,i){for(var r,a=.5,o=1-a;r=we(e,t,n,s,o),!(Math.abs(r-i)<=.01);)o+=(r<i?1:-1)*(a/=2);return o}function ve(e,t){var n;return e.forEach((function(e){var s=t?e.map((function(e){var n={x:e.x,y:e.y};return t(n),n})):e;(n=n||[{type:"M",values:[s[0].x,s[0].y]}]).push(s.length?2===s.length?{type:"L",values:[s[1].x,s[1].y]}:{type:"C",values:[s[1].x,s[1].y,s[2].x,s[2].y,s[3].x,s[3].y]}:{type:"Z",values:[]})})),n}function xe(e){var t=[],n=0;return e.forEach((function(e){var s=(2===e.length?me:we).apply(null,e);t.push(s),n+=s})),{segsLen:t,lenAll:n}}function Ce(e,t){return null==e||null==t||e.length!==t.length||e.some((function(e,n){var s=t[n];return e.type!==s.type||e.values.some((function(e,t){return e!==s.values[t]}))}))}function ke(e,t,n){e.events[t]?e.events[t].indexOf(n)<0&&e.events[t].push(n):e.events[t]=[n]}function Ee(e,t,n){var s;e.events[t]&&-1<(s=e.events[t].indexOf(n))&&e.events[t].splice(s,1)}function Se(e){a&&clearTimeout(a),ee.push(e),a=setTimeout((function(){ee.forEach((function(e){e()})),ee=[]}),0)}function Ie(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function Te(e){e.reflowTargets.forEach((function(e){var t;t=e,setTimeout((function(){var e=t.parentNode,n=t.nextSibling;e.insertBefore(e.removeChild(t),n)}),0)})),e.reflowTargets=[]}function _e(e,t,n,s,i,r,a){var l,c,u;"auto-start-reverse"===n?("boolean"!=typeof o&&(t.setAttribute("orient","auto-start-reverse"),o=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),o?t.setAttribute("orient",n):((l=i.createSVGTransform()).setRotate(180,0,0),r.transform.baseVal.appendItem(l),t.setAttribute("orient","auto"),u=!0)):(t.setAttribute("orient",n),!1===o&&r.transform.baseVal.clear()),c=t.viewBox.baseVal,u?(c.x=-s.right,c.y=-s.bottom):(c.x=s.left,c.y=s.top),c.width=s.width,c.height=s.height,W&&Ie(e,a)}function Ne(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function De(e,t){Object.keys(t).forEach((function(n){var s=t[n];e[n]=null!=s.iniValue?s.hasSE?[s.iniValue,s.iniValue]:s.iniValue:s.hasSE?s.hasProps?[{},{}]:[]:s.hasProps?{}:null}))}function Me(e,t,n,s,i){return s!==t[n]&&(t[n]=s,i&&i.forEach((function(t){t(e,s,n)})),!0)}function Be(e){function t(e,t){return e+parseFloat(t)}var n=e.document,s=e.getComputedStyle(n.documentElement,""),i=e.getComputedStyle(n.body,""),r={x:0,y:0};return"static"!==i.position?(r.x-=[s.marginLeft,s.borderLeftWidth,s.paddingLeft,i.marginLeft,i.borderLeftWidth].reduce(t,0),r.y-=[s.marginTop,s.borderTopWidth,s.paddingTop,i.marginTop,i.borderTopWidth].reduce(t,0)):"static"!==s.position&&(r.x-=[s.marginLeft,s.borderLeftWidth].reduce(t,0),r.y-=[s.marginTop,s.borderTopWidth].reduce(t,0)),r}function Re(e){var t,n=e.document;n.getElementById(I)||(t=(new e.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',"image/svg+xml"),n.body.appendChild(t.documentElement),function(e){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData||function(){function t(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var n={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},s=-1!==e.navigator.userAgent.indexOf("MSIE ");function i(e){if(!e||0===e.length)return[];var n=new t(e),s=[];if(n.initialCommandIsMoveTo())for(;n.hasMoreData();){var i=n.parseSegment();if(null===i)break;s.push(i)}return s}function r(e){return e.map((function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}}))}function a(e){var t=[],n=null,s=null,i=null,r=null,a=null,o=null,l=null;return e.forEach((function(e){var c,u,d,p,f,m,g,y,A,w,b,v,x,C,k;"M"===e.type?(C=e.values[0],k=e.values[1],t.push({type:"M",values:[C,k]}),r=o=C,a=l=k):"C"===e.type?(d=e.values[0],p=e.values[1],c=e.values[2],u=e.values[3],C=e.values[4],k=e.values[5],t.push({type:"C",values:[d,p,c,u,C,k]}),s=c,i=u,r=C,a=k):"L"===e.type?(C=e.values[0],k=e.values[1],t.push({type:"L",values:[C,k]}),r=C,a=k):"H"===e.type?(C=e.values[0],t.push({type:"L",values:[C,a]}),r=C):"V"===e.type?(k=e.values[0],t.push({type:"L",values:[r,k]}),a=k):"S"===e.type?(c=e.values[0],u=e.values[1],C=e.values[2],k=e.values[3],m="C"===n||"S"===n?(f=r+(r-s),a+(a-i)):(f=r,a),t.push({type:"C",values:[f,m,c,u,C,k]}),s=c,i=u,r=C,a=k):"T"===e.type?(C=e.values[0],k=e.values[1],p="Q"===n||"T"===n?(d=r+(r-s),a+(a-i)):(d=r,a),f=r+2*(d-r)/3,m=a+2*(p-a)/3,g=C+2*(d-C)/3,y=k+2*(p-k)/3,t.push({type:"C",values:[f,m,g,y,C,k]}),s=d,i=p,r=C,a=k):"Q"===e.type?(d=e.values[0],p=e.values[1],C=e.values[2],k=e.values[3],f=r+2*(d-r)/3,m=a+2*(p-a)/3,g=C+2*(d-C)/3,y=k+2*(p-k)/3,t.push({type:"C",values:[f,m,g,y,C,k]}),s=d,i=p,r=C,a=k):"A"===e.type?(A=e.values[0],w=e.values[1],b=e.values[2],v=e.values[3],x=e.values[4],C=e.values[5],k=e.values[6],0===A||0===w?(t.push({type:"C",values:[r,a,C,k,C,k]}),r=C,a=k):r===C&&a===k||h(r,a,C,k,A,w,b,v,x).forEach((function(e){t.push({type:"C",values:e}),r=C,a=k}))):"Z"===e.type&&(t.push(e),r=o,a=l),n=e.type})),t}t.prototype={parseSegment:function(){var e=this._string[this._currentIndex],t=n[e]?n[e]:null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||"0"<=e&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var s=null,i=(this._prevCommand=t).toUpperCase();return"H"===i||"V"===i?s=[this._parseNumber()]:"M"===i||"L"===i||"T"===i?s=[this._parseNumber(),this._parseNumber()]:"S"===i||"Q"===i?s=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===i?s=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===i?s=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===i&&(this._skipOptionalSpaces(),s=[]),null===s||0<=s.indexOf(null)?null:{type:t,values:s}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return n[e]?n[e]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,n=1,s=0,i=1,r=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,i=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var o=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==o)for(var l=this._currentIndex-1,c=1;o<=l;)t+=c*(this._string[l]-"0"),--l,c*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)n*=10,s+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==a&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,r=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var u=t+s;return u*=i,e&&(u*=Math.pow(10,r*e)),a===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),u)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};var o=e.SVGPathElement.prototype.setAttribute,l=e.SVGPathElement.prototype.removeAttribute,c=e.Symbol?e.Symbol():"__cachedPathData",u=e.Symbol?e.Symbol():"__cachedNormalizedPathData",h=function(e,t,n,s,i,r,a,o,l,c){function u(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}var d,p,f,m,g,y,A,w,b,v,x,C,k,E,S,I=(d=a,Math.PI*d/180),T=[];c?(E=c[0],S=c[1],C=c[2],k=c[3]):(e=(p=u(e,t,-I)).x,t=p.y,1<(y=(m=(e-(n=(f=u(n,s,-I)).x))/2)*m/(i*i)+(g=(t-(s=f.y))/2)*g/(r*r))&&(i*=y=Math.sqrt(y),r*=y),b=(A=i*i)*(w=r*r)-A*g*g-w*m*m,v=A*g*g+w*m*m,C=(x=(o===l?-1:1)*Math.sqrt(Math.abs(b/v)))*i*g/r+(e+n)/2,k=x*-r*m/i+(t+s)/2,E=Math.asin(parseFloat(((t-k)/r).toFixed(9))),S=Math.asin(parseFloat(((s-k)/r).toFixed(9))),e<C&&(E=Math.PI-E),n<C&&(S=Math.PI-S),E<0&&(E=2*Math.PI+E),S<0&&(S=2*Math.PI+S),l&&S<E&&(E-=2*Math.PI),!l&&E<S&&(S-=2*Math.PI));var _,N,D,M=S-E;Math.abs(M)>120*Math.PI/180&&(_=S,N=n,D=s,S=l&&E<S?E+120*Math.PI/180*1:E+120*Math.PI/180*-1,n=C+i*Math.cos(S),s=k+r*Math.sin(S),T=h(n,s,N,D,i,r,a,0,l,[S,_,C,k])),M=S-E;var B=Math.cos(E),R=Math.sin(E),F=Math.cos(S),O=Math.sin(S),L=Math.tan(M/4),z=4/3*i*L,V=4/3*r*L,P=[e,t],W=[e+z*R,t-V*B],G=[n+z*O,s-V*F],U=[n,s];if(W[0]=2*P[0]-W[0],W[1]=2*P[1]-W[1],c)return[W,G,U].concat(T);T=[W,G,U].concat(T).join().split(",");var j=[],q=[];return T.forEach((function(e,t){t%2?q.push(u(T[t-1],T[t],I).y):q.push(u(T[t],T[t+1],I).x),6===q.length&&(j.push(q),q=[])})),j};e.SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[c]=null,this[u]=null),o.call(this,e,t)},e.SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[c]=null,this[u]=null),l.call(this,e)},e.SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize){if(this[u])return r(this[u]);this[c]?d=r(this[c]):(d=i(this.getAttribute("d")||""),this[c]=r(d));var t=a((n=[],h=l=o=s=null,d.forEach((function(e){var t,i,r,a,c,u,d=e.type;"M"===d?(c=e.values[0],u=e.values[1],n.push({type:"M",values:[c,u]}),s=l=c,o=h=u):"m"===d?(c=s+e.values[0],u=o+e.values[1],n.push({type:"M",values:[c,u]}),s=l=c,o=h=u):"L"===d?(c=e.values[0],u=e.values[1],n.push({type:"L",values:[c,u]}),s=c,o=u):"l"===d?(c=s+e.values[0],u=o+e.values[1],n.push({type:"L",values:[c,u]}),s=c,o=u):"C"===d?(t=e.values[0],i=e.values[1],r=e.values[2],a=e.values[3],c=e.values[4],u=e.values[5],n.push({type:"C",values:[t,i,r,a,c,u]}),s=c,o=u):"c"===d?(t=s+e.values[0],i=o+e.values[1],r=s+e.values[2],a=o+e.values[3],c=s+e.values[4],u=o+e.values[5],n.push({type:"C",values:[t,i,r,a,c,u]}),s=c,o=u):"Q"===d?(t=e.values[0],i=e.values[1],c=e.values[2],u=e.values[3],n.push({type:"Q",values:[t,i,c,u]}),s=c,o=u):"q"===d?(t=s+e.values[0],i=o+e.values[1],c=s+e.values[2],u=o+e.values[3],n.push({type:"Q",values:[t,i,c,u]}),s=c,o=u):"A"===d?(c=e.values[5],u=e.values[6],n.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],c,u]}),s=c,o=u):"a"===d?(c=s+e.values[5],u=o+e.values[6],n.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],c,u]}),s=c,o=u):"H"===d?(c=e.values[0],n.push({type:"H",values:[c]}),s=c):"h"===d?(c=s+e.values[0],n.push({type:"H",values:[c]}),s=c):"V"===d?(u=e.values[0],n.push({type:"V",values:[u]}),o=u):"v"===d?(u=o+e.values[0],n.push({type:"V",values:[u]}),o=u):"S"===d?(r=e.values[0],a=e.values[1],c=e.values[2],u=e.values[3],n.push({type:"S",values:[r,a,c,u]}),s=c,o=u):"s"===d?(r=s+e.values[0],a=o+e.values[1],c=s+e.values[2],u=o+e.values[3],n.push({type:"S",values:[r,a,c,u]}),s=c,o=u):"T"===d?(c=e.values[0],u=e.values[1],n.push({type:"T",values:[c,u]}),s=c,o=u):"t"===d?(c=s+e.values[0],u=o+e.values[1],n.push({type:"T",values:[c,u]}),s=c,o=u):"Z"!==d&&"z"!==d||(n.push({type:"Z",values:[]}),s=l,o=h)})),n));return this[u]=r(t),t}if(this[c])return r(this[c]);var n,s,o,l,h,d=i(this.getAttribute("d")||"");return this[c]=r(d),d},e.SVGPathElement.prototype.setPathData=function(e){if(0===e.length)s?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",n=0,i=e.length;n<i;n+=1){var r=e[n];0<n&&(t+=" "),t+=r.type,r.values&&0<r.values.length&&(t+=" "+r.values.join(" "))}this.setAttribute("d",t)}},e.SVGRectElement.prototype.getPathData=function(e){var t=this.x.baseVal.value,n=this.y.baseVal.value,s=this.width.baseVal.value,i=this.height.baseVal.value,r=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,o=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;s/2<r&&(r=s/2),i/2<o&&(o=i/2);var l=(l=[{type:"M",values:[t+r,n]},{type:"H",values:[t+s-r]},{type:"A",values:[r,o,0,0,1,t+s,n+o]},{type:"V",values:[n+i-o]},{type:"A",values:[r,o,0,0,1,t+s-r,n+i]},{type:"H",values:[t+r]},{type:"A",values:[r,o,0,0,1,t,n+i-o]},{type:"V",values:[n+o]},{type:"A",values:[r,o,0,0,1,t+r,n]},{type:"Z",values:[]}]).filter((function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]}));return e&&!0===e.normalize&&(l=a(l)),l},e.SVGCircleElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,s=this.r.baseVal.value,i=[{type:"M",values:[t+s,n]},{type:"A",values:[s,s,0,0,1,t,n+s]},{type:"A",values:[s,s,0,0,1,t-s,n]},{type:"A",values:[s,s,0,0,1,t,n-s]},{type:"A",values:[s,s,0,0,1,t+s,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(i=a(i)),i},e.SVGEllipseElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,s=this.rx.baseVal.value,i=this.ry.baseVal.value,r=[{type:"M",values:[t+s,n]},{type:"A",values:[s,i,0,0,1,t,n+i]},{type:"A",values:[s,i,0,0,1,t-s,n]},{type:"A",values:[s,i,0,0,1,t,n-i]},{type:"A",values:[s,i,0,0,1,t+s,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(r=a(r)),r},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e},e.SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e.push({type:"Z",values:[]}),e}}()}(e))}function Fe(e){var t,n,s,i,r,a,o,l,c,u,h,d,p,f,m,g,y,A,w,b=e.options,v=e.curStats,x=e.aplStats,C=v.position_socketXYSE,k=!1;function E(e,t){var n=1===t?{x:e.left+e.width/2,y:e.top}:2===t?{x:e.right,y:e.top+e.height/2}:3===t?{x:e.left+e.width/2,y:e.bottom}:{x:e.left,y:e.top+e.height/2};return n.socketId=t,n}function S(e){return{x:e.x,y:e.y}}if(v.position_path=b.path,v.position_lineStrokeWidth=v.line_strokeWidth,v.position_socketGravitySE=t=ce(b.socketGravitySE),n=[0,1].map((function(t){var n,s,i,r=b.anchorSE[t],a=e.optionIsAttach.anchorSE[t],o=!1!==a?se[r._id]:null,l=!1!==a&&o.conf.getStrokeWidth?o.conf.getStrokeWidth(o,e):0,c=!1!==a&&o.conf.getBBoxNest?o.conf.getBBoxNest(o,e,l):fe(r,e.baseWindow);return v.capsMaskAnchor_pathDataSE[t]=!1!==a&&o.conf.getPathData?o.conf.getPathData(o,e,l):(s=null!=(n=c).right?n.right:n.left+n.width,i=null!=n.bottom?n.bottom:n.top+n.height,[{type:"M",values:[n.left,n.top]},{type:"L",values:[s,n.top]},{type:"L",values:[s,i]},{type:"L",values:[n.left,i]},{type:"Z",values:[]}]),v.capsMaskAnchor_strokeWidthSE[t]=l,c})),o=-1,b.socketSE[0]&&b.socketSE[1]?(C[0]=E(n[0],b.socketSE[0]),C[1]=E(n[1],b.socketSE[1])):(b.socketSE[0]||b.socketSE[1]?(a=b.socketSE[0]?(r=0,1):(r=1,0),C[r]=E(n[r],b.socketSE[r]),(i=D.map((function(e){return E(n[a],e)}))).forEach((function(e){var t=me(e,C[r]);(t<o||-1===o)&&(C[a]=e,o=t)}))):(i=D.map((function(e){return E(n[1],e)})),D.map((function(e){return E(n[0],e)})).forEach((function(e){i.forEach((function(t){var n=me(e,t);(n<o||-1===o)&&(C[0]=e,C[1]=t,o=n)}))}))),[0,1].forEach((function(e){var t,s;b.socketSE[e]||(n[e].width||n[e].height?n[e].width||4!==C[e].socketId&&2!==C[e].socketId?n[e].height||1!==C[e].socketId&&3!==C[e].socketId||(C[e].socketId=0<=C[e?0:1].y-n[e].top?3:1):C[e].socketId=0<=C[e?0:1].x-n[e].left?2:4:(t=C[e?0:1].x-n[e].left,s=C[e?0:1].y-n[e].top,C[e].socketId=Math.abs(t)>=Math.abs(s)?0<=t?2:4:0<=s?3:1))}))),v.position_path!==x.position_path||v.position_lineStrokeWidth!==x.position_lineStrokeWidth||[0,1].some((function(e){return v.position_plugOverheadSE[e]!==x.position_plugOverheadSE[e]||(r=C[e],a=x.position_socketXYSE[e],r.x!==a.x||r.y!==a.y||r.socketId!==a.socketId)||(n=t[e],s=x.position_socketGravitySE[e],(i=null==n?"auto":Array.isArray(n)?"array":"number")!=(null==s?"auto":Array.isArray(s)?"array":"number")||("array"==i?n[0]!==s[0]||n[1]!==s[1]:n!==s));var n,s,i,r,a}))){switch(e.pathList.baseVal=s=[],e.pathList.animVal=null,v.position_path){case 1:s.push([S(C[0]),S(C[1])]);break;case 2:d="number"==typeof t[0]&&0<t[0]||"number"==typeof t[1]&&0<t[1],m=(p=L*(d?-1:1))-(f=Math.atan2(C[1].y-C[0].y,C[1].x-C[0].x)),g=Math.PI-f-p,y=me(C[0],C[1])/Math.sqrt(2)*O,A={x:C[0].x+Math.cos(m)*y,y:C[0].y+Math.sin(m)*y*-1},w={x:C[1].x+Math.cos(g)*y,y:C[1].y+Math.sin(g)*y*-1},s.push([S(C[0]),A,w,S(C[1])]);break;case 3:case 4:c=[t[0],4===v.position_path?0:t[1]],u=[],h=[],C.forEach((function(e,t){var n,s,i,r,a=c[t],o=Array.isArray(a)?{x:a[0],y:a[1]}:"number"==typeof a?1===e.socketId?{x:0,y:-a}:2===e.socketId?{x:a,y:0}:3===e.socketId?{x:0,y:a}:{x:-a,y:0}:(n=C[t?0:1],i=0<(s=v.position_plugOverheadSE[t])?120+(8<s?3.75*(s-8):0):80+(v.position_lineStrokeWidth>4?5*(v.position_lineStrokeWidth-4):0),1===e.socketId?((r=(e.y-n.y)/2)<i&&(r=i),{x:0,y:-r}):2===e.socketId?((r=(n.x-e.x)/2)<i&&(r=i),{x:r,y:0}):3===e.socketId?((r=(n.y-e.y)/2)<i&&(r=i),{x:0,y:r}):((r=(e.x-n.x)/2)<i&&(r=i),{x:-r,y:0}));u[t]=e.x+o.x,h[t]=e.y+o.y})),s.push([S(C[0]),{x:u[0],y:h[0]},{x:u[1],y:h[1]},S(C[1])]);break;case 5:!function(){var e,n=[[],[]],i=[];function r(e){return 1===e?3:2===e?4:3===e?1:2}function a(e){return 2===e||4===e?"x":"y"}function o(e,t,n){var s={x:e.x,y:e.y};if(n){if(n===r(e.dirId))throw new Error("Invalid dirId: "+n);s.dirId=n}else s.dirId=e.dirId;return 1===s.dirId?s.y-=t:2===s.dirId?s.x+=t:3===s.dirId?s.y+=t:s.x-=t,s}function l(e,t){return 1===t.dirId?e.y<=t.y:2===t.dirId?e.x>=t.x:3===t.dirId?e.y>=t.y:e.x<=t.x}function c(e,t){return 1===t.dirId||3===t.dirId?e.x===t.x:e.y===t.y}function u(e){return e[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function h(e,t,n){return Math.abs(t[n]-e[n])}function d(e,t,n){return"x"===n?e.x<t.x?2:4:e.y<t.y?3:1}for(C.forEach((function(e,s){var a,l=S(e),c=t[s];a=Array.isArray(c)?c[0]<0?[4,-c[0]]:0<c[0]?[2,c[0]]:c[1]<0?[1,-c[1]]:0<c[1]?[3,c[1]]:[e.socketId,0]:"number"!=typeof c?[e.socketId,F]:0<=c?[e.socketId,c]:[r(e.socketId),-c],l.dirId=a[0],c=a[1],n[s].push(l),i[s]=o(l,c)}));function(){var e,t,s,r,p=[l(i[1],i[0]),l(i[0],i[1])],f=[a(i[0].dirId),a(i[1].dirId)];if(f[0]===f[1]){if(p[0]&&p[1])return void(c(i[1],i[0])||(i[0][f[0]]===i[1][f[1]]?(n[0].push(i[0]),n[1].push(i[1])):(e=i[0][f[0]]+(i[1][f[1]]-i[0][f[0]])/2,n[0].push(o(i[0],Math.abs(e-i[0][f[0]]))),n[1].push(o(i[1],Math.abs(e-i[1][f[1]]))))));p[0]!==p[1]?(t=u(p),(s=h(i[t.notContain],i[t.contain],f[t.notContain]))<F&&(i[t.notContain]=o(i[t.notContain],F-s)),n[t.notContain].push(i[t.notContain]),i[t.notContain]=o(i[t.notContain],F,c(i[t.contain],i[t.notContain])?"x"===f[t.notContain]?3:2:d(i[t.notContain],i[t.contain],"x"===f[t.notContain]?"y":"x"))):(s=h(i[0],i[1],"x"===f[0]?"y":"x"),n.forEach((function(e,t){var n=0===t?1:0;e.push(i[t]),i[t]=o(i[t],F,60<=s?d(i[t],i[n],"x"===f[t]?"y":"x"):"x"===f[t]?3:2)})))}else{if(p[0]&&p[1])return void(c(i[1],i[0])?n[1].push(i[1]):c(i[0],i[1])?n[0].push(i[0]):n[0].push("x"===f[0]?{x:i[1].x,y:i[0].y}:{x:i[0].x,y:i[1].y}));p[0]!==p[1]?(t=u(p),n[t.notContain].push(i[t.notContain]),i[t.notContain]=o(i[t.notContain],F,h(i[t.notContain],i[t.contain],f[t.contain])>=F?d(i[t.notContain],i[t.contain],f[t.contain]):i[t.contain].dirId)):(r=[{x:i[0].x,y:i[0].y},{x:i[1].x,y:i[1].y}],n.forEach((function(e,t){var n=0===t?1:0,s=h(r[t],r[n],f[t]);s<F&&(i[t]=o(i[t],F-s)),e.push(i[t]),i[t]=o(i[t],F,d(i[t],i[n],f[n]))})))}return 1}(););n[1].reverse(),n[0].concat(n[1]).forEach((function(t,n){var i={x:t.x,y:t.y};0<n&&s.push([e,i]),e=i}))}()}l=[],v.position_plugOverheadSE.forEach((function(e,t){var i,r,a,o,c,u,h,d,p,f,m,g=!t;0<e?2===(i=s[r=g?0:s.length-1]).length?(l[r]=l[r]||me.apply(null,i),l[r]>R&&(l[r]-e<R&&(e=l[r]-R),a=ge(i[0],i[1],(g?e:l[r]-e)/l[r]),s[r]=g?[a,i[1]]:[i[0],a],l[r]-=e)):(l[r]=l[r]||we.apply(null,i),l[r]>R&&(l[r]-e<R&&(e=l[r]-R),a=Ae(i[0],i[1],i[2],i[3],be(i[0],i[1],i[2],i[3],g?e:l[r]-e)),c=g?(o=i[0],a.toP1):(o=i[3],a.fromP2),u=Math.atan2(o.y-a.y,a.x-o.x),h=me(a,c),a.x=o.x+Math.cos(u)*e,a.y=o.y+Math.sin(u)*e*-1,c.x=a.x+Math.cos(u)*h,c.y=a.y+Math.sin(u)*h*-1,s[r]=g?[a,a.toP1,a.toP2,i[3]]:[i[0],a.fromP1,a.fromP2,a],l[r]=null)):e<0&&(i=s[r=g?0:s.length-1],d=C[t].socketId,p=4===d||2===d?"x":"y",e<(m=-n[t]["x"==p?"width":"height"])&&(e=m),f=e*(4===d||1===d?-1:1),2===i.length?i[g?0:i.length-1][p]+=f:(g?[0,1]:[i.length-2,i.length-1]).forEach((function(e){i[e][p]+=f})),l[r]=null)})),x.position_socketXYSE=ce(C),x.position_plugOverheadSE=ce(v.position_plugOverheadSE),x.position_path=v.position_path,x.position_lineStrokeWidth=v.position_lineStrokeWidth,x.position_socketGravitySE=ce(t),k=!0,e.events.apl_position&&e.events.apl_position.forEach((function(t){t(e,s)}))}return k}function Oe(e,t){t!==e.isShown&&(!!t!=!!e.isShown&&(e.svg.style.visibility=t?"":"hidden"),e.isShown=t,e.events&&e.events.svgShow&&e.events.svgShow.forEach((function(n){n(e,t)})))}function Le(t,n){var s,i,r,a,o,l,c,u,h,d,p,f,m,g,y,A,w,b,v,x,C,k,E,I,_,D,M,R,F,O,L,z,V,P,Y,K,Z,Q,X,$,J,ee,te,ne,se,ie,re,ae,oe,he,de,pe,fe={};n.line&&(fe.line=(i=(s=t).options,r=s.curStats,a=s.events,o=!1,o=Me(s,r,"line_color",i.lineColor,a.cur_line_color)||o,o=Me(s,r,"line_colorTra",ue(r.line_color)[0]<1)||o,o=Me(s,r,"line_strokeWidth",i.lineSize,a.cur_line_strokeWidth)||o)),(n.plug||fe.line)&&(fe.plug=(c=(l=t).options,u=l.curStats,h=l.events,d=!1,[0,1].forEach((function(e){var t,n,s,i,r,a,o,p,f=c.plugSE[e];d=Me(l,u.plug_enabledSE,e,f!==S)||d,d=Me(l,u.plug_plugSE,e,f)||d,d=Me(l,u.plug_colorSE,e,p=c.plugColorSE[e]||u.line_color,h.cur_plug_colorSE)||d,d=Me(l,u.plug_colorTraSE,e,ue(p)[0]<1)||d,f!==S&&(i=n=(t=T[N[f]]).widthR*c.plugSizeSE[e],r=s=t.heightR*c.plugSizeSE[e],j&&(i*=u.line_strokeWidth,r*=u.line_strokeWidth),d=Me(l,u.plug_markerWidthSE,e,i)||d,d=Me(l,u.plug_markerHeightSE,e,r)||d,u.capsMaskMarker_markerWidthSE[e]=n,u.capsMaskMarker_markerHeightSE[e]=s),u.plugOutline_plugSE[e]=u.capsMaskMarker_plugSE[e]=f,u.plug_enabledSE[e]?(p=u.line_strokeWidth/H.lineSize*c.plugSizeSE[e],u.position_plugOverheadSE[e]=t.overhead*p,u.viewBox_plugBCircleSE[e]=t.bCircle*p,a=t.sideLen*p,o=t.backLen*p):(u.position_plugOverheadSE[e]=-u.line_strokeWidth/2,u.viewBox_plugBCircleSE[e]=a=o=0),Me(l,u.attach_plugSideLenSE,e,a,h.cur_attach_plugSideLenSE),Me(l,u.attach_plugBackLenSE,e,o,h.cur_attach_plugBackLenSE),u.capsMaskAnchor_enabledSE[e]=!u.plug_enabledSE[e]})),d=Me(l,u,"plug_enabled",u.plug_enabledSE[0]||u.plug_enabledSE[1])||d)),(n.lineOutline||fe.line)&&(fe.lineOutline=(m=(p=t).options,y=!1,y=Me(p,g=p.curStats,"lineOutline_enabled",m.lineOutlineEnabled)||y,y=Me(p,g,"lineOutline_color",m.lineOutlineColor)||y,y=Me(p,g,"lineOutline_colorTra",ue(g.lineOutline_color)[0]<1)||y,f=g.line_strokeWidth*m.lineOutlineSize,y=Me(p,g,"lineOutline_strokeWidth",g.line_strokeWidth-2*f)||y,y=Me(p,g,"lineOutline_inStrokeWidth",g.lineOutline_colorTra?g.lineOutline_strokeWidth+2*q:g.line_strokeWidth-f)||y)),(n.plugOutline||fe.line||fe.plug||fe.lineOutline)&&(fe.plugOutline=(w=(A=t).options,b=A.curStats,v=!1,[0,1].forEach((function(e){var t,n=b.plugOutline_plugSE[e],s=n!==S?T[N[n]]:null;v=Me(A,b.plugOutline_enabledSE,e,w.plugOutlineEnabledSE[e]&&b.plug_enabled&&b.plug_enabledSE[e]&&!!s&&!!s.outlineBase)||v,v=Me(A,b.plugOutline_colorSE,e,t=w.plugOutlineColorSE[e]||b.lineOutline_color)||v,v=Me(A,b.plugOutline_colorTraSE,e,ue(t)[0]<1)||v,s&&s.outlineBase&&((t=w.plugOutlineSizeSE[e])>s.outlineMax&&(t=s.outlineMax),t*=2*s.outlineBase,v=Me(A,b.plugOutline_strokeWidthSE,e,t)||v,v=Me(A,b.plugOutline_inStrokeWidthSE,e,b.plugOutline_colorTraSE[e]?t-q/(b.line_strokeWidth/H.lineSize)/w.plugSizeSE[e]*2:t/2)||v)})),v)),(n.faces||fe.line||fe.plug||fe.lineOutline||fe.plugOutline)&&(fe.faces=(k=(x=t).curStats,E=x.aplStats,I=x.events,_=!1,!k.line_altColor&&Me(x,E,"line_color",C=k.line_color,I.apl_line_color)&&(x.lineFace.style.stroke=C,_=!0),Me(x,E,"line_strokeWidth",C=k.line_strokeWidth,I.apl_line_strokeWidth)&&(x.lineShape.style.strokeWidth=C+"px",_=!0,(G||W)&&(Ie(x,x.lineShape),W&&(Ie(x,x.lineFace),Ie(x,x.lineMaskCaps)))),Me(x,E,"lineOutline_enabled",C=k.lineOutline_enabled,I.apl_lineOutline_enabled)&&(x.lineOutlineFace.style.display=C?"inline":"none",_=!0),k.lineOutline_enabled&&(Me(x,E,"lineOutline_color",C=k.lineOutline_color,I.apl_lineOutline_color)&&(x.lineOutlineFace.style.stroke=C,_=!0),Me(x,E,"lineOutline_strokeWidth",C=k.lineOutline_strokeWidth,I.apl_lineOutline_strokeWidth)&&(x.lineOutlineMaskShape.style.strokeWidth=C+"px",_=!0,W&&(Ie(x,x.lineOutlineMaskCaps),Ie(x,x.lineOutlineFace))),Me(x,E,"lineOutline_inStrokeWidth",C=k.lineOutline_inStrokeWidth,I.apl_lineOutline_inStrokeWidth)&&(x.lineMaskShape.style.strokeWidth=C+"px",_=!0,W&&(Ie(x,x.lineOutlineMaskCaps),Ie(x,x.lineOutlineFace)))),Me(x,E,"plug_enabled",C=k.plug_enabled,I.apl_plug_enabled)&&(x.plugsFace.style.display=C?"inline":"none",_=!0),k.plug_enabled&&[0,1].forEach((function(e){var t=k.plug_plugSE[e],n=t!==S?T[N[t]]:null,s=Ne(e,n);Me(x,E.plug_enabledSE,e,C=k.plug_enabledSE[e],I.apl_plug_enabledSE)&&(x.plugsFace.style[s.prop]=C?"url(#"+x.plugMarkerIdSE[e]+")":"none",_=!0),k.plug_enabledSE[e]&&(Me(x,E.plug_plugSE,e,t,I.apl_plug_plugSE)&&(x.plugFaceSE[e].href.baseVal="#"+n.elmId,_e(x,x.plugMarkerSE[e],s.orient,n.bBox,x.svg,x.plugMarkerShapeSE[e],x.plugsFace),_=!0,G&&Ie(x,x.plugsFace)),Me(x,E.plug_colorSE,e,C=k.plug_colorSE[e],I.apl_plug_colorSE)&&(x.plugFaceSE[e].style.fill=C,_=!0,(U||j||W)&&!k.line_colorTra&&Ie(x,W?x.lineMaskCaps:x.capsMaskLine)),["markerWidth","markerHeight"].forEach((function(t){var n="plug_"+t+"SE";Me(x,E[n],e,C=k[n][e],I["apl_"+n])&&(x.plugMarkerSE[e][t].baseVal.value=C,_=!0)})),Me(x,E.plugOutline_enabledSE,e,C=k.plugOutline_enabledSE[e],I.apl_plugOutline_enabledSE)&&(C?(x.plugFaceSE[e].style.mask="url(#"+x.plugMaskIdSE[e]+")",x.plugOutlineFaceSE[e].style.display="inline"):(x.plugFaceSE[e].style.mask="none",x.plugOutlineFaceSE[e].style.display="none"),_=!0),k.plugOutline_enabledSE[e]&&(Me(x,E.plugOutline_plugSE,e,t,I.apl_plugOutline_plugSE)&&(x.plugOutlineFaceSE[e].href.baseVal=x.plugMaskShapeSE[e].href.baseVal=x.plugOutlineMaskShapeSE[e].href.baseVal="#"+n.elmId,[x.plugMaskSE[e],x.plugOutlineMaskSE[e]].forEach((function(e){e.x.baseVal.value=n.bBox.left,e.y.baseVal.value=n.bBox.top,e.width.baseVal.value=n.bBox.width,e.height.baseVal.value=n.bBox.height})),_=!0),Me(x,E.plugOutline_colorSE,e,C=k.plugOutline_colorSE[e],I.apl_plugOutline_colorSE)&&(x.plugOutlineFaceSE[e].style.fill=C,_=!0,W&&(Ie(x,x.lineMaskCaps),Ie(x,x.lineOutlineMaskCaps))),Me(x,E.plugOutline_strokeWidthSE,e,C=k.plugOutline_strokeWidthSE[e],I.apl_plugOutline_strokeWidthSE)&&(x.plugOutlineMaskShapeSE[e].style.strokeWidth=C+"px",_=!0),Me(x,E.plugOutline_inStrokeWidthSE,e,C=k.plugOutline_inStrokeWidthSE[e],I.apl_plugOutline_inStrokeWidthSE)&&(x.plugMaskShapeSE[e].style.strokeWidth=C+"px",_=!0)))})),_)),(n.position||fe.line||fe.plug)&&(fe.position=Fe(t)),(n.path||fe.position)&&(fe.path=(R=(D=t).curStats,F=D.aplStats,O=D.pathList.animVal||D.pathList.baseVal,L=R.path_edge,z=!1,O&&(L.x1=L.x2=O[0][0].x,L.y1=L.y2=O[0][0].y,R.path_pathData=M=ve(O,(function(e){e.x<L.x1&&(L.x1=e.x),e.y<L.y1&&(L.y1=e.y),e.x>L.x2&&(L.x2=e.x),e.y>L.y2&&(L.y2=e.y)})),Ce(M,F.path_pathData)&&(D.linePath.setPathData(M),F.path_pathData=M,z=!0,W?(Ie(D,D.plugsFace),Ie(D,D.lineMaskCaps)):G&&Ie(D,D.linePath),D.events.apl_path&&D.events.apl_path.forEach((function(e){e(D,M)})))),z)),fe.viewBox=(P=(V=t).curStats,Y=V.aplStats,K=P.path_edge,Z=P.viewBox_bBox,Q=Y.viewBox_bBox,X=V.svg.viewBox.baseVal,$=V.svg.style,J=!1,ee=Math.max(P.line_strokeWidth/2,P.viewBox_plugBCircleSE[0]||0,P.viewBox_plugBCircleSE[1]||0),te={x1:K.x1-ee,y1:K.y1-ee,x2:K.x2+ee,y2:K.y2+ee},V.events.new_edge4viewBox&&V.events.new_edge4viewBox.forEach((function(e){e(V,te)})),Z.x=P.lineMask_x=P.lineOutlineMask_x=P.maskBGRect_x=te.x1,Z.y=P.lineMask_y=P.lineOutlineMask_y=P.maskBGRect_y=te.y1,Z.width=te.x2-te.x1,Z.height=te.y2-te.y1,["x","y","width","height"].forEach((function(e){var t;(t=Z[e])!==Q[e]&&(X[e]=Q[e]=t,$[B[e]]=t+("x"===e||"y"===e?V.bodyOffset[e]:0)+"px",J=!0)})),J),fe.mask=(ie=(ne=t).curStats,re=ne.aplStats,ae=!1,ie.plug_enabled?[0,1].forEach((function(e){ie.capsMaskMarker_enabledSE[e]=ie.plug_enabledSE[e]&&ie.plug_colorTraSE[e]||ie.plugOutline_enabledSE[e]&&ie.plugOutline_colorTraSE[e]})):ie.capsMaskMarker_enabledSE[0]=ie.capsMaskMarker_enabledSE[1]=!1,ie.capsMaskMarker_enabled=ie.capsMaskMarker_enabledSE[0]||ie.capsMaskMarker_enabledSE[1],ie.lineMask_outlineMode=ie.lineOutline_enabled,ie.caps_enabled=ie.capsMaskMarker_enabled||ie.capsMaskAnchor_enabledSE[0]||ie.capsMaskAnchor_enabledSE[1],ie.lineMask_enabled=ie.caps_enabled||ie.lineMask_outlineMode,(ie.lineMask_enabled&&!ie.lineMask_outlineMode||ie.lineOutline_enabled)&&["x","y"].forEach((function(e){var t="maskBGRect_"+e;Me(ne,re,t,se=ie[t])&&(ne.maskBGRect[e].baseVal.value=se,ae=!0)})),Me(ne,re,"lineMask_enabled",se=ie.lineMask_enabled)&&(ne.lineFace.style.mask=se?"url(#"+ne.lineMaskId+")":"none",ae=!0,j&&Ie(ne,ne.lineMask)),ie.lineMask_enabled&&(Me(ne,re,"lineMask_outlineMode",se=ie.lineMask_outlineMode)&&(se?(ne.lineMaskBG.style.display="none",ne.lineMaskShape.style.display="inline"):(ne.lineMaskBG.style.display="inline",ne.lineMaskShape.style.display="none"),ae=!0),["x","y"].forEach((function(e){var t="lineMask_"+e;Me(ne,re,t,se=ie[t])&&(ne.lineMask[e].baseVal.value=se,ae=!0)})),Me(ne,re,"caps_enabled",se=ie.caps_enabled)&&(ne.lineMaskCaps.style.display=ne.lineOutlineMaskCaps.style.display=se?"inline":"none",ae=!0,j&&Ie(ne,ne.capsMaskLine)),ie.caps_enabled&&([0,1].forEach((function(e){var t;Me(ne,re.capsMaskAnchor_enabledSE,e,se=ie.capsMaskAnchor_enabledSE[e])&&(ne.capsMaskAnchorSE[e].style.display=se?"inline":"none",ae=!0,j&&Ie(ne,ne.lineMask)),ie.capsMaskAnchor_enabledSE[e]&&(Ce(t=ie.capsMaskAnchor_pathDataSE[e],re.capsMaskAnchor_pathDataSE[e])&&(ne.capsMaskAnchorSE[e].setPathData(t),re.capsMaskAnchor_pathDataSE[e]=t,ae=!0),Me(ne,re.capsMaskAnchor_strokeWidthSE,e,se=ie.capsMaskAnchor_strokeWidthSE[e])&&(ne.capsMaskAnchorSE[e].style.strokeWidth=se+"px",ae=!0))})),Me(ne,re,"capsMaskMarker_enabled",se=ie.capsMaskMarker_enabled)&&(ne.capsMaskLine.style.display=se?"inline":"none",ae=!0),ie.capsMaskMarker_enabled&&[0,1].forEach((function(e){var t=ie.capsMaskMarker_plugSE[e],n=t!==S?T[N[t]]:null,s=Ne(e,n);Me(ne,re.capsMaskMarker_enabledSE,e,se=ie.capsMaskMarker_enabledSE[e])&&(ne.capsMaskLine.style[s.prop]=se?"url(#"+ne.lineMaskMarkerIdSE[e]+")":"none",ae=!0),ie.capsMaskMarker_enabledSE[e]&&(Me(ne,re.capsMaskMarker_plugSE,e,t)&&(ne.capsMaskMarkerShapeSE[e].href.baseVal="#"+n.elmId,_e(ne,ne.capsMaskMarkerSE[e],s.orient,n.bBox,ne.svg,ne.capsMaskMarkerShapeSE[e],ne.capsMaskLine),ae=!0,G&&(Ie(ne,ne.capsMaskLine),Ie(ne,ne.lineFace))),["markerWidth","markerHeight"].forEach((function(t){var n="capsMaskMarker_"+t+"SE";Me(ne,re[n],e,se=ie[n][e])&&(ne.capsMaskMarkerSE[e][t].baseVal.value=se,ae=!0)})))})))),ie.lineOutline_enabled&&["x","y"].forEach((function(e){var t="lineOutlineMask_"+e;Me(ne,re,t,se=ie[t])&&(ne.lineOutlineMask[e].baseVal.value=se,ae=!0)})),ae),n.effect&&(de=(oe=t).curStats,pe=oe.aplStats,Object.keys(e).forEach((function(t){var n=e[t],s=t+"_enabled",i=t+"_options",r=de[i];Me(oe,pe,s,he=de[s])?(he&&(pe[i]=ce(r)),n[he?"init":"remove"](oe)):he&&le(r,pe[i])&&(n.remove(oe),pe[s]=!0,pe[i]=ce(r),n.init(oe))}))),(U||j)&&fe.line&&!fe.path&&Ie(t,t.lineShape),U&&fe.plug&&!fe.line&&Ie(t,t.plugsFace),Te(t)}function ze(e,t){return{duration:K(e.duration)&&0<e.duration?e.duration:t.duration,timing:Z.validTiming(e.timing)?e.timing:ce(t.timing)}}function Ve(e,n,s,i){var r,a=e.curStats,o=e.aplStats,l={};function c(){["show_on","show_effect","show_animOptions"].forEach((function(e){o[e]=a[e]}))}a.show_on=n,s&&t[s]&&(a.show_effect=s,a.show_animOptions=ze(Y(i)?i:{},t[s].defaultAnimOptions)),l.show_on=a.show_on!==o.show_on,l.show_effect=a.show_effect!==o.show_effect,l.show_animOptions=le(a.show_animOptions,o.show_animOptions),l.show_effect||l.show_animOptions?a.show_inAnim?(r=l.show_effect?t[o.show_effect].stop(e,!0,!0):t[o.show_effect].stop(e),c(),t[o.show_effect].init(e,r)):l.show_on&&(o.show_effect&&l.show_effect&&t[o.show_effect].stop(e,!0,!0),c(),t[o.show_effect].init(e)):l.show_on&&(c(),t[o.show_effect].start(e))}function Pe(e,t,n){var s={props:e,optionName:n};return e.attachments.indexOf(t)<0&&(!t.conf.bind||t.conf.bind(t,s))&&(e.attachments.push(t),t.boundTargets.push(s),1)}function We(e,t,n){var s=e.attachments.indexOf(t);-1<s&&e.attachments.splice(s,1),t.boundTargets.some((function(n,i){return n.props===e&&(t.conf.unbind&&t.conf.unbind(t,n),s=i,!0)}))&&(t.boundTargets.splice(s,1),n||Se((function(){t.boundTargets.length||r(t)})))}function Ge(r,a){var o,l,c,u,h,d,p,f,m,g,y,A,w,b,v,x,S,I=r.options,T={};function N(e,t,n,s,i){var r={};return n?null!=s?(r.container=e[n],r.key=s):(r.container=e,r.key=n):(r.container=e,r.key=t),r.default=i,r.acceptsAuto=null==r.default,r}function D(e,t,n,s,i,r,a){var o,l,c,u=N(e,n,i,r,a);return null!=t[n]&&(l=(t[n]+"").toLowerCase())&&(u.acceptsAuto&&l===M||(c=s[l]))&&c!==u.container[u.key]&&(u.container[u.key]=c,o=!0),null!=u.container[u.key]||u.acceptsAuto||(u.container[u.key]=u.default,o=!0),o}function B(e,t,n,s,i,r,a,o,l){var c,u,h,d,p=N(e,n,i,r,a);if(!s){if(null==p.default)throw new Error("Invalid `type`: "+n);s=typeof p.default}return null!=t[n]&&(p.acceptsAuto&&(t[n]+"").toLowerCase()===M||(h=u=t[n],("number"===(d=s)?K(h):typeof h===d)&&(u=l&&"string"===s&&u?u.trim():u,1)&&(!o||o(u))))&&u!==p.container[p.key]&&(p.container[p.key]=u,c=!0),null!=p.container[p.key]||p.acceptsAuto||(p.container[p.key]=p.default,c=!0),c}if(a=a||{},["start","end"].forEach((function(e,t){var n=a[e],s=!1;if(n&&(he(n)||(s=i(n,"anchor")))&&n!==I.anchorSE[t]){if(!1!==r.optionIsAttach.anchorSE[t]&&We(r,se[I.anchorSE[t]._id]),s&&!Pe(r,se[n._id],e))throw new Error("Can't bind attachment");I.anchorSE[t]=n,r.optionIsAttach.anchorSE[t]=s,l=T.position=!0}})),!I.anchorSE[0]||!I.anchorSE[1]||I.anchorSE[0]===I.anchorSE[1])throw new Error("`start` and `end` are required.");function R(e){var t=d.appendChild(x.createElementNS(V,"mask"));return t.id=e,t.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x,t.y,t.width,t.height].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)})),t}function F(e){var t=d.appendChild(x.createElementNS(V,"marker"));return t.id=e,t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),t}function O(e){return[e.width,e.height].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)})),e}l&&(o=function(e,t){var n,s,i;if(!(n=pe(e))||!(s=pe(t)))throw new Error("Cannot get frames.");return n.length&&s.length&&(n.reverse(),s.reverse(),n.some((function(e){return s.some((function(t){return t===e&&(i=t.contentWindow,!0)}))}))),i||window}(!1!==r.optionIsAttach.anchorSE[0]?se[I.anchorSE[0]._id].element:I.anchorSE[0],!1!==r.optionIsAttach.anchorSE[1]?se[I.anchorSE[1]._id].element:I.anchorSE[1]))!==r.baseWindow&&(u=o,v=(c=r).aplStats,x=u.document,S=C+"-"+c._id,c.pathList={},De(v,X),Object.keys(e).forEach((function(t){var n=t+"_enabled";v[n]&&(e[t].remove(c),v[n]=!1)})),c.baseWindow&&c.svg&&c.baseWindow.document.body.removeChild(c.svg),Re(c.baseWindow=u),c.bodyOffset=Be(u),c.svg=h=x.createElementNS(V,"svg"),h.className.baseVal=C,h.viewBox.baseVal||h.setAttribute("viewBox","0 0 0 0"),c.defs=d=h.appendChild(x.createElementNS(V,"defs")),c.linePath=f=d.appendChild(x.createElementNS(V,"path")),f.id=m=S+"-line-path",f.className.baseVal=C+"-line-path",j&&(f.style.fill="none"),c.lineShape=f=d.appendChild(x.createElementNS(V,"use")),f.id=g=S+"-line-shape",f.href.baseVal="#"+m,(p=d.appendChild(x.createElementNS(V,"g"))).id=y=S+"-caps",c.capsMaskAnchorSE=[0,1].map((function(){var e=p.appendChild(x.createElementNS(V,"path"));return e.className.baseVal=C+"-caps-mask-anchor",e})),c.lineMaskMarkerIdSE=[S+"-caps-mask-marker-0",S+"-caps-mask-marker-1"],c.capsMaskMarkerSE=[0,1].map((function(e){return F(c.lineMaskMarkerIdSE[e])})),c.capsMaskMarkerShapeSE=[0,1].map((function(e){var t=c.capsMaskMarkerSE[e].appendChild(x.createElementNS(V,"use"));return t.className.baseVal=C+"-caps-mask-marker-shape",t})),c.capsMaskLine=f=p.appendChild(x.createElementNS(V,"use")),f.className.baseVal=C+"-caps-mask-line",f.href.baseVal="#"+g,c.maskBGRect=f=O(d.appendChild(x.createElementNS(V,"rect"))),f.id=A=S+"-mask-bg-rect",f.className.baseVal=C+"-mask-bg-rect",j&&(f.style.fill="white"),c.lineMask=O(R(c.lineMaskId=S+"-line-mask")),c.lineMaskBG=f=c.lineMask.appendChild(x.createElementNS(V,"use")),f.href.baseVal="#"+A,c.lineMaskShape=f=c.lineMask.appendChild(x.createElementNS(V,"use")),f.className.baseVal=C+"-line-mask-shape",f.href.baseVal="#"+m,f.style.display="none",c.lineMaskCaps=f=c.lineMask.appendChild(x.createElementNS(V,"use")),f.href.baseVal="#"+y,c.lineOutlineMask=O(R(w=S+"-line-outline-mask")),(f=c.lineOutlineMask.appendChild(x.createElementNS(V,"use"))).href.baseVal="#"+A,c.lineOutlineMaskShape=f=c.lineOutlineMask.appendChild(x.createElementNS(V,"use")),f.className.baseVal=C+"-line-outline-mask-shape",f.href.baseVal="#"+m,c.lineOutlineMaskCaps=f=c.lineOutlineMask.appendChild(x.createElementNS(V,"use")),f.href.baseVal="#"+y,c.face=h.appendChild(x.createElementNS(V,"g")),c.lineFace=f=c.face.appendChild(x.createElementNS(V,"use")),f.href.baseVal="#"+g,c.lineOutlineFace=f=c.face.appendChild(x.createElementNS(V,"use")),f.href.baseVal="#"+g,f.style.mask="url(#"+w+")",f.style.display="none",c.plugMaskIdSE=[S+"-plug-mask-0",S+"-plug-mask-1"],c.plugMaskSE=[0,1].map((function(e){return R(c.plugMaskIdSE[e])})),c.plugMaskShapeSE=[0,1].map((function(e){var t=c.plugMaskSE[e].appendChild(x.createElementNS(V,"use"));return t.className.baseVal=C+"-plug-mask-shape",t})),b=[],c.plugOutlineMaskSE=[0,1].map((function(e){return R(b[e]=S+"-plug-outline-mask-"+e)})),c.plugOutlineMaskShapeSE=[0,1].map((function(e){var t=c.plugOutlineMaskSE[e].appendChild(x.createElementNS(V,"use"));return t.className.baseVal=C+"-plug-outline-mask-shape",t})),c.plugMarkerIdSE=[S+"-plug-marker-0",S+"-plug-marker-1"],c.plugMarkerSE=[0,1].map((function(e){var t=F(c.plugMarkerIdSE[e]);return j&&(t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),t})),c.plugMarkerShapeSE=[0,1].map((function(e){return c.plugMarkerSE[e].appendChild(x.createElementNS(V,"g"))})),c.plugFaceSE=[0,1].map((function(e){return c.plugMarkerShapeSE[e].appendChild(x.createElementNS(V,"use"))})),c.plugOutlineFaceSE=[0,1].map((function(e){var t=c.plugMarkerShapeSE[e].appendChild(x.createElementNS(V,"use"));return t.style.mask="url(#"+b[e]+")",t.style.display="none",t})),c.plugsFace=f=c.face.appendChild(x.createElementNS(V,"use")),f.className.baseVal=C+"-plugs-face",f.href.baseVal="#"+g,f.style.display="none",c.curStats.show_inAnim?(c.isShown=1,t[v.show_effect].stop(c,!0)):c.isShown||(h.style.visibility="hidden"),x.body.appendChild(h),[0,1,2].forEach((function(e){var t,n=c.options.labelSEM[e];n&&i(n,"label")&&(t=se[n._id]).conf.initSvg&&t.conf.initSvg(t,c)})),T.line=T.plug=T.lineOutline=T.plugOutline=T.faces=T.effect=!0),T.position=D(I,a,"path",E,null,null,H.path)||T.position,T.position=D(I,a,"startSocket",k,"socketSE",0)||T.position,T.position=D(I,a,"endSocket",k,"socketSE",1)||T.position,[a.startSocketGravity,a.endSocketGravity].forEach((function(e,t){var n,s,i=!1;null!=e&&(Array.isArray(e)?K(e[0])&&K(e[1])&&(i=[e[0],e[1]],Array.isArray(I.socketGravitySE[t])&&(n=i,s=I.socketGravitySE[t],n.length===s.length&&n.every((function(e,t){return e===s[t]})))&&(i=!1)):((e+"").toLowerCase()===M?i=null:K(e)&&0<=e&&(i=e),i===I.socketGravitySE[t]&&(i=!1)),!1!==i&&(I.socketGravitySE[t]=i,T.position=!0))})),T.line=B(I,a,"color",null,"lineColor",null,H.lineColor,null,!0)||T.line,T.line=B(I,a,"size",null,"lineSize",null,H.lineSize,(function(e){return 0<e}))||T.line,["startPlug","endPlug"].forEach((function(e,t){T.plug=D(I,a,e,_,"plugSE",t,H.plugSE[t])||T.plug,T.plug=B(I,a,e+"Color","string","plugColorSE",t,null,null,!0)||T.plug,T.plug=B(I,a,e+"Size",null,"plugSizeSE",t,H.plugSizeSE[t],(function(e){return 0<e}))||T.plug})),T.lineOutline=B(I,a,"outline",null,"lineOutlineEnabled",null,H.lineOutlineEnabled)||T.lineOutline,T.lineOutline=B(I,a,"outlineColor",null,"lineOutlineColor",null,H.lineOutlineColor,null,!0)||T.lineOutline,T.lineOutline=B(I,a,"outlineSize",null,"lineOutlineSize",null,H.lineOutlineSize,(function(e){return 0<e&&e<=.48}))||T.lineOutline,["startPlugOutline","endPlugOutline"].forEach((function(e,t){T.plugOutline=B(I,a,e,null,"plugOutlineEnabledSE",t,H.plugOutlineEnabledSE[t])||T.plugOutline,T.plugOutline=B(I,a,e+"Color","string","plugOutlineColorSE",t,null,null,!0)||T.plugOutline,T.plugOutline=B(I,a,e+"Size",null,"plugOutlineSizeSE",t,H.plugOutlineSizeSE[t],(function(e){return 1<=e}))||T.plugOutline})),["startLabel","endLabel","middleLabel"].forEach((function(e,t){var o,l,c,u=a[e],h=I.labelSEM[t]&&!r.optionIsAttach.labelSEM[t]?se[I.labelSEM[t]._id].text:I.labelSEM[t],d=!1;if((o="string"==typeof u)&&(u=u.trim()),(o||u&&(d=i(u,"label")))&&u!==h){if(I.labelSEM[t]&&(We(r,se[I.labelSEM[t]._id]),I.labelSEM[t]=""),u){if(d?(l=se[(c=u)._id]).boundTargets.slice().forEach((function(e){l.conf.removeOption(l,e)})):c=new s(n.captionLabel,[u]),!Pe(r,se[c._id],e))throw new Error("Can't bind attachment");I.labelSEM[t]=c}r.optionIsAttach.labelSEM[t]=d}})),Object.keys(e).forEach((function(t){var n,s,i=e[t],o=t+"_enabled",l=t+"_options";function c(e){var t={};return i.optionsConf.forEach((function(n){var s=n[0],i=n[3];null==n[4]||t[i]||(t[i]=[]),("function"==typeof s?s:"id"===s?D:B).apply(null,[t,e].concat(n.slice(1)))})),t}function u(e){var n,s=t+"_animOptions";return e.hasOwnProperty("animation")?Y(e.animation)?n=r.curStats[s]=ze(e.animation,i.defaultAnimOptions):(n=!!e.animation,r.curStats[s]=n?ze({},i.defaultAnimOptions):null):(n=!!i.defaultEnabled,r.curStats[s]=n?ze({},i.defaultAnimOptions):null),n}a.hasOwnProperty(t)&&(n=a[t],Y(n)?(r.curStats[o]=!0,s=r.curStats[l]=c(n),i.anim&&(r.curStats[l].animation=u(n))):(s=r.curStats[o]=!!n)&&(r.curStats[l]=c({}),i.anim&&(r.curStats[l].animation=u({}))),le(s,I[t])&&(I[t]=s,T.effect=!0))})),Le(r,T)}function Ue(n,s,i){var r={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};De(r.curStats,X),De(r.aplStats,X),Object.keys(e).forEach((function(t){var n=e[t].stats;De(r.curStats,n),De(r.aplStats,n),r.options[t]=!1})),De(r.curStats,$),De(r.aplStats,$),r.curStats.show_effect=J,r.curStats.show_animOptions=ce(t[J].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++ne}),r._id=this._id,te[this._id]=r,1===arguments.length&&(i=n,n=null),i=i||{},(n||s)&&(i=ce(i),n&&(i.start=n),s&&(i.end=s)),r.isShown=r.aplStats.show_on=!i.hide,this.setOptions(i)}function je(e){return function(t){var n={};n[e]=t,this.setOptions(n)}}function qe(e,t){var n,s={conf:e,curStats:{},aplStats:{},boundTargets:[]},i={};e.argOptions.every((function(e){return!(!t.length||("string"==typeof e.type?typeof t[0]!==e.type:"function"!=typeof e.type||!e.type(t[0]))||(i[e.optionName]=t.shift(),0))})),n=t.length&&Y(t[0])?ce(t[0]):{},Object.keys(i).forEach((function(e){n[e]=i[e]})),e.stats&&(De(s.curStats,e.stats),De(s.aplStats,e.stats)),Object.defineProperty(this,"_id",{value:++ie}),Object.defineProperty(this,"isRemoved",{get:function(){return!se[this._id]}}),s._id=this._id,e.init&&!e.init(s,n)||(se[this._id]=s)}return e={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(t){ke(t,"apl_line_strokeWidth",e.dash.update),t.lineFace.style.strokeDashoffset=0,e.dash.update(t)},remove:function(t){var n=t.curStats;Ee(t,"apl_line_strokeWidth",e.dash.update),n.dash_animId&&(Z.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDasharray="none",t.lineFace.style.strokeDashoffset=0,De(t.aplStats,e.dash.stats)},update:function(e){var t,n=e.curStats,s=e.aplStats,i=s.dash_options,r=!1;n.dash_len=i.len||2*s.line_strokeWidth,n.dash_gap=i.gap||s.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,r=Me(e,s,"dash_len",n.dash_len)||r,(r=Me(e,s,"dash_gap",n.dash_gap)||r)&&(e.lineFace.style.strokeDasharray=s.dash_len+","+s.dash_gap),n.dash_animOptions?(r=Me(e,s,"dash_maxOffset",n.dash_maxOffset),s.dash_animOptions&&(r||le(n.dash_animOptions,s.dash_animOptions))&&(n.dash_animId&&(t=Z.stop(n.dash_animId),Z.remove(n.dash_animId)),s.dash_animOptions=null),s.dash_animOptions||(n.dash_animId=Z.add((function(e){return(1-e)*s.dash_maxOffset+"px"}),(function(t){e.lineFace.style.strokeDashoffset=t}),n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,t),s.dash_animOptions=ce(n.dash_animOptions))):s.dash_animOptions&&(n.dash_animId&&(Z.remove(n.dash_animId),n.dash_animId=null),e.lineFace.style.strokeDashoffset=0,s.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(t){var n,s=t.baseWindow.document,i=t.defs,r=C+"-"+t._id+"-gradient";t.efc_gradient_gradient=n=i.appendChild(s.createElementNS(V,"linearGradient")),n.id=r,n.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[n.x1,n.y1,n.x2,n.y2].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)})),t.efc_gradient_stopSE=[0,1].map((function(e){var n=t.efc_gradient_gradient.appendChild(s.createElementNS(V,"stop"));try{n.offset.baseVal=e}catch(t){if(t.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw t;n.setAttribute("offset",e)}return n})),ke(t,"cur_plug_colorSE",e.gradient.update),ke(t,"apl_path",e.gradient.update),t.curStats.line_altColor=!0,t.lineFace.style.stroke="url(#"+r+")",e.gradient.update(t)},remove:function(t){t.efc_gradient_gradient&&(t.defs.removeChild(t.efc_gradient_gradient),t.efc_gradient_gradient=t.efc_gradient_stopSE=null),Ee(t,"cur_plug_colorSE",e.gradient.update),Ee(t,"apl_path",e.gradient.update),t.curStats.line_altColor=!1,t.lineFace.style.stroke=t.curStats.line_color,De(t.aplStats,e.gradient.stats)},update:function(e){var t,n,s=e.curStats,i=e.aplStats,r=i.gradient_options,a=e.pathList.animVal||e.pathList.baseVal;[0,1].forEach((function(e){s.gradient_colorSE[e]=r.colorSE[e]||s.plug_colorSE[e]})),n=a[0][0],s.gradient_pointSE[0]={x:n.x,y:n.y},n=(t=a[a.length-1])[t.length-1],s.gradient_pointSE[1]={x:n.x,y:n.y},[0,1].forEach((function(t){var n;Me(e,i.gradient_colorSE,t,n=s.gradient_colorSE[t])&&(j?(n=ue(n),e.efc_gradient_stopSE[t].style.stopColor=n[1],e.efc_gradient_stopSE[t].style.stopOpacity=n[0]):e.efc_gradient_stopSE[t].style.stopColor=n),["x","y"].forEach((function(r){(n=s.gradient_pointSE[t][r])!==i.gradient_pointSE[t][r]&&(e.efc_gradient_gradient[r+(t+1)].baseVal.value=i.gradient_pointSE[t][r]=n)}))}))}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(t){var n,s,i,r,a,o=t.baseWindow.document,l=t.defs,u=C+"-"+t._id+"-dropShadow",h=(n=o,s=u,a={},"boolean"!=typeof c&&(c=!!window.SVGFEDropShadowElement&&!j),a.elmsAppend=[a.elmFilter=i=n.createElementNS(V,"filter")],i.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,i.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),i.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),i.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),i.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),i.id=s,c?(a.elmOffset=a.elmBlur=r=i.appendChild(n.createElementNS(V,"feDropShadow")),a.styleFlood=r.style):(a.elmBlur=i.appendChild(n.createElementNS(V,"feGaussianBlur")),a.elmOffset=r=i.appendChild(n.createElementNS(V,"feOffset")),r.result.baseVal="offsetblur",r=i.appendChild(n.createElementNS(V,"feFlood")),a.styleFlood=r.style,(r=i.appendChild(n.createElementNS(V,"feComposite"))).in2.baseVal="offsetblur",r.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(r=i.appendChild(n.createElementNS(V,"feMerge"))).appendChild(n.createElementNS(V,"feMergeNode")),r.appendChild(n.createElementNS(V,"feMergeNode")).in1.baseVal="SourceGraphic"),a);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach((function(e){t["efc_dropShadow_"+e]=h[e]})),h.elmsAppend.forEach((function(e){l.appendChild(e)})),t.face.setAttribute("filter","url(#"+u+")"),ke(t,"new_edge4viewBox",e.dropShadow.adjustEdge),e.dropShadow.update(t)},remove:function(t){var n=t.defs;t.efc_dropShadow_elmsAppend&&(t.efc_dropShadow_elmsAppend.forEach((function(e){n.removeChild(e)})),t.efc_dropShadow_elmFilter=t.efc_dropShadow_elmOffset=t.efc_dropShadow_elmBlur=t.efc_dropShadow_styleFlood=t.efc_dropShadow_elmsAppend=null),Ee(t,"new_edge4viewBox",e.dropShadow.adjustEdge),Le(t,{}),t.face.removeAttribute("filter"),De(t.aplStats,e.dropShadow.stats)},update:function(e){var t,n,s=e.curStats,i=e.aplStats,r=i.dropShadow_options;s.dropShadow_dx=t=r.dx,Me(e,i,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,n=!0),s.dropShadow_dy=t=r.dy,Me(e,i,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,n=!0),s.dropShadow_blur=t=r.blur,Me(e,i,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),n=!0),n&&Le(e,{}),s.dropShadow_color=t=r.color,Me(e,i,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),s.dropShadow_opacity=t=r.opacity,Me(e,i,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(e,t){var n,s,i=e.curStats,r=e.aplStats;null!=i.dropShadow_dx&&(n=3*i.dropShadow_blur,(s={x1:t.x1-n+i.dropShadow_dx,y1:t.y1-n+i.dropShadow_dy,x2:t.x2+n+i.dropShadow_dx,y2:t.y2+n+i.dropShadow_dy}).x1<t.x1&&(t.x1=s.x1),s.y1<t.y1&&(t.y1=s.y1),s.x2>t.x2&&(t.x2=s.x2),s.y2>t.y2&&(t.y2=s.y2),["x","y"].forEach((function(n){var s,a="dropShadow_"+n;i[a]=s=t[n+"1"],Me(e,r,a,s)&&(e.efc_dropShadow_elmFilter[n].baseVal.value=s)})))}}},Object.keys(e).forEach((function(t){var n=e[t],s=n.stats;s[t+"_enabled"]={iniValue:!1},s[t+"_options"]={hasProps:!0},n.anim&&(s[t+"_animOptions"]={},s[t+"_animId"]={})})),t={none:{defaultAnimOptions:{},init:function(e,n){var s=e.curStats;s.show_animId&&(Z.remove(s.show_animId),s.show_animId=null),t.none.start(e,n)},start:function(e,n){t.none.stop(e,!0)},stop:function(e,t,n){var s=e.curStats;return n=null!=n?n:e.aplStats.show_on,s.show_inAnim=!1,t&&Oe(e,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(e,n){var s=e.curStats,i=e.aplStats;s.show_animId&&Z.remove(s.show_animId),s.show_animId=Z.add((function(e){return e}),(function(n,s){s?t.fade.stop(e,!0):(e.svg.style.opacity=n+"",W&&(Ie(e,e.svg),Te(e)))}),i.show_animOptions.duration,1,i.show_animOptions.timing,null,!1),t.fade.start(e,n)},start:function(e,t){var n,s=e.curStats;s.show_inAnim&&(n=Z.stop(s.show_animId)),Oe(e,1),s.show_inAnim=!0,Z.start(s.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var s,i=e.curStats;return n=null!=n?n:e.aplStats.show_on,s=i.show_inAnim?Z.stop(i.show_animId):n?1:0,i.show_inAnim=!1,t&&(e.svg.style.opacity=n?"":"0",Oe(e,n)),s}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(e,n){var s=e.curStats,i=e.aplStats,r=e.pathList.baseVal,a=xe(r),o=a.segsLen,l=a.lenAll;s.show_animId&&Z.remove(s.show_animId),s.show_animId=Z.add((function(e){var t,n,s,i,a=-1;if(0===e)n=[[r[0][0],r[0][0]]];else if(1===e)n=r;else{for(t=l*e,n=[];t>=o[++a];)n.push(r[a]),t-=o[a];t&&(2===(s=r[a]).length?n.push([s[0],ge(s[0],s[1],t/o[a])]):(i=Ae(s[0],s[1],s[2],s[3],be(s[0],s[1],s[2],s[3],t)),n.push([s[0],i.fromP1,i.fromP2,i])))}return n}),(function(n,s){s?t.draw.stop(e,!0):(e.pathList.animVal=n,Le(e,{path:!0}))}),i.show_animOptions.duration,1,i.show_animOptions.timing,null,!1),t.draw.start(e,n)},start:function(e,n){var s,i=e.curStats;i.show_inAnim&&(s=Z.stop(i.show_animId)),Oe(e,1),i.show_inAnim=!0,ke(e,"apl_position",t.draw.update),Z.start(i.show_animId,!e.aplStats.show_on,null!=n?n:s)},stop:function(e,t,n){var s,i=e.curStats;return n=null!=n?n:e.aplStats.show_on,s=i.show_inAnim?Z.stop(i.show_animId):n?1:0,i.show_inAnim=!1,t&&(e.pathList.animVal=n?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],Le(e,{path:!0}),Oe(e,n)),s},update:function(e){Ee(e,"apl_position",t.draw.update),e.curStats.show_inAnim?t.draw.init(e,t.draw.stop(e)):e.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach((function(e){var t=e[0],n=e[1],s=e[2];Object.defineProperty(Ue.prototype,t,{get:function(){var e=null!=s?te[this._id].options[n][s]:n?te[this._id].options[n]:te[this._id].options[t];return null==e?M:ce(e)},set:je(t),enumerable:!0})})),[["path",E],["startSocket",k,"socketSE",0],["endSocket",k,"socketSE",1],["startPlug",_,"plugSE",0],["endPlug",_,"plugSE",1]].forEach((function(e){var t=e[0],n=e[1],s=e[2],i=e[3];Object.defineProperty(Ue.prototype,t,{get:function(){var e,r=null!=i?te[this._id].options[s][i]:s?te[this._id].options[s]:te[this._id].options[t];return r?Object.keys(n).some((function(t){return n[t]===r&&(e=t,!0)}))?e:new Error("It's broken"):M},set:je(t),enumerable:!0})})),Object.keys(e).forEach((function(t){var n=e[t];Object.defineProperty(Ue.prototype,t,{get:function(){var e,s,i=te[this._id].options[t];return Y(i)?(e=i,s=n.optionsConf.reduce((function(t,n){var s,i=n[0],r=n[1],a=n[2],o=n[3],l=n[4],c=null!=l?e[o][l]:o?e[o]:e[r];return t[r]="id"===i?c?Object.keys(a).some((function(e){return a[e]===c&&(s=e,!0)}))?s:new Error("It's broken"):M:null==c?M:ce(c),t}),{}),n.anim&&(s.animation=ce(e.animation)),s):i},set:je(t),enumerable:!0})})),["startLabel","endLabel","middleLabel"].forEach((function(e,t){Object.defineProperty(Ue.prototype,e,{get:function(){var e=te[this._id],n=e.options;return n.labelSEM[t]&&!e.optionIsAttach.labelSEM[t]?se[n.labelSEM[t]._id].text:n.labelSEM[t]||""},set:je(e),enumerable:!0})})),Ue.prototype.setOptions=function(e){return Ge(te[this._id],e),this},Ue.prototype.position=function(){return Le(te[this._id],{position:!0}),this},Ue.prototype.remove=function(){var t=te[this._id],n=t.curStats;Object.keys(e).forEach((function(e){var t=e+"_animId";n[t]&&Z.remove(n[t])})),n.show_animId&&Z.remove(n.show_animId),t.attachments.slice().forEach((function(e){We(t,e)})),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete te[this._id]},Ue.prototype.show=function(e,t){return Ve(te[this._id],!0,e,t),this},Ue.prototype.hide=function(e,t){return Ve(te[this._id],!1,e,t),this},r=function(e){e&&se[e._id]&&(e.boundTargets.slice().forEach((function(t){We(t.props,e,!0)})),e.conf.remove&&e.conf.remove(e),delete se[e._id])},qe.prototype.remove=function(){var e=this,t=se[e._id];t&&(t.boundTargets.slice().forEach((function(e){t.conf.removeOption(t,e)})),Se((function(){var t=se[e._id];t&&r(t)})))},s=qe,window.LeaderLineAttachment=s,i=function(e,t){return e instanceof s&&(!(e.isRemoved||t&&se[e._id].conf.type!==t)||null)},n={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:he}],init:function(e,t){return e.element=n.pointAnchor.checkElement(t.element),e.x=n.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=n.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(e,t){var i=t.props,r={},a=e.element,o=i.options.anchorSE["start"===t.optionName?1:0];a===o&&(a=o===document.body?new s(n.pointAnchor,[a]):document.body),r[t.optionName]=a,Ge(i,r)},getBBoxNest:function(e,t){var n=fe(e.element,t.baseWindow),s=n.width,i=n.height;return n.width=n.height=0,n.left=n.right=n.left+e.x[0]*(e.x[1]?s:1),n.top=n.bottom=n.top+e.y[0]*(e.y[1]?i:1),n},parsePercent:function(e,t){var n,s,i=!1;return K(e)?s=e:"string"==typeof e&&(n=z.exec(e))&&n[2]&&(i=0!=(s=parseFloat(n[1])/100)),null!=s&&(t||0<=s)?[s,i]:null},checkElement:function(e){if(null==e)e=document.body;else if(!he(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:he},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(e,t){var s,i,r,a=[];return e.element=n.pointAnchor.checkElement(t.element),"string"==typeof t.color&&(e.color=t.color.trim()),"string"==typeof t.fillColor&&(e.fill=t.fillColor.trim()),K(t.size)&&0<=t.size&&(e.size=t.size),t.dash&&(e.dash=!0,K(t.dash.len)&&0<t.dash.len&&(e.dashLen=t.dash.len),K(t.dash.gap)&&0<t.dash.gap&&(e.dashGap=t.dash.gap)),"circle"===t.shape?e.shape=t.shape:"polygon"===t.shape&&Array.isArray(t.points)&&3<=t.points.length&&t.points.every((function(t){var s={};return!(!(s.x=n.pointAnchor.parsePercent(t[0],!0))||!(s.y=n.pointAnchor.parsePercent(t[1],!0))||(a.push(s),(s.x[1]||s.y[1])&&(e.hasRatio=!0),0))}))?(e.shape=t.shape,e.points=a):(e.shape="rect",e.radius=K(t.radius)&&0<=t.radius?t.radius:0),"rect"!==e.shape&&"circle"!==e.shape||(e.x=n.pointAnchor.parsePercent(t.x,!0)||[-.05,!0],e.y=n.pointAnchor.parsePercent(t.y,!0)||[-.05,!0],e.width=n.pointAnchor.parsePercent(t.width)||[1.1,!0],e.height=n.pointAnchor.parsePercent(t.height)||[1.1,!0],(e.x[1]||e.y[1]||e.width[1]||e.height[1])&&(e.hasRatio=!0)),s=e.element.ownerDocument,e.svg=i=s.createElementNS(V,"svg"),i.className.baseVal=C+"-areaAnchor",i.viewBox.baseVal||i.setAttribute("viewBox","0 0 0 0"),e.path=i.appendChild(s.createElementNS(V,"path")),e.path.style.fill=e.fill||"none",e.isShown=!1,i.style.visibility="hidden",s.body.appendChild(i),Re(r=s.defaultView),e.bodyOffset=Be(r),e.updateColor=function(){var t,n=e.curStats,s=e.aplStats,i=e.boundTargets.length?e.boundTargets[0].props.curStats:null;n.color=t=e.color||(i?i.line_color:H.lineColor),Me(e,s,"color",t)&&(e.path.style.stroke=t)},e.updateShow=function(){Oe(e,e.boundTargets.some((function(e){return!0===e.props.isShown})))},!0},bind:function(e,t){var n=t.props;return e.color||ke(n,"cur_line_color",e.updateColor),ke(n,"svgShow",e.updateShow),Se((function(){e.updateColor(),e.updateShow()})),!0},unbind:function(e,t){var s=t.props;e.color||Ee(s,"cur_line_color",e.updateColor),Ee(s,"svgShow",e.updateShow),1<e.boundTargets.length&&Se((function(){e.updateColor(),e.updateShow(),n.areaAnchor.update(e)&&e.boundTargets.forEach((function(e){Le(e.props,{position:!0})}))}))},removeOption:function(e,t){n.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.areaAnchor.unbind(e,t)})),e.svg.parentNode.removeChild(e.svg)},getStrokeWidth:function(e,t){return n.areaAnchor.update(e)&&1<e.boundTargets.length&&Se((function(){e.boundTargets.forEach((function(e){e.props!==t&&Le(e.props,{position:!0})}))})),e.curStats.strokeWidth},getPathData:function(e,t){var n=fe(e.element,t.baseWindow);return ve(e.curStats.pathListRel,(function(e){e.x+=n.left,e.y+=n.top}))},getBBoxNest:function(e,t){var n=fe(e.element,t.baseWindow),s=e.curStats.bBoxRel;return{left:s.left+n.left,top:s.top+n.top,right:s.right+n.left,bottom:s.bottom+n.top,width:s.width,height:s.height}},update:function(e){var t,n,s,i,r,a,o,l,c,u,h,d,p,f,m,g,y,A,w,b,v,x,C,k,E,S,I,T,_,N,D,M,R=e.curStats,F=e.aplStats,L=e.boundTargets.length?e.boundTargets[0].props.curStats:null,z={};if(z.strokeWidth=Me(e,R,"strokeWidth",null!=e.size?e.size:L?L.line_strokeWidth:H.lineSize),t=de(e.element),z.elementWidth=Me(e,R,"elementWidth",t.width),z.elementHeight=Me(e,R,"elementHeight",t.height),z.elementLeft=Me(e,R,"elementLeft",t.left),z.elementTop=Me(e,R,"elementTop",t.top),z.strokeWidth||e.hasRatio&&(z.elementWidth||z.elementHeight)){switch(e.shape){case"rect":(T={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).right=T.left+T.width,T.bottom=T.top+T.height,C=R.strokeWidth/2,v=(x=Math.min(T.width,T.height))?x/2*Math.SQRT2+C:0,S=(b=e.radius?e.radius<=v?e.radius:v:0)?(E=b-(k=(b-C)/Math.SQRT2),I=b*O,S=[{x:T.left-E,y:T.top+k},{x:T.left+k,y:T.top-E},{x:T.right-k,y:T.top-E},{x:T.right+E,y:T.top+k},{x:T.right+E,y:T.bottom-k},{x:T.right-k,y:T.bottom+E},{x:T.left+k,y:T.bottom+E},{x:T.left-E,y:T.bottom-k}],R.pathListRel=[[S[0],{x:S[0].x,y:S[0].y-I},{x:S[1].x-I,y:S[1].y},S[1]]],S[1].x!==S[2].x&&R.pathListRel.push([S[1],S[2]]),R.pathListRel.push([S[2],{x:S[2].x+I,y:S[2].y},{x:S[3].x,y:S[3].y-I},S[3]]),S[3].y!==S[4].y&&R.pathListRel.push([S[3],S[4]]),R.pathListRel.push([S[4],{x:S[4].x,y:S[4].y+I},{x:S[5].x+I,y:S[5].y},S[5]]),S[5].x!==S[6].x&&R.pathListRel.push([S[5],S[6]]),R.pathListRel.push([S[6],{x:S[6].x-I,y:S[6].y},{x:S[7].x,y:S[7].y+I},S[7]]),S[7].y!==S[0].y&&R.pathListRel.push([S[7],S[0]]),R.pathListRel.push([]),E=b-k+R.strokeWidth/2,[{x:T.left-E,y:T.top-E},{x:T.right+E,y:T.bottom+E}]):(E=R.strokeWidth/2,S=[{x:T.left-E,y:T.top-E},{x:T.right+E,y:T.bottom+E}],R.pathListRel=[[S[0],{x:S[1].x,y:S[0].y}],[{x:S[1].x,y:S[0].y},S[1]],[S[1],{x:S[0].x,y:S[1].y}],[]],[{x:T.left-R.strokeWidth,y:T.top-R.strokeWidth},{x:T.right+R.strokeWidth,y:T.bottom+R.strokeWidth}]),R.bBoxRel={left:S[0].x,top:S[0].y,right:S[1].x,bottom:S[1].y,width:S[1].x-S[0].x,height:S[1].y-S[0].y};break;case"circle":(w={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).width||w.height||(w.width=w.height=10),w.width||(w.width=w.height),w.height||(w.height=w.width),w.right=w.left+w.width,w.bottom=w.top+w.height,o=w.left+w.width/2,l=w.top+w.height/2,p=R.strokeWidth/2,f=w.width/2,m=w.height/2,c=f*Math.SQRT2+p,u=m*Math.SQRT2+p,h=c*O,d=u*O,A=[{x:o-c,y:l},{x:o,y:l-u},{x:o+c,y:l},{x:o,y:l+u}],R.pathListRel=[[A[0],{x:A[0].x,y:A[0].y-d},{x:A[1].x-h,y:A[1].y},A[1]],[A[1],{x:A[1].x+h,y:A[1].y},{x:A[2].x,y:A[2].y-d},A[2]],[A[2],{x:A[2].x,y:A[2].y+d},{x:A[3].x+h,y:A[3].y},A[3]],[A[3],{x:A[3].x-h,y:A[3].y},{x:A[0].x,y:A[0].y+d},A[0]],[]],g=c-f+R.strokeWidth/2,y=u-m+R.strokeWidth/2,A=[{x:w.left-g,y:w.top-y},{x:w.right+g,y:w.bottom+y}],R.bBoxRel={left:A[0].x,top:A[0].y,right:A[1].x,bottom:A[1].y,width:A[1].x-A[0].x,height:A[1].y-A[0].y};break;case"polygon":e.points.forEach((function(e){var n=e.x[0]*(e.x[1]?t.width:1),r=e.y[0]*(e.y[1]?t.height:1);s?(n<s.left&&(s.left=n),n>s.right&&(s.right=n),r<s.top&&(s.top=r),r>s.bottom&&(s.bottom=r)):s={left:n,right:n,top:r,bottom:r},i?R.pathListRel.push([i,{x:n,y:r}]):R.pathListRel=[],i={x:n,y:r}})),R.pathListRel.push([]),r=R.strokeWidth/2,a=[{x:s.left-r,y:s.top-r},{x:s.right+r,y:s.bottom+r}],R.bBoxRel={left:a[0].x,top:a[0].y,right:a[1].x,bottom:a[1].y,width:a[1].x-a[0].x,height:a[1].y-a[0].y}}z.pathListRel=z.bBoxRel=!0}return(z.pathListRel||z.elementLeft||z.elementTop)&&(R.pathData=ve(R.pathListRel,(function(e){e.x+=t.left,e.y+=t.top}))),Me(e,F,"strokeWidth",n=R.strokeWidth)&&(e.path.style.strokeWidth=n+"px"),Ce(n=R.pathData,F.pathData)&&(e.path.setPathData(n),F.pathData=n,z.pathData=!0),e.dash&&(!z.pathData&&(!z.strokeWidth||e.dashLen&&e.dashGap)||(R.dashLen=e.dashLen||2*R.strokeWidth,R.dashGap=e.dashGap||R.strokeWidth),z.dash=Me(e,F,"dashLen",R.dashLen)||z.dash,z.dash=Me(e,F,"dashGap",R.dashGap)||z.dash,z.dash&&(e.path.style.strokeDasharray=F.dashLen+","+F.dashGap)),_=R.viewBoxBBox,N=F.viewBoxBBox,D=e.svg.viewBox.baseVal,M=e.svg.style,_.x=R.bBoxRel.left+t.left,_.y=R.bBoxRel.top+t.top,_.width=R.bBoxRel.width,_.height=R.bBoxRel.height,["x","y","width","height"].forEach((function(t){(n=_[t])!==N[t]&&(D[t]=N[t]=n,M[B[t]]=n+("x"===t||"y"===t?e.bodyOffset[t]:0)+"px")})),z.strokeWidth||z.pathListRel||z.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:he},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(e,s){var i,r,a,o,l,c,u,h,d,p,f,m=n.mouseHoverAnchor,g={};if(e.element=n.pointAnchor.checkElement(s.element),!((p=(h=e.element).ownerDocument)&&(d=p.defaultView)&&d.HTMLElement&&h instanceof d.HTMLElement))throw new Error("`element` must be HTML element");return m.style.backgroundSize=m.backgroundSize.width+"px "+m.backgroundSize.height+"px",["style","hoverStyle"].forEach((function(t){var n=m[t];e[t]=Object.keys(n).reduce((function(e,t){return e[t]=n[t],e}),{})})),"inline"===(i=e.element.ownerDocument.defaultView.getComputedStyle(e.element,"")).display?e.style.display="inline-block":"none"===i.display&&(e.style.display="block"),n.mouseHoverAnchor.dirKeys.forEach((function(t){var n=t[0],s="padding"+t[1];parseFloat(i[s])<m.padding[n]&&(e.style[s]=m.padding[n]+"px")})),e.style.display&&(o=e.element.style.display,e.element.style.display=e.style.display),n.mouseHoverAnchor.dirKeys.forEach((function(t){var n="padding"+t[1];e.style[n]&&(g[n]=e.element.style[n],e.element.style[n]=e.style[n])})),(a=e.element.getBoundingClientRect()).height<m.minHeight&&(W?(f=m.minHeight,"content-box"===i.boxSizing?f-=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)+parseFloat(i.paddingTop)+parseFloat(i.paddingBottom):"padding-box"===i.boxSizing&&(f-=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),e.style.height=f+"px"):e.style.height=parseFloat(i.height)+(m.minHeight-a.height)+"px"),e.style.backgroundPosition=j?a.width-m.backgroundSize.width-m.backgroundPosition.right+"px "+m.backgroundPosition.top+"px":"right "+m.backgroundPosition.right+"px top "+m.backgroundPosition.top+"px",e.style.display&&(e.element.style.display=o),n.mouseHoverAnchor.dirKeys.forEach((function(t){var n="padding"+t[1];e.style[n]&&(e.element.style[n]=g[n])})),["style","hoverStyle"].forEach((function(t){var n=e[t],i=s[t];Y(i)&&Object.keys(i).forEach((function(e){"string"==typeof i[e]||K(i[e])?n[e]=i[e]:null==i[e]&&delete n[e]}))})),"function"==typeof s.onSwitch&&(u=s.onSwitch),s.showEffectName&&t[s.showEffectName]&&(e.showEffectName=l=s.showEffectName),c=s.animOptions,e.elmStyle=r=e.element.style,e.mouseenter=function(t){e.hoverStyleSave=m.getStyles(r,Object.keys(e.hoverStyle)),m.setStyles(r,e.hoverStyle),e.boundTargets.forEach((function(e){Ve(e.props,!0,l,c)})),u&&u(t)},e.mouseleave=function(t){m.setStyles(r,e.hoverStyleSave),e.boundTargets.forEach((function(e){Ve(e.props,!1,l,c)})),u&&u(t)},!0},bind:function(e,t){var s,i,r,a,o;return t.props.svg?n.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):Se((function(){n.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)})),e.enabled||(e.styleSave=n.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),n.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(s=e.element,i=e.mouseenter,r=e.mouseleave,"onmouseenter"in s&&"onmouseleave"in s?(s.addEventListener("mouseenter",i,!1),s.addEventListener("mouseleave",r,!1),function(){s.removeEventListener("mouseenter",i,!1),s.removeEventListener("mouseleave",r,!1)}):(a=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||i.apply(this,arguments)},s.addEventListener("mouseover",a),o=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||r.apply(this,arguments)},s.addEventListener("mouseout",o),function(){s.removeEventListener("mouseover",a,!1),s.removeEventListener("mouseout",o,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),n.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),n.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){n.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.mouseHoverAnchor.unbind(e,t)}))},getBBoxNest:function(e,t){return fe(e.element,t.baseWindow)},llShow:function(e,n,s){t[s||e.curStats.show_effect].stop(e,!0,n),e.aplStats.show_on=n},getStyles:function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})},setStyles:function(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}))}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&K(t.offset[0])&&K(t.offset[1])&&(e.offset={x:t.offset[0],y:t.offset[1]}),K(t.lineOffset)&&(e.lineOffset=t.lineOffset),n.captionLabel.textStyleProps.forEach((function(n){null!=t[n]&&(e[n]=t[n])})),e.updateColor=function(t){n.captionLabel.updateColor(e,t)},e.updateSocketXY=function(t){var n,s,i,r,a=e.curStats,o=e.aplStats,l=t.curStats,c=l.position_socketXYSE[e.socketIndex];null!=c.x&&(e.offset?(a.x=c.x+e.offset.x,a.y=c.y+e.offset.y):(n=e.height/2,s=Math.max(l.attach_plugSideLenSE[e.socketIndex]||0,l.line_strokeWidth/2),i=l.position_socketXYSE[e.socketIndex?0:1],4===c.socketId||2===c.socketId?(a.x=4===c.socketId?c.x-n-e.width:c.x+n,a.y=i.y<c.y?c.y+s+n:c.y-s-n-e.height):(a.x=i.x<c.x?c.x+s+n:c.x-s-n-e.width,a.y=1===c.socketId?c.y-n-e.height:c.y+n)),Me(e,o,"x",r=a.x)&&(e.elmPosition.x.baseVal.getItem(0).value=r),Me(e,o,"y",r=a.y)&&(e.elmPosition.y.baseVal.getItem(0).value=r+e.height))},e.updatePath=function(t){var s,i,r=e.curStats,a=e.aplStats,o=t.pathList.animVal||t.pathList.baseVal;o&&(s=n.captionLabel.getMidPoint(o,e.lineOffset),r.x=s.x-e.width/2,r.y=s.y-e.height/2,Me(e,a,"x",i=r.x)&&(e.elmPosition.x.baseVal.getItem(0).value=i),Me(e,a,"y",i=r.y)&&(e.elmPosition.y.baseVal.getItem(0).value=i+e.height))},e.updateShow=function(t){n.captionLabel.updateShow(e,t)},j&&(e.adjustEdge=function(t,s){var i=e.curStats;null!=i.x&&n.captionLabel.adjustEdge(s,{x:i.x,y:i.y,width:e.width,height:e.height},e.strokeWidth/2)}),!0)},updateColor:function(e,t){var n,s=e.curStats,i=e.aplStats,r=t.curStats;s.color=n=e.color||r.line_color,Me(e,i,"color",n)&&(e.styleFill.fill=n)},updateShow:function(e,t){var n=!0===t.isShown;n!==e.isShown&&(e.styleShow.visibility=n?"":"hidden",e.isShown=n)},adjustEdge:function(e,t,n){var s={x1:t.x-n,y1:t.y-n,x2:t.x+t.width+n,y2:t.y+t.height+n};s.x1<e.x1&&(e.x1=s.x1),s.y1<e.y1&&(e.y1=s.y1),s.x2>e.x2&&(e.x2=s.x2),s.y2>e.y2&&(e.y2=s.y2)},newText:function(e,t,n,s,i){var r,a,o,c,u,h=t.createElementNS(V,"text");return h.textContent=e,[h.x,h.y].forEach((function(e){var t=n.createSVGLength();t.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),e.baseVal.initialize(t)})),"boolean"!=typeof l&&(l="paintOrder"in h.style),i&&!l?(a=t.createElementNS(V,"defs"),h.id=s,a.appendChild(h),(c=(r=t.createElementNS(V,"g")).appendChild(t.createElementNS(V,"use"))).href.baseVal="#"+s,(o=r.appendChild(t.createElementNS(V,"use"))).href.baseVal="#"+s,(u=c.style).strokeLinejoin="round",{elmPosition:h,styleText:h.style,styleFill:o.style,styleStroke:u,styleShow:r.style,elmsAppend:[a,r]}):(u=h.style,i&&(u.strokeLinejoin="round",u.paintOrder="stroke"),{elmPosition:h,styleText:u,styleFill:u,styleStroke:i?u:null,styleShow:u,elmsAppend:[h]})},getMidPoint:function(e,t){var n,s,i=xe(e),r=i.segsLen,a=i.lenAll,o=-1,l=a/2+(t||0);if(l<=0)return 2===(n=e[0]).length?ge(n[0],n[1],0):Ae(n[0],n[1],n[2],n[3],0);if(a<=l)return 2===(n=e[e.length-1]).length?ge(n[0],n[1],1):Ae(n[0],n[1],n[2],n[3],1);for(s=[];l>r[++o];)s.push(e[o]),l-=r[o];return 2===(n=e[o]).length?ge(n[0],n[1],l/r[o]):Ae(n[0],n[1],n[2],n[3],be(n[0],n[1],n[2],n[3],l))},initSvg:function(e,t){var s,i,r=n.captionLabel.newText(e.text,t.baseWindow.document,t.svg,C+"-captionLabel-"+e._id,e.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach((function(t){e[t]=r[t]})),e.isShown=!1,e.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach((function(t){null!=e[t]&&(r.styleText[t]=e[t])})),r.elmsAppend.forEach((function(e){t.svg.appendChild(e)})),s=r.elmPosition.getBBox(),e.width=s.width,e.height=s.height,e.outlineColor&&(i=10<(i=s.height/9)?10:i<2?2:i,r.styleStroke.strokeWidth=i+"px",r.styleStroke.stroke=e.outlineColor),e.strokeWidth=i||0,De(e.aplStats,n.captionLabel.stats),e.updateColor(t),e.refSocketXY?e.updateSocketXY(t):e.updatePath(t),j&&Le(t,{}),e.updateShow(t)},bind:function(e,t){var s=t.props;return e.color||ke(s,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===t.optionName||"endLabel"===t.optionName)?(e.socketIndex="startLabel"===t.optionName?0:1,ke(s,"apl_position",e.updateSocketXY),e.offset||(ke(s,"cur_attach_plugSideLenSE",e.updateSocketXY),ke(s,"cur_line_strokeWidth",e.updateSocketXY))):ke(s,"apl_path",e.updatePath),ke(s,"svgShow",e.updateShow),j&&ke(s,"new_edge4viewBox",e.adjustEdge),n.captionLabel.initSvg(e,s),!0},unbind:function(e,t){var s=t.props;e.elmsAppend&&(e.elmsAppend.forEach((function(e){s.svg.removeChild(e)})),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),De(e.curStats,n.captionLabel.stats),De(e.aplStats,n.captionLabel.stats),e.color||Ee(s,"cur_line_color",e.updateColor),e.refSocketXY?(Ee(s,"apl_position",e.updateSocketXY),e.offset||(Ee(s,"cur_attach_plugSideLenSE",e.updateSocketXY),Ee(s,"cur_line_strokeWidth",e.updateSocketXY))):Ee(s,"apl_path",e.updatePath),Ee(s,"svgShow",e.updateShow),j&&(Ee(s,"new_edge4viewBox",e.adjustEdge),Le(s,{}))},removeOption:function(e,t){var n=t.props,s={};s[t.optionName]="",Ge(n,s)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.captionLabel.unbind(e,t)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",K(t.lineOffset)&&(e.lineOffset=t.lineOffset),n.captionLabel.textStyleProps.forEach((function(n){null!=t[n]&&(e[n]=t[n])})),e.updateColor=function(t){n.captionLabel.updateColor(e,t)},e.updatePath=function(t){var s,i=e.curStats,r=e.aplStats,a=t.curStats,o=t.pathList.animVal||t.pathList.baseVal;o&&(i.pathData=s=n.pathLabel.getOffsetPathData(o,a.line_strokeWidth/2+e.strokeWidth/2+e.height/4,1.25*e.height),Ce(s,r.pathData)&&(e.elmPath.setPathData(s),r.pathData=s,e.bBox=e.elmPosition.getBBox(),e.updateStartOffset(t)))},e.updateStartOffset=function(t){var n,s,i,r,a=e.curStats,o=e.aplStats,l=t.curStats;a.pathData&&(2===e.semIndex&&!e.lineOffset||(i=a.pathData.reduce((function(e,t){var n,i=t.values;switch(t.type){case"M":s={x:i[0],y:i[1]};break;case"L":n={x:i[0],y:i[1]},s&&(e+=me(s,n)),s=n;break;case"C":n={x:i[4],y:i[5]},s&&(e+=we(s,{x:i[0],y:i[1]},{x:i[2],y:i[3]},n)),s=n}return e}),0),r=0===e.semIndex?0:1===e.semIndex?i:i/2,2!==e.semIndex&&(n=Math.max(l.attach_plugBackLenSE[e.semIndex]||0,l.line_strokeWidth/2)+e.strokeWidth/2+e.height/4,r=(r+=0===e.semIndex?n:-n)<0?0:i<r?i:r),e.lineOffset&&(r=(r+=e.lineOffset)<0?0:i<r?i:r),a.startOffset=r,Me(e,o,"startOffset",r)&&(e.elmOffset.startOffset.baseVal.value=r)))},e.updateShow=function(t){n.captionLabel.updateShow(e,t)},j&&(e.adjustEdge=function(t,s){e.bBox&&n.captionLabel.adjustEdge(s,e.bBox,e.strokeWidth/2)}),!0)},getOffsetPathData:function(e,t,n){var s,i,r=[];function a(e,t){return Math.abs(e.x-t.x)<3&&Math.abs(e.y-t.y)<3}return e.forEach((function(e){var n,i,o,l,c,u,h,d,p,f,m,g,y,A,w,b,v,x,C,k,E;2===e.length?(x=e[0],C=e[1],k=t,E=Math.atan2(x.y-C.y,C.x-x.x)+.5*Math.PI,n=[{x:x.x+Math.cos(E)*k,y:x.y+Math.sin(E)*k*-1},{x:C.x+Math.cos(E)*k,y:C.y+Math.sin(E)*k*-1}],s?(o=s.points,0<=(l=Math.atan2(o[1].y-o[0].y,o[0].x-o[1].x)-Math.atan2(e[0].y-e[1].y,e[1].x-e[0].x))&&l<=Math.PI?i={type:"line",points:n,inside:!0}:(u=ye(o[0],o[1],t),c=ye(n[1],n[0],t),d=o[0],f=c,m=n[1],g=(p=u).x-d.x,y=p.y-d.y,A=m.x-f.x,w=m.y-f.y,b=(-y*(d.x-f.x)+g*(d.y-f.y))/(-A*y+g*w),v=(A*(d.y-f.y)-w*(d.x-f.x))/(-A*y+g*w),i=(h=0<=b&&b<=1&&0<=v&&v<=1?{x:d.x+v*g,y:d.y+v*y}:null)?{type:"line",points:[o[1]=h,n[1]]}:(o[1]=a(c,u)?c:u,{type:"line",points:[c,n[1]]}),s.len=me(o[0],o[1]))):i={type:"line",points:n},i.len=me(i.points[0],i.points[1]),r.push(s=i)):(r.push({type:"cubic",points:function(e,t,n,s,i){for(var r,a,o=we(e,t,n,s)/16,l=1/(16<i?i/16*o:o),c=[],u=0;a=(90-(r=Ae(e,t,n,s,u)).angle)*(Math.PI/180),c.push({x:r.x+Math.cos(a)*i,y:r.y+Math.sin(a)*i*-1}),!(1<=u);)1<(u+=l)&&(u=1);return c}(e[0],e[1],e[2],e[3],t)}),s=null)})),s=null,r.forEach((function(e){var i;s="line"===e.type?(e.inside&&(s.len>t?((i=s.points)[1]=ye(i[0],i[1],-t),s.len=me(i[0],i[1])):(s.points=null,s.len=0),e.len>t+n?((i=e.points)[0]=ye(i[1],i[0],-(t+n)),e.len=me(i[0],i[1])):(e.points=null,e.len=0)),e):null})),r.reduce((function(e,t){var n=t.points;return n&&(i&&a(n[0],i)||e.push({type:"M",values:[n[0].x,n[0].y]}),"line"===t.type?e.push({type:"L",values:[n[1].x,n[1].y]}):(n.shift(),n.forEach((function(t){e.push({type:"L",values:[t.x,t.y]})}))),i=n[n.length-1]),e}),[])},newText:function(e,t,n,s){var i,r,a,o,c,u,h,d,p=t.createElementNS(V,"defs"),f=p.appendChild(t.createElementNS(V,"path"));return f.id=i=n+"-path",(o=(a=t.createElementNS(V,"text")).appendChild(t.createElementNS(V,"textPath"))).href.baseVal="#"+i,o.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.textContent=e,"boolean"!=typeof l&&(l="paintOrder"in a.style),s&&!l?(a.id=r=n+"-text",p.appendChild(a),(h=(c=t.createElementNS(V,"g")).appendChild(t.createElementNS(V,"use"))).href.baseVal="#"+r,(u=c.appendChild(t.createElementNS(V,"use"))).href.baseVal="#"+r,(d=h.style).strokeLinejoin="round",{elmPosition:a,elmPath:f,elmOffset:o,styleText:a.style,styleFill:u.style,styleStroke:d,styleShow:c.style,elmsAppend:[p,c]}):(d=a.style,s&&(d.strokeLinejoin="round",d.paintOrder="stroke"),{elmPosition:a,elmPath:f,elmOffset:o,styleText:d,styleFill:d,styleStroke:s?d:null,styleShow:d,elmsAppend:[p,a]})},initSvg:function(e,t){var s,i,r=n.pathLabel.newText(e.text,t.baseWindow.document,C+"-pathLabel-"+e._id,e.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach((function(t){e[t]=r[t]})),e.isShown=!1,e.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach((function(t){null!=e[t]&&(r.styleText[t]=e[t])})),r.elmsAppend.forEach((function(e){t.svg.appendChild(e)})),r.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),s=r.elmPosition.getBBox(),r.styleText.textAnchor=["start","end","middle"][e.semIndex],2!==e.semIndex||e.lineOffset||r.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),e.height=s.height,e.outlineColor&&(i=10<(i=s.height/9)?10:i<2?2:i,r.styleStroke.strokeWidth=i+"px",r.styleStroke.stroke=e.outlineColor),e.strokeWidth=i||0,De(e.aplStats,n.pathLabel.stats),e.updateColor(t),e.updatePath(t),e.updateStartOffset(t),j&&Le(t,{}),e.updateShow(t)},bind:function(e,t){var s=t.props;return e.color||ke(s,"cur_line_color",e.updateColor),ke(s,"cur_line_strokeWidth",e.updatePath),ke(s,"apl_path",e.updatePath),e.semIndex="startLabel"===t.optionName?0:"endLabel"===t.optionName?1:2,2===e.semIndex&&!e.lineOffset||ke(s,"cur_attach_plugBackLenSE",e.updateStartOffset),ke(s,"svgShow",e.updateShow),j&&ke(s,"new_edge4viewBox",e.adjustEdge),n.pathLabel.initSvg(e,s),!0},unbind:function(e,t){var s=t.props;e.elmsAppend&&(e.elmsAppend.forEach((function(e){s.svg.removeChild(e)})),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),De(e.curStats,n.pathLabel.stats),De(e.aplStats,n.pathLabel.stats),e.color||Ee(s,"cur_line_color",e.updateColor),Ee(s,"cur_line_strokeWidth",e.updatePath),Ee(s,"apl_path",e.updatePath),2===e.semIndex&&!e.lineOffset||Ee(s,"cur_attach_plugBackLenSE",e.updateStartOffset),Ee(s,"svgShow",e.updateShow),j&&(Ee(s,"new_edge4viewBox",e.adjustEdge),Le(s,{}))},removeOption:function(e,t){var n=t.props,s={};s[t.optionName]="",Ge(n,s)},remove:function(e){e.boundTargets.length&&e.boundTargets.forEach((function(t){n.pathLabel.unbind(e,t)}))}}},Object.keys(n).forEach((function(e){Ue[e]=function(){return new s(n[e],Array.prototype.slice.call(arguments))}})),Ue.positionByWindowResize=!0,window.addEventListener("resize",Q.add((function(){Ue.positionByWindowResize&&Object.keys(te).forEach((function(e){Le(te[e],{position:!0})}))})),!1),Ue}();e.exports=t},7503:function(e,t,n){var s;e=n.nmd(e),function(){"use strict";var i={function:!0,object:!0},r=i[typeof window]&&window||this,a=i[typeof t]&&t,o=i.object&&e&&!e.nodeType&&e,l=a&&o&&"object"==typeof n.g&&n.g;!l||l.global!==l&&l.window!==l&&l.self!==l||(r=l);var c=Math.pow(2,53)-1,u=/\bOpera/,h=Object.prototype,d=h.hasOwnProperty,p=h.toString;function f(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function m(e){return e=b(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:f(e)}function g(e,t){for(var n in e)d.call(e,n)&&t(e[n],n,e)}function y(e){return null==e?f(e):p.call(e).slice(8,-1)}function A(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function w(e,t){var n=null;return function(e,t){var n=-1,s=e?e.length:0;if("number"==typeof s&&s>-1&&s<=c)for(;++n<s;)t(e[n],n,e);else g(e,t)}(e,(function(s,i){n=t(n,s,i,e)})),n}function b(e){return String(e).replace(/^ +| +$/g,"")}var v=function e(t){var n=r,s=t&&"object"==typeof t&&"String"!=y(t);s&&(n=t,t=null);var i=n.navigator||{},a=i.userAgent||"";t||(t=a);var o,l,c,h,d,f=s?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(p.toString()),v="Object",x=s?v:"ScriptBridgingProxyObject",C=s?v:"Environment",k=s&&n.java?"JavaPackage":y(n.java),E=s?v:"RuntimeObject",S=/\bJava/.test(k)&&n.java,I=S&&y(n.environment)==C,T=S?"a":"α",_=S?"b":"β",N=n.document||{},D=n.operamini||n.opera,M=u.test(M=s&&D?D["[[Class]]"]:y(D))?M:D=null,B=t,R=[],F=null,O=t==a,L=O&&D&&"function"==typeof D.version&&D.version(),z=w([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||A(n))+"\\b","i").exec(t)&&(n.label||n)})),V=function(e){return w(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||A(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),P=U([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),W=function(e){return w(e,(function(e,n,s){return e||(n[P]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(P)]||RegExp("\\b"+A(s)+"(?:\\b|\\w*\\d)","i").exec(t))&&s}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),G=function(e){return w(e,(function(e,n){var s=n.pattern||A(n);return!e&&(e=RegExp("\\b"+s+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var s={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(s=s[/[\d.]+$/.exec(e)])&&(e="Windows "+s),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),m(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,s,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function U(e){return w(e,(function(e,n){var s=n.pattern||A(n);return!e&&(e=RegExp("\\b"+s+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+s+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+s+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(s,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=m(e[0].replace(RegExp(s,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function j(e){return w(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(z&&(z=[z]),/\bAndroid\b/.test(G)&&!P&&(o=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(P=b(o[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),W&&!P?P=U([W]):W&&P&&(P=P.replace(RegExp("^("+A(W)+")[-_.\\s]","i"),W+" ").replace(RegExp("^("+A(W)+")[-_.]?(\\w)","i"),W+" $2")),(o=/\bGoogle TV\b/.exec(P))&&(P=o[0]),/\bSimulator\b/i.test(t)&&(P=(P?P+" ":"")+"Simulator"),"Opera Mini"==V&&/\bOPiOS\b/.test(t)&&R.push("running in Turbo/Uncompressed mode"),"IE"==V&&/\blike iPhone OS\b/.test(t)?(W=(o=e(t.replace(/like iPhone OS/,""))).manufacturer,P=o.product):/^iP/.test(P)?(V||(V="Safari"),G="iOS"+((o=/ OS ([\d_]+)/i.exec(t))?" "+o[1].replace(/_/g,"."):"")):"Konqueror"==V&&/^Linux\b/i.test(G)?G="Kubuntu":W&&"Google"!=W&&(/Chrome/.test(V)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(P))||/\bAndroid\b/.test(G)&&/^Chrome/.test(V)&&/\bVersion\//i.test(t)?(V="Android Browser",G=/\bAndroid\b/.test(G)?G:"Android"):"Silk"==V?(/\bMobi/i.test(t)||(G="Android",R.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&R.unshift("accelerated")):"UC Browser"==V&&/\bUCWEB\b/.test(t)?R.push("speed mode"):"PaleMoon"==V&&(o=/\bFirefox\/([\d.]+)\b/.exec(t))?R.push("identifying as Firefox "+o[1]):"Firefox"==V&&(o=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(G||(G="Firefox OS"),P||(P=o[1])):!V||(o=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(V))?(V&&!P&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(o+"/")+8))&&(V=null),(o=P||W||G)&&(P||W||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(G))&&(V=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(G)?G:o)+" Browser")):"Electron"==V&&(o=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&R.push("Chromium "+o),L||(L=j(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",A(V),"(?:Firefox|Minefield|NetFront)"])),(o=("iCab"==z&&parseFloat(L)>3?"WebKit":/\bOpera\b/.test(V)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(z)&&"WebKit"||!z&&/\bMSIE\b/i.test(t)&&("Mac OS"==G?"Tasman":"Trident")||"WebKit"==z&&/\bPlayStation\b(?! Vita\b)/i.test(V)&&"NetFront")&&(z=[o]),"IE"==V&&(o=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(V+=" Mobile",G="Windows Phone "+(/\+$/.test(o)?o:o+".x"),R.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(V="IE Mobile",G="Windows Phone 8.x",R.unshift("desktop mode"),L||(L=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=V&&"Trident"==z&&(o=/\brv:([\d.]+)/.exec(t))&&(V&&R.push("identifying as "+V+(L?" "+L:"")),V="IE",L=o[1]),O){if(h="global",d=null!=(c=n)?typeof c[h]:"number",/^(?:boolean|number|string|undefined)$/.test(d)||"object"==d&&!c[h])y(o=n.runtime)==x?(V="Adobe AIR",G=o.flash.system.Capabilities.os):y(o=n.phantom)==E?(V="PhantomJS",L=(o=o.version||null)&&o.major+"."+o.minor+"."+o.patch):"number"==typeof N.documentMode&&(o=/\bTrident\/(\d+)/i.exec(t))?(L=[L,N.documentMode],(o=+o[1]+4)!=L[1]&&(R.push("IE "+L[1]+" mode"),z&&(z[1]=""),L[1]=o),L="IE"==V?String(L[1].toFixed(1)):L[0]):"number"==typeof N.documentMode&&/^(?:Chrome|Firefox)\b/.test(V)&&(R.push("masking as "+V+" "+L),V="IE",L="11.0",z=["Trident"],G="Windows");else if(S&&(B=(o=S.lang.System).getProperty("os.arch"),G=G||o.getProperty("os.name")+" "+o.getProperty("os.version")),I){try{L=n.require("ringo/engine").version.join("."),V="RingoJS"}catch(e){(o=n.system)&&o.global.system==n.system&&(V="Narwhal",G||(G=o[0].os||null))}V||(V="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(o=n.process)&&("object"==typeof o.versions&&("string"==typeof o.versions.electron?(R.push("Node "+o.versions.node),V="Electron",L=o.versions.electron):"string"==typeof o.versions.nw&&(R.push("Chromium "+L,"Node "+o.versions.node),V="NW.js",L=o.versions.nw)),V||(V="Node.js",B=o.arch,G=o.platform,L=(L=/[\d.]+/.exec(o.version))?L[0]:null));G=G&&m(G)}if(L&&(o=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(L)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(O&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(F=/b/i.test(o)?"beta":"alpha",L=L.replace(RegExp(o+"\\+?$"),"")+("beta"==F?_:T)+(/\d+\+?/.exec(o)||"")),"Fennec"==V||"Firefox"==V&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(G))V="Firefox Mobile";else if("Maxthon"==V&&L)L=L.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(P))"Xbox 360"==P&&(G=null),"Xbox 360"==P&&/\bIEMobile\b/.test(t)&&R.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(V)&&(!V||P||/Browser|Mobi/.test(V))||"Windows CE"!=G&&!/Mobi/i.test(t))if("IE"==V&&O)try{null===n.external&&R.unshift("platform preview")}catch(e){R.unshift("embedded")}else(/\bBlackBerry\b/.test(P)||/\bBB10\b/.test(t))&&(o=(RegExp(P.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||L)?(G=((o=[o,/BB10/.test(t)])[1]?(P=null,W="BlackBerry"):"Device Software")+" "+o[0],L=null):this!=g&&"Wii"!=P&&(O&&D||/Opera/.test(V)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==V&&/\bOS X (?:\d+\.){2,}/.test(G)||"IE"==V&&(G&&!/^Win/.test(G)&&L>5.5||/\bWindows XP\b/.test(G)&&L>8||8==L&&!/\bTrident\b/.test(t)))&&!u.test(o=e.call(g,t.replace(u,"")+";"))&&o.name&&(o="ing as "+o.name+((o=o.version)?" "+o:""),u.test(V)?(/\bIE\b/.test(o)&&"Mac OS"==G&&(G=null),o="identify"+o):(o="mask"+o,V=M?m(M.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(o)&&(G=null),O||(L=null)),z=["Presto"],R.push(o));else V+=" Mobile";(o=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(o=[parseFloat(o.replace(/\.(\d)$/,".0$1")),o],"Safari"==V&&"+"==o[1].slice(-1)?(V="WebKit Nightly",F="alpha",L=o[1].slice(0,-1)):L!=o[1]&&L!=(o[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(L=null),o[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==o[0]&&537.36==o[2]&&parseFloat(o[1])>=28&&"WebKit"==z&&(z=["Blink"]),O&&(f||o[1])?(z&&(z[1]="like Chrome"),o=o[1]||((o=o[0])<530?1:o<532?2:o<532.05?3:o<533?4:o<534.03?5:o<534.07?6:o<534.1?7:o<534.13?8:o<534.16?9:o<534.24?10:o<534.3?11:o<535.01?12:o<535.02?"13+":o<535.07?15:o<535.11?16:o<535.19?17:o<536.05?18:o<536.1?19:o<537.01?20:o<537.11?"21+":o<537.13?23:o<537.18?24:o<537.24?25:o<537.36?26:"Blink"!=z?"27":"28")):(z&&(z[1]="like Safari"),o=(o=o[0])<400?1:o<500?2:o<526?3:o<533?4:o<534?"4+":o<535?5:o<537?6:o<538?7:o<601?8:o<602?9:o<604?10:o<606?11:o<608?12:"12"),z&&(z[1]+=" "+(o+="number"==typeof o?".x":/[.+]/.test(o)?"":"+")),"Safari"==V&&(!L||parseInt(L)>45)?L=o:"Chrome"==V&&/\bHeadlessChrome/i.test(t)&&R.unshift("headless")),"Opera"==V&&(o=/\bzbov|zvav$/.exec(G))?(V+=" ",R.unshift("desktop mode"),"zvav"==o?(V+="Mini",L=null):V+="Mobile",G=G.replace(RegExp(" *"+o+"$"),"")):"Safari"==V&&/\bChrome\b/.exec(z&&z[1])?(R.unshift("desktop mode"),V="Chrome Mobile",L=null,/\bOS X\b/.test(G)?(W="Apple",G="iOS 4.3+"):G=null):/\bSRWare Iron\b/.test(V)&&!L&&(L=j("Chrome")),L&&0==L.indexOf(o=/[\d.]+$/.exec(G))&&t.indexOf("/"+o+"-")>-1&&(G=b(G.replace(o,""))),G&&-1!=G.indexOf(V)&&!RegExp(V+" OS").test(G)&&(G=G.replace(RegExp(" *"+A(V)+" *"),"")),z&&!/\b(?:Avant|Nook)\b/.test(V)&&(/Browser|Lunascape|Maxthon/.test(V)||"Safari"!=V&&/^iOS/.test(G)&&/\bSafari\b/.test(z[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(V)&&z[1])&&(o=z[z.length-1])&&R.push(o),R.length&&(R=["("+R.join("; ")+")"]),W&&P&&P.indexOf(W)<0&&R.push("on "+W),P&&R.push((/^on /.test(R[R.length-1])?"":"on ")+P),G&&(o=/ ([\d.+]+)$/.exec(G),l=o&&"/"==G.charAt(G.length-o[0].length-1),G={architecture:32,family:o&&!l?G.replace(o[0],""):G,version:o?o[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(o=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(B))&&!/\bi686\b/i.test(B)?(G&&(G.architecture=64,G.family=G.family.replace(RegExp(" *"+o),"")),V&&(/\bWOW64\b/i.test(t)||O&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&R.unshift("32-bit")):G&&/^OS X/.test(G.family)&&"Chrome"==V&&parseFloat(L)>=39&&(G.architecture=64),t||(t=null);var q={};return q.description=t,q.layout=z&&z[0],q.manufacturer=W,q.name=V,q.prerelease=F,q.product=P,q.ua=t,q.version=V&&L,q.os=G||{architecture:null,family:null,version:null,toString:function(){return"null"}},q.parse=e,q.toString=function(){return this.description||""},q.version&&R.unshift(L),q.name&&R.unshift(V),G&&V&&(G!=String(G).split(" ")[0]||G!=V.split(" ")[0]&&!P)&&R.push(P?"("+G+")":"on "+G),R.length&&(q.description=R.join(" ")),q}();r.platform=v,void 0===(s=function(){return v}.call(t,n,t,e))||(e.exports=s)}.call(this)},115:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,s="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function r(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var o,l,c,u;if(Array.isArray(e)){if((o=e.length)!=a.length)return!1;for(l=o;0!=l--;)if(!r(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!r(l.value[1],a.get(l.value[0])))return!1;return!0}if(s&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((o=e.length)!=a.length)return!1;for(l=o;0!=l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof a.toString)return e.toString()===a.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!r(e[c[l]],a[c[l]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return r(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return!1;throw e}}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var r={},a=[],o=0;o<e.length;o++){var l=e[o],c=s.base?l[0]+s.base:l[0],u=r[c]||0,h="".concat(c," ").concat(u);r[c]=u+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var f=i(p,s);s.byIndex=o,t.splice(o,0,{identifier:h,updater:f,references:1})}a.push(h)}return a}function i(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var r=s(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var o=n(r[a]);t[o].references--}for(var l=s(e,i),c=0;c<r.length;c++){var u=n(r[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}r=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},402:e=>{e.exports='<svg class="size-obj" id="size-arrow" viewBox="0 0 110 100" xmlns="http://www.w3.org/2000/svg"><path id="size-arrow-fill" d="m60 25v-25l-60 50 60 50v-25h50v-50z"></path></svg>'},3389:e=>{e.exports='<svg class="size-obj" id="size-card" viewBox="0 0 242.65 153.01" xmlns="http://www.w3.org/2000/svg"><rect fill="#555" height="153.01" rx="9" width="242.65"></rect><g fill="#595959"><path d="m0 12.79h242.65v1h-242.65z"></path><path d="m0 15.96h242.65v1h-242.65z"></path><path d="m0 19.12h242.65v1h-242.65z"></path><path d="m0 22.28h242.65v1h-242.65z"></path><path d="m0 25.44h242.65v1h-242.65z"></path><path d="m0 28.6h242.65v1h-242.65z"></path><path d="m0 31.76h242.65v1h-242.65z"></path><path d="m0 34.92h242.65v1h-242.65z"></path><path d="m0 38.08h242.65v1h-242.65z"></path><path d="m0 41.24h242.65v1h-242.65z"></path><path d="m0 44.4h242.65v1h-242.65z"></path><path d="m0 47.56h242.65v1h-242.65z"></path><path d="m0 50.72h242.65v1h-242.65z"></path><path d="m0 53.88h242.65v1h-242.65z"></path><path d="m0 57.04h242.65v1h-242.65z"></path><path d="m0 60.2h242.65v1h-242.65z"></path><path d="m0 63.36h242.65v1h-242.65z"></path><path d="m0 66.53h242.65v1h-242.65z"></path><path d="m0 69.69h242.65v1h-242.65z"></path><path d="m0 72.85h242.65v1h-242.65z"></path><path d="m0 76.01h242.65v1h-242.65z"></path><path d="m0 79.17h242.65v1h-242.65z"></path><path d="m0 82.33h242.65v1h-242.65z"></path><path d="m0 85.49h242.65v1h-242.65z"></path><path d="m0 88.65h242.65v1h-242.65z"></path><path d="m0 91.81h242.65v1h-242.65z"></path><path d="m0 94.97h242.65v1h-242.65z"></path><path d="m0 98.13h242.65v1h-242.65z"></path><path d="m0 101.29h242.65v1h-242.65z"></path><path d="m0 104.45h242.65v1h-242.65z"></path><path d="m0 107.61h242.65v1h-242.65z"></path><path d="m0 110.77h242.65v1h-242.65z"></path><path d="m0 113.93h242.65v1h-242.65z"></path><path d="m0 117.1h242.65v1h-242.65z"></path><path d="m0 120.26h242.65v1h-242.65z"></path><path d="m0 123.42h242.65v1h-242.65z"></path><path d="m0 126.58h242.65v1h-242.65z"></path><path d="m0 129.74h242.65v1h-242.65z"></path><path d="m0 132.9h242.65v1h-242.65z"></path><path d="m0 136.06h242.65v1h-242.65z"></path><path d="m0 139.22h242.65v1h-242.65z"></path></g><rect fill="#aaa" height="24.09" rx="4.25" width="34.02" x="20.27" y="53.15"></rect><path d="m28.27 102.89a4.28 4.28 0 0 1 -.8 1.58 3.5 3.5 0 0 1 -1.3 1 4.78 4.78 0 0 1 -3.49 0 3.28 3.28 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.67 4.67 0 0 1 3.5 0 3.64 3.64 0 0 1 1.31 1 4.45 4.45 0 0 1 .8 1.6 7.48 7.48 0 0 1 .29 2.16v3a7.55 7.55 0 0 1 -.29 2.17zm-1.38-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.9 1.9 0 0 0 -.74-.5 2.79 2.79 0 0 0 -1-.17 2.74 2.74 0 0 0 -1 .18 2.07 2.07 0 0 0 -.75.52 2.87 2.87 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.77 1.77 0 0 0 .72.45 3.08 3.08 0 0 0 1.93 0 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m39.08 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.81 4.81 0 0 1 -3.5 0 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.44 4.44 0 0 1 1.75-.34 4.37 4.37 0 0 1 1.79.38 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.86 7.86 0 0 1 .28 2.16v3a7.93 7.93 0 0 1 -.32 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.66 2.66 0 0 0 -1 .18 2 2 0 0 0 -.76.52 2.87 2.87 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 .95.15 2.72 2.72 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m49.88 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.81 4.81 0 0 1 -3.5 0 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .85-1.56 3.44 3.44 0 0 1 1.3-1 4.65 4.65 0 0 1 3.49 0 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.49 7.49 0 0 1 .28 2.16v3a7.56 7.56 0 0 1 -.31 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.25 2.25 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1.02-.14 2.66 2.66 0 0 0 -1 .18 1.91 1.91 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.38 2.38 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 1 .15 2.69 2.69 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.61 2.61 0 0 0 .6-1.12 6.63 6.63 0 0 0 .18-1.64z" fill="#eee"></path><path d="m60.68 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.37 4.37 0 0 1 -1.75.33 4.44 4.44 0 0 1 -1.75-.33 3.43 3.43 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.93 7.93 0 0 1 -.28-2.17v-3a7.86 7.86 0 0 1 .33-2.16 4.48 4.48 0 0 1 .82-1.6 3.52 3.52 0 0 1 1.3-1 4.35 4.35 0 0 1 1.74-.34 4.45 4.45 0 0 1 1.76.34 3.61 3.61 0 0 1 1.3 1 4.63 4.63 0 0 1 .81 1.6 7.49 7.49 0 0 1 .27 2.16v3a7.56 7.56 0 0 1 -.32 2.17zm-1.39-6.32a5 5 0 0 0 -.29-1.12 2.25 2.25 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.69 2.69 0 0 0 -1 .18 1.91 1.91 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.38 2.38 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 .95.15 2.69 2.69 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.61 2.61 0 0 0 .6-1.12 6.6 6.6 0 0 0 .19-1.64z" fill="#eee"></path><path d="m82.28 102.89a4.15 4.15 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.37 4.37 0 0 1 -1.75.33 4.44 4.44 0 0 1 -1.75-.33 3.32 3.32 0 0 1 -1.3-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.67 4.67 0 0 1 3.5 0 3.52 3.52 0 0 1 1.3 1 4.31 4.31 0 0 1 .81 1.6 7.49 7.49 0 0 1 .28 2.16v3a7.56 7.56 0 0 1 -.28 2.17zm-1.39-6.32a4.5 4.5 0 0 0 -.25-1.12 2.39 2.39 0 0 0 -.48-.81 1.9 1.9 0 0 0 -.74-.5 2.79 2.79 0 0 0 -1-.17 2.74 2.74 0 0 0 -1 .18 2.07 2.07 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.36 2.36 0 0 0 .52.81 1.91 1.91 0 0 0 .72.45 2.87 2.87 0 0 0 1 .15 2.78 2.78 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.6 2.6 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m93.09 102.89a4.45 4.45 0 0 1 -.81 1.58 3.5 3.5 0 0 1 -1.3 1 4.35 4.35 0 0 1 -1.74.33 4.4 4.4 0 0 1 -1.75-.33 3.28 3.28 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.49 3.49 0 0 1 1.29-1 4.67 4.67 0 0 1 3.53.04 3.64 3.64 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.86 7.86 0 0 1 .28 2.16v3a7.93 7.93 0 0 1 -.31 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.9 1.9 0 0 0 -.74-.5 2.79 2.79 0 0 0 -1-.17 2.74 2.74 0 0 0 -1 .18 2.07 2.07 0 0 0 -.75.52 2.87 2.87 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4 4 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.84 1.84 0 0 0 .72.45 3.08 3.08 0 0 0 1.93 0 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m103.89 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.81 4.81 0 0 1 -3.5 0 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.56 7.56 0 0 1 -.28-2.17v-3a7.49 7.49 0 0 1 .28-2.16 4.48 4.48 0 0 1 .84-1.56 3.44 3.44 0 0 1 1.3-1 4.65 4.65 0 0 1 3.49 0 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.86 7.86 0 0 1 .28 2.16v3a7.93 7.93 0 0 1 -.3 2.13zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.4 2.4 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.66 2.66 0 0 0 -1 .18 2 2 0 0 0 -.76.52 3 3 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.24 2.24 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 1 .15 2.72 2.72 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.5 2.5 0 0 0 .59-1.12 6.16 6.16 0 0 0 .19-1.64z" fill="#eee"></path><path d="m114.69 102.89a4.45 4.45 0 0 1 -.81 1.58 3.39 3.39 0 0 1 -1.29 1 4.37 4.37 0 0 1 -1.75.33 4.44 4.44 0 0 1 -1.75-.33 3.36 3.36 0 0 1 -1.31-1 4.3 4.3 0 0 1 -.82-1.58 7.93 7.93 0 0 1 -.28-2.17v-3a7.86 7.86 0 0 1 .28-2.16 4.48 4.48 0 0 1 .82-1.6 3.44 3.44 0 0 1 1.3-1 4.65 4.65 0 0 1 3.49 0 3.56 3.56 0 0 1 1.31 1 4.63 4.63 0 0 1 .81 1.6 7.49 7.49 0 0 1 .28 2.16v3a7.56 7.56 0 0 1 -.28 2.17zm-1.39-6.32a5 5 0 0 0 -.25-1.12 2.25 2.25 0 0 0 -.49-.81 1.87 1.87 0 0 0 -.73-.5 2.85 2.85 0 0 0 -1-.17 2.66 2.66 0 0 0 -1 .18 1.91 1.91 0 0 0 -.75.52 2.74 2.74 0 0 0 -.55 1.12 6.11 6.11 0 0 0 -.18 1.57v3zm0 2.68v-1.12l-5 3.8a4.35 4.35 0 0 0 .28 1.13 2.38 2.38 0 0 0 .53.81 1.91 1.91 0 0 0 .72.45 2.83 2.83 0 0 0 1 .15 2.69 2.69 0 0 0 1-.16 2.09 2.09 0 0 0 .73-.49 2.61 2.61 0 0 0 .6-1.12 6.6 6.6 0 0 0 .19-1.64z" fill="#eee"></path><path d="m132.19 105.62v-10.73l-3.35 1.28v-1.49l4.84-1.86h.13v12.8z" fill="#eee"></path><path d="m138.81 105.62v-1.17l4.19-4.66c.37-.42.69-.79.94-1.11a7.55 7.55 0 0 0 .61-.9 3.18 3.18 0 0 0 .32-.76 3.23 3.23 0 0 0 .1-.76 2.42 2.42 0 0 0 -.16-.89 2 2 0 0 0 -.44-.72 2.14 2.14 0 0 0 -.72-.49 2.35 2.35 0 0 0 -.94-.18 3.07 3.07 0 0 0 -1.11.18 2.09 2.09 0 0 0 -.78.52 2.19 2.19 0 0 0 -.47.83 3.6 3.6 0 0 0 -.16 1.08h-1.63a4.12 4.12 0 0 1 .28-1.53 3.73 3.73 0 0 1 2.16-2.06 4.55 4.55 0 0 1 1.75-.32 4.64 4.64 0 0 1 1.63.27 3.62 3.62 0 0 1 1.22.74 3.16 3.16 0 0 1 .77 1.13 3.62 3.62 0 0 1 .27 1.41 3.39 3.39 0 0 1 -.19 1.13 5.86 5.86 0 0 1 -.52 1.11 9.25 9.25 0 0 1 -.77 1.07c-.29.36-.6.71-.92 1.06l-3.43 3.73h6.42v1.33z" fill="#eee"></path><path d="m153.2 98.43a3.33 3.33 0 0 0 1.09-.16 2.35 2.35 0 0 0 .79-.46 1.89 1.89 0 0 0 .49-.69 2.35 2.35 0 0 0 .16-.89 3 3 0 0 0 -.15-1 1.78 1.78 0 0 0 -.44-.71 1.75 1.75 0 0 0 -.69-.4 2.85 2.85 0 0 0 -1-.14 2.81 2.81 0 0 0 -.94.15 2 2 0 0 0 -.73.45 2 2 0 0 0 -.47.69 2.38 2.38 0 0 0 -.17.91h-1.63a3.34 3.34 0 0 1 1.09-2.51 3.68 3.68 0 0 1 1.24-.75 4.35 4.35 0 0 1 1.61-.28 4.94 4.94 0 0 1 1.58.24 3.26 3.26 0 0 1 1.22.69 3.07 3.07 0 0 1 .79 1.13 4 4 0 0 1 .28 1.56 3 3 0 0 1 -.11.77 2.93 2.93 0 0 1 -.36.76 2.88 2.88 0 0 1 -.61.71 3.27 3.27 0 0 1 -.89.55 3.18 3.18 0 0 1 1 .53 2.73 2.73 0 0 1 1 1.58 3.86 3.86 0 0 1 .1.89 4 4 0 0 1 -.3 1.59 3.36 3.36 0 0 1 -.86 1.17 3.71 3.71 0 0 1 -1.29.73 4.84 4.84 0 0 1 -1.6.25 5.08 5.08 0 0 1 -1.58-.24 3.63 3.63 0 0 1 -1.29-.69 3.29 3.29 0 0 1 -.87-1.12 3.44 3.44 0 0 1 -.32-1.5h1.63a2.24 2.24 0 0 0 .17.91 1.85 1.85 0 0 0 .49.71 2.24 2.24 0 0 0 .77.45 3.52 3.52 0 0 0 2 0 2.16 2.16 0 0 0 .77-.44 2.08 2.08 0 0 0 .49-.75 3 3 0 0 0 .17-1 2.49 2.49 0 0 0 -.2-1 2.1 2.1 0 0 0 -.55-.73 2.53 2.53 0 0 0 -.87-.43 4.21 4.21 0 0 0 -1.11-.14h-1.1v-1.39z" fill="#eee"></path><path d="m169.32 101.32v1.32h-1.78v3h-1.63v-3h-5.83v-1l5.73-8.87h1.73v8.5zm-3.41 0v-6.32l-.26.49-3.77 5.85z" fill="#eee"></path><path d="m183.77 92.82h6.57v1.58h-5.2l-.36 3.41a4.87 4.87 0 0 1 .91-.39 4.1 4.1 0 0 1 1.22-.16 4 4 0 0 1 1.59.3 3.37 3.37 0 0 1 1.19.87 3.86 3.86 0 0 1 .76 1.35 5.42 5.42 0 0 1 .26 1.76 5.7 5.7 0 0 1 -.24 1.69 3.76 3.76 0 0 1 -.74 1.35 3.31 3.31 0 0 1 -1.26.89 4.55 4.55 0 0 1 -1.77.32 4.78 4.78 0 0 1 -1.48-.22 3.49 3.49 0 0 1 -1.23-.66 3.38 3.38 0 0 1 -.89-1.11 4.26 4.26 0 0 1 -.44-1.55h1.55a2.54 2.54 0 0 0 .8 1.65 2.48 2.48 0 0 0 1.69.56 2.43 2.43 0 0 0 1-.2 2.08 2.08 0 0 0 .75-.6 2.5 2.5 0 0 0 .45-.91 4.1 4.1 0 0 0 .16-1.2 3.63 3.63 0 0 0 -.17-1.11 2.77 2.77 0 0 0 -.5-.91 2.25 2.25 0 0 0 -.8-.59 2.53 2.53 0 0 0 -1.09-.22 4.68 4.68 0 0 0 -.7 0 2.54 2.54 0 0 0 -.53.17 2.09 2.09 0 0 0 -.44.25c-.14.1-.28.21-.43.34l-1.3-.33z" fill="#eee"></path><path d="m199.34 94.27h-.14a5.15 5.15 0 0 0 -2 .33 3.77 3.77 0 0 0 -1.34.88 3.88 3.88 0 0 0 -.84 1.38 6.13 6.13 0 0 0 -.34 1.65 3.21 3.21 0 0 1 .53-.51 4 4 0 0 1 .65-.41 4.33 4.33 0 0 1 .74-.27 3.86 3.86 0 0 1 .84-.1 3.41 3.41 0 0 1 1.65.37 3.27 3.27 0 0 1 1.15 1 4 4 0 0 1 .66 1.35 5.8 5.8 0 0 1 0 3.23 3.86 3.86 0 0 1 -.76 1.38 3.43 3.43 0 0 1 -1.24.94 4 4 0 0 1 -1.72.34 3.71 3.71 0 0 1 -1.73-.39 4.1 4.1 0 0 1 -1.26-1 4.82 4.82 0 0 1 -.85-1.62 6.31 6.31 0 0 1 -.28-1.86v-.77a13.29 13.29 0 0 1 .38-3.14 5.41 5.41 0 0 1 1.48-2.65 4.9 4.9 0 0 1 1.83-1.14 7.46 7.46 0 0 1 2.45-.38h.14zm-2.92 4.44a2.73 2.73 0 0 0 -.72.37 2.45 2.45 0 0 0 -.59.57 2.81 2.81 0 0 0 -.41.74v.54a4.94 4.94 0 0 0 .21 1.5 3.32 3.32 0 0 0 .54 1.1 2.3 2.3 0 0 0 .79.68 2 2 0 0 0 .94.24 2.31 2.31 0 0 0 1-.22 2.13 2.13 0 0 0 .75-.61 2.69 2.69 0 0 0 .45-.93 4 4 0 0 0 .16-1.17 4.34 4.34 0 0 0 -.14-1.09 3.17 3.17 0 0 0 -.43-1 2.42 2.42 0 0 0 -.73-.66 2.15 2.15 0 0 0 -1-.24 2.4 2.4 0 0 0 -.82.18z" fill="#eee"></path><path d="m207 105.62h-1.71l5.28-11.38h-6.92v-1.42h8.65v.91z" fill="#eee"></path><path d="m222.58 97.36a3 3 0 0 1 -.66 1 4.15 4.15 0 0 1 -.44.38 4.6 4.6 0 0 1 -.48.26 4.33 4.33 0 0 1 .89.52 3.36 3.36 0 0 1 .69.72 3.45 3.45 0 0 1 .44.88 3.33 3.33 0 0 1 .15 1 3.64 3.64 0 0 1 -.32 1.55 3.26 3.26 0 0 1 -.87 1.13 3.85 3.85 0 0 1 -1.29.71 5.08 5.08 0 0 1 -1.58.24 5.22 5.22 0 0 1 -1.61-.24 3.54 3.54 0 0 1 -1.28-.7 3.15 3.15 0 0 1 -.87-1.13 3.65 3.65 0 0 1 -.32-1.56 3.33 3.33 0 0 1 .15-1 3.19 3.19 0 0 1 .43-.89 3.5 3.5 0 0 1 .68-.71 3.74 3.74 0 0 1 .89-.53 3.4 3.4 0 0 1 -.77-.5 3.07 3.07 0 0 1 -.58-.67 3 3 0 0 1 -.37-.79 3 3 0 0 1 -.13-.9 3.7 3.7 0 0 1 .28-1.49 3.05 3.05 0 0 1 .78-1.1 3.37 3.37 0 0 1 1.18-.69 4.87 4.87 0 0 1 3 0 3.56 3.56 0 0 1 1.2.69 3 3 0 0 1 .8 1.1 3.7 3.7 0 0 1 .29 1.49 3.18 3.18 0 0 1 -.28 1.23zm-1.27 3.78a2.38 2.38 0 0 0 -.5-.77 2.25 2.25 0 0 0 -.78-.49 2.84 2.84 0 0 0 -2 0 2.2 2.2 0 0 0 -.77.49 2.18 2.18 0 0 0 -.48.77 2.64 2.64 0 0 0 -.17 1 2.61 2.61 0 0 0 .17 1 2 2 0 0 0 .48.73 2.29 2.29 0 0 0 .77.46 3.22 3.22 0 0 0 1 .15 3.05 3.05 0 0 0 1-.15 2.33 2.33 0 0 0 .78-.46 2.18 2.18 0 0 0 .49-.73 2.61 2.61 0 0 0 .18-1 2.64 2.64 0 0 0 -.17-1zm-.31-5.84a2.24 2.24 0 0 0 -.44-.71 2.17 2.17 0 0 0 -.69-.45 2.21 2.21 0 0 0 -.87-.14 2.39 2.39 0 0 0 -.86.15 1.93 1.93 0 0 0 -.67.45 2 2 0 0 0 -.43.7 2.64 2.64 0 0 0 0 1.81 2 2 0 0 0 .44.68 1.91 1.91 0 0 0 .67.44 2.57 2.57 0 0 0 1.73 0 2.08 2.08 0 0 0 .69-.44 2.21 2.21 0 0 0 .44-.69 2.57 2.57 0 0 0 .15-.9 2.3 2.3 0 0 0 -.16-.9z" fill="#eee"></path><path d="m134.18 130.55a3.06 3.06 0 0 1 -.54 1 2.31 2.31 0 0 1 -.86.66 2.87 2.87 0 0 1 -1.17.22 2.94 2.94 0 0 1 -1.17-.22 2.15 2.15 0 0 1 -.87-.66 2.75 2.75 0 0 1 -.54-1 5 5 0 0 1 -.19-1.45v-2a4.88 4.88 0 0 1 .19-1.44 2.92 2.92 0 0 1 .54-1.07 2.34 2.34 0 0 1 .87-.65 3.07 3.07 0 0 1 2.33 0 2.43 2.43 0 0 1 .87.65 3.26 3.26 0 0 1 .54 1.07 5.25 5.25 0 0 1 .18 1.44v2a5.33 5.33 0 0 1 -.18 1.45zm-.93-4.21a3 3 0 0 0 -.17-.75 1.44 1.44 0 0 0 -.32-.54 1.31 1.31 0 0 0 -.49-.34 2 2 0 0 0 -.67-.11 1.76 1.76 0 0 0 -.68.12 1.29 1.29 0 0 0 -.5.35 1.78 1.78 0 0 0 -.37.74 4.1 4.1 0 0 0 -.12 1v2zm0 1.78v-.75l-3.25 2.54a2.66 2.66 0 0 0 .19.75 1.49 1.49 0 0 0 .35.54 1.31 1.31 0 0 0 .48.3 1.81 1.81 0 0 0 .63.1 1.69 1.69 0 0 0 .66-.11 1.23 1.23 0 0 0 .48-.32 1.79 1.79 0 0 0 .4-.75 4.37 4.37 0 0 0 .12-1.09z" fill="#aaa"></path><path d="m138.25 127.58a2.27 2.27 0 0 0 .72-.11 1.61 1.61 0 0 0 .53-.31 1.39 1.39 0 0 0 .33-.46 1.63 1.63 0 0 0 .11-.59 2.2 2.2 0 0 0 -.1-.67 1.19 1.19 0 0 0 -.3-.47 1.17 1.17 0 0 0 -.46-.27 2.11 2.11 0 0 0 -.64-.09 1.81 1.81 0 0 0 -.63.1 1.31 1.31 0 0 0 -.48.3 1.27 1.27 0 0 0 -.32.46 1.64 1.64 0 0 0 -.11.6h-1.09a2.4 2.4 0 0 1 .19-.92 2.47 2.47 0 0 1 .54-.75 2.56 2.56 0 0 1 .83-.5 3 3 0 0 1 1.07-.18 3.46 3.46 0 0 1 1.05.15 2.27 2.27 0 0 1 .82.46 2.06 2.06 0 0 1 .52.76 2.61 2.61 0 0 1 .19 1 1.59 1.59 0 0 1 -.08.51 1.67 1.67 0 0 1 -.23.51 2.23 2.23 0 0 1 -.41.47 2 2 0 0 1 -.59.37 2 2 0 0 1 .69.35 1.73 1.73 0 0 1 .45.49 1.7 1.7 0 0 1 .23.56 2.46 2.46 0 0 1 .07.6 2.57 2.57 0 0 1 -.21 1.06 2.29 2.29 0 0 1 -.56.78 2.58 2.58 0 0 1 -.86.48 3.12 3.12 0 0 1 -1.07.17 3.32 3.32 0 0 1 -1.06-.16 2.45 2.45 0 0 1 -.86-.46 2.24 2.24 0 0 1 -.79-1.75h1.09a1.48 1.48 0 0 0 .11.61 1.31 1.31 0 0 0 .32.47 1.58 1.58 0 0 0 .52.3 2 2 0 0 0 .67.11 2.35 2.35 0 0 0 .67-.1 1.29 1.29 0 0 0 .83-.79 1.86 1.86 0 0 0 .12-.7 1.6 1.6 0 0 0 -.14-.69 1.32 1.32 0 0 0 -.36-.48 1.58 1.58 0 0 0 -.58-.29 2.83 2.83 0 0 0 -.74-.09h-.77v-.88z" fill="#aaa"></path><path d="m143.87 132.48 3.56-9.26h1l-3.56 9.26z" fill="#aaa"></path><path d="m150.26 132.48v-.78l2.79-3.1c.25-.28.46-.53.63-.74a6.22 6.22 0 0 0 .4-.6 2.18 2.18 0 0 0 .22-.51 2.07 2.07 0 0 0 .06-.5 1.72 1.72 0 0 0 -.1-.6 1.5 1.5 0 0 0 -.3-.48 1.43 1.43 0 0 0 -.47-.33 1.61 1.61 0 0 0 -.63-.12 1.82 1.82 0 0 0 -.74.13 1.27 1.27 0 0 0 -.52.34 1.5 1.5 0 0 0 -.32.55 2.37 2.37 0 0 0 -.1.72h-1.09a2.63 2.63 0 0 1 .19-1 2.47 2.47 0 0 1 .54-.84 2.63 2.63 0 0 1 .87-.57 3.35 3.35 0 0 1 2.25 0 2.31 2.31 0 0 1 .82.5 2.17 2.17 0 0 1 .51.75 2.42 2.42 0 0 1 .18.94 2.15 2.15 0 0 1 -.13.75 3.78 3.78 0 0 1 -.34.74 6.49 6.49 0 0 1 -.52.72c-.19.23-.39.47-.61.7l-2.29 2.49h4.28v.88z" fill="#aaa"></path><path d="m163 130.55a2.75 2.75 0 0 1 -.54 1 2.23 2.23 0 0 1 -.86.66 3.19 3.19 0 0 1 -2.33 0 2.09 2.09 0 0 1 -.87-.66 2.91 2.91 0 0 1 -.55-1 5.31 5.31 0 0 1 -.19-1.45v-2a5.23 5.23 0 0 1 .19-1.44 3.09 3.09 0 0 1 .55-1.07 2.31 2.31 0 0 1 .86-.65 3.07 3.07 0 0 1 2.33 0 2.43 2.43 0 0 1 .87.65 2.92 2.92 0 0 1 .54 1.07 4.88 4.88 0 0 1 .19 1.44v2a5 5 0 0 1 -.19 1.45zm-.92-4.21a3.47 3.47 0 0 0 -.17-.75 1.45 1.45 0 0 0 -.33-.54 1.23 1.23 0 0 0 -.49-.34 1.92 1.92 0 0 0 -.67-.11 1.83 1.83 0 0 0 -.68.12 1.37 1.37 0 0 0 -.5.35 1.91 1.91 0 0 0 -.37.74 4.1 4.1 0 0 0 -.12 1v2zm0 1.78v-.75l-3.32 2.54a3 3 0 0 0 .19.75 1.63 1.63 0 0 0 .35.54 1.31 1.31 0 0 0 .48.3 1.83 1.83 0 0 0 .64.1 1.67 1.67 0 0 0 .65-.11 1.34 1.34 0 0 0 .49-.32 1.68 1.68 0 0 0 .39-.75 3.92 3.92 0 0 0 .13-1.09z" fill="#aaa"></path><path d="m21.35 128.88v3.48h-1.08v-8.53h2.5a4.45 4.45 0 0 1 1.12.17 2.83 2.83 0 0 1 .93.48 2.21 2.21 0 0 1 .62.79 2.6 2.6 0 0 1 .22 1.12 2.35 2.35 0 0 1 -.12.77 2.3 2.3 0 0 1 -.33.62 2.37 2.37 0 0 1 -.5.5 3 3 0 0 1 -.65.37l1.82 3.64v.07h-1.15l-1.68-3.48zm1.45-.88a2.15 2.15 0 0 0 .68-.11 1.74 1.74 0 0 0 .57-.31 1.48 1.48 0 0 0 .38-.51 1.45 1.45 0 0 0 .14-.68 1.81 1.81 0 0 0 -.13-.72 1.48 1.48 0 0 0 -.38-.51 1.57 1.57 0 0 0 -.57-.31 2.36 2.36 0 0 0 -.72-.12h-1.42v3.27z" fill="#aaa"></path><path d="m29.17 131.07a.8.8 0 0 1 .63-.25.81.81 0 0 1 .65.25.88.88 0 0 1 .22.59.8.8 0 0 1 -.23.58.83.83 0 0 1 -.64.24.79.79 0 0 1 -.63-.24.85.85 0 0 1 -.22-.58.88.88 0 0 1 .22-.59z" fill="#aaa"></path><path d="m46 130.89a2.7 2.7 0 0 1 -.59.84 2.82 2.82 0 0 1 -.87.56 3.1 3.1 0 0 1 -1.12.19 2.93 2.93 0 0 1 -1-.15 2.78 2.78 0 0 1 -.76-.41 2.63 2.63 0 0 1 -.58-.62 3.2 3.2 0 0 1 -.4-.78 5.07 5.07 0 0 1 -.25-.89 5.74 5.74 0 0 1 -.08-.93v-1.19a5.86 5.86 0 0 1 .08-.94 5.33 5.33 0 0 1 .25-.89 3.2 3.2 0 0 1 .4-.78 2.45 2.45 0 0 1 .58-.62 2.53 2.53 0 0 1 .76-.41 2.93 2.93 0 0 1 1-.15 3.19 3.19 0 0 1 1.15.19 2.51 2.51 0 0 1 .86.56 2.92 2.92 0 0 1 .59.86 4.28 4.28 0 0 1 .29 1.12h-1.12a2.71 2.71 0 0 0 -.18-.72 1.92 1.92 0 0 0 -.35-.59 1.52 1.52 0 0 0 -.53-.4 1.84 1.84 0 0 0 -.74-.14 1.62 1.62 0 0 0 -.68.13 1.52 1.52 0 0 0 -.51.34 2.06 2.06 0 0 0 -.36.5 4 4 0 0 0 -.23.61 3.82 3.82 0 0 0 -.12.66 5 5 0 0 0 0 .66v1.2a4.82 4.82 0 0 0 0 .65 3.82 3.82 0 0 0 .12.66 3.67 3.67 0 0 0 .23.61 1.68 1.68 0 0 0 .36.51 1.54 1.54 0 0 0 .51.35 1.76 1.76 0 0 0 .68.12 1.85 1.85 0 0 0 .74-.13 1.47 1.47 0 0 0 .53-.38 1.82 1.82 0 0 0 .35-.57 2.71 2.71 0 0 0 .18-.72h1.09a4.29 4.29 0 0 1 -.28 1.09z" fill="#aaa"></path><path d="m51.65 132.06c0-.13 0-.25 0-.39a2.25 2.25 0 0 1 -.37.31 2.13 2.13 0 0 1 -.44.26 2.9 2.9 0 0 1 -.52.18 2.74 2.74 0 0 1 -.59.06 2.9 2.9 0 0 1 -.91-.14 2.32 2.32 0 0 1 -.69-.4 1.69 1.69 0 0 1 -.44-.59 1.85 1.85 0 0 1 -.15-.74 2 2 0 0 1 .2-.92 1.84 1.84 0 0 1 .59-.65 2.75 2.75 0 0 1 .92-.39 5 5 0 0 1 1.2-.13h1.18v-.52a1.19 1.19 0 0 0 -.1-.51 1.08 1.08 0 0 0 -.3-.4 1.6 1.6 0 0 0 -.47-.24 2.2 2.2 0 0 0 -1.21 0 1.58 1.58 0 0 0 -.43.22 1.18 1.18 0 0 0 -.27.32.86.86 0 0 0 -.1.38h-1.14a1.72 1.72 0 0 1 .18-.68 2.16 2.16 0 0 1 .5-.6 2.6 2.6 0 0 1 .79-.43 3.19 3.19 0 0 1 1.06-.16 3.56 3.56 0 0 1 1 .13 2.39 2.39 0 0 1 .8.39 1.92 1.92 0 0 1 .53.67 2.12 2.12 0 0 1 .2.93v2.98a5.29 5.29 0 0 0 0 .67 3.07 3.07 0 0 0 .17.62v.09h-1.08a1 1 0 0 1 -.11-.32zm-1.22-.6a2.61 2.61 0 0 0 .51-.22 1.66 1.66 0 0 0 .38-.31 1.27 1.27 0 0 0 .26-.36v-1.28h-1a4.1 4.1 0 0 0 -1 .1 1.55 1.55 0 0 0 -.66.29.94.94 0 0 0 -.27.33 1 1 0 0 0 -.09.44 1.23 1.23 0 0 0 .08.44.88.88 0 0 0 .24.34 1.06 1.06 0 0 0 .39.23 1.89 1.89 0 0 0 .56.08 2.21 2.21 0 0 0 .6-.08z" fill="#aaa"></path><path d="m57.84 123.36v8.07h2.07v.93h-5.31v-.93h2.16v-7.12h-2.16v-1z" fill="#aaa"></path><path d="m64.68 126v5.41h2.07v.93h-5.31v-.93h2.16v-4.41h-2.16v-1zm-1.18-1.9a.46.46 0 0 1 .14-.21.56.56 0 0 1 .2-.12.75.75 0 0 1 .54 0 .52.52 0 0 1 .19.12.48.48 0 0 1 .14.2.76.76 0 0 1 .05.27.61.61 0 0 1 -.16.44.64.64 0 0 1 -.49.18.63.63 0 0 1 -.49-.18.61.61 0 0 1 -.16-.44.75.75 0 0 1 .04-.26z" fill="#aaa"></path><path d="m73.43 130.06a3.79 3.79 0 0 1 -.18.72 3.12 3.12 0 0 1 -.42.79 2.24 2.24 0 0 1 -.61.58 2.15 2.15 0 0 1 -.56.24 2.41 2.41 0 0 1 -.67.09 2.57 2.57 0 0 1 -.75-.1 1.86 1.86 0 0 1 -.6-.29 2.43 2.43 0 0 1 -.25-.2 1.79 1.79 0 0 1 -.22-.25v.72h-1v-9h1.03v3.34a2.13 2.13 0 0 1 .3-.3 1.74 1.74 0 0 1 .36-.24 1.93 1.93 0 0 1 .51-.19 2.93 2.93 0 0 1 .61-.06 2.33 2.33 0 0 1 .76.11 2.08 2.08 0 0 1 1.07.76 3.53 3.53 0 0 1 .36.6 4.41 4.41 0 0 1 .24.82 5.58 5.58 0 0 1 .08.94v.12a5.1 5.1 0 0 1 -.06.8zm-1.06-1.5a4.28 4.28 0 0 0 -.12-.54 3 3 0 0 0 -.27-.57 1.38 1.38 0 0 0 -.8-.56 1.65 1.65 0 0 0 -1.4.21 1.44 1.44 0 0 0 -.33.32 2 2 0 0 0 -.25.39v2.77a3.73 3.73 0 0 0 .25.39 1.93 1.93 0 0 0 .33.31 1.56 1.56 0 0 0 .43.21 1.61 1.61 0 0 0 .51.07 1.49 1.49 0 0 0 .49-.07 1.24 1.24 0 0 0 .4-.19 1.46 1.46 0 0 0 .4-.42 2.87 2.87 0 0 0 .25-.56 2.61 2.61 0 0 0 .11-.5 5.12 5.12 0 0 0 0-.56v-.12a5.49 5.49 0 0 0 0-.58z" fill="#aaa"></path><path d="m79.73 126a1.89 1.89 0 0 1 .49.11l-.14 1.06a4.69 4.69 0 0 0 -.6-.1 5.74 5.74 0 0 0 -.6 0 2.73 2.73 0 0 0 -.72.09 1.75 1.75 0 0 0 -.56.29 1.61 1.61 0 0 0 -.38.4 2.2 2.2 0 0 0 -.27.53v4.06h-1.09v-6.44h1v.85.15a2.9 2.9 0 0 1 .93-.82 2.49 2.49 0 0 1 1.23-.3 4.4 4.4 0 0 1 .71.12z" fill="#aaa"></path><path d="m85.86 132.06c0-.13 0-.25-.06-.39a2.17 2.17 0 0 1 -.36.31 2.43 2.43 0 0 1 -.44.26 3 3 0 0 1 -.53.18 2.65 2.65 0 0 1 -.58.06 2.85 2.85 0 0 1 -.91-.14 2.32 2.32 0 0 1 -.69-.4 1.76 1.76 0 0 1 -.6-1.33 1.92 1.92 0 0 1 .21-.92 1.75 1.75 0 0 1 .59-.65 2.66 2.66 0 0 1 .92-.39 4.82 4.82 0 0 1 1.19-.13h1.19v-.52a1.19 1.19 0 0 0 -.11-.51 1.08 1.08 0 0 0 -.3-.4 1.48 1.48 0 0 0 -.47-.24 2 2 0 0 0 -.62-.09 2 2 0 0 0 -.58.08 1.58 1.58 0 0 0 -.43.22.91.91 0 0 0 -.27.32.75.75 0 0 0 -.1.38h-1.09a1.44 1.44 0 0 1 .18-.68 1.86 1.86 0 0 1 .5-.6 2.48 2.48 0 0 1 .79-.43 3.15 3.15 0 0 1 1.06-.16 3.56 3.56 0 0 1 1 .13 2.49 2.49 0 0 1 .8.39 2 2 0 0 1 .53.67 2.12 2.12 0 0 1 .19.93v2.99a4 4 0 0 0 .06.67 3.1 3.1 0 0 0 .16.62v.09h-1.09a1.5 1.5 0 0 1 -.14-.32zm-1.22-.6a2.52 2.52 0 0 0 .5-.22 1.72 1.72 0 0 0 .39-.31 1.5 1.5 0 0 0 .26-.36v-1.28h-1a4 4 0 0 0 -1 .1 1.66 1.66 0 0 0 -.67.29 1 1 0 0 0 -.26.33 1 1 0 0 0 -.09.44 1.23 1.23 0 0 0 .07.44 1.16 1.16 0 0 0 .24.34 1.2 1.2 0 0 0 .4.23 1.89 1.89 0 0 0 .56.08 2.21 2.21 0 0 0 .6-.08z" fill="#aaa"></path><path d="m91.2 126h2.42v.84h-2.42v3.45a1.77 1.77 0 0 0 .1.61 1 1 0 0 0 .26.38.89.89 0 0 0 .37.2 1.76 1.76 0 0 0 .46.06h.36.37l.33-.06.26-.06.15.77a1.7 1.7 0 0 1 -.33.15l-.42.1-.48.07h-.51a2.52 2.52 0 0 1 -.79-.12 1.73 1.73 0 0 1 -.64-.38 1.87 1.87 0 0 1 -.42-.67 3 3 0 0 1 -.16-1v-3.45h-1.66v-.89h1.66v-1.53h1.09z" fill="#aaa"></path><path d="m95.37 127.86a3.19 3.19 0 0 1 .58-1 2.53 2.53 0 0 1 .9-.68 3 3 0 0 1 2.41 0 2.56 2.56 0 0 1 .91.68 3 3 0 0 1 .57 1 4 4 0 0 1 .2 1.28v.12a4 4 0 0 1 -.2 1.28 3 3 0 0 1 -.57 1 2.82 2.82 0 0 1 -.91.68 2.86 2.86 0 0 1 -1.2.24 2.94 2.94 0 0 1 -1.21-.24 2.78 2.78 0 0 1 -.9-.68 3.19 3.19 0 0 1 -.58-1 4 4 0 0 1 -.2-1.28v-.12a4 4 0 0 1 .2-1.28zm1 2.3a2.33 2.33 0 0 0 .34.75 1.82 1.82 0 0 0 .56.51 1.82 1.82 0 0 0 1.58 0 1.82 1.82 0 0 0 .56-.51 2.57 2.57 0 0 0 .34-.75 3.7 3.7 0 0 0 .11-.9v-.12a3.24 3.24 0 0 0 -.12-.89 2.55 2.55 0 0 0 -.33-.75 2 2 0 0 0 -.57-.51 1.54 1.54 0 0 0 -.79-.19 1.5 1.5 0 0 0 -.78.19 1.71 1.71 0 0 0 -.56.51 2.33 2.33 0 0 0 -.34.75 3.68 3.68 0 0 0 -.11.89v.12a3.7 3.7 0 0 0 .11.9z" fill="#aaa"></path><path d="m107.1 126a1.89 1.89 0 0 1 .49.11l-.15 1.06a4.69 4.69 0 0 0 -.6-.1 5.68 5.68 0 0 0 -.59 0 2.63 2.63 0 0 0 -.72.09 1.7 1.7 0 0 0 -.57.29 1.57 1.57 0 0 0 -.37.4 2.2 2.2 0 0 0 -.27.53v4.06h-1.09v-6.44h1v.85.15a2.9 2.9 0 0 1 .93-.82 2.5 2.5 0 0 1 1.24-.3 4.59 4.59 0 0 1 .7.12z" fill="#aaa"></path></svg>'},627:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"></path><circle cx="12" cy="12" r="3"></circle><path d="M20 4h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65H9.88c-.56 0-1.1.24-1.48.65L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></svg>'},8110:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000"><path d="M0 0h24v24H0z" fill="none"></path><path d="M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></svg>'},980:e=>{e.exports='<svg class="arrow-two-sided-svg arrow-two-sided-horizontal" viewBox="0 0 1440 163" fill="none" xmlns="http://www.w3.org/2000/svg"><path class="arrow-two-sided" fill-rule="evenodd" clip-rule="evenodd" d="M3.49996 88.7818C-0.795805 84.486 -0.795805 77.5212 3.49996 73.2254L73.5035 3.22183C77.7993 -1.07393 84.7641 -1.07393 89.0599 3.22183C93.3557 7.5176 93.3557 14.4824 89.0599 18.7782L37.8345 70.0036L1402.17 70.0036L1350.94 18.7782C1346.64 14.4824 1346.64 7.5176 1350.94 3.22183C1355.24 -1.07394 1362.2 -1.07394 1366.5 3.22183L1436.5 73.2254C1440.8 77.5212 1440.8 84.486 1436.5 88.7817L1366.5 158.785C1362.2 163.081 1355.24 163.081 1350.94 158.785C1346.64 154.49 1346.64 147.525 1350.94 143.229L1402.17 92.0036L37.8345 92.0036L89.0599 143.229C93.3557 147.525 93.3557 154.49 89.0599 158.785C84.7641 163.081 77.7993 163.081 73.5035 158.785L3.49996 88.7818Z"></path></svg>'},3890:e=>{e.exports='<svg class="arrow-two-sided-svg arrow-two-sided-vertical" viewBox="0 0 164 900" fill="none" xmlns="http://www.w3.org/2000/svg"><path class="arrow-two-sided" fill-rule="evenodd" clip-rule="evenodd" d="M74.2218 4C78.5175 -0.295771 85.4824 -0.295771 89.7781 4L159.782 74.0036C164.077 78.2993 164.077 85.2641 159.782 89.5599C155.486 93.8557 148.521 93.8557 144.225 89.5599L93 38.3345L93 861.665L144.225 810.44C148.521 806.144 155.486 806.144 159.782 810.44C164.078 814.736 164.078 821.701 159.782 825.996L89.7782 896C85.4824 900.296 78.5176 900.296 74.2218 896L4.21825 825.996C-0.0775169 821.701 -0.0775172 814.736 4.21825 810.44C8.51402 806.144 15.4788 806.144 19.7746 810.44L71 861.665L71 38.3345L19.7746 89.5599C15.4788 93.8557 8.51397 93.8557 4.2182 89.5599C-0.0775644 85.2642 -0.0775647 78.2993 4.2182 74.0036L74.2218 4Z"></path></svg>'},880:e=>{e.exports='<svg class="size-obj" id="size-usba" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 56.69 90.71"><defs><linearGradient id="a" x1="11.34" y1="17.01" x2="45.35" y2="17.01" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#4d4d4d"></stop><stop offset="0" stop-color="#565656"></stop><stop offset="0.02" stop-color="#757575"></stop><stop offset="0.04" stop-color="#919191"></stop><stop offset="0.05" stop-color="#a7a7a7"></stop><stop offset="0.08" stop-color="#b8b8b8"></stop><stop offset="0.1" stop-color="#c3c3c3"></stop><stop offset="0.14" stop-color="#cacaca"></stop><stop offset="0.25" stop-color="#ccc"></stop><stop offset="0.75" stop-color="#ccc"></stop><stop offset="0.86" stop-color="#cacaca"></stop><stop offset="0.9" stop-color="#c3c3c3"></stop><stop offset="0.92" stop-color="#b8b8b8"></stop><stop offset="0.95" stop-color="#a7a7a7"></stop><stop offset="0.96" stop-color="#919191"></stop><stop offset="0.98" stop-color="#757575"></stop><stop offset="1" stop-color="#565656"></stop><stop offset="1" stop-color="#4d4d4d"></stop></linearGradient></defs><path d="M45.35,34h-34V.71A.71.71,0,0,1,12.05,0h32.6a.7.7,0,0,1,.7.71Z" style="fill:url(#a)"></path><path d="M28.35,34V28.59a.71.71,0,0,0-.86-.69l-2.81.62a.71.71,0,0,1-.86-.69V23.19a.71.71,0,0,1,.86-.69l2.81.62a.71.71,0,0,0,.86-.69V11.59a.71.71,0,0,0-.86-.7l-2.81.62a.71.71,0,0,1-.86-.69V6.19a.7.7,0,0,1,.86-.69l2.81.61a.7.7,0,0,0,.86-.69V0" style="fill:none;stroke:#999;stroke-miterlimit:10;stroke-width:0.30000000000000004px"></path><rect x="16.3" y="14.6" width="7.09" height="4.82" rx="0.71" style="fill:#fff;stroke:#666;stroke-miterlimit:10;stroke-width:0.1px"></rect><rect x="33.31" y="14.6" width="7.09" height="4.82" rx="0.71" style="fill:#fff;stroke:#666;stroke-miterlimit:10;stroke-width:0.1px"></rect><g class="minor"><rect y="34.02" width="56.69" height="56.69" style="fill:#666"></rect><path d="M12.55,84.88a3.87,3.87,0,0,1-.28,1.49,3.68,3.68,0,0,1-.77,1.21,3.61,3.61,0,0,1-1.17.83,3.69,3.69,0,0,1-1.5.3,3.65,3.65,0,0,1-1.5-.3,3.48,3.48,0,0,1-1.17-.82,3.74,3.74,0,0,1-.75-1.21,4.17,4.17,0,0,1-.29-1.5l0-7.7H6.51l0,7.7a3,3,0,0,0,.16,1,2.45,2.45,0,0,0,.44.83,2,2,0,0,0,.7.57,2.08,2.08,0,0,0,1,.22,2.17,2.17,0,0,0,1-.21,2.24,2.24,0,0,0,.71-.58,2.62,2.62,0,0,0,.43-.83,3.6,3.6,0,0,0,.17-1l0-7.7h1.4Z" style="fill:#fff"></path><path d="M20.71,84.79a2.18,2.18,0,0,0-.61-.6,3.7,3.7,0,0,0-.82-.41l-.87-.3c-.4-.13-.81-.29-1.22-.47a6,6,0,0,1-1.13-.67,3.42,3.42,0,0,1-.84-.94,2.51,2.51,0,0,1-.32-1.28,2.7,2.7,0,0,1,.32-1.31,3.33,3.33,0,0,1,.85-1,3.92,3.92,0,0,1,1.19-.6A4.35,4.35,0,0,1,18.59,77a4.06,4.06,0,0,1,1.43.25,3.75,3.75,0,0,1,1.22.69A3.21,3.21,0,0,1,22.09,79a3.12,3.12,0,0,1,.34,1.41H20.94a3,3,0,0,0-.24-.89,2.46,2.46,0,0,0-.47-.7,2.07,2.07,0,0,0-.71-.44,2.49,2.49,0,0,0-.93-.16,2.82,2.82,0,0,0-.81.11,2.42,2.42,0,0,0-.7.35,1.83,1.83,0,0,0-.49.58,1.71,1.71,0,0,0-.18.8,1.34,1.34,0,0,0,.25.83,2.12,2.12,0,0,0,.61.58,5,5,0,0,0,.8.39l.82.27c.42.13.84.29,1.27.47a5,5,0,0,1,1.15.71,2.92,2.92,0,0,1,.83,1,2.73,2.73,0,0,1,.32,1.33A2.54,2.54,0,0,1,22.12,87a3,3,0,0,1-.88.94,3.82,3.82,0,0,1-1.22.58,4.88,4.88,0,0,1-2.95-.08,4.21,4.21,0,0,1-1.37-.79,3.44,3.44,0,0,1-.81-1.05,3.22,3.22,0,0,1-.33-1.33H16a2.47,2.47,0,0,0,.29.94,2,2,0,0,0,.56.69,2.27,2.27,0,0,0,.79.44,3.41,3.41,0,0,0,1,.14,3.31,3.31,0,0,0,.83-.1,2.09,2.09,0,0,0,.74-.34,1.82,1.82,0,0,0,.52-.55,1.62,1.62,0,0,0,.2-.81A1.58,1.58,0,0,0,20.71,84.79Z" style="fill:#fff"></path><path d="M24.58,77.18H28a5.26,5.26,0,0,1,1.37.18,3.86,3.86,0,0,1,1.2.54,2.68,2.68,0,0,1,.83.94,2.8,2.8,0,0,1,.31,1.37,2.54,2.54,0,0,1-.15.81,2.13,2.13,0,0,1-.37.66,2.77,2.77,0,0,1-.53.5,4.63,4.63,0,0,1-.71.38v0a2.55,2.55,0,0,1,.83.37,3.16,3.16,0,0,1,.66.59,2.6,2.6,0,0,1,.42.79,2.85,2.85,0,0,1,.15.94,2.93,2.93,0,0,1-.3,1.41,3.05,3.05,0,0,1-.84,1,3.84,3.84,0,0,1-1.2.64,4.83,4.83,0,0,1-1.41.22H24.58ZM28.05,82a3.11,3.11,0,0,0,.8-.13,2.21,2.21,0,0,0,.7-.36A1.77,1.77,0,0,0,30,81a1.61,1.61,0,0,0,.19-.78,1.67,1.67,0,0,0-.19-.81,1.56,1.56,0,0,0-.49-.56,2.19,2.19,0,0,0-.71-.31,3.77,3.77,0,0,0-.83-.11H26V82Zm-2,5.3h2.22a2.68,2.68,0,0,0,.86-.16,2.3,2.3,0,0,0,.72-.4,1.82,1.82,0,0,0,.5-.63,2.23,2.23,0,0,0,0-1.71,1.75,1.75,0,0,0-.46-.64,1.94,1.94,0,0,0-.7-.4,2.63,2.63,0,0,0-.86-.16H26Z" style="fill:#fff"></path><path d="M34.55,84.17V83h6v1.19Z" style="fill:#fff"></path><path d="M45.44,85.61l-.92,2.94H43.08l3.67-11.37H48l3.61,11.37H50.13l-.9-2.94Zm3.41-1.26-1.5-4.94-1.52,4.94Z" style="fill:#fff"></path></g></svg>'},3282:e=>{e.exports='<svg class="size-obj" id="size-usbc" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 56.69 75.54"><defs><linearGradient id="aaa" x1="16.44" y1="9.43" x2="40.25" y2="9.43" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#4d4d4d"></stop><stop offset="0.01" stop-color="#565656"></stop><stop offset="0.03" stop-color="#757575"></stop><stop offset="0.06" stop-color="#919191"></stop><stop offset="0.09" stop-color="#a7a7a7"></stop><stop offset="0.12" stop-color="#b8b8b8"></stop><stop offset="0.17" stop-color="#c3c3c3"></stop><stop offset="0.23" stop-color="#cacaca"></stop><stop offset="0.4" stop-color="#ccc"></stop><stop offset="0.6" stop-color="#ccc"></stop><stop offset="0.77" stop-color="#cacaca"></stop><stop offset="0.83" stop-color="#c3c3c3"></stop><stop offset="0.88" stop-color="#b8b8b8"></stop><stop offset="0.91" stop-color="#a7a7a7"></stop><stop offset="0.94" stop-color="#919191"></stop><stop offset="0.97" stop-color="#757575"></stop><stop offset="0.99" stop-color="#565656"></stop><stop offset="1" stop-color="#4d4d4d"></stop></linearGradient></defs><g><path d="M40.25,18.85H16.44V.71A.71.71,0,0,1,17.15,0H39.54a.71.71,0,0,1,.71.71Z" style="fill:url(#aaa)"></path></g><g class="minor"><rect y="18.85" width="56.69" height="56.69" style="fill:#333"></rect><path d="M12.75,69.72a3.9,3.9,0,0,1-1.05,2.7,3.59,3.59,0,0,1-1.17.82,3.69,3.69,0,0,1-1.5.3,3.82,3.82,0,0,1-1.5-.29,3.48,3.48,0,0,1-1.17-.82,4,4,0,0,1-.76-1.22,4.29,4.29,0,0,1-.28-1.49l0-7.71H6.71l0,7.71a3.19,3.19,0,0,0,.17,1,2.45,2.45,0,0,0,.44.83,2.09,2.09,0,0,0,.7.58,2.21,2.21,0,0,0,1,.22,2.05,2.05,0,0,0,1-.22,2.11,2.11,0,0,0,.71-.58,2.62,2.62,0,0,0,.43-.83,4,4,0,0,0,.17-1l0-7.71h1.4Z" style="fill:#fff"></path><path d="M20.91,69.63A2.21,2.21,0,0,0,20.3,69a4.19,4.19,0,0,0-.82-.41l-.87-.29a11,11,0,0,1-1.22-.48,5.49,5.49,0,0,1-1.13-.66,3.46,3.46,0,0,1-.84-1A2.37,2.37,0,0,1,15.1,65a2.63,2.63,0,0,1,.32-1.32,3.17,3.17,0,0,1,.85-1,3.72,3.72,0,0,1,1.19-.61,4.66,4.66,0,0,1,1.33-.2,4.29,4.29,0,0,1,1.43.24,4.16,4.16,0,0,1,1.22.69,3.45,3.45,0,0,1,.85,1.08,3.13,3.13,0,0,1,.34,1.42H21.14a3.13,3.13,0,0,0-.24-.9,2.14,2.14,0,0,0-.48-.69,2.11,2.11,0,0,0-.7-.45,2.49,2.49,0,0,0-.93-.16,2.84,2.84,0,0,0-.81.12,2.19,2.19,0,0,0-.7.35,1.83,1.83,0,0,0-.49.58,1.68,1.68,0,0,0-.19.79,1.52,1.52,0,0,0,.25.84,2.42,2.42,0,0,0,.62.57,3.71,3.71,0,0,0,.8.39c.29.11.56.2.82.27a10.82,10.82,0,0,1,1.26.48,4.84,4.84,0,0,1,1.16.7,3.26,3.26,0,0,1,.83,1,2.77,2.77,0,0,1,.32,1.34,2.51,2.51,0,0,1-.34,1.33,3.08,3.08,0,0,1-.88,1,4.14,4.14,0,0,1-1.22.57,4.85,4.85,0,0,1-1.36.19,4.93,4.93,0,0,1-1.6-.27,4.09,4.09,0,0,1-1.36-.79,3.43,3.43,0,0,1-.82-1,3.22,3.22,0,0,1-.32-1.33h1.48a2.59,2.59,0,0,0,.29.94,2.21,2.21,0,0,0,.56.69,2.25,2.25,0,0,0,.79.43,3.1,3.1,0,0,0,1,.15,3.32,3.32,0,0,0,.83-.11,2.12,2.12,0,0,0,.73-.33,1.77,1.77,0,0,0,.53-.56,1.62,1.62,0,0,0,.2-.81A1.54,1.54,0,0,0,20.91,69.63Z" style="fill:#fff"></path><path d="M24.78,62h3.39a5.73,5.73,0,0,1,1.37.19,3.45,3.45,0,0,1,1.2.54,2.59,2.59,0,0,1,.83.94A2.76,2.76,0,0,1,31.88,65a2.66,2.66,0,0,1-.15.82,2.2,2.2,0,0,1-.37.65,2.49,2.49,0,0,1-.53.5,3.37,3.37,0,0,1-.71.38v0a2.55,2.55,0,0,1,.83.37,2.83,2.83,0,0,1,.65.58,2.64,2.64,0,0,1,.43.79,2.91,2.91,0,0,1,.15,1,2.86,2.86,0,0,1-.3,1.4,3,3,0,0,1-.84,1,4,4,0,0,1-1.21.63,4.73,4.73,0,0,1-1.41.23H24.78Zm3.47,4.85a2.44,2.44,0,0,0,.8-.13,2,2,0,0,0,.69-.35,1.79,1.79,0,0,0,.5-.56,1.66,1.66,0,0,0,.18-.78,1.74,1.74,0,0,0-.18-.82,1.52,1.52,0,0,0-.49-.55,2.07,2.07,0,0,0-.71-.31,3.32,3.32,0,0,0-.83-.11h-2v3.61Zm-2,5.3h2.22a2.68,2.68,0,0,0,.86-.15,2.52,2.52,0,0,0,.72-.4,2,2,0,0,0,.5-.64,1.93,1.93,0,0,0,.18-.85,1.91,1.91,0,0,0-.62-1.5,2.29,2.29,0,0,0-.7-.4,2.92,2.92,0,0,0-.86-.15h-2.3Z" style="fill:#fff"></path><path d="M34.74,69V67.82h6V69Z" style="fill:#fff"></path><path d="M51,71.41a3.53,3.53,0,0,1-.79,1.13,3.25,3.25,0,0,1-1.16.74,3.9,3.9,0,0,1-1.48.26,3.7,3.7,0,0,1-1.28-.2,3.35,3.35,0,0,1-1-.55,3.8,3.8,0,0,1-.78-.82,5.35,5.35,0,0,1-.53-1,5.89,5.89,0,0,1-.33-1.18,7.45,7.45,0,0,1-.11-1.25V66.91a7.45,7.45,0,0,1,.11-1.25,5.89,5.89,0,0,1,.33-1.18,5.35,5.35,0,0,1,.53-1,3.63,3.63,0,0,1,.78-.83,3.41,3.41,0,0,1,1-.55,3.72,3.72,0,0,1,1.29-.2,4.08,4.08,0,0,1,1.52.26,3.34,3.34,0,0,1,1.16.74A3.57,3.57,0,0,1,51,64a4.94,4.94,0,0,1,.39,1.49H49.92a3.56,3.56,0,0,0-.24-1,2.69,2.69,0,0,0-.46-.79,2,2,0,0,0-.71-.52,2.26,2.26,0,0,0-1-.19,2.31,2.31,0,0,0-.91.16,2.2,2.2,0,0,0-.68.46,2.72,2.72,0,0,0-.48.67,4.67,4.67,0,0,0-.31.81A6.51,6.51,0,0,0,45,66c0,.3,0,.59,0,.87V68.5c0,.28,0,.57,0,.87a6.51,6.51,0,0,0,.17.88,4.47,4.47,0,0,0,.31.82,2.45,2.45,0,0,0,.47.67,2,2,0,0,0,.68.46,2.19,2.19,0,0,0,.92.17,2.42,2.42,0,0,0,1-.18,1.93,1.93,0,0,0,.71-.51,2.31,2.31,0,0,0,.46-.76,3.58,3.58,0,0,0,.24-1h1.45A4.8,4.8,0,0,1,51,71.41Z" style="fill:#fff"></path></g></svg>'},4284:(e,t,n)=>{"use strict";function s(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function i(e,t){return e.get(s(e,t))}function r(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}n.d(t,{A:()=>Wn});const a={},o=e=>new Promise((t=>{if(!e)return t();const n=window.scrollX,s=window.scrollY;a.restoreFocusTimeout=setTimeout((()=>{a.previousActiveElement instanceof HTMLElement?(a.previousActiveElement.focus(),a.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),window.scrollTo(n,s)})),l="swal2-",c=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(((e,t)=>(e[t]=l+t,e)),{}),u=["success","warning","info","question","error"].reduce(((e,t)=>(e[t]=l+t,e)),{}),h=e=>e.charAt(0).toUpperCase()+e.slice(1),d=[],p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n;n=`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`,d.includes(n)||d.push(n)},f=e=>"function"==typeof e?e():e,m=e=>e&&"function"==typeof e.toPromise,g=e=>m(e)?e.toPromise():Promise.resolve(e),y=e=>e&&Promise.resolve(e)===e,A=()=>document.body.querySelector(`.${c.container}`),w=e=>{const t=A();return t?t.querySelector(e):null},b=e=>w(`.${e}`),v=()=>b(c.popup),x=()=>b(c.icon),C=()=>b(c.title),k=()=>b(c["html-container"]),E=()=>b(c.image),S=()=>b(c["progress-steps"]),I=()=>b(c["validation-message"]),T=()=>w(`.${c.actions} .${c.confirm}`),_=()=>w(`.${c.actions} .${c.cancel}`),N=()=>w(`.${c.actions} .${c.deny}`),D=()=>w(`.${c.loader}`),M=()=>b(c.actions),B=()=>b(c.footer),R=()=>b(c["timer-progress-bar"]),F=()=>b(c.close),O=()=>{const e=v();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),s=parseInt(t.getAttribute("tabindex")||"0");return n>s?1:n<s?-1:0})),s=e.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),i=Array.from(s).filter((e=>"-1"!==e.getAttribute("tabindex")));return[...new Set(n.concat(i))].filter((e=>ee(e)))},L=()=>P(document.body,c.shown)&&!P(document.body,c["toast-shown"])&&!P(document.body,c["no-backdrop"]),z=()=>{const e=v();return!!e&&P(e,c.toast)},V=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),s=n.querySelector("head");s&&Array.from(s.childNodes).forEach((t=>{e.appendChild(t)}));const i=n.querySelector("body");i&&Array.from(i.childNodes).forEach((t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},P=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let t=0;t<n.length;t++)if(!e.classList.contains(n[t]))return!1;return!0},W=(e,t,n)=>{if(((e,t)=>{Array.from(e.classList).forEach((n=>{Object.values(c).includes(n)||Object.values(u).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)}))})(e,t),!t.customClass)return;const s=t.customClass[n];s&&("string"==typeof s||s.forEach)&&q(e,s)},G=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${c.popup} > .${c[t]}`);case"checkbox":return e.querySelector(`.${c.popup} > .${c.checkbox} input`);case"radio":return e.querySelector(`.${c.popup} > .${c.radio} input:checked`)||e.querySelector(`.${c.popup} > .${c.radio} input:first-child`);case"range":return e.querySelector(`.${c.popup} > .${c.range} input`);default:return e.querySelector(`.${c.popup} > .${c.input}`)}},U=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},j=(e,t,n)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},q=(e,t)=>{j(e,t,!0)},H=(e,t)=>{j(e,t,!1)},Y=(e,t)=>{const n=Array.from(e.children);for(let e=0;e<n.length;e++){const s=n[e];if(s instanceof HTMLElement&&P(s,t))return s}},K=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?e.style.setProperty(t,"number"==typeof n?`${n}px`:n):e.style.removeProperty(t)},Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},Q=e=>{e&&(e.style.display="none")},X=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver((()=>{J(e,e.innerHTML,t)})).observe(e,{childList:!0,subtree:!0})},$=(e,t,n,s)=>{const i=e.querySelector(t);i&&i.style.setProperty(n,s)},J=function(e,t){t?Z(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Q(e)},ee=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),te=e=>!!(e.scrollHeight>e.clientHeight),ne=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),s=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||s>0},se=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=R();n&&ee(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"}),10))},ie=`\n <div aria-labelledby="${c.title}" aria-describedby="${c["html-container"]}" class="${c.popup}" tabindex="-1">\n   <button type="button" class="${c.close}"></button>\n   <ul class="${c["progress-steps"]}"></ul>\n   <div class="${c.icon}"></div>\n   <img class="${c.image}" />\n   <h2 class="${c.title}" id="${c.title}"></h2>\n   <div class="${c["html-container"]}" id="${c["html-container"]}"></div>\n   <input class="${c.input}" id="${c.input}" />\n   <input type="file" class="${c.file}" />\n   <div class="${c.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${c.select}" id="${c.select}"></select>\n   <div class="${c.radio}"></div>\n   <label class="${c.checkbox}">\n     <input type="checkbox" id="${c.checkbox}" />\n     <span class="${c.label}"></span>\n   </label>\n   <textarea class="${c.textarea}" id="${c.textarea}"></textarea>\n   <div class="${c["validation-message"]}" id="${c["validation-message"]}"></div>\n   <div class="${c.actions}">\n     <div class="${c.loader}"></div>\n     <button type="button" class="${c.confirm}"></button>\n     <button type="button" class="${c.deny}"></button>\n     <button type="button" class="${c.cancel}"></button>\n   </div>\n   <div class="${c.footer}"></div>\n   <div class="${c["timer-progress-bar-container"]}">\n     <div class="${c["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),re=()=>{a.currentInstance.resetValidationMessage()},ae=e=>{const t=(()=>{const e=A();return!!e&&(e.remove(),H([document.documentElement,document.body],[c["no-backdrop"],c["toast-shown"],c["has-column"]]),!0)})();if("undefined"==typeof window||"undefined"==typeof document)return;const n=document.createElement("div");n.className=c.container,t&&q(n,c["no-transition"]),V(n,ie);const s="string"==typeof(i=e.target)?document.querySelector(i):i;var i;s.appendChild(n),(e=>{const t=v();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")})(e),(e=>{"rtl"===window.getComputedStyle(e).direction&&q(A(),c.rtl)})(s),(()=>{const e=v(),t=Y(e,c.input),n=Y(e,c.file),s=e.querySelector(`.${c.range} input`),i=e.querySelector(`.${c.range} output`),r=Y(e,c.select),a=e.querySelector(`.${c.checkbox} input`),o=Y(e,c.textarea);t.oninput=re,n.onchange=re,r.onchange=re,a.onchange=re,o.oninput=re,s.oninput=()=>{re(),i.value=s.value},s.onchange=()=>{re(),i.value=s.value}})()},oe=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?le(e,t):e&&V(t,e)},le=(e,t)=>{e.jquery?ce(t,e):V(t,e.toString())},ce=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},ue=(e,t)=>{const n=M(),s=D();n&&s&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?Z(n):Q(n),W(n,t,"actions"),function(e,t,n){const s=T(),i=N(),r=_();if(!s||!i||!r)return;he(s,"confirm",n),he(i,"deny",n),he(r,"cancel",n),function(e,t,n,s){if(!s.buttonsStyling)return void H([e,t,n],c.styled);q([e,t,n],c.styled),s.confirmButtonColor&&(e.style.backgroundColor=s.confirmButtonColor,q(e,c["default-outline"]));s.denyButtonColor&&(t.style.backgroundColor=s.denyButtonColor,q(t,c["default-outline"]));s.cancelButtonColor&&(n.style.backgroundColor=s.cancelButtonColor,q(n,c["default-outline"]))}(s,i,r,n),n.reverseButtons&&(n.toast?(e.insertBefore(r,s),e.insertBefore(i,s)):(e.insertBefore(r,t),e.insertBefore(i,t),e.insertBefore(s,t)))}(n,s,t),V(s,t.loaderHtml||""),W(s,t,"loader"))};function he(e,t,n){const s=h(t);J(e,n[`show${s}Button`],"inline-block"),V(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=c[t],W(e,n,`${t}Button`)}const de=(e,t)=>{const n=A();n&&(!function(e,t){"string"==typeof t?e.style.background=t:t||q([document.documentElement,document.body],c["no-backdrop"])}(n,t.backdrop),function(e,t){if(!t)return;q(e,t in c?c[t]:c.center)}(n,t.position),function(e,t){if(!t)return;q(e,c[`grow-${t}`])}(n,t.grow),W(n,t,"container"))};var pe={innerParams:new WeakMap,domCache:new WeakMap};const fe=["input","file","range","select","radio","checkbox","textarea"],me=e=>{if(!e.input)return;if(!xe[e.input])return Object.keys(xe).join(" | "),void e.input;const t=be(e.input);if(!t)return;const n=xe[e.input](t,e);Z(t),e.inputAutoFocus&&setTimeout((()=>{U(n)}))},ge=(e,t)=>{const n=v();if(!n)return;const s=G(n,e);if(s){(e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}})(s);for(const e in t)s.setAttribute(e,t[e])}},ye=e=>{if(!e.input)return;const t=be(e.input);t&&W(t,e,"input")},Ae=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},we=(e,t,n)=>{if(n.inputLabel){const s=document.createElement("label"),i=c["input-label"];s.setAttribute("for",e.id),s.className=i,"object"==typeof n.customClass&&q(s,n.customClass.inputLabel),s.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",s)}},be=e=>{const t=v();if(t)return Y(t,c[e]||c.input)},ve=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:y(t)},xe={};xe.text=xe.email=xe.password=xe.number=xe.tel=xe.url=xe.search=xe.date=xe["datetime-local"]=xe.time=xe.week=xe.month=(e,t)=>(ve(e,t.inputValue),we(e,e,t),Ae(e,t),e.type=t.input,e),xe.file=(e,t)=>(we(e,e,t),Ae(e,t),e),xe.range=(e,t)=>{const n=e.querySelector("input"),s=e.querySelector("output");return ve(n,t.inputValue),n.type=t.input,ve(s,t.inputValue),we(n,e,t),e},xe.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");V(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return we(e,e,t),e},xe.radio=e=>(e.textContent="",e),xe.checkbox=(e,t)=>{const n=G(v(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);const s=e.querySelector("span");return V(s,t.inputPlaceholder||t.inputLabel),n},xe.textarea=(e,t)=>{ve(e,t.inputValue),Ae(e,t),we(e,e,t);return setTimeout((()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(v()).width);new MutationObserver((()=>{if(!document.body.contains(e))return;const s=e.offsetWidth+(i=e,parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight));var i;s>n?v().style.width=`${s}px`:K(v(),"width",t.width)})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const Ce=(e,t)=>{const n=k();n&&(X(n),W(n,t,"htmlContainer"),t.html?(oe(t.html,n),Z(n,"block")):t.text?(n.textContent=t.text,Z(n,"block")):Q(n),((e,t)=>{const n=v();if(!n)return;const s=pe.innerParams.get(e),i=!s||t.input!==s.input;fe.forEach((e=>{const s=Y(n,c[e]);s&&(ge(e,t.inputAttributes),s.className=c[e],i&&Q(s))})),t.input&&(i&&me(t),ye(t))})(e,t))},ke=(e,t)=>{for(const[n,s]of Object.entries(u))t.icon!==n&&H(e,s);q(e,t.icon&&u[t.icon]),Ie(e,t),Ee(),W(e,t,"icon")},Ee=()=>{const e=v();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t},Se=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,s="";if(t.iconHtml)s=Te(t.iconHtml);else if("success"===t.icon)s='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',n=n.replace(/ style=".*?"/g,"");else if("error"===t.icon)s='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n';else if(t.icon){s=Te({question:"?",warning:"!",info:"i"}[t.icon])}n.trim()!==s.trim()&&V(e,s)},Ie=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])$(e,n,"background-color",t.iconColor);$(e,".swal2-success-ring","border-color",t.iconColor)}},Te=e=>`<div class="${c["icon-content"]}">${e}</div>`,_e=(e,t)=>{const n=t.showClass||{};e.className=`${c.popup} ${ee(e)?n.popup:""}`,t.toast?(q([document.documentElement,document.body],c["toast-shown"]),q(e,c.toast)):q(e,c.modal),W(e,t,"popup"),"string"==typeof t.customClass&&q(e,t.customClass),t.icon&&q(e,c[`icon-${t.icon}`])},Ne=e=>{const t=document.createElement("li");return q(t,c["progress-step"]),V(t,e),t},De=e=>{const t=document.createElement("li");return q(t,c["progress-step-line"]),e.progressStepsDistance&&K(t,"width",e.progressStepsDistance),t},Me=(e,t)=>{((e,t)=>{const n=A(),s=v();if(n&&s){if(t.toast){K(n,"width",t.width),s.style.width="100%";const e=D();e&&s.insertBefore(e,x())}else K(s,"width",t.width);K(s,"padding",t.padding),t.color&&(s.style.color=t.color),t.background&&(s.style.background=t.background),Q(I()),_e(s,t)}})(0,t),de(0,t),((e,t)=>{const n=S();if(!n)return;const{progressSteps:s,currentProgressStep:i}=t;s&&0!==s.length&&void 0!==i?(Z(n),n.textContent="",s.length,s.forEach(((e,r)=>{const a=Ne(e);if(n.appendChild(a),r===i&&q(a,c["active-progress-step"]),r!==s.length-1){const e=De(t);n.appendChild(e)}}))):Q(n)})(0,t),((e,t)=>{const n=pe.innerParams.get(e),s=x();if(s){if(n&&t.icon===n.icon)return Se(s,t),void ke(s,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(u).indexOf(t.icon))return t.icon,void Q(s);Z(s),Se(s,t),ke(s,t),q(s,t.showClass&&t.showClass.icon)}else Q(s)}})(e,t),((e,t)=>{const n=E();n&&(t.imageUrl?(Z(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),K(n,"width",t.imageWidth),K(n,"height",t.imageHeight),n.className=c.image,W(n,t,"image")):Q(n))})(0,t),((e,t)=>{const n=C();n&&(X(n),J(n,t.title||t.titleText,"block"),t.title&&oe(t.title,n),t.titleText&&(n.innerText=t.titleText),W(n,t,"title"))})(0,t),((e,t)=>{const n=F();n&&(V(n,t.closeButtonHtml||""),W(n,t,"closeButton"),J(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))})(0,t),Ce(e,t),ue(0,t),((e,t)=>{const n=B();n&&(X(n),J(n,t.footer,"block"),t.footer&&oe(t.footer,n),W(n,t,"footer"))})(0,t);const n=v();"function"==typeof t.didRender&&n&&t.didRender(n),a.eventEmitter.emit("didRender",n)},Be=()=>{var e;return null===(e=T())||void 0===e?void 0:e.click()},Re=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Fe=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Oe=(e,t)=>{var n;const s=O();if(s.length)return(e+=t)===s.length?e=0:-1===e&&(e=s.length-1),void s[e].focus();null===(n=v())||void 0===n||n.focus()},Le=["ArrowRight","ArrowDown"],ze=["ArrowLeft","ArrowUp"],Ve=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Pe(t,e):"Tab"===t.key?We(t):[...Le,...ze].includes(t.key)?Ge(t.key):"Escape"===t.key&&Ue(t,e,n)))},Pe=(e,t)=>{if(!f(t.allowEnterKey))return;const n=G(v(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Be(),e.preventDefault()}},We=e=>{const t=e.target,n=O();let s=-1;for(let e=0;e<n.length;e++)if(t===n[e]){s=e;break}e.shiftKey?Oe(s,-1):Oe(s,1),e.stopPropagation(),e.preventDefault()},Ge=e=>{const t=M(),n=T(),s=N(),i=_();if(!(t&&n&&s&&i))return;const r=[n,s,i];if(document.activeElement instanceof HTMLElement&&!r.includes(document.activeElement))return;const a=Le.includes(e)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let e=0;e<t.children.length;e++){if(o=o[a],!o)return;if(o instanceof HTMLButtonElement&&ee(o))break}o instanceof HTMLButtonElement&&o.focus()}},Ue=(e,t,n)=>{f(t.allowEscapeKey)&&(e.preventDefault(),n(Re.esc))};var je={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const qe=()=>{Array.from(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},He="undefined"!=typeof window&&!!window.GestureEvent,Ye=()=>{const e=A();if(!e)return;let t;e.ontouchstart=e=>{t=Ke(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Ke=e=>{const t=e.target,n=A(),s=k();return!(!n||!s)&&(!Ze(e)&&!Qe(e)&&(t===n||!te(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!te(s)||!s.contains(t))))},Ze=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Qe=e=>e.touches&&e.touches.length>1;let Xe=null;const $e=e=>{null===Xe&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Xe=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Xe+(()=>{const e=document.createElement("div");e.className=c["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t})()}px`)};function Je(e,t,n,s){z()?ot(e,s):(o(n).then((()=>ot(e,s))),Fe(a)),He?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),L()&&(null!==Xe&&(document.body.style.paddingRight=`${Xe}px`,Xe=null),(()=>{if(P(document.body,c.iosfix)){const e=parseInt(document.body.style.top,10);H(document.body,c.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}})(),qe()),H([document.documentElement,document.body],[c.shown,c["height-auto"],c["no-backdrop"],c["toast-shown"]])}function et(e){e=it(e);const t=je.swalPromiseResolve.get(this),n=tt(this);this.isAwaitingPromise?e.isDismissed||(st(this),t(e)):n&&t(e)}const tt=e=>{const t=v();if(!t)return!1;const n=pe.innerParams.get(e);if(!n||P(t,n.hideClass.popup))return!1;H(t,n.showClass.popup),q(t,n.hideClass.popup);const s=A();return H(s,n.showClass.backdrop),q(s,n.hideClass.backdrop),rt(e,t,n),!0};function nt(e){const t=je.swalPromiseReject.get(this);st(this),t&&t(e)}const st=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,pe.innerParams.get(e)||e._destroy())},it=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),rt=(e,t,n)=>{var s;const i=A(),r=ne(t);"function"==typeof n.willClose&&n.willClose(t),null===(s=a.eventEmitter)||void 0===s||s.emit("willClose",t),r?at(e,t,i,n.returnFocus,n.didClose):Je(e,i,n.returnFocus,n.didClose)},at=(e,t,n,s,i)=>{a.swalCloseEventFinishedCallback=Je.bind(null,e,n,s,i);const r=function(e){var n;e.target===t&&(null===(n=a.swalCloseEventFinishedCallback)||void 0===n||n.call(a),delete a.swalCloseEventFinishedCallback,t.removeEventListener("animationend",r),t.removeEventListener("transitionend",r))};t.addEventListener("animationend",r),t.addEventListener("transitionend",r)},ot=(e,t)=>{setTimeout((()=>{var n;"function"==typeof t&&t.bind(e.params)(),null===(n=a.eventEmitter)||void 0===n||n.emit("didClose"),e._destroy&&e._destroy()}))},lt=e=>{let t=v();if(t||new Wn,t=v(),!t)return;const n=D();z()?Q(x()):ct(t,e),Z(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},ct=(e,t)=>{const n=M(),s=D();n&&s&&(!t&&ee(T())&&(t=T()),Z(n),t&&(Q(t),s.setAttribute("data-button-to-replace",t.className),n.insertBefore(s,t)),q([e,n],c.loading))},ut=e=>e.checked?1:0,ht=e=>e.checked?e.value:null,dt=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,pt=(e,t)=>{const n=v();if(!n)return;const s=e=>{"select"===t.input?function(e,t,n){const s=Y(e,c.select);if(!s)return;const i=(e,t,s)=>{const i=document.createElement("option");i.value=s,V(i,t),i.selected=gt(s,n.inputValue),e.appendChild(i)};t.forEach((e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,s.appendChild(e),n.forEach((t=>i(e,t[1],t[0])))}else i(s,n,t)})),s.focus()}(n,mt(e),t):"radio"===t.input&&function(e,t,n){const s=Y(e,c.radio);if(!s)return;t.forEach((e=>{const t=e[0],i=e[1],r=document.createElement("input"),a=document.createElement("label");r.type="radio",r.name=c.radio,r.value=t,gt(t,n.inputValue)&&(r.checked=!0);const o=document.createElement("span");V(o,i),o.className=c.label,a.appendChild(r),a.appendChild(o),s.appendChild(a)}));const i=s.querySelectorAll("input");i.length&&i[0].focus()}(n,mt(e),t)};m(t.inputOptions)||y(t.inputOptions)?(lt(T()),g(t.inputOptions).then((t=>{e.hideLoading(),s(t)}))):"object"==typeof t.inputOptions?s(t.inputOptions):t.inputOptions},ft=(e,t)=>{const n=e.getInput();n&&(Q(n),g(t.inputValue).then((s=>{n.value="number"===t.input?`${parseFloat(s)||0}`:`${s}`,Z(n),n.focus(),e.hideLoading()})).catch((t=>{n.value="",Z(n),n.focus(),e.hideLoading()})))};const mt=e=>{const t=[];return e instanceof Map?e.forEach(((e,n)=>{let s=e;"object"==typeof s&&(s=mt(s)),t.push([n,s])})):Object.keys(e).forEach((n=>{let s=e[n];"object"==typeof s&&(s=mt(s)),t.push([n,s])})),t},gt=(e,t)=>!!t&&t.toString()===e.toString(),yt=(e,t)=>{const n=pe.innerParams.get(e);if(!n.input)return void h(t);const s=e.getInput(),i=((e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return ut(n);case"radio":return ht(n);case"file":return dt(n);default:return t.inputAutoTrim?n.value.trim():n.value}})(e,n);n.inputValidator?At(e,i,t):s&&!s.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||s.validationMessage)):"deny"===t?wt(e,i):xt(e,i)},At=(e,t,n)=>{const s=pe.innerParams.get(e);e.disableInput();Promise.resolve().then((()=>g(s.inputValidator(t,s.validationMessage)))).then((s=>{e.enableButtons(),e.enableInput(),s?e.showValidationMessage(s):"deny"===n?wt(e,t):xt(e,t)}))},wt=(e,t)=>{const n=pe.innerParams.get(e||void 0);if(n.showLoaderOnDeny&&lt(N()),n.preDeny){e.isAwaitingPromise=!0;Promise.resolve().then((()=>g(n.preDeny(t,n.validationMessage)))).then((n=>{!1===n?(e.hideLoading(),st(e)):e.close({isDenied:!0,value:void 0===n?t:n})})).catch((t=>vt(e||void 0,t)))}else e.close({isDenied:!0,value:t})},bt=(e,t)=>{e.close({isConfirmed:!0,value:t})},vt=(e,t)=>{e.rejectPromise(t)},xt=(e,t)=>{const n=pe.innerParams.get(e||void 0);if(n.showLoaderOnConfirm&&lt(),n.preConfirm){e.resetValidationMessage(),e.isAwaitingPromise=!0;Promise.resolve().then((()=>g(n.preConfirm(t,n.validationMessage)))).then((n=>{ee(I())||!1===n?(e.hideLoading(),st(e)):bt(e,void 0===n?t:n)})).catch((t=>vt(e||void 0,t)))}else bt(e,t)};function Ct(){const e=pe.innerParams.get(this);if(!e)return;const t=pe.domCache.get(this);Q(t.loader),z()?e.icon&&Z(x()):kt(t),H([t.popup,t.actions],c.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const kt=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Z(t[0],"inline-block"):ee(T())||ee(N())||ee(_())||Q(e.actions)};function Et(){const e=pe.innerParams.get(this),t=pe.domCache.get(this);return t?G(t.popup,e.input):null}function St(e,t,n){const s=pe.domCache.get(e);t.forEach((e=>{s[e].disabled=n}))}function It(e,t){const n=v();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll(`[name="${c.radio}"]`);for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function Tt(){St(this,["confirmButton","denyButton","cancelButton"],!1)}function _t(){St(this,["confirmButton","denyButton","cancelButton"],!0)}function Nt(){It(this.getInput(),!1)}function Dt(){It(this.getInput(),!0)}function Mt(e){const t=pe.domCache.get(this),n=pe.innerParams.get(this);V(t.validationMessage,e),t.validationMessage.className=c["validation-message"],n.customClass&&n.customClass.validationMessage&&q(t.validationMessage,n.customClass.validationMessage),Z(t.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",c["validation-message"]),U(s),q(s,c.inputerror))}function Bt(){const e=pe.domCache.get(this);e.validationMessage&&Q(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),H(t,c.inputerror))}const Rt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ft=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ot={allowEnterKey:void 0},Lt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],zt=e=>Object.prototype.hasOwnProperty.call(Rt,e),Vt=e=>-1!==Ft.indexOf(e),Pt=e=>Ot[e],Wt=e=>{zt(e)},Gt=e=>{Lt.includes(e)},Ut=e=>{const t=Pt(e);t&&p(e,t)};function jt(e){const t=v(),n=pe.innerParams.get(this);if(!t||P(t,n.hideClass.popup))return;const s=qt(e),i=Object.assign({},n,s);Me(this,i),pe.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const qt=e=>{const t={};return Object.keys(e).forEach((n=>{Vt(n)&&(t[n]=e[n])})),t};function Ht(){const e=pe.domCache.get(this),t=pe.innerParams.get(this);t?(e.popup&&a.swalCloseEventFinishedCallback&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),a.eventEmitter.emit("didDestroy"),Yt(this)):Kt(this)}const Yt=e=>{Kt(e),delete e.params,delete a.keydownHandler,delete a.keydownTarget,delete a.currentInstance},Kt=e=>{e.isAwaitingPromise?(Zt(pe,e),e.isAwaitingPromise=!0):(Zt(je,e),Zt(pe,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Zt=(e,t)=>{for(const n in e)e[n].delete(t)};var Qt=Object.freeze({__proto__:null,_destroy:Ht,close:et,closeModal:et,closePopup:et,closeToast:et,disableButtons:_t,disableInput:Dt,disableLoading:Ct,enableButtons:Tt,enableInput:Nt,getInput:Et,handleAwaitingPromise:st,hideLoading:Ct,rejectPromise:nt,resetValidationMessage:Bt,showValidationMessage:Mt,update:jt});const Xt=(e,t,n)=>{t.popup.onclick=()=>{e&&($t(e)||e.timer||e.input)||n(Re.close)}},$t=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let Jt=!1;const en=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(Jt=!0)}}},tn=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(Jt=!0)}}},nn=(e,t,n)=>{t.container.onclick=s=>{Jt?Jt=!1:s.target===t.container&&f(e.allowOutsideClick)&&n(Re.backdrop)}},sn=e=>e instanceof Element||(e=>"object"==typeof e&&e.jquery)(e);const rn=()=>{if(a.timeout)return(()=>{const e=R();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width=`${n}%`})(),a.timeout.stop()},an=()=>{if(a.timeout){const e=a.timeout.start();return se(e),e}};let on=!1;const ln={};const cn=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in ln){const n=t.getAttribute(e);if(n)return void ln[e].fire({template:n})}};a.eventEmitter=new class{constructor(){this.events={}}_getHandlersByEventName(e){return void 0===this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){var n=this;const s=function(){n.removeListener(e,s);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];t.apply(n,r)};this.on(e,s)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];this._getHandlersByEventName(e).forEach((e=>{try{e.apply(this,n)}catch(e){}}))}removeListener(e,t){const n=this._getHandlersByEventName(e),s=n.indexOf(t);s>-1&&n.splice(s,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}};var un=Object.freeze({__proto__:null,argsToParams:e=>{const t={};return"object"!=typeof e[0]||sn(e[0])?["title","html","icon"].forEach(((n,s)=>{const i=e[s];("string"==typeof i||sn(i))&&(t[n]=i)})):Object.assign(t,e[0]),t},bindClickHandler:function(){ln[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,on||(document.body.addEventListener("click",cn),on=!0)},clickCancel:()=>{var e;return null===(e=_())||void 0===e?void 0:e.click()},clickConfirm:Be,clickDeny:()=>{var e;return null===(e=N())||void 0===e?void 0:e.click()},enableLoading:lt,fire:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)},getActions:M,getCancelButton:_,getCloseButton:F,getConfirmButton:T,getContainer:A,getDenyButton:N,getFocusableElements:O,getFooter:B,getHtmlContainer:k,getIcon:x,getIconContent:()=>b(c["icon-content"]),getImage:E,getInputLabel:()=>b(c["input-label"]),getLoader:D,getPopup:v,getProgressSteps:S,getTimerLeft:()=>a.timeout&&a.timeout.getTimerLeft(),getTimerProgressBar:R,getTitle:C,getValidationMessage:I,increaseTimer:e=>{if(a.timeout){const t=a.timeout.increase(e);return se(t,!0),t}},isDeprecatedParameter:Pt,isLoading:()=>{const e=v();return!!e&&e.hasAttribute("data-loading")},isTimerRunning:()=>!(!a.timeout||!a.timeout.isRunning()),isUpdatableParameter:Vt,isValidParameter:zt,isVisible:()=>ee(v()),mixin:function(e){return class extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}},off:(e,t)=>{e?t?a.eventEmitter.removeListener(e,t):a.eventEmitter.removeAllListeners(e):a.eventEmitter.reset()},on:(e,t)=>{a.eventEmitter.on(e,t)},once:(e,t)=>{a.eventEmitter.once(e,t)},resumeTimer:an,showLoading:lt,stopTimer:rn,toggleTimer:()=>{const e=a.timeout;return e&&(e.running?rn():an())}});class hn{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const dn=["swal-title","swal-html","swal-footer"],pn=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach((e=>{vn(e,["name","value"]);const n=e.getAttribute("name"),s=e.getAttribute("value");n&&s&&(t[n]="boolean"==typeof Rt[n]?"false"!==s:"object"==typeof Rt[n]?JSON.parse(s):s)})),t},fn=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((e=>{const n=e.getAttribute("name"),s=e.getAttribute("value");n&&s&&(t[n]=new Function(`return ${s}`)())})),t},mn=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach((e=>{vn(e,["type","color","aria-label"]);const n=e.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(t[`${n}ButtonText`]=e.innerHTML,t[`show${h(n)}Button`]=!0,e.hasAttribute("color")&&(t[`${n}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t[`${n}ButtonAriaLabel`]=e.getAttribute("aria-label")))})),t},gn=e=>{const t={},n=e.querySelector("swal-image");return n&&(vn(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},yn=e=>{const t={},n=e.querySelector("swal-icon");return n&&(vn(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},An=e=>{const t={},n=e.querySelector("swal-input");n&&(vn(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const s=Array.from(e.querySelectorAll("swal-input-option"));return s.length&&(t.inputOptions={},s.forEach((e=>{vn(e,["value"]);const n=e.getAttribute("value");if(!n)return;const s=e.innerHTML;t.inputOptions[n]=s}))),t},wn=(e,t)=>{const n={};for(const s in t){const i=t[s],r=e.querySelector(i);r&&(vn(r,[]),n[i.replace(/^swal-/,"")]=r.innerHTML.trim())}return n},bn=e=>{const t=dn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((e=>{const n=e.tagName.toLowerCase();t.includes(n)}))},vn=(e,t)=>{Array.from(e.attributes).forEach((n=>{-1===t.indexOf(n.name)&&(n.name,e.tagName.toLowerCase(),t.length&&t.join(", "))}))},xn=e=>{const t=A(),n=v();"function"==typeof e.willOpen&&e.willOpen(n),a.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;Sn(t,n,e),setTimeout((()=>{kn(t,n)}),10),L()&&(En(t,e.scrollbarPadding,s),(()=>{const e=A();Array.from(document.body.children).forEach((t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))}))})()),z()||a.previousActiveElement||(a.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((()=>e.didOpen(n))),a.eventEmitter.emit("didOpen",n),H(t,c["no-transition"])},Cn=e=>{const t=v();if(e.target!==t)return;const n=A();t.removeEventListener("animationend",Cn),t.removeEventListener("transitionend",Cn),n.style.overflowY="auto"},kn=(e,t)=>{ne(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Cn),t.addEventListener("transitionend",Cn)):e.style.overflowY="auto"},En=(e,t,n)=>{(()=>{if(He&&!P(document.body,c.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",q(document.body,c.iosfix),Ye()}})(),t&&"hidden"!==n&&$e(n),setTimeout((()=>{e.scrollTop=0}))},Sn=(e,t,n)=>{q(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),Z(t,"grid"),setTimeout((()=>{q(t,n.showClass.popup),t.style.removeProperty("opacity")}),10)):Z(t,"grid"),q([document.documentElement,document.body],c.shown),n.heightAuto&&n.backdrop&&!n.toast&&q([document.documentElement,document.body],c["height-auto"])};var In=(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),Tn=(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL");function _n(e){!function(e){e.inputValidator||("email"===e.input&&(e.inputValidator=In),"url"===e.input&&(e.inputValidator=Tn))}(e),e.showLoaderOnConfirm&&e.preConfirm,function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),ae(e)}let Nn;var Dn=new WeakMap;class Mn{constructor(){if(r(this,Dn,void 0),"undefined"==typeof window)return;Nn=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=Object.freeze(this.constructor.argsToParams(t));var a,o,l;this.params=i,this.isAwaitingPromise=!1,a=Dn,o=this,l=this._main(Nn.params),a.set(s(a,o),l)}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((e=>{!1===e.backdrop&&e.allowOutsideClick;for(const t in e)Wt(t),e.toast&&Gt(t),Ut(t)})(Object.assign({},t,e)),a.currentInstance){const e=je.swalPromiseResolve.get(a.currentInstance),{isAwaitingPromise:t}=a.currentInstance;a.currentInstance._destroy(),t||e({isDismissed:!0}),L()&&qe()}a.currentInstance=Nn;const n=Rn(e,t);_n(n),Object.freeze(n),a.timeout&&(a.timeout.stop(),delete a.timeout),clearTimeout(a.restoreFocusTimeout);const s=Fn(Nn);return Me(Nn,n),pe.innerParams.set(Nn,n),Bn(Nn,s,n)}then(e){return i(Dn,this).then(e)}finally(e){return i(Dn,this).finally(e)}}const Bn=(e,t,n)=>new Promise(((s,i)=>{const r=t=>{e.close({isDismissed:!0,dismiss:t})};je.swalPromiseResolve.set(e,s),je.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{(e=>{const t=pe.innerParams.get(e);e.disableButtons(),t.input?yt(e,"confirm"):xt(e,!0)})(e)},t.denyButton.onclick=()=>{(e=>{const t=pe.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?yt(e,"deny"):wt(e,!1)})(e)},t.cancelButton.onclick=()=>{((e,t)=>{e.disableButtons(),t(Re.cancel)})(e,r)},t.closeButton.onclick=()=>{r(Re.close)},((e,t,n)=>{e.toast?Xt(e,t,n):(en(t),tn(t),nn(e,t,n))})(n,t,r),((e,t,n)=>{Fe(e),t.toast||(e.keydownHandler=e=>Ve(t,e,n),e.keydownTarget=t.keydownListenerCapture?window:v(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)})(a,n,r),((e,t)=>{"select"===t.input||"radio"===t.input?pt(e,t):["text","email","number","tel","textarea"].some((e=>e===t.input))&&(m(t.inputValue)||y(t.inputValue))&&(lt(T()),ft(e,t))})(e,n),xn(n),On(a,n,r),Ln(t,n),setTimeout((()=>{t.container.scrollTop=0}))})),Rn=(e,t)=>{const n=(e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return bn(n),Object.assign(pn(n),fn(n),mn(n),gn(n),yn(n),An(n),wn(n,dn))})(e),s=Object.assign({},Rt,t,n,e);return s.showClass=Object.assign({},Rt.showClass,s.showClass),s.hideClass=Object.assign({},Rt.hideClass,s.hideClass),!1===s.animation&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},Fn=e=>{const t={popup:v(),container:A(),actions:M(),confirmButton:T(),denyButton:N(),cancelButton:_(),loader:D(),closeButton:F(),validationMessage:I(),progressSteps:S()};return pe.domCache.set(e,t),t},On=(e,t,n)=>{const s=R();Q(s),t.timer&&(e.timeout=new hn((()=>{n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(Z(s),W(s,t,"timerProgressBar"),setTimeout((()=>{e.timeout&&e.timeout.running&&se(t.timer)}))))},Ln=(e,t)=>{if(!t.toast)return f(t.allowEnterKey)?void(zn(e)||Vn(e,t)||Oe(-1,1)):(p("allowEnterKey"),void Pn())},zn=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const e of t)if(e instanceof HTMLElement&&ee(e))return e.focus(),!0;return!1},Vn=(e,t)=>t.focusDeny&&ee(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ee(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!ee(e.confirmButton))&&(e.confirmButton.focus(),!0),Pn=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/864e5>3&&setTimeout((()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((()=>{e.play().catch((()=>{}))}),2500)}),500):localStorage.setItem("swal-initiation",`${e}`)}Mn.prototype.disableButtons=_t,Mn.prototype.enableButtons=Tt,Mn.prototype.getInput=Et,Mn.prototype.disableInput=Dt,Mn.prototype.enableInput=Nt,Mn.prototype.hideLoading=Ct,Mn.prototype.disableLoading=Ct,Mn.prototype.showValidationMessage=Mt,Mn.prototype.resetValidationMessage=Bt,Mn.prototype.close=et,Mn.prototype.closePopup=et,Mn.prototype.closeModal=et,Mn.prototype.closeToast=et,Mn.prototype.rejectPromise=nt,Mn.prototype.update=jt,Mn.prototype._destroy=Ht,Object.assign(Mn,un),Object.keys(Qt).forEach((e=>{Mn[e]=function(){return Nn&&Nn[e]?Nn[e](...arguments):null}})),Mn.DismissReason=Re,Mn.version="11.14.5";const Wn=Mn;Wn.default=Wn,"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4948:function(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(t,n){return t.get(e(t,n))}function s(e,n,s){t(e,n),n.set(e,s)}function i(t,n,s){return t.set(e(t,n),s),s}const r=100,a={},o=()=>{a.previousActiveElement instanceof HTMLElement?(a.previousActiveElement.focus(),a.previousActiveElement=null):document.body&&document.body.focus()},l=e=>new Promise((t=>{if(!e)return t();const n=window.scrollX,s=window.scrollY;a.restoreFocusTimeout=setTimeout((()=>{o(),t()}),r),window.scrollTo(n,s)})),c="swal2-",u=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(((e,t)=>(e[t]=c+t,e)),{}),h=["success","warning","info","question","error"].reduce(((e,t)=>(e[t]=c+t,e)),{}),d=e=>e.charAt(0).toUpperCase()+e.slice(1),p=e=>{},f=e=>{},m=[],g=e=>{m.includes(e)||(m.push(e),p(e))},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},A=e=>"function"==typeof e?e():e,w=e=>e&&"function"==typeof e.toPromise,b=e=>w(e)?e.toPromise():Promise.resolve(e),v=e=>e&&Promise.resolve(e)===e,x=()=>document.body.querySelector(`.${u.container}`),C=e=>{const t=x();return t?t.querySelector(e):null},k=e=>C(`.${e}`),E=()=>k(u.popup),S=()=>k(u.icon),I=()=>k(u["icon-content"]),T=()=>k(u.title),_=()=>k(u["html-container"]),N=()=>k(u.image),D=()=>k(u["progress-steps"]),M=()=>k(u["validation-message"]),B=()=>C(`.${u.actions} .${u.confirm}`),R=()=>C(`.${u.actions} .${u.cancel}`),F=()=>C(`.${u.actions} .${u.deny}`),O=()=>k(u["input-label"]),L=()=>C(`.${u.loader}`),z=()=>k(u.actions),V=()=>k(u.footer),P=()=>k(u["timer-progress-bar"]),W=()=>k(u.close),G='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',U=()=>{const e=E();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),s=parseInt(t.getAttribute("tabindex")||"0");return n>s?1:n<s?-1:0})),s=e.querySelectorAll(G),i=Array.from(s).filter((e=>"-1"!==e.getAttribute("tabindex")));return[...new Set(n.concat(i))].filter((e=>ce(e)))},j=()=>K(document.body,u.shown)&&!K(document.body,u["toast-shown"])&&!K(document.body,u["no-backdrop"]),q=()=>{const e=E();return!!e&&K(e,u.toast)},H=()=>{const e=E();return!!e&&e.hasAttribute("data-loading")},Y=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),s=n.querySelector("head");s&&Array.from(s.childNodes).forEach((t=>{e.appendChild(t)}));const i=n.querySelector("body");i&&Array.from(i.childNodes).forEach((t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},K=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let t=0;t<n.length;t++)if(!e.classList.contains(n[t]))return!1;return!0},Z=(e,t)=>{Array.from(e.classList).forEach((n=>{Object.values(u).includes(n)||Object.values(h).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)}))},Q=(e,t,n)=>{if(Z(e,t),!t.customClass)return;const s=t.customClass[n];s&&("string"==typeof s||s.forEach?ee(e,s):p(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof s}"`))},X=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${u.popup} > .${u[t]}`);case"checkbox":return e.querySelector(`.${u.popup} > .${u.checkbox} input`);case"radio":return e.querySelector(`.${u.popup} > .${u.radio} input:checked`)||e.querySelector(`.${u.popup} > .${u.radio} input:first-child`);case"range":return e.querySelector(`.${u.popup} > .${u.range} input`);default:return e.querySelector(`.${u.popup} > .${u.input}`)}},$=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},J=(e,t,n)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},ee=(e,t)=>{J(e,t,!0)},te=(e,t)=>{J(e,t,!1)},ne=(e,t)=>{const n=Array.from(e.children);for(let e=0;e<n.length;e++){const s=n[e];if(s instanceof HTMLElement&&K(s,t))return s}},se=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?e.style.setProperty(t,"number"==typeof n?`${n}px`:n):e.style.removeProperty(t)},ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},re=e=>{e&&(e.style.display="none")},ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver((()=>{le(e,e.innerHTML,t)})).observe(e,{childList:!0,subtree:!0})},oe=(e,t,n,s)=>{const i=e.querySelector(t);i&&i.style.setProperty(n,s)},le=function(e,t){t?ie(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):re(e)},ce=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ue=()=>!ce(B())&&!ce(F())&&!ce(R()),he=e=>!!(e.scrollHeight>e.clientHeight),de=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),s=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||s>0},pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=P();n&&ce(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"}),10))},fe=()=>{const e=P();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width=`${n}%`},me=()=>"undefined"==typeof window||"undefined"==typeof document,ge=`\n <div aria-labelledby="${u.title}" aria-describedby="${u["html-container"]}" class="${u.popup}" tabindex="-1">\n   <button type="button" class="${u.close}"></button>\n   <ul class="${u["progress-steps"]}"></ul>\n   <div class="${u.icon}"></div>\n   <img class="${u.image}" />\n   <h2 class="${u.title}" id="${u.title}"></h2>\n   <div class="${u["html-container"]}" id="${u["html-container"]}"></div>\n   <input class="${u.input}" id="${u.input}" />\n   <input type="file" class="${u.file}" />\n   <div class="${u.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${u.select}" id="${u.select}"></select>\n   <div class="${u.radio}"></div>\n   <label class="${u.checkbox}">\n     <input type="checkbox" id="${u.checkbox}" />\n     <span class="${u.label}"></span>\n   </label>\n   <textarea class="${u.textarea}" id="${u.textarea}"></textarea>\n   <div class="${u["validation-message"]}" id="${u["validation-message"]}"></div>\n   <div class="${u.actions}">\n     <div class="${u.loader}"></div>\n     <button type="button" class="${u.confirm}"></button>\n     <button type="button" class="${u.deny}"></button>\n     <button type="button" class="${u.cancel}"></button>\n   </div>\n   <div class="${u.footer}"></div>\n   <div class="${u["timer-progress-bar-container"]}">\n     <div class="${u["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),ye=()=>{const e=x();return!!e&&(e.remove(),te([document.documentElement,document.body],[u["no-backdrop"],u["toast-shown"],u["has-column"]]),!0)},Ae=()=>{a.currentInstance.resetValidationMessage()},we=()=>{const e=E(),t=ne(e,u.input),n=ne(e,u.file),s=e.querySelector(`.${u.range} input`),i=e.querySelector(`.${u.range} output`),r=ne(e,u.select),a=e.querySelector(`.${u.checkbox} input`),o=ne(e,u.textarea);t.oninput=Ae,n.onchange=Ae,r.onchange=Ae,a.onchange=Ae,o.oninput=Ae,s.oninput=()=>{Ae(),i.value=s.value},s.onchange=()=>{Ae(),i.value=s.value}},be=e=>"string"==typeof e?document.querySelector(e):e,ve=e=>{const t=E();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},xe=e=>{"rtl"===window.getComputedStyle(e).direction&&ee(x(),u.rtl)},Ce=e=>{const t=ye();if(me())return void f("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=u.container,t&&ee(n,u["no-transition"]),Y(n,ge);const s=be(e.target);s.appendChild(n),ve(e),xe(s),we()},ke=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?Ee(e,t):e&&Y(t,e)},Ee=(e,t)=>{e.jquery?Se(t,e):Y(t,e.toString())},Se=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Ie=(e,t)=>{const n=z(),s=L();n&&s&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?ie(n):re(n),Q(n,t,"actions"),Te(n,s,t),Y(s,t.loaderHtml||""),Q(s,t,"loader"))};function Te(e,t,n){const s=B(),i=F(),r=R();s&&i&&r&&(Ne(s,"confirm",n),Ne(i,"deny",n),Ne(r,"cancel",n),_e(s,i,r,n),n.reverseButtons&&(n.toast?(e.insertBefore(r,s),e.insertBefore(i,s)):(e.insertBefore(r,t),e.insertBefore(i,t),e.insertBefore(s,t))))}function _e(e,t,n,s){s.buttonsStyling?(ee([e,t,n],u.styled),s.confirmButtonColor&&(e.style.backgroundColor=s.confirmButtonColor,ee(e,u["default-outline"])),s.denyButtonColor&&(t.style.backgroundColor=s.denyButtonColor,ee(t,u["default-outline"])),s.cancelButtonColor&&(n.style.backgroundColor=s.cancelButtonColor,ee(n,u["default-outline"]))):te([e,t,n],u.styled)}function Ne(e,t,n){const s=d(t);le(e,n[`show${s}Button`],"inline-block"),Y(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=u[t],Q(e,n,`${t}Button`)}const De=(e,t)=>{const n=W();n&&(Y(n,t.closeButtonHtml||""),Q(n,t,"closeButton"),le(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Me=(e,t)=>{const n=x();n&&(Be(n,t.backdrop),Re(n,t.position),Fe(n,t.grow),Q(n,t,"container"))};function Be(e,t){"string"==typeof t?e.style.background=t:t||ee([document.documentElement,document.body],u["no-backdrop"])}function Re(e,t){t&&(t in u?ee(e,u[t]):(p('The "position" parameter is not valid, defaulting to "center"'),ee(e,u.center)))}function Fe(e,t){t&&ee(e,u[`grow-${t}`])}var Oe={innerParams:new WeakMap,domCache:new WeakMap};const Le=["input","file","range","select","radio","checkbox","textarea"],ze=(e,t)=>{const n=E();if(!n)return;const s=Oe.innerParams.get(e),i=!s||t.input!==s.input;Le.forEach((e=>{const s=ne(n,u[e]);s&&(We(e,t.inputAttributes),s.className=u[e],i&&re(s))})),t.input&&(i&&Ve(t),Ge(t))},Ve=e=>{if(!e.input)return;if(!Ye[e.input])return void f(`Unexpected type of input! Expected ${Object.keys(Ye).join(" | ")}, got "${e.input}"`);const t=qe(e.input);if(!t)return;const n=Ye[e.input](t,e);ie(t),e.inputAutoFocus&&setTimeout((()=>{$(n)}))},Pe=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},We=(e,t)=>{const n=E();if(!n)return;const s=X(n,e);if(s){Pe(s);for(const e in t)s.setAttribute(e,t[e])}},Ge=e=>{if(!e.input)return;const t=qe(e.input);t&&Q(t,e,"input")},Ue=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},je=(e,t,n)=>{if(n.inputLabel){const s=document.createElement("label"),i=u["input-label"];s.setAttribute("for",e.id),s.className=i,"object"==typeof n.customClass&&ee(s,n.customClass.inputLabel),s.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",s)}},qe=e=>{const t=E();if(t)return ne(t,u[e]||u.input)},He=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:v(t)||p(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Ye={};Ye.text=Ye.email=Ye.password=Ye.number=Ye.tel=Ye.url=Ye.search=Ye.date=Ye["datetime-local"]=Ye.time=Ye.week=Ye.month=(e,t)=>(He(e,t.inputValue),je(e,e,t),Ue(e,t),e.type=t.input,e),Ye.file=(e,t)=>(je(e,e,t),Ue(e,t),e),Ye.range=(e,t)=>{const n=e.querySelector("input"),s=e.querySelector("output");return He(n,t.inputValue),n.type=t.input,He(s,t.inputValue),je(n,e,t),e},Ye.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");Y(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return je(e,e,t),e},Ye.radio=e=>(e.textContent="",e),Ye.checkbox=(e,t)=>{const n=X(E(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);const s=e.querySelector("span");return Y(s,t.inputPlaceholder||t.inputLabel),n},Ye.textarea=(e,t)=>{He(e,t.inputValue),Ue(e,t),je(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout((()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(E()).width);new MutationObserver((()=>{if(!document.body.contains(e))return;const i=e.offsetWidth+n(e);i>s?E().style.width=`${i}px`:se(E(),"width",t.width)})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const Ke=(e,t)=>{const n=_();n&&(ae(n),Q(n,t,"htmlContainer"),t.html?(ke(t.html,n),ie(n,"block")):t.text?(n.textContent=t.text,ie(n,"block")):re(n),ze(e,t))},Ze=(e,t)=>{const n=V();n&&(ae(n),le(n,t.footer,"block"),t.footer&&ke(t.footer,n),Q(n,t,"footer"))},Qe=(e,t)=>{const n=Oe.innerParams.get(e),s=S();if(s){if(n&&t.icon===n.icon)return tt(s,t),void Xe(s,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(h).indexOf(t.icon))return f(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),void re(s);ie(s),tt(s,t),Xe(s,t),ee(s,t.showClass&&t.showClass.icon)}else re(s)}},Xe=(e,t)=>{for(const[n,s]of Object.entries(h))t.icon!==n&&te(e,s);ee(e,t.icon&&h[t.icon]),nt(e,t),$e(),Q(e,t,"icon")},$e=()=>{const e=E();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t},Je='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',et='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',tt=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,s="";t.iconHtml?s=st(t.iconHtml):"success"===t.icon?(s=Je,n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?s=et:t.icon&&(s=st({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==s.trim()&&Y(e,s)},nt=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])oe(e,n,"background-color",t.iconColor);oe(e,".swal2-success-ring","border-color",t.iconColor)}},st=e=>`<div class="${u["icon-content"]}">${e}</div>`,it=(e,t)=>{const n=N();n&&(t.imageUrl?(ie(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),se(n,"width",t.imageWidth),se(n,"height",t.imageHeight),n.className=u.image,Q(n,t,"image")):re(n))},rt=(e,t)=>{const n=x(),s=E();if(n&&s){if(t.toast){se(n,"width",t.width),s.style.width="100%";const e=L();e&&s.insertBefore(e,S())}else se(s,"width",t.width);se(s,"padding",t.padding),t.color&&(s.style.color=t.color),t.background&&(s.style.background=t.background),re(M()),at(s,t)}},at=(e,t)=>{const n=t.showClass||{};e.className=`${u.popup} ${ce(e)?n.popup:""}`,t.toast?(ee([document.documentElement,document.body],u["toast-shown"]),ee(e,u.toast)):ee(e,u.modal),Q(e,t,"popup"),"string"==typeof t.customClass&&ee(e,t.customClass),t.icon&&ee(e,u[`icon-${t.icon}`])},ot=(e,t)=>{const n=D();if(!n)return;const{progressSteps:s,currentProgressStep:i}=t;s&&0!==s.length&&void 0!==i?(ie(n),n.textContent="",i>=s.length&&p("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach(((e,r)=>{const a=lt(e);if(n.appendChild(a),r===i&&ee(a,u["active-progress-step"]),r!==s.length-1){const e=ct(t);n.appendChild(e)}}))):re(n)},lt=e=>{const t=document.createElement("li");return ee(t,u["progress-step"]),Y(t,e),t},ct=e=>{const t=document.createElement("li");return ee(t,u["progress-step-line"]),e.progressStepsDistance&&se(t,"width",e.progressStepsDistance),t},ut=(e,t)=>{const n=T();n&&(ae(n),le(n,t.title||t.titleText,"block"),t.title&&ke(t.title,n),t.titleText&&(n.innerText=t.titleText),Q(n,t,"title"))},ht=(e,t)=>{rt(e,t),Me(e,t),ot(e,t),Qe(e,t),it(e,t),ut(e,t),De(e,t),Ke(e,t),Ie(e,t),Ze(e,t);const n=E();"function"==typeof t.didRender&&n&&t.didRender(n),a.eventEmitter.emit("didRender",n)},dt=()=>ce(E()),pt=()=>{var e;return null===(e=B())||void 0===e?void 0:e.click()},ft=()=>{var e;return null===(e=F())||void 0===e?void 0:e.click()},mt=()=>{var e;return null===(e=R())||void 0===e?void 0:e.click()},gt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yt=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},At=(e,t,n)=>{yt(e),t.toast||(e.keydownHandler=e=>xt(t,e,n),e.keydownTarget=t.keydownListenerCapture?window:E(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},wt=(e,t)=>{var n;const s=U();if(s.length)return(e+=t)===s.length?e=0:-1===e&&(e=s.length-1),void s[e].focus();null===(n=E())||void 0===n||n.focus()},bt=["ArrowRight","ArrowDown"],vt=["ArrowLeft","ArrowUp"],xt=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Ct(t,e):"Tab"===t.key?kt(t):[...bt,...vt].includes(t.key)?Et(t.key):"Escape"===t.key&&St(t,e,n)))},Ct=(e,t)=>{if(!A(t.allowEnterKey))return;const n=X(E(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;pt(),e.preventDefault()}},kt=e=>{const t=e.target,n=U();let s=-1;for(let e=0;e<n.length;e++)if(t===n[e]){s=e;break}e.shiftKey?wt(s,-1):wt(s,1),e.stopPropagation(),e.preventDefault()},Et=e=>{const t=z(),n=B(),s=F(),i=R();if(!(t&&n&&s&&i))return;const r=[n,s,i];if(document.activeElement instanceof HTMLElement&&!r.includes(document.activeElement))return;const a=bt.includes(e)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let e=0;e<t.children.length;e++){if(o=o[a],!o)return;if(o instanceof HTMLButtonElement&&ce(o))break}o instanceof HTMLButtonElement&&o.focus()}},St=(e,t,n)=>{A(t.allowEscapeKey)&&(e.preventDefault(),n(gt.esc))};var It={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Tt=()=>{const e=x();Array.from(document.body.children).forEach((t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))}))},_t=()=>{Array.from(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Nt="undefined"!=typeof window&&!!window.GestureEvent,Dt=()=>{if(Nt&&!K(document.body,u.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",ee(document.body,u.iosfix),Mt()}},Mt=()=>{const e=x();if(!e)return;let t;e.ontouchstart=e=>{t=Bt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Bt=e=>{const t=e.target,n=x(),s=_();return!(!n||!s||Rt(e)||Ft(e)||t!==n&&(he(n)||!(t instanceof HTMLElement)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||he(s)&&s.contains(t)))},Rt=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Ft=e=>e.touches&&e.touches.length>1,Ot=()=>{if(K(document.body,u.iosfix)){const e=parseInt(document.body.style.top,10);te(document.body,u.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Lt=()=>{const e=document.createElement("div");e.className=u["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let zt=null;const Vt=e=>{null===zt&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(zt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${zt+Lt()}px`)},Pt=()=>{null!==zt&&(document.body.style.paddingRight=`${zt}px`,zt=null)};function Wt(e,t,n,s){q()?Qt(e,s):(l(n).then((()=>Qt(e,s))),yt(a)),Nt?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),j()&&(Pt(),Ot(),_t()),Gt()}function Gt(){te([document.documentElement,document.body],[u.shown,u["height-auto"],u["no-backdrop"],u["toast-shown"]])}function Ut(e){e=Yt(e);const t=It.swalPromiseResolve.get(this),n=jt(this);this.isAwaitingPromise?e.isDismissed||(Ht(this),t(e)):n&&t(e)}const jt=e=>{const t=E();if(!t)return!1;const n=Oe.innerParams.get(e);if(!n||K(t,n.hideClass.popup))return!1;te(t,n.showClass.popup),ee(t,n.hideClass.popup);const s=x();return te(s,n.showClass.backdrop),ee(s,n.hideClass.backdrop),Kt(e,t,n),!0};function qt(e){const t=It.swalPromiseReject.get(this);Ht(this),t&&t(e)}const Ht=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Oe.innerParams.get(e)||e._destroy())},Yt=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Kt=(e,t,n)=>{var s;const i=x(),r=de(t);"function"==typeof n.willClose&&n.willClose(t),null===(s=a.eventEmitter)||void 0===s||s.emit("willClose",t),r?Zt(e,t,i,n.returnFocus,n.didClose):Wt(e,i,n.returnFocus,n.didClose)},Zt=(e,t,n,s,i)=>{a.swalCloseEventFinishedCallback=Wt.bind(null,e,n,s,i);const r=function(e){var n;e.target===t&&(null===(n=a.swalCloseEventFinishedCallback)||void 0===n||n.call(a),delete a.swalCloseEventFinishedCallback,t.removeEventListener("animationend",r),t.removeEventListener("transitionend",r))};t.addEventListener("animationend",r),t.addEventListener("transitionend",r)},Qt=(e,t)=>{setTimeout((()=>{var n;"function"==typeof t&&t.bind(e.params)(),null===(n=a.eventEmitter)||void 0===n||n.emit("didClose"),e._destroy&&e._destroy()}))},Xt=e=>{let t=E();if(t||new ti,t=E(),!t)return;const n=L();q()?re(S()):$t(t,e),ie(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},$t=(e,t)=>{const n=z(),s=L();n&&s&&(!t&&ce(B())&&(t=B()),ie(n),t&&(re(t),s.setAttribute("data-button-to-replace",t.className),n.insertBefore(s,t)),ee([e,n],u.loading))},Jt=(e,t)=>{"select"===t.input||"radio"===t.input?rn(e,t):["text","email","number","tel","textarea"].some((e=>e===t.input))&&(w(t.inputValue)||v(t.inputValue))&&(Xt(B()),an(e,t))},en=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return tn(n);case"radio":return nn(n);case"file":return sn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},tn=e=>e.checked?1:0,nn=e=>e.checked?e.value:null,sn=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,rn=(e,t)=>{const n=E();if(!n)return;const s=e=>{"select"===t.input?on(n,cn(e),t):"radio"===t.input&&ln(n,cn(e),t)};w(t.inputOptions)||v(t.inputOptions)?(Xt(B()),b(t.inputOptions).then((t=>{e.hideLoading(),s(t)}))):"object"==typeof t.inputOptions?s(t.inputOptions):f("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof t.inputOptions)},an=(e,t)=>{const n=e.getInput();n&&(re(n),b(t.inputValue).then((s=>{n.value="number"===t.input?`${parseFloat(s)||0}`:`${s}`,ie(n),n.focus(),e.hideLoading()})).catch((t=>{f(`Error in inputValue promise: ${t}`),n.value="",ie(n),n.focus(),e.hideLoading()})))};function on(e,t,n){const s=ne(e,u.select);if(!s)return;const i=(e,t,s)=>{const i=document.createElement("option");i.value=s,Y(i,t),i.selected=un(s,n.inputValue),e.appendChild(i)};t.forEach((e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,s.appendChild(e),n.forEach((t=>i(e,t[1],t[0])))}else i(s,n,t)})),s.focus()}function ln(e,t,n){const s=ne(e,u.radio);if(!s)return;t.forEach((e=>{const t=e[0],i=e[1],r=document.createElement("input"),a=document.createElement("label");r.type="radio",r.name=u.radio,r.value=t,un(t,n.inputValue)&&(r.checked=!0);const o=document.createElement("span");Y(o,i),o.className=u.label,a.appendChild(r),a.appendChild(o),s.appendChild(a)}));const i=s.querySelectorAll("input");i.length&&i[0].focus()}const cn=e=>{const t=[];return e instanceof Map?e.forEach(((e,n)=>{let s=e;"object"==typeof s&&(s=cn(s)),t.push([n,s])})):Object.keys(e).forEach((n=>{let s=e[n];"object"==typeof s&&(s=cn(s)),t.push([n,s])})),t},un=(e,t)=>!!t&&t.toString()===e.toString(),hn=e=>{const t=Oe.innerParams.get(e);e.disableButtons(),t.input?fn(e,"confirm"):wn(e,!0)},dn=e=>{const t=Oe.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?fn(e,"deny"):gn(e,!1)},pn=(e,t)=>{e.disableButtons(),t(gt.cancel)},fn=(e,t)=>{const n=Oe.innerParams.get(e);if(!n.input)return void f(`The "input" parameter is needed to be set when using returnInputValueOn${d(t)}`);const s=e.getInput(),i=en(e,n);n.inputValidator?mn(e,i,t):s&&!s.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||s.validationMessage)):"deny"===t?gn(e,i):wn(e,i)},mn=(e,t,n)=>{const s=Oe.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>b(s.inputValidator(t,s.validationMessage)))).then((s=>{e.enableButtons(),e.enableInput(),s?e.showValidationMessage(s):"deny"===n?gn(e,t):wn(e,t)}))},gn=(e,t)=>{const n=Oe.innerParams.get(e||void 0);n.showLoaderOnDeny&&Xt(F()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((()=>b(n.preDeny(t,n.validationMessage)))).then((n=>{!1===n?(e.hideLoading(),Ht(e)):e.close({isDenied:!0,value:void 0===n?t:n})})).catch((t=>An(e||void 0,t)))):e.close({isDenied:!0,value:t})},yn=(e,t)=>{e.close({isConfirmed:!0,value:t})},An=(e,t)=>{e.rejectPromise(t)},wn=(e,t)=>{const n=Oe.innerParams.get(e||void 0);n.showLoaderOnConfirm&&Xt(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((()=>b(n.preConfirm(t,n.validationMessage)))).then((n=>{ce(M())||!1===n?(e.hideLoading(),Ht(e)):yn(e,void 0===n?t:n)})).catch((t=>An(e||void 0,t)))):yn(e,t)};function bn(){const e=Oe.innerParams.get(this);if(!e)return;const t=Oe.domCache.get(this);re(t.loader),q()?e.icon&&ie(S()):vn(t),te([t.popup,t.actions],u.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const vn=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ie(t[0],"inline-block"):ue()&&re(e.actions)};function xn(){const e=Oe.innerParams.get(this),t=Oe.domCache.get(this);return t?X(t.popup,e.input):null}function Cn(e,t,n){const s=Oe.domCache.get(e);t.forEach((e=>{s[e].disabled=n}))}function kn(e,t){const n=E();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll(`[name="${u.radio}"]`);for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function En(){Cn(this,["confirmButton","denyButton","cancelButton"],!1)}function Sn(){Cn(this,["confirmButton","denyButton","cancelButton"],!0)}function In(){kn(this.getInput(),!1)}function Tn(){kn(this.getInput(),!0)}function _n(e){const t=Oe.domCache.get(this),n=Oe.innerParams.get(this);Y(t.validationMessage,e),t.validationMessage.className=u["validation-message"],n.customClass&&n.customClass.validationMessage&&ee(t.validationMessage,n.customClass.validationMessage),ie(t.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",u["validation-message"]),$(s),ee(s,u.inputerror))}function Nn(){const e=Oe.domCache.get(this);e.validationMessage&&re(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),te(t,u.inputerror))}const Dn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Mn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Bn={allowEnterKey:void 0},Rn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Fn=e=>Object.prototype.hasOwnProperty.call(Dn,e),On=e=>-1!==Mn.indexOf(e),Ln=e=>Bn[e],zn=e=>{Fn(e)||p(`Unknown parameter "${e}"`)},Vn=e=>{Rn.includes(e)&&p(`The parameter "${e}" is incompatible with toasts`)},Pn=e=>{const t=Ln(e);t&&y(e,t)},Wn=e=>{!1===e.backdrop&&e.allowOutsideClick&&p('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)zn(t),e.toast&&Vn(t),Pn(t)};function Gn(e){const t=E(),n=Oe.innerParams.get(this);if(!t||K(t,n.hideClass.popup))return void p("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const s=Un(e),i=Object.assign({},n,s);ht(this,i),Oe.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const Un=e=>{const t={};return Object.keys(e).forEach((n=>{On(n)?t[n]=e[n]:p(`Invalid parameter to update: ${n}`)})),t};function jn(){const e=Oe.domCache.get(this),t=Oe.innerParams.get(this);t?(e.popup&&a.swalCloseEventFinishedCallback&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),a.eventEmitter.emit("didDestroy"),qn(this)):Hn(this)}const qn=e=>{Hn(e),delete e.params,delete a.keydownHandler,delete a.keydownTarget,delete a.currentInstance},Hn=e=>{e.isAwaitingPromise?(Yn(Oe,e),e.isAwaitingPromise=!0):(Yn(It,e),Yn(Oe,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Yn=(e,t)=>{for(const n in e)e[n].delete(t)};var Kn=Object.freeze({__proto__:null,_destroy:jn,close:Ut,closeModal:Ut,closePopup:Ut,closeToast:Ut,disableButtons:Sn,disableInput:Tn,disableLoading:bn,enableButtons:En,enableInput:In,getInput:xn,handleAwaitingPromise:Ht,hideLoading:bn,rejectPromise:qt,resetValidationMessage:Nn,showValidationMessage:_n,update:Gn});const Zn=(e,t,n)=>{e.toast?Qn(e,t,n):(Jn(t),es(t),ts(e,t,n))},Qn=(e,t,n)=>{t.popup.onclick=()=>{e&&(Xn(e)||e.timer||e.input)||n(gt.close)}},Xn=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let $n=!1;const Jn=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&($n=!0)}}},es=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&($n=!0)}}},ts=(e,t,n)=>{t.container.onclick=s=>{$n?$n=!1:s.target===t.container&&A(e.allowOutsideClick)&&n(gt.backdrop)}},ns=e=>"object"==typeof e&&e.jquery,ss=e=>e instanceof Element||ns(e),is=e=>{const t={};return"object"!=typeof e[0]||ss(e[0])?["title","html","icon"].forEach(((n,s)=>{const i=e[s];"string"==typeof i||ss(i)?t[n]=i:void 0!==i&&f(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)})):Object.assign(t,e[0]),t};function rs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)}function as(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const os=()=>a.timeout&&a.timeout.getTimerLeft(),ls=()=>{if(a.timeout)return fe(),a.timeout.stop()},cs=()=>{if(a.timeout){const e=a.timeout.start();return pe(e),e}},us=()=>{const e=a.timeout;return e&&(e.running?ls():cs())},hs=e=>{if(a.timeout){const t=a.timeout.increase(e);return pe(t,!0),t}},ds=()=>!(!a.timeout||!a.timeout.isRunning());let ps=!1;const fs={};function ms(){fs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ps||(document.body.addEventListener("click",gs),ps=!0)}const gs=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in fs){const n=t.getAttribute(e);if(n)return void fs[e].fire({template:n})}};class ys{constructor(){this.events={}}_getHandlersByEventName(e){return void 0===this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){var n=this;const s=function(){n.removeListener(e,s);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];t.apply(n,r)};this.on(e,s)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];this._getHandlersByEventName(e).forEach((e=>{try{e.apply(this,n)}catch(e){}}))}removeListener(e,t){const n=this._getHandlersByEventName(e),s=n.indexOf(t);s>-1&&n.splice(s,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}}a.eventEmitter=new ys;const As=(e,t)=>{a.eventEmitter.on(e,t)},ws=(e,t)=>{a.eventEmitter.once(e,t)},bs=(e,t)=>{e?t?a.eventEmitter.removeListener(e,t):a.eventEmitter.removeAllListeners(e):a.eventEmitter.reset()};var vs=Object.freeze({__proto__:null,argsToParams:is,bindClickHandler:ms,clickCancel:mt,clickConfirm:pt,clickDeny:ft,enableLoading:Xt,fire:rs,getActions:z,getCancelButton:R,getCloseButton:W,getConfirmButton:B,getContainer:x,getDenyButton:F,getFocusableElements:U,getFooter:V,getHtmlContainer:_,getIcon:S,getIconContent:I,getImage:N,getInputLabel:O,getLoader:L,getPopup:E,getProgressSteps:D,getTimerLeft:os,getTimerProgressBar:P,getTitle:T,getValidationMessage:M,increaseTimer:hs,isDeprecatedParameter:Ln,isLoading:H,isTimerRunning:ds,isUpdatableParameter:On,isValidParameter:Fn,isVisible:dt,mixin:as,off:bs,on:As,once:ws,resumeTimer:cs,showLoading:Xt,stopTimer:ls,toggleTimer:us});class xs{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Cs=["swal-title","swal-html","swal-footer"],ks=e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Ms(n),Object.assign(Es(n),Ss(n),Is(n),Ts(n),_s(n),Ns(n),Ds(n,Cs))},Es=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach((e=>{Bs(e,["name","value"]);const n=e.getAttribute("name"),s=e.getAttribute("value");n&&s&&("boolean"==typeof Dn[n]?t[n]="false"!==s:"object"==typeof Dn[n]?t[n]=JSON.parse(s):t[n]=s)})),t},Ss=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((e=>{const n=e.getAttribute("name"),s=e.getAttribute("value");n&&s&&(t[n]=new Function(`return ${s}`)())})),t},Is=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach((e=>{Bs(e,["type","color","aria-label"]);const n=e.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(t[`${n}ButtonText`]=e.innerHTML,t[`show${d(n)}Button`]=!0,e.hasAttribute("color")&&(t[`${n}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t[`${n}ButtonAriaLabel`]=e.getAttribute("aria-label")))})),t},Ts=e=>{const t={},n=e.querySelector("swal-image");return n&&(Bs(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},_s=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Bs(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Ns=e=>{const t={},n=e.querySelector("swal-input");n&&(Bs(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const s=Array.from(e.querySelectorAll("swal-input-option"));return s.length&&(t.inputOptions={},s.forEach((e=>{Bs(e,["value"]);const n=e.getAttribute("value");if(!n)return;const s=e.innerHTML;t.inputOptions[n]=s}))),t},Ds=(e,t)=>{const n={};for(const s in t){const i=t[s],r=e.querySelector(i);r&&(Bs(r,[]),n[i.replace(/^swal-/,"")]=r.innerHTML.trim())}return n},Ms=e=>{const t=Cs.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((e=>{const n=e.tagName.toLowerCase();t.includes(n)||p(`Unrecognized element <${n}>`)}))},Bs=(e,t)=>{Array.from(e.attributes).forEach((n=>{-1===t.indexOf(n.name)&&p([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."])}))},Rs=10,Fs=e=>{const t=x(),n=E();"function"==typeof e.willOpen&&e.willOpen(n),a.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;Vs(t,n,e),setTimeout((()=>{Ls(t,n)}),Rs),j()&&(zs(t,e.scrollbarPadding,s),Tt()),q()||a.previousActiveElement||(a.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((()=>e.didOpen(n))),a.eventEmitter.emit("didOpen",n),te(t,u["no-transition"])},Os=e=>{const t=E();if(e.target!==t)return;const n=x();t.removeEventListener("animationend",Os),t.removeEventListener("transitionend",Os),n.style.overflowY="auto"},Ls=(e,t)=>{de(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Os),t.addEventListener("transitionend",Os)):e.style.overflowY="auto"},zs=(e,t,n)=>{Dt(),t&&"hidden"!==n&&Vt(n),setTimeout((()=>{e.scrollTop=0}))},Vs=(e,t,n)=>{ee(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),ie(t,"grid"),setTimeout((()=>{ee(t,n.showClass.popup),t.style.removeProperty("opacity")}),Rs)):ie(t,"grid"),ee([document.documentElement,document.body],u.shown),n.heightAuto&&n.backdrop&&!n.toast&&ee([document.documentElement,document.body],u["height-auto"])};var Ps={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Ws(e){e.inputValidator||("email"===e.input&&(e.inputValidator=Ps.email),"url"===e.input&&(e.inputValidator=Ps.url))}function Gs(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(p('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Us(e){Ws(e),e.showLoaderOnConfirm&&!e.preConfirm&&p("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),Gs(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Ce(e)}let js;var qs=new WeakMap;class Hs{constructor(){if(s(this,qs,void 0),"undefined"==typeof window)return;js=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Object.freeze(this.constructor.argsToParams(t));this.params=r,this.isAwaitingPromise=!1,i(qs,this,this._main(js.params))}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Wn(Object.assign({},t,e)),a.currentInstance){const e=It.swalPromiseResolve.get(a.currentInstance),{isAwaitingPromise:t}=a.currentInstance;a.currentInstance._destroy(),t||e({isDismissed:!0}),j()&&_t()}a.currentInstance=js;const n=Ks(e,t);Us(n),Object.freeze(n),a.timeout&&(a.timeout.stop(),delete a.timeout),clearTimeout(a.restoreFocusTimeout);const s=Zs(js);return ht(js,n),Oe.innerParams.set(js,n),Ys(js,s,n)}then(e){return n(qs,this).then(e)}finally(e){return n(qs,this).finally(e)}}const Ys=(e,t,n)=>new Promise(((s,i)=>{const r=t=>{e.close({isDismissed:!0,dismiss:t})};It.swalPromiseResolve.set(e,s),It.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{hn(e)},t.denyButton.onclick=()=>{dn(e)},t.cancelButton.onclick=()=>{pn(e,r)},t.closeButton.onclick=()=>{r(gt.close)},Zn(n,t,r),At(a,n,r),Jt(e,n),Fs(n),Qs(a,n,r),Xs(t,n),setTimeout((()=>{t.container.scrollTop=0}))})),Ks=(e,t)=>{const n=ks(e),s=Object.assign({},Dn,t,n,e);return s.showClass=Object.assign({},Dn.showClass,s.showClass),s.hideClass=Object.assign({},Dn.hideClass,s.hideClass),!1===s.animation&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},Zs=e=>{const t={popup:E(),container:x(),actions:z(),confirmButton:B(),denyButton:F(),cancelButton:R(),loader:L(),closeButton:W(),validationMessage:M(),progressSteps:D()};return Oe.domCache.set(e,t),t},Qs=(e,t,n)=>{const s=P();re(s),t.timer&&(e.timeout=new xs((()=>{n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ie(s),Q(s,t,"timerProgressBar"),setTimeout((()=>{e.timeout&&e.timeout.running&&pe(t.timer)}))))},Xs=(e,t)=>{if(!t.toast)return A(t.allowEnterKey)?void($s(e)||Js(e,t)||wt(-1,1)):(y("allowEnterKey"),void ei())},$s=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const e of t)if(e instanceof HTMLElement&&ce(e))return e.focus(),!0;return!1},Js=(e,t)=>t.focusDeny&&ce(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ce(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!ce(e.confirmButton)||(e.confirmButton.focus(),0)),ei=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/864e5>3&&setTimeout((()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((()=>{e.play().catch((()=>{}))}),2500)}),500):localStorage.setItem("swal-initiation",`${e}`)}Hs.prototype.disableButtons=Sn,Hs.prototype.enableButtons=En,Hs.prototype.getInput=xn,Hs.prototype.disableInput=Tn,Hs.prototype.enableInput=In,Hs.prototype.hideLoading=bn,Hs.prototype.disableLoading=bn,Hs.prototype.showValidationMessage=_n,Hs.prototype.resetValidationMessage=Nn,Hs.prototype.close=Ut,Hs.prototype.closePopup=Ut,Hs.prototype.closeModal=Ut,Hs.prototype.closeToast=Ut,Hs.prototype.rejectPromise=qt,Hs.prototype.update=Gn,Hs.prototype._destroy=jn,Object.assign(Hs,vs),Object.keys(Kn).forEach((e=>{Hs[e]=function(){return js&&js[e]?js[e](...arguments):null}})),Hs.DismissReason=gt,Hs.version="11.14.5";const ti=Hs;return ti.default=ti,ti}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2)},9171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AMOscillator:()=>fa,AMSynth:()=>Ha,Abs:()=>Na,Add:()=>va,AmplitudeEnvelope:()=>Ua,Analyser:()=>ml,AudioToGain:()=>da,AutoFilter:()=>Mo,AutoPanner:()=>Ro,AutoWah:()=>Oo,BaseContext:()=>Ki,BiquadFilter:()=>Ya,BitCrusher:()=>zo,Buffer:()=>Zl,BufferSource:()=>Xl,Buffers:()=>Ql,Channel:()=>Cl,Chebyshev:()=>Po,Chorus:()=>qo,Clock:()=>Lr,Compressor:()=>_l,Context:()=>Zi,Convolver:()=>Fl,CrossFade:()=>_o,DCMeter:()=>wl,Delay:()=>zr,Destination:()=>Pl,Distortion:()=>Ho,Draw:()=>ql,DuoSynth:()=>Xa,EQ3:()=>Rl,Emitter:()=>Yi,Envelope:()=>Va,FFT:()=>Al,FMOscillator:()=>ma,FMSynth:()=>$a,FatOscillator:()=>ya,FeedbackCombFilter:()=>lo,FeedbackDelay:()=>Ko,Filter:()=>Ka,Follower:()=>Fo,Freeverb:()=>Jo,Frequency:()=>wr,FrequencyClass:()=>gr,FrequencyEnvelope:()=>Za,FrequencyShifter:()=>Qo,Gain:()=>_r,GainToAudio:()=>Da,Gate:()=>Nl,GrainPlayer:()=>_a,GreaterThan:()=>Fa,GreaterThanZero:()=>Ra,IntervalTimeline:()=>Hr,JCReverb:()=>sl,LFO:()=>ka,Limiter:()=>Dl,Listener:()=>Ul,Loop:()=>go,LowpassCombFilter:()=>uo,Master:()=>Wl,MembraneSynth:()=>to,Merge:()=>Go,MetalSynth:()=>eo,Meter:()=>yl,MidSideCompressor:()=>Ml,MidSideMerge:()=>ul,MidSideSplit:()=>cl,Midi:()=>Gr,MidiClass:()=>Wr,Mono:()=>kl,MonoSynth:()=>Qa,MultibandCompressor:()=>Bl,MultibandSplit:()=>El,Multiply:()=>pa,Negate:()=>Ma,Noise:()=>na,NoiseSynth:()=>no,Offline:()=>Vr,OfflineContext:()=>er,OmniOscillator:()=>ba,OnePoleFilter:()=>co,Oscillator:()=>ca,PWMOscillator:()=>Aa,PanVol:()=>xl,Panner:()=>Bo,Panner3D:()=>Il,Param:()=>kr,Part:()=>yo,Pattern:()=>Io,Phaser:()=>ol,PingPongDelay:()=>rl,PitchShift:()=>al,Player:()=>Ia,Players:()=>Ta,PluckSynth:()=>ho,PolySynth:()=>po,Pow:()=>Oa,PulseOscillator:()=>ga,Recorder:()=>Tl,Reverb:()=>ll,Sampler:()=>fo,Scale:()=>xa,ScaleExp:()=>La,Sequence:()=>To,Signal:()=>Mr,Solo:()=>vl,Split:()=>Wo,StateTimeline:()=>Cr,StereoWidener:()=>dl,Subtract:()=>Ba,SyncedSignal:()=>za,Synth:()=>ja,Ticks:()=>jr,TicksClass:()=>Ur,Time:()=>mr,TimeClass:()=>fr,Timeline:()=>Gi,ToneAudioBuffer:()=>Ji,ToneAudioBuffers:()=>Pr,ToneAudioNode:()=>Er,ToneBufferSource:()=>ta,ToneEvent:()=>mo,ToneOscillatorNode:()=>la,Transport:()=>zl,TransportTime:()=>vr,TransportTimeClass:()=>br,Tremolo:()=>pl,Unit:()=>i,UserMedia:()=>aa,Vibrato:()=>fl,Volume:()=>Kr,WaveShaper:()=>ha,Waveform:()=>bl,Zero:()=>Ca,connect:()=>Ir,connectSeries:()=>Sr,connectSignal:()=>Br,context:()=>Yl,dbToGain:()=>ar,debug:()=>s,defaultArg:()=>Bi,disconnect:()=>Tr,ftom:()=>ur,gainToDb:()=>or,getContext:()=>sr,getDestination:()=>Gl,getDraw:()=>Hl,getListener:()=>jl,getTransport:()=>Vl,immediate:()=>Ll,intervalToFrequencyRatio:()=>lr,isArray:()=>yi,isBoolean:()=>gi,isDefined:()=>di,isFunction:()=>pi,isNote:()=>wi,isNumber:()=>fi,isObject:()=>mi,isString:()=>Ai,isUndef:()=>hi,loaded:()=>Kl,mtof:()=>dr,now:()=>Ol,optionsFromArguments:()=>Mi,setContext:()=>ir,start:()=>rr,supported:()=>si,version:()=>r});var s={};n.r(s),n.d(s,{assert:()=>ii,assertContextRunning:()=>ai,assertRange:()=>ri,log:()=>ci,setLogger:()=>li,warn:()=>ui});var i={};n.r(i);const r="14.7.77",a=(e,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}),o=(e,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:e}),l=(e,t)=>({startTime:t,type:"setValue",value:e}),c=(e,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:e}),u=(e,t,{startTime:n,target:s,timeConstant:i})=>s+(t-s)*Math.exp((n-e)/i),h=e=>"exponentialRampToValue"===e.type,d=e=>"linearRampToValue"===e.type,p=e=>h(e)||d(e),f=e=>"setValue"===e.type,m=e=>"setValueCurve"===e.type,g=(e,t,n,s)=>{const i=e[t];return void 0===i?s:p(i)||f(i)?i.value:m(i)?i.values[i.values.length-1]:u(n,g(e,t-1,i.startTime,s),i)},y=(e,t,n,s,i)=>void 0===n?[s.insertTime,i]:p(n)?[n.endTime,n.value]:f(n)?[n.startTime,n.value]:m(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,g(e,t-1,n.startTime,i)],A=e=>"cancelAndHold"===e.type,w=e=>"cancelScheduledValues"===e.type,b=e=>A(e)||w(e)?e.cancelTime:h(e)||d(e)?e.endTime:e.startTime,v=(e,t,n,{endTime:s,value:i})=>n===i?i:0<n&&0<i||n<0&&i<0?n*(i/n)**((e-t)/(s-t)):0,x=(e,t,n,{endTime:s,value:i})=>n+(e-t)/(s-t)*(i-n),C=(e,{duration:t,startTime:n,values:s})=>((e,t)=>{const n=Math.floor(t),s=Math.ceil(t);return n===s?e[n]:(1-(t-n))*e[n]+(1-(s-t))*e[s]})(s,(e-n)/t*(s.length-1)),k=e=>"setTarget"===e.type;class E{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=b(e);if(A(e)||w(e)){const n=this._automationEvents.findIndex((n=>w(e)&&m(n)?n.startTime+n.duration>=t:b(n)>=t)),s=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),A(e)){const e=this._automationEvents[this._automationEvents.length-1];if(void 0!==s&&p(s)){if(void 0!==e&&k(e))throw new Error("The internal list is malformed.");const n=void 0===e?s.insertTime:m(e)?e.startTime+e.duration:b(e),i=void 0===e?this._defaultValue:m(e)?e.values[e.values.length-1]:e.value,r=h(s)?v(t,n,i,s):x(t,n,i,s),l=h(s)?a(r,t,this._currenTime):o(r,t,this._currenTime);this._automationEvents.push(l)}if(void 0!==e&&k(e)&&this._automationEvents.push(l(this.getValue(t),t)),void 0!==e&&m(e)&&e.startTime+e.duration>t){const n=t-e.startTime,s=(e.values.length-1)/e.duration,i=Math.max(2,1+Math.ceil(n*s)),r=n/(i-1)*s,a=e.values.slice(0,i);if(r<1)for(let t=1;t<i;t+=1){const n=r*t%1;a[t]=e.values[t-1]*(1-n)+e.values[t]*n}this._automationEvents[this._automationEvents.length-1]=c(a,e.startTime,n)}}}else{const n=this._automationEvents.findIndex((e=>b(e)>t)),s=-1===n?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[n-1];if(void 0!==s&&m(s)&&b(s)+s.duration>t)return!1;const i=h(e)?a(e.value,e.endTime,this._currenTime):d(e)?o(e.value,t,this._currenTime):e;if(-1===n)this._automationEvents.push(i);else{if(m(e)&&t+e.duration>b(this._automationEvents[n]))return!1;this._automationEvents.splice(n,0,i)}}return!0}flush(e){const t=this._automationEvents.findIndex((t=>b(t)>e));if(t>1){const e=this._automationEvents.slice(t-1),n=e[0];k(n)&&e.unshift(l(g(this._automationEvents,t-2,n.startTime,this._defaultValue),n.startTime)),this._automationEvents=e}}getValue(e){if(0===this._automationEvents.length)return this._defaultValue;const t=this._automationEvents.findIndex((t=>b(t)>e)),n=this._automationEvents[t],s=(-1===t?this._automationEvents.length:t)-1,i=this._automationEvents[s];if(void 0!==i&&k(i)&&(void 0===n||!p(n)||n.insertTime>e))return u(e,g(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(void 0!==i&&f(i)&&(void 0===n||!p(n)))return i.value;if(void 0!==i&&m(i)&&(void 0===n||!p(n)||i.startTime+i.duration>e))return e<i.startTime+i.duration?C(e,i):i.values[i.values.length-1];if(void 0!==i&&p(i)&&(void 0===n||!p(n)))return i.value;if(void 0!==n&&h(n)){const[t,r]=y(this._automationEvents,s,i,n,this._defaultValue);return v(e,t,r,n)}if(void 0!==n&&d(n)){const[t,r]=y(this._automationEvents,s,i,n,this._defaultValue);return x(e,t,r,n)}return this._defaultValue}}const S=new WeakSet,I=new WeakMap,T=new WeakMap,_=new WeakMap,N=new WeakMap,D=new WeakMap,M=new WeakMap,B=new WeakMap,R=new WeakMap,F=new WeakMap,O={construct:()=>O},L=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,z=(e,t)=>{const n=[];let s=e.replace(/^[\s]+/,""),i=s.match(L);for(;null!==i;){const e=i[1].slice(1,-1),r=i[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(r),s=s.slice(i[0].length).replace(/^[\s]+/,""),i=s.match(L)}return[n.join(";"),s]},V=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},P=e=>{if(!(e=>{try{new new Proxy(e,O)}catch{return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!=typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},W=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},G=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return e.delete(s),s},U=(e,t,n,s)=>{const i=W(e,t),r=G(i,(e=>e[0]===n&&e[1]===s));return 0===i.size&&e.delete(t),r},j=e=>W(M,e),q=e=>{if(S.has(e))throw new Error("The AudioNode is already stored.");S.add(e),j(e).forEach((e=>e(!0)))},H=e=>"port"in e,Y=e=>{if(!S.has(e))throw new Error("The AudioNode is not stored.");S.delete(e),j(e).forEach((e=>e(!1)))},K=(e,t)=>{!H(e)&&t.every((e=>0===e.size))&&Y(e)},Z={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Q=(e,t)=>e.context===t,X=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},$=()=>new DOMException("","IndexSizeError"),J=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(e){if(12===e.code)throw $();throw e}})},ee={numberOfChannels:1},te=-34028234663852886e22,ne=-te,se=e=>S.has(e),ie={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},re=e=>W(I,e),ae=e=>W(_,e),oe=(e,t)=>{const{activeInputs:n}=re(e);n.forEach((n=>n.forEach((([n])=>{t.includes(e)||oe(n,[...t,e])}))));const s=(e=>"playbackRate"in e)(e)?[e.playbackRate]:H(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e&&!("gain"in e))(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const e of s){const n=ae(e);void 0!==n&&n.activeInputs.forEach((([e])=>oe(e,t)))}se(e)&&Y(e)},le=e=>{oe(e.destination,[])},ce=e=>void 0===e||"number"==typeof e||"string"==typeof e&&("balanced"===e||"interactive"===e||"playback"===e),ue=e=>"context"in e,he=e=>ue(e[0]),de=(e,t,n,s)=>{for(const t of e)if(n(t)){if(s)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},pe=(e,t,[n,s],i)=>{de(e,[t,n,s],(e=>e[0]===t&&e[1]===n),i)},fe=(e,[t,n,s],i)=>{const r=e.get(t);void 0===r?e.set(t,new Set([[n,s]])):de(r,[n,s],(e=>e[0]===n),i)},me=e=>"inputs"in e,ge=(e,t,n,s)=>{if(me(t)){const i=t.inputs[s];return e.connect(i,n,0),[i,n,0]}return e.connect(t,n,s),[t,n,s]},ye=(e,t,n)=>{for(const s of e)if(s[0]===t&&s[1]===n)return e.delete(s),s;return null},Ae=(e,t)=>{if(!j(e).delete(t))throw new Error("Missing the expected event listener.")},we=(e,t,n)=>{const s=W(e,t),i=G(s,(e=>e[0]===n));return 0===s.size&&e.delete(t),i},be=(e,t,n,s)=>{me(t)?e.disconnect(t.inputs[s],n,0):e.disconnect(t,n,s)},ve=e=>W(T,e),xe=e=>W(N,e),Ce=e=>B.has(e),ke=e=>!S.has(e),Ee=(e,t)=>new Promise((n=>{if(null!==t)n(!0);else{const t=e.createScriptProcessor(256,1,1),s=e.createGain(),i=e.createBuffer(1,2,44100),r=i.getChannelData(0);r[0]=1,r[1]=1;const a=e.createBufferSource();a.buffer=i,a.loop=!0,a.connect(t).connect(e.destination),a.connect(s),a.disconnect(s),t.onaudioprocess=s=>{const i=s.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(e=>1===e))?n(!0):n(!1),a.stop(),t.onaudioprocess=null,a.disconnect(t),t.disconnect(e.destination)},a.start()}})),Se=(e,t)=>{const n=new Map;for(const t of e)for(const e of t){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach(((e,n)=>t(n,e)))},Ie=e=>"context"in e,Te=e=>{const t=new Map;e.connect=(e=>(n,s=0,i=0)=>{const r=Ie(n)?e(n,s,i):e(n,s),a=t.get(n);return void 0===a?t.set(n,[{input:i,output:s}]):a.every((e=>e.input!==i||e.output!==s))&&a.push({input:i,output:s}),r})(e.connect.bind(e)),e.disconnect=(n=>(s,i,r)=>{if(n.apply(e),void 0===s)t.clear();else if("number"==typeof s)for(const[e,n]of t){const i=n.filter((e=>e.output!==s));0===i.length?t.delete(e):t.set(e,i)}else if(t.has(s))if(void 0===i)t.delete(s);else{const e=t.get(s);if(void 0!==e){const n=e.filter((e=>e.output!==i&&(e.input!==r||void 0===r)));0===n.length?t.delete(s):t.set(s,n)}}for(const[n,s]of t)s.forEach((t=>{Ie(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)}))})(e.disconnect)},_e=(e,t,n,s)=>{const{activeInputs:i,passiveInputs:r}=ae(t),{outputs:a}=re(e),o=j(e),l=a=>{const o=ve(e),l=xe(t);if(a){const t=we(r,e,n);pe(i,e,t,!1),s||Ce(e)||o.connect(l,n)}else{const t=((e,t,n)=>G(e,(e=>e[0]===t&&e[1]===n)))(i,e,n);fe(r,t,!1),s||Ce(e)||o.disconnect(l,n)}};return!!de(a,[t,n],(e=>e[0]===t&&e[1]===n),!0)&&(o.add(l),se(e)?pe(i,e,[n,l],!0):fe(r,[e,n,l],!0),!0)},Ne=(e,t,n,s,i)=>{const[r,a]=((e,t,n,s)=>{const{activeInputs:i,passiveInputs:r}=re(t),a=ye(i[s],e,n);if(null===a)return[U(r,e,n,s)[2],!1];return[a[2],!0]})(e,n,s,i);if(null!==r&&(Ae(e,r),!a||t||Ce(e)||be(ve(e),ve(n),s,i)),se(n)){const{activeInputs:e}=re(n);K(n,e)}},De=(e,t,n,s)=>{const[i,r]=((e,t,n)=>{const{activeInputs:s,passiveInputs:i}=ae(t),r=ye(s,e,n);if(null===r)return[we(i,e,n)[1],!1];return[r[2],!0]})(e,n,s);null!==i&&(Ae(e,i),!r||t||Ce(e)||ve(e).disconnect(xe(n),s))};class Me{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach(((n,s)=>e.call(t,n,s,this)))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Be={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Re(e,t,n,s,i){if("function"==typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],s,i);else{const r=e.getChannelData(s);if(0===t[n].byteLength)t[n]=r.slice(i,i+128);else{const e=new Float32Array(r.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const Fe=(e,t,n,s,i)=>{"function"==typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],s,i):0!==t[n].byteLength&&e.getChannelData(s).set(t[n],i)},Oe=(e,t)=>{const n=[];for(let s=0;s<e;s+=1){const e=[],i="number"==typeof t?t:t[s];for(let t=0;t<i;t+=1)e.push(new Float32Array(128));n.push(e)}return n},Le=async(e,t,n,s,i,r,a)=>{const o=null===t?128*Math.ceil(e.context.length/128):t.length,l=s.channelCount*s.numberOfInputs,c=i.reduce(((e,t)=>e+t),0),u=0===c?null:n.createBuffer(c,o,n.sampleRate);if(void 0===r)throw new Error("Missing the processor constructor.");const h=re(e),d=await((e,t)=>{const n=W(F,e),s=ve(t);return W(n,s)})(n,e),p=Oe(s.numberOfInputs,s.channelCount),f=Oe(s.numberOfOutputs,i),m=Array.from(e.parameters.keys()).reduce(((e,t)=>({...e,[t]:new Float32Array(128)})),{});for(let c=0;c<o;c+=128){if(s.numberOfInputs>0&&null!==t)for(let e=0;e<s.numberOfInputs;e+=1)for(let n=0;n<s.channelCount;n+=1)Re(t,p[e],n,n,c);void 0!==r.parameterDescriptors&&null!==t&&r.parameterDescriptors.forEach((({name:e},n)=>{Re(t,m,e,l+n,c)}));for(let e=0;e<s.numberOfInputs;e+=1)for(let t=0;t<i[e];t+=1)0===f[e][t].byteLength&&(f[e][t]=new Float32Array(128));try{const e=p.map(((e,t)=>0===h.activeInputs[t].size?[]:e)),t=a(c/n.sampleRate,n.sampleRate,(()=>d.process(e,f,m)));if(null!==u)for(let e=0,t=0;e<s.numberOfOutputs;e+=1){for(let n=0;n<i[e];n+=1)Fe(u,f[e],n,t+n,c);t+=i[e]}if(!t)break}catch(t){e.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}));break}}return u},ze={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Ve={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Pe={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},We={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ge={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Ue=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise((s=>{const i=()=>{n.onmessage=null,t.close(),n.close(),s()};n.onmessage=()=>i();try{t.postMessage(e,[e])}catch{}finally{i()}}))},je={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},qe=(e,t,n)=>{const s=t[n];if(void 0===s)throw e();return s},He={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Ye={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ke=()=>new DOMException("","InvalidStateError"),Ze=()=>new DOMException("","InvalidAccessError"),Qe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Xe=(e,t,n,s,i,r,a,o,l,c,u)=>{const h=c.length;let d=o;for(let o=0;o<h;o+=1){let h=n[0]*c[o];for(let t=1;t<i;t+=1){const s=d-t&l-1;h+=n[t]*r[s],h-=e[t]*a[s]}for(let e=i;e<s;e+=1)h+=n[e]*r[d-e&l-1];for(let n=i;n<t;n+=1)h-=e[n]*a[d-n&l-1];r[d]=c[o],a[d]=h,d=d+1&l-1,u[o]=h}return d},$e={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Je=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},et={numberOfChannels:1},tt=(e,t,n)=>{const s=t[n];void 0!==s&&s!==e[n]&&(e[n]=s)},nt=(e,t)=>{tt(e,t,"channelCount"),tt(e,t,"channelCountMode"),tt(e,t,"channelInterpretation")},st=e=>"function"==typeof e.getFloatTimeDomainData,it=(e,t,n)=>{const s=t[n];void 0!==s&&s!==e[n].value&&(e[n].value=s)},rt=e=>{e.start=(t=>(n=0,s=0,i)=>{if("number"==typeof i&&i<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,s,i)})(e.start)},at=e=>{var t;e.stop=(t=e.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},ot=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),lt=async(e,t)=>{const n=await(e=>new Promise(((t,n)=>{const{port1:s,port2:i}=new MessageChannel;s.onmessage=({data:e})=>{s.close(),i.close(),t(e)},s.onmessageerror=({data:e})=>{s.close(),i.close(),n(e)},i.postMessage(e)})))(t);return new e(n)},ct=(e,t)=>{const n=e.createBiquadFilter();return nt(n,t),it(n,t,"Q"),it(n,t,"detune"),it(n,t,"frequency"),it(n,t,"gain"),tt(n,t,"type"),n},ut=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return nt(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Ke()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Ke()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Ke()}})})(n),n},ht=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),dt=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return nt(n,t),it(n,t,"delayTime"),n},pt=(e,t)=>{const n=e.createGain();return nt(n,t),it(n,t,"gain"),n};function ft(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function mt(e,t){let n=[0,0];for(let r=e.length-1;r>=0;r-=1)i=t,n=[(s=n)[0]*i[0]-s[1]*i[1],s[0]*i[1]+s[1]*i[0]],n[0]+=e[r];var s,i;return n}const gt=(e,t,n,s)=>e.createScriptProcessor(t,n,s),yt=()=>new DOMException("","NotSupportedError"),At={numberOfChannels:1},wt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},bt={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},vt={disableNormalization:!1},xt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Ct=()=>new DOMException("","UnknownError"),kt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Et=(e,t,n)=>void 0===e.copyFromChannel?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),St=e=>{if(null===e)return!1;const t=e.length;return t%2!=0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},It=(e,t,n,s)=>{let i=e;for(;!i.hasOwnProperty(t);)i=Object.getPrototypeOf(i);const{get:r,set:a}=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,{get:n(r),set:s(a)})},Tt=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(s){if(9!==s.code)throw s;Tt(e,t,n+1e-7)}},_t=e=>{const t=e.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},Nt=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Dt=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},Mt=()=>{try{new DOMException}catch{return!1}return!0},Bt=()=>new Promise((e=>{const t=new ArrayBuffer(0),{port1:n,port2:s}=new MessageChannel;n.onmessage=({data:t})=>e(null!==t),s.postMessage(t,[t])})),Rt=(e,t)=>{const n=t.createGain();e.connect(n);const s=(t=>()=>{t.call(e,n),e.removeEventListener("ended",s)})(e.disconnect);e.addEventListener("ended",s),ht(e,n),e.stop=(t=>{let s=!1;return(i=0)=>{if(s)try{t.call(e,i)}catch{n.gain.setValueAtTime(0,i)}else t.call(e,i),s=!0}})(e.stop)},Ft=(e,t)=>n=>{const s={value:e};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"==typeof t?t.call(e,n):t.handleEvent.call(e,n)},Ot=(e=>(t,n,[s,i,r],a)=>{e(t[i],[n,s,r],(e=>e[0]===n&&e[1]===s),a)})(de),Lt=(e=>(t,n,[s,i,r],a)=>{const o=t.get(s);void 0===o?t.set(s,new Set([[i,n,r]])):e(o,[i,n,r],(e=>e[0]===i&&e[1]===n),a)})(de),zt=(e=>(t,n,s,i)=>e(t[i],(e=>e[0]===n&&e[1]===s)))(G),Vt=new WeakMap,Pt=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})(Vt),Wt=(Gt=new Map,Ut=new WeakMap,(e,t)=>{const n=Ut.get(e);if(void 0!==n)return n;const s=Gt.get(e);if(void 0!==s)return s;try{const n=t();return n instanceof Promise?(Gt.set(e,n),n.catch((()=>!1)).then((t=>(Gt.delete(e),Ut.set(e,t),t)))):(Ut.set(e,n),n)}catch{return Ut.set(e,!1),!1}});var Gt,Ut;const jt="undefined"==typeof window?null:window,qt=((e,t)=>(n,s)=>{const i=n.createAnalyser();if(nt(i,s),!(s.maxDecibels>s.minDecibels))throw t();return tt(i,s,"fftSize"),tt(i,s,"maxDecibels"),tt(i,s,"minDecibels"),tt(i,s,"smoothingTimeConstant"),e(st,(()=>st(i)))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const s=Math.max(n.length,e.fftSize);for(let e=0;e<s;e+=1)t[e]=.0078125*(n[e]-128);return t}})(i),i})(Wt,$),Ht=(e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(re),Yt=((e,t,n)=>async(s,i,r)=>{const a=e(s);await Promise.all(a.activeInputs.map(((e,a)=>Array.from(e).map((async([e,o])=>{const l=t(e),c=await l.render(e,i),u=s.context.destination;n(e)||s===u&&n(s)||c.connect(r,o,a)})))).reduce(((e,t)=>[...e,...t]),[]))})(re,Ht,Ce),Kt=((e,t,n)=>()=>{const s=new WeakMap;return{render(i,r){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r)=>{let a=t(i);if(!Q(a,r)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=e(r,t)}return s.set(r,a),await n(i,r,a),a})(i,r)}}})(qt,ve,Yt),Zt=(Qt=D,e=>{const t=Qt.get(e);if(void 0===t)throw Ke();return t});var Qt;const Xt=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(jt),$t=(e=>t=>null!==e&&t instanceof e)(Xt),Jt=new WeakMap,en=(e=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(t,n,s){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=e(this,n),"function"==typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(t,i,s)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const s=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===s?null:s,n)}})(Ft),tn=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(jt),nn=(e=>t=>null!==e&&t instanceof e)(tn),sn=(e=>t=>null!==e&&"function"==typeof e.AudioNode&&t instanceof e.AudioNode)(jt),rn=(e=>t=>null!==e&&"function"==typeof e.AudioParam&&t instanceof e.AudioParam)(jt),an=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(jt),on=((e,t,n,s,i,r,a,o,l,c,u,h,d,p,f,m)=>class extends c{constructor(t,s,i,r){super(i),this._context=t,this._nativeAudioNode=i;const a=u(t);h(a)&&!0!==n(Ee,(()=>Ee(a,m)))&&Te(i),T.set(this,i),M.set(this,new Set),"closed"!==t.state&&s&&q(this),e(this,r,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e,n=0,o=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const c=u(this._context),h=f(c);if(d(e)||p(e))throw r();if(ue(e)){const i=ve(e);try{const t=ge(this._nativeAudioNode,i,n,o),s=ke(this);(h||s)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!s&&ke(e)&&q(e)}catch(e){if(12===e.code)throw r();throw e}if(t(this,e,n,o,h)){const t=l([this],e);Se(t,s(h))}return e}const m=xe(e);if("playbackRate"===m.name&&1024===m.maxValue)throw a();try{this._nativeAudioNode.connect(m,n),(h||ke(this))&&this._nativeAudioNode.disconnect(m,n)}catch(e){if(12===e.code)throw r();throw e}if(_e(this,e,n,h)){const t=l([this],e);Se(t,s(h))}}disconnect(e,t,n){let s;const a=u(this._context),c=f(a);if(void 0===e)s=((e,t)=>{const n=re(e),s=[];for(const i of n.outputs)he(i)?Ne(e,t,...i):De(e,t,...i),s.push(i[0]);return n.outputs.clear(),s})(this,c);else if("number"==typeof e){if(e<0||e>=this.numberOfOutputs)throw i();s=((e,t,n)=>{const s=re(e),i=[];for(const r of s.outputs)r[1]===n&&(he(r)?Ne(e,t,...r):De(e,t,...r),i.push(r[0]),s.outputs.delete(r));return i})(this,c,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw i();if(ue(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw i();if(s=((e,t,n,s,i)=>{const r=re(e);return Array.from(r.outputs).filter((e=>!(e[0]!==n||void 0!==s&&e[1]!==s||void 0!==i&&e[2]!==i))).map((n=>(he(n)?Ne(e,t,...n):De(e,t,...n),r.outputs.delete(n),n[0])))})(this,c,e,t,n),0===s.length)throw r()}for(const e of s){const t=l([this],e);Se(t,o)}}})((ln=I,(e,t,n)=>{const s=[];for(let e=0;e<n.numberOfInputs;e+=1)s.push(new Set);ln.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,s,i,r,a,o,l,c,u,h,d)=>{const p=new WeakMap;return(f,m,g,y,A)=>{const{activeInputs:w,passiveInputs:b}=r(m),{outputs:v}=r(f),x=o(f),C=r=>{const o=l(m),c=l(f);if(r){const t=U(b,f,g,y);e(w,f,t,!1),A||h(f)||n(c,o,g,y),d(m)&&q(m)}else{const e=s(w,f,g,y);t(b,y,e,!1),A||h(f)||i(c,o,g,y);const n=a(m);if(0===n)u(m)&&K(m,w);else{const e=p.get(m);void 0!==e&&clearTimeout(e),p.set(m,setTimeout((()=>{u(m)&&K(m,w)}),1e3*n))}}};return!!c(v,[m,g,y],(e=>e[0]===m&&e[1]===g&&e[2]===y),!0)&&(x.add(C),u(f)?e(w,f,[g,y,C],!0):t(b,y,[f,g,C],!0),!0)}})(Ot,Lt,ge,zt,be,re,Pt,j,ve,de,se,Ce,ke),Wt,((e,t,n,s,i,r)=>a=>(o,l)=>{const c=e.get(o);if(void 0===c){if(!a&&r(o)){const e=s(o),{outputs:r}=n(o);for(const n of r)if(he(n)){const i=s(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.disconnect(t,n[1])}}e.set(o,l)}else e.set(o,c+l)})(B,be,re,ve,xe,se),$,Ze,yt,((e,t,n,s,i,r,a,o)=>(l,c)=>{const u=t.get(l);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=r(l.context),d=o(h);if(u===c){if(t.delete(l),!d&&a(l)){const t=s(l),{outputs:r}=n(l);for(const n of r)if(he(n)){const i=s(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.connect(e,n[1])}}}else t.set(l,u-c)})(ge,B,re,ve,xe,Zt,se,$t),((e,t,n)=>function s(i,r){const a=ue(r)?r:n(e,r);if((e=>"delayTime"in e)(a))return[];if(i[0]===a)return[i];if(i.includes(a))return[];const{outputs:o}=t(a);return Array.from(o).map((e=>s([...i,a],e[0]))).reduce(((e,t)=>e.concat(t)),[])})(Jt,re,W),en,Zt,nn,sn,rn,$t,an);var ln;const cn=((e,t,n,s,i,r)=>class extends e{constructor(e,n){const a=i(e),o={...Z,...n},l=s(a,o);super(e,!1,l,r(a)?t():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})(on,Kt,$,qt,Zt,$t),un=new WeakSet,hn=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(jt),dn=(pn=new Uint32Array(1),e=>(pn[0]=e,pn[0]));var pn;const fn=((e,t)=>n=>{n.copyFromChannel=(s,i,r=0)=>{const a=e(r),o=e(i);if(o>=n.numberOfChannels)throw t();const l=n.length,c=n.getChannelData(o),u=s.length;for(let e=a<0?-a:0;e+a<l&&e<u;e+=1)s[e]=c[e+a]},n.copyToChannel=(s,i,r=0)=>{const a=e(r),o=e(i);if(o>=n.numberOfChannels)throw t();const l=n.length,c=n.getChannelData(o),u=s.length;for(let e=a<0?-a:0;e+a<l&&e<u;e+=1)c[e+a]=s[e]}})(dn,$),mn=(e=>t=>{t.copyFromChannel=(n=>(s,i,r=0)=>{const a=e(r),o=e(i);if(a<t.length)return n.call(t,s,o,a)})(t.copyFromChannel),t.copyToChannel=(n=>(s,i,r=0)=>{const a=e(r),o=e(i);if(a<t.length)return n.call(t,s,o,a)})(t.copyToChannel)})(dn),gn=((e,t,n,s,i,r,a,o)=>{let l=null;return class c{constructor(c){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:d}={...ee,...c};null===l&&(l=new i(1,1,44100));const p=null!==s&&t(r,r)?new s({length:u,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,u,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(a(p),J(p)):t(X,(()=>X(p)))||o(p),e.add(p),p}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===c.prototype||e.has(t)}}})(un,Wt,yt,hn,Xt,(e=>()=>{if(null===e)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0})(hn),fn,mn),yn=(e=>(t,n)=>{const s=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(t.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(s),s.disconnect()};n.addEventListener("ended",i)})(pt),An=((e,t,n)=>async(s,i,r)=>{const a=t(s);await Promise.all(Array.from(a.activeInputs).map((async([t,s])=>{const a=e(t),o=await a.render(t,i);n(t)||o.connect(r,s)})))})(Ht,ae,Ce),wn=(e=>(t,n,s)=>e(n,t,s))(An),bn=((e,t,n,s,i,r,a,o,l,c,u)=>(h,d)=>{const p=h.createBufferSource();return nt(p,d),it(p,d,"playbackRate"),tt(p,d,"buffer"),tt(p,d,"loop"),tt(p,d,"loopEnd"),tt(p,d,"loopStart"),t(n,(()=>n(h)))||(e=>{e.start=(t=>{let n=!1;return(s=0,i=0,r)=>{if(n)throw Ke();t.call(e,s,i,r),n=!0}})(e.start)})(p),t(s,(()=>s(h)))||l(p),t(i,(()=>i(h)))||c(p,h),t(r,(()=>r(h)))||rt(p),t(a,(()=>a(h)))||u(p,h),t(o,(()=>o(h)))||at(p),e(h,p),p})(yn,Wt,(e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1}),(e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0}),(e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0}),_t,Nt,Dt,(e=>{e.start=(t=>(n=0,s=0,i)=>{const r=e.buffer,a=null===r?s:Math.min(r.duration,s);null!==r&&a>r.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,a,i)})(e.start)}),(e=>(t,n)=>{const s=n.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=s),e(t,"buffer",(e=>()=>{const n=e.call(t);return n===s?null:n}),(e=>n=>e.call(t,null===n?s:n)))})(It),Rt),vn=((e,t)=>(n,s,i)=>(e(s).replay(i),t(s,n,i)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(ae),An),xn=((e,t,n,s,i)=>()=>{const r=new WeakMap;let a=null,o=null;return{set start(e){a=e},set stop(e){o=e},render(l,c){const u=r.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=Q(u,c);if(!h){const e={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,loop:u.loop,loopEnd:u.loopEnd,loopStart:u.loopStart,playbackRate:u.playbackRate.value};u=t(c,e),null!==a&&u.start(...a),null!==o&&u.stop(o)}return r.set(c,u),h?await e(c,l.playbackRate,u.playbackRate):await s(c,l.playbackRate,u.playbackRate),await i(l,c,u),u})(l,c)}}})(wn,bn,ve,vn,Yt),Cn=((e,t,n,s,i,r,a,o,l,c,u,h,d)=>(p,f,m,g=null,y=null)=>{const A=m.value,w=new E(A),b=f?s(w):null,v={get defaultValue(){return A},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===y?m.minValue:y},get value(){return m.value},set value(e){m.value=e,v.setValueAtTime(e,p.context.currentTime)},cancelAndHoldAtTime(e){if("function"==typeof m.cancelAndHoldAtTime)null===b&&w.flush(p.context.currentTime),w.add(i(e)),m.cancelAndHoldAtTime(e);else{const t=Array.from(w).pop();null===b&&w.flush(p.context.currentTime),w.add(i(e));const n=Array.from(w).pop();m.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return v},cancelScheduledValues:e=>(null===b&&w.flush(p.context.currentTime),w.add(r(e)),m.cancelScheduledValues(e),v),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;const n=p.context.currentTime;return null===b&&w.flush(n),0===Array.from(w).length&&(w.add(c(A,n)),m.setValueAtTime(A,n)),w.add(a(e,t)),m.exponentialRampToValueAtTime(e,t),v},linearRampToValueAtTime(e,t){const n=p.context.currentTime;return null===b&&w.flush(n),0===Array.from(w).length&&(w.add(c(A,n)),m.setValueAtTime(A,n)),w.add(o(e,t)),m.linearRampToValueAtTime(e,t),v},setTargetAtTime:(e,t,n)=>(null===b&&w.flush(p.context.currentTime),w.add(l(e,t,n)),m.setTargetAtTime(e,t,n),v),setValueAtTime:(e,t)=>(null===b&&w.flush(p.context.currentTime),w.add(c(e,t)),m.setValueAtTime(e,t),v),setValueCurveAtTime(e,t,n){const s=e instanceof Float32Array?e:new Float32Array(e);if(null!==h&&"webkitAudioContext"===h.name){const e=t+n,i=p.context.sampleRate,r=Math.ceil(t*i),a=Math.floor(e*i),o=a-r,l=new Float32Array(o);for(let e=0;e<o;e+=1){const a=(s.length-1)/n*((r+e)/i-t),o=Math.floor(a),c=Math.ceil(a);l[e]=o===c?s[o]:(1-(a-o))*s[o]+(1-(c-a))*s[c]}null===b&&w.flush(p.context.currentTime),w.add(u(l,t,n)),m.setValueCurveAtTime(l,t,n);const c=a/i;c<e&&d(v,l[l.length-1],c),d(v,s[s.length-1],e)}else null===b&&w.flush(p.context.currentTime),w.add(u(s,t,n)),m.setValueCurveAtTime(s,t,n);return v}};return n.set(v,m),t.set(v,p),e(v,b),v})((kn=_,(e,t)=>{kn.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),Jt,N,(e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:s}=n;t.exponentialRampToValueAtTime(s,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:s}=n;t.linearRampToValueAtTime(s,e)}else if("setTarget"===n.type){const{startTime:e,target:s,timeConstant:i}=n;t.setTargetAtTime(s,e,i)}else if("setValue"===n.type){const{startTime:e,value:s}=n;t.setValueAtTime(s,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:s,values:i}=n;t.setValueCurveAtTime(i,s,e)}}}})),(e=>({cancelTime:e,type:"cancelAndHold"})),(e=>({cancelTime:e,type:"cancelScheduledValues"})),((e,t)=>({endTime:t,type:"exponentialRampToValue",value:e})),((e,t)=>({endTime:t,type:"linearRampToValue",value:e})),((e,t,n)=>({startTime:t,target:e,timeConstant:n,type:"setTarget"})),l,c,tn,Tt);var kn;const En=((e,t,n,s,i,r,a,o)=>class extends e{constructor(e,s){const o=r(e),l={...ie,...s},c=i(o,l),u=a(o),h=u?t():null;super(e,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,u,c.playbackRate,ne,te)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"==typeof e?o(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(e=0,t=0,n){if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){q(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),se(this)&&Y(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})(on,xn,Cn,Ke,bn,Zt,$t,Ft),Sn=((e,t,n,s,i,r,a,o)=>class extends e{constructor(e,n){const s=r(e),l=a(s),c=i(s,n,l);super(e,!1,c,l?t(o):null),this._isNodeOfNativeOfflineAudioContext=l,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(on,(e=>{const t=new WeakMap;return{render(n,s){const i=t.get(s);return void 0!==i?Promise.resolve(i):(async(n,s)=>{const i=s.destination;return t.set(s,i),await e(n,s,i),i})(n,s)}}}),$,Ke,((e,t)=>(n,s,i)=>{const r=n.destination;if(r.channelCount!==s)try{r.channelCount=s}catch{}i&&"explicit"!==r.channelCountMode&&(r.channelCountMode="explicit"),0===r.maxChannelCount&&Object.defineProperty(r,"maxChannelCount",{value:s});const a=e(n,{channelCount:s,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return t(a,"channelCount",(e=>()=>e.call(a)),(e=>t=>{e.call(a,t);try{r.channelCount=t}catch(e){if(t>r.maxChannelCount)throw e}})),t(a,"channelCountMode",(e=>()=>e.call(a)),(e=>t=>{e.call(a,t),r.channelCountMode=t})),t(a,"channelInterpretation",(e=>()=>e.call(a)),(e=>t=>{e.call(a,t),r.channelInterpretation=t})),Object.defineProperty(a,"maxChannelCount",{get:()=>r.maxChannelCount}),a.connect(r),a})(pt,It),Zt,$t,Yt),In=((e,t,n,s,i)=>()=>{const r=new WeakMap;return{render(a,o){const l=r.get(o);return void 0!==l?Promise.resolve(l):(async(a,o)=>{let l=n(a);const c=Q(l,o);if(!c){const e={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=t(o,e)}return r.set(o,l),c?(await e(o,a.Q,l.Q),await e(o,a.detune,l.detune),await e(o,a.frequency,l.frequency),await e(o,a.gain,l.gain)):(await s(o,a.Q,l.Q),await s(o,a.detune,l.detune),await s(o,a.frequency,l.frequency),await s(o,a.gain,l.gain)),await i(a,o,l),l})(a,o)}}})(wn,ct,ve,vn,Yt),Tn=(e=>(t,n)=>e.set(t,n))(Vt),_n=((e,t,n,s,i,r,a,o)=>class extends e{constructor(e,s){const l=r(e),c={...ze,...s},u=i(l,c),h=a(l);super(e,!1,u,h?n():null),this._Q=t(this,h,u.Q,ne,te),this._detune=t(this,h,u.detune,1200*Math.log2(ne),-1200*Math.log2(ne)),this._frequency=t(this,h,u.frequency,e.sampleRate/2,0),this._gain=t(this,h,u.gain,40*Math.log10(ne),te),this._nativeBiquadFilterNode=u,o(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n)}catch(e){if(11===e.code)throw s();throw e}if(e.length!==t.length||t.length!==n.length)throw s()}})(on,Cn,In,Ze,ct,Zt,$t,Tn),Nn=((e,t)=>(n,s,i)=>{const r=new Set;return n.connect=(i=>(a,o=0,l=0)=>{const c=0===r.size;if(t(a))return i.call(n,a,o,l),e(r,[a,o,l],(e=>e[0]===a&&e[1]===o&&e[2]===l),!0),c&&s(),a;i.call(n,a,o),e(r,[a,o],(e=>e[0]===a&&e[1]===o),!0),c&&s()})(n.connect),n.disconnect=(e=>(s,a,o)=>{const l=r.size>0;if(void 0===s)e.apply(n),r.clear();else if("number"==typeof s){e.call(n,s);for(const e of r)e[1]===s&&r.delete(e)}else{t(s)?e.call(n,s,a,o):e.call(n,s,a);for(const e of r)e[0]!==s||void 0!==a&&e[1]!==a||void 0!==o&&e[2]!==o||r.delete(e)}const c=0===r.size;l&&c&&i()})(n.disconnect),n})(de,sn),Dn=((e,t)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const i=n.createBufferSource();t(s,(()=>{const e=s.numberOfInputs;for(let t=0;t<e;t+=1)i.connect(s,0,t)}),(()=>i.disconnect(s)))})(Ke,Nn),Mn=((e,t)=>(n,s)=>{const i=n.createChannelMerger(s.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,i),nt(i,s),i})(tn,Dn),Bn=((e,t,n)=>()=>{const s=new WeakMap;return{render(i,r){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r)=>{let a=t(i);if(!Q(a,r)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=e(r,t)}return s.set(r,a),await n(i,r,a),a})(i,r)}}})(Mn,ve,Yt),Rn=((e,t,n,s,i)=>class extends e{constructor(e,r){const a=s(e),o={...Ve,...r};super(e,!1,n(a,o),i(a)?t():null)}})(on,Bn,Mn,Zt,$t),Fn=((e,t,n)=>()=>{const s=new WeakMap;return{render(i,r){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r)=>{let a=t(i);if(!Q(a,r)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=e(r,t)}return s.set(r,a),await n(i,r,a),a})(i,r)}}})(ut,ve,Yt),On=((e,t,n,s,i,r)=>class extends e{constructor(e,a){const o=s(e),l=r({...Pe,...a});super(e,!1,n(o,l),i(o)?t():null)}})(on,Fn,ut,Zt,$t,(e=>({...e,channelCount:e.numberOfOutputs}))),Ln=((e,t,n,s)=>(i,{offset:r,...a})=>{const o=i.createBuffer(1,2,44100),l=t(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(i,{...a,gain:r}),u=o.getChannelData(0);u[0]=1,u[1]=1,l.buffer=o,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(e){c.channelCount=e},get channelCountMode(){return c.channelCountMode},set channelCountMode(e){c.channelCountMode=e},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(e){c.channelInterpretation=e},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(e){l.onended=e},addEventListener:(...e)=>l.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>l.dispatchEvent(e[0]),removeEventListener:(...e)=>l.removeEventListener(e[0],e[1],e[2]),start(e=0){l.start.call(l,e)},stop(e=0){l.stop.call(l,e)}};return e(i,l),s(ht(h,c),(()=>l.connect(c)),(()=>l.disconnect(c)))})(yn,bn,pt,Nn),zn=((e,t,n,s,i)=>(r,a)=>{if(void 0===r.createConstantSource)return n(r,a);const o=r.createConstantSource();return nt(o,a),it(o,a,"offset"),t(s,(()=>s(r)))||rt(o),t(i,(()=>i(r)))||at(o),e(r,o),o})(yn,Wt,Ln,_t,Dt),Vn=((e,t,n,s,i)=>()=>{const r=new WeakMap;let a=null,o=null;return{set start(e){a=e},set stop(e){o=e},render(l,c){const u=r.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=Q(u,c);if(!h){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,offset:u.offset.value};u=t(c,e),null!==a&&u.start(a),null!==o&&u.stop(o)}return r.set(c,u),h?await e(c,l.offset,u.offset):await s(c,l.offset,u.offset),await i(l,c,u),u})(l,c)}}})(wn,zn,ve,vn,Yt),Pn=((e,t,n,s,i,r,a)=>class extends e{constructor(e,a){const o=i(e),l={...We,...a},c=s(o,l),u=r(o),h=u?n():null;super(e,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=t(this,u,c.offset,ne,te),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"==typeof e?a(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(e=0){if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){q(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),se(this)&&Y(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})(on,Cn,Vn,zn,Zt,$t,Ft),Wn=((e,t)=>(n,s)=>{const i=n.createConvolver();if(nt(i,s),s.disableNormalization===i.normalize&&(i.normalize=!s.disableNormalization),tt(i,s,"buffer"),s.channelCount>2)throw e();if(t(i,"channelCount",(e=>()=>e.call(i)),(t=>n=>{if(n>2)throw e();return t.call(i,n)})),"max"===s.channelCountMode)throw e();return t(i,"channelCountMode",(e=>()=>e.call(i)),(t=>n=>{if("max"===n)throw e();return t.call(i,n)})),i})(yt,It),Gn=((e,t,n)=>()=>{const s=new WeakMap;return{render(i,r){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r)=>{let a=t(i);if(!Q(a,r)){const t={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=e(r,t)}return s.set(r,a),me(a)?await n(i,r,a.inputs[0]):await n(i,r,a),a})(i,r)}}})(Wn,ve,Yt),Un=((e,t,n,s,i,r)=>class extends e{constructor(e,a){const o=s(e),l={...Ge,...a},c=n(o,l);super(e,!1,c,i(o)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==l.buffer&&r(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,e.sampleRate),this._isBufferNullified=!0,r(this,0)}else this._isBufferNullified=!1,r(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})(on,Gn,Wn,Zt,$t,Tn),jn=((e,t,n,s,i)=>r=>{const a=new WeakMap;return{render(o,l){const c=a.get(l);return void 0!==c?Promise.resolve(c):(async(o,l)=>{let c=n(o);const u=Q(c,l);if(!u){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:r};c=t(l,e)}return a.set(l,c),u?await e(l,o.delayTime,c.delayTime):await s(l,o.delayTime,c.delayTime),await i(o,l,c),c})(o,l)}}})(wn,dt,ve,vn,Yt),qn=((e,t,n,s,i,r,a)=>class extends e{constructor(e,o){const l=i(e),c={...je,...o},u=s(l,c),h=r(l);super(e,!1,u,h?n(c.maxDelayTime):null),this._delayTime=t(this,h,u.delayTime),a(this,c.maxDelayTime)}get delayTime(){return this._delayTime}})(on,Cn,jn,dt,Zt,$t,Tn),Hn=(e=>(t,n)=>{const s=t.createDynamicsCompressor();if(nt(s,n),n.channelCount>2)throw e();if("max"===n.channelCountMode)throw e();return it(s,n,"attack"),it(s,n,"knee"),it(s,n,"ratio"),it(s,n,"release"),it(s,n,"threshold"),s})(yt),Yn=((e,t,n,s,i)=>()=>{const r=new WeakMap;return{render(a,o){const l=r.get(o);return void 0!==l?Promise.resolve(l):(async(a,o)=>{let l=n(a);const c=Q(l,o);if(!c){const e={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=t(o,e)}return r.set(o,l),c?(await e(o,a.attack,l.attack),await e(o,a.knee,l.knee),await e(o,a.ratio,l.ratio),await e(o,a.release,l.release),await e(o,a.threshold,l.threshold)):(await s(o,a.attack,l.attack),await s(o,a.knee,l.knee),await s(o,a.ratio,l.ratio),await s(o,a.release,l.release),await s(o,a.threshold,l.threshold)),await i(a,o,l),l})(a,o)}}})(wn,Hn,ve,vn,Yt),Kn=((e,t,n,s,i,r,a,o)=>class extends e{constructor(e,i){const l=r(e),c={...He,...i},u=s(l,c),h=a(l);super(e,!1,u,h?n():null),this._attack=t(this,h,u.attack),this._knee=t(this,h,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=t(this,h,u.ratio),this._release=t(this,h,u.release),this._threshold=t(this,h,u.threshold),o(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(on,Cn,Yn,Hn,yt,Zt,$t,Tn),Zn=((e,t,n,s,i)=>()=>{const r=new WeakMap;return{render(a,o){const l=r.get(o);return void 0!==l?Promise.resolve(l):(async(a,o)=>{let l=n(a);const c=Q(l,o);if(!c){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=t(o,e)}return r.set(o,l),c?await e(o,a.gain,l.gain):await s(o,a.gain,l.gain),await i(a,o,l),l})(a,o)}}})(wn,pt,ve,vn,Yt),Qn=((e,t,n,s,i,r)=>class extends e{constructor(e,a){const o=i(e),l={...Ye,...a},c=s(o,l),u=r(o);super(e,!1,c,u?n():null),this._gain=t(this,u,c.gain,ne,te)}get gain(){return this._gain}})(on,Cn,Zn,pt,Zt,$t),Xn=((e,t,n,s)=>(i,r,{channelCount:a,channelCountMode:o,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=ot(r,i.sampleRate),d=c instanceof Float64Array?c:new Float64Array(c),p=u instanceof Float64Array?u:new Float64Array(u),f=d.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw s();if(0===d[0])throw t();if(0===m||m>20)throw s();if(0===p[0])throw t();if(1!==d[0]){for(let e=0;e<m;e+=1)p[e]/=d[0];for(let e=1;e<f;e+=1)d[e]/=d[0]}const y=n(i,h,a,a);y.channelCount=a,y.channelCountMode=o,y.channelInterpretation=l;const A=[],w=[],b=[];for(let e=0;e<a;e+=1){A.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),w.push(e),b.push(t)}y.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,s=t.numberOfChannels;for(let e=0;e<s;e+=1){const s=t.getChannelData(e),i=n.getChannelData(e);A[e]=Xe(d,f,p,m,g,w[e],b[e],A[e],32,s,i)}};const v=i.sampleRate/2;return ht({get bufferSize(){return h},get channelCount(){return y.channelCount},set channelCount(e){y.channelCount=e},get channelCountMode(){return y.channelCountMode},set channelCountMode(e){y.channelCountMode=e},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(e){y.channelInterpretation=e},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener:(...e)=>y.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>y.dispatchEvent(e[0]),getFrequencyResponse(t,n,s){if(t.length!==n.length||n.length!==s.length)throw e();const i=t.length;for(let e=0;e<i;e+=1){const i=-Math.PI*(t[e]/v),r=[Math.cos(i),Math.sin(i)],a=ft(mt(p,r),mt(d,r));n[e]=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s[e]=Math.atan2(a[1],a[0])}},removeEventListener:(...e)=>y.removeEventListener(e[0],e[1],e[2])},y)})(Ze,Ke,gt,yt),$n=((e,t,n,s)=>i=>e(Je,(()=>Je(i)))?Promise.resolve(e(s,s)).then((e=>{if(!e){const e=n(i,512,0,1);i.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>i.currentTime,e.connect(i.destination)}return i.startRendering()})):new Promise((e=>{const n=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(Wt,pt,gt,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),s=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((e=>{n.oncomplete=()=>{s.disconnect(),e(0!==n.currentTime)},n.startRendering()}))})(pt,Xt)),Jn=((e,t,n,s,i)=>(r,a)=>{const o=new WeakMap;let l=null;const c=async(c,u)=>{let h=null,d=t(c);const p=Q(d,u);if(void 0===u.createIIRFilter?h=e(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=u.createIIRFilter(a,r)),o.set(u,null===h?d:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(c.context.destination.channelCount,c.context.length,u.sampleRate);l=(async()=>{await s(c,e,e.destination);return((e,t,n,s)=>{const i=n instanceof Float64Array?n:new Float64Array(n),r=s instanceof Float64Array?s:new Float64Array(s),a=i.length,o=r.length,l=Math.min(a,o);if(1!==i[0]){for(let e=0;e<a;e+=1)r[e]/=i[0];for(let e=1;e<o;e+=1)i[e]/=i[0]}const c=new Float32Array(32),u=new Float32Array(32),h=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),d=e.numberOfChannels;for(let t=0;t<d;t+=1){const n=e.getChannelData(t),s=h.getChannelData(t);c.fill(0),u.fill(0),Xe(i,a,r,o,l,c,u,0,32,n,s)}return h})(await i(e),u,r,a)})()}const e=await l;return h.buffer=e,h.start(0),h}return await s(c,u,d),d};return{render(e,t){const n=o.get(t);return void 0!==n?Promise.resolve(n):c(e,t)}}})(bn,ve,Xt,Yt,$n),es=(e=>(t,n,s)=>{if(void 0===t.createIIRFilter)return e(t,n,s);const i=t.createIIRFilter(s.feedforward,s.feedback);return nt(i,s),i})(Xn),ts=((e,t,n,s,i,r)=>class extends e{constructor(e,a){const o=s(e),l=i(o),c={...Qe,...a},u=t(o,l?null:e.baseLatency,c);super(e,!1,u,l?n(c.feedback,c.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,s,i)=>{if(n.length!==s.length||s.length!==i.length)throw Ze();return t.call(e,n,s,i)})})(u),this._nativeIIRFilterNode=u,r(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})(on,es,Jn,Zt,$t,Tn),ns=((e,t,n,s,i,r,a,o)=>(l,c)=>{const u=c.listener,{forwardX:h,forwardY:d,forwardZ:p,positionX:f,positionY:m,positionZ:g,upX:y,upY:A,upZ:w}=void 0===u.forwardX?(()=>{const h=new Float32Array(1),d=t(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),p=a(c);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const y=()=>{if(f)return;f=!0;const e=s(c,256,9,0);e.onaudioprocess=({inputBuffer:e})=>{const t=[r(e,h,0),r(e,h,1),r(e,h,2),r(e,h,3),r(e,h,4),r(e,h,5)];t.some(((e,t)=>e!==m[t]))&&(u.setOrientation(...t),m=t);const n=[r(e,h,6),r(e,h,7),r(e,h,8)];n.some(((e,t)=>e!==g[t]))&&(u.setPosition(...n),g=n)},d.connect(e)},A=e=>t=>{t!==m[e]&&(m[e]=t,u.setOrientation(...m))},w=e=>t=>{t!==g[e]&&(g[e]=t,u.setPosition(...g))},b=(t,s,r)=>{const a=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:s});a.connect(d,0,t),a.start(),Object.defineProperty(a.offset,"defaultValue",{get:()=>s});const u=e({context:l},p,a.offset,ne,te);var h,f,m,g,A,w,b;return o(u,"value",(e=>()=>e.call(u)),(e=>t=>{try{e.call(u,t)}catch(e){if(9!==e.code)throw e}y(),p&&r(t)})),u.cancelAndHoldAtTime=(h=u.cancelAndHoldAtTime,p?()=>{throw i()}:(...e)=>{const t=h.apply(u,e);return y(),t}),u.cancelScheduledValues=(f=u.cancelScheduledValues,p?()=>{throw i()}:(...e)=>{const t=f.apply(u,e);return y(),t}),u.exponentialRampToValueAtTime=(m=u.exponentialRampToValueAtTime,p?()=>{throw i()}:(...e)=>{const t=m.apply(u,e);return y(),t}),u.linearRampToValueAtTime=(g=u.linearRampToValueAtTime,p?()=>{throw i()}:(...e)=>{const t=g.apply(u,e);return y(),t}),u.setTargetAtTime=(A=u.setTargetAtTime,p?()=>{throw i()}:(...e)=>{const t=A.apply(u,e);return y(),t}),u.setValueAtTime=(w=u.setValueAtTime,p?()=>{throw i()}:(...e)=>{const t=w.apply(u,e);return y(),t}),u.setValueCurveAtTime=(b=u.setValueCurveAtTime,p?()=>{throw i()}:(...e)=>{const t=b.apply(u,e);return y(),t}),u};return{forwardX:b(0,0,A(0)),forwardY:b(1,0,A(1)),forwardZ:b(2,-1,A(2)),positionX:b(6,0,w(0)),positionY:b(7,0,w(1)),positionZ:b(8,0,w(2)),upX:b(3,0,A(3)),upY:b(4,1,A(4)),upZ:b(5,0,A(5))}})():u;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return p},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return y},get upY(){return A},get upZ(){return w}}})(Cn,Mn,zn,gt,yt,Et,$t,It),ss=new WeakMap,is=((e,t,n,s,i,r)=>class extends n{constructor(n,r){super(n),this._nativeContext=n,D.set(this,n),s(n)&&i.set(n,new Set),this._destination=new e(this,r),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"==typeof e?r(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Sn,ns,en,$t,ss,Ft),rs=((e,t,n,s,i,r)=>(a,o)=>{const l=a.createOscillator();return nt(l,o),it(l,o,"detune"),it(l,o,"frequency"),void 0!==o.periodicWave?l.setPeriodicWave(o.periodicWave):tt(l,o,"type"),t(n,(()=>n(a)))||rt(l),t(s,(()=>s(a)))||r(l,a),t(i,(()=>i(a)))||at(l),e(a,l),l})(yn,Wt,_t,Nt,Dt,Rt),as=((e,t,n,s,i)=>()=>{const r=new WeakMap;let a=null,o=null,l=null;return{set periodicWave(e){a=e},set start(e){o=e},set stop(e){l=e},render(c,u){const h=r.get(u);return void 0!==h?Promise.resolve(h):(async(c,u)=>{let h=n(c);const d=Q(h,u);if(!d){const e={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===a?void 0:a,type:h.type};h=t(u,e),null!==o&&h.start(o),null!==l&&h.stop(l)}return r.set(u,h),d?(await e(u,c.detune,h.detune),await e(u,c.frequency,h.frequency)):(await s(u,c.detune,h.detune),await s(u,c.frequency,h.frequency)),await i(c,u,h),h})(c,u)}}})(wn,rs,ve,vn,Yt),os=((e,t,n,s,i,r,a)=>class extends e{constructor(e,a){const o=i(e),l={...wt,...a},c=n(o,l),u=r(o),h=u?s():null,d=e.sampleRate/2;super(e,!1,c,h),this._detune=t(this,u,c.detune,153600,-153600),this._frequency=t(this,u,c.frequency,d,-d),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"==typeof e?a(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(e=0){if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){q(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),se(this)&&Y(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(e=0){this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})(on,Cn,rs,as,Zt,$t,Ft),ls=(e=>(t,n)=>{const s=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=t.createBuffer(1,2,44100);return s.buffer=i,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}})(bn),cs=((e,t,n,s,i)=>(r,{curve:a,oversample:o,...l})=>{const c=r.createWaveShaper(),u=r.createWaveShaper();nt(c,l),nt(u,l);const h=n(r,{...l,gain:1}),d=n(r,{...l,gain:-1}),p=n(r,{...l,gain:1}),f=n(r,{...l,gain:-1});let m=null,g=!1,y=null;const A={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(e){h.channelCount=e,d.channelCount=e,c.channelCount=e,p.channelCount=e,u.channelCount=e,f.channelCount=e},get channelCountMode(){return c.channelCountMode},set channelCountMode(e){h.channelCountMode=e,d.channelCountMode=e,c.channelCountMode=e,p.channelCountMode=e,u.channelCountMode=e,f.channelCountMode=e},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(e){h.channelInterpretation=e,d.channelInterpretation=e,c.channelInterpretation=e,p.channelInterpretation=e,u.channelInterpretation=e,f.channelInterpretation=e},get context(){return c.context},get curve(){return y},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)c.curve=n,u.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),s=new Float32Array(e+2-e%2);t[0]=n[0],s[0]=-n[e-1];const i=Math.ceil((e+1)/2),r=(e+1)/2-1;for(let a=1;a<i;a+=1){const o=a/i*r,l=Math.floor(o),c=Math.ceil(o);t[a]=l===c?n[l]:(1-(o-l))*n[l]+(1-(c-o))*n[c],s[a]=l===c?-n[e-1-l]:-(1-(o-l))*n[e-1-l]-(1-(c-o))*n[e-1-c]}t[i]=e%2==1?n[i-1]:(n[i-2]+n[i-1])/2,c.curve=t,u.curve=s}y=n,g&&(s(y)&&null===m?m=e(r,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(e){c.oversample=e,u.oversample=e},addEventListener:(...e)=>h.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>h.dispatchEvent(e[0]),removeEventListener:(...e)=>h.removeEventListener(e[0],e[1],e[2])};null!==a&&(A.curve=a instanceof Float32Array?a:new Float32Array(a)),o!==A.oversample&&(A.oversample=o);return i(ht(A,p),(()=>{h.connect(c).connect(p),h.connect(d).connect(u).connect(f).connect(p),g=!0,s(y)&&(m=e(r,h))}),(()=>{h.disconnect(c),c.disconnect(p),h.disconnect(d),d.disconnect(u),u.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)}))})(ls,Ke,pt,St,Nn),us=((e,t,n,s,i,r,a)=>(o,l)=>{const c=o.createWaveShaper();if(null!==r&&"webkitAudioContext"===r.name&&void 0===o.createGain().gain.automationRate)return n(o,l);nt(c,l);const u=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==u&&u.length<2)throw t();tt(c,{curve:u},"curve"),tt(c,l,"oversample");let h=null,d=!1;a(c,"curve",(e=>()=>e.call(c)),(t=>n=>(t.call(c,n),d&&(s(n)&&null===h?h=e(o,c):s(n)||null===h||(h(),h=null)),n)));return i(c,(()=>{d=!0,s(c.curve)&&(h=e(o,c))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(ls,Ke,cs,St,Nn,tn,It),hs=((e,t,n,s,i,r,a,o,l,c)=>(u,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:p,distanceModel:f,maxDistance:m,orientationX:g,orientationY:y,orientationZ:A,panningModel:w,positionX:b,positionY:v,positionZ:x,refDistance:C,rolloffFactor:k,...E})=>{const S=u.createPanner();if(E.channelCount>2)throw a();if("max"===E.channelCountMode)throw a();nt(S,E);const I={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},T=n(u,{...I,channelInterpretation:"speakers",numberOfInputs:6}),_=s(u,{...E,gain:1}),N=s(u,{...I,gain:1}),D=s(u,{...I,gain:0}),M=s(u,{...I,gain:0}),B=s(u,{...I,gain:0}),R=s(u,{...I,gain:0}),F=s(u,{...I,gain:0}),O=i(u,256,6,1),L=r(u,{...I,curve:new Float32Array([1,1]),oversample:"none"});let z=[g,y,A],V=[b,v,x];const P=new Float32Array(1);O.onaudioprocess=({inputBuffer:e})=>{const t=[l(e,P,0),l(e,P,1),l(e,P,2)];t.some(((e,t)=>e!==z[t]))&&(S.setOrientation(...t),z=t);const n=[l(e,P,3),l(e,P,4),l(e,P,5)];n.some(((e,t)=>e!==V[t]))&&(S.setPosition(...n),V=n)},Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0});const W={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(e){if(e>2)throw a();_.channelCount=e,S.channelCount=e},get channelCountMode(){return S.channelCountMode},set channelCountMode(e){if("max"===e)throw a();_.channelCountMode=e,S.channelCountMode=e},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(e){_.channelInterpretation=e,S.channelInterpretation=e},get coneInnerAngle(){return S.coneInnerAngle},set coneInnerAngle(e){S.coneInnerAngle=e},get coneOuterAngle(){return S.coneOuterAngle},set coneOuterAngle(e){S.coneOuterAngle=e},get coneOuterGain(){return S.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();S.coneOuterGain=e},get context(){return S.context},get distanceModel(){return S.distanceModel},set distanceModel(e){S.distanceModel=e},get inputs(){return[_]},get maxDistance(){return S.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;S.maxDistance=e},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get orientationX(){return N.gain},get orientationY(){return D.gain},get orientationZ(){return M.gain},get panningModel(){return S.panningModel},set panningModel(e){S.panningModel=e},get positionX(){return B.gain},get positionY(){return R.gain},get positionZ(){return F.gain},get refDistance(){return S.refDistance},set refDistance(e){if(e<0)throw new RangeError;S.refDistance=e},get rolloffFactor(){return S.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;S.rolloffFactor=e},addEventListener:(...e)=>_.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>_.dispatchEvent(e[0]),removeEventListener:(...e)=>_.removeEventListener(e[0],e[1],e[2])};h!==W.coneInnerAngle&&(W.coneInnerAngle=h),d!==W.coneOuterAngle&&(W.coneOuterAngle=d),p!==W.coneOuterGain&&(W.coneOuterGain=p),f!==W.distanceModel&&(W.distanceModel=f),m!==W.maxDistance&&(W.maxDistance=m),g!==W.orientationX.value&&(W.orientationX.value=g),y!==W.orientationY.value&&(W.orientationY.value=y),A!==W.orientationZ.value&&(W.orientationZ.value=A),w!==W.panningModel&&(W.panningModel=w),b!==W.positionX.value&&(W.positionX.value=b),v!==W.positionY.value&&(W.positionY.value=v),x!==W.positionZ.value&&(W.positionZ.value=x),C!==W.refDistance&&(W.refDistance=C),k!==W.rolloffFactor&&(W.rolloffFactor=k),1===z[0]&&0===z[1]&&0===z[2]||S.setOrientation(...z),0===V[0]&&0===V[1]&&0===V[2]||S.setPosition(...V);return c(ht(W,S),(()=>{_.connect(S),e(_,L,0,0),L.connect(N).connect(T,0,0),L.connect(D).connect(T,0,1),L.connect(M).connect(T,0,2),L.connect(B).connect(T,0,3),L.connect(R).connect(T,0,4),L.connect(F).connect(T,0,5),T.connect(O).connect(u.destination)}),(()=>{_.disconnect(S),o(_,L,0,0),L.disconnect(N),N.disconnect(T),L.disconnect(D),D.disconnect(T),L.disconnect(M),M.disconnect(T),L.disconnect(B),B.disconnect(T),L.disconnect(R),R.disconnect(T),L.disconnect(F),F.disconnect(T),T.disconnect(O),O.disconnect(u.destination)}))})(ge,Ke,Mn,pt,gt,us,yt,be,Et,Nn),ds=(e=>(t,n)=>{const s=t.createPanner();return void 0===s.orientationX?e(t,n):(nt(s,n),it(s,n,"orientationX"),it(s,n,"orientationY"),it(s,n,"orientationZ"),it(s,n,"positionX"),it(s,n,"positionY"),it(s,n,"positionZ"),tt(s,n,"coneInnerAngle"),tt(s,n,"coneOuterAngle"),tt(s,n,"coneOuterGain"),tt(s,n,"distanceModel"),tt(s,n,"maxDistance"),tt(s,n,"panningModel"),tt(s,n,"refDistance"),tt(s,n,"rolloffFactor"),s)})(hs),ps=((e,t,n,s,i,r,a,o,l,c)=>()=>{const u=new WeakMap;let h=null;return{render(d,p){const f=u.get(p);return void 0!==f?Promise.resolve(f):(async(d,p)=>{let f=null,m=r(d);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},y={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},A=Q(m,p);if("bufferSize"in m)f=s(p,{...g,gain:1});else if(!A){const e={...y,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=i(p,e)}if(u.set(p,null===f?m:f),null!==f){if(null===h){if(null===a)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new a(6,d.context.length,p.sampleRate),s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});s.connect(e.destination),h=(async()=>{const t=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(t,s)=>{const i=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===s?1:0});return await o(e,t,i.offset),i})));for(let e=0;e<6;e+=1)t[e].connect(s,0,e),t[e].start(0);return c(e)})()}const e=await h,r=s(p,{...g,gain:1});await l(d,p,r);const u=[];for(let t=0;t<e.numberOfChannels;t+=1)u.push(e.getChannelData(t));let m=[u[0][0],u[1][0],u[2][0]],A=[u[3][0],u[4][0],u[5][0]],w=s(p,{...g,gain:1}),b=i(p,{...y,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:A[0],positionY:A[1],positionZ:A[2]});r.connect(w).connect(b.inputs[0]),b.connect(f);for(let t=128;t<e.length;t+=128){const e=[u[0][t],u[1][t],u[2][t]],n=[u[3][t],u[4][t],u[5][t]];if(e.some(((e,t)=>e!==m[t]))||n.some(((e,t)=>e!==A[t]))){m=e,A=n;const a=t/p.sampleRate;w.gain.setValueAtTime(0,a),w=s(p,{...g,gain:0}),b=i(p,{...y,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:A[0],positionY:A[1],positionZ:A[2]}),w.gain.setValueAtTime(1,a),r.connect(w).connect(b.inputs[0]),b.connect(f)}}return f}return A?(await e(p,d.orientationX,m.orientationX),await e(p,d.orientationY,m.orientationY),await e(p,d.orientationZ,m.orientationZ),await e(p,d.positionX,m.positionX),await e(p,d.positionY,m.positionY),await e(p,d.positionZ,m.positionZ)):(await o(p,d.orientationX,m.orientationX),await o(p,d.orientationY,m.orientationY),await o(p,d.orientationZ,m.orientationZ),await o(p,d.positionX,m.positionX),await o(p,d.positionY,m.positionY),await o(p,d.positionZ,m.positionZ)),me(m)?await l(d,p,m.inputs[0]):await l(d,p,m),m})(d,p)}}})(wn,Mn,zn,pt,ds,ve,Xt,vn,Yt,$n),fs=((e,t,n,s,i,r,a)=>class extends e{constructor(e,o){const l=i(e),c={...bt,...o},u=n(l,c),h=r(l);super(e,!1,u,h?s():null),this._nativePannerNode=u,this._orientationX=t(this,h,u.orientationX,ne,te),this._orientationY=t(this,h,u.orientationY,ne,te),this._orientationZ=t(this,h,u.orientationZ,ne,te),this._positionX=t(this,h,u.positionX,ne,te),this._positionY=t(this,h,u.positionY,ne,te),this._positionZ=t(this,h,u.positionZ,ne,te),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})(on,Cn,ds,ps,Zt,$t,Tn),ms=(e=>(t,{disableNormalization:n,imag:s,real:i})=>{const r=s instanceof Float32Array?s:new Float32Array(s),a=i instanceof Float32Array?i:new Float32Array(i),o=t.createPeriodicWave(a,r,{disableNormalization:n});if(Array.from(s).length<2)throw e();return o})($),gs=((e,t,n,s)=>class i{constructor(i,r){const a=t(i),o=s({...vt,...r}),l=e(a,o);return n.add(l),l}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===i.prototype||n.has(e)}})(ms,Zt,new WeakSet,(e=>{const{imag:t,real:n}=e;return void 0===t?void 0===n?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...e,imag:t,real:Array.from(t,(()=>0))}:{...e,imag:t,real:n}})),ys=((e,t,n,s,i,r)=>{const a=16385,o=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},h=(e,r,h,d,p)=>{if(1===r)return((e,t,i,r)=>{const h=new Float32Array(a),d=new Float32Array(a);for(let e=0;e<a;e+=1){const t=e/16384*l;h[e]=Math.cos(t),d[e]=Math.sin(t)}const p=n(e,{...c,gain:0}),f=s(e,{...u,curve:h}),m=s(e,{...u,curve:o}),g=n(e,{...c,gain:0}),y=s(e,{...u,curve:d});return{connectGraph(){t.connect(p),t.connect(void 0===m.inputs?m:m.inputs[0]),t.connect(g),m.connect(i),i.connect(void 0===f.inputs?f:f.inputs[0]),i.connect(void 0===y.inputs?y:y.inputs[0]),f.connect(p.gain),y.connect(g.gain),p.connect(r,0,0),g.connect(r,0,1)},disconnectGraph(){t.disconnect(p),t.disconnect(void 0===m.inputs?m:m.inputs[0]),t.disconnect(g),m.disconnect(i),i.disconnect(void 0===f.inputs?f:f.inputs[0]),i.disconnect(void 0===y.inputs?y:y.inputs[0]),f.disconnect(p.gain),y.disconnect(g.gain),p.disconnect(r,0,0),g.disconnect(r,0,1)}}})(e,h,d,p);if(2===r)return((e,i,r,h)=>{const d=new Float32Array(a),p=new Float32Array(a),f=new Float32Array(a),m=new Float32Array(a),g=Math.floor(8192.5);for(let e=0;e<a;e+=1)if(e>g){const t=(e-g)/(16384-g)*l;d[e]=Math.cos(t),p[e]=Math.sin(t),f[e]=0,m[e]=1}else{const t=e/(16384-g)*l;d[e]=1,p[e]=0,f[e]=Math.cos(t),m[e]=Math.sin(t)}const y=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),A=n(e,{...c,gain:0}),w=s(e,{...u,curve:d}),b=n(e,{...c,gain:0}),v=s(e,{...u,curve:p}),x=s(e,{...u,curve:o}),C=n(e,{...c,gain:0}),k=s(e,{...u,curve:f}),E=n(e,{...c,gain:0}),S=s(e,{...u,curve:m});return{connectGraph(){i.connect(y),i.connect(void 0===x.inputs?x:x.inputs[0]),y.connect(A,0),y.connect(b,0),y.connect(C,1),y.connect(E,1),x.connect(r),r.connect(void 0===w.inputs?w:w.inputs[0]),r.connect(void 0===v.inputs?v:v.inputs[0]),r.connect(void 0===k.inputs?k:k.inputs[0]),r.connect(void 0===S.inputs?S:S.inputs[0]),w.connect(A.gain),v.connect(b.gain),k.connect(C.gain),S.connect(E.gain),A.connect(h,0,0),C.connect(h,0,0),b.connect(h,0,1),E.connect(h,0,1)},disconnectGraph(){i.disconnect(y),i.disconnect(void 0===x.inputs?x:x.inputs[0]),y.disconnect(A,0),y.disconnect(b,0),y.disconnect(C,1),y.disconnect(E,1),x.disconnect(r),r.disconnect(void 0===w.inputs?w:w.inputs[0]),r.disconnect(void 0===v.inputs?v:v.inputs[0]),r.disconnect(void 0===k.inputs?k:k.inputs[0]),r.disconnect(void 0===S.inputs?S:S.inputs[0]),w.disconnect(A.gain),v.disconnect(b.gain),k.disconnect(C.gain),S.disconnect(E.gain),A.disconnect(h,0,0),C.disconnect(h,0,0),b.disconnect(h,0,1),E.disconnect(h,0,1)}}})(e,h,d,p);throw i()};return(t,{channelCount:s,channelCountMode:a,pan:o,...l})=>{if("max"===a)throw i();const c=e(t,{...l,channelCount:1,channelCountMode:a,numberOfInputs:2}),u=n(t,{...l,channelCount:s,channelCountMode:a,gain:1}),d=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:o});let{connectGraph:p,disconnectGraph:f}=h(t,s,u,d,c);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){u.channelCount!==e&&(g&&f(),({connectGraph:p,disconnectGraph:f}=h(t,e,u,d,c)),g&&p()),u.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw i();u.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){u.channelInterpretation=e},get context(){return u.context},get inputs(){return[u]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get pan(){return d.gain},addEventListener:(...e)=>u.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>u.dispatchEvent(e[0]),removeEventListener:(...e)=>u.removeEventListener(e[0],e[1],e[2])};let g=!1;return r(ht(m,c),(()=>{p(),g=!0}),(()=>{f(),g=!1}))}})(Mn,ut,pt,us,yt,Nn),As=((e,t)=>(n,s)=>{const i=s.channelCountMode;if("clamped-max"===i)throw t();if(void 0===n.createStereoPanner)return e(n,s);const r=n.createStereoPanner();return nt(r,s),it(r,s,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>i,set:e=>{if(e!==i)throw t()}}),r})(ys,yt),ws=((e,t,n,s,i)=>()=>{const r=new WeakMap;return{render(a,o){const l=r.get(o);return void 0!==l?Promise.resolve(l):(async(a,o)=>{let l=n(a);const c=Q(l,o);if(!c){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=t(o,e)}return r.set(o,l),c?await e(o,a.pan,l.pan):await s(o,a.pan,l.pan),me(l)?await i(a,o,l.inputs[0]):await i(a,o,l),l})(a,o)}}})(wn,As,ve,vn,Yt),bs=((e,t,n,s,i,r)=>class extends e{constructor(e,a){const o=i(e),l={...xt,...a},c=n(o,l),u=r(o);super(e,!1,c,u?s():null),this._pan=t(this,u,c.pan)}get pan(){return this._pan}})(on,Cn,As,ws,Zt,$t),vs=((e,t,n)=>()=>{const s=new WeakMap;return{render(i,r){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r)=>{let a=t(i);if(!Q(a,r)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=e(r,t)}return s.set(r,a),me(a)?await n(i,r,a.inputs[0]):await n(i,r,a),a})(i,r)}}})(us,ve,Yt),xs=((e,t,n,s,i,r,a)=>class extends e{constructor(e,t){const o=i(e),l={...kt,...t},c=n(o,l);super(e,!0,c,r(o)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})(on,Ke,us,vs,Zt,$t,Tn),Cs=(e=>null!==e&&e.isSecureContext)(jt),ks=(e=>(t,n,s)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return s()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(jt),Es=new WeakMap,Ss=((e,t)=>n=>{let s=e.get(n);if(void 0!==s)return s;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new t(1,1,44100),e.set(n,s),s})(Es,Xt),Is=Cs?((e,t,n,s,i,r,a,o,l,c,u,h,d)=>{let p=0;return(f,m,g={credentials:"omit"})=>{const y=u.get(f);if(void 0!==y&&y.has(m))return Promise.resolve();const A=c.get(f);if(void 0!==A){const e=A.get(m);if(void 0!==e)return e}const w=r(f),b=void 0===w.audioWorklet?i(m).then((([e,t])=>{const[s,i]=z(e,t);return n(`${s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`)})).then((()=>{const e=d._AWGS.pop();if(void 0===e)throw new SyntaxError;s(w.currentTime,w.sampleRate,(()=>e(class{},void 0,((e,n)=>{if(""===e.trim())throw t();const s=R.get(w);if(void 0!==s){if(s.has(e))throw t();P(n),V(n.parameterDescriptors),s.set(e,n)}else P(n),V(n.parameterDescriptors),R.set(w,new Map([[e,n]]))}),w.sampleRate,void 0,void 0)))})):Promise.all([i(m),Promise.resolve(e(h,h))]).then((([[e,t],n])=>{const s=p+1;p=s;const[i,r]=z(e,t),c=new Blob([`${i};((AudioWorkletProcessor,registerProcessor)=>{${r}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${s}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),u=URL.createObjectURL(c);return w.audioWorklet.addModule(u,g).then((()=>{if(o(w))return w;const e=a(w);return e.audioWorklet.addModule(u,g).then((()=>e))})).then((e=>{if(null===l)throw new SyntaxError;try{new l(e,`__sac${s}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(u)))}));return void 0===A?c.set(f,new Map([[m,b]])):A.set(m,b),b.then((()=>{const e=u.get(f);void 0===e?u.set(f,new Set([m])):e.add(m)})).finally((()=>{const e=c.get(f);void 0!==e&&e.delete(m)})),b}})(Wt,yt,(e=>t=>new Promise(((n,s)=>{if(null===e)return void s(new SyntaxError);const i=e.document.head;if(null===i)s(new SyntaxError);else{const r=e.document.createElement("script"),a=new Blob([t],{type:"application/javascript"}),o=URL.createObjectURL(a),l=e.onerror,c=()=>{e.onerror=l,URL.revokeObjectURL(o)};e.onerror=(t,n,i,r,a)=>n===o||n===e.location.href&&1===i&&1===r?(c(),s(a),!1):null!==l?l(t,n,i,r,a):void 0,r.onerror=()=>{c(),s(new SyntaxError)},r.onload=()=>{c(),n()},r.src=o,r.type="module",i.appendChild(r)}})))(jt),ks,(e=>async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw e()})((()=>new DOMException("","AbortError"))),Zt,Ss,$t,an,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new t(1,128,44100),i=URL.createObjectURL(n);let r=!1,a=!1;try{await s.audioWorklet.addModule(i);const t=new e(s,"a",{numberOfOutputs:0}),n=s.createOscillator();t.port.onmessage=()=>r=!0,t.onprocessorerror=()=>a=!0,n.connect(t),n.start(0),await s.startRendering(),await new Promise((e=>setTimeout(e)))}catch{}finally{URL.revokeObjectURL(i)}return r&&!a})(an,Xt),jt):void 0,Ts=((e,t)=>n=>e(n)||t(n))(nn,$t),_s=((e,t,n,s,i,r,a,o,l,c,u)=>(h,d)=>{const p=a(h)?h:r(h);if(i.has(d)){const e=n();return Promise.reject(e)}try{i.add(d)}catch{}return t(l,(()=>l(p)))?p.decodeAudioData(d).then((n=>(Ue(d).catch((()=>{})),t(o,(()=>o(n)))||u(n),e.add(n),n))):new Promise(((t,n)=>{const i=async()=>{try{await Ue(d)}catch{}},r=e=>{n(e),i()};try{p.decodeAudioData(d,(n=>{"function"!=typeof n.copyFromChannel&&(c(n),J(n)),e.add(n),i().then((()=>t(n)))}),(e=>{r(null===e?s():e)}))}catch(e){r(e)}}))})(un,Wt,(()=>new DOMException("","DataCloneError")),(()=>new DOMException("","EncodingError")),new WeakSet,Zt,Ts,X,Je,fn,mn),Ns=((e,t,n,s,i,r,a,o,l,c,u,h,d,p,f,m,g,y,A,w)=>class extends f{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new i(this)}createBuffer(e,t,s){return new n({length:t,numberOfChannels:e,sampleRate:s})}createBufferSource(){return new s(this)}createChannelMerger(e=6){return new r(this,{numberOfInputs:e})}createChannelSplitter(e=6){return new a(this,{numberOfOutputs:e})}createConstantSource(){return new o(this)}createConvolver(){return new l(this)}createDelay(e=1){return new u(this,{maxDelayTime:e})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(e,t){return new p(this,{feedback:t,feedforward:e})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(e,t,n={disableNormalization:!1}){return new y(this,{...n,imag:t,real:e})}createStereoPanner(){return new A(this)}createWaveShaper(){return new w(this)}decodeAudioData(e,t,n){return c(this._nativeContext,e).then((e=>("function"==typeof t&&t(e),e)),(e=>{throw"function"==typeof n&&n(e),e}))}})(Is,cn,gn,En,_n,Rn,On,Pn,Un,_s,qn,Kn,Qn,ts,is,os,fs,gs,bs,xs),Ds=((e,t,n,s)=>class extends e{constructor(e,i){const r=n(e),a=t(r,i);if(s(r))throw TypeError();super(e,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(on,((e,t)=>e.createMediaElementSource(t.mediaElement)),Zt,$t),Ms=((e,t,n,s)=>class extends e{constructor(e,i){const r=n(e);if(s(r))throw new TypeError;const a={...$e,...i},o=t(r,a);super(e,!1,o,null),this._nativeMediaStreamAudioDestinationNode=o}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(on,((e,t)=>{const n=e.createMediaStreamDestination();return nt(n,t),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n}),Zt,$t),Bs=((e,t,n,s)=>class extends e{constructor(e,i){const r=n(e),a=t(r,i);if(s(r))throw new TypeError;super(e,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(on,((e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0));const s=n.slice(0,1),i=e.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(i,"mediaStream",{value:t}),i}),Zt,$t),Rs=((e,t)=>(n,{mediaStreamTrack:s})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const i=new MediaStream([s]),r=n.createMediaStreamSource(i);if("audio"!==s.kind)throw e();if(t(n))throw new TypeError;return r})(Ke,$t),Fs=((e,t,n)=>class extends e{constructor(e,s){const i=n(e);super(e,!0,t(i,s),null)}})(on,Rs,Zt),Os=((e,t,n,s,i,r,a,o,l)=>class extends e{constructor(e={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let t;try{t=new l(e)}catch(e){if(12===e.code&&"sampleRate is not in range"===e.message)throw n();throw e}if(null===t)throw s();if(!ce(e.latencyHint))throw new TypeError(`The provided value '${e.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==e.sampleRate&&t.sampleRate!==e.sampleRate)throw n();super(t,2);const{latencyHint:i}=e,{sampleRate:r}=t;if(this._baseLatency="number"==typeof t.baseLatency?t.baseLatency:"balanced"===i?512/r:"interactive"===i||void 0===i?256/r:"playback"===i?1024/r:128*Math.max(2,Math.min(128,Math.round(i*r/128)))/r,this._nativeAudioContext=t,"webkitAudioContext"===l.name?(this._nativeGainNode=t.createGain(),this._nativeOscillatorNode=t.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(t.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===t.state){this._state="suspended";const e=()=>{"suspended"===this._state&&(this._state=null),t.removeEventListener("statechange",e)};t.addEventListener("statechange",e)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw t()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),le(this)})))}createMediaElementSource(e){return new i(this,{mediaElement:e})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(e){return new a(this,{mediaStream:e})}createMediaStreamTrackSource(e){return new o(this,{mediaStreamTrack:e})}resume(){return"suspended"===this._state?new Promise(((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((e=>{if(void 0===e||15===e.code)throw t();throw e}))}suspend(){return this._nativeAudioContext.suspend().catch((e=>{if(void 0===e)throw t();throw e}))}})(Ns,Ke,yt,Ct,Ds,Ms,Bs,Fs,tn),Ls=(e=>t=>{const n=e.get(t);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(ss),zs=(e=>(t,n)=>{e(t).add(n)})(Ls),Vs=(e=>(t,n,s=0,i=0)=>{const r=t[s];if(void 0===r)throw e();return Ie(n)?r.connect(n,0,i):r.connect(n,0)})($),Ps=(e=>(t,n)=>{e(t).delete(n)})(Ls),Ws=(e=>(t,n=void 0,s=void 0,i=0)=>void 0===n?t.forEach((e=>e.disconnect())):"number"==typeof n?qe(e,t,n).disconnect():Ie(n)?void 0===s?t.forEach((e=>e.disconnect(n))):void 0===i?qe(e,t,s).disconnect(n,0):qe(e,t,s).disconnect(n,0,i):void 0===s?t.forEach((e=>e.disconnect(n))):qe(e,t,s).disconnect(n,0))($),Gs=new WeakMap,Us=((e,t)=>n=>t(e,n))(Gs,W),js=((e,t,n,s,i,r,a,o,l,c,u,h,d)=>(p,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw l();const y=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(y.some((e=>e<1)))throw l();if(y.length!==g.numberOfOutputs)throw t();if("explicit"!==g.channelCountMode)throw l();const A=g.channelCount*g.numberOfInputs,w=y.reduce(((e,t)=>e+t),0),b=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(A+b>6||w>6)throw l();const v=new MessageChannel,x=[],C=[];for(let e=0;e<g.numberOfInputs;e+=1)x.push(a(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),C.push(i(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const k=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:s}of m.parameterDescriptors){const i=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[s]?g.parameterData[s]:void 0===e?0:e});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?ne:t},minValue:{get:()=>void 0===n?te:n}}),k.push(i)}const E=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,A+b)}),S=ot(f,p.sampleRate),I=o(p,S,A+b,Math.max(1,w)),T=i(p,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),_=[];for(let e=0;e<g.numberOfOutputs;e+=1)_.push(s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[e]}));for(let e=0;e<g.numberOfInputs;e+=1){x[e].connect(C[e]);for(let t=0;t<g.channelCount;t+=1)C[e].connect(E,t,e*g.channelCount+t)}const N=new Me(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:e},t)=>{const n=k[t];return n.connect(E,0,A+t),n.start(0),[e,n.offset]})));E.connect(I);let D=g.channelInterpretation,M=null;const B=0===g.numberOfOutputs?[I]:_,R={get bufferSize(){return S},get channelCount(){return g.channelCount},set channelCount(e){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return D},set channelInterpretation(e){for(const t of x)t.channelInterpretation=e;D=e},get context(){return I.context},get inputs(){return x},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return M},set onprocessorerror(e){"function"==typeof M&&R.removeEventListener("processorerror",M),M="function"==typeof e?e:null,"function"==typeof M&&R.addEventListener("processorerror",M)},get parameters(){return N},get port(){return v.port2},addEventListener:(...e)=>I.addEventListener(e[0],e[1],e[2]),connect:e.bind(null,B),disconnect:c.bind(null,B),dispatchEvent:(...e)=>I.dispatchEvent(e[0]),removeEventListener:(...e)=>I.removeEventListener(e[0],e[1],e[2])},O=new Map;var L,z;v.port1.addEventListener=(L=v.port1.addEventListener,(...e)=>{if("message"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=O.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{u(p.currentTime,p.sampleRate,(()=>t(e)))},O.set(t,e[1]))}}return L.call(v.port1,e[0],e[1],e[2])}),v.port1.removeEventListener=(z=v.port1.removeEventListener,(...e)=>{if("message"===e[0]){const t=O.get(e[1]);void 0!==t&&(O.delete(e[1]),e[1]=t)}return z.call(v.port1,e[0],e[1],e[2])});let V=null;Object.defineProperty(v.port1,"onmessage",{get:()=>V,set:e=>{"function"==typeof V&&v.port1.removeEventListener("message",V),V="function"==typeof e?e:null,"function"==typeof V&&(v.port1.addEventListener("message",V),v.port1.start())}}),m.prototype.port=v.port1;let P=null;const W=((e,t,n,s)=>{let i=F.get(e);void 0===i&&(i=new WeakMap,F.set(e,i));const r=lt(n,s);return i.set(t,r),r})(p,R,m,g);W.then((e=>P=e));const G=Oe(g.numberOfInputs,g.channelCount),U=Oe(g.numberOfOutputs,y),j=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((e,{name:t})=>({...e,[t]:new Float32Array(128)})),{});let q=!0;const H=()=>{g.numberOfOutputs>0&&I.disconnect(T);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=_[e];for(let s=0;s<y[e];s+=1)T.disconnect(n,t+s,s);t+=y[e]}},Y=new Map;I.onaudioprocess=({inputBuffer:e,outputBuffer:t})=>{if(null!==P){const n=h(R);for(let s=0;s<S;s+=128){for(let t=0;t<g.numberOfInputs;t+=1)for(let n=0;n<g.channelCount;n+=1)Re(e,G[t],n,n,s);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:t},n)=>{Re(e,j,t,A+n,s)}));for(let e=0;e<g.numberOfInputs;e+=1)for(let t=0;t<y[e];t+=1)0===U[e][t].byteLength&&(U[e][t]=new Float32Array(128));try{const e=G.map(((e,t)=>{if(n[t].size>0)return Y.set(t,S/128),e;const s=Y.get(t);return void 0===s?[]:(e.every((e=>e.every((e=>0===e))))&&(1===s?Y.delete(t):Y.set(t,s-1)),e)})),i=u(p.currentTime+s/p.sampleRate,p.sampleRate,(()=>P.process(e,U,j)));q=i;for(let e=0,n=0;e<g.numberOfOutputs;e+=1){for(let i=0;i<y[e];i+=1)Fe(t,U[e],i,n+i,s);n+=y[e]}}catch(e){q=!1,R.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}))}if(!q){for(let e=0;e<g.numberOfInputs;e+=1){x[e].disconnect(C[e]);for(let t=0;t<g.channelCount;t+=1)C[s].disconnect(E,t,e*g.channelCount+t)}if(void 0!==m.parameterDescriptors){const e=m.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=k[t];e.disconnect(E,0,A+t),e.stop()}}E.disconnect(I),I.onaudioprocess=null,K?H():X();break}}}};let K=!1;const Z=a(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Q=()=>I.connect(Z).connect(p.destination),X=()=>{I.disconnect(Z),Z.disconnect()};return Q(),d(R,(()=>{if(q){X(),g.numberOfOutputs>0&&I.connect(T);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=_[e];for(let s=0;s<y[e];s+=1)T.connect(n,t+s,s);t+=y[e]}}K=!0}),(()=>{q&&(Q(),H()),K=!1}))})(Vs,$,Ke,Mn,ut,zn,pt,gt,yt,Ws,ks,Us,Nn),qs=((e,t,n,s,i)=>(r,a,o,l,c,u)=>{if(null!==o)try{const t=new o(r,l,u),s=new Map;let a=null;if(Object.defineProperties(t,{channelCount:{get:()=>u.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>a,set:e=>{"function"==typeof a&&t.removeEventListener("processorerror",a),a="function"==typeof e?e:null,"function"==typeof a&&t.addEventListener("processorerror",a)}}}),t.addEventListener=(d=t.addEventListener,(...e)=>{if("processorerror"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=s.get(e[1]);void 0!==n?e[1]=n:(e[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),t(n)):t(new ErrorEvent(e[0],{...n}))},s.set(t,e[1]))}}return d.call(t,"error",e[1],e[2]),d.call(t,...e)}),t.removeEventListener=(h=t.removeEventListener,(...e)=>{if("processorerror"===e[0]){const t=s.get(e[1]);void 0!==t&&(s.delete(e[1]),e[1]=t)}return h.call(t,"error",e[1],e[2]),h.call(t,e[0],e[1],e[2])}),0!==u.numberOfOutputs){const e=n(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(e).connect(r.destination);return i(t,(()=>e.disconnect()),(()=>e.connect(r.destination)))}return t}catch(e){if(11===e.code)throw s();throw e}var h,d;if(void 0===c)throw s();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(u),t(r,a,c,u)})(Ke,js,pt,yt,Nn),Hs=((e,t,n,s,i,r,a,o,l,c,u,h,d,p,f,m)=>(g,y,A)=>{const w=new WeakMap;let b=null;return{render(v,x){o(x,v);const C=w.get(x);return void 0!==C?Promise.resolve(C):(async(o,v)=>{let x=u(o),C=null;const k=Q(x,v),E=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(null===h){const e=E.reduce(((e,t)=>e+t),0),n=i(v,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),r=[];for(let e=0;e<o.numberOfOutputs;e+=1)r.push(s(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[e]}));const c=a(v,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});c.connect=t.bind(null,r),c.disconnect=l.bind(null,r),C=[n,r,c]}else k||(x=new h(v,g));if(w.set(v,null===C?x:C[2]),null!==C){if(null===b){if(void 0===A)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const e=o.channelCount*o.numberOfInputs,t=void 0===A.parameterDescriptors?0:A.parameterDescriptors.length,n=e+t,l=async()=>{const l=new d(n,128*Math.ceil(o.context.length/128),v.sampleRate),c=[],u=[];for(let e=0;e<y.numberOfInputs;e+=1)c.push(a(l,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),u.push(i(l,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const h=await Promise.all(Array.from(o.parameters.values()).map((async e=>{const t=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await p(l,e,t.offset),t}))),g=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<y.numberOfInputs;e+=1){c[e].connect(u[e]);for(let t=0;t<y.channelCount;t+=1)u[e].connect(g,t,e*y.channelCount+t)}for(const[t,n]of h.entries())n.connect(g,0,e+t),n.start(0);return g.connect(l.destination),await Promise.all(c.map((e=>f(o,l,e)))),m(l)};b=Le(o,0===n?null:await l(),v,y,E,A,c)}const e=await b,t=n(v,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,u,h]=C;null!==e&&(t.buffer=e,t.start(0)),t.connect(l);for(let e=0,t=0;e<o.numberOfOutputs;e+=1){const n=u[e];for(let s=0;s<E[e];s+=1)l.connect(n,t+s,s);t+=E[e]}return h}if(k)for(const[t,n]of o.parameters.entries())await e(v,n,x.parameters.get(t));else for(const[e,t]of o.parameters.entries())await p(v,t,x.parameters.get(e));return await f(o,v,x),x})(v,x)}}})(wn,Vs,bn,Mn,ut,zn,pt,Ps,Ws,ks,ve,an,Xt,vn,Yt,$n),Ys=(e=>t=>e.get(t))(Es),Ks=(e=>(t,n)=>{e.set(t,n)})(Gs),Zs=Cs?((e,t,n,s,i,r,a,o,l,c,u,h,d,p)=>class extends t{constructor(t,p,f){var m;const g=o(t),y=l(g),A=u({...Be,...f});d(A);const w=R.get(g),b=null==w?void 0:w.get(p),v=y||"closed"!==g.state?g:null!==(m=a(g))&&void 0!==m?m:g,x=i(v,y?null:t.baseLatency,c,p,b,A);super(t,!0,x,y?s(p,A,b):null);const C=[];x.parameters.forEach(((e,t)=>{const s=n(this,y,e);C.push([t,s])})),this._nativeAudioWorkletNode=x,this._onprocessorerror=null,this._parameters=new Me(C),y&&e(g,this);const{activeInputs:k}=r(this);h(x,k)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(e){const t="function"==typeof e?p(this,e):null;this._nativeAudioWorkletNode.onprocessorerror=t;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===t?e:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(zs,on,Cn,Hs,qs,re,Ys,Zt,$t,an,(e=>({...e,outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:Array.from({length:e.numberOfOutputs},(()=>1))})),Ks,(e=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),n.close()}}),Ft):void 0,Qs=(((e,t,n,s,i)=>{})(Ke,yt,Ct,is,tn),((e,t)=>(n,s,i)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,s,i)}catch(t){if("SyntaxError"===t.name)throw e();throw t}})(yt,Xt)),Xs=((e,t,n,s,i,r,a,o)=>(l,c)=>n(l).render(l,c).then((()=>Promise.all(Array.from(s(c)).map((e=>n(e).render(e,c)))))).then((()=>i(c))).then((n=>("function"!=typeof n.copyFromChannel?(a(n),J(n)):t(r,(()=>r(n)))||o(n),e.add(n),n))))(un,Wt,Ht,Ls,$n,X,fn,mn),$s=(((e,t,n,s,i)=>{})(Wt,Ke,Qs,is,Xs),((e,t,n,s,i)=>class extends e{constructor(e,n,i){let r;if("number"==typeof e&&void 0!==n&&void 0!==i)r={length:n,numberOfChannels:e,sampleRate:i};else{if("object"!=typeof e)throw new Error("The given parameters are not valid.");r=e}const{length:a,numberOfChannels:o,sampleRate:l}={...At,...r},c=s(o,a,l);t(Je,(()=>Je(c)))||c.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(c.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(c,o),this._length=a,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,le(this)})))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout((()=>this._waitForThePromiseToSettle(e)))}})(Ns,Wt,Ke,Qs,Xs)),Js=((e,t)=>n=>{const s=e.get(n);return t(s)||t(n)})(D,nn),ei=((e,t)=>n=>e.has(n)||t(n))(T,sn),ti=((e,t)=>n=>e.has(n)||t(n))(N,rn),ni=((e,t)=>n=>{const s=e.get(n);return t(s)||t(n)})(D,$t),si=()=>(async(e,t,n,s,i,r,a,o,l,c,u,h,d,p,f,m)=>{if(e(t,t)&&e(n,n)&&e(i,i)&&e(r,r)&&e(o,o)&&e(l,l)&&e(c,c)&&e(u,u)&&e(h,h)&&e(d,d)&&e(p,p))return(await Promise.all([e(s,s),e(a,a),e(f,f),e(m,m)])).every((e=>e));return!1})(Wt,(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createBuffer(1,1,44100);if(void 0===t.copyToChannel)return!0;const n=new Float32Array(2);try{t.copyFromChannel(n,0,0)}catch{return!1}return!0})(Xt),(e=>()=>{if(null===e)return!1;if(void 0!==e.prototype&&void 0!==e.prototype.close)return!0;const t=new e,n=void 0!==t.close;try{t.close()}catch{}return n})(tn),(e=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100);return new Promise((e=>{let n=!0;const s=s=>{n&&(n=!1,t.startRendering(),e(s instanceof TypeError))};let i;try{i=t.decodeAudioData(null,(()=>{}),s)}catch(e){s(e)}void 0!==i&&i.catch(s)}))})(Xt),(e=>()=>{if(null===e)return!1;let t;try{t=new e({latencyHint:"balanced"})}catch{return!1}return t.close(),!0})(tn),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createGain(),n=t.connect(t)===t;return t.disconnect(t),n})(Xt),((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new MessageChannel,i=new t(1,128,44100),r=URL.createObjectURL(n);let a=!1;try{await i.audioWorklet.addModule(r);const t=new e(i,"a",{numberOfOutputs:0}),n=i.createOscillator();await new Promise((e=>{t.port.onmessage=()=>e(),t.port.postMessage(s.port2,[s.port2])})),t.port.onmessage=()=>a=!0,n.connect(t),n.start(0),await i.startRendering(),a=await new Promise((e=>{s.port1.onmessage=({data:t})=>e(1===t),s.port1.postMessage(0)}))}catch{}finally{s.port1.close(),URL.revokeObjectURL(r)}return a})(an,Xt),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createChannelMerger();if("max"===t.channelCountMode)return!0;try{t.channelCount=2}catch{return!0}return!1})(Xt),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100);return void 0===t.createConstantSource||t.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Xt),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100),n=t.createConvolver();n.buffer=t.createBuffer(1,1,t.sampleRate);try{n.buffer=t.createBuffer(1,1,t.sampleRate)}catch{return!1}return!0})(Xt),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createConvolver();try{t.channelCount=1}catch{return!1}return!0})(Xt),Mt,(e=>()=>null!==e&&e.hasOwnProperty("isSecureContext"))(jt),(e=>()=>{if(null===e)return!1;const t=new e;try{return t.createMediaStreamSource(new MediaStream),!1}catch(e){return!0}finally{t.close()}})(tn),(e=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100);if(void 0===t.createStereoPanner)return Promise.resolve(!0);if(void 0===t.createConstantSource)return Promise.resolve(!0);const n=t.createConstantSource(),s=t.createStereoPanner();return n.channelCount=1,n.offset.value=1,s.channelCount=1,n.start(),n.connect(s).connect(t.destination),t.startRendering().then((e=>1!==e.getChannelData(0)[0]))})(Xt),Bt);function ii(e,t){if(!e)throw new Error(t)}function ri(e,t,n=1/0){if(!(t<=e&&e<=n))throw new RangeError(`Value must be within [${t}, ${n}], got: ${e}`)}function ai(e){e.isOffline||"running"===e.state||ui('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let oi=console;function li(e){oi=e}function ci(...e){oi.log(...e)}function ui(...e){oi.warn(...e)}function hi(e){return void 0===e}function di(e){return!hi(e)}function pi(e){return"function"==typeof e}function fi(e){return"number"==typeof e}function mi(e){return"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object}function gi(e){return"boolean"==typeof e}function yi(e){return Array.isArray(e)}function Ai(e){return"string"==typeof e}function wi(e){return Ai(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)}const bi="object"==typeof self?self:null,vi=bi&&(bi.hasOwnProperty("AudioContext")||bi.hasOwnProperty("webkitAudioContext"));function xi(e,t,n,s){var i,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,s);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function Ci(e,t,n,s){return new(n||(n=Promise))((function(i,r){function a(e){try{l(s.next(e))}catch(e){r(e)}}function o(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;class ki{constructor(e,t,n){this._callback=e,this._type=t,this._updateInterval=n,this._createClock()}_createWorker(){const e=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),t=URL.createObjectURL(e),n=new Worker(t);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(e){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*e,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Ei(e){return ti(e)}function Si(e){return ei(e)}function Ii(e){return ni(e)}function Ti(e){return Js(e)}function _i(e){return e instanceof AudioBuffer}function Ni(e,t){return"value"===e||Ei(t)||Si(t)||_i(t)}function Di(e,...t){if(!t.length)return e;const n=t.shift();if(mi(e)&&mi(n))for(const t in n)Ni(t,n[t])?e[t]=n[t]:mi(n[t])?(e[t]||Object.assign(e,{[t]:{}}),Di(e[t],n[t])):Object.assign(e,{[t]:n[t]});return Di(e,...t)}function Mi(e,t,n=[],s){const i={},r=Array.from(t);if(mi(r[0])&&s&&!Reflect.has(r[0],s)){Object.keys(r[0]).some((t=>Reflect.has(e,t)))||(Di(i,{[s]:r[0]}),n.splice(n.indexOf(s),1),r.shift())}if(1===r.length&&mi(r[0]))Di(i,r[0]);else for(let e=0;e<n.length;e++)di(r[e])&&(i[n[e]]=r[e]);return Di(e,i)}function Bi(e,t){return hi(e)?t:e}function Ri(e,t){return t.forEach((t=>{Reflect.has(e,t)&&delete e[t]})),e}class Fi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||bi&&this.toString()===bi.TONE_DEBUG_CLASS)&&ci(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Fi.version=r;const Oi=1e-6;function Li(e,t){return e>t+Oi}function zi(e,t){return Li(e,t)||Pi(e,t)}function Vi(e,t){return e+Oi<t}function Pi(e,t){return Math.abs(e-t)<Oi}function Wi(e,t,n){return Math.max(Math.min(e,n),t)}class Gi extends Fi{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Mi(Gi.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(ii(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];ii(zi(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(e){const t=this._timeline.indexOf(e);return-1!==t&&this._timeline.splice(t,1),this}get(e,t="time"){const n=this._search(e,t);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const n=this._search(e,t);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const n=this._search(e);return n-1>=0?this._timeline[n-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Pi(this._timeline[t].time,e)){for(let n=t;n>=0&&Pi(this._timeline[n].time,e);n--)t=n;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else 1===this._timeline.length&&zi(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(0===this._timeline.length)return-1;let n=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][t]<=e)return s-1;for(;n<i;){let s=Math.floor(n+(i-n)/2);const r=this._timeline[s],a=this._timeline[s+1];if(Pi(r[t],e)){for(let n=s;n<this._timeline.length;n++){if(!Pi(this._timeline[n][t],e))break;s=n}return s}if(Vi(r[t],e)&&Li(a[t],e))return s;Li(r[t],e)?i=s:n=s+1}return-1}_iterate(e,t=0,n=this._timeline.length-1){this._timeline.slice(t,n+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const n=this._search(e);return-1!==n&&this._iterate(t,0,n),this}forEachAfter(e,t){const n=this._search(e);return this._iterate(t,n+1),this}forEachBetween(e,t,n){let s=this._search(e),i=this._search(t);return-1!==s&&-1!==i?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===t&&(i-=1),this._iterate(n,s,i)):-1===s&&this._iterate(n,0,i),this}forEachFrom(e,t){let n=this._search(e);for(;n>=0&&this._timeline[n].time>=e;)n--;return this._iterate(t,n+1),this}forEachAtTime(e,t){const n=this._search(e);if(-1!==n&&Pi(this._timeline[n].time,e)){let s=n;for(let t=n;t>=0&&Pi(this._timeline[t].time,e);t--)s=t;this._iterate((e=>{t(e)}),s,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Ui=[];function ji(e){Ui.push(e)}const qi=[];function Hi(e){qi.push(e)}class Yi extends Fi{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach((e=>{hi(this._events)&&(this._events={}),this._events.hasOwnProperty(e)||(this._events[e]=[]),this._events[e].push(t)})),this}once(e,t){const n=(...s)=>{t(...s),this.off(e,n)};return this.on(e,n),this}off(e,t){return e.split(/\W+/).forEach((n=>{if(hi(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(hi(t))this._events[e]=[];else{const n=this._events[e];for(let e=n.length-1;e>=0;e--)n[e]===t&&n.splice(e,1)}})),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const n=this._events[e].slice(0);for(let e=0,s=n.length;e<s;e++)n[e].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach((t=>{const n=Object.getOwnPropertyDescriptor(Yi.prototype,t);Object.defineProperty(e.prototype,t,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class Ki extends Yi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Zi extends Ki{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Gi,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=Mi(Zi.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=function(e){return new Os(e)}({latencyHint:e.latencyHint}),this._ticker=new ki(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var e;return this._initialized||(e=this,Ui.forEach((t=>t(e))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,n){return this._context.createBuffer(e,t,n)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,n){return this._context.createPeriodicWave(e,t,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){ii(Ti(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(e)}createMediaElementSource(e){ii(Ti(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(e)}createMediaStreamDestination(){ii(Ti(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){ii(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){ii(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){ii(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){ii(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return function(e,t,n){return ii(di(Zs),"This node only works in a secure context (https or localhost)"),new Zs(e,t,n)}(this.rawContext,e,t)}addAudioWorkletModule(e,t){return Ci(this,void 0,void 0,(function*(){ii(di(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(t)||this._workletModules.set(t,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(t)}))}workletsAreReady(){return Ci(this,void 0,void 0,(function*(){const e=[];this._workletModules.forEach((t=>e.push(t))),yield Promise.all(e)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let t=0;if(this._latencyHint=e,Ai(e))switch(e){case"interactive":t=.1;break;case"playback":t=.5;break;case"balanced":t=.25}this.lookAhead=t,this.updateInterval=t/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Ti(this._context)?this._context.resume():Promise.resolve()}close(){return Ci(this,void 0,void 0,(function*(){var e;Ti(this._context)&&(yield this._context.close()),this._initialized&&(e=this,qi.forEach((t=>t(e))))}))}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),n=t.getChannelData(0);for(let t=0;t<n.length;t++)n[t]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=t,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((e=>this._constants[e].disconnect())),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:n+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach((t=>{t.id===e&&this._timeouts.remove(t)})),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const n=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:n,time:i+t})};return s(),n}}function Qi(e,t){yi(t)?t.forEach((t=>Qi(e,t))):Object.defineProperty(e,t,{enumerable:!0,writable:!1})}function Xi(e,t){yi(t)?t.forEach((t=>Xi(e,t))):Object.defineProperty(e,t,{writable:!0})}const $i=()=>{};class Ji extends Fi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=$i;const e=Mi(Ji.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&_i(e.url)||e.url instanceof Ji?this.set(e.url):Ai(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:$i,onload:$i,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:sr().sampleRate}set(e){return e instanceof Ji?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ci(this,void 0,void 0,(function*(){const t=Ji.load(e).then((e=>{this.set(e),this.onload(this)}));Ji.downloads.push(t);try{yield t}finally{const e=Ji.downloads.indexOf(t);Ji.downloads.splice(e,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=yi(e)&&e[0].length>0,n=t?e.length:1,s=t?e[0].length:e.length,i=sr(),r=i.createBuffer(n,s,i.sampleRate),a=t||1!==n?e:[e];for(let e=0;e<n;e++)r.copyToChannel(a[e],e);return this._buffer=r,this}toMono(e){if(fi(e))this.fromArray(this.toArray(e));else{let e=new Float32Array(this.length);const t=this.numberOfChannels;for(let n=0;n<t;n++){const t=this.toArray(n);for(let n=0;n<t.length;n++)e[n]+=t[n]}e=e.map((e=>e/t)),this.fromArray(e)}return this}toArray(e){if(fi(e))return this.getChannelData(e);if(1===this.numberOfChannels)return this.toArray(0);{const e=[];for(let t=0;t<this.numberOfChannels;t++)e[t]=this.getChannelData(t);return e}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){const n=Math.floor(e*this.sampleRate),s=Math.floor(t*this.sampleRate);ii(n<s,"The start time must be less than the end time");const i=s-n,r=sr().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let e=0;e<this.numberOfChannels;e++)r.copyToChannel(this.getChannelData(e).subarray(n,s),e);return new Ji(r)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return(new Ji).fromArray(e)}static fromUrl(e){return Ci(this,void 0,void 0,(function*(){const t=new Ji;return yield t.load(e)}))}static load(e){return Ci(this,void 0,void 0,(function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const n=t[1].split("|");let s=n[0];for(const e of n)if(Ji.supportsType(e)){s=e;break}e=e.replace(t[0],s)}const n=""===Ji.baseUrl||Ji.baseUrl.endsWith("/")?Ji.baseUrl:Ji.baseUrl+"/",s=yield fetch(n+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const i=yield s.arrayBuffer();return yield sr().decodeAudioData(i)}))}static supportsType(e){const t=e.split("."),n=t[t.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Ci(this,void 0,void 0,(function*(){for(yield Promise.resolve();Ji.downloads.length;)yield Ji.downloads[0]}))}}Ji.baseUrl="",Ji.downloads=[];class er extends Zi{constructor(){var e,t,n;super({clockSource:"offline",context:Ii(arguments[0])?arguments[0]:(e=arguments[0],t=arguments[1]*arguments[2],n=arguments[2],new $s(e,t,n)),lookAhead:0,updateInterval:Ii(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Ii(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ci(this,void 0,void 0,(function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const n=Math.floor(this.sampleRate/128);e&&t%n==0&&(yield new Promise((e=>setTimeout(e,1))))}}))}render(e=!0){return Ci(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Ji(t)}))}close(){return Promise.resolve()}}const tr=new class extends Ki{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,n){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e,t){return Ci(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let nr=tr;function sr(){return nr===tr&&vi&&ir(new Zi),nr}function ir(e){nr=Ti(e)?new Zi(e):Ii(e)?new er(e):e}function rr(){return nr.resume()}if(bi&&!bi.TONE_SILENCE_LOGGING){let e="v";"dev"===r&&(e="")}function ar(e){return Math.pow(10,e/20)}function or(e){return Math.log(e)/Math.LN10*20}function lr(e){return Math.pow(2,e/12)}let cr=440;function ur(e){return Math.round(hr(e))}function hr(e){return 69+12*Math.log2(e/cr)}function dr(e){return cr*Math.pow(2,(e-69)/12)}class pr extends Fi{constructor(e,t,n){super(),this.defaultUnits="s",this._val=t,this._units=n,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const n=parseInt(e,10),s="."===t?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/n)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(t)))},regexp:/^(\d+)t$/i},tr:{method:(e,t,n)=>{let s=0;return e&&"0"!==e&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(s+=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof pr&&this.fromType(this._val),hi(this._val))return this._noArg();if(Ai(this._val)&&hi(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(mi(this._val)){let e=0;for(const t in this._val)if(di(this._val[t])){const n=this._val[t];e+=new this.constructor(this.context,t).valueOf()*n}return e}if(di(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}return Ai(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class fr extends pr{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new fr(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const n=new this.constructor(this.context,e).valueOf(),s=this.valueOf();return s+(Math.round(s/n)*n-s)*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let e=1;e<9;e++){const n=Math.pow(2,e);t.push(n+"n."),t.push(n+"n"),t.push(n+"t")}t.push("0");let n=t[0],s=new fr(this.context,t[0]).toSeconds();return t.forEach((t=>{const i=new fr(this.context,t).toSeconds();Math.abs(i-e)<Math.abs(s-e)&&(n=t,s=i)})),n}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const n=Math.floor(t/this._getTimeSignature());let s=t%1*4;t=Math.floor(t)%this._getTimeSignature();const i=s.toString();i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3)));return[n,t,s].join(":")}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.round(t*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return ur(this.toFrequency())}_now(){return this.context.now()}}function mr(e,t){return new fr(sr(),e,t)}class gr extends fr{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return cr}static set A4(e){!function(e){cr=e}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:gr.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,t){const n=yr[e.toLowerCase()]+12*(parseInt(t,10)+1);return"midi"===this.defaultUnits?n:gr.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,n){let s=1;return e&&"0"!==e&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(s*=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n)/4)),s}}})}transpose(e){return new gr(this.context,this.valueOf()*lr(e))}harmonize(e){return e.map((e=>this.transpose(e)))}toMidi(){return ur(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/gr.A4);let n=Math.round(12*t)+57;const s=Math.floor(n/12);s<0&&(n+=-12*s);return Ar[n%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return dr(e)}static ftom(e){return ur(e)}}const yr={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Ar=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function wr(e,t){return new gr(sr(),e,t)}class br extends fr{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function vr(e,t){return new br(sr(),e,t)}class xr extends Fi{constructor(){super();const e=Mi(xr.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:sr()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new fr(this.context,e).toSeconds()}toFrequency(e){return new gr(this.context,e).toFrequency()}toTicks(e){return new br(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach((n=>{hi(e[n])&&delete t[n]})),t}get(){const e=this.constructor.getDefaults();return Object.keys(e).forEach((t=>{if(Reflect.has(this,t)){const n=this[t];di(n)&&di(n.value)&&di(n.setValueAtTime)?e[t]=n.value:n instanceof xr?e[t]=n._getPartialProperties(e[t]):yi(n)||fi(n)||Ai(n)||gi(n)?e[t]=n:delete e[t]}})),e}set(e){return Object.keys(e).forEach((t=>{Reflect.has(this,t)&&di(this[t])&&(this[t]&&di(this[t].value)&&di(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof xr?this[t].set(e[t]):this[t]=e[t])})),this}}class Cr extends Gi{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return null!==t?t.state:this._initial}setStateAtTime(e,t,n){return ri(t,0),this.add(Object.assign({},n,{state:e,time:t})),this}getLastState(e,t){for(let n=this._search(t);n>=0;n--){const t=this._timeline[n];if(t.state===e)return t}}getNextState(e,t){const n=this._search(t);if(-1!==n)for(let t=n;t<this._timeline.length;t++){const n=this._timeline[t];if(n.state===e)return n}}}class kr extends xr{constructor(){super(Mi(kr.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=Mi(kr.getDefaults(),arguments,["param","units","convert"]);for(ii(di(e.param)&&(Ei(e.param)||e.param instanceof kr),"param must be an AudioParam");!Ei(e.param);)e.param=e.param._param;this._swappable=!!di(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Gi(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,di(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(xr.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return di(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return di(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return di(this.maxValue)&&di(this.minValue)&&ri(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?ar(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&"decibels"===this.units?or(e):e}setValueAtTime(e,t){const n=this.toSeconds(t),s=this._fromType(e);return ii(isFinite(s)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,n),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),n=this._events.getAfter(t),s=this._events.get(t);let i=this._initialValue;if(null===s)i=this._initialValue;else if("setTargetAtTime"!==s.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=s.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let e=s.value;if("setTargetAtTime"===s.type){const t=this._events.getBefore(s.time);e=null===t?this._initialValue:t.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(s.time,e,n.time,n.value,t):this._exponentialInterpolate(s.time,e,n.time,n.value,t)}else i=s.value;else{const e=this._events.getBefore(s.time);let n;n=null===e?this._initialValue:e.value,"setTargetAtTime"===s.type&&(i=this._exponentialApproach(s.time,n,s.value,s.constant,t))}return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(t)&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const n=this._fromType(e),s=this.toSeconds(t);return ii(isFinite(n)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(n),this._events.add({time:s,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(e,t){let n=this._fromType(e);n=Pi(n,0)?this._minOutput:n,this._assertRange(n);const s=this.toSeconds(t);return ii(isFinite(n)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t)),this}linearRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(t)),this}targetRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(e,n,t),this}exponentialApproachValueAtTime(e,t,n){t=this.toSeconds(t),n=this.toSeconds(n);const s=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(e,t,s),this.cancelAndHoldAtTime(t+.9*n),this.linearRampToValueAtTime(e,t+n),this}setTargetAtTime(e,t,n){const s=this._fromType(e);ii(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(t);return this._assertRange(s),ii(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,n),this._param.setTargetAtTime(s,i,n),this}setValueCurveAtTime(e,t,n,s=1){n=this.toSeconds(n),t=this.toSeconds(t);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),t);const r=n/(e.length-1);for(let n=1;n<e.length;n++){const i=this._fromType(e[n])*s;this.linearRampToValueAtTime(this._toType(i),t+n*r)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return ii(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),n=this._fromType(this.getValueAtTime(t));ii(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+n);const s=this._events.get(t),i=this._events.getAfter(t);return s&&Pi(s.time,t)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),t):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),t)),this._events.add({time:t,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,t),this}rampTo(e,t=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,t,n):this.linearRampTo(e,t,n),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const n=this._events.get(t);if(n&&"setTargetAtTime"===n.type){const s=this._events.getAfter(n.time),i=s?s.time:t+2,r=(i-t)/10;for(let n=t;n<i;n+=r)e.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(t=>{"cancelScheduledValues"===t.type?e.cancelScheduledValues(t.time):"setTargetAtTime"===t.type?e.setTargetAtTime(t.value,t.time,t.constant):e[t.type](t.value,t.time)})),this}setParam(e){ii(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,n,s,i){return n+(t-n)*Math.exp(-(i-e)/s)}_linearInterpolate(e,t,n,s,i){return t+(i-e)/(n-e)*(s-t)}_exponentialInterpolate(e,t,n,s,i){return t*Math.pow(s/t,(i-e)/(n-e))}}class Er extends xr{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return di(this.input)?Ei(this.input)||this.input instanceof kr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return di(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return di(e)&&(e instanceof Er||Si(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach((t=>{t.channelCount=e.channelCount,t.channelCountMode=e.channelCountMode,t.channelInterpretation=e.channelInterpretation}))}_getChannelProperties(){const e=this._getInternalNodes();ii(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,n=0){return Ir(this,e,t,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return ui("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,n=0){return Tr(this,e,t,n),this}chain(...e){return Sr(this,...e),this}fan(...e){return e.forEach((e=>this.connect(e))),this}dispose(){return super.dispose(),di(this.input)&&(this.input instanceof Er?this.input.dispose():Si(this.input)&&this.input.disconnect()),di(this.output)&&(this.output instanceof Er?this.output.dispose():Si(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Sr(...e){const t=e.shift();e.reduce(((e,t)=>(e instanceof Er?e.connect(t):Si(e)&&Ir(e,t),t)),t)}function Ir(e,t,n=0,s=0){for(ii(di(e),"Cannot connect from undefined node"),ii(di(t),"Cannot connect to undefined node"),(t instanceof Er||Si(t))&&ii(t.numberOfInputs>0,"Cannot connect to node with no inputs"),ii(e.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof Er||t instanceof kr;)di(t.input)&&(t=t.input);for(;e instanceof Er;)di(e.output)&&(e=e.output);Ei(t)?e.connect(t,n):e.connect(t,n,s)}function Tr(e,t,n=0,s=0){if(di(t))for(;t instanceof Er;)t=t.input;for(;!Si(e);)di(e.output)&&(e=e.output);Ei(t)?e.disconnect(t,n):Si(t)?e.disconnect(t,n,s):e.disconnect()}class _r extends Er{constructor(){super(Mi(_r.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=Mi(_r.getDefaults(),arguments,["gain","units"]);this.gain=new kr({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Qi(this,"gain")}static getDefaults(){return Object.assign(Er.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Nr extends Er{constructor(e){super(e),this.onended=$i,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new _r({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const t=this.toSeconds(e);return-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Er.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:$i})}_startGain(e,t=1){ii(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=e+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(t,e+n):this._gainNode.gain.exponentialApproachValueAtTime(t,e,n)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){ii(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.context.currentTime),t>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const e="exponential"===this._curve?2*t:0;this._stopSource(this.now()+e),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==$i&&(this.onended(this),this.onended=$i,!this.context.isOffline)){const e=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ii(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Dr extends Nr{constructor(){super(Mi(Dr.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=Mi(Dr.getDefaults(),arguments,["offset"]);Ir(this._source,this._gainNode),this.offset=new kr({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Nr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Mr extends Er{constructor(){super(Mi(Mr.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=Mi(Mr.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Dr({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Er.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,n=0){return Br(this,e,t,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,n){return this._param.exponentialRampTo(e,t,n),this}linearRampTo(e,t,n){return this._param.linearRampTo(e,t,n),this}targetRampTo(e,t,n){return this._param.targetRampTo(e,t,n),this}exponentialApproachValueAtTime(e,t,n){return this._param.exponentialApproachValueAtTime(e,t,n),this}setTargetAtTime(e,t,n){return this._param.setTargetAtTime(e,t,n),this}setValueCurveAtTime(e,t,n,s){return this._param.setValueCurveAtTime(e,t,n,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,n){return this._param.rampTo(e,t,n),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Br(e,t,n,s){(t instanceof kr||Ei(t)||t instanceof Mr&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Mr&&(t.overridden=!0)),Ir(e,t,n,s)}class Rr extends kr{constructor(){super(Mi(Rr.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Gi(1/0),this._multiplier=1;const e=Mi(Rr.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(kr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,n){t=this.toSeconds(t),this.setRampPoint(t);const s=this._fromType(e),i=this._events.get(t),r=Math.round(Math.max(1/n,1));for(let e=0;e<=r;e++){const r=n*e+t,a=this._exponentialApproach(i.time,i.value,s,n,r);this.linearRampToValueAtTime(this._toType(a),r)}return this}setValueAtTime(e,t){const n=this.toSeconds(t);super.setValueAtTime(e,t);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}linearRampToValueAtTime(e,t){const n=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const n=this._fromType(e),s=this._events.get(t),i=Math.round(Math.max(10*(t-s.time),1)),r=(t-s.time)/i;for(let e=0;e<=i;e++){const i=r*e+s.time,a=this._exponentialInterpolate(s.time,s.value,t,n,i);this.linearRampToValueAtTime(this._toType(a),i)}return this}_getTicksUntilEvent(e,t){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(hi(e.ticks)){const t=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(t,e.time)}const n=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(t));const i=this._events.get(t);return i&&i.time===t&&"setValueAtTime"===i.type&&(s=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(n+s)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),n=this._events.get(t);return Math.max(this._getTicksUntilEvent(n,t),0)}getDurationOfTicks(e,t){const n=this.toSeconds(t),s=this.getTicksAtTime(t);return this.getTimeOfTick(s+e)-n}getTimeOfTick(e){const t=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&n&&"linearRampToValueAtTime"===n.type&&t.value!==n.value){const s=this._fromType(this.getValueAtTime(t.time)),i=(this._fromType(this.getValueAtTime(n.time))-s)/(n.time-t.time),r=Math.sqrt(Math.pow(s,2)-2*i*(t.ticks-e)),a=(-s+r)/i;return(a>0?a:(-s-r)/i)+t.time}return t?0===t.value?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const n=this.toSeconds(t),s=this.toSeconds(e),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+s)-i}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Fr extends Mr{constructor(){super(Mi(Fr.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=Mi(Fr.getDefaults(),arguments,["value"]);this.input=this._param=new Rr({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Mr.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Or extends xr{constructor(){super(Mi(Or.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Cr,this._tickOffset=new Gi;const e=Mi(Or.getDefaults(),arguments,["frequency"]);this.frequency=new Fr({context:this.context,units:e.units,value:e.frequency}),Qi(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},xr.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const n=this.toSeconds(e);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),di(t)&&this.setTicksAtTime(t,n)),this}stop(e){const t=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(t)){const e=this._state.get(t);e&&e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&this._state.setStateAtTime("paused",t),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),n=this._state.getLastState("stopped",t),s={state:"paused",time:t};this._state.add(s);let i=n,r=0;return this._state.forEachBetween(n.time,t+this.sampleTime,(e=>{let t=i.time;const n=this._tickOffset.get(e.time);n&&n.time>=i.time&&(r=n.ticks,t=n.time),"started"===i.state&&"started"!==e.state&&(r+=this.frequency.getTicksAtTime(e.time)-this.frequency.getTicksAtTime(t)),i=e})),this._state.remove(s),r}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),n=this.frequency.timeToTicks(e,t);this.setTicksAtTime(n,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),n={state:"paused",time:e};this._state.add(n);let s=t,i=0;return this._state.forEachBetween(t.time,e+this.sampleTime,(e=>{let t=s.time;const n=this._tickOffset.get(e.time);n&&n.time>=s.time&&(i=n.seconds,t=n.time),"started"===s.state&&"started"!==e.state&&(i+=e.time-t),s=e})),this._state.remove(n),i}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const n=this._tickOffset.get(t),s=this._state.get(t),i=Math.max(n.time,s.time),r=this.frequency.getTicksAtTime(i)+e-n.ticks;return this.frequency.getTimeOfTick(r)}forEachTickBetween(e,t,n){let s=this._state.get(e);this._state.forEachBetween(e,t,(t=>{s&&"started"===s.state&&"started"!==t.state&&this.forEachTickBetween(Math.max(s.time,e),t.time-this.sampleTime,n),s=t}));let i=null;if(s&&"started"===s.state){const r=Math.max(s.time,e),a=this.frequency.getTicksAtTime(r),o=a-this.frequency.getTicksAtTime(s.time);let l=Math.ceil(o)-o;l=Pi(l,1)?0:l;let c=this.frequency.getTimeOfTick(a+l);for(;c<t;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(e){i=e;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Lr extends xr{constructor(){super(Mi(Lr.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=$i,this._lastUpdate=0,this._state=new Cr("stopped"),this._boundLoop=this._loop.bind(this);const e=Mi(Lr.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Or({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Qi(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(xr.getDefaults(),{callback:$i,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){ai(this.context);const n=this.toSeconds(e);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,t),n<this._lastUpdate&&this.emit("start",n,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const n=this.toSeconds(t),s=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(s+e,n)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,(e=>{switch(e.state){case"started":const t=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,t);break;case"stopped":0!==e.time&&this.emit("stop",e.time);break;case"paused":this.emit("pause",e.time)}})),this._tickSource.forEachTickBetween(e,t,((e,t)=>{this.callback(e,t)})))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Yi.mixin(Lr);class zr extends Er{constructor(){super(Mi(zr.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=Mi(zr.getDefaults(),arguments,["delayTime","maxDelay"]),t=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(t,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(t),this.delayTime=new kr({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Qi(this,"delayTime")}static getDefaults(){return Object.assign(Er.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function Vr(e,t,n=2,s=sr().sampleRate){return Ci(this,void 0,void 0,(function*(){const i=sr(),r=new er(n,t,s);ir(r),yield e(r);const a=r.render();ir(i);const o=yield a;return new Ji(o)}))}class Pr extends Fi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Mi(Pr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach((t=>{this._loadingCount++;const n=e.urls[t];this.add(t,n,this._bufferLoaded.bind(this,e.onload),e.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:$i,onload:$i,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return ii(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every((([e,t])=>t.loaded))}add(e,t,n=$i,s=$i){return Ai(t)?this._buffers.set(e.toString(),new Ji(this.baseUrl+t,n,s)):this._buffers.set(e.toString(),new Ji(t,n,s)),this}dispose(){return super.dispose(),this._buffers.forEach((e=>e.dispose())),this._buffers.clear(),this}}class Wr extends gr{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return ur(super._frequencyToUnits(e))}_ticksToUnits(e){return ur(super._ticksToUnits(e))}_beatsToUnits(e){return ur(super._beatsToUnits(e))}_secondsToUnits(e){return ur(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return dr(this.toMidi())}transpose(e){return new Wr(this.context,this.toMidi()+e)}}function Gr(e,t){return new Wr(sr(),e,t)}class Ur extends br{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function jr(e,t){return new Ur(sr(),e,t)}class qr extends xr{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Gi,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ji((e=>{e.draw=new qr({context:e})})),Hi((e=>{e.draw.dispose()}));class Hr extends Fi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){ii(di(e.time),"Events must have a time property"),ii(di(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new Yr(e.time,e.time+e.duration,e);for(null===this._root?this._root=t:this._root.insert(t),this._length++;null!==t;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(null!==this._root){const t=[];this._root.search(e.time,t);for(const n of t)if(n.event===e){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,(e=>this.remove(e))),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,t){null!==e.parent?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let t,n=null;if(e.getBalance()>0)if(null===e.left.right)t=e.left,t.right=e.right,n=t;else{for(t=e.left.right;null!==t.right;)t=t.right;t.parent&&(t.parent.right=t.left,n=t.parent,t.left=e.left,t.right=e.right)}else if(null===e.right.left)t=e.right,t.left=e.left,n=t;else{for(t=e.right.left;null!==t.left;)t=t.left;t.parent&&(t.parent.left=t.right,n=t.parent,t.left=e.left,t.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=t:e.parent.right=t:this._setRoot(t),n&&this._rebalance(n)}e.dispose()}_rotateLeft(e){const t=e.parent,n=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),null!==t?n?t.left=s:t.right=s:this._setRoot(s)}_rotateRight(e){const t=e.parent,n=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),null!==t?n?t.left=s:t.right=s:this._setRoot(s)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const t=[];if(this._root.search(e,t),t.length>0){let e=t[0];for(let n=1;n<t.length;n++)t[n].low>e.low&&(e=t[n]);return e.event}}return null}forEach(e){if(null!==this._root){const t=[];this._root.traverse((e=>t.push(e))),t.forEach((t=>{t.event&&e(t.event)}))}return this}forEachAtTime(e,t){if(null!==this._root){const n=[];this._root.search(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}forEachFrom(e,t){if(null!==this._root){const n=[];this._root.searchAfter(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((e=>e.dispose())),this._root=null,this}}class Yr{constructor(e,t,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(null!==this.left&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),this.low>e||null!==this.right&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),null!==this.left&&this.left.searchAfter(e,t)),null!==this.right&&this.right.searchAfter(e,t)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Kr extends Er{constructor(){super(Mi(Kr.getDefaults(),arguments,["volume"])),this.name="Volume";const e=Mi(Kr.getDefaults(),arguments,["volume"]);this.input=this.output=new _r({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Qi(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Er.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Zr extends Er{constructor(){super(Mi(Zr.getDefaults(),arguments)),this.name="Destination",this.input=new Kr({context:this.context}),this.output=new _r({context:this.context}),this.volume=this.input.volume;const e=Mi(Zr.getDefaults(),arguments);Sr(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Er.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Sr(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ji((e=>{e.destination=new Zr({context:e})})),Hi((e=>{e.destination.dispose()}));class Qr extends Fi{constructor(e){super(),this.name="TimelineValue",this._timeline=new Gi({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class Xr{constructor(e,t){this.id=Xr._eventId++;const n=Object.assign(Xr.getDefaults(),t);this.transport=e,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:$i,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Xr._eventId=0;class $r extends Xr{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign($r.getDefaults(),t);this.duration=new Ur(e.context,n.duration).valueOf(),this._interval=new Ur(e.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Xr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const t=this.transport.getTicksAtTime(e);t>=this.time&&t>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ur(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const t=this.transport.getTicksAtTime(e);t>this.time&&(this._nextTick=this.time+Math.ceil((t-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Ur(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ur(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Jr extends xr{constructor(){super(Mi(Jr.getDefaults(),arguments)),this.name="Transport",this._loop=new Qr(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Gi,this._repeatedEvents=new Hr,this._syncedSignals=[],this._swingAmount=0;const e=Mi(Jr.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new Lr({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Qi(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(xr.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!=0&&t%(2*this._swingTicks)!=0){const n=t%(2*this._swingTicks)/(2*this._swingTicks),s=Math.sin(n*Math.PI)*this._swingAmount;e+=new Ur(this.context,2*this._swingTicks/3).toSeconds()*s}this._timeline.forEachAtTime(t,(t=>t.invoke(e)))}schedule(e,t){const n=new Xr(this,{callback:e,time:new br(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(e,t,n,s=1/0){const i=new $r(this,{callback:e,duration:new fr(this.context,s).toTicks(),interval:new fr(this.context,t).toTicks(),time:new br(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,t){const n=new Xr(this,{callback:e,once:!0,time:new br(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,(e=>this.clear(e.id))),this._repeatedEvents.forEachFrom(t,(e=>this.clear(e.id))),this}_bindClockEvents(){this._clock.on("start",((e,t)=>{t=new Ur(this.context,t).toSeconds(),this.emit("start",e,t)})),this._clock.on("stop",(e=>{this.emit("stop",e)})),this._clock.on("pause",(e=>{this.emit("pause",e)}))}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){let n;return di(t)&&(n=this.toTicks(t)),this._clock.start(e,n),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){yi(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new fr(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new fr(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Ur(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new Ur(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),n=this._clock.frequency.timeToTicks(e,t);this.ticks=n}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(t),s=t+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,t);this.emit("stop",s),this._clock.setTicksAtTime(e,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const t=this.now(),n=e-this.getTicksAtTime(t)%e;return this._clock.nextTickTime(n,t)}}syncSignal(e,t){if(!t){const n=this.now();if(0!==e.getValueAtTime(n)){const s=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);t=e.getValueAtTime(n)/s}else t=0}const n=new _r(t);return this.bpm.connect(n),n.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:n,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const n=this._syncedSignals[t];n.signal===e&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Xi(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Yi.mixin(Jr),ji((e=>{e.transport=new Jr({context:e})})),Hi((e=>{e.transport.dispose()}));class ea extends Er{constructor(e){super(e),this.input=void 0,this._state=new Cr("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=$i,this._syncedStop=$i,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Kr({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Qi(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Er.getDefaults(),{mute:!1,onstop:$i,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,n){let s=hi(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const e=this._state.get(s);e&&(e.offset=this.toSeconds(Bi(t,0)),e.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((e=>{this._start(e,t,n)}),s);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else ai(this.context),this._start(s,t,n);else ii(Li(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,t,n);return this}stop(e){let t=hi(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),"started"===this._state.getValueAtTime(t)||di(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const e=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,n){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,t,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(t>0){const n=this._state.get(t);if(n&&"started"===n.state&&n.time!==t){const s=t-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-s),this._start(e,this.toSeconds(n.offset)+s,i)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(t)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((e=>this.context.transport.clear(e))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=$i,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ta extends Nr{constructor(){super(Mi(ta.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=Mi(ta.getDefaults(),arguments,["url","onload"]);Ir(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new kr({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Ji(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Nr.getDefaults(),{url:new Ji,loop:!1,loopEnd:0,loopStart:0,onload:$i,onerror:$i,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,n,s=1){ii(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),t=this.loop?Bi(t,this.loopStart):Bi(t,0);let r=Math.max(this.toSeconds(t),0);if(this.loop){const e=this.toSeconds(this.loopEnd)||this.buffer.duration,t=this.toSeconds(this.loopStart),n=e-t;zi(r,e)&&(r=(r-t)%n+t),Pi(r,this.buffer.duration)&&(r=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Vi(r,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,r)),di(n)){let e=this.toSeconds(n);e=Math.max(e,0),this.stop(i+e)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class na extends ea{constructor(){super(Mi(na.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=Mi(na.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ea.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(ii(e in ra,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,"started"===this.state)){const e=this.now();this._stop(e),this._start(e)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const t=ra[this._type];this._source=new ta({url:t,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(t.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const sa=220500,ia={brown:null,pink:null,white:null},ra={get brown(){if(!ia.brown){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(sa);e[t]=n;let s=0;for(let e=0;e<sa;e++){const t=2*Math.random()-1;n[e]=(s+.02*t)/1.02,s=n[e],n[e]*=3.5}}ia.brown=(new Ji).fromArray(e)}return ia.brown},get pink(){if(!ia.pink){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(sa);let s,i,r,a,o,l,c;e[t]=n,s=i=r=a=o=l=c=0;for(let e=0;e<sa;e++){const t=2*Math.random()-1;s=.99886*s+.0555179*t,i=.99332*i+.0750759*t,r=.969*r+.153852*t,a=.8665*a+.3104856*t,o=.55*o+.5329522*t,l=-.7616*l-.016898*t,n[e]=s+i+r+a+o+l+c+.5362*t,n[e]*=.11,c=.115926*t}}ia.pink=(new Ji).fromArray(e)}return ia.pink},get white(){if(!ia.white){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(sa);e[t]=n;for(let e=0;e<sa;e++)n[e]=2*Math.random()-1}ia.white=(new Ji).fromArray(e)}return ia.white}};class aa extends Er{constructor(){super(Mi(aa.getDefaults(),arguments,["volume"])),this.name="UserMedia";const e=Mi(aa.getDefaults(),arguments,["volume"]);this._volume=this.output=new Kr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Qi(this,"volume"),this.mute=e.mute}static getDefaults(){return Object.assign(Er.getDefaults(),{mute:!1,volume:0})}open(e){return Ci(this,void 0,void 0,(function*(){ii(aa.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const t=yield aa.enumerateDevices();fi(e)?this._device=t[e]:(this._device=t.find((t=>t.label===e||t.deviceId===e)),!this._device&&t.length>0&&(this._device=t[0]),ii(di(this._device),`No matching device ${e}`));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const s=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=s;const e=this.context.createMediaStreamSource(s);Ir(e,this.output),this._mediaStream=e}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach((e=>{e.stop()})),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Ci(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter((e=>"audioinput"===e.kind))}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return di(navigator.mediaDevices)&&di(navigator.mediaDevices.getUserMedia)}}function oa(e,t){return Ci(this,void 0,void 0,(function*(){const n=t/e.context.sampleRate,s=new er(1,n,e.context.sampleRate);new e.constructor(Object.assign(e.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0);return(yield s.render()).getChannelData(0)}))}class la extends Nr{constructor(){super(Mi(la.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=Mi(la.getDefaults(),arguments,["frequency","type"]);Ir(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new kr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new kr({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Qi(this,["frequency","detune"])}static getDefaults(){return Object.assign(Nr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ca extends ea{constructor(){super(Mi(ca.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=Mi(ca.getDefaults(),arguments,["frequency","type"]);this.frequency=new Mr({context:this.context,units:"frequency",value:e.frequency}),Qi(this,"frequency"),this.detune=new Mr({context:this.context,units:"cents",value:e.detune}),Qi(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&"custom"!==e.type&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(ea.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),n=new la({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return ca._periodicWaveCache.find((e=>{return e.phase===this._phase&&(t=e.partials,n=this._partials,t.length===n.length&&t.every(((e,t)=>n[t]===e)));var t,n}))}{const e=ca._periodicWaveCache.find((e=>e.type===this._type&&e.phase===this._phase));return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=-1!==["sine","square","sawtooth","triangle"].indexOf(e);if(0===this._phase&&t)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=e);else{const t=this._getCachedPeriodicWave();if(di(t)){const{partials:e,wave:n}=t;this._wave=n,this._partials=e,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[t,n]=this._getRealImaginary(e,this._phase),s=this.context.createPeriodicWave(t,n);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),ca._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:t,type:this._type,wave:this._wave}),ca._periodicWaveCache.length>100&&ca._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&"custom"!==this._type&&"custom"!==e?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){ri(e,0);let t=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(t=n[1]),"custom"!==this._type)this.type=0===e?t:t+e.toString();else{const t=new Float32Array(e);this._partials.forEach(((e,n)=>t[n]=e)),this._partials=Array.from(t),this.type=this._type}}_getRealImaginary(e,t){let n=2048;const s=new Float32Array(n),i=new Float32Array(n);let r=1;if("custom"===e){if(r=this._partials.length+1,this._partialCount=this._partials.length,n=r,0===this._partials.length)return[s,i]}else{const t=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);t?(r=parseInt(t[2],10)+1,this._partialCount=parseInt(t[2],10),e=t[1],r=Math.max(r,2),n=r):this._partialCount=0,this._partials=[]}for(let a=1;a<n;++a){const n=2/(a*Math.PI);let o;switch(e){case"sine":o=a<=r?1:0,this._partials[a-1]=o;break;case"square":o=1&a?2*n:0,this._partials[a-1]=o;break;case"sawtooth":o=n*(1&a?1:-1),this._partials[a-1]=o;break;case"triangle":o=1&a?n*n*2*(a-1>>1&1?-1:1):0,this._partials[a-1]=o;break;case"custom":o=this._partials[a-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}0!==o?(s[a]=-o*Math.sin(t*a),i[a]=o*Math.cos(t*a)):(s[a]=0,i[a]=0)}return[s,i]}_inverseFFT(e,t,n){let s=0;const i=e.length;for(let r=0;r<i;r++)s+=e[r]*Math.cos(r*n)+t[r]*Math.sin(r*n);return s}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let n=0;const s=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(e,t,i/32*s),n);return Wi(-this._inverseFFT(e,t,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return Ci(this,void 0,void 0,(function*(){return oa(this,e)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ca._periodicWaveCache=[];class ua extends Er{constructor(){super(Object.assign(Mi(ua.getDefaults(),arguments,["context"])))}connect(e,t=0,n=0){return Br(this,e,t,n),this}}class ha extends ua{constructor(){super(Object.assign(Mi(ha.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=Mi(ha.getDefaults(),arguments,["mapping","length"]);yi(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):pi(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Mr.getDefaults(),{length:1024})}setMap(e,t=1024){const n=new Float32Array(t);for(let s=0,i=t;s<i;s++){const t=s/(i-1)*2-1;n[s]=e(t,s)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){ii(["none","2x","4x"].some((t=>t.includes(e))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class da extends ua{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ha({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class pa extends Mr{constructor(){super(Object.assign(Mi(pa.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=Mi(pa.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new _r({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Mr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class fa extends ea{constructor(){super(Mi(fa.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new da({context:this.context}),this._modulationNode=new _r({context:this.context});const e=Mi(fa.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ca({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ca({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new pa({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Qi(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ca.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Ci(this,void 0,void 0,(function*(){return oa(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class ma extends ea{constructor(){super(Mi(ma.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new _r({context:this.context,gain:0});const e=Mi(ma.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ca({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Mr({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new ca({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new pa({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new pa({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Qi(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ca.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Ci(this,void 0,void 0,(function*(){return oa(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ga extends ea{constructor(){super(Mi(ga.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new _r({context:this.context,gain:0}),this._thresh=new ha({context:this.context,mapping:e=>e<=0?-1:1});const e=Mi(ga.getDefaults(),arguments,["frequency","width"]);this.width=new Mr({context:this.context,units:"audioRange",value:e.width}),this._triangle=new ca({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Qi(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ea.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Ci(this,void 0,void 0,(function*(){return oa(this,e)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class ya extends ea{constructor(){super(Mi(ya.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=Mi(ya.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Mr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Mr({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Qi(this,["frequency","detune"])}static getDefaults(){return Object.assign(ca.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach((t=>t.start(e)))}_stop(e){e=this.toSeconds(e),this._forEach((t=>t.stop(e)))}_restart(e){this._forEach((t=>t.restart(e)))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach((t=>t.type=e))}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,n=e/(this._oscillators.length-1);this._forEach(((e,s)=>e.detune.value=t+n*s))}}get count(){return this._oscillators.length}set count(e){if(ri(e,1),this._oscillators.length!==e){this._forEach((e=>e.dispose())),this._oscillators=[];for(let t=0;t<e;t++){const n=new ca({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:0===t?()=>this.onstop(this):$i});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[t]=n}this.spread=this._spread,"started"===this.state&&this._forEach((e=>e.start()))}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach(((e,t)=>e.phase=this._phase+t/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach((t=>t.baseType=e)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach((t=>t.partials=e)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach((t=>t.partialCount=e)),this._type=this._oscillators[0].type}asArray(e=1024){return Ci(this,void 0,void 0,(function*(){return oa(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((e=>e.dispose())),this}}class Aa extends ea{constructor(){super(Mi(Aa.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new pa({context:this.context,value:2});const e=Mi(Aa.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new ga({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ca({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Qi(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ea.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Ci(this,void 0,void 0,(function*(){return oa(this,e)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const wa={am:fa,fat:ya,fm:ma,oscillator:ca,pulse:ga,pwm:Aa};class ba extends ea{constructor(){super(Mi(ba.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=Mi(ba.getDefaults(),arguments,["frequency","type"]);this.frequency=new Mr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Mr({context:this.context,units:"cents",value:e.detune}),Qi(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(ca.getDefaults(),ma.getDefaults(),fa.getDefaults(),ya.getDefaults(),ga.getDefaults(),Aa.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some((e=>this._sourceType===e))&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=wa[e],n=this.now();if(this._oscillator){const e=this._oscillator;e.stop(n),this.context.setTimeout((()=>e.dispose()),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(t=this._oscillator.type),"fm"===e?this.type="fm"+t:"am"===e?this.type="am"+t:"fat"===e?this.type="fat"+t:"oscillator"===e?this.type=t:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,t){return e instanceof wa[t]}get baseType(){return this._oscillator.baseType}set baseType(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===e||"pwm"===e||(this._oscillator.baseType=e)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(e){this._getOscType(this._oscillator,"fat")&&fi(e)&&(this._oscillator.count=e)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(e){this._getOscType(this._oscillator,"fat")&&fi(e)&&(this._oscillator.spread=e)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ai(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(e=1024){return Ci(this,void 0,void 0,(function*(){return oa(this,e)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class va extends Mr{constructor(){super(Object.assign(Mi(va.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new _r({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Sr(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Mr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class xa extends ua{constructor(){super(Object.assign(Mi(xa.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=Mi(xa.getDefaults(),arguments,["min","max"]);this._mult=this.input=new pa({context:this.context,value:e.max-e.min}),this._add=this.output=new va({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(ua.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Ca extends ua{constructor(){super(Object.assign(Mi(Ca.getDefaults(),arguments))),this.name="Zero",this._gain=new _r({context:this.context}),this.output=this._gain,this.input=void 0,Ir(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Tr(this.context.getConstant(0),this._gain),this}}class ka extends Er{constructor(){super(Mi(ka.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=kr.prototype._fromType,this._toType=kr.prototype._toType,this._is=kr.prototype._is,this._clampValue=kr.prototype._clampValue;const e=Mi(ka.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new ca(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new _r({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Mr({context:this.context,units:"audioRange",value:0}),this._zeros=new Ca({context:this.context}),this._a2g=new da({context:this.context}),this._scaler=this.output=new xa({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Qi(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(ca.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const t=this.min,n=this.max;this._units=e,this.min=t,this.max=n}get state(){return this._oscillator.state}connect(e,t,n){return(e instanceof kr||e instanceof Mr)&&(this.convert=e.convert,this.units=e.units),Br(this,e,t,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Ea(e,t=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){ri(s,e,t),n.set(this,s)}})}}function Sa(e,t=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){ri(this.toSeconds(s),e,t),n.set(this,s)}})}}class Ia extends ea{constructor(){super(Mi(Ia.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=Mi(Ia.getDefaults(),arguments,["url","onload"]);this._buffer=new Ji({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ea.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:$i,onerror:$i,playbackRate:1,reverse:!1})}load(e){return Ci(this,void 0,void 0,(function*(){return yield this._buffer.load(e),this._onload(),this}))}_onload(e=$i){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,n){return super.start(e,t,n),this}_start(e,t,n){t=this._loop?Bi(t,this._loopStart):Bi(t,0);const s=this.toSeconds(t),i=n;n=Bi(n,Math.max(this._buffer.duration-s,0));let r=this.toSeconds(n);r/=this._playbackRate,e=this.toSeconds(e);const a=new ta({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(e+r),this._state.setStateAtTime("stopped",e+r,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&hi(i)?a.start(e,s):a.start(e,s,r-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach((e=>e.stop(t)))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){this._stop(e),this._start(e,t,n)}seek(e,t){const n=this.toSeconds(t);if("started"===this._state.getValueAtTime(n)){const t=this.toSeconds(e);this._stop(n),this._start(n,t)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ri(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopStart=e}))}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ri(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopEnd=e}))}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach((t=>{t.loop=e})),e)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),n=this._state.getNextState("stopped",t);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((e=>e.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(e,t)}))}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((e=>e.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}xi([Sa(0)],Ia.prototype,"fadeIn",void 0),xi([Sa(0)],Ia.prototype,"fadeOut",void 0);class Ta extends Er{constructor(){super(Mi(Ta.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const e=Mi(Ta.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new Kr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Qi(this,"volume"),this._buffers=new Pr({urls:e.urls,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.mute=e.mute,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ea.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:$i,onerror:$i,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._players.forEach((t=>{t.fadeIn=e}))}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._players.forEach((t=>{t.fadeOut=e}))}get state(){return Array.from(this._players).some((([e,t])=>"started"===t.state))?"started":"stopped"}has(e){return this._buffers.has(e)}player(e){if(ii(this.has(e),`No Player with the name ${e} exists on this object`),!this._players.has(e)){const t=new Ia({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(e)}).connect(this.output);this._players.set(e,t)}return this._players.get(e)}get loaded(){return this._buffers.loaded}add(e,t,n){return ii(!this._buffers.has(e),"A buffer with that name already exists on this object"),this._buffers.add(e,t,n),this}stopAll(e){return this._players.forEach((t=>t.stop(e))),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach((e=>e.dispose())),this._buffers.dispose(),this}}class _a extends ea{constructor(){super(Mi(_a.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const e=Mi(_a.getDefaults(),arguments,["url","onload"]);this.buffer=new Ji({onload:e.onload,onerror:e.onerror,reverse:e.reverse,url:e.url}),this._clock=new Lr({context:this.context,callback:this._tick.bind(this),frequency:1/e.grainSize}),this._playbackRate=e.playbackRate,this._grainSize=e.grainSize,this._overlap=e.overlap,this.detune=e.detune,this.overlap=e.overlap,this.loop=e.loop,this.playbackRate=e.playbackRate,this.grainSize=e.grainSize,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.reverse=e.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(ea.getDefaults(),{onload:$i,onerror:$i,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(e,t,n){t=Bi(t,0),t=this.toSeconds(t),e=this.toSeconds(e);const s=1/this._clock.frequency.getValueAtTime(e);this._clock.start(e,t/s),n&&this.stop(e+this.toSeconds(n))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){this._stop(e),this._start(e,t,n)}_stop(e){this._clock.stop(e)}_onstop(e){this._activeSources.forEach((t=>{t.fadeOut=0,t.stop(e)})),this.onstop(this)}_tick(e){const t=this._clock.getTicksAtTime(e),n=t*this._grainSize;if(this.log("offset",n),!this.loop&&n>this.buffer.duration)return void this.stop(e);const s=n<this._overlap?0:this._overlap,i=new ta({context:this.context,url:this.buffer,fadeIn:s,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:lr(this.detune/100)}).connect(this.output);i.start(e,this._grainSize*t),i.stop(e+this._grainSize/this.playbackRate),this._activeSources.push(i),i.onended=()=>{const e=this._activeSources.indexOf(i);-1!==e&&this._activeSources.splice(e,1)}}get playbackRate(){return this._playbackRate}set playbackRate(e){ri(e,.001),this._playbackRate=e,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(e){this.buffer.loaded&&ri(this.toSeconds(e),0,this.buffer.duration),this._loopStart=this.toSeconds(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this.buffer.loaded&&ri(this.toSeconds(e),0,this.buffer.duration),this._loopEnd=this.toSeconds(e)}get reverse(){return this.buffer.reverse}set reverse(e){this.buffer.reverse=e}get grainSize(){return this._grainSize}set grainSize(e){this._grainSize=this.toSeconds(e),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(e){const t=this.toSeconds(e);ri(t,0),this._overlap=t}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach((e=>e.dispose())),this}}class Na extends ua{constructor(){super(...arguments),this.name="Abs",this._abs=new ha({context:this.context,mapping:e=>Math.abs(e)<.001?0:Math.abs(e)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class Da extends ua{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new ha({context:this.context,mapping:e=>2*Math.abs(e)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ma extends ua{constructor(){super(...arguments),this.name="Negate",this._multiply=new pa({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Ba extends Mr{constructor(){super(Object.assign(Mi(Ba.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new _r({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Ma({context:this.context}),this.subtrahend=this._param,Sr(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Mr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Ra extends ua{constructor(){super(Object.assign(Mi(Ra.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new ha({context:this.context,length:127,mapping:e=>e<=0?0:1}),this._scale=this.input=new pa({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Fa extends Mr{constructor(){super(Object.assign(Mi(Fa.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const e=Mi(Fa.getDefaults(),arguments,["value"]);this._subtract=this.input=new Ba({context:this.context,value:e.value}),this._gtz=this.output=new Ra({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Qi(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Mr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class Oa extends ua{constructor(){super(Object.assign(Mi(Oa.getDefaults(),arguments,["value"]))),this.name="Pow";const e=Mi(Oa.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new ha({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(ua.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class La extends xa{constructor(){super(Object.assign(Mi(La.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const e=Mi(La.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new Oa({context:this.context,value:e.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(xa.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(e){this._exp.value=e}dispose(){return super.dispose(),this._exp.dispose(),this}}class za extends Mr{constructor(){super(Mi(Mr.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const e=Mi(Mr.getDefaults(),arguments,["value","units"]);this._lastVal=e.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new Dr({context:this.context,offset:e.value,units:e.units}).start(0),this.setValueAtTime(e.value,0)}_onTick(e){const t=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==t&&(this._lastVal=t,this._constantSource.offset.setValueAtTime(t,e))}_anchorValue(e){const t=super.getValueAtTime(this.context.transport.seconds);this._lastVal=t,this._constantSource.offset.cancelAndHoldAtTime(e),this._constantSource.offset.setValueAtTime(t,e)}getValueAtTime(e){const t=new br(this.context,e).toSeconds();return super.getValueAtTime(t)}setValueAtTime(e,t){const n=new br(this.context,t).toSeconds();return super.setValueAtTime(e,n),this}linearRampToValueAtTime(e,t){const n=new br(this.context,t).toSeconds();return super.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,t){const n=new br(this.context,t).toSeconds();return super.exponentialRampToValueAtTime(e,n),this}setTargetAtTime(e,t,n){const s=new br(this.context,t).toSeconds();return super.setTargetAtTime(e,s,n),this}cancelScheduledValues(e){const t=new br(this.context,e).toSeconds();return super.cancelScheduledValues(t),this}setValueCurveAtTime(e,t,n,s){const i=new br(this.context,t).toSeconds();return n=this.toSeconds(n),super.setValueCurveAtTime(e,i,n,s),this}cancelAndHoldAtTime(e){const t=new br(this.context,e).toSeconds();return super.cancelAndHoldAtTime(t),this}setRampPoint(e){const t=new br(this.context,e).toSeconds();return super.setRampPoint(t),this}exponentialRampTo(e,t,n){const s=new br(this.context,n).toSeconds();return super.exponentialRampTo(e,t,s),this}linearRampTo(e,t,n){const s=new br(this.context,n).toSeconds();return super.linearRampTo(e,t,s),this}targetRampTo(e,t,n){const s=new br(this.context,n).toSeconds();return super.targetRampTo(e,t,s),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class Va extends Er{constructor(){super(Mi(Va.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Mr({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=Mi(Va.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Er.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Ai(e))return e;{let n;for(n in Pa)if(Pa[n][t]===e)return n;return e}}_setCurve(e,t,n){if(Ai(n)&&Reflect.has(Pa,n)){const s=Pa[n];mi(s)?"_decayCurve"!==e&&(this[e]=s[t]):this[e]=s}else{if(!yi(n)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+n);this[e]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){ii(["linear","exponential"].some((t=>t===e)),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let n=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),i=this.getValueAtTime(e);if(i>0){n=(1-i)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(t,n,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(t,n,e);else{this._sig.cancelAndHoldAtTime(e);let s=this._attackCurve;for(let e=1;e<s.length;e++)if(s[e-1]<=i&&i<=s[e]){s=this._attackCurve.slice(e),s[0]=i;break}this._sig.setValueCurveAtTime(s,e,n,t)}if(s&&this.sustain<1){const i=t*this.sustain,r=e+n;this.log("decay",r),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,s+r):this._sig.exponentialApproachValueAtTime(i,r,s)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,e):(ii(yi(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,n,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,n=1){return t=this.toSeconds(t),this.triggerAttack(t,n),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,n=0){return Br(this,e,t,n),this}asArray(e=1024){return Ci(this,void 0,void 0,(function*(){const t=e/this.context.sampleRate,n=new er(1,t,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),r=.1*i,a=i+r,o=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/a,decay:t*this.toSeconds(this.decay)/a,release:t*this.toSeconds(this.release)/a,context:n}));o._sig.toDestination(),o.triggerAttackRelease(t*(s+r)/a,0);return(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}xi([Sa(0)],Va.prototype,"attack",void 0),xi([Sa(0)],Va.prototype,"decay",void 0),xi([Ea(0,1)],Va.prototype,"sustain",void 0),xi([Sa(0)],Va.prototype,"release",void 0);const Pa=(()=>{const e=128;let t,n;const s=[];for(t=0;t<e;t++)s[t]=Math.sin(t/127*(Math.PI/2));const i=[];for(t=0;t<127;t++){n=t/127;const e=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[t]=e/10+.83*n}i[127]=1;const r=[];for(t=0;t<e;t++)r[t]=Math.ceil(t/127*5)/5;const a=[];for(t=0;t<e;t++)n=t/127,a[t]=.5*(1-Math.cos(Math.PI*n));const o=[];for(t=0;t<e;t++){n=t/127;const e=4*Math.pow(n,3)+.2,s=Math.cos(e*Math.PI*2*n);o[t]=Math.abs(s*(1-n))}function l(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=1-e[n];return t}return{bounce:{In:l(o),Out:o},cosine:{In:s,Out:(c=s,c.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:l(i)},sine:{In:a,Out:l(a)},step:{In:r,Out:l(r)}};var c})();class Wa extends Er{constructor(){super(Mi(Wa.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=Mi(Wa.getDefaults(),arguments);this._volume=this.output=new Kr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Qi(this,"volume")}static getDefaults(){return Object.assign(Er.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const n=this["_original_"+e]=this[e];this[e]=(...e)=>{const s=e[t],i=this.context.transport.schedule((s=>{e[t]=s,n.apply(this,e)}),s);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach((e=>this.context.transport.clear(e))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,t,n,s){const i=this.toSeconds(n),r=this.toSeconds(t);return this.triggerAttack(e,i,s),this.triggerRelease(i+r),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ga extends Wa{constructor(){super(Mi(Ga.getDefaults(),arguments));const e=Mi(Ga.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Wa.getDefaults(),{detune:0,onsilence:$i,portamento:0})}triggerAttack(e,t,n=1){this.log("triggerAttack",e,t,n);const s=this.toSeconds(t);return this._triggerEnvelopeAttack(s,n),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const n=this.toSeconds(t),s=e instanceof gr?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const e=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,e,n)}else this.frequency.setValueAtTime(s,n);return this}}xi([Sa(0)],Ga.prototype,"portamento",void 0);class Ua extends Va{constructor(){super(Mi(Ua.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new _r({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ja extends Ga{constructor(){super(Mi(ja.getDefaults(),arguments)),this.name="Synth";const e=Mi(ja.getDefaults(),arguments);this.oscillator=new ba(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ua(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Qi(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ga.getDefaults(),{envelope:Object.assign(Ri(Va.getDefaults(),Object.keys(Er.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ri(ba.getDefaults(),[...Object.keys(ea.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+t+n)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class qa extends Ga{constructor(){super(Mi(qa.getDefaults(),arguments)),this.name="ModulationSynth";const e=Mi(qa.getDefaults(),arguments);this._carrier=new ja({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ja({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Mr({context:this.context,units:"frequency"}),this.detune=new Mr({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new pa({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new _r({context:this.context,gain:0}),Qi(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ga.getDefaults(),{harmonicity:3,oscillator:Object.assign(Ri(ba.getDefaults(),[...Object.keys(ea.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Ri(Va.getDefaults(),Object.keys(Er.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Ri(ba.getDefaults(),[...Object.keys(ea.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Ri(Va.getDefaults(),Object.keys(Er.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Ha extends qa{constructor(){super(Mi(Ha.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new da({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Ya extends Er{constructor(){super(Mi(Ya.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=Mi(Ya.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new kr({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new kr({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new kr({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new kr({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(Er.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){ii(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let n=0;n<e;n++){const s=19980*Math.pow(n/e,2)+20;t[n]=s}const n=new Float32Array(e),s=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(t,n,s),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Ka extends Er{constructor(){super(Mi(Ka.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new _r({context:this.context}),this.output=new _r({context:this.context}),this._filters=[];const e=Mi(Ka.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new Mr({context:this.context,units:"positive",value:e.Q}),this.frequency=new Mr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Mr({context:this.context,units:"cents",value:e.detune}),this.gain=new Mr({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Qi(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Er.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){ii(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),`Invalid filter type: ${e}`),this._type=e,this._filters.forEach((t=>t.type=e))}get rolloff(){return this._rolloff}set rolloff(e){const t=fi(e)?e:parseInt(e,10),n=[-12,-24,-48,-96];let s=n.indexOf(t);ii(-1!==s,`rolloff can only be ${n.join(", ")}`),s+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach((e=>e.disconnect())),this._filters=new Array(s);for(let e=0;e<s;e++){const t=new Ya({context:this.context});t.type=this._type,this.frequency.connect(t.frequency),this.detune.connect(t.detune),this.Q.connect(t.Q),this.gain.connect(t.gain),this._filters[e]=t}this._internalChannels=this._filters,Sr(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new Ya({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(e).map((()=>1));return this._filters.forEach((()=>{t.getFrequencyResponse(e).forEach(((e,t)=>n[t]*=e))})),t.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((e=>{e.dispose()})),Xi(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Za extends Va{constructor(){super(Mi(Za.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const e=Mi(Za.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Oa({context:this.context,value:e.exponent}),this._scale=this.output=new xa({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Va.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);ri(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Qa extends Ga{constructor(){super(Mi(Qa.getDefaults(),arguments)),this.name="MonoSynth";const e=Mi(Qa.getDefaults(),arguments);this.oscillator=new ba(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Ka(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Za(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Ua(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Qi(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ga.getDefaults(),{envelope:Object.assign(Ri(Va.getDefaults(),Object.keys(Er.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Ri(Ka.getDefaults(),Object.keys(Er.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Ri(Za.getDefaults(),Object.keys(Er.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Ri(ba.getDefaults(),Object.keys(ea.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+t+n)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Xa extends Ga{constructor(){super(Mi(Xa.getDefaults(),arguments)),this.name="DuoSynth";const e=Mi(Xa.getDefaults(),arguments);this.voice0=new Qa(Object.assign(e.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new Qa(Object.assign(e.voice1,{context:this.context})),this.harmonicity=new pa({context:this.context,units:"positive",value:e.harmonicity}),this._vibrato=new ka({frequency:e.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new _r({context:this.context,units:"normalRange",gain:e.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Mr({context:this.context,units:"frequency",value:440}),this.detune=new Mr({context:this.context,units:"cents",value:e.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Qi(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(e){return e=this.toSeconds(e),this.voice0.envelope.getValueAtTime(e)+this.voice1.envelope.getValueAtTime(e)}static getDefaults(){return Di(Ga.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Di(Ri(Qa.getDefaults(),Object.keys(Ga.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Di(Ri(Qa.getDefaults(),Object.keys(Ga.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(e,t){this.voice0._triggerEnvelopeAttack(e,t),this.voice1._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this.voice0._triggerEnvelopeRelease(e),this.voice1._triggerEnvelopeRelease(e),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class $a extends qa{constructor(){super(Mi($a.getDefaults(),arguments)),this.name="FMSynth";const e=Mi($a.getDefaults(),arguments);this.modulationIndex=new pa({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(qa.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const Ja=[1,1.483,1.932,2.546,2.63,3.897];class eo extends Ga{constructor(){super(Mi(eo.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const e=Mi(eo.getDefaults(),arguments);this.detune=new Mr({context:this.context,units:"cents",value:e.detune}),this.frequency=new Mr({context:this.context,units:"frequency"}),this._amplitude=new _r({context:this.context,gain:0}).connect(this.output),this._highpass=new Ka({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let t=0;t<Ja.length;t++){const n=new ma({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:0===t?()=>this.onsilence(this):$i,type:"square"});n.connect(this._highpass),this._oscillators[t]=n;const s=new pa({context:this.context,value:Ja[t]});this._freqMultipliers[t]=s,this.frequency.chain(s,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new xa({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new Va({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return Di(Ga.getDefaults(),{envelope:Object.assign(Ri(Va.getDefaults(),Object.keys(Er.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,t=1){return this.envelope.triggerAttack(e,t),this._oscillators.forEach((t=>t.start(e))),0===this.envelope.sustain&&this._oscillators.forEach((t=>{t.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))})),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach((t=>t.stop(e+this.toSeconds(this.envelope.release)))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach((t=>t.modulationIndex.value=e))}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach((t=>t.harmonicity.value=e))}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach((e=>e.dispose())),this._freqMultipliers.forEach((e=>e.dispose())),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class to extends ja{constructor(){super(Mi(to.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=Mi(to.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Qi(this,["oscillator","envelope"])}static getDefaults(){return Di(Ga.getDefaults(),ja.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const n=this.toSeconds(t),s=this.toFrequency(e instanceof gr?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(s,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}xi([Ea(0)],to.prototype,"octaves",void 0),xi([Sa(0)],to.prototype,"pitchDecay",void 0);class no extends Wa{constructor(){super(Mi(no.getDefaults(),arguments)),this.name="NoiseSynth";const e=Mi(no.getDefaults(),arguments);this.noise=new na(Object.assign({context:this.context},e.noise)),this.envelope=new Ua(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Wa.getDefaults(),{envelope:Object.assign(Ri(Va.getDefaults(),Object.keys(Er.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Ri(na.getDefaults(),Object.keys(ea.getDefaults())),{type:"white"})})}triggerAttack(e,t=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,t),this.noise.start(e),0===this.envelope.sustain&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,t,n=1){return t=this.toSeconds(t),e=this.toSeconds(e),this.triggerAttack(t,n),this.triggerRelease(t+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const so=new Set;function io(e){so.add(e)}function ro(e,t){const n=`registerProcessor("${e}", ${t})`;so.add(n)}class ao extends Er{constructor(e){super(e),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=$i;const t=URL.createObjectURL(new Blob([Array.from(so).join("\n")],{type:"text/javascript"})),n=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(t,n).then((()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(n,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))}))}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}io('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');io("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");io("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const oo="feedback-comb-filter";ro(oo,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class lo extends ao{constructor(){super(Mi(lo.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const e=Mi(lo.getDefaults(),arguments,["delayTime","resonance"]);this.input=new _r({context:this.context}),this.output=new _r({context:this.context}),this.delayTime=new kr({context:this.context,value:e.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new kr({context:this.context,value:e.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),Qi(this,["resonance","delayTime"])}_audioWorkletName(){return oo}static getDefaults(){return Object.assign(Er.getDefaults(),{delayTime:.1,resonance:.5})}onReady(e){Sr(this.input,e,this.output);const t=e.parameters.get("delayTime");this.delayTime.setParam(t);const n=e.parameters.get("feedback");this.resonance.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class co extends Er{constructor(){super(Mi(co.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const e=Mi(co.getDefaults(),arguments,["frequency","type"]);this._frequency=e.frequency,this._type=e.type,this.input=new _r({context:this.context}),this.output=new _r({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(Er.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const e=this._filter,t=this.toFrequency(this._frequency),n=1/(2*Math.PI*t);if("lowpass"===this._type){const e=1/(n*this.context.sampleRate),t=e-1;this._filter=this.context.createIIRFilter([e,0],[1,t])}else{const e=1/(n*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,e])}this.input.chain(this._filter,this.output),e&&this.context.setTimeout((()=>{this.disposed||(this.input.disconnect(e),e.disconnect())}),this.blockTime)}get frequency(){return this._frequency}set frequency(e){this._frequency=e,this._createFilter()}get type(){return this._type}set type(e){this._type=e,this._createFilter()}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let n=0;n<e;n++){const s=19980*Math.pow(n/e,2)+20;t[n]=s}const n=new Float32Array(e),s=new Float32Array(e);return this._filter.getFrequencyResponse(t,n,s),n}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class uo extends Er{constructor(){super(Mi(uo.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const e=Mi(uo.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new lo({context:this.context,delayTime:e.delayTime,resonance:e.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new co({context:this.context,frequency:e.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(Er.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(e){this._lowpass.frequency=e}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class ho extends Wa{constructor(){super(Mi(ho.getDefaults(),arguments)),this.name="PluckSynth";const e=Mi(ho.getDefaults(),arguments);this._noise=new na({context:this.context,type:"pink"}),this.attackNoise=e.attackNoise,this._lfcf=new uo({context:this.context,dampening:e.dampening,resonance:e.resonance}),this.resonance=e.resonance,this.release=e.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Di(Wa.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(e){this._lfcf.dampening=e}triggerAttack(e,t){const n=this.toFrequency(e);t=this.toSeconds(t);const s=1/n;return this._lfcf.delayTime.setValueAtTime(s,t),this._noise.start(t),this._noise.stop(t+s*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(t),this._lfcf.resonance.setValueAtTime(this.resonance,t),this}triggerRelease(e){return this._lfcf.resonance.linearRampTo(0,this.release,e),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class po extends Wa{constructor(){super(Mi(po.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const e=Mi(po.getDefaults(),arguments,["voice","options"]);ii(!fi(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Wa.getDefaults(),{maxPolyphony:32,options:{},voice:ja})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex((t=>t.voice===e));this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return e.connect(this.output),this._voices.push(e),e}ui("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,n){e.forEach((e=>{const s=new Wr(this.context,e).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(e,t,n),this._activeVoices.push({midi:s,voice:i,released:!1}),this.log("triggerAttack",e,t))}))}_triggerRelease(e,t){e.forEach((e=>{const n=new Wr(this.context,e).toMidi(),s=this._activeVoices.find((({midi:e,released:t})=>e===n&&!t));s&&(s.voice.triggerRelease(t),s.released=!0,this.log("triggerRelease",e,t))}))}_scheduleEvent(e,t,n,s){ii(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===e?this._triggerAttack(t,n,s):this._triggerRelease(t,n):this.context.setTimeout((()=>{this._scheduleEvent(e,t,n,s)}),n-this.now())}triggerAttack(e,t,n){Array.isArray(e)||(e=[e]);const s=this.toSeconds(t);return this._scheduleEvent("attack",e,s,n),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const n=this.toSeconds(t);return this._scheduleEvent("release",e,n),this}triggerAttackRelease(e,t,n,s){const i=this.toSeconds(n);if(this.triggerAttack(e,i,s),yi(t)){ii(yi(e),"If the duration is an array, the notes must also be an array");for(let n=0;n<e.length;n++){const s=t[Math.min(n,t.length-1)],r=this.toSeconds(s);ii(r>0,"The duration must be greater than 0"),this.triggerRelease(e[n],i+r)}}else{const n=this.toSeconds(t);ii(n>0,"The duration must be greater than 0"),this.triggerRelease(e,i+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(e){const t=Ri(e,["onsilence","context"]);return this.options=Di(this.options,t),this._voices.forEach((e=>e.set(t))),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach((({voice:e})=>{e.triggerRelease(t)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((e=>e.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class fo extends Wa{constructor(){super(Mi(fo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=Mi(fo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),t={};Object.keys(e.urls).forEach((n=>{const s=parseInt(n,10);if(ii(wi(n)||fi(s)&&isFinite(s),`url key is neither a note or midi pitch: ${n}`),wi(n)){const s=new gr(this.context,n).toMidi();t[s]=e.urls[n]}else fi(s)&&isFinite(s)&&(t[s]=e.urls[s])})),this._buffers=new Pr({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Wa.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:$i,onerror:$i,release:.1,urls:{}})}_findClosest(e){let t=0;for(;t<96;){if(this._buffers.has(e+t))return-t;if(this._buffers.has(e-t))return t;t++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,n=1){return this.log("triggerAttack",e,t,n),Array.isArray(e)||(e=[e]),e.forEach((e=>{const s=hr(new gr(this.context,e).toFrequency()),i=Math.round(s),r=s-i,a=this._findClosest(i),o=i-a,l=this._buffers.get(o),c=lr(a+r),u=new ta({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);u.start(t,0,l.duration/c,n),yi(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const e=this._activeSources.get(i),t=e.indexOf(u);-1!==t&&e.splice(t,1)}}})),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach((e=>{const n=new gr(this.context,e).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const e=this._activeSources.get(n);t=this.toSeconds(t),e.forEach((e=>{e.stop(t)})),this._activeSources.set(n,[])}})),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach((e=>{for(;e.length;){e.shift().stop(t)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,n,s=1){const i=this.toSeconds(n);return this.triggerAttack(e,i,s),yi(t)?(ii(yi(e),"notes must be an array when duration is array"),e.forEach(((e,n)=>{const s=t[Math.min(n,t.length-1)];this.triggerRelease(e,i+this.toSeconds(s))}))):this.triggerRelease(e,i+this.toSeconds(t)),this}add(e,t,n){if(ii(wi(e)||isFinite(e),`note must be a pitch or midi: ${e}`),wi(e)){const s=new gr(this.context,e).toMidi();this._buffers.add(s,t,n)}else this._buffers.add(e,t,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((e=>{e.forEach((e=>e.dispose()))})),this._activeSources.clear(),this}}xi([Sa(0)],fo.prototype,"attack",void 0),xi([Sa(0)],fo.prototype,"release",void 0);class mo extends xr{constructor(){super(Mi(mo.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Cr("stopped"),this._startOffset=0;const e=Mi(mo.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(xr.getDefaults(),{callback:$i,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,(e=>{let t;if("started"===e.state){-1!==e.id&&this.context.transport.clear(e.id);const n=e.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||fi(this._loop)&&this._loop>1){t=1/0,fi(this._loop)&&(t=this._loop*this._getLoopDuration());const s=this._state.getAfter(n);null!==s&&(t=Math.min(t,s.time-n)),t!==1/0&&(this._state.setStateAtTime("stopped",n+t+1,{id:-1}),t=new Ur(this.context,t));const i=new Ur(this.context,this._getLoopDuration());e.id=this.context.transport.scheduleRepeat(this._tick.bind(this),i,new Ur(this.context,n),t)}else e.id=this.context.transport.schedule(this._tick.bind(this),new Ur(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const t=this.toTicks(e);return"stopped"===this._state.getValueAtTime(t)&&(this._state.add({id:-1,state:"started",time:t}),this._rescheduleEvents(t)),this}stop(e){this.cancel(e);const t=this.toTicks(e);if("started"===this._state.getValueAtTime(t)){this._state.setStateAtTime("stopped",t,{id:-1});const e=this._state.getBefore(t);let n=t;null!==e&&(n=e.time),this._rescheduleEvents(n)}return this}cancel(e){e=Bi(e,-1/0);const t=this.toTicks(e);return this._state.forEachFrom(t,(e=>{this.context.transport.clear(e.id)})),this._state.cancel(t),this}_tick(e){const t=this.context.transport.getTicksAtTime(e);if(!this.mute&&"started"===this._state.getValueAtTime(t)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let t=.02;gi(this.humanize)||(t=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*t}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new Ur(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new Ur(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,t=this._state.get(e);if(null!==t&&"started"===t.state){const n=this._getLoopDuration();return(e-t.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class go extends xr{constructor(){super(Mi(go.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const e=Mi(go.getDefaults(),arguments,["callback","interval"]);this._event=new mo({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(xr.getDefaults(),{interval:"4n",callback:$i,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(e){this._event.loop=e===1/0||e}dispose(){return super.dispose(),this._event.dispose(),this}}class yo extends mo{constructor(){super(Mi(yo.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new Cr("stopped"),this._events=new Set;const e=Mi(yo.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,e.events.forEach((e=>{yi(e)?this.add(e[0],e[1]):this.add(e)}))}static getDefaults(){return Object.assign(mo.getDefaults(),{events:[]})}start(e,t){const n=this.toTicks(e);if("started"!==this._state.getValueAtTime(n)){t=Bi(t,this._loop?this._loopStart:0),t=this._loop?Bi(t,this._loopStart):Bi(t,0);const e=this.toTicks(t);this._state.add({id:-1,offset:e,state:"started",time:n}),this._forEach((t=>{this._startNote(t,n,e)}))}return this}_startNote(e,t,n){t-=n,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<n&&(t+=this._getLoopDuration()),e.start(new Ur(this.context,t))):e.startOffset<this._loopStart&&e.startOffset>=n&&(e.loop=!1,e.start(new Ur(this.context,t))):e.startOffset>=n&&e.start(new Ur(this.context,t))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach((e=>{e.startOffset+=this._startOffset}))}stop(e){const t=this.toTicks(e);return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._forEach((t=>{t.stop(e)})),this}at(e,t){const n=new br(this.context,e).toTicks(),s=new Ur(this.context,1).toSeconds(),i=this._events.values();let r=i.next();for(;!r.done;){const e=r.value;if(Math.abs(n-e.startOffset)<s)return di(t)&&(e.value=t),e;r=i.next()}return di(t)?(this.add(e,t),this.at(e)):null}add(e,t){e instanceof Object&&Reflect.has(e,"time")&&(e=(t=e).time);const n=this.toTicks(e);let s;return t instanceof mo?(s=t,s.callback=this._tick.bind(this)):s=new mo({callback:this._tick.bind(this),context:this.context,value:t}),s.startOffset=n,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(e){this._state.forEach((t=>{"started"===t.state?this._startNote(e,t.time,t.offset):e.stop(new Ur(this.context,t.time))}))}remove(e,t){return mi(e)&&e.hasOwnProperty("time")&&(e=(t=e).time),e=this.toTicks(e),this._events.forEach((n=>{n.startOffset===e&&(hi(t)||di(t)&&n.value===t)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((e=>e.dispose())),this._events.clear(),this}cancel(e){return this._forEach((t=>t.cancel(e))),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach((t=>{t instanceof yo?t._forEach(e):e(t)})),this}_setAll(e,t){this._forEach((n=>{n[e]=t}))}_tick(e,t){this.mute||this.callback(e,t)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):"stopped"===e.state&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach((t=>{t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.loop=e,this._testLoopBoundries(t)}))}get loopEnd(){return new Ur(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach((t=>{t.loopEnd=e,this._testLoopBoundries(t)}))}get loopStart(){return new Ur(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach((e=>{e.loopStart=this.loopStart,this._testLoopBoundries(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*Ao(e){let t=0;for(;t<e.length;)t=vo(t,e),yield e[t],t++}function*wo(e){let t=e.length-1;for(;t>=0;)t=vo(t,e),yield e[t],t--}function*bo(e,t){for(;;)yield*t(e)}function vo(e,t){return Wi(e,0,t.length-1)}function*xo(e,t){let n=t?0:e.length-1;for(;;)n=vo(n,e),yield e[n],t?(n++,n>=e.length-1&&(t=!1)):(n--,n<=0&&(t=!0))}function*Co(e){let t=0,n=0;for(;t<e.length;)t=vo(t,e),yield e[t],n++,t+=n%2?2:-1}function*ko(e){let t=e.length-1,n=0;for(;t>=0;)t=vo(t,e),yield e[t],n++,t+=n%2?-2:1}function*Eo(e){const t=[];for(let n=0;n<e.length;n++)t.push(n);for(;t.length>0;){const n=vo(t.splice(Math.floor(t.length*Math.random()),1)[0],e);yield e[n]}}function*So(e,t="up",n=0){switch(ii(e.length>0,"The array must have more than one value in it"),t){case"up":yield*bo(e,Ao);case"down":yield*bo(e,wo);case"upDown":yield*xo(e,!0);case"downUp":yield*xo(e,!1);case"alternateUp":yield*bo(e,Co);case"alternateDown":yield*bo(e,ko);case"random":yield*function*(e){for(;;){const t=Math.floor(Math.random()*e.length);yield e[t]}}(e);case"randomOnce":yield*bo(e,Eo);case"randomWalk":yield*function*(e){let t=Math.floor(Math.random()*e.length);for(;;)0===t?t++:t===e.length-1||Math.random()<.5?t--:t++,yield e[t]}(e)}}class Io extends go{constructor(){super(Mi(Io.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const e=Mi(Io.getDefaults(),arguments,["callback","values","pattern"]);this.callback=e.callback,this._values=e.values,this._pattern=So(e.values,e.pattern),this._type=e.pattern}static getDefaults(){return Object.assign(go.getDefaults(),{pattern:"up",values:[],callback:$i})}_tick(e){const t=this._pattern.next();this._value=t.value,this.callback(e,this._value)}get values(){return this._values}set values(e){this._values=e,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(e){this._type=e,this._pattern=So(this._values,this._type)}}class To extends mo{constructor(){super(Mi(To.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new yo({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const e=Mi(To.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(Ri(mo.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,t){null!==t&&this.callback(e,t)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,t){return this._part.start(e,t?this._indexTime(t):t),this}stop(e){return this._part.stop(e),this}get subdivision(){return new Ur(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(e,t)=>e[t],set:(e,t,n)=>(Ai(t)&&isFinite(parseInt(t,10))&&yi(n)?e[t]=this._createSequence(n):e[t]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,t,n){e.forEach(((e,s)=>{const i=s*t+n;if(yi(e))this._rescheduleSequence(e,t/e.length,i);else{const t=new Ur(this.context,i,"i").toSeconds();this._part.add(t,e)}}))}_indexTime(e){return new Ur(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this._part.loopEnd=0===e?this._indexTime(this._eventsArray.length):this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class _o extends Er{constructor(){super(Object.assign(Mi(_o.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Da({context:this.context}),this.a=new _r({context:this.context,gain:0}),this.b=new _r({context:this.context,gain:0}),this.output=new _r({context:this.context}),this._internalChannels=[this.a,this.b];const e=Mi(_o.getDefaults(),arguments,["fade"]);this.fade=new Mr({context:this.context,units:"normalRange",value:e.fade}),Qi(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Ir(this._split,this.a.gain,0),Ir(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Er.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class No extends Er{constructor(e){super(e),this.name="Effect",this._dryWet=new _o({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new _r({context:this.context}),this.effectReturn=new _r({context:this.context}),this.input=new _r({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Qi(this,"wet")}static getDefaults(){return Object.assign(Er.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Do extends No{constructor(e){super(e),this.name="LFOEffect",this._lfo=new ka({context:this.context,frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=e.type,Qi(this,["frequency","depth"])}static getDefaults(){return Object.assign(No.getDefaults(),{frequency:1,type:"sine",depth:1})}start(e){return this._lfo.start(e),this}stop(e){return this._lfo.stop(e),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Mo extends Do{constructor(){super(Mi(Mo.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const e=Mi(Mo.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new Ka(Object.assign(e.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency}static getDefaults(){return Object.assign(Do.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(e){this._lfo.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._lfo.max=this._lfo.min*Math.pow(2,e)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Bo extends Er{constructor(){super(Object.assign(Mi(Bo.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=Mi(Bo.getDefaults(),arguments,["pan"]);this.pan=new kr({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Qi(this,"pan")}static getDefaults(){return Object.assign(Er.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Ro extends Do{constructor(){super(Mi(Ro.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const e=Mi(Ro.getDefaults(),arguments,["frequency"]);this._panner=new Bo({context:this.context,channelCount:e.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Do.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Fo extends Er{constructor(){super(Mi(Fo.getDefaults(),arguments,["smoothing"])),this.name="Follower";const e=Mi(Fo.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new Na({context:this.context}),this._lowpass=this.output=new co({context:this.context,frequency:1/this.toSeconds(e.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=e.smoothing}static getDefaults(){return Object.assign(Er.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(e){this._smoothing=e,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class Oo extends No{constructor(){super(Mi(Oo.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const e=Mi(Oo.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new Fo({context:this.context,smoothing:e.follower}),this._sweepRange=new La({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this._inputBoost=new _r({context:this.context}),this._bandpass=new Ka({context:this.context,rolloff:-48,frequency:0,Q:e.Q}),this._peaking=new Ka({context:this.context,type:"peaking"}),this._peaking.gain.value=e.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=e.sensitivity,Qi(this,["gain","Q"])}static getDefaults(){return Object.assign(No.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(e){this._follower.smoothing=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._setSweepRange()}get sensitivity(){return or(1/this._inputBoost.gain.value)}set sensitivity(e){this._inputBoost.gain.value=1/ar(e)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const Lo="bit-crusher";ro(Lo,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class zo extends No{constructor(){super(Mi(zo.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const e=Mi(zo.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new Vo({context:this.context,bits:e.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(No.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class Vo extends ao{constructor(){super(Mi(Vo.getDefaults(),arguments)),this.name="BitCrusherWorklet";const e=Mi(Vo.getDefaults(),arguments);this.input=new _r({context:this.context}),this.output=new _r({context:this.context}),this.bits=new kr({context:this.context,value:e.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(ao.getDefaults(),{bits:12})}_audioWorkletName(){return Lo}onReady(e){Sr(this.input,e,this.output);const t=e.parameters.get("bits");this.bits.setParam(t)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Po extends No{constructor(){super(Mi(Po.getDefaults(),arguments,["order"])),this.name="Chebyshev";const e=Mi(Po.getDefaults(),arguments,["order"]);this._shaper=new ha({context:this.context,length:4096}),this._order=e.order,this.connectEffect(this._shaper),this.order=e.order,this.oversample=e.oversample}static getDefaults(){return Object.assign(No.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(e,t,n){return n.has(t)||(0===t?n.set(t,0):1===t?n.set(t,e):n.set(t,2*e*this._getCoefficient(e,t-1,n)-this._getCoefficient(e,t-2,n))),n.get(t)}get order(){return this._order}set order(e){this._order=e,this._shaper.setMap((t=>this._getCoefficient(t,e,new Map)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Wo extends Er{constructor(){super(Mi(Wo.getDefaults(),arguments,["channels"])),this.name="Split";const e=Mi(Wo.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(Er.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Go extends Er{constructor(){super(Mi(Go.getDefaults(),arguments,["channels"])),this.name="Merge";const e=Mi(Go.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(Er.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Uo extends Er{constructor(e){super(e),this.name="StereoEffect",this.input=new _r({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new _o({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new Wo({context:this.context,channels:2}),this._merge=new Go({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Qi(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Sr(...e),Ir(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Sr(...e),Ir(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(Er.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class jo extends Uo{constructor(e){super(e),this.feedback=new Mr({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new _r({context:this.context}),this._feedbackR=new _r({context:this.context}),this._feedbackSplit=new Wo({context:this.context,channels:2}),this._feedbackMerge=new Go({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Qi(this,["feedback"])}static getDefaults(){return Object.assign(Uo.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class qo extends jo{constructor(){super(Mi(qo.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const e=Mi(qo.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new ka({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new ka({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new zr({context:this.context}),this._delayNodeR=new zr({context:this.context}),this.frequency=this._lfoL.frequency,Qi(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(jo.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const t=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-t,0),this._lfoL.max=this._delayTime+t,this._lfoR.min=Math.max(this._delayTime-t,0),this._lfoR.max=this._delayTime+t}get delayTime(){return 1e3*this._delayTime}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Ho extends No{constructor(){super(Mi(Ho.getDefaults(),arguments,["distortion"])),this.name="Distortion";const e=Mi(Ho.getDefaults(),arguments,["distortion"]);this._shaper=new ha({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(No.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const t=100*e,n=Math.PI/180;this._shaper.setMap((e=>Math.abs(e)<.001?0:(3+t)*e*20*n/(Math.PI+t*Math.abs(e))))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Yo extends No{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new _r({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Qi(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(No.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Ko extends Yo{constructor(){super(Mi(Ko.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const e=Mi(Ko.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new zr({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Qi(this,"delayTime")}static getDefaults(){return Object.assign(Yo.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Zo extends Er{constructor(e){super(e),this.name="PhaseShiftAllpass",this.input=new _r({context:this.context}),this.output=new _r({context:this.context}),this.offset90=new _r({context:this.context});this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),Sr(this.input,...this._bank0,this._oneSampleDelay,this.output),Sr(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(e){return e.map((e=>{const t=[[e*e,0,-1],[1,0,-e*e]];return this.context.createIIRFilter(t[0],t[1])}))}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach((e=>e.disconnect())),this._bank1.forEach((e=>e.disconnect())),this._oneSampleDelay.disconnect(),this}}class Qo extends No{constructor(){super(Mi(Qo.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const e=Mi(Qo.getDefaults(),arguments,["frequency"]);this.frequency=new Mr({context:this.context,units:"frequency",value:e.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new la({context:this.context,type:"sine"}),this._cosine=new ca({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new pa({context:this.context}),this._cosineMultiply=new pa({context:this.context}),this._negate=new Ma({context:this.context}),this._add=new va({context:this.context}),this._phaseShifter=new Zo({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const t=this.immediate();this._sine.start(t),this._cosine.start(t)}static getDefaults(){return Object.assign(No.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const Xo=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],$o=[225,556,441,341];class Jo extends Uo{constructor(){super(Mi(Jo.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const e=Mi(Jo.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new Mr({context:this.context,value:e.roomSize,units:"normalRange"}),this._allpassFiltersL=$o.map((e=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=e,t})),this._allpassFiltersR=$o.map((e=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=e,t})),this._combFilters=Xo.map(((t,n)=>{const s=new uo({context:this.context,dampening:e.dampening,delayTime:t});return n<Xo.length/2?this.connectEffectLeft(s,...this._allpassFiltersL):this.connectEffectRight(s,...this._allpassFiltersR),this.roomSize.connect(s.resonance),s})),Qi(this,["roomSize"])}static getDefaults(){return Object.assign(Uo.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(e){this._combFilters.forEach((t=>t.dampening=e))}dispose(){return super.dispose(),this._allpassFiltersL.forEach((e=>e.disconnect())),this._allpassFiltersR.forEach((e=>e.disconnect())),this._combFilters.forEach((e=>e.dispose())),this.roomSize.dispose(),this}}const el=[.06748,.06404,.08212,.09004],tl=[.773,.802,.753,.733],nl=[347,113,37];class sl extends Uo{constructor(){super(Mi(sl.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const e=Mi(sl.getDefaults(),arguments,["roomSize"]);this.roomSize=new Mr({context:this.context,value:e.roomSize,units:"normalRange"}),this._scaleRoomSize=new xa({context:this.context,min:-.733,max:.197}),this._allpassFilters=nl.map((e=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=e,t})),this._feedbackCombFilters=el.map(((e,t)=>{const n=new lo({context:this.context,delayTime:e});return this._scaleRoomSize.connect(n.resonance),n.resonance.value=tl[t],t<el.length/2?this.connectEffectLeft(...this._allpassFilters,n):this.connectEffectRight(...this._allpassFilters,n),n})),this.roomSize.connect(this._scaleRoomSize),Qi(this,["roomSize"])}static getDefaults(){return Object.assign(Uo.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach((e=>e.disconnect())),this._feedbackCombFilters.forEach((e=>e.dispose())),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class il extends jo{constructor(e){super(e),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Qi(this,["feedback"])}}class rl extends il{constructor(){super(Mi(rl.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const e=Mi(rl.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new zr({context:this.context,maxDelay:e.maxDelay}),this._rightDelay=new zr({context:this.context,maxDelay:e.maxDelay}),this._rightPreDelay=new zr({context:this.context,maxDelay:e.maxDelay}),this.delayTime=new Mr({context:this.context,units:"time",value:e.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Qi(this,["delayTime"])}static getDefaults(){return Object.assign(il.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class al extends Yo{constructor(){super(Mi(al.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const e=Mi(al.getDefaults(),arguments,["pitch"]);this._frequency=new Mr({context:this.context}),this._delayA=new zr({maxDelay:1,context:this.context}),this._lfoA=new ka({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new zr({maxDelay:1,context:this.context}),this._lfoB=new ka({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new _o({context:this.context}),this._crossFadeLFO=new ka({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new zr({delayTime:e.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Qi(this,"delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const t=this.now();this._lfoA.start(t),this._lfoB.start(t),this._crossFadeLFO.start(t),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Yo.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(e){this._pitch=e;let t=0;e<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,t=lr(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,t=lr(e)-1),this._frequency.value=t*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(e){this._windowSize=this.toSeconds(e),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class ol extends Uo{constructor(){super(Mi(ol.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const e=Mi(ol.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new ka({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new ka({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this.Q=new Mr({context:this.context,value:e.Q,units:"positive"}),this._filtersL=this._makeFilters(e.stages,this._lfoL),this._filtersR=this._makeFilters(e.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=e.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=e.baseFrequency,this.octaves=e.octaves,this._lfoL.start(),this._lfoR.start(),Qi(this,["frequency","Q"])}static getDefaults(){return Object.assign(Uo.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(e,t){const n=[];for(let s=0;s<e;s++){const e=this.context.createBiquadFilter();e.type="allpass",this.Q.connect(e.Q),t.connect(e.frequency),n.push(e)}return n}get octaves(){return this._octaves}set octaves(e){this._octaves=e;const t=this._baseFrequency*Math.pow(2,e);this._lfoL.max=t,this._lfoR.max=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach((e=>e.disconnect())),this._filtersR.forEach((e=>e.disconnect())),this.frequency.dispose(),this}}class ll extends No{constructor(){super(Mi(ll.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=Mi(ll.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(No.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){ri(e=this.toSeconds(e),.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){ri(e=this.toSeconds(e),0),this._preDelay=e,this.generate()}generate(){return Ci(this,void 0,void 0,(function*(){const e=this.ready,t=new er(2,this._decay+this._preDelay,this.context.sampleRate),n=new na({context:t}),s=new na({context:t}),i=new Go({context:t});n.connect(i,0,0),s.connect(i,0,1);const r=new _r({context:t}).toDestination();i.connect(r),n.start(0),s.start(0),r.gain.setValueAtTime(0,0),r.gain.setValueAtTime(1,this._preDelay),r.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const a=t.render();return this.ready=a.then($i),yield e,this._convolver.buffer=(yield a).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class cl extends Er{constructor(){super(Mi(cl.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new Wo({channels:2,context:this.context}),this._midAdd=new va({context:this.context}),this.mid=new pa({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Ba({context:this.context}),this.side=new pa({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class ul extends Er{constructor(){super(Mi(ul.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new _r({context:this.context}),this.side=new _r({context:this.context}),this._left=new va({context:this.context}),this._leftMult=new pa({context:this.context,value:Math.SQRT1_2}),this._right=new Ba({context:this.context}),this._rightMult=new pa({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Go({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class hl extends No{constructor(e){super(e),this.name="MidSideEffect",this._midSideMerge=new ul({context:this.context}),this._midSideSplit=new cl({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...e){this._midSend.chain(...e,this._midReturn)}connectEffectSide(...e){this._sideSend.chain(...e,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class dl extends hl{constructor(){super(Mi(dl.getDefaults(),arguments,["width"])),this.name="StereoWidener";const e=Mi(dl.getDefaults(),arguments,["width"]);this.width=new Mr({context:this.context,value:e.width,units:"normalRange"}),Qi(this,["width"]),this._twoTimesWidthMid=new pa({context:this.context,value:2}),this._twoTimesWidthSide=new pa({context:this.context,value:2}),this._midMult=new pa({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Ba({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),Ir(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new pa({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(hl.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class pl extends Uo{constructor(){super(Mi(pl.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const e=Mi(pl.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new ka({context:this.context,type:e.type,min:1,max:0}),this._lfoR=new ka({context:this.context,type:e.type,min:1,max:0}),this._amplitudeL=new _r({context:this.context}),this._amplitudeR=new _r({context:this.context}),this.frequency=new Mr({context:this.context,value:e.frequency,units:"frequency"}),this.depth=new Mr({context:this.context,value:e.depth,units:"normalRange"}),Qi(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=e.spread}static getDefaults(){return Object.assign(Uo.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class fl extends No{constructor(){super(Mi(fl.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const e=Mi(fl.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new zr({context:this.context,delayTime:0,maxDelay:e.maxDelay}),this._lfo=new ka({context:this.context,type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,Qi(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(No.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class ml extends Er{constructor(){super(Mi(ml.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const e=Mi(ml.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new _r({context:this.context}),this._split=new Wo({context:this.context,channels:e.channels}),this.input.connect(this._split),ri(e.channels,1);for(let t=0;t<e.channels;t++)this._analysers[t]=this.context.createAnalyser(),this._split.connect(this._analysers[t],t,0);this.size=e.size,this.type=e.type}static getDefaults(){return Object.assign(Er.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach(((e,t)=>{const n=this._buffers[t];"fft"===this._type?e.getFloatFrequencyData(n):"waveform"===this._type&&e.getFloatTimeDomainData(n)})),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(e){this._analysers.forEach(((t,n)=>{t.fftSize=2*e,this._buffers[n]=new Float32Array(e)}))}get channels(){return this._analysers.length}get type(){return this._type}set type(e){ii("waveform"===e||"fft"===e,`Analyser: invalid type: ${e}`),this._type=e}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach((t=>t.smoothingTimeConstant=e))}dispose(){return super.dispose(),this._analysers.forEach((e=>e.disconnect())),this._split.dispose(),this._gain.dispose(),this}}class gl extends Er{constructor(){super(Mi(gl.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new ml({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class yl extends gl{constructor(){super(Mi(yl.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const e=Mi(yl.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new ml({context:this.context,size:256,type:"waveform",channels:e.channels}),this.smoothing=e.smoothing,this.normalRange=e.normalRange}static getDefaults(){return Object.assign(gl.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return ui("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const e=this._analyser.getValue(),t=(1===this.channels?[e]:e).map((e=>{const t=e.reduce(((e,t)=>e+t*t),0),n=Math.sqrt(t/e.length);return this._rms=Math.max(n,this._rms*this.smoothing),this.normalRange?this._rms:or(this._rms)}));return 1===this.channels?t[0]:t}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Al extends gl{constructor(){super(Mi(Al.getDefaults(),arguments,["size"])),this.name="FFT";const e=Mi(Al.getDefaults(),arguments,["size"]);this.normalRange=e.normalRange,this._analyser.type="fft",this.size=e.size}static getDefaults(){return Object.assign(Er.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map((e=>this.normalRange?ar(e):e))}get size(){return this._analyser.size}set size(e){this._analyser.size=e}get smoothing(){return this._analyser.smoothing}set smoothing(e){this._analyser.smoothing=e}getFrequencyOfIndex(e){return ii(0<=e&&e<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),e*this.context.sampleRate/(2*this.size)}}class wl extends gl{constructor(){super(Mi(wl.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class bl extends gl{constructor(){super(Mi(bl.getDefaults(),arguments,["size"])),this.name="Waveform";const e=Mi(bl.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=e.size}static getDefaults(){return Object.assign(gl.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(e){this._analyser.size=e}}class vl extends Er{constructor(){super(Mi(vl.getDefaults(),arguments,["solo"])),this.name="Solo";const e=Mi(vl.getDefaults(),arguments,["solo"]);this.input=this.output=new _r({context:this.context}),vl._allSolos.has(this.context)||vl._allSolos.set(this.context,new Set),vl._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Er.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),vl._allSolos.get(this.context).forEach((e=>e._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){vl._soloed.has(this.context)||vl._soloed.set(this.context,new Set),vl._soloed.get(this.context).add(this)}_removeSolo(){vl._soloed.has(this.context)&&vl._soloed.get(this.context).delete(this)}_isSoloed(){return vl._soloed.has(this.context)&&vl._soloed.get(this.context).has(this)}_noSolos(){return!vl._soloed.has(this.context)||vl._soloed.has(this.context)&&0===vl._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),vl._allSolos.get(this.context).delete(this),this._removeSolo(),this}}vl._allSolos=new Map,vl._soloed=new Map;class xl extends Er{constructor(){super(Mi(xl.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=Mi(xl.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Bo({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Kr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Qi(this,["pan","volume"])}static getDefaults(){return Object.assign(Er.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Cl extends Er{constructor(){super(Mi(Cl.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=Mi(Cl.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new vl({solo:e.solo,context:this.context}),this._panVol=this.output=new xl({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Qi(this,["pan","volume"])}static getDefaults(){return Object.assign(Er.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Cl.buses.has(e)||Cl.buses.set(e,new _r({context:this.context})),Cl.buses.get(e)}send(e,t=0){const n=this._getBus(e),s=new _r({context:this.context,units:"decibels",gain:t});return this.connect(s),s.connect(n),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Cl.buses=new Map;class kl extends Er{constructor(){super(Mi(kl.getDefaults(),arguments)),this.name="Mono",this.input=new _r({context:this.context}),this._merge=this.output=new Go({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class El extends Er{constructor(){super(Mi(El.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new _r({context:this.context}),this.output=void 0,this.low=new Ka({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new Ka({context:this.context,frequency:0,type:"highpass"}),this.mid=new Ka({context:this.context,frequency:0,type:"lowpass"}),this.high=new Ka({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const e=Mi(El.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new Mr({context:this.context,units:"frequency",value:e.lowFrequency}),this.highFrequency=new Mr({context:this.context,units:"frequency",value:e.highFrequency}),this.Q=new Mr({context:this.context,units:"positive",value:e.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Qi(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(Er.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Xi(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class Sl extends Er{constructor(){super(...arguments),this.name="Listener",this.positionX=new kr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new kr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new kr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new kr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new kr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new kr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new kr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new kr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new kr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Er.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ji((e=>{e.listener=new Sl({context:e})})),Hi((e=>{e.listener.dispose()}));class Il extends Er{constructor(){super(Mi(Il.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const e=Mi(Il.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=e.panningModel,this.maxDistance=e.maxDistance,this.distanceModel=e.distanceModel,this.coneOuterGain=e.coneOuterGain,this.coneOuterAngle=e.coneOuterAngle,this.coneInnerAngle=e.coneInnerAngle,this.refDistance=e.refDistance,this.rolloffFactor=e.rolloffFactor,this.positionX=new kr({context:this.context,param:this._panner.positionX,value:e.positionX}),this.positionY=new kr({context:this.context,param:this._panner.positionY,value:e.positionY}),this.positionZ=new kr({context:this.context,param:this._panner.positionZ,value:e.positionZ}),this.orientationX=new kr({context:this.context,param:this._panner.orientationX,value:e.orientationX}),this.orientationY=new kr({context:this.context,param:this._panner.orientationY,value:e.orientationY}),this.orientationZ=new kr({context:this.context,param:this._panner.orientationZ,value:e.orientationZ})}static getDefaults(){return Object.assign(Er.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(e,t,n){return this.positionX.value=e,this.positionY.value=t,this.positionZ.value=n,this}setOrientation(e,t,n){return this.orientationX.value=e,this.orientationY.value=t,this.orientationZ.value=n,this}get panningModel(){return this._panner.panningModel}set panningModel(e){this._panner.panningModel=e}get refDistance(){return this._panner.refDistance}set refDistance(e){this._panner.refDistance=e}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(e){this._panner.rolloffFactor=e}get distanceModel(){return this._panner.distanceModel}set distanceModel(e){this._panner.distanceModel=e}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(e){this._panner.coneInnerAngle=e}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(e){this._panner.coneOuterAngle=e}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(e){this._panner.coneOuterGain=e}get maxDistance(){return this._panner.maxDistance}set maxDistance(e){this._panner.maxDistance=e}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class Tl extends Er{constructor(){super(Mi(Tl.getDefaults(),arguments)),this.name="Recorder";const e=Mi(Tl.getDefaults(),arguments);this.input=new _r({context:this.context}),ii(Tl.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:e.mimeType})}static getDefaults(){return Er.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==bi&&Reflect.has(bi,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return Ci(this,void 0,void 0,(function*(){ii("started"!==this.state,"Recorder is already started");const e=new Promise((e=>{const t=()=>{this._recorder.removeEventListener("start",t,!1),e()};this._recorder.addEventListener("start",t,!1)}));return this._recorder.start(),yield e}))}stop(){return Ci(this,void 0,void 0,(function*(){ii("stopped"!==this.state,"Recorder is not started");const e=new Promise((e=>{const t=n=>{this._recorder.removeEventListener("dataavailable",t,!1),e(n.data)};this._recorder.addEventListener("dataavailable",t,!1)}));return this._recorder.stop(),yield e}))}pause(){return ii("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class _l extends Er{constructor(){super(Mi(_l.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const e=Mi(_l.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new kr({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new kr({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new kr({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new kr({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new kr({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),Qi(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(Er.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Nl extends Er{constructor(){super(Object.assign(Mi(Nl.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const e=Mi(Nl.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new Fo({context:this.context,smoothing:e.smoothing}),this._gt=new Fa({context:this.context,value:ar(e.threshold)}),this.input=new _r({context:this.context}),this._gate=this.output=new _r({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(Er.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return or(this._gt.value)}set threshold(e){this._gt.value=ar(e)}get smoothing(){return this._follower.smoothing}set smoothing(e){this._follower.smoothing=e}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Dl extends Er{constructor(){super(Object.assign(Mi(Dl.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const e=Mi(Dl.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new _l({context:this.context,ratio:20,attack:.003,release:.01,threshold:e.threshold}),this.threshold=this._compressor.threshold,Qi(this,"threshold")}static getDefaults(){return Object.assign(Er.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Ml extends Er{constructor(){super(Object.assign(Mi(Ml.getDefaults(),arguments))),this.name="MidSideCompressor";const e=Mi(Ml.getDefaults(),arguments);this._midSideSplit=this.input=new cl({context:this.context}),this._midSideMerge=this.output=new ul({context:this.context}),this.mid=new _l(Object.assign(e.mid,{context:this.context})),this.side=new _l(Object.assign(e.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Qi(this,["mid","side"])}static getDefaults(){return Object.assign(Er.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Bl extends Er{constructor(){super(Object.assign(Mi(Bl.getDefaults(),arguments))),this.name="MultibandCompressor";const e=Mi(Bl.getDefaults(),arguments);this._splitter=this.input=new El({context:this.context,lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new _r({context:this.context}),this.low=new _l(Object.assign(e.low,{context:this.context})),this.mid=new _l(Object.assign(e.mid,{context:this.context})),this.high=new _l(Object.assign(e.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Qi(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(Er.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Rl extends Er{constructor(){super(Mi(Rl.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new _r({context:this.context}),this._internalChannels=[];const e=Mi(Rl.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new El({context:this.context,highFrequency:e.highFrequency,lowFrequency:e.lowFrequency}),this._lowGain=new _r({context:this.context,gain:e.low,units:"decibels"}),this._midGain=new _r({context:this.context,gain:e.mid,units:"decibels"}),this._highGain=new _r({context:this.context,gain:e.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Qi(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(Er.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Xi(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Fl extends Er{constructor(){super(Mi(Fl.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const e=Mi(Fl.getDefaults(),arguments,["url","onload"]);this._buffer=new Ji(e.url,(t=>{this.buffer=t,e.onload()})),this.input=new _r({context:this.context}),this.output=new _r({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=e.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(Er.getDefaults(),{normalize:!0,onload:$i})}load(e){return Ci(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(e)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(e){e&&this._buffer.set(e),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const t=this._buffer.get();this._convolver.buffer=t||null}get normalize(){return this._convolver.normalize}set normalize(e){this._convolver.normalize=e}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function Ol(){return sr().now()}function Ll(){return sr().immediate()}const zl=sr().transport;function Vl(){return sr().transport}const Pl=sr().destination,Wl=sr().destination;function Gl(){return sr().destination}const Ul=sr().listener;function jl(){return sr().listener}const ql=sr().draw;function Hl(){return sr().draw}const Yl=sr();function Kl(){return Ji.loaded()}const Zl=Ji,Ql=Pr,Xl=ta},8990:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var s="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var s=e[t];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")}(this);function r(e,t){if(t)e:{var n=i;e=e.split(".");for(var r=0;r<e.length-1;r++){var a=e[r];if(!(a in n))break e;n=n[a]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&s(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function o(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function l(e){if(!(e instanceof Array)){e=o(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}r("Symbol",(function(e){function t(e,t){this.g=e,s(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(s){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(s||"")+"_"+i++,s)}})),r("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<n.length;r++){var o=i[n[r]];"function"==typeof o&&"function"!=typeof o.prototype[e]&&s(o.prototype,e,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return e}));var c,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var h;e:{var d={};try{d.__proto__={a:!0},h=d.a;break e}catch(e){}h=!1}c=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=c;function f(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var s=Object.getOwnPropertyDescriptor(t,n);s&&Object.defineProperty(e,n,s)}else e[n]=t[n];e.ea=t.prototype}function m(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function g(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function y(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function A(e,t,n){return e.g=n,{value:t}}function w(e){this.g=new m,this.h=e}function b(e,t,n,s){try{var i=t.call(e.g.i,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.l=!1,i;var r=i.value}catch(t){return e.g.i=null,y(e.g,t),v(e)}return e.g.i=null,s.call(e.g,r),v(e)}function v(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(t){e.g.h=void 0,y(e.g,t)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function x(e){this.next=function(t){return g(e.g),e.g.i?t=b(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=v(e)),t},this.throw=function(t){return g(e.g),e.g.i?t=b(e,e.g.i.throw,t,e.g.o):(y(e.g,t),t=v(e)),t},this.return=function(t){return function(e,t){g(e.g);var n=e.g.i;return n?b(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),v(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function C(e,t){return t=new x(new w(t)),p&&e.prototype&&p(t,e.prototype),t}m.prototype.o=function(e){this.h=e},m.prototype.return=function(e){this.j={return:e},this.g=this.s};var k="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var s=arguments[n];if(s)for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e};r("Object.assign",(function(e){return e||k})),r("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.g=null}function s(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var r=i.setTimeout;n.prototype.i=function(e){r(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(s){n||(n=!0,e.call(t,s))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.m(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(e){return void this.l(e)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;r((function(){if(e.B()){var t=i.console;void 0!==t&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=i.CustomEvent,t=i.Event,n=i.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function s(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){r(e)}}:t}var i,r,a=new t((function(e,t){i=e,r=t}));return this.J(s(e,i),s(n,r)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(s.h){case 1:e(s.i);break;case 2:t(s.i);break;default:throw Error("Unexpected state: "+s.h)}}var s=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=s,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=o(e),r=i.next();!r.done;r=i.next())s(r.value).J(t,n)}))},t.all=function(e){var n=o(e),i=n.next();return i.done?s([]):new t((function(e,t){function r(t){return function(n){a[t]=n,0==--o&&e(a)}}var a=[],o=0;do{a.push(void 0),o++,s(i.value).J(r(a.length-1),t),i=n.next()}while(!i.done)}))},t})),r("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),r("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var s=n.length;for(0>(t=t||0)&&(t=Math.max(t+s,0));t<s;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),r("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),r("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,s=!1,i={next:function(){if(!s&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return s=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e){return e}))}}));var E=this||self;function S(e,t){e=e.split(".");var n,s=E;e[0]in s||void 0===s.execScript||s.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?s=s[n]&&s[n]!==Object.prototype[n]?s[n]:s[n]={}:s[n]=t}function I(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var T,_,N="undefined"!=typeof TextDecoder,D="undefined"!=typeof TextEncoder;function M(e){if(D)e=(_||(_=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,s=new Uint8Array(3*e.length),i=0;i<e.length;i++){var r=e.charCodeAt(i);if(128>r)s[n++]=r;else{if(2048>r)s[n++]=r>>6|192;else{if(55296<=r&&57343>=r){if(56319>=r&&i<e.length){var a=e.charCodeAt(++i);if(56320<=a&&57343>=a){r=1024*(r-55296)+a-56320+65536,s[n++]=r>>18|240,s[n++]=r>>12&63|128,s[n++]=r>>6&63|128,s[n++]=63&r|128;continue}i--}if(t)throw Error("Found an unpaired surrogate");r=65533}s[n++]=r>>12|224,s[n++]=r>>6&63|128}s[n++]=63&r|128}}e=s.subarray(0,n)}return e}var B={},R=null;function F(e,t){void 0===t&&(t=0),L(),t=B[t];for(var n=Array(Math.floor(e.length/3)),s=t[64]||"",i=0,r=0;i<e.length-2;i+=3){var a=e[i],o=e[i+1],l=e[i+2],c=t[a>>2];a=t[(3&a)<<4|o>>4],o=t[(15&o)<<2|l>>6],l=t[63&l],n[r++]=c+a+o+l}switch(c=0,l=s,e.length-i){case 2:l=t[(15&(c=e[i+1]))<<2]||s;case 1:e=e[i],n[r]=t[e>>2]+t[(3&e)<<4|c>>4]+l+s}return n.join("")}function O(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var s=new Uint8Array(n),i=0;return function(e,t){function n(t){for(;s<e.length;){var n=e.charAt(s++),i=R[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}L();for(var s=0;;){var i=n(-1),r=n(0),a=n(64),o=n(64);if(64===o&&-1===i)break;t(i<<2|r>>4),64!=a&&(t(r<<4&240|a>>2),64!=o&&t(a<<6&192|o))}}(e,(function(e){s[i++]=e})),s.subarray(0,i)}function L(){if(!R){R={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var s=e.concat(t[n].split(""));B[n]=s;for(var i=0;i<s.length;i++){var r=s[i];void 0===R[r]&&(R[r]=i)}}}}var z,V="function"==typeof Uint8Array.prototype.slice;function P(e,t,n){return t===n?z||(z=new Uint8Array(0)):V?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var W=0;function G(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=t,e&&U(this,e)}function U(e,t){t=t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?O(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e.h=t,e.l=0,e.j=e.h.length,e.g=e.l}function j(e){for(var t=128,n=0,s=0,i=0;4>i&&128<=t;i++)n|=(127&(t=e.h[e.g++]))<<7*i;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,s|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)s|=(127&(t=e.h[e.g++]))<<7*i+3;if(128>t)return e=n>>>0,(s=2147483648&(t=s>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),s?-e:e;e.m=!0}G.prototype.reset=function(){this.g=this.l},G.prototype.i=function(){var e=this.h,t=e[this.g],n=127&t;return 128>t?(this.g+=1,n):(n|=(127&(t=e[this.g+1]))<<7,128>t?(this.g+=2,n):(n|=(127&(t=e[this.g+2]))<<14,128>t?(this.g+=3,n):(n|=(127&(t=e[this.g+3]))<<21,128>t?(this.g+=4,n):(n|=(15&(t=e[this.g+4]))<<28,128>t?(this.g+=5,n>>>0):(this.g+=5,128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&this.g++,n)))))},G.prototype.o=function(){var e=this.h[this.g],t=this.h[this.g+1],n=this.h[this.g+2],s=this.h[this.g+3];return this.g+=4,e=2*((n=(e|t<<8|n<<16|s<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))};var q=[];function H(){this.g=new Uint8Array(64),this.h=0}function Y(e,t){for(;127<t;)e.push(127&t|128),t>>>=7;e.push(t)}function K(e){var t={},n=void 0!==t.N&&t.N;this.o={v:void 0!==t.v&&t.v},this.N=n,t=this.o,q.length?(n=q.pop(),t&&(n.v=t.v),e&&U(n,e),e=n):e=new G(e,t),this.g=e,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}function Z(e){var t=e.g;if((t=t.g==t.j)||(t=e.j)||(t=(t=e.g).m||0>t.g||t.g>t.j),t)return!1;e.m=e.g.g;var n=7&(t=e.g.i());return 0!=n&&5!=n&&1!=n&&2!=n&&3!=n&&4!=n?(e.j=!0,!1):(e.i=t,e.l=t>>>3,e.h=n,!0)}function Q(e){switch(e.h){case 0:if(0!=e.h)Q(e);else{for(e=e.g;128&e.h[e.g];)e.g++;e.g++}break;case 1:1!=e.h?Q(e):(e=e.g).g+=8;break;case 2:if(2!=e.h)Q(e);else{var t=e.g.i();(e=e.g).g+=t}break;case 5:5!=e.h?Q(e):(e=e.g).g+=4;break;case 3:for(t=e.l;;){if(!Z(e)){e.j=!0;break}if(4==e.h){e.l!=t&&(e.j=!0);break}Q(e)}break;default:e.j=!0}}function X(e,t,n){var s=e.g.j,i=e.g.i(),r=e.g.g+i;if(e.g.j=r,n(t,e),0!==(n=r-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+i+" bytes, instead read "+(i-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=r,e.g.j=s,t}function $(e){return e.g.o()}function J(e){var t,n=e.g.i(),s=(e=e.g).g;if(e.g+=n,e=e.h,N)(t=T)||(t=T=new TextDecoder("utf-8",{fatal:!1})),t=t.decode(e.subarray(s,s+n));else{n=s+n;for(var i,r,a,o=[],l=null;s<n;)128>(i=e[s++])?o.push(i):224>i?s>=n?o.push(65533):(r=e[s++],194>i||128!=(192&r)?(s--,o.push(65533)):o.push((31&i)<<6|63&r)):240>i?s>=n-1?o.push(65533):128!=(192&(r=e[s++]))||224===i&&160>r||237===i&&160<=r||128!=(192&(t=e[s++]))?(s--,o.push(65533)):o.push((15&i)<<12|(63&r)<<6|63&t):244>=i?s>=n-2?o.push(65533):128!=(192&(r=e[s++]))||r-144+(i<<28)>>30||128!=(192&(t=e[s++]))||128!=(192&(a=e[s++]))?(s--,o.push(65533)):(i=(7&i)<<18|(63&r)<<12|(63&t)<<6|63&a,i-=65536,o.push(55296+(i>>10&1023),56320+(1023&i))):o.push(65533),8192<=o.length&&(l=I(l,o),o.length=0);t=I(l,o)}return t}function ee(e,t,n){var s=e.g.i();for(s=e.g.g+s;e.g.g<s;)n.push(t.call(e.g))}function te(e,t){2==e.h?ee(e,G.prototype.o,t):t.push($(e))}function ne(){this.h=[],this.i=0,this.g=new H}function se(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function ie(e){var t=e.i+e.g.length();if(0===t)return new Uint8Array(0);t=new Uint8Array(t);for(var n=e.h,s=n.length,i=0,r=0;r<s;r++){var a=n[r];0!==a.length&&(t.set(a,i),i+=a.length)}return 0!==(s=(n=e.g).h)&&(t.set(n.g.subarray(0,s),i),n.h=0),e.h=[t],t}function re(e,t,n){if(null!=n){Y(e.g,8*t+5),e=e.g;var s=n;0===(s=(n=0>s?1:0)?-s:s)?0<1/s?W=0:W=2147483648:isNaN(s)?W=2147483647:34028234663852886e22<s?W=(n<<31|2139095040)>>>0:11754943508222875e-54>s?(s=Math.round(s/Math.pow(2,-149)),W=(n<<31|s)>>>0):(t=Math.floor(Math.log(s)/Math.LN2),s*=Math.pow(2,-t),16777216<=(s=Math.round(8388608*s))&&++t,W=(n<<31|t+127<<23|8388607&s)>>>0),n=W,e.push(n>>>0&255),e.push(n>>>8&255),e.push(n>>>16&255),e.push(n>>>24&255)}}H.prototype.push=function(e){if(!(this.h+1<this.g.length)){var t=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(t)}this.g[this.h++]=e},H.prototype.length=function(){return this.h},H.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,P(e,0,t)},K.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};var ae="function"==typeof Uint8Array;function oe(e,t,n){if(null!=e)return"object"==typeof e?ae&&e instanceof Uint8Array?n(e):le(e,t,n):t(e)}function le(e,t,n){if(Array.isArray(e)){for(var s=Array(e.length),i=0;i<e.length;i++)s[i]=oe(e[i],t,n);return Array.isArray(e)&&e.W&&de(s),s}for(i in s={},e)s[i]=oe(e[i],t,n);return s}function ce(e){return"number"==typeof e?isFinite(e)?e:String(e):e}var ue,he={W:{value:!0,configurable:!0}};function de(e){return Array.isArray(e)&&!Object.isFrozen(e)&&Object.defineProperties(e,he),e}function pe(e,t,n){var s=ue;if(ue=null,e||(e=s),s=this.constructor.ca,e||(e=s?[s]:[]),this.j=s?0:-1,this.m=this.g=null,this.h=e,e=(s=this.h.length)-1,!s||(null===(s=this.h[e])||"object"!=typeof s||Array.isArray(s)||ae&&s instanceof Uint8Array)?void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.i=null):this.l=Number.MAX_VALUE:(this.l=e-this.j,this.i=s),n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(s=this.h[e])?de(s):this.h[e]=fe):(me(this),(s=this.i[e])?de(s):this.i[e]=fe)}var fe=Object.freeze(de([]));function me(e){var t=e.l+e.j;e.h[t]||(e.i=e.h[t]={})}function ge(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.i?e.i[t]:void 0:e.h[t+e.j]}function ye(e,t){var n=void 0!==n&&n,s=ge(e,t,n);return null==s&&(s=fe),s===fe&&ve(e,t,s=de([]),n),s}function Ae(e){var t=ye(e,3);if(e.m||(e.m={}),!e.m[3]){for(var n=0;n<t.length;n++)t[n]=+t[n];e.m[3]=!0}return t}function we(e,t,n){return null==(e=ge(e,t))?n:e}function be(e,t,n){return null==(e=null==(e=ge(e,t))?e:+e)?void 0===n?0:n:e}function ve(e,t,n,s){void 0!==s&&s||t>=e.l?(me(e),e.i[t]=n):e.h[t+e.j]=n}function xe(e,t,n){if(-1===n)return null;if(e.g||(e.g={}),!e.g[n]){var s=ge(e,n,!1);s&&(e.g[n]=new t(s))}return e.g[n]}function Ce(e,t){e.g||(e.g={});var n=e.g[1];if(!n){var s=ye(e,1);n=[];for(var i=0;i<s.length;i++)n[i]=new t(s[i]);e.g[1]=n}return n}function ke(e,t,n){var s=void 0!==s&&s;e.g||(e.g={});var i=n?Se(n,!1):n;e.g[t]=n,ve(e,t,i,s)}function Ee(e,t,n,s){var i=Ce(e,n);t=t||new n,e=ye(e,1),null!=s?(i.splice(s,0,t),e.splice(s,0,Se(t,!1))):(i.push(t),e.push(Se(t,!1)))}function Se(e,t){if(e.g)for(var n in e.g){var s=e.g[n];if(Array.isArray(s))for(var i=0;i<s.length;i++)s[i]&&Se(s[i],t);else s&&Se(s,t)}return e.h}function Ie(e,t){if(e=e.o){se(t,t.g.end());for(var n=0;n<e.length;n++)se(t,e[n])}}function Te(e,t){if(4==t.h)return!1;var n=t.m;return Q(t),t.N||(t=P(t.g.h,n,t.g.g),(n=e.o)?n.push(t):e.o=[t]),!0}function _e(e){pe.call(this,e,-1,De)}function Ne(e,t){for(;Z(t);)switch(t.i){case 8:var n=t.g.i();ve(e,1,n);break;case 16:ve(e,2,n=t.g.i());break;case 29:case 26:te(t,e.getPackedDataList());break;case 32:ve(e,4,n=j(t.g));break;default:if(!Te(e,t))return e}return e}pe.prototype.toJSON=function(){return le(Se(this,!1),ce,F)},pe.prototype.toString=function(){return Se(this,!1).toString()},f(_e,pe),_e.prototype.getRows=function(){return ge(this,1)},_e.prototype.getCols=function(){return ge(this,2)},_e.prototype.getPackedDataList=function(){return Ae(this)},_e.prototype.getLayout=function(){return we(this,4,0)};var De=[3];function Me(e,t){var n=void 0;return new(n||(n=Promise))((function(s,i){function r(e){try{o(t.next(e))}catch(e){i(e)}}function a(e){try{o(t.throw(e))}catch(e){i(e)}}function o(e){e.done?s(e.value):new n((function(t){t(e.value)})).then(r,a)}o((t=t.apply(e,void 0)).next())}))}function Be(e){pe.call(this,e)}function Re(e,t){for(;Z(t);)switch(t.i){case 8:var n=t.g.i();ve(e,1,n);break;case 21:ve(e,2,n=$(t));break;case 26:ve(e,3,n=J(t));break;case 34:ve(e,4,n=J(t));break;default:if(!Te(e,t))return e}return e}function Fe(e){pe.call(this,e,-1,Oe)}f(Be,pe),f(Fe,pe),Fe.prototype.addClassification=function(e,t){return Ee(this,e,Be,t),this};var Oe=[1];function Le(e){pe.call(this,e)}function ze(e,t){for(;Z(t);)switch(t.i){case 13:var n=$(t);ve(e,1,n);break;case 21:ve(e,2,n=$(t));break;case 29:ve(e,3,n=$(t));break;case 37:ve(e,4,n=$(t));break;case 45:ve(e,5,n=$(t));break;default:if(!Te(e,t))return e}return e}function Ve(e){pe.call(this,e,-1,We)}function Pe(e){e:{var t=new Ve;for(e=new K(e);Z(e);)if(10===e.i){Ee(t,X(e,new Le,ze),Le,void 0)}else if(!Te(t,e))break e}return t}f(Le,pe),f(Ve,pe);var We=[1];function Ge(e){pe.call(this,e)}function Ue(e){pe.call(this,e,-1,qe)}function je(e,t){for(;Z(t);)switch(t.i){case 8:var n=j(t.g);ve(e,1,n);break;case 16:ve(e,2,n=j(t.g));break;case 29:case 26:te(t,e.getVertexBufferList());break;case 32:case 34:n=t;var s=e.getIndexBufferList();2==n.h?ee(n,G.prototype.i,s):s.push(n.g.i());break;default:if(!Te(e,t))return e}return e}f(Ge,pe),f(Ue,pe),Ue.prototype.getVertexType=function(){return we(this,1,0)},Ue.prototype.getPrimitiveType=function(){return we(this,2,0)},Ue.prototype.getVertexBufferList=function(){return Ae(this)},Ue.prototype.getIndexBufferList=function(){return ye(this,4)};var qe=[3,4];function He(e){pe.call(this,e)}function Ye(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ke(e){return Ce(e,Be).map((function(e){return{index:we(e,1,0),Y:be(e,2),label:null!=ge(e,3)?we(e,3,""):void 0,displayName:null!=ge(e,4)?we(e,4,""):void 0}}))}function Ze(e){return{x:be(e,1),y:be(e,2),z:be(e,3),visibility:null!=ge(e,4)?be(e,4):void 0}}function Qe(e,t){this.h=e,this.g=t,this.l=0}function Xe(e,t,n){return function(e,t){var n=e.g;if(void 0===e.m){var s=Ye(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=Ye(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),r=n.createProgram();if(n.attachShader(r,s),n.attachShader(r,i),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(r));s=e.m=r,n.useProgram(s),i=n.getUniformLocation(s,"sampler0"),e.j={I:n.getAttribLocation(s,"aVertex"),H:n.getAttribLocation(s,"aTex"),da:i},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}s=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(s.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(s.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(s.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(s.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(s.I),n.disableVertexAttribArray(s.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"==typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise((function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)})))}function $e(e){this.g=e}f(He,pe),He.prototype.getMesh=function(){return xe(this,Ue,1)},He.prototype.getPoseTransformMatrix=function(){return xe(this,_e,2)};var Je=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function et(e,t){return t+e}function tt(e,t){window[e]=t}function nt(e){if(this.g=e,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=e&&e.locateFile||et,"object"==typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"==typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=t,e.options)for(var n=(t=o(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var s=e.options[n].default;void 0!==s&&(this.j[n]="function"==typeof s?s():s)}}function st(e){return Me(e,(function e(){var t,n,s,i,r,a,o,c,u,h,d,p=this;return C(e,(function(e){switch(e.g){case 1:return t=p,p.R?(n=function(e,t){return void 0===e.g.files?[]:"function"==typeof e.g.files?e.g.files(t):e.g.files}(p,p.j),A(e,function(){return Me(this,(function e(){return C(e,(function(e){switch(e.g){case 1:return e.m=2,A(e,WebAssembly.instantiate(Je),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}}))}))}(),2)):e.return();case 2:if(s=e.h,"object"==typeof window)return tt("createMediapipeSolutionsWasm",{locateFile:p.locateFile}),tt("createMediapipeSolutionsPackedAssets",{locateFile:p.locateFile}),a=n.filter((function(e){return void 0!==e.data})),o=n.filter((function(e){return void 0===e.data})),c=Promise.all(a.map((function(e){var n=it(t,e.url);if(void 0!==e.path){var s=e.path;n=n.then((function(e){return t.overrideFile(s,e),Promise.resolve(e)}))}return n}))),u=Promise.all(o.map((function(e){return void 0===e.simd||e.simd&&s||!e.simd&&!s?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(t.locateFile(e.url,t.S)):Promise.resolve()}))).then((function(){return Me(t,(function e(){var t,n,s=this;return C(e,(function(e){if(1==e.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,A(e,t(n),2);s.h=e.h,e.g=0}))}))})),h=Me(t,(function e(){var t=this;return C(e,(function(e){return t.g.graph&&t.g.graph.url?e=A(e,it(t,t.g.graph.url),0):(e.g=0,e=void 0),e}))})),A(e,Promise.all([u,c,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return i=n.filter((function(e){return void 0===e.simd||e.simd&&s||!e.simd&&!s})).map((function(e){return t.locateFile(e.url,t.S)})),importScripts.apply(null,l(i)),A(e,createMediapipeSolutionsWasm(Module),6);case 6:p.h=e.h,p.l=new OffscreenCanvas(1,1),p.h.canvas=p.l,r=p.h.GL.createContext(p.l,{antialias:!1,alpha:!1,ba:"undefined"!=typeof WebGL2RenderingContext?2:1}),p.h.GL.makeContextCurrent(r),e.g=4;break;case 7:if(p.l=document.createElement("canvas"),!(d=p.l.getContext("webgl2",{}))&&!(d=p.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),e.return();p.D=d,p.h.canvas=p.l,p.h.createContext(p.l,!0,!0,{});case 4:p.i=new p.h.SolutionWasm,p.R=!1,e.g=0}}))}))}function it(e,t){return Me(e,(function e(){var n,s,i=this;return C(e,(function(e){return t in i.F?e.return(i.F[t]):(n=i.locateFile(t,""),s=fetch(n).then((function(e){return e.arrayBuffer()})),i.F[t]=s,e.return(s))}))}))}function rt(e,t,n){return Me(e,(function e(){var s,i,r,a,l,c,u,h,d,p,f,m,g,y,w=this;return C(e,(function(e){switch(e.g){case 1:if(!n)return e.return(t);for(s={},i=0,r=o(Object.keys(n)),a=r.next();!a.done;a=r.next())l=a.value,"string"!=typeof(c=n[l])&&"texture"===c.type&&void 0!==t[c.stream]&&++i;1<i&&(w.G=!1),u=o(Object.keys(n)),a=u.next();case 2:if(a.done){e.g=4;break}if(h=a.value,"string"==typeof(d=n[h]))return g=s,y=h,A(e,function(e,t,n){return Me(e,(function e(){var s,i=this;return C(e,(function(e){return"number"==typeof n||n instanceof Uint8Array||n instanceof i.h.Uint8BlobList?e.return(n):n instanceof i.h.Texture2dDataOut?((s=i.s[t])||(s=new Qe(i.h,i.D),i.s[t]=s),e.return(Xe(s,n,i.G))):e.return(void 0)}))}))}(w,h,t[d]),14);if(p=t[d.stream],"detection_list"===d.type){if(p){for(var b=p.getRectList(),v=p.getLandmarksList(),x=p.getClassificationsList(),k=[],E=0;E<b.size();++E){var S=b.get(E);e:{var I=new Ge;for(S=new K(S);Z(S);)switch(S.i){case 13:var T=$(S);ve(I,1,T);break;case 21:ve(I,2,T=$(S));break;case 29:ve(I,3,T=$(S));break;case 37:ve(I,4,T=$(S));break;case 45:ve(I,5,T=$(S));break;case 48:ve(I,6,T=j(S.g));break;default:if(!Te(I,S))break e}}I={Z:be(I,1),$:be(I,2),height:be(I,3),width:be(I,4),rotation:be(I,5,0),X:we(I,6,0)},S=Ce(Pe(v.get(E)),Le).map(Ze);var _=x.get(E);e:for(T=new Fe,_=new K(_);Z(_);)if(10===_.i)T.addClassification(X(_,new Be,Re));else if(!Te(T,_))break e;I={T:I,O:S,M:Ke(T)},k.push(I)}b=k}else b=[];s[h]=b,e.g=7;break}if("proto_list"===d.type){if(p){for(b=Array(p.size()),v=0;v<p.size();v++)b[v]=p.get(v);p.delete()}else b=[];s[h]=b,e.g=7;break}if(void 0===p){e.g=3;break}if("float_list"===d.type){s[h]=p,e.g=7;break}if("proto"===d.type){s[h]=p,e.g=7;break}if("texture"!==d.type)throw Error("Unknown output config type: '"+d.type+"'");return(f=w.s[h])||(f=new Qe(w.h,w.D),w.s[h]=f),A(e,Xe(f,p,w.G),13);case 13:m=e.h,s[h]=m;case 7:d.transform&&s[h]&&(s[h]=d.transform(s[h])),e.g=3;break;case 14:g[y]=e.h;case 3:a=u.next(),e.g=2;break;case 4:return e.return(s)}}))}))}function at(e,t){for(var n=t.name||"$",s=[].concat(l(t.wants)),i=new e.h.StringList,r=o(t.wants),a=r.next();!a.done;a=r.next())i.push_back(a.value);r=e.h.PacketListener.implement({onResults:function(i){for(var r={},a=0;a<t.wants.length;++a)r[s[a]]=i.get(a);var o=e.listeners[n];o&&(e.C=rt(e,r,t.outs).then((function(n){n=o(n);for(var i=0;i<t.wants.length;++i){var a=r[s[i]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(i,r),i.delete()}function ot(e){e=function(e){e:{var t=new He;for(e=new K(e);Z(e);)switch(e.i){case 10:var n=X(e,new Ue,je);ke(t,1,n);break;case 18:ke(t,2,n=X(e,new _e,Ne));break;default:if(!Te(t,e))break e}}return t}(e);var t=e.getMesh();if(!t)return e;var n=new Float32Array(t.getVertexBufferList());t.getVertexBufferList=function(){return n};var s=new Uint32Array(t.getIndexBufferList());return t.getIndexBufferList=function(){return s},e}(e=nt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){return Me(this,(function e(){var t=this;return C(e,(function(e){t.i&&(t.i.reset(),t.m={},t.s={}),e.g=0}))}))},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var s=[],i=[],r={},a=o(Object.keys(e)),l=a.next();!l.done;r={K:r.K,L:r.L},l=a.next()){var c=l.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(l=t[c])&&(l.onChange&&(r.K=l.onChange,r.L=e[c],s.push(function(e){return function(){return Me(n,(function t(){var n=this;return C(t,(function(t){if(1==t.g)return A(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}))}}(r))),l.graphOptionXref&&(c={valueNumber:1===l.type?e[c]:0,valueBoolean:0===l.type&&e[c],valueString:2===l.type?e[c]:""},l=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),l.graphOptionXref),c),i.push(l))))}0===s.length&&0===i.length||(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(i),this.u=(void 0===this.u?[]:this.u).concat(s))}},e.initialize=function(){return Me(this,(function e(){var t=this;return C(e,(function(e){return 1==e.g?A(e,st(t),2):3!=e.g?A(e,Me(t,(function e(){var t,n,s,i,r,a,l,c,u=this;return C(e,(function(e){if(1==e.g)return u.g.graph&&u.g.graph.url&&u.P===u.g.graph.url?e.return():(u.o=!0,u.g.graph&&u.g.graph.url?(u.P=u.g.graph.url,A(e,it(u,u.g.graph.url),3)):void(e.g=2));for(2!=e.g&&(t=e.h,u.i.loadGraph(t)),n=o(Object.keys(u.B)),s=n.next();!s.done;s=n.next())i=s.value,u.i.overrideFile(i,u.B[i]);if(u.B={},u.g.listeners)for(r=o(u.g.listeners),a=r.next();!a.done;a=r.next())l=a.value,at(u,l);c=u.j,u.j={},u.setOptions(c),e.g=0}))})),3):A(e,function(e){return Me(e,(function e(){var t,n,s,i,r,a,l=this;return C(e,(function(e){switch(e.g){case 1:if(!l.o)return e.return();if(!l.u){e.g=2;break}t=o(l.u),n=t.next();case 3:if(n.done){e.g=5;break}return A(e,(0,n.value)(),4);case 4:n=t.next(),e.g=3;break;case 5:l.u=void 0;case 2:if(l.A){for(s=new l.h.GraphOptionChangeRequestList,i=o(l.A),r=i.next();!r.done;r=i.next())a=r.value,s.push_back(a);l.i.changeOptions(s),s.delete(),l.A=void 0}l.o=!1,e.g=0}}))}))}(t),0)}))}))},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},e.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){return Me(this,(function n(){var s,i,r,a,l,c,u,h,d,p=this;return C(n,(function(n){switch(n.g){case 1:return p.g.inputs?(s=1e3*(null==t?performance.now():t),A(n,p.C,2)):n.return();case 2:return A(n,p.initialize(),3);case 3:for(i=new p.h.PacketDataList,r=o(Object.keys(e)),a=r.next();!a.done;a=r.next())if(l=a.value,c=p.g.inputs[l]){e:{var f=p,m=e[l];switch(c.type){case"video":var g=f.m[c.stream];if(g||(g=new Qe(f.h,f.D),f.m[c.stream]=g),0===(f=g).l&&(f.l=f.h.createTexture()),"undefined"!=typeof HTMLVideoElement&&m instanceof HTMLVideoElement){var y=m.videoWidth;g=m.videoHeight}else"undefined"!=typeof HTMLImageElement&&m instanceof HTMLImageElement?(y=m.naturalWidth,g=m.naturalHeight):(y=m.width,g=m.height);g={glName:f.l,width:y,height:g},(y=f.g).canvas.width=g.width,y.canvas.height=g.height,y.activeTexture(y.TEXTURE0),f.h.bindTexture2d(f.l),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,m),f.h.bindTexture2d(0),f=g;break e;case"detections":for((g=f.m[c.stream])||(g=new $e(f.h),f.m[c.stream]=g),(f=g).data||(f.data=new f.g.DetectionListData),f.data.reset(m.length),g=0;g<m.length;++g){y=m[g];var w=f.data,b=w.setBoundingBox,v=g,x=y.T,C=new Ge;ve(C,1,x.Z),ve(C,2,x.$),ve(C,3,x.height),ve(C,4,x.width),ve(C,5,x.rotation),ve(C,6,x.X);var k=x=new ne;re(k,1,ge(C,1)),re(k,2,ge(C,2)),re(k,3,ge(C,3)),re(k,4,ge(C,4)),re(k,5,ge(C,5));var E=ge(C,6);if(null!=E&&null!=E){Y(k.g,48);var S=k.g,I=E;E=0>I;var T=(I=Math.abs(I))>>>0;for(I=Math.floor((I-T)/4294967296),I>>>=0,E&&(I=~I>>>0,4294967295<(T=1+(~T>>>0))&&(T=0,4294967295<++I&&(I=0))),E=W=T,T=I;0<T||127<E;)S.push(127&E|128),E=(E>>>7|T<<25)>>>0,T>>>=7;S.push(E)}if(Ie(C,k),x=ie(x),b.call(w,v,x),y.O)for(w=0;w<y.O.length;++w)k=!!(C=y.O[w]).visibility,v=(b=f.data).addNormalizedLandmark,x=g,C=Object.assign(Object.assign({},C),{visibility:k?C.visibility:0}),ve(k=new Le,1,C.x),ve(k,2,C.y),ve(k,3,C.z),C.visibility&&ve(k,4,C.visibility),re(S=C=new ne,1,ge(k,1)),re(S,2,ge(k,2)),re(S,3,ge(k,3)),re(S,4,ge(k,4)),re(S,5,ge(k,5)),Ie(k,S),C=ie(C),v.call(b,x,C);if(y.M)for(w=0;w<y.M.length;++w){if(v=(b=f.data).addClassification,x=g,C=y.M[w],ve(k=new Be,2,C.Y),C.index&&ve(k,1,C.index),C.label&&ve(k,3,C.label),C.displayName&&ve(k,4,C.displayName),S=C=new ne,null!=(T=ge(k,1))&&null!=T)if(Y(S.g,8),E=S.g,0<=T)Y(E,T);else{for(I=0;9>I;I++)E.push(127&T|128),T>>=7;E.push(1)}re(S,2,ge(k,2)),null!=(E=ge(k,3))&&(E=M(E),Y(S.g,26),Y(S.g,E.length),se(S,S.g.end()),se(S,E)),null!=(E=ge(k,4))&&(E=M(E),Y(S.g,34),Y(S.g,E.length),se(S,S.g.end()),se(S,E)),Ie(k,S),C=ie(C),v.call(b,x,C)}}f=f.data;break e;default:f={}}}switch(u=f,h=c.stream,c.type){case"video":i.pushTexture2d(Object.assign(Object.assign({},u),{stream:h,timestamp:s}));break;case"detections":(d=u).stream=h,d.timestamp=s,i.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+c.type+"'")}}return p.i.send(i),A(n,p.C,4);case 4:i.delete(),n.g=0}}))}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},S("Solution",nt),S("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});var lt={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(e){return e.map(ot)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(e){return e.map((function(e){return Ce(Pe(e),Le).map(Ze)}))}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},ct=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],ut=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ht=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],dt=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],pt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],ft=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],mt=[].concat(l(ct),l(ut),l(ht),l(dt),l(pt),l(ft));function gt(e){e=e||{},e=Object.assign(Object.assign({},lt),e),this.g=new nt(e)}(e=gt.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){return Me(this,(function e(){var t=this;return C(e,(function(e){return A(e,t.g.initialize(),0)}))}))},e.reset=function(){this.g.reset()},e.send=function(e){return Me(this,(function t(){var n=this;return C(t,(function(t){return A(t,n.g.send(e),0)}))}))},e.setOptions=function(e){this.g.setOptions(e)},S("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),S("FaceMesh",gt),S("FACEMESH_LIPS",ct),S("FACEMESH_LEFT_EYE",ut),S("FACEMESH_LEFT_EYEBROW",ht),S("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),S("FACEMESH_RIGHT_EYE",dt),S("FACEMESH_RIGHT_EYEBROW",pt),S("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),S("FACEMESH_FACE_OVAL",ft),S("FACEMESH_CONTOURS",mt),S("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),S("matrixDataToMatrix",(function(e){for(var t=e.getCols(),n=e.getRows(),s=e.getPackedDataList(),i=[],r=0;r<n;r++)i.push(Array(t));for(r=0;r<n;r++)for(var a=0;a<t;a++){var o=1===e.getLayout()?r*t+a:a*n+r;i[r][a]=s[o]}return i})),S("VERSION","0.4.1633559619")}).call(this)},7350:(e,t,n)=>{e.exports=function e(t,n,s){function i(a,o){if(!n[a]){if(!t[a]){if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return i(n||e)}),c,c.exports,e,t,n,s)}return n[a].exports}for(var r=void 0,a=0;a<s.length;a++)i(s[a]);return i}({1:[function(e,t,s){(function(e){"use strict";var n,s,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var r=0,a=new i(u),o=e.document.createTextNode("");a.observe(o,{characterData:!0}),n=function(){o.data=r=++r%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;s=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}s=!1}function h(e){1!==c.push(e)||s||n()}t.exports=h}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var s=e(1);function i(){}var r={},a=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){s((function(){var s;try{s=t(n)}catch(t){return r.reject(e,t)}s===e?r.reject(e,new TypeError("Cannot resolve promise with itself")):r.resolve(e,s)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function s(t){n||(n=!0,r.reject(e,t))}function i(t){n||(n=!0,r.resolve(e,t))}function a(){t(i,s)}var o=f(a);"error"===o.status&&s(o.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function m(e){return e instanceof this?e:r.resolve(new this(i),e)}function g(e){var t=new this(i);return r.reject(t,e)}function y(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,s=!1;if(!n)return this.resolve([]);for(var a=new Array(n),o=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){function l(e){a[i]=e,++o!==n||s||(s=!0,r.resolve(c,a))}t.resolve(e).then(l,(function(e){s||(s=!0,r.reject(c,e))}))}}function A(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,s=!1;if(!n)return this.resolve([]);for(var a=-1,o=new this(i);++a<n;)l(e[a]);return o;function l(e){t.resolve(e).then((function(e){s||(s=!0,r.resolve(o,e))}),(function(e){s||(s=!0,r.reject(o,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===o?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){r.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},r.resolve=function(e,t){var n=f(d,t);if("error"===n.status)return r.reject(e,n.value);var s=n.value;if(s)p(e,s);else{e.state=o,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},r.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,s=e.queue.length;++n<s;)e.queue[n].callRejected(t);return e},c.resolve=m,c.reject=g,c.all=y,c.race=A},{1:1}],3:[function(e,t,s){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var a=r();function o(){try{if(!a||!a.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),s=0;s<e.length;s+=1)n.append(e[s]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function u(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function h(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function d(e){return"string"!=typeof e&&(e=String(e)),e}function p(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",m=void 0,g={},y=Object.prototype.toString,A="readonly",w="readwrite";function b(e){for(var t=e.length,n=new ArrayBuffer(t),s=new Uint8Array(n),i=0;i<t;i++)s[i]=e.charCodeAt(i);return n}function v(e){return new c((function(t){var n=e.transaction(f,w),s=l([""]);n.objectStore(f).put(s,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function x(e){return"boolean"==typeof m?c.resolve(m):v(e).then((function(e){return m=e}))}function C(e){var t=g[e.name],n={};n.promise=new c((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function k(e){var t=g[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function E(e,t){var n=g[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function S(e,t){return new c((function(n,s){if(g[e.name]=g[e.name]||O(),e.db){if(!t)return n(e.db);C(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var r=a.open.apply(a,i);t&&(r.onupgradeneeded=function(t){var n=r.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(f)}catch(e){if("ConstraintError"!==e.name)throw e}}),r.onerror=function(e){e.preventDefault(),s(r.error)},r.onsuccess=function(){var t=r.result;t.onversionchange=function(e){e.target.close()},n(t),k(e)}}))}function I(e){return S(e,!1)}function T(e){return S(e,!0)}function _(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),s=e.version<e.db.version,i=e.version>e.db.version;if(s&&(e.version,e.version=e.db.version),i||n){if(n){var r=e.db.version+1;r>e.version&&(e.version=r)}return!0}return!1}function N(e){return new c((function(t,n){var s=new FileReader;s.onerror=n,s.onloadend=function(n){var s=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:s,type:e.type})},s.readAsBinaryString(e)}))}function D(e){return l([b(atob(e.data))],{type:e.type})}function M(e){return e&&e.__local_forage_encoded_blob}function B(e){var t=this,n=t._initReady().then((function(){var e=g[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return h(n,e,e),n}function R(e){C(e);for(var t=g[e.name],n=t.forages,s=0;s<n.length;s++){var i=n[s];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,I(e).then((function(t){return e.db=t,_(e)?T(e):t})).then((function(s){e.db=t.db=s;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=s})).catch((function(t){throw E(e,t),t}))}function F(e,t,n,s){void 0===s&&(s=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(s>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),T(e)})).then((function(){return R(e).then((function(){F(e,t,n,s-1)}))})).catch(n);n(i)}}function O(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function L(e){var t=this,n={db:null};if(e)for(var s in e)n[s]=e[s];var i=g[n.name];i||(i=O(),g[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=B);var r=[];function a(){return c.resolve()}for(var o=0;o<i.forages.length;o++){var l=i.forages[o];l!==t&&r.push(l._initReady().catch(a))}var u=i.forages.slice(0);return c.all(r).then((function(){return n.db=i.db,I(n)})).then((function(e){return n.db=e,_(n,t._defaultConfig.version)?T(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var s=0;s<u.length;s++){var r=u[s];r!==t&&(r._dbInfo.db=n.db,r._dbInfo.version=n.version)}}))}function z(e,t){var n=this;e=d(e);var s=new c((function(t,s){n.ready().then((function(){F(n._dbInfo,A,(function(i,r){if(i)return s(i);try{var a=r.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),M(e)&&(e=D(e)),t(e)},a.onerror=function(){s(a.error)}}catch(e){s(e)}}))})).catch(s)}));return u(s,t),s}function V(e,t){var n=this,s=new c((function(t,s){n.ready().then((function(){F(n._dbInfo,A,(function(i,r){if(i)return s(i);try{var a=r.objectStore(n._dbInfo.storeName).openCursor(),o=1;a.onsuccess=function(){var n=a.result;if(n){var s=n.value;M(s)&&(s=D(s));var i=e(s,n.key,o++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){s(a.error)}}catch(e){s(e)}}))})).catch(s)}));return u(s,t),s}function P(e,t,n){var s=this;e=d(e);var i=new c((function(n,i){var r;s.ready().then((function(){return r=s._dbInfo,"[object Blob]"===y.call(t)?x(r.db).then((function(e){return e?t:N(t)})):t})).then((function(t){F(s._dbInfo,w,(function(r,a){if(r)return i(r);try{var o=a.objectStore(s._dbInfo.storeName);null===t&&(t=void 0);var l=o.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=l.error?l.error:l.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return u(i,n),i}function W(e,t){var n=this;e=d(e);var s=new c((function(t,s){n.ready().then((function(){F(n._dbInfo,w,(function(i,r){if(i)return s(i);try{var a=r.objectStore(n._dbInfo.storeName).delete(e);r.oncomplete=function(){t()},r.onerror=function(){s(a.error)},r.onabort=function(){var e=a.error?a.error:a.transaction.error;s(e)}}catch(e){s(e)}}))})).catch(s)}));return u(s,t),s}function G(e){var t=this,n=new c((function(e,n){t.ready().then((function(){F(t._dbInfo,w,(function(s,i){if(s)return n(s);try{var r=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=r.error?r.error:r.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return u(n,e),n}function U(e){var t=this,n=new c((function(e,n){t.ready().then((function(){F(t._dbInfo,A,(function(s,i){if(s)return n(s);try{var r=i.objectStore(t._dbInfo.storeName).count();r.onsuccess=function(){e(r.result)},r.onerror=function(){n(r.error)}}catch(e){n(e)}}))})).catch(n)}));return u(n,e),n}function j(e,t){var n=this,s=new c((function(t,s){e<0?t(null):n.ready().then((function(){F(n._dbInfo,A,(function(i,r){if(i)return s(i);try{var a=r.objectStore(n._dbInfo.storeName),o=!1,l=a.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||o?t(n.key):(o=!0,n.advance(e)):t(null)},l.onerror=function(){s(l.error)}}catch(e){s(e)}}))})).catch(s)}));return u(s,t),s}function q(e){var t=this,n=new c((function(e,n){t.ready().then((function(){F(t._dbInfo,A,(function(s,i){if(s)return n(s);try{var r=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];r.onsuccess=function(){var t=r.result;t?(a.push(t.key),t.continue()):e(a)},r.onerror=function(){n(r.error)}}catch(e){n(e)}}))})).catch(n)}));return u(n,e),n}function H(e,t){t=p.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var s,i=this;if(e.name){var r=e.name===n.name&&i._dbInfo.db?c.resolve(i._dbInfo.db):I(e).then((function(t){var n=g[e.name],s=n.forages;n.db=t;for(var i=0;i<s.length;i++)s[i]._dbInfo.db=t;return t}));s=e.storeName?r.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;C(e);var s=g[e.name],i=s.forages;t.close();for(var r=0;r<i.length;r++){var o=i[r];o._dbInfo.db=null,o._dbInfo.version=n}var l=new c((function(t,s){var i=a.open(e.name,n);i.onerror=function(e){i.result.close(),s(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}));return l.then((function(e){s.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,k(n._dbInfo)}})).catch((function(t){throw(E(e,t)||c.resolve()).catch((function(){})),t}))}})):r.then((function(t){C(e);var n=g[e.name],s=n.forages;t.close();for(var i=0;i<s.length;i++)s[i]._dbInfo.db=null;var r=new c((function(t,n){var s=a.deleteDatabase(e.name);s.onerror=function(){var e=s.result;e&&e.close(),n(s.error)},s.onblocked=function(){},s.onsuccess=function(){var e=s.result;e&&e.close(),t(e)}}));return r.then((function(e){n.db=e;for(var t=0;t<s.length;t++)k(s[t]._dbInfo)})).catch((function(t){throw(E(e,t)||c.resolve()).catch((function(){})),t}))}))}else s=c.reject("Invalid arguments");return u(s,t),s}var Y={_driver:"asyncStorage",_initStorage:L,_support:o(),iterate:V,getItem:z,setItem:P,removeItem:W,clear:G,length:U,key:j,keys:q,dropInstance:H};function K(){return"function"==typeof openDatabase}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q="~~local_forage_type~",X=/^~~local_forage_type~([^~]+)~/,$="__lfsc__:",J=$.length,ee="arbf",te="blob",ne="si08",se="ui08",ie="uic8",re="si16",ae="si32",oe="ur16",le="ui32",ce="fl32",ue="fl64",he=J+ee.length,de=Object.prototype.toString;function pe(e){var t,n,s,i,r,a=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<o;t+=4)n=Z.indexOf(e[t]),s=Z.indexOf(e[t+1]),i=Z.indexOf(e[t+2]),r=Z.indexOf(e[t+3]),u[l++]=n<<2|s>>4,u[l++]=(15&s)<<4|i>>2,u[l++]=(3&i)<<6|63&r;return c}function fe(e){var t,n=new Uint8Array(e),s="";for(t=0;t<n.length;t+=3)s+=Z[n[t]>>2],s+=Z[(3&n[t])<<4|n[t+1]>>4],s+=Z[(15&n[t+1])<<2|n[t+2]>>6],s+=Z[63&n[t+2]];return n.length%3==2?s=s.substring(0,s.length-1)+"=":n.length%3==1&&(s=s.substring(0,s.length-2)+"=="),s}function me(e,t){var n="";if(e&&(n=de.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===de.call(e.buffer))){var s,i=$;e instanceof ArrayBuffer?(s=e,i+=ee):(s=e.buffer,"[object Int8Array]"===n?i+=ne:"[object Uint8Array]"===n?i+=se:"[object Uint8ClampedArray]"===n?i+=ie:"[object Int16Array]"===n?i+=re:"[object Uint16Array]"===n?i+=oe:"[object Int32Array]"===n?i+=ae:"[object Uint32Array]"===n?i+=le:"[object Float32Array]"===n?i+=ce:"[object Float64Array]"===n?i+=ue:t(new Error("Failed to get type for BinaryArray"))),t(i+fe(s))}else if("[object Blob]"===n){var r=new FileReader;r.onload=function(){var n=Q+e.type+"~"+fe(this.result);t($+te+n)},r.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(e){t(null,e)}}function ge(e){if(e.substring(0,J)!==$)return JSON.parse(e);var t,n=e.substring(he),s=e.substring(J,he);if(s===te&&X.test(n)){var i=n.match(X);t=i[1],n=n.substring(i[0].length)}var r=pe(n);switch(s){case ee:return r;case te:return l([r],{type:t});case ne:return new Int8Array(r);case se:return new Uint8Array(r);case ie:return new Uint8ClampedArray(r);case re:return new Int16Array(r);case oe:return new Uint16Array(r);case ae:return new Int32Array(r);case le:return new Uint32Array(r);case ce:return new Float32Array(r);case ue:return new Float64Array(r);default:throw new Error("Unkown type: "+s)}}var ye={serialize:me,deserialize:ge,stringToBuffer:pe,bufferToString:fe};function Ae(e,t,n,s){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,s)}function we(e){var t=this,n={db:null};if(e)for(var s in e)n[s]="string"!=typeof e[s]?e[s].toString():e[s];var i=new c((function(e,s){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return s(e)}n.db.transaction((function(i){Ae(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){s(t)}))}),s)}));return n.serializer=ye,i}function be(e,t,n,s,i,r){e.executeSql(n,s,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,o){o.rows.length?r(e,a):Ae(e,t,(function(){e.executeSql(n,s,i,r)}),r)}),r):r(e,a)}),r)}function ve(e,t){var n=this;e=d(e);var s=new c((function(t,s){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){be(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var s=n.rows.length?n.rows.item(0).value:null;s&&(s=i.serializer.deserialize(s)),t(s)}),(function(e,t){s(t)}))}))})).catch(s)}));return u(s,t),s}function xe(e,t){var n=this,s=new c((function(t,s){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){be(n,i,"SELECT * FROM "+i.storeName,[],(function(n,s){for(var r=s.rows,a=r.length,o=0;o<a;o++){var l=r.item(o),c=l.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,l.key,o+1)))return void t(c)}t()}),(function(e,t){s(t)}))}))})).catch(s)}));return u(s,t),s}function Ce(e,t,n,s){var i=this;e=d(e);var r=new c((function(r,a){i.ready().then((function(){void 0===t&&(t=null);var o=t,l=i._dbInfo;l.serializer.serialize(t,(function(t,c){c?a(c):l.db.transaction((function(n){be(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){r(o)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(s>0)return void r(Ce.apply(i,[e,o,n,s-1]));a(t)}}))}))})).catch(a)}));return u(r,n),r}function ke(e,t,n){return Ce.apply(this,[e,t,n,1])}function Ee(e,t){var n=this;e=d(e);var s=new c((function(t,s){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){be(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){s(t)}))}))})).catch(s)}));return u(s,t),s}function Se(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var s=t._dbInfo;s.db.transaction((function(t){be(t,s,"DELETE FROM "+s.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Ie(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var s=t._dbInfo;s.db.transaction((function(t){be(t,s,"SELECT COUNT(key) as c FROM "+s.storeName,[],(function(t,n){var s=n.rows.item(0).c;e(s)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Te(e,t){var n=this,s=new c((function(t,s){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){be(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var s=n.rows.length?n.rows.item(0).key:null;t(s)}),(function(e,t){s(t)}))}))})).catch(s)}));return u(s,t),s}function _e(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var s=t._dbInfo;s.db.transaction((function(t){be(t,s,"SELECT key FROM "+s.storeName,[],(function(t,n){for(var s=[],i=0;i<n.rows.length;i++)s.push(n.rows.item(i).key);e(s)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Ne(e){return new c((function(t,n){e.transaction((function(s){s.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,s){for(var i=[],r=0;r<s.rows.length;r++)i.push(s.rows.item(r).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function De(e,t){t=p.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var s,i=this;return u(s=e.name?new c((function(t){var s;s=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:s,storeNames:[e.storeName]}):t(Ne(s))})).then((function(e){return new c((function(t,n){e.db.transaction((function(s){function i(e){return new c((function(t,n){s.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var r=[],a=0,o=e.storeNames.length;a<o;a++)r.push(i(e.storeNames[a]));c.all(r).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):c.reject("Invalid arguments"),t),s}var Me={_driver:"webSQLStorage",_initStorage:we,_support:K(),iterate:xe,getItem:ve,setItem:ke,removeItem:Ee,clear:Se,length:Ie,key:Te,keys:_e,dropInstance:De};function Be(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Re(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Fe(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function Oe(){return!Fe()||localStorage.length>0}function Le(e){var t=this,n={};if(e)for(var s in e)n[s]=e[s];return n.keyPrefix=Re(e,t._defaultConfig),Oe()?(t._dbInfo=n,n.serializer=ye,c.resolve()):c.reject()}function ze(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var s=localStorage.key(n);0===s.indexOf(e)&&localStorage.removeItem(s)}}));return u(n,e),n}function Ve(e,t){var n=this;e=d(e);var s=n.ready().then((function(){var t=n._dbInfo,s=localStorage.getItem(t.keyPrefix+e);return s&&(s=t.serializer.deserialize(s)),s}));return u(s,t),s}function Pe(e,t){var n=this,s=n.ready().then((function(){for(var t=n._dbInfo,s=t.keyPrefix,i=s.length,r=localStorage.length,a=1,o=0;o<r;o++){var l=localStorage.key(o);if(0===l.indexOf(s)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(i),a++)))return c}}}));return u(s,t),s}function We(e,t){var n=this,s=n.ready().then((function(){var t,s=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(s.keyPrefix.length)),t}));return u(s,t),s}function Ge(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,s=[],i=0;i<n;i++){var r=localStorage.key(i);0===r.indexOf(e.keyPrefix)&&s.push(r.substring(e.keyPrefix.length))}return s}));return u(n,e),n}function Ue(e){var t=this.keys().then((function(e){return e.length}));return u(t,e),t}function je(e,t){var n=this;e=d(e);var s=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return u(s,t),s}function qe(e,t,n){var s=this;e=d(e);var i=s.ready().then((function(){void 0===t&&(t=null);var n=t;return new c((function(i,r){var a=s._dbInfo;a.serializer.serialize(t,(function(t,s){if(s)r(s);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||r(e),r(e)}}))}))}));return u(i,n),i}function He(e,t){if(t=p.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var s,i=this;return s=e.name?new c((function(t){e.storeName?t(Re(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):c.reject("Invalid arguments"),u(s,t),s}var Ye={_driver:"localStorageWrapper",_initStorage:Le,_support:Be(),iterate:Pe,getItem:Ve,setItem:qe,removeItem:je,clear:ze,length:Ue,key:We,keys:Ge,dropInstance:He},Ke=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ze=function(e,t){for(var n=e.length,s=0;s<n;){if(Ke(e[s],t))return!0;s++}return!1},Qe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Xe={},$e={},Je={INDEXEDDB:Y,WEBSQL:Me,LOCALSTORAGE:Ye},et=[Je.INDEXEDDB._driver,Je.WEBSQL._driver,Je.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),st={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function rt(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Qe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var at=function(){function e(t){for(var n in i(this,e),Je)if(Je.hasOwnProperty(n)){var s=Je[n],r=s._driver;this[n]=r,Xe[r]||this.defineDriver(s)}this._defaultConfig=rt({},st),this._config=rt({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":s(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var s=new c((function(t,n){try{var s=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var r=nt.concat("_initStorage"),a=0,o=r.length;a<o;a++){var l=r[a];if((!Ze(tt,l)||e[l])&&"function"!=typeof e[l])return void n(i)}var h=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=c.reject(t);return u(n,arguments[arguments.length-1]),n}},n=0,s=tt.length;n<s;n++){var i=tt[n];e[i]||(e[i]=t(i))}};h();var d=function(n){Xe[s],Xe[s]=e,$e[s]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}}));return h(s,t,n),s},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var s=Xe[e]?c.resolve(Xe[e]):c.reject(new Error("Driver not found."));return h(s,t,n),s},e.prototype.getSerializer=function(e){var t=c.resolve(ye);return h(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return h(n,e,e),n},e.prototype.setDriver=function(e,t,n){var s=this;Qe(e)||(e=[e]);var i=this._getSupportedDrivers(e);function r(){s._config.driver=s.driver()}function a(e){return s._extend(e),r(),s._ready=s._initStorage(s._config),s._ready}function o(e){return function(){var t=0;function n(){for(;t<e.length;){var i=e[t];return t++,s._dbInfo=null,s._ready=null,s.getDriver(i).then(a).catch(n)}r();var o=new Error("No available storage method found.");return s._driverSet=c.reject(o),s._driverSet}return n()}}var l=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=l.then((function(){var e=i[0];return s._dbInfo=null,s._ready=null,s.getDriver(e).then((function(e){s._driver=e._driver,r(),s._wrapLibraryMethodsWithReady(),s._initDriver=o(i)}))})).catch((function(){r();var e=new Error("No available storage method found.");return s._driverSet=c.reject(e),s._driverSet})),h(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!$e[e]},e.prototype._extend=function(e){rt(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,s=e.length;n<s;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)it(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ot=new at;t.exports=ot},{3:3}]},{},[4])(4)},3122:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function s(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=s;var i={},r={};function a(e,t){var n,s,a;return t?(a=0<=(e>>>=0)&&e<256)&&(s=r[e])?s:(n=l(e,(0|e)<0?-1:0,!0),a&&(r[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(s=i[e])?s:(n=l(e,e<0?-1:0,!1),a&&(i[e]=n),n)}function o(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return x}else{if(e<=-f)return C;if(e+1>=f)return v}return e<0?o(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,s){return new n(e,t,s)}n.fromInt=a,n.fromNumber=o,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var s;if((s=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===s)return u(e.substring(1),t,n).neg();for(var i=o(c(n,8)),r=g,a=0;a<e.length;a+=8){var l=Math.min(8,e.length-a),h=parseInt(e.substring(a,a+l),n);if(l<8){var d=o(c(n,l));r=r.mul(d).add(o(h))}else r=(r=r.mul(i)).add(o(h))}return r.unsigned=t,r}function h(e,t){return"number"==typeof e?o(e,t):"string"==typeof e?u(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=h;var d=4294967296,p=d*d,f=p/2,m=a(1<<24),g=a(0);n.ZERO=g;var y=a(0,!0);n.UZERO=y;var A=a(1);n.ONE=A;var w=a(1,!0);n.UONE=w;var b=a(-1);n.NEG_ONE=b;var v=l(-1,2147483647,!1);n.MAX_VALUE=v;var x=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var C=l(0,-2147483648,!1);n.MIN_VALUE=C;var k=n.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},k.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=o(e),n=this.div(t),s=n.mul(t).sub(this);return n.toString(e)+s.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(c(e,6),this.unsigned),r=this,a="";;){var l=r.div(i),u=(r.sub(l.mul(i)).toInt()>>>0).toString(e);if((r=l).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return!(1&~this.low)},k.isEven=function(){return!(1&this.low)},k.equals=function(e){return s(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},k.eq=k.equals,k.notEquals=function(e){return!this.eq(e)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(e){return this.comp(e)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(e){return this.comp(e)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(e){return this.comp(e)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(e){return this.comp(e)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(e){if(s(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(A)},k.neg=k.negate,k.add=function(e){s(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,r=65535&this.low,a=e.high>>>16,o=65535&e.high,c=e.low>>>16,u=0,d=0,p=0,f=0;return p+=(f+=r+(65535&e.low))>>>16,d+=(p+=i+c)>>>16,u+=(d+=n+o)>>>16,u+=t+a,l((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},k.subtract=function(e){return s(e)||(e=h(e)),this.add(e.neg())},k.sub=k.subtract,k.multiply=function(e){if(this.isZero())return g;if(s(e)||(e=h(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(C))return e.isOdd()?C:g;if(e.eq(C))return this.isOdd()?C:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,a=65535&this.low,c=e.high>>>16,u=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,y=0,A=0,w=0;return A+=(w+=a*p)>>>16,y+=(A+=r*p)>>>16,A&=65535,y+=(A+=a*d)>>>16,f+=(y+=i*p)>>>16,y&=65535,f+=(y+=r*d)>>>16,y&=65535,f+=(y+=a*u)>>>16,f+=n*p+i*d+r*u+a*c,l((A&=65535)<<16|(w&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(e){if(s(e)||(e=h(e)),e.isZero())throw Error("division by zero");var n,i,r;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return w;r=y}else{if(this.eq(C))return e.eq(A)||e.eq(b)?C:e.eq(C)?A:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?A:b:(i=this.sub(e.mul(n)),r=n.add(i.div(e)));if(e.eq(C))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=g}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),u=a<=48?1:c(2,a-48),d=o(n),p=d.mul(e);p.isNegative()||p.gt(i);)p=(d=o(n-=u,this.unsigned)).mul(e);d.isZero()&&(d=A),r=r.add(d),i=i.sub(p)}return r},k.div=k.divide,k.modulo=function(e){return s(e)||(e=h(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return l(~this.low,~this.high,this.unsigned)},k.and=function(e){return s(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},k.or=function(e){return s(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},k.xor=function(e){return s(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},k.shiftLeft=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(e){if(s(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},k.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},k.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,s){return s?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},9464:function(e,t){var n,s,i;s=[e],n=function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i={order:2,precision:2,period:null};function r(e,t){var n=[],s=[];e.forEach((function(e,i){null!==e[1]&&(s.push(e),n.push(t[i]))}));var i=s.reduce((function(e,t){return e+t[1]}),0)/s.length,r=s.reduce((function(e,t){var n=t[1]-i;return e+n*n}),0);return 1-s.reduce((function(e,t,s){var i=n[s],r=t[1]-i[1];return e+r*r}),0)/r}function a(e,t){for(var n=e,s=e.length-1,i=[t],r=0;r<s;r++){for(var a=r,o=r+1;o<s;o++)Math.abs(n[r][o])>Math.abs(n[r][a])&&(a=o);for(var l=r;l<s+1;l++){var c=n[l][r];n[l][r]=n[l][a],n[l][a]=c}for(var u=r+1;u<s;u++)for(var h=s;h>=r;h--)n[h][u]-=n[h][r]*n[r][u]/n[r][r]}for(var d=s-1;d>=0;d--){for(var p=0,f=d+1;f<s;f++)p+=n[f][d]*i[f];i[d]=(n[s][d]-p)/n[d][d]}return i}function o(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var l={linear:function(e,t){for(var n=[0,0,0,0,0],s=0,i=0;i<e.length;i++)null!==e[i][1]&&(s++,n[0]+=e[i][0],n[1]+=e[i][1],n[2]+=e[i][0]*e[i][0],n[3]+=e[i][0]*e[i][1],n[4]+=e[i][1]*e[i][1]);var a=s*n[2]-n[0]*n[0],l=s*n[3]-n[0]*n[1],c=0===a?0:o(l/a,t.precision),u=o(n[1]/s-c*n[0]/s,t.precision),h=function(e){return[o(e,t.precision),o(c*e+u,t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[c,u],r2:o(r(e,d),t.precision),string:0===u?"y = "+c+"x":"y = "+c+"x + "+u}},exponential:function(e,t){for(var n=[0,0,0,0,0,0],s=0;s<e.length;s++)null!==e[s][1]&&(n[0]+=e[s][0],n[1]+=e[s][1],n[2]+=e[s][0]*e[s][0]*e[s][1],n[3]+=e[s][1]*Math.log(e[s][1]),n[4]+=e[s][0]*e[s][1]*Math.log(e[s][1]),n[5]+=e[s][0]*e[s][1]);var i=n[1]*n[2]-n[5]*n[5],a=Math.exp((n[2]*n[3]-n[5]*n[4])/i),l=(n[1]*n[4]-n[5]*n[3])/i,c=o(a,t.precision),u=o(l,t.precision),h=function(e){return[o(e,t.precision),o(c*Math.exp(u*e),t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[c,u],string:"y = "+c+"e^("+u+"x)",r2:o(r(e,d),t.precision)}},logarithmic:function(e,t){for(var n=[0,0,0,0],s=e.length,i=0;i<s;i++)null!==e[i][1]&&(n[0]+=Math.log(e[i][0]),n[1]+=e[i][1]*Math.log(e[i][0]),n[2]+=e[i][1],n[3]+=Math.pow(Math.log(e[i][0]),2));var a=o((s*n[1]-n[2]*n[0])/(s*n[3]-n[0]*n[0]),t.precision),l=o((n[2]-a*n[0])/s,t.precision),c=function(e){return[o(e,t.precision),o(o(l+a*Math.log(e),t.precision),t.precision)]},u=e.map((function(e){return c(e[0])}));return{points:u,predict:c,equation:[l,a],string:"y = "+l+" + "+a+" ln(x)",r2:o(r(e,u),t.precision)}},power:function(e,t){for(var n=[0,0,0,0,0],s=e.length,i=0;i<s;i++)null!==e[i][1]&&(n[0]+=Math.log(e[i][0]),n[1]+=Math.log(e[i][1])*Math.log(e[i][0]),n[2]+=Math.log(e[i][1]),n[3]+=Math.pow(Math.log(e[i][0]),2));var a=(s*n[1]-n[0]*n[2])/(s*n[3]-Math.pow(n[0],2)),l=(n[2]-a*n[0])/s,c=o(Math.exp(l),t.precision),u=o(a,t.precision),h=function(e){return[o(e,t.precision),o(o(c*Math.pow(e,u),t.precision),t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[c,u],string:"y = "+c+"x^"+u,r2:o(r(e,d),t.precision)}},polynomial:function(e,t){for(var n=[],i=[],l=0,c=0,u=e.length,h=t.order+1,d=0;d<h;d++){for(var p=0;p<u;p++)null!==e[p][1]&&(l+=Math.pow(e[p][0],d)*e[p][1]);n.push(l),l=0;for(var f=[],m=0;m<h;m++){for(var g=0;g<u;g++)null!==e[g][1]&&(c+=Math.pow(e[g][0],d+m));f.push(c),c=0}i.push(f)}i.push(n);for(var y=a(i,h).map((function(e){return o(e,t.precision)})),A=function(e){return[o(e,t.precision),o(y.reduce((function(t,n,s){return t+n*Math.pow(e,s)}),0),t.precision)]},w=e.map((function(e){return A(e[0])})),b="y = ",v=y.length-1;v>=0;v--)b+=v>1?y[v]+"x^"+v+" + ":1===v?y[v]+"x + ":y[v];return{string:b,points:w,predict:A,equation:[].concat(s(y)).reverse(),r2:o(r(e,w),t.precision)}}};function c(){var e=function(e,s){return n({_round:o},e,t({},s,(function(e,t){return l[s](e,n({},i,t))})))};return Object.keys(l).reduce(e,{})}e.exports=c()},void 0===(i="function"==typeof n?n.apply(t,s):n)||(e.exports=i)},2183:(e,t,n)=>{var s=n(1812),i=n(6357),r=n(1119),a=n(147),o=n(6297),l=n(9181),c=n(7529);c.alea=s,c.xor128=i,c.xorwow=r,c.xorshift7=a,c.xor4096=o,c.tychei=l,e.exports=c},1812:function(e,t,n){var s;!function(e,i){function r(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var s=.02519603282416938*(e+=t.charCodeAt(n));s-=e=s>>>0,e=(s*=e)>>>0,e+=4294967296*(s-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var n=new r(e),s=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,s&&("object"==typeof s&&a(s,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=o:n.amdD&&n.amdO?void 0===(s=function(){return o}.call(t,n,t,i))||(i.exports=s):this.alea=o}(0,e=n.nmd(e),n.amdD)},9181:function(e,t,n){var s;!function(e,i){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,s=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-s|0,s=s<<24^s>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-s|0,t.d=s<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var s=0;s<n.length+20;s++)t.b^=0|n.charCodeAt(s),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var n=new r(e),s=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,s&&("object"==typeof s&&a(s,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=o:n.amdD&&n.amdO?void 0===(s=function(){return o}.call(t,n,t,i))||(i.exports=s):this.tychei=o}(0,e=n.nmd(e),n.amdD)},6357:function(e,t,n){var s;!function(e,i){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var s=0;s<n.length+64;s++)t.x^=0|n.charCodeAt(s),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var n=new r(e),s=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,s&&("object"==typeof s&&a(s,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=o:n.amdD&&n.amdO?void 0===(s=function(){return o}.call(t,n,t,i))||(i.exports=s):this.xor128=o}(0,e=n.nmd(e),n.amdD)},6297:function(e,t,n){var s;!function(e,i){function r(e){var t=this;t.next=function(){var e,n,s=t.w,i=t.X,r=t.i;return t.w=s=s+1640531527|0,n=i[r+34&127],e=i[r=r+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[r]=n^e,t.i=r,n+(s^s>>>16)|0},function(e,t){var n,s,i,r,a,o=[],l=128;for(t===(0|t)?(s=t,t=null):(t+="\0",s=0,l=Math.max(l,t.length)),i=0,r=-32;r<l;++r)t&&(s^=t.charCodeAt((r+32)%t.length)),0===r&&(a=s),s^=s<<10,s^=s>>>15,s^=s<<4,s^=s>>>13,r>=0&&(a=a+1640531527|0,i=0==(n=o[127&r]^=s+a)?i+1:0);for(i>=128&&(o[127&(t&&t.length||0)]=-1),i=127,r=512;r>0;--r)s=o[i+34&127],n=o[i=i+1&127],s^=s<<13,n^=n<<17,s^=s>>>15,n^=n>>>12,o[i]=s^n;e.w=a,e.X=o,e.i=i}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),s=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,s&&(s.X&&a(s,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=o:n.amdD&&n.amdO?void 0===(s=function(){return o}.call(t,n,t,i))||(i.exports=s):this.xor4096=o}(0,e=n.nmd(e),n.amdD)},147:function(e,t,n){var s;!function(e,i){function r(e){var t=this;t.next=function(){var e,n,s=t.x,i=t.i;return e=s[i],n=(e^=e>>>7)^e<<24,n^=(e=s[i+1&7])^e>>>10,n^=(e=s[i+3&7])^e>>>3,n^=(e=s[i+4&7])^e<<7,e=s[i+7&7],n^=(e^=e<<13)^e<<9,s[i]=n,t.i=i+1&7,n},function(e,t){var n,s=[];if(t===(0|t))s[0]=t;else for(t=""+t,n=0;n<t.length;++n)s[7&n]=s[7&n]<<15^t.charCodeAt(n)+s[n+1&7]<<13;for(;s.length<8;)s.push(0);for(n=0;n<8&&0===s[n];++n);for(8==n?s[7]=-1:s[n],e.x=s,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),s=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,s&&(s.x&&a(s,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=o:n.amdD&&n.amdO?void 0===(s=function(){return o}.call(t,n,t,i))||(i.exports=s):this.xorshift7=o}(0,e=n.nmd(e),n.amdD)},1119:function(e,t,n){var s;!function(e,i){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var s=0;s<n.length+64;s++)t.x^=0|n.charCodeAt(s),s==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var n=new r(e),s=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,s&&("object"==typeof s&&a(s,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=o:n.amdD&&n.amdO?void 0===(s=function(){return o}.call(t,n,t,i))||(i.exports=s):this.xorwow=o}(0,e=n.nmd(e),n.amdD)},7529:function(e,t,n){var s;!function(i,r,a){var o,l=256,c=a.pow(l,6),u=a.pow(2,52),h=2*u,d=255;function p(e,t,n){var s=[],d=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,A(r)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(l):(e=new Uint8Array(l),(i.crypto||i.msCrypto).getRandomValues(e)),A(e)}catch(e){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,A(r)]}}():e,3),s),p=new f(s),w=function(){for(var e=p.g(6),t=c,n=0;e<u;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|p.g(4)},w.quick=function(){return p.g(4)/4294967296},w.double=w,y(A(p.S),r),(t.pass||n||function(e,t,n,s){return s&&(s.S&&m(s,p),e.state=function(){return m(p,{})}),n?(a.random=e,t):e})(w,d,"global"in t?t.global:this==a,t.state)}function f(e){var t,n=e.length,s=this,i=0,r=s.i=s.j=0,a=s.S=[];for(n||(e=[n++]);i<l;)a[i]=i++;for(i=0;i<l;i++)a[i]=a[r=d&r+e[i%n]+(t=a[i])],a[r]=t;(s.g=function(e){for(var t,n=0,i=s.i,r=s.j,a=s.S;e--;)t=a[i=d&i+1],n=n*l+a[d&(a[i]=a[r=d&r+t])+(a[r]=t)];return s.i=i,s.j=r,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,s=[],i=typeof e;if(t&&"object"==i)for(n in e)try{s.push(g(e[n],t-1))}catch(e){}return s.length?s:"string"==i?e:e+"\0"}function y(e,t){for(var n,s=e+"",i=0;i<s.length;)t[d&i]=d&(n^=19*t[d&i])+s.charCodeAt(i++);return A(t)}function A(e){return String.fromCharCode.apply(0,e)}if(y(a.random(),r),e.exports){e.exports=p;try{o=n(170)}catch(e){}}else void 0===(s=function(){return p}.call(t,n,t,e))||(e.exports=s)}("undefined"!=typeof self?self:this,[],Math)},8273:()=>{},9830:()=>{},3818:()=>{},6308:()=>{},7695:()=>{},170:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.nc=void 0;var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>vY});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{CompositeArrayBuffer:()=>fl,browserFiles:()=>lu,browserHTTPRequest:()=>yu,concatenateArrayBuffers:()=>Bl,copyModel:()=>Ac,decodeWeights:()=>kl,decodeWeightsStream:()=>_l,encodeWeights:()=>Cl,fromMemory:()=>vu,fromMemorySync:()=>xu,getLoadHandlers:()=>jl,getModelArtifactsForJSON:()=>Ll,getModelArtifactsForJSONSync:()=>Ol,getModelArtifactsInfoForJSON:()=>zl,getSaveHandlers:()=>Ul,getWeightSpecs:()=>Vl,http:()=>gu,isHTTPScheme:()=>fu,listModels:()=>gc,loadWeights:()=>hu,moveModel:()=>wc,registerLoadRouter:()=>Gl,registerSaveRouter:()=>Wl,removeModel:()=>yc,weightsLoaderFactory:()=>du,withSaveHandler:()=>Cu,withSaveHandlerSync:()=>ku});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{assertParamsValid:()=>Ru,computeFlatOffset:()=>Yu,computeOutShape:()=>Ou,getNormalizedAxes:()=>Pu,isSliceContinous:()=>Hu,maskToAxes:()=>Fu,parseSliceParams:()=>Ku,sliceInfo:()=>Zu,startForAxis:()=>ju,startIndicesWithElidedDims:()=>Wu,stopForAxis:()=>qu,stopIndicesWithElidedDims:()=>Gu,stridesForAxis:()=>Uu,stridesWithElidedDims:()=>Lu});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{conv2d:()=>cm,depthwiseConv2d:()=>dm,matMul:()=>pm});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{collectGatherOpShapeInfo:()=>Ay,computeOutShape:()=>yy,segOpComputeOptimalWindowSize:()=>gy});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{ERF_A1:()=>Rg,ERF_A2:()=>Fg,ERF_A3:()=>Og,ERF_A4:()=>Lg,ERF_A5:()=>zg,ERF_P:()=>Bg,PARALLELIZE_THRESHOLD:()=>xg,RowPartitionType:()=>gg,SELU_SCALE:()=>Mg,SELU_SCALEALPHA:()=>Dg,applyActivation:()=>om,assertAndGetBroadcastShape:()=>$c,assertAxesAreInnerMostDims:()=>xd,assertParamsConsistent:()=>fg,assignToTypedArray:()=>jg,axesAreInnerMostDims:()=>Ad,calculateShapes:()=>Lf,checkEinsumDimSizes:()=>Jg,checkPadOnDimRoundingMode:()=>Ch,combineLocations:()=>wd,combineRaggedTensorToTensorShapes:()=>Ag,complexWithEvenIndex:()=>Wg,complexWithOddIndex:()=>Gg,computeConv2DInfo:()=>dh,computeConv3DInfo:()=>ph,computeDefaultPad:()=>fh,computeDilation2DInfo:()=>ch,computeOptimalWindowSize:()=>Cg,computeOutAndReduceShapes:()=>bd,computeOutShape:()=>mg,computePool2DInfo:()=>uh,computePool3DInfo:()=>hh,convertConv2DDataFormat:()=>xh,decodeEinsumEquation:()=>Xg,eitherStridesOrDilationsAreOne:()=>bh,expandShapeToKeepDim:()=>vd,exponent:()=>Hg,exponents:()=>qg,fromStringArrayToUint8:()=>by,fromUint8ToStringArray:()=>wy,getAxesPermutation:()=>Cd,getBroadcastDims:()=>Qc,getComplexWithIndex:()=>Ug,getEinsumComputePath:()=>ey,getEinsumPermutation:()=>$g,getFusedBiasGradient:()=>am,getFusedDyActivation:()=>rm,getImageCenter:()=>kg,getInnerMostAxes:()=>Ed,getPermuted:()=>Sg,getRaggedRank:()=>bg,getReductionAxes:()=>Xc,getReshaped:()=>Eg,getReshapedPermuted:()=>Ig,getRowPartitionTypesHelper:()=>wg,getSliceBeginCoords:()=>Tg,getSliceSize:()=>_g,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>iy,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>ry,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>ay,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>cy,getSparseReshapeInputOutputMismatchErrorMessage:()=>hy,getSparseReshapeInputOutputMultipleErrorMessage:()=>uy,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>oy,getSparseReshapeNegativeOutputDimErrorMessage:()=>ly,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>my,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>dy,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>py,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>fy,getUndoAxesPermutation:()=>kd,isIdentityPermutation:()=>ty,log:()=>Fa,mergeRealAndImagArrays:()=>Vg,prepareAndValidate:()=>Ng,prepareSplitSize:()=>sy,segment_util:()=>s,shouldFuse:()=>lm,slice_util:()=>t,splitRealAndImagArrays:()=>Pg,stridesOrDilationsArePositive:()=>vh,tupleValuesAreOne:()=>wh,upcastType:()=>Vo,validateDefaultValueShape:()=>vg,validateInput:()=>Of,validateUpdateShape:()=>Ff,warn:()=>Ra});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{json:()=>Vk});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{json:()=>Pk});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{json:()=>Wk});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{json:()=>Gk});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{json:()=>Uk});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{json:()=>jk});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{json:()=>qk});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{json:()=>Hk});var p={};__webpack_require__.r(p),__webpack_require__.d(p,{json:()=>Yk});var f={};__webpack_require__.r(f),__webpack_require__.d(f,{json:()=>Kk});var m={};__webpack_require__.r(m),__webpack_require__.d(m,{json:()=>Zk});var g={};__webpack_require__.r(g),__webpack_require__.d(g,{json:()=>Qk});var y={};__webpack_require__.r(y),__webpack_require__.d(y,{json:()=>Xk});var A={};__webpack_require__.r(A),__webpack_require__.d(A,{json:()=>$k});var w={};__webpack_require__.r(w),__webpack_require__.d(w,{json:()=>Jk});var b={};__webpack_require__.r(b),__webpack_require__.d(b,{json:()=>eE});var v={};__webpack_require__.r(v),__webpack_require__.d(v,{json:()=>tE});var x={};__webpack_require__.r(x),__webpack_require__.d(x,{json:()=>nE});var C={};__webpack_require__.r(C),__webpack_require__.d(C,{json:()=>sE});var k={};__webpack_require__.r(k),__webpack_require__.d(k,{OP_SCOPE_SUFFIX:()=>ll,abs:()=>Zc,acos:()=>Xu,acosh:()=>$u,add:()=>Tc,addN:()=>Ju,all:()=>eh,any:()=>th,argMax:()=>nh,argMin:()=>sh,asin:()=>ih,asinh:()=>rh,atan:()=>ah,atan2:()=>oh,atanh:()=>lh,avgPool:()=>Eh,avgPool3d:()=>Sh,basicLSTMCell:()=>Mh,batchNorm:()=>Rh,batchNorm2d:()=>Fh,batchNorm3d:()=>Oh,batchNorm4d:()=>Lh,batchToSpaceND:()=>Bh,bincount:()=>zh,bitwiseAnd:()=>Vh,booleanMaskAsync:()=>Kf,broadcastArgs:()=>Ph,broadcastTo:()=>Wh,buffer:()=>kc,cast:()=>Ec,ceil:()=>Gh,clipByValue:()=>Uh,clone:()=>Sc,complex:()=>ul,concat:()=>Ih,concat1d:()=>jh,concat2d:()=>qh,concat3d:()=>Hh,concat4d:()=>Yh,conv1d:()=>Zh,conv2d:()=>Kh,conv2dTranspose:()=>Xh,conv3d:()=>$h,conv3dTranspose:()=>ed,cos:()=>td,cosh:()=>nd,cosineWindow:()=>nm,cumprod:()=>sd,cumsum:()=>id,denseBincount:()=>rd,depthToSpace:()=>ad,depthwiseConv2d:()=>od,diag:()=>ld,dilation2d:()=>cd,div:()=>Nc,divNoNan:()=>dd,dot:()=>pd,dropout:()=>em,einsum:()=>fd,elu:()=>md,enclosingPowerOfTwo:()=>tm,ensureShape:()=>gd,equal:()=>ud,erf:()=>yd,euclideanNorm:()=>Dd,exp:()=>Md,expandDims:()=>Bd,expm1:()=>Rd,eye:()=>Od,fft:()=>wf,fill:()=>jc,floor:()=>Ld,floorDiv:()=>_c,fused:()=>n,gather:()=>zd,gatherND:()=>Jf,greater:()=>Vd,greaterEqual:()=>Pd,ifft:()=>bf,imag:()=>Wd,image:()=>ag,inTopKAsync:()=>sm,irfft:()=>vf,isFinite:()=>Gd,isInf:()=>Ud,isNaN:()=>jd,leakyRelu:()=>qd,less:()=>Hd,lessEqual:()=>Yd,linalg:()=>og,linspace:()=>Kd,localResponseNormalization:()=>Zd,log:()=>Qd,log1p:()=>Xd,logSigmoid:()=>ep,logSoftmax:()=>tp,logSumExp:()=>np,logicalAnd:()=>sp,logicalNot:()=>ip,logicalOr:()=>rp,logicalXor:()=>ap,losses:()=>lg,lowerBound:()=>cp,matMul:()=>Th,max:()=>Sd,maxPool:()=>up,maxPool3d:()=>hp,maxPoolWithArgmax:()=>dp,maximum:()=>Jc,mean:()=>pp,meshgrid:()=>gp,min:()=>Id,minimum:()=>yp,mirrorPad:()=>Ap,mod:()=>wp,moments:()=>bp,movingAverage:()=>Qf,mul:()=>Dc,multiRNNCell:()=>vp,multinomial:()=>xp,neg:()=>$d,norm:()=>Nd,notEqual:()=>Cp,oneHot:()=>kp,ones:()=>mp,onesLike:()=>Ep,op:()=>cl,outerProduct:()=>Sp,pad:()=>Ip,pad1d:()=>Tp,pad2d:()=>_p,pad3d:()=>Np,pad4d:()=>Dp,pool:()=>Bp,pow:()=>Hc,prelu:()=>Rp,print:()=>Ic,prod:()=>Fp,raggedGather:()=>Op,raggedRange:()=>Lp,raggedTensorToTensor:()=>zp,rand:()=>Vp,randomGamma:()=>jp,randomNormal:()=>qp,randomStandardNormal:()=>Hp,randomUniform:()=>Yp,randomUniformInt:()=>Kp,range:()=>Zp,real:()=>Qp,reciprocal:()=>Xp,relu:()=>$p,relu6:()=>Jp,reshape:()=>kh,reverse:()=>ef,reverse1d:()=>tf,reverse2d:()=>nf,reverse3d:()=>sf,reverse4d:()=>rf,rfft:()=>Cf,round:()=>af,rsqrt:()=>of,scalar:()=>Oc,scatterND:()=>Xf,searchSorted:()=>lp,selu:()=>lf,separableConv2d:()=>cf,setdiff1dAsync:()=>uf,sigmoid:()=>_h,sign:()=>hf,signal:()=>rg,sin:()=>df,sinh:()=>pf,slice:()=>Nh,slice1d:()=>ff,slice2d:()=>mf,slice3d:()=>gf,slice4d:()=>yf,softmax:()=>Af,softplus:()=>Jd,spaceToBatchND:()=>Mp,sparse:()=>cg,sparseToDense:()=>$f,spectral:()=>ig,split:()=>xf,sqrt:()=>Mc,square:()=>Bc,squaredDifference:()=>kf,squeeze:()=>Ef,stack:()=>Sf,step:()=>If,stridedSlice:()=>Tf,string:()=>ug,sub:()=>Yc,sum:()=>Td,tan:()=>_f,tanh:()=>Dh,tensor:()=>dl,tensor1d:()=>Nf,tensor2d:()=>Df,tensor3d:()=>Eu,tensor4d:()=>Mf,tensor5d:()=>Bf,tensor6d:()=>Rf,tensorScatterUpdate:()=>zf,tile:()=>Fd,topk:()=>Vf,transpose:()=>Zf,truncatedNormal:()=>Pf,unique:()=>Wf,unsortedSegmentSum:()=>Gf,unstack:()=>Uf,upperBound:()=>jf,variable:()=>qf,where:()=>hd,whereAsync:()=>Yf,zeros:()=>fp,zerosLike:()=>Rc});var E={};__webpack_require__.r(E),__webpack_require__.d(E,{mx:()=>iI,XI:()=>QI,Nk:()=>XI,f6:()=>JI,ct:()=>JS,YG:()=>sT,hH:()=>cT,z3:()=>YT,sG:()=>i_,uM:()=>c_,vS:()=>S_,qB:()=>R_,GG:()=>O_,lg:()=>W_,rq:()=>z_,cu:()=>eN,WR:()=>X_,GE:()=>sN,px:()=>rN,jC:()=>bN,He:()=>CN,hE:()=>BN,BF:()=>VT,Dk:()=>UN,cl:()=>XN,_B:()=>uD,ub:()=>mD,_f:()=>AD,Ku:()=>kD,qy:()=>SD,Zy:()=>zD,bu:()=>WD,zv:()=>jS,dH:()=>pI,HS:()=>HI,yH:()=>oM,l3:()=>cM,z9:()=>hM,x6:()=>gM,_m:()=>CM,eW:()=>TM,GK:()=>DM,SP:()=>RM,yr:()=>OM,dl:()=>m_,Dw:()=>WM,xT:()=>jM,_X:()=>bI,wz:()=>ZM});var S=__webpack_require__(7786),I=__webpack_require__(9043);S.A.prototype._CONST=Object.freeze({N:{VIDEO_W:{DESKTOP:208,MOBILE:144},VIDEO_MARGIN:"10px",VIDEO_MARGIN_BOTTOM:"40px",GAZE_CALIBRATION:{R:40,MARGIN:32,BORDER:8,CENTER_EXTRA_CHECK_OFFSET:2,MID_EXTRA_CHECK_OFFSET:6},PPI_DONT_USE:127.7,PD_DONT_USE:6.4,VIEW_DIST_DONT_USE:40},S:{AUTO:"AUTO",CLICK_TYPE:{MOUSE:"mouse",TOUCH:"touch"}},COLOR:{LIGHT_GREY:"#cccccc",ORANGE:"#ff9a00",DARK_RED:"#ac0d0d",RED:"#ee0000"},LTR:"LTR",RTL:"RTL",VIEW_METHOD:{B:"BlindSpot",F:"FaceMesh"},IN_TO_CM:2.54,UNITS:{CM:"cm",IN_D:"inDecimal",IN_F:"inFractional"},IPD_CM:6.3}),S.A.prototype._debuggerDefault=Object.freeze({date:new Date("July 20, 69 20:17:40 GMT+00:00"),timestamp:performance.now(),screenSize:{value:{screenWidthCm:28.6,screenHeightCm:17.9,screenPhysicalPpi:250,screenPpi:125,screenDiagonalCm:33.8,screenDiagonalIn:13.3}},measureDistance:{value:40,method:"BlindSpot"},trackDistance:{value:{viewingDistanceCm:40,PDCm:6.4,nearPointCm:{x:0,y:0},latencyMs:50},method:"FaceMesh"},trackGaze:{value:{x:screen.width/2,y:screen.height/2,latencyMs:50}},performance:{value:{computeArrayFillMHz:(0,I.Nh)(.5,3),computeRandomMHz:(0,I.Nh)(5,3),idealFps:60,stressFps:60}}});var T=__webpack_require__(115),_=__webpack_require__.n(T),N=__webpack_require__(3389),D=__webpack_require__.n(N),M=__webpack_require__(402),B=__webpack_require__.n(M),R=__webpack_require__(880),F=__webpack_require__.n(R),O=__webpack_require__(3282),L=__webpack_require__.n(O);const z=(e,t)=>{e.style.top=`${Math.round(t.querySelector(".calibration-instruction").getBoundingClientRect().bottom)+25}px`},V=e=>{const t=e.value/e.max;e.style.background=`linear-gradient(90deg, #ffc772, #ffc772 ${100*t}%, #fff ${100*t}%)`};var P=__webpack_require__(9853),W=__webpack_require__(359),G=__webpack_require__(9199),U=__webpack_require__(4564);S.A.prototype._displaySize=function(e=!1){if(!e&&!this.checkInitialized())return;const t={value:{displayWidthPx:screen.width,displayHeightPx:screen.height,windowWidthPx:window.innerWidth,windowHeightPx:window.innerHeight},timestamp:performance.now()};this.displayData.length&&_()(t.value,this.displayData[this.displayData.length-1].value)||(this.newDisplayData=t)};const j={card:D(),arrow:B(),usba:F(),usbc:L()},q={card:3.375,usba:.787402,usbc:.787402};S.A.prototype.screenSize=function(e={},t=void 0){if(!this.checkInitialized())return;(0,I.$k)();const n=Object.assign({fullscreen:!1,repeatTesting:1,decimalPlace:1,defaultObject:"card",headline:`${G.H.RC_screenSizeTitle[this.L]}`,description:G.H.RC_screenSizeIntro[this.L],check:!1,checkCallback:null},e);this.getFullscreen(n.fullscreen),["usba","usbc","card"].includes(n.defaultObject)||(n.defaultObject="card"),n.description+=`<br /><br /><b class="rc-size-obj-selection">${G.H.RC_screenSizeHave[this.L].replace("[[xxx]]",`<select id="matching-obj"><option value="usba"${"usba"===n.defaultObject?" selected":""}>${G.H.RC_screenSizeUSBA[this.L]}</option><option value="usbc"${"usbc"===n.defaultObject?" selected":""}>${G.H.RC_screenSizeUSBC[this.L]}</option><option value="card"${"card"===n.defaultObject?" selected":""}>${G.H.RC_screenSizeCreditCard[this.L]}</option></select>`)}</b>`,this._addBackground(),this._addBackgroundText(n.headline,n.description),this._addCreditOnBackground(G.H.RC_screenSizeCredit[this.L]),function(e,t,n,s){const i=((e,t,n)=>{const s=document.createElement("input");return s.id="rc-size-slider",s.className="rc-slider",s.type="range",s.min=t,s.max=n,s.value=Math.max(Math.min(Math.round(100*Math.random()),80),20),s.step=.1,z(s,e),V(s),e.appendChild(s),s})(t,0,100),r=(t,n)=>{if("rc-slider"===t.target.className&&"rc-size-slider"===t.target.id&&(n===e._CONST.S.CLICK_TYPE.MOUSE&&1===t.which||n===e._CONST.S.CLICK_TYPE.TOUCH)){t.target.style.cursor="grabbing",u.setAttribute("fill",e._CONST.COLOR.ORANGE);const s=()=>{i.style.cursor="grab",u.setAttribute("fill",e._CONST.COLOR.LIGHT_GREY),document.removeEventListener("mouseup",s,!1)};n===e._CONST.S.CLICK_TYPE.MOUSE?document.addEventListener("mouseup",s,!1):n===e._CONST.S.CLICK_TYPE.TOUCH&&document.addEventListener("touchend",s,!1)}},a=e=>{r(e,"mouse")},o=e=>{r(e,"touch")};document.addEventListener("mousedown",a,!1),document.addEventListener("touchstart",o,!1);const l=K(["card","arrow","usba","usbc"],t);let c=n.defaultObject;document.getElementById("matching-obj").addEventListener("change",(e=>{Z(e.target.value,l,d),c=e.target.value})),Z("card",l);const u=document.getElementById("size-arrow-fill");u.setAttribute("fill",e._CONST.COLOR.LIGHT_GREY);const h={width:l.arrow.getBoundingClientRect().width,height:l.arrow.getBoundingClientRect().height},d=()=>{H(e,i,l.card,l.arrow,h),Y(i,l.usba),Y(i,l.usbc)};d();const p=document.createElement("div");p.innerText=G.H.RC_screenSizeMatters[e.L],p.style.position="absolute",p.style.left="50%",p.style.width="calc(50% - 2rem)",p.style.color="black",p.style.fontSize="18pt",p.style.fontWeight="500",p.style.textAlign="left",p.style.zIndex="1",p.className="rc-measure-text",p.id="rc-measure-text",t.appendChild(p);const f=()=>{p.style.top=`${i.getBoundingClientRect().top+50}px`};f();const m=()=>{V(i),d()},g=new ResizeObserver((()=>{d(),z(i,t),X(l,i),f()}));g.observe(t);const y=(0,U.KD)(null,e.keypadHandler,(()=>{w()}),!1,["return","space"],e),A=()=>{document.removeEventListener("mousedown",a,!1),document.removeEventListener("touchstart",o,!1),document.removeEventListener("input",m,!1),g.unobserve(t),e._removeBackground(),y();const n=document.getElementById("rc-measure-text");n&&n.parentNode&&n.parentNode.removeChild(n),(0,P.l)(b)},w=()=>{(0,__webpack_require__(877).stampOfApprovalSound)();const t=(l[c].getBoundingClientRect().width||Number.parseInt(l[c].style.width))/q[c],i=n.decimalPlace,r=Q(t,i);e.newScreenData=r,A(),n.check?e._checkScreenSize(s,r,n.checkCallback):(0,I.nB)(s,r)};i.addEventListener("input",m,!1);const b=(0,P.m)({Escape:A," ":w}),v=(0,W.F)(e.L,e.background,{go:w,cancel:A},e.params.showCancelButton),x=v[1];x&&(x.style.display="none");const C=v[2];C&&(C.style.display="none");Z(c,l,d)}(this,this.background,n,t)};const H=(e,t,n,s,i)=>{const r=(t.offsetWidth-30)*(t.value/100)*(window.innerWidth<480?2:1)+15;n.style.width=`${r}px`;const a=n.getBoundingClientRect();0!==a.width&&(s.style.left=`${a.left+r}px`,s.style.top=`${a.top+e.background.scrollTop+(.63*r-i.height)/2}px`)},Y=(e,t)=>{t.style.width=`${(0,I.Ew)(e.value**1.5,0,1e3,50,400)}px`},K=(e,t)=>{const n=document.getElementsByClassName("size-obj");for(;n.length;)n[0].parentNode.removeChild(n[0]);const s={};for(const n of e){let e=document.createElement("div");t.appendChild(e),e.outerHTML=j[n],e=document.getElementById(`size-${n}`),e.setAttribute("preserveAspectRatio","none"),e.style.visibility="hidden",s[n]=e}return X(s,document.querySelector("#rc-size-slider")),s},Z=(e,t,n)=>{for(const n in t)t[n].style.visibility=n===e?"visible":"hidden";t.arrow.style.visibility="hidden",(0,I.nB)(n)},Q=(e,t)=>{const n={value:{screenWidthCm:(0,I.Nh)(2.54*window.screen.width/e,t),screenHeightCm:(0,I.Nh)(2.54*window.screen.height/e,t),screenPhysicalPpi:(0,I.Nh)(e*window.devicePixelRatio,t),screenPpi:(0,I.Nh)(e,t)},timestamp:performance.now()};return n.value.screenDiagonalCm=(0,I.Nh)(Math.hypot(n.value.screenWidthCm,n.value.screenHeightCm),t),n.value.screenDiagonalIn=(0,I.Nh)(n.value.screenDiagonalCm/2.54,t),n},X=(e,t)=>{for(const n in e)e[n].style.top=`${t.getBoundingClientRect().top+50}px`};var $=__webpack_require__(4284);function J(e,t,n,s,i){const r=setInterval((()=>{const a=document.getElementById("webgazerVideoContainer");a&&(clearInterval(r),a.style.height=t/Number.parseInt(a.style.width)*Number.parseInt(a.style.height)+"px",a.style.width=`${t}px`,a.style.opacity=n,s.setVideoViewerSize(Number.parseInt(a.style.width),Number.parseInt(a.style.height)),ee(e,a),setTimeout((()=>{e.videoOpacity(),e.isMobile.value?a.style.transition="right 0.5s, top 0.5s, width 0.5s, height 0.5s, border-radius 0.5s":a.style.transition="left 0.5s, bottom 0.5s, width 0.5s, height 0.5s, border-radius 0.5s",(0,I.nB)(i)}),700))}),100)}function ee(e,t){const n=null!==document.getElementById("custom-progress-bar");if(t.style.zIndex=999999999999,e.isMobile.value)t.style.left="unset",t.style.right=e._CONST.N.VIDEO_MARGIN,t.style.top="0px",t.style.bottom="unset";else{const e=parseInt(t.style.width)||parseInt(t.offsetWidth)||0,s=parseInt(t.style.height)||parseInt(t.offsetHeight)||0,i=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,a=i/2-e/2;if(t.style.left=`${a}px`,t.style.right="unset",t.style.transform="none",n){const n=(r-s)/2,a=i/2-e/2;t.style.top=`${n}px`,t.style.left=`${a}px`,t.style.bottom="unset"}else t.style.top="0px",t.style.bottom="unset"}if(!t._hasResizeListener){t._hasResizeListener=!0;const n=()=>{ee(e,t)};window.addEventListener("resize",n),t._resizeHandler=n}}function te(e,t,n,s="#ac0d0d"){e.fillStyle=s,e.fillRect(t-16,n-1,32,3),e.fillRect(t-1,n-16,3,32)}__webpack_require__(8840);const ne=(e,{showIcon:t})=>({icon:t?"info":void 0,allowEscapeKey:!1,allowOutsideClick:!1,showConfirmButton:!0,confirmButtonText:G.H.T_proceed[e.L],showClass:{popup:"fadeInUp",icon:""},hideClass:{popup:"fadeOutDown"},iconColor:e._CONST.COLOR.ORANGE,confirmButtonColor:"#019267",customClass:{popup:"my__swal2__container",icon:"my__swal2__icon",title:"my__swal2__title",htmlContainer:`my__swal2__html rc-lang-${e.LD.toLowerCase()}`,confirmButton:"rc-button rc-go-button"}}),se=(e,t="RC_ChooseCameraTitle")=>{const n=document.getElementById("rc-camera-title-top-right");n&&n.remove();const s=document.createElement("div");s.id="rc-camera-title-top-right",s.innerHTML=`<h1>${G.H[t][e.L]}</h1>`,s.style.cssText="\n    position: fixed;\n    top: 2rem;\n    left: 3rem;\n    z-index: 9999999999;\n    color: #000;\n    margin: 0;\n    text-align: left;\n    pointer-events: none;\n  ";const i=s.querySelector("h1");i&&(i.style.cssText="\n      margin: 0;\n      padding: 0;\n    "),document.body.appendChild(s)},ie=()=>{const e=document.getElementById("rc-camera-title-top-right");e&&e.remove()},re=async()=>{try{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){return(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind))}return[]}catch(e){return[]}},ae=async(e,t)=>{if(!e.gazeTracker?.webgazer)return!1;try{const n={video:{deviceId:{exact:t},width:{ideal:1920,max:1920},height:{ideal:1080,max:1080},aspectRatio:{ideal:1.77778},frameRate:{ideal:30,max:30},facingMode:"user"}};await e.gazeTracker.webgazer.setCameraConstraints(n),await new Promise((e=>setTimeout(e,800)));const s=e.gazeTracker.webgazer.videoParamsToReport;return!!(s&&s.width&&s.height)&&(s.width>=1280&&s.height>=720)}catch(e){return!1}},oe=async(e,t={})=>{await new Promise((e=>setTimeout(e,300)));let n=e.gazeTracker?.webgazer?.videoParamsToReport;if(n&&n.width&&n.height){let{width:s,height:i}=n;const r=t.resolutionWarningThreshold;if(void 0!==r&&s<r&&!e.resolutionWarningShown){const t=e.gazeTracker?.webgazer?.params?.activeCamera;if(t?.id){if(await ae(e,t.id)&&(n=e.gazeTracker?.webgazer?.videoParamsToReport,n&&n.width&&n.height&&(s=n.width,i=n.height,s>=r)))return!0}}if(void 0!==r&&s<r&&!e.resolutionWarningShown){e.resolutionWarningShown=!0;const t=(0,I.aS)();t&&(await(0,I.Eh)(),await new Promise((e=>setTimeout(e,50)))),await $.A.fire({...ne(e,{showIcon:!1}),title:G.H.RC_ImprovingCameraResolutionTitle[e.L],html:`\n            <div style="text-align: left; margin: 1rem 0; padding: 0;">\n              <p style="margin: 0; padding: 0; text-align: left;"> ${G.H.RC_ImprovingCameraResolution[e.L].replace("𝟙𝟙𝟙",s).replace("𝟚𝟚𝟚",i)}</p>\n            </div>\n          `,showCancelButton:!1,confirmButtonText:G.H.RC_OK[e.L],customClass:{popup:"my__swal2__container",title:"my__swal2__title",htmlContainer:`my__swal2__html rc-lang-${e.LD.toLowerCase()}`,confirmButton:"rc-button rc-go-button"},didOpen:()=>{const e=document.querySelector(".swal2-title"),t=document.querySelector(".swal2-html-container");e&&(e.style.textAlign="left",e.style.marginLeft="0",e.style.marginRight="0",e.style.padding="0"),t&&(t.style.textAlign="left",t.style.marginLeft="0",t.style.marginRight="0",t.style.padding="0")},allowOutsideClick:!1,allowEscapeKey:!1});const n=[];t&&n.push((0,I.Sf)(e.L,e).then((()=>{})).catch((e=>{})));const r=e.gazeTracker?.webgazer?.params?.activeCamera;r?.id&&n.push(ae(e,r.id).then((()=>{})).catch((e=>{}))),n.length>0&&await Promise.allSettled(n)}}return!0},le=e=>e.gazeTracker?.webgazer?.params?.activeCamera?{deviceId:e.gazeTracker.webgazer.params.activeCamera.id,label:e.gazeTracker.webgazer.params.activeCamera.label}:null,ce=async(e,t)=>{if(!e.gazeTracker?.webgazer||!t)return!1;try{if(e.gazeTracker.webgazer.params.activeCamera.label=t.label,e.gazeTracker.webgazer.params.activeCamera.id=t.deviceId,e.gazeTracker.webgazer.params.videoIsOn){await ae(e,t.deviceId)||await e.gazeTracker.webgazer.setCameraConstraints({video:{deviceId:{exact:t.deviceId}}})}return!0}catch(e){return!1}},ue=async(e,t,n,s)=>{if(0===e.length)return'<p style="color: #666; font-style: italic;">No cameras detected</p>';const i=document.getElementById("webgazerVideoContainer"),r=i?{width:`calc(${i.style.width||"320px"} * 0.85)`,height:i.style.height||"240px"}:{width:"272px",height:"240px"};let a='<div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 0; justify-content: center; align-items: center; width: 100%;">';for(let t=0;t<e.length;t++){const n=e[t],i=`camera-preview-${t}`,o=s&&s.deviceId===n.deviceId;a+=`\n      <div \n        id="camera-preview-container-${t}"\n        class="camera-preview-container"\n        data-device-id="${n.deviceId}"\n        data-camera-label="${n.label||`Camera ${t+1}`}"\n        style="display: flex; flex-direction: column; align-items: center; margin: 0; padding: 5px; border-radius: 8px; transition: all 0.2s ease; ${o?"background-color: #e8f5e8; border: 2px solid #28a745;":"border: 2px solid transparent;"}"\n      >\n        <video \n          id="${i}" \n          style="width: ${r.width}; height: ${r.height}; border: 2px solid #ccc; border-radius: 4px; object-fit: cover; pointer-events: none;"\n          autoplay \n          muted \n          playsinline\n        ></video>\n        <div style="margin-top: 5px; font-size: 12px; text-align: center; max-width: ${r.width}; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: ${o?"#28a745":"#666"}; font-weight: ${o?"bold":"normal"};">\n          ${n.label||`Camera ${t+1}`} ${o?"(Current)":""}\n        </div>\n      </div>\n    `}return a+="</div>",setTimeout((async()=>{for(let t=0;t<e.length;t++){const n=e[t],s=document.getElementById(`camera-preview-${t}`);if(s)try{const e=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:n.deviceId}}});s.srcObject=e}catch(e){s.style.border="2px solid #dc3545",s.style.backgroundColor="#f8d7da"}}}),100),a},he=async(e,t,n,s=[])=>{const i=document.querySelector(".camera-selection-popup .swal2-html-container");if(!i)return;s.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-${t}`);if(n&&n.srcObject){n.srcObject.getTracks().forEach((e=>e.stop()))}}));const r=await ue(e,0,0,n),a=i.querySelector('div[style*="display: flex"]');a&&(a.outerHTML=r),((e,t)=>{se(e,1===t?"RC_NeedCameraTitle":"RC_ChooseCameraTitle");const n=1===t?"RC_NeedCamera":"RC_ChooseCamera",s=document.querySelector('.camera-selection-popup .swal2-html-container div[style*="background: white"]');if(s){const t=G.H.RC_privacyCamera[e.L];s.innerHTML=`${G.H[n][e.L]}<br><br>${t}`}})(t,e.length),e.forEach(((n,s)=>{const i=document.getElementById(`camera-preview-container-${s}`);i&&(i.addEventListener("mouseenter",(async()=>{const n=i.getAttribute("data-device-id");i.getAttribute("data-camera-label");t.highlightedCameraDeviceId=n,e.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-container-${t}`);if(n){n.style.backgroundColor="transparent",n.style.border="2px solid transparent";const e=n.querySelector("div");e&&(e.style.color="#666",e.style.fontWeight="normal")}})),i.style.backgroundColor="#e8f5e8",i.style.border="2px solid #28a745";const s=i.querySelector("div");s&&(s.style.color="#28a745",s.style.fontWeight="bold");const r=e.find((e=>e.deviceId===n));if(r&&t.gazeTracker?.webgazer)try{await ce(t,r)}catch(e){}})),i.addEventListener("click",(async()=>{if(t.cameraSelectionLoading)return;const n=i.getAttribute("data-device-id"),s=i.getAttribute("data-camera-label");t.cameraSelectionLoading=!0,e.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-container-${t}`);n&&(n.style.pointerEvents="none",n.style.opacity="0.6")}));const r=document.createElement("div");r.id="camera-loading-text",r.style.cssText="\n          text-align: center;\n          color: #666;\n          font-style: italic;\n          margin: 10px 0;\n          font-size: 14px;\n        ",r.textContent=G.H.RC_LoadingVideo[t.L];const a=document.querySelector(".camera-selection-popup .swal2-html-container");a&&a.appendChild(r),await window.selectCamera(n,s),await new Promise((e=>setTimeout(e,800)));const o=document.getElementById("camera-loading-text");o&&o.remove(),$.A.clickConfirm()})))}))},de=async(e,t,n,s=null,i="RC_ChooseCameraTitle")=>{se(e,i);const r={showVideo:e.gazeTracker?.webgazer?.params?.showVideo??!0,showFaceOverlay:e.gazeTracker?.webgazer?.params?.showFaceOverlay??!0,showFaceFeedbackBox:e.gazeTracker?.webgazer?.params?.showFaceFeedbackBox??!0},a=document.getElementById("webgazerVideoContainer"),o=a?.style?.zIndex||"999999997";e.gazeTracker?.webgazer&&(e.gazeTracker.webgazer.showVideo(!0),e.gazeTracker.webgazer.showFaceOverlay(!0),e.gazeTracker.webgazer.showFaceFeedbackBox(!0)),a&&(a.style.zIndex="9999999999");const l=document.getElementById("webgazerVideoContainer"),c=l?.style?.display||"block";l&&(l.style.display="none");const u=await re();e.availableCameras=u;const h=le(e),d=await ue(u,0,0,h),p=`${Math.max(600,297*u.length+100)}px`,f=await $.A.fire({...ne(e,{showIcon:!1}),icon:void 0,title:"",html:`${d}<br><div style="background: white; padding: 1rem; border-radius: 6px; margin-top: 1rem;">${n}<br><br>${G.H.RC_privacyCamera[e.L]}</div>`,showConfirmButton:!1,allowEnterKey:!1,width:p,background:"#eee",backdrop:"#eee",customClass:{popup:"my__swal2__container camera-selection-popup camera-no-overlay",icon:"my__swal2__icon",title:"my__swal2__title",htmlContainer:`my__swal2__html rc-lang-${e.LD.toLowerCase()}`,confirmButton:"rc-button rc-go-button"},didOpen:()=>{let t=[...u],n=null;e.highlightedCameraDeviceId=null,e.cameraSelectionLoading=!1;const s=document.querySelector(".camera-selection-popup");s&&(s.style.maxWidth="none",s.style.width=p,s.style.minWidth=p);e.cameraPollingInterval&&(clearInterval(e.cameraPollingInterval),e.cameraPollingInterval=null),n=setInterval((async()=>{try{const n=await re();if(n.length!==t.length||n.some(((e,n)=>!t[n]||e.deviceId!==t[n].deviceId))){const s=[...t];t=[...n],await he(n,e,h,s),window.selectCamera=async(t,s)=>{const i=n.find((e=>e.deviceId===t));if(i&&e.gazeTracker?.webgazer){n.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-container-${t}`);n&&(n.style.pointerEvents="none",n.style.opacity="0.6")}));try{await ce(e,i)&&(n.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-container-${t}`),s=e.deviceId===i.deviceId;n&&(s?(n.style.backgroundColor="#e8f5e8",n.style.border="2px solid #28a745",n.querySelector("div").style.color="#28a745",n.querySelector("div").style.fontWeight="bold",n.querySelector("div").textContent=`${e.label||`Camera ${t+1}`} (Current)`):(n.style.backgroundColor="transparent",n.style.border="2px solid transparent",n.querySelector("div").style.color="#666",n.querySelector("div").style.fontWeight="normal",n.querySelector("div").textContent=e.label||`Camera ${t+1}`))})),e.selectedCamera=i)}catch(e){}}}}}catch(e){}}),100),e.cameraPollingInterval=n;const i=t=>{if(" "===t.key)return t.preventDefault(),void t.stopPropagation();if("Enter"===t.key||"Return"===t.key){if(e.cameraSelectionLoading)return;let t=null;e.highlightedCameraDeviceId&&(t=u.find((t=>t.deviceId===e.highlightedCameraDeviceId))),t&&(e.selectedCamera=t),e.cameraSelectionLoading=!0,u.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-container-${t}`);n&&(n.style.pointerEvents="none",n.style.opacity="0.6")}));const n=document.createElement("div");n.id="camera-loading-text",n.style.cssText="\n            text-align: center;\n            color: #666;\n            font-style: italic;\n            margin: 10px 0;\n            font-size: 14px;\n          ",n.textContent=G.H.RC_LoadingVideo[e.L];const s=document.querySelector(".camera-selection-popup .swal2-html-container");s&&s.appendChild(n),setTimeout((async()=>{const e=document.getElementById("camera-loading-text");e&&e.remove(),$.A.clickConfirm()}),1500)}};if(document.addEventListener("keydown",i,!0),e.keypadHandler){const t=(0,U.KD)(null,e.keypadHandler,(()=>{t(),$.A.clickConfirm()}),!1,["return"],e)}e.popupKeydownListener=i,window.selectCamera=async(t,n)=>{const s=u.find((e=>e.deviceId===t));if(s&&e.gazeTracker?.webgazer){u.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-container-${t}`);n&&(n.style.pointerEvents="none",n.style.opacity="0.6")}));try{await ce(e,s)&&(u.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-container-${t}`),i=e.deviceId===s.deviceId;n&&(i?(n.style.backgroundColor="#e8f5e8",n.style.border="2px solid #28a745",n.querySelector("div").style.color="#28a745",n.querySelector("div").style.fontWeight="bold",n.querySelector("div").textContent=`${e.label||`Camera ${t+1}`} (Current)`):(n.style.backgroundColor="transparent",n.style.border="2px solid transparent",n.querySelector("div").style.color="#666",n.querySelector("div").style.fontWeight="normal",n.querySelector("div").textContent=e.label||`Camera ${t+1}`))})),e.selectedCamera=s)}catch(e){}}},u.forEach(((t,n)=>{const s=document.getElementById(`camera-preview-container-${n}`);s&&(s.addEventListener("mouseenter",(async()=>{const t=s.getAttribute("data-device-id");s.getAttribute("data-camera-label");e.highlightedCameraDeviceId=t,u.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-container-${t}`);if(n){n.style.backgroundColor="transparent",n.style.border="2px solid transparent";const e=n.querySelector("div");e&&(e.style.color="#666",e.style.fontWeight="normal")}})),s.style.backgroundColor="#e8f5e8",s.style.border="2px solid #28a745";const n=s.querySelector("div");n&&(n.style.color="#28a745",n.style.fontWeight="bold");const i=u.find((e=>e.deviceId===t));if(i&&e.gazeTracker?.webgazer)try{await ce(e,i)}catch(e){}})),s.addEventListener("click",(async()=>{if(e.cameraSelectionLoading)return;const t=s.getAttribute("data-device-id"),n=s.getAttribute("data-camera-label");e.cameraSelectionLoading=!0,u.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-container-${t}`);n&&(n.style.pointerEvents="none",n.style.opacity="0.6")}));const i=document.createElement("div");i.id="camera-loading-text",i.style.cssText="\n              text-align: center;\n              color: #666;\n              font-style: italic;\n              margin: 10px 0;\n              font-size: 14px;\n            ",i.textContent=G.H.RC_LoadingVideo[e.L];const r=document.querySelector(".camera-selection-popup .swal2-html-container");r&&r.appendChild(i),await window.selectCamera(t,n),await new Promise((e=>setTimeout(e,800)));const a=document.getElementById("camera-loading-text");a&&a.remove(),$.A.clickConfirm()})))})),window.highlightCamera=e=>{const t=u.findIndex((t=>t.deviceId===e));if(-1!==t){const e=document.getElementById(`camera-preview-container-${t}`);e&&(e.style.backgroundColor="#f0f8ff",e.style.border="2px solid #007bff",e.style.transform="scale(1.02)")}},window.unhighlightCamera=e=>{const t=u.findIndex((t=>t.deviceId===e));if(-1!==t){const n=document.getElementById(`camera-preview-container-${t}`);if(n){const t=h&&h.deviceId===e;n.style.backgroundColor=t?"#e8f5e8":"transparent",n.style.border=t?"2px solid #28a745":"2px solid transparent",n.style.transform="scale(1)"}}},window.selectAndCommitCamera=async(t,n)=>{if(e.cameraSelectionLoading)return;const s=u.find((e=>e.deviceId===t));if(s&&e.gazeTracker?.webgazer){e.cameraSelectionLoading=!0;const t=document.createElement("div");t.id="camera-loading-text",t.style.cssText="\n            text-align: center;\n            color: #666;\n            font-style: italic;\n            margin: 10px 0;\n            font-size: 14px;\n          ",t.textContent=G.H.RC_LoadingVideo[e.L];const n=document.querySelector(".camera-selection-popup .swal2-html-container");n&&n.appendChild(t),u.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-container-${t}`);n&&(n.style.pointerEvents="none",n.style.opacity="0.6")}));try{if(await ce(e,s)){e.selectedCamera=s,await new Promise((e=>setTimeout(e,800)));const t=document.getElementById("camera-loading-text");t&&t.remove(),$.A.clickConfirm()}else{const e=document.getElementById("camera-loading-text");e&&e.remove(),statusDiv&&(statusDiv.innerHTML="✗ Failed to switch camera",statusDiv.style.color="#dc3545")}}catch(e){const t=document.getElementById("camera-loading-text");t&&t.remove(),statusDiv&&(statusDiv.innerHTML="✗ Failed to switch camera",statusDiv.style.color="#dc3545")}}}},willClose:()=>{ie(),e.cameraPollingInterval&&(clearInterval(e.cameraPollingInterval),e.cameraPollingInterval=null),e.popupKeydownListener&&(document.removeEventListener("keydown",e.popupKeydownListener,!0),e.popupKeydownListener=null),void 0!==e.cameraSelectionLoading&&(e.cameraSelectionLoading=!1);const t=document.getElementById("camera-loading-text");if(t&&t.remove(),window.selectCamera&&delete window.selectCamera,window.highlightCamera&&delete window.highlightCamera,window.unhighlightCamera&&delete window.unhighlightCamera,window.selectAndCommitCamera&&delete window.selectAndCommitCamera,l&&(l.style.display=c),!e.selectedCamera&&e.gazeTracker?.webgazer){const t=le(e);if(t){const n=u.find((e=>e.deviceId===t.deviceId));n&&ce(e,n).catch((e=>{}))}}u.forEach(((e,t)=>{const n=document.getElementById(`camera-preview-${t}`);if(n&&n.srcObject){n.srcObject.getTracks().forEach((e=>e.stop()))}})),l&&(l.style.display=c)}});a&&(a.style.zIndex=o),e.gazeTracker?.webgazer&&(e.gazeTracker.webgazer.showVideo(r.showVideo),e.gazeTracker.webgazer.showFaceOverlay(r.showFaceOverlay),e.gazeTracker.webgazer.showFaceFeedbackBox(r.showFaceFeedbackBox));const m=e.selectedCamera;return s&&"function"==typeof s&&s(m),e.cameraPollingInterval&&(clearInterval(e.cameraPollingInterval),e.cameraPollingInterval=null),{...f,selectedCamera:m}},pe=async(e,t=null,n={})=>{void 0===e.resolutionWarningShown&&(e.resolutionWarningShown=!1);const s=document.getElementById("webgazerVideoContainer"),i=s?.style?.display||"block";s&&(s.style.display="none");const r=await re();if(0===r.length){ie();const n=await(async(e,t,n)=>(t&&(t.style.display=n),(await $.A.fire({...ne(e,{showIcon:!1}),html:`\n      <p style="text-align: left; margin-top: 1rem; font-size: 1.2rem; line-height: 1.6;">\n        ${G.H.RC_CameraNotFound[e.L].replace("\n","<br />")}\n      </p>\n    `,showCancelButton:!0,confirmButtonText:G.H.RC_TryAgain[e.L],cancelButtonText:G.H.RC_OK[e.L],allowEnterKey:!0,didOpen:()=>{const t=e=>{"Enter"===e.key||"Return"===e.key?$.A.clickConfirm():"Escape"===e.key&&$.A.clickCancel()};if(document.addEventListener("keydown",t,!0),e.keypadHandler){const t=(0,U.KD)(null,e.keypadHandler,(()=>{t(),$.A.clickConfirm()}),!1,["return"],e)}e.popupKeydownListener=t},willClose:()=>{e.popupKeydownListener&&(document.removeEventListener("keydown",e.popupKeydownListener,!0),e.popupKeydownListener=null)}})).isConfirmed?"retry":"end"))(e,s,i);return"retry"===n?await pe(e,t):(t&&"function"==typeof t&&t("experiment_ended"),{selectedCamera:null,experimentEnded:!0})}if(1===r.length){const s=await de(e,0,G.H.RC_NeedCamera[e.L],t,"RC_NeedCameraTitle");return s.selectedCamera&&await oe(e,n),e.cameraPollingInterval&&(clearInterval(e.cameraPollingInterval),e.cameraPollingInterval=null),s}const a=await de(e,0,G.H.RC_ChooseCamera[e.L],t,"RC_ChooseCameraTitle");return a.selectedCamera&&await oe(e,n),e.cameraPollingInterval&&(clearInterval(e.cameraPollingInterval),e.cameraPollingInterval=null),a},fe=e=>e/2.54;var me=__webpack_require__(2646);const ge=async e=>{if(navigator.permissions?.query)return navigator.permissions.query({name:"camera"}).then((async t=>{if("prompt"===t.state)return await $.A.fire({...ne(e,{showIcon:!1}),icon:void 0,imageUrl:"data:image/png;base64,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",imageWidth:480,imageAlt:"Please allow camera access",html:`${G.H.RC_requestCamera[e.L]}<br />${G.H.RC_privacyCamera[e.L]}`})})).catch((e=>{}))},ye={video:!1};S.A.prototype.trackDistance=async function(e={},t=void 0,n=void 0){if(!this.checkInitialized())return;let s;(0,I.$k)(),!1===this.gazeTracker.webgazer.getTracker().modelLoaded&&this.gazeTracker.webgazer.getTracker().loadModel(),s=(void 0!==e.control&&e.control,G.H.RC_viewingDistanceIntroLiMethod[this.L]);const i=Object.assign({fullscreen:!1,repeatTesting:1,sparkle:!0,pipWidthPx:this._CONST.N.VIDEO_W[this.isMobile.value?"MOBILE":"DESKTOP"],showVideo:!0,showFaceOverlay:!1,decimalPlace:1,framerate:6,desiredDistanceCm:void 0,desiredDistanceTolerance:1.2,desiredDistanceMonitor:!1,desiredDistanceMonitorCancelable:!1,desiredDistanceMonitorAllowRecalibrate:!0,nearPoint:!0,showNearPoint:!1,control:!0,headline:`${G.H.RC_distanceTrackingTitle[this.L]}`,description:G.H.RC_distanceTrackingIntroStart[this.L]+(0,me.G)(this.L)+s+(0,me.G)(this.L)+G.H.RC_distanceTrackingIntroEnd[this.L],check:!1,checkCallback:null,showCancelButton:!0,callbackStatic:t,useObjectTestData:!1,objecttestdebug:!1,calibrateTrackDistanceAllowedRatio:1.1,calibrateTrackDistanceAllowedRangeCm:[30,70],resolutionWarningThreshold:void 0,calibrateTrackDistanceSpotCm:.5,calibrateTrackDistanceBlindspotDiameterDeg:2,calibrateTrackDistanceSpotXYDeg:[15.5,-1.5],viewingDistanceWhichEye:void 0,viewingDistanceWhichPoint:void 0},e);try{this.viewingDistanceAllowedPreciseBool=e.viewingDistanceAllowedPreciseBool}catch(e){this.viewingDistanceAllowedPreciseBool=!1}if(this.getFullscreen(i.fullscreen),this.gazeTracker.checkInitialized("distance"))return this.gazeTracker._toFixedN=i.decimalPlace,this.showNearPoint(i.showNearPoint),this.showVideo(i.showVideo),void this.showFaceOverlay(i.showFaceOverlay);this._addBackground(),this._constructFloatInstructionElement("gaze-system-instruction",G.H.RC_starting[this.L]),await ge(this);const r=(e,n=!0)=>{this.showVideo(ye.video),ye.video=!1,this.gazeTracker.checkInitialized("gaze",!1)&&this.showGazer(a),e.calibrationFactor&&(n&&(0,I.nB)(t,e),ve.current=e,ve.method=e.method,xe=null)},a=this.gazeTracker.webgazer.params.showGazeDot,o=async()=>{i.useObjectTestData||(this._addBackground(),this._replaceBackground((0,I.$O)(i.headline,null,!0,"")),this.gazeTracker.checkInitialized("gaze",!1)&&this.showGazer(!1));await pe(this,null,i);if(i.cameraSelectionDone=!0,"eyeCorners"===i.calibrateTrackDistancePupil&&await this.gazeTracker.webgazer.setTracker("TFFacemesh_unrefined_landmarks"),i.showIrisesBool&&await ze(this),i.calibrateTrackDistanceIsCameraTopCenterBool){if(!await(async e=>{const t=`\n    <p style="text-align: left; margin-top: 1rem; font-size: 1.4rem; line-height: 1.6;">\n      ${G.H.RC_IsCameraTopCenter[e.L].replace("\n","<br />").replace("\n","<br />")}\n    </p>\n    <div id="custom-radio-group">\n      <label>\n        <input type="radio" name="calibration-method" value="Yes" />\n        ${G.H.RC_Yes[e.L]}\n      </label>\n      <label>\n        <input type="radio" name="calibration-method" value="No" />\n        ${G.H.RC_No[e.L]}\n      </label>\n      <label>\n        <input type="radio" name="calibration-method" value="DontKnow" />\n        ${G.H.RC_DontKnow[e.L]}\n      </label>\n    </div>\n  `,{value:n}=await $.A.fire({...ne(e,{showIcon:!1}),html:t,preConfirm:()=>{const t=document.querySelector('input[name="calibration-method"]:checked');return t?t.value:($.A.showValidationMessage(G.H.RC_PleaseSelectAnOption[e.language.value]),null)},didOpen:()=>{const t=document.querySelectorAll('input[name="calibration-method"]'),n=e=>{"Enter"===e.key&&$.A.clickConfirm()};if(t.forEach((e=>{e.addEventListener("keyup",n)})),e.keypadHandler){const t=(0,U.KD)(null,e.keypadHandler,(()=>{t(),$.A.clickConfirm()}),!1,["return"],e)}e.customKeydownListener=n,e.customInputs=t},willClose:()=>{e.customInputs&&e.customInputs.forEach((t=>{t.removeEventListener("keyup",e.customKeydownListener)}))}});return n?(e.preCalibrationChoice=n,n):null})(this))return}"both"===i.useObjectTestData||i.useObjectTestData?await vt(this,i,r):await At(this,i,!0,r)};be.pipWidthPx=i.pipWidthPx,be.decimalPlace=i.decimalPlace,be.framerate=i.framerate,be.nearPoint=i.nearPoint,be.showNearPoint=i.showNearPoint,be.showIrisesBool=i.showIrisesBool,be.showNearestPointsBool=i.showNearestPointsBool,be.calibrateTrackDistancePupil=i.calibrateTrackDistancePupil,be.desiredDistanceCm=i.desiredDistanceCm,be.desiredDistanceTolerance=i.desiredDistanceTolerance,be.desiredDistanceMonitor=i.desiredDistanceMonitor,be.desiredDistanceMonitorCancelable=i.desiredDistanceMonitorCancelable,be.desiredDistanceMonitorAllowRecalibrate=i.desiredDistanceMonitorAllowRecalibrate,be.viewingDistanceWhichEye=i.viewingDistanceWhichEye,be.viewingDistanceWhichPoint=i.viewingDistanceWhichPoint,ye.video=i.showVideo,this.gazeTracker._init({toFixedN:1,showVideo:!0,showFaceOverlay:i.showFaceOverlay},"distance"),this._trackingSetupFinishedStatus.distance=!1;const l={options:i,callbackStatic:t,callbackTrack:n};i.nearPoint?Ae(this,(()=>this._measurePD({},o)),n,l):Ae(this,o,n,l)},S.A.prototype.setViewingDistanceAllowedPreciseBool=function(e=!0){this.viewingDistanceAllowedPreciseBool=e};const Ae=async(e,t,n,s)=>{await e.gazeTracker.webgazer.getTracker().loadModel(),e.gazeTracker.beginVideo({pipWidthPx:be.pipWidthPx},(()=>{e._removeFloatInstructionElement(),(0,I.nB)(t),Ge(e,be,n,s)}))},we=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y,e.z-t.z),be={pipWidthPx:0,decimalPlace:2,framerate:30,nearPoint:!0,showNearPoint:!1,desiredDistanceCm:void 0,desiredDistanceTolerance:1.2,desiredDistanceMonitor:!1,desiredDistanceMonitorCancelable:!1,desiredDistanceMonitorAllowRecalibrate:!0},ve={current:null,method:null};let xe=null,Ce=null;const ke={framerate:20,break:!0};let Ee=null,Se=null,Ie=null,Te=null,_e=null,Ne=null;const De=1e3/30;let Me=0,Be=0,Re=0;const Fe=e=>{if(_e=e,!be.showIrisesBool)return;Se||Se||(Se=document.createElement("canvas"),Se.id="rc-iris-overlay",Se.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    pointer-events: none;\n    z-index: 2147483647;\n  ",Se.width=window.innerWidth,Se.height=window.innerHeight,document.body.appendChild(Se),Ie=Se.getContext("2d"),window.addEventListener("resize",(()=>{Se&&(Se.width=window.innerWidth,Se.height=window.innerHeight)})));const t=e=>{ke.break||(e-Be>=De&&(Ne&&(()=>{if(!Ie||!Ne)return;if(Ie.clearRect(0,0,Se.width,Se.height),!_e||!be.showIrisesBool)return;const{leftEye:e,rightEye:t,video:n,currentIPDDistance:s}=Ne;if(!(e&&t&&n&&s))return;const i=document.getElementById("webgazerVideoFeed"),r=document.getElementById("webgazerVideoContainer"),a=i||r;if(!a)return;const o=a.getBoundingClientRect(),l=n.width,c=n.height,u=o.width,h=o.height,d=Math.max(u/l,h/c),p=(l*d-u)/2,f=(c*d-h)/2,m=l-e.x,g=l-t.x,y={x:o.left+m*d-p,y:o.top+e.y*d-f},A={x:o.left+g*d-p,y:o.top+t.y*d-f},w=s||Math.hypot(t.x-e.x,t.y-e.y,t.z-e.z),b=Math.max(4,.19*w*d),v=b/2,x=Math.max(2,.4*b)/2;Ie.beginPath(),Ie.arc(y.x,y.y,v,0,2*Math.PI),Ie.fillStyle="#00ffe9",Ie.fill(),Ie.beginPath(),Ie.arc(y.x,y.y,v,0,2*Math.PI),Ie.strokeStyle="rgba(0,0,0,0.35)",Ie.lineWidth=2,Ie.stroke(),Ie.beginPath(),Ie.arc(y.x,y.y,x,0,2*Math.PI),Ie.fillStyle="#000",Ie.fill(),Ie.beginPath(),Ie.arc(A.x,A.y,v,0,2*Math.PI),Ie.fillStyle="#00ffe9",Ie.fill(),Ie.beginPath(),Ie.arc(A.x,A.y,v,0,2*Math.PI),Ie.strokeStyle="rgba(0,0,0,0.35)",Ie.lineWidth=2,Ie.stroke(),Ie.beginPath(),Ie.arc(A.x,A.y,x,0,2*Math.PI),Ie.fillStyle="#000",Ie.fill()})(),Be=e),Te=requestAnimationFrame(t))};Te=requestAnimationFrame(t)},Oe=()=>{Te&&(cancelAnimationFrame(Te),Te=null),Ie&&Ie.clearRect(0,0,Se.width,Se.height),_e=null,Ne=null},Le=(e,t,n,s)=>{Ne={leftEye:e,rightEye:t,video:n,currentIPDDistance:s}},ze=async e=>{if(!be.showIrisesBool)return!1;Fe(e);let t=!0,n=null;const s=async i=>{if(t&&!ke.break){if(i-Re>=De){const t=await Ve(e,be.calibrateTrackDistancePupil);if(t){const{leftEye:e,rightEye:n,video:s,currentIPDDistance:i}=t;Le(e,n,s,i),Math.random()}Re=i}n=requestAnimationFrame(s)}};return n=requestAnimationFrame(s),e._stopIrisTracking=()=>{t=!1,n&&(cancelAnimationFrame(n),n=null)},!0},Ve=async(e,t="iris",n=[])=>{const s=document.getElementById("webgazerVideoCanvas");if(!s)return null;let i=n.length?n:e.gazeTracker.webgazer.getTracker().getPositions(),r="webgazer";if(!i||0===i.length||e.gazeTracker.webgazer.params.paused)try{const t=await e.gazeTracker.webgazer.getTracker().model,n=await t.estimateFaces(s);n.length&&(i=n[0].keypoints,r="own")}catch(e){i=null}if(i&&i.length){const{leftEye:e,rightEye:n}=Ct(i,t);if(e&&n){return{mesh:i,leftEye:e,rightEye:n,video:s,currentIPDDistance:we(e,n),meshSource:r}}}return null};let Pe=!1,We=null;const Ge=async(e,t,n,s)=>{e.improvedDistanceTrackingData={left:{nearestXYPx:[0,0],nearestDistanceCm:0,distanceCm:0},right:{nearestXYPx:[0,0],nearestDistanceCm:0,distanceCm:0},nearEye:"left",distanceCm:0,nearestXYPx:[0,0],nearestDistanceCm:0,oldDistanceCm:0};const i=await e.gazeTracker.webgazer.getTracker().model,r=e.screenPpi?e.screenPpi.value:e._CONST.N.PPI_DONT_USE,a=r/2.54;!e.screenPpi&&t.nearPoint,t.nearPoint&&t.showNearPoint&&(Ee=document.createElement("div"),Ee.id="rc-near-point-dot",document.body.appendChild(Ee),Object.assign(Ee.style,{display:"block",zIndex:999999,width:"10px",height:"10px",background:"green",position:"fixed",top:"-15px",left:"-15px"})),Pe=!1;const{desiredDistanceCm:o,desiredDistanceTolerance:l,desiredDistanceMonitor:c,desiredDistanceMonitorCancelable:u,desiredDistanceMonitorAllowRecalibrate:h}=t;e._distanceTrackNudging.distanceCorrectEnabled=!0,e._distanceTrackNudging.distanceDesired=o,e._distanceTrackNudging.distanceAllowedRatio=l,ke.break=!1,e._stopIrisTracking&&(e._stopIrisTracking(),e._stopIrisTracking=null);const d=async l=>{ke.break||(l-Me>=De&&(await je(e,t,n,s,i,r,a,o,c,u,h),Me=l),We=requestAnimationFrame(d))};We=requestAnimationFrame(d)},Ue=(e,t,n,s,i,r,a,o,l={},c=0,u=0,h="object",d=1,p=[window.innerWidth/2,window.innerHeight/2],f=[window.innerWidth/2,window.innerHeight/2],m=0,g=0,y=0)=>{const{nearestXYPx_left:A,nearestXYPx_right:w,offsetXYCm_left:b,offsetXYCm_right:v,cameraXYPx:x}=((e,t,n,s,i,r)=>{const a=He(t),o=t.width-n.x,l=n.y,c=t.width-s.x,u=s.y,h=we(n,s),d=[o-a[0],l-a[1]],p=[c-a[0],u-a[1]],f=[d[0]*e._CONST.IPD_CM/r,d[1]*e._CONST.IPD_CM/r],m=[p[0]*e._CONST.IPD_CM/r,p[1]*e._CONST.IPD_CM/r],g=[window.innerWidth/2,0];return{nearestXYPx_left:[g[0]+f[0]*i,g[1]+f[1]*i],nearestXYPx_right:[g[0]+m[0]*i,g[1]+m[1]*i],ipdCameraPx:h,offsetXYCm_left:f,offsetXYCm_right:m,cameraXYPx:g,pxPerCm:i}})(o,e,t,n,r,s);let C=0;if(0===i)try{C=wt(g,l.calibrateTrackDistanceSpotXYDeg)}catch(e){C=wt(g,l.calibrateTrackDistanceSpotXYDeg)}else C=i;const k=1===d?w:A,E=Math.hypot(x[0]-k[0],x[1]-k[1])/r,S=Math.hypot(E,C),I=Math.round(S*y),T=[Math.max(0,Math.min(A[0],window.innerWidth)),Math.max(0,Math.min(A[1],window.innerHeight))],_=[Math.max(0,Math.min(w[0],window.innerWidth)),Math.max(0,Math.min(w[1],window.innerHeight))],N=Math.hypot(b[0],b[1]),D=Math.hypot(v[0],v[1]),M="blindspot"===h?S:i,B=Math.sqrt(M**2-N**2),R=Math.sqrt(M**2-D**2),F=qe(A,B,[window.innerWidth/2,window.innerHeight/2],r)<qe(w,R,[window.innerWidth/2,window.innerHeight/2],r)?"left":"right";return{nearestXYPx_left:A,nearestXYPx_right:w,clampedNearestLeft:T,clampedNearestRight:_,nearestDistanceCm_left:B,nearestDistanceCm_right:R,nearestEyeToWebcamDistanceCM:"blindspot"===h?S:i,nearestEye:F,nearestXYPx:"left"===F?A:w,nearestDistanceCm:"left"===F?B:R,distanceCm_left:qe(A,B,[window.innerWidth/2,window.innerHeight/2],r),distanceCm_right:qe(w,R,[window.innerWidth/2,window.innerHeight/2],r),distanceCm:"blindspot"===h?S:i,ipdCameraPx:y,cameraXYPx:x,viewingDistanceWhichEye:l?.viewingDistanceWhichEye,viewingDistanceWhichPoint:l?.viewingDistanceWhichPoint,calibrationFactor:I}},je=async(e,t,n,s,i,r,a,o,l,c,u)=>{if(Ce||(Ce=document.getElementById("webgazerVideoCanvas")),!Ce)return;const h=performance.now(),d=await Ve(e,t.calibrateTrackDistancePupil);if(d){const{mesh:i,leftEye:p,rightEye:f,currentIPDDistance:m}=d;if(e._trackingVideoFrameTimestamps.distance=h,null!==ve.current){if(!xe){if(!ve.current.calibrationFactor)return;xe=ve.current.calibrationFactor,!0!==s.options.calibrateTrackDistanceCheckBool&&e._removeBackground(),e._trackingSetupFinishedStatus.distance=!0,Pe=!0}const i=performance.now(),h=Math.round(i-e._trackingVideoFrameTimestamps.distance),d=xe/m,g=(e._CONST.IPD_CM,Ue(Ce,p,f,m,d,a,r,e,t,0,0,"",1,[],[],0,0,m)),{nearestXYPx_left:y,nearestXYPx_right:A,clampedNearestLeft:w,clampedNearestRight:b,nearestDistanceCm_left:v,nearestDistanceCm_right:x,nearestEyeToWebcamDistanceCM:C,nearestEye:k,nearestXYPx:E,nearestDistanceCm:S,distanceCm_left:T,distanceCm_right:_,distanceCm:N,cameraXYPx:D,viewingDistanceWhichEye:M,viewingDistanceWhichPoint:B}=g,R=ot(d,r);e.improvedDistanceTrackingData={left:{nearestXYPx:y,nearestDistanceCm:v,distanceCm:T},right:{nearestXYPx:A,nearestDistanceCm:x,distanceCm:_},nearEye:k,distanceCm:N,nearestXYPx:E,nearestDistanceCm:S,oldDistanceCm:R,ipdDistancePx:m};const F={value:(0,I.Nh)(N,t.decimalPlace),timestamp:i,method:e._CONST.VIEW_METHOD.F,latencyMs:h,calibrationMethod:ve.method};e.newViewingDistanceData=F,Le(p,f,Ce,m),s.options.showNearestPointsBool&&rt(w,b,v,x,t.decimalPlace,C,xe,m,{x:p.x,y:p.y},{x:f.x,y:f.y},D,M,B,E,T,_),(Pe||l)&&(o&&e.nudgeDistance(c,u,s),Pe=!1),n&&"function"==typeof n&&(e.gazeTracker.defaultDistanceTrackCallback=n,n(F))}}else at()},qe=(e,t,n,s)=>{const i=Math.hypot(e[0]-n[0],e[1]-n[1])/s;return Math.sqrt(t**2+i**2)},He=e=>{if(!e)return[0,0];return[e.width/2,e.height/2]},Ye=(e,t,n)=>{document.getElementById("webgazerVideoContainer");let s=e+15,i=t-12;return s=Math.max(10,Math.min(s,window.innerWidth-90)),i=Math.max(0,Math.min(i,window.innerHeight-25)),{left:s,top:i}};let Ke={left:null,right:null},Ze={left:null,right:null},Qe=null,Xe=null,$e=null,Je=null,et=null,tt=null,nt={left:null,right:null},st={left:null,right:null},it={left:null,right:null};const rt=(e,t,n,s,i,r,a,o,l,c,u,h,d,p,f,m)=>{const g=document.getElementById("webgazerVideoContainer"),y=g?g.getBoundingClientRect():null,A=(e,t,n)=>(e||((e=document.createElement("div")).id=t,document.body.appendChild(e)),n&&!e.dataset.baseStylesApplied&&(Object.assign(e.style,n),e.dataset.baseStylesApplied="true"),e);if(e&&void 0!==e[0]&&void 0!==e[1]){if(Ke.left=A(Ke.left,"rc-nearest-point-left",{position:"fixed",width:"12px",height:"12px",background:"red",border:"2px solid white",borderRadius:"50%",zIndex:"99999999999999",pointerEvents:"none"}),Ke.left.style.left=e[0]-6+"px",Ke.left.style.top=e[1]-6+"px",void 0!==n){Ze.left=A(Ze.left,"rc-nearest-point-label-left",{position:"fixed",fontSize:"18px",color:"red",background:"rgba(255, 255, 255, 0.8)",padding:"2px 6px",borderRadius:"4px",zIndex:"9999999999999",pointerEvents:"none",fontFamily:"Arial, sans-serif",fontWeight:"normal"}),Ze.left.textContent=`${n.toFixed(i||1)} cm`;const t=Ye(e[0],e[1]);Ze.left.style.left=`${t.left}px`,Ze.left.style.top=`${t.top}px`}it.left=A(it.left,"rc-nearest-point-coords-left",{position:"fixed",fontSize:"12px",color:"#111",background:"rgba(255, 255, 255, 0.9)",padding:"1px 4px",borderRadius:"3px",zIndex:"9999999999999",pointerEvents:"none",fontFamily:"Arial, sans-serif",transform:"translate(-50%, 0)"}),it.left.textContent=`${Math.round(e[0])}, ${Math.round(e[1])}`,it.left.style.left=`${e[0]}px`,it.left.style.top=`${e[1]+15}px`}if(t&&void 0!==t[0]&&void 0!==t[1]){if(Ke.right=A(Ke.right,"rc-nearest-point-right",{position:"fixed",width:"12px",height:"12px",background:"blue",border:"2px solid white",borderRadius:"50%",zIndex:"99999999999999",pointerEvents:"none"}),Ke.right.style.left=t[0]-6+"px",Ke.right.style.top=t[1]-6+"px",void 0!==s){Ze.right=A(Ze.right,"rc-nearest-point-label-right",{position:"fixed",fontSize:"18px",color:"blue",background:"rgba(255, 255, 255, 0.8)",padding:"2px 6px",borderRadius:"4px",zIndex:"9999999999999",pointerEvents:"none",fontFamily:"Arial, sans-serif",fontWeight:"normal"}),Ze.right.textContent=`${s.toFixed(i||1)} cm`;const e=Ye(t[0],t[1]);Ze.right.style.left=`${e.left}px`,Ze.right.style.top=`${e.top}px`}it.right=A(it.right,"rc-nearest-point-coords-right",{position:"fixed",fontSize:"12px",color:"#111",background:"rgba(255, 255, 255, 0.9)",padding:"1px 4px",borderRadius:"3px",zIndex:"9999999999999",pointerEvents:"none",fontFamily:"Arial, sans-serif",transform:"translate(-50%, 0)"}),it.right.textContent=`${Math.round(t[0])}, ${Math.round(t[1])}`,it.right.style.left=`${t[0]}px`,it.right.style.top=`${t[1]+15}px`}if(void 0!==r){Qe=A(Qe,"rc-webcam-distance-label",{position:"fixed",fontSize:"16px",color:"#333",background:"rgba(255, 255, 255, 0.9)",padding:"4px 8px",borderRadius:"6px",border:"1px solid #ddd",zIndex:"2147483646",pointerEvents:"none",fontFamily:"Arial, sans-serif",fontWeight:"normal",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}),Qe.textContent=`${r.toFixed(i||1)} cm`;let e=window.innerWidth/2;const t=20;if(y){const t=80;e=Math.max(window.innerWidth/2,y.right+20),e+t>window.innerWidth&&(e=Math.max(20,y.left-t-20))}e=Math.max(20,Math.min(e,window.innerWidth-100)),Qe.style.left=`${e}px`,Qe.style.top=`${t}px`}if(void 0!==a){Xe=A(Xe,"rc-factor-label",{position:"fixed",fontSize:"16px",color:"#333",background:"rgba(255, 255, 255, 0.9)",padding:"4px 8px",borderRadius:"6px",border:"1px solid #ddd",zIndex:"2147483646",pointerEvents:"none",fontFamily:"Arial, sans-serif",fontWeight:"normal",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}),Xe.textContent=`factorCameraPxCm: ${a.toFixed(0)}`;let e=window.innerWidth/2;const t=50;if(y){const t=80;e=Math.max(window.innerWidth/2,y.right+20),e+t>window.innerWidth&&(e=Math.max(20,y.left-t-20))}e=Math.max(20,Math.min(e,window.innerWidth-100)),Xe.style.left=`${e}px`,Xe.style.top=`${t}px`}if(void 0!==o){$e=A($e,"rc-ipd-label",{position:"fixed",fontSize:"16px",color:"#333",background:"rgba(255, 255, 255, 0.9)",padding:"4px 8px",borderRadius:"6px",border:"1px solid #ddd",zIndex:"2147483646",pointerEvents:"none",fontFamily:"Arial, sans-serif",fontWeight:"normal",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}),$e.textContent=`ipdCameraPx: ${Math.round(o)}`;let e=window.innerWidth/2;const t=80;if(y){const t=80;e=Math.max(window.innerWidth/2,y.right+20),e+t>window.innerWidth&&(e=Math.max(20,y.left-t-20))}e=Math.max(20,Math.min(e,window.innerWidth-100)),$e.style.left=`${e}px`,$e.style.top=`${t}px`}if(void 0!==u){Je=A(Je,"rc-camera-xy-px-label",{position:"fixed",fontSize:"16px",color:"#333",background:"rgba(255, 255, 255, 0.9)",padding:"4px 8px",borderRadius:"6px",border:"1px solid #ddd",zIndex:"2147483646",pointerEvents:"none",fontFamily:"Arial, sans-serif",fontWeight:"normal",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}),Je.textContent=`cameraXYPx: [${Math.round(u[0])}, ${Math.round(u[1])}]`;let e=window.innerWidth/2;const t=110;if(y){const t=80;e=Math.max(window.innerWidth/2,y.right+20),e+t>window.innerWidth&&(e=Math.max(20,y.left-t-20))}e=Math.max(20,Math.min(e,window.innerWidth-100)),Je.style.left=`${e}px`,Je.style.top=`${t}px`}if(void 0!==h){et=A(et,"rc-viewing-distance-which-eye-label",{position:"fixed",fontSize:"16px",color:"#333",background:"rgba(255, 255, 255, 0.9)",padding:"4px 8px",borderRadius:"6px",border:"1px solid #ddd",zIndex:"2147483646",pointerEvents:"none",fontFamily:"Arial, sans-serif",fontWeight:"normal",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"});const e=(e,t,n)=>{switch(e){case"left":return t;case"right":return n;case"min":return Math.min(t,n);case"geoMean":return Math.sqrt(t*n);default:return"NaN"}},t=e(h,f,m);et.textContent=`viewingDistanceWhichEye: ${h} (${t.toFixed(1)} cm)`;let n=window.innerWidth/2;const s=140;if(y){const e=80;n=Math.max(window.innerWidth/2,y.right+20),n+e>window.innerWidth&&(n=Math.max(20,y.left-e-20))}n=Math.max(20,Math.min(n,window.innerWidth-100)),et.style.left=`${n}px`,et.style.top=`${s}px`}if(void 0!==d){tt=A(tt,"rc-viewing-distance-which-point-label",{position:"fixed",fontSize:"16px",color:"#333",background:"rgba(255, 255, 255, 0.9)",padding:"4px 8px",borderRadius:"6px",border:"1px solid #ddd",zIndex:"2147483646",pointerEvents:"none",fontFamily:"Arial, sans-serif",fontWeight:"normal",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"});const e=(e=>{let t;switch(e){case"fixation":t=[0,0];break;case"target":case"nearest":case"camera":case"xyDeg":t=NaN;break;default:t=[d[0],d[1]]}return t})(d,p,u,h);let t;t=Array.isArray(e)?`[${e.join(", ")}]`:e,tt.textContent=`viewingDistanceWhichPoint: ${t}`;let n=window.innerWidth/2;const s=170;if(y){const e=80;n=Math.max(window.innerWidth/2,y.right+20),n+e>window.innerWidth&&(n=Math.max(20,y.left-e-20))}n=Math.max(20,Math.min(n,window.innerWidth-100)),tt.style.left=`${n}px`,tt.style.top=`${s}px`}},at=()=>{Ke.left&&(document.body.removeChild(Ke.left),Ke.left=null),Ke.right&&(document.body.removeChild(Ke.right),Ke.right=null),Ze.left&&(document.body.removeChild(Ze.left),Ze.left=null),Ze.right&&(document.body.removeChild(Ze.right),Ze.right=null),Qe&&(document.body.removeChild(Qe),Qe=null),Xe&&(document.body.removeChild(Xe),Xe=null),$e&&(document.body.removeChild($e),$e=null),Je&&(document.body.removeChild(Je),Je=null),et&&(document.body.removeChild(et),et=null),tt&&(document.body.removeChild(tt),tt=null),it.left&&(document.body.removeChild(it.left),it.left=null),it.right&&(document.body.removeChild(it.right),it.right=null),st.left&&(document.body.removeChild(st.left),st.left=null),st.right&&(document.body.removeChild(st.right),st.right=null),nt.left&&(document.body.removeChild(nt.left),nt.left=null),nt.right&&(document.body.removeChild(nt.right),nt.right=null)};S.A.prototype.pauseDistance=function(){return this.gazeTracker.checkInitialized("distance",!0)&&!this._trackingPaused.distance?(ke.break=!0,We&&(cancelAnimationFrame(We),We=null),this._stopIrisTracking&&(this._stopIrisTracking(),this._stopIrisTracking=null),Oe(),Ee&&(Ee.style.display="none"),this._trackingVideoFrameTimestamps.distance=0,this._trackingPaused.distance=!0,this.pauseNudger(),this):null},S.A.prototype.resumeDistance=function(e=!1){if(this.gazeTracker.checkInitialized("distance",!0)&&this._trackingPaused.distance){ke.break=!1,(e||be.showIrisesBool)&&Fe(this),Ee&&(Ee.style.display="block"),this._trackingVideoFrameTimestamps.distance=0;const t=async e=>{ke.break||(e-Me>=De&&(Me=e),We=requestAnimationFrame(t))};return We=requestAnimationFrame(t),this._trackingPaused.distance=!1,this.resumeNudger(),this}return null},S.A.prototype.endDistance=function(e=!1,t=!0){return this.gazeTracker.checkInitialized("distance",!0)?(ke.break=!0,We&&(cancelAnimationFrame(We),We=null),this._stopIrisTracking&&(this._stopIrisTracking(),this._stopIrisTracking=null),Oe(),Se&&(document.body.removeChild(Se),Se=null,Ie=null),_e=null,ke.framerate=20,be.pipWidthPx=0,be.decimalPlace=2,be.framerate=30,be.nearPoint=!0,be.showNearPoint=!1,be.desiredDistanceCm=void 0,be.desiredDistanceTolerance=1.2,be.desiredDistanceMonitor=!1,be.desiredDistanceMonitorCancelable=!1,be.desiredDistanceMonitorAllowRecalibrate=!0,ve.current=null,xe=null,Ce=null,Pe=!1,this._trackingVideoFrameTimestamps.distance=0,this._trackingPaused.distance=!1,Ee&&(document.body.removeChild(Ee),Ee=null),Ke.left&&(document.body.removeChild(Ke.left),Ke.left=null),Ke.right&&(document.body.removeChild(Ke.right),Ke.right=null),Ze.left&&(document.body.removeChild(Ze.left),Ze.left=null),Ze.right&&(document.body.removeChild(Ze.right),Ze.right=null),Qe&&(document.body.removeChild(Qe),Qe=null),Xe&&(document.body.removeChild(Xe),Xe=null),$e&&(document.body.removeChild($e),$e=null),Je&&(document.body.removeChild(Je),Je=null),et&&(document.body.removeChild(et),et=null),tt&&(document.body.removeChild(tt),tt=null),it.left&&(document.body.removeChild(it.left),it.left=null),it.right&&(document.body.removeChild(it.right),it.right=null),nt&&nt.left&&(document.body.removeChild(nt.left),nt.left=null),nt&&nt.right&&(document.body.removeChild(nt.right),nt.right=null),this.endNudger(),t&&this.gazeTracker.end("distance",e),this):null},S.A.prototype.getDistanceNow=async function(e=null){if(!this.checkInitialized()||!this.gazeTracker.checkInitialized("distance",!0)||!ke.break)return;const t=e||this.gazeTracker.defaultDistanceTrackCallback,n=document.getElementById("webgazerVideoCanvas"),s=await this.gazeTracker.webgazer.getTracker().model,i=performance.now(),r=await s.estimateFaces(n);if(r.length){const e=r[0].scaledMesh,s=we({x:e[468].x,y:e[468].y,z:e[468].z},{x:e[473].x,y:e[473].y,z:e[473].z}),a=performance.now(),o=a-i,l=xe/s,c=this.screenPpi?this.screenPpi.value:this._CONST.N.PPI_DONT_USE,u=ot(l,c);this.newViewingDistanceData={value:(0,I.Nh)(u,be.decimalPlace),timestamp:a,method:this._CONST.VIEW_METHOD.F,latencyMs:o};const h=this.newViewingDistanceData;let d;return be.nearPoint&&(d=((e,t,n,s,i,r,a,o)=>{const l=((e,t,n)=>[(-t.x-n.x+e.videoWidth)/2,(-t.y-n.y+e.videoHeight)/2])(n,{x:s[468].x,y:s[468].y,z:s[468].z},{x:s[473].x,y:s[473].y,z:s[473].z});l.forEach(((t,n)=>{l[n]=(e.PDCm?e.PDCm.value:e._CONST.N.PD_DONT_USE)*t/i}));const c={value:{x:(0,I.Nh)(l[0],t.decimalPlace),y:(0,I.Nh)(l[1]+screen.height/2*2.54/a,t.decimalPlace),latencyMs:o},timestamp:r};if(e.newNearPointData=c,t.showNearPoint){const e=c.value.x*a/2.54,t=c.value.y*a/2.54;Object.assign(Ee.style,{left:screen.width/2-window.screenLeft+e-5+"px",top:screen.height/2-window.screenTop-(window.outerHeight-window.innerHeight)-t-5+"px"})}return c})(this,be,n,e,s,a,this.screenPpi?this.screenPpi.value:this._CONST.N.PPI_DONT_USE,o)),(0,I.nB)(t,{value:{viewingDistanceCm:h.value,nearPointCm:d?d.value:null,latencyMs:o},timestamp:a,method:this._CONST.VIEW_METHOD.F}),h}return null},S.A.prototype.showNearPoint=function(e=!0){if(this.gazeTracker.checkInitialized("distance",!1)){const t=document.querySelector("#rc-near-point-dot");t&&(t.display=e?"block":"none")}};const ot=(e,t)=>{const n=(e=>window.screen.height/2/e*2.54)(t);return Math.sqrt(Math.pow(e,2)-Math.pow(n,2))};let lt,ct,ut;if("mocha"!==S._){const e=__webpack_require__(877);lt=e.soundFeedback,ct=e.cameraShutterSound,ut=e.stampOfApprovalSound}const ht='\n  <style>\n    #blindspot-wrapper {\n      position: fixed !important;\n      top: 0 !important;\n      left: 50% !important;\n      transform: translateX(-50%) !important;\n      height: 90vh !important;\n      z-index: 99999999998 !important;\n      pointer-events: none;\n      isolation: isolate !important;\n    }\n    #blind-spot-canvas {\n      z-index: 99999999999 !important;\n      position: absolute !important;\n      pointer-events: none !important;\n      top: 0;\n      left: 0;\n      width: 100% !important;\n      height: 90vh !important;\n      isolation: isolate !important;\n    }\n    #blind-spot-canvas.cursor-grab {\n      pointer-events: auto !important;\n    }\n    #rc-buttons {\n      z-index: 999999999999 !important;\n      pointer-events: auto !important;\n      position: fixed !important;\n      bottom: 1.25rem !important;\n      right: 1.25rem !important;\n    }\n    .swal2-container {\n      z-index: 1000000000000 !important;\n    }\n    #blindspot-size-slider {\n      -webkit-appearance: none;\n      appearance: none;\n      background: transparent;\n      cursor: pointer;\n      transform: rotate(-90deg);\n      transform-origin: center;\n    }\n    #blindspot-size-slider::-webkit-slider-track {\n      background: #ddd;\n      height: 6px;\n      border-radius: 3px;\n      margin-top: 10px;\n      margin-bottom: 10px;\n    }\n    #blindspot-size-slider::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      appearance: none;\n      background: #8B0000;\n      height: 20px;\n      width: 20px;\n      border-radius: 50%;\n      cursor: pointer;\n    }\n    #blindspot-size-slider::-moz-range-track {\n      background: #ddd;\n      height: 6px;\n      border-radius: 3px;\n      border: none;\n      margin-top: 10px;\n      margin-bottom: 10px;\n    }\n    #blindspot-size-slider::-moz-range-thumb {\n      background: #8B0000;\n      height: 20px;\n      width: 20px;\n      border-radius: 50%;\n      cursor: pointer;\n      border: none;\n    }\n  </style>\n  <div id="blindspot-wrapper">\n    <canvas id="blind-spot-canvas" class="cursor-grab"></canvas>\n    <div id="blindspot-slider-container" style="position: absolute; right: 20px; bottom: 15%; z-index: 99999999999; pointer-events: auto;">\n      <div style="position: relative; height: 105px; display: flex; align-items: center;">\n        <div style="position: relative; height: 105px; width: 6px; background: #ddd; border-radius: 3px; margin-right: 15px; display: flex; align-items: center; justify-content: center;">\n          <input type="range" id="blindspot-size-slider" min="0" max="1" value="0.5" step="0.001">\n        </div>\n        <div style="display: flex; flex-direction: column; justify-content: space-between; height: 105px; font-size: 10px; color: #888; line-height: 0.2; margin-left: 10px;">\n          <span>8 deg</span>\n          <span>4 deg</span>\n          <span>2 deg</span>\n        </div>\n      </div>\n    </div>\n  </div>\n';function dt(e,t,n,s=void 0){e.calibrationAttempts||(e.calibrationAttempts={}),n.forEach(((n,i)=>{const r=n.type||(0===i?"part1":"part2");!function(e,t,n,s,i,r,a,o,l,c,u,h,d,p,f,m,g){e.calibrationAttempts||(e.calibrationAttempts={});isNaN(h)||parseFloat(h.toFixed(1));const y=isNaN(s)?NaN:parseFloat(s.toFixed(1));let A=1;for(;e.calibrationAttempts[`calibration${A}`];)A++;const w=e=>null==e||isNaN(e)?null:Math.round(10*e)/10,b=e=>null==e||isNaN(e)?null:Math.round(e),v=e=>{if(!e||!Array.isArray(e)||e.length<2)return null;const t=b(e[0]),n=b(e[1]);return null===t||null===n?null:[t,n]},x=e=>null==e||isNaN(e)?null:parseFloat(e).toFixed(1),C=e.screenPpi.value,k=C/2.54,E=[window.innerWidth/2,0],S=[window.innerWidth/2,window.innerHeight/2],I=e._CONST.IPD_CM,T=yt(C),_=null==m||isNaN(m)?null:Math.sqrt(m**2+T**2),N=null==f||isNaN(f)?null:Math.sqrt(f**2+T**2),D={method:t,pxPerCm:w(k),cameraXYPx:v(E),eyesToCameraCm:w(r),ipdCameraPx:b(i),factorCameraPxCm:b(y),ipdCm:w(I),leftEyeFootXYPx:v(d),rightEyeFootXYPx:v(p),rightEyeToFootCm:w(f),leftEyeToFootCm:w(m),centerXYPx:v(S),rightEyeToCenterCm:w(N),leftEyeToCenterCm:w(_),spotDeg:x(g)};e.calibrationAttempts[`calibration${A}`]=D}(e,`${t}-${r}`,n.distance,n.calibrationFactor,"blindspot"===t?n.ipdCameraPx:n.currentIPDDistance,"blindspot"===t?n.distanceCm:n.nearestEyeToWebcamDistanceCM,n.nearestEye,n.nearestXYPx,n.nearestDistanceCm,n.distanceCm_left,n.distanceCm_right,n.distanceCm,n.nearestXYPx_left,n.nearestXYPx_right,n.nearestDistanceCm_right,n.nearestDistanceCm_left,s)}))}async function pt(e,t,n,s,i,r=null,a=null,o="blindspot",l=1,c=[window.innerWidth/2,window.innerHeight/2],u=[window.innerWidth/2,window.innerHeight/2],h=0,d=0,p=0){const f=await Ve(e,t.calibrateTrackDistancePupil,n),{leftEye:m,rightEye:g,video:y,currentIPDDistance:A}=f;return{nearestPointsData:Ue(y,m,g,A,s/A,i/2.54,i,e,t,r,a,o,l,c,u,h,d,p),currentIPDDistance:A}}function ft(e,t,n,s,i,r=null){const{nearestDistanceCm_left:a,nearestDistanceCm_right:o,nearestDistanceCm:l,distanceCm_left:c,distanceCm_right:u,distanceCm:h,nearestEyeToWebcamDistanceCM:d,nearestEye:p,nearestXYPx:f,nearestXYPx_left:m,nearestXYPx_right:g}=s,y={type:e,distance:t,calibrationFactor:n,nearestDistanceCm:l,distanceCm_left:c,distanceCm_right:u,distanceCm:t,nearestDistanceCm_right:o,nearestDistanceCm_left:a,currentIPDDistance:i,nearestEyeToWebcamDistanceCM:d,nearestEye:p,nearestXYPx:f,nearestXYPx_left:m,nearestXYPx_right:g};return null!==r&&(y.ipdCameraPx=r),y}async function mt(e,t="iris",n=[]){let s=document.getElementById("webgazerVideoCanvas");if(!s)return null;const i=await e.gazeTracker.webgazer.getTracker().model,r=await i.estimateFaces(s);if(!r.length)return null;const a=r[0].keypoints,{leftEye:o,rightEye:l}=Ct(a,t);if(!o||!l)return null;return n.length=0,n.push(...a),c=o,u=l,Math.hypot(c.x-u.x,c.y-u.y,c.z-u.z);var c,u}function gt(e){try{const e=document.getElementById("webgazerVideoCanvas");if(!e)return null;const t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.videoWidth||e.width,t.height=e.videoHeight||e.height,n.save(),n.translate(t.width,0),n.scale(-1,1),n.drawImage(e,0,0,t.width,t.height),n.restore(),t.toDataURL("image/jpeg",.8)}catch(e){return null}}const yt=e=>2.54*(window.screen.height/2/e);async function At(e,t,n=!1,s=void 0){t.control;let i=e._CONST.N.PPI_DONT_USE;e.screenPpi&&(i=e.screenPpi.value),t.cameraSelectionDone||(await pe(e,null,t),t.cameraSelectionDone=!0);const r=document.getElementById("blindspot-slider-container");r&&r.parentNode&&r.parentNode.removeChild(r);let a=t.calibrateTrackDistanceSpotMinMaxDeg;"string"==typeof a&&(a=a.split(",").map(Number)),(!Array.isArray(a)||a.length<2)&&(a=[2,8]);const o=Math.max(.1,parseFloat(a[0])),l=Math.max(o+.1,parseFloat(a[1])),c=document.createElement("div");c.innerHTML=ht,document.body.appendChild(c),e._constructFloatInstructionElement("blind-spot-instruction",G.H.RC_distanceTrackingBlindspotGetReady[e.L]),e._setFloatInstructionElementPos("left",16);const u=document.getElementById("blind-spot-instruction");u&&u.classList.add("blindspot-instruction"),e._addCreditOnBackground(G.H.RC_viewingBlindSpotCredit[e.L]);const h=document.querySelector("#blindspot-wrapper"),d=document.querySelector("#blind-spot-canvas"),p=d.getContext("2d");d&&(d.classList.remove("cursor-grab"),d.style.pointerEvents="none"),h&&(h.style.zIndex="99999999998"),d&&(d.style.zIndex="99999999999",d.style.position="absolute");const f=document.querySelectorAll("#blindspot-slider-container span"),m=e=>Math.abs(e-Math.round(e))<1e-6?String(Math.round(e)):e.toFixed(1);if(f&&f.length>=3){const e=Math.pow(10,Math.log10(o)+.5*Math.log10(l/o)),t=Math.round(e);f[0].textContent=`${m(l)} deg`,f[1].textContent=`${t} deg`,f[2].textContent=`${m(o)} deg`}let g="right",y=0,A=0,w=60,b=0,v=e._CONST.COLOR.DARK_RED;const x=i/2.54;let C=!1,k=!1;const E=document.getElementById("webgazerVideoContainer");if(E){const e=parseInt(E.style.height)||E.offsetHeight||0;w=Math.max(0,Math.round(e/2))}const T=()=>{const e=Math.round(window.innerWidth);if(h&&(h.style.width=`${e}px`,h.style.pointerEvents="none"),d.width=e,d.height=window.innerHeight,d.style.width=`${d.width}px`,d.style.height=`${d.height}px`,y=d.width/2,A=k?"number"==typeof b?2*y-b:y:A||y,E){const e=parseInt(E.style.height)||E.offsetHeight||0;w=Math.max(0,Math.round(e/2))}else w=60};T();const _=new ResizeObserver(T);_.observe(e.background);let N=null;const D=()=>{if(!E||!h)return;e._blindspotOriginalVideoStyle||(e._blindspotOriginalVideoStyle={left:E.style.left,right:E.style.right,top:E.style.top,bottom:E.style.bottom,transform:E.style.transform,transition:E.style.transition});const t=h.getBoundingClientRect(),n=parseInt(E.style.width)||E.offsetWidth||0,s=parseInt(E.style.height)||E.offsetHeight||0,i=t.left+A,r=Math.max(0,Math.round(i-n/2));E.style.transition="none",E.style.willChange="left, top",E.style.zIndex="999999997",E.style.pointerEvents="none",N!==r&&(E.style.left=`${r}px`,E.style.right="unset",E.style.top="0px",E.style.bottom="unset",E.style.transform="none",N=r),w=Math.max(0,Math.round(0+s/2))},M=e=>{const t=document.getElementById("webgazerVideoContainer");if(!t)return;const n=(parseInt(t.style.width)||t.offsetWidth||0)/2;A="right"===e?y-n:"center"===e?y:y+n,D()},B=(e,t,n,s,i)=>{const r=(s-i)/fe(t)*e/n;return Math.max(Math.abs(r),.1)/2*fe(t)},R=(e,t,n,s,i,r)=>n-(e-t)/fe(s)*r/i*fe(s);function F(e,t,n,s,i=96){const r=5*i/2.54/2,a=document.getElementById("webgazerVideoContainer"),o=(a&&(parseInt(a.style.width)||a.offsetWidth)||0)/2,l=s/2;if("left"===e){return[Math.max(t+r,t+o),Math.min(2*t-o,n-l)]}return[Math.max(2*t-(window.innerWidth-o),l),Math.min(t-r,t-o)]}const O=document.createElement("div");O.style.position="fixed",O.style.zIndex="1000000000000",O.style.padding="0",O.style.borderRadius="8px",O.style.display="none",e.background.appendChild(O);const L=document.createElement("div");L.style.position="fixed",L.style.zIndex="1000000000000",L.style.display="none",e.background.appendChild(L);const z=()=>{const e=document.getElementById("blind-spot-instruction");if(!e)return;const t=e.getBoundingClientRect(),n=window.getComputedStyle(e),s=parseFloat(n.lineHeight)||1.6*parseFloat(n.fontSize);if(O.style.left=`${t.left}px`,O.style.top=`${t.bottom}px`,O.style.width="auto",O.style.paddingLeft=2*parseFloat(n.paddingLeft||0)+5+"px","none"!==O.style.display){const e=O.getBoundingClientRect();L.style.left=`${t.left}px`,L.style.top=`${e.bottom+s}px`,L.style.width=`${t.width}px`,L.style.paddingLeft=n.paddingLeft,L.style.fontFamily=n.fontFamily,L.style.fontSize=n.fontSize,L.style.fontWeight=n.fontWeight,L.style.lineHeight=n.lineHeight,L.style.color=n.color}},V=(t,n)=>{const s=document.getElementById("blind-spot-instruction");s?s.innerHTML=(0,I.Kv)(t):e._constructFloatInstructionElement("blind-spot-instruction",(0,I.Kv)(t)),e._setFloatInstructionElementPos(n,16),z()};let P=t.calibrateTrackDistanceSpotXYDeg[0];const W=t.calibrateTrackDistanceSpotXYDeg[1];let U=o;const j=document.getElementById("blindspot-size-slider");j.value=0,j.addEventListener("input",(e=>{const t=parseFloat(e.target.value);U=Math.pow(10,Math.log10(o)+t*Math.log10(l/o))}));let q=[0,0];const H=performance.now();let Y=!0;const K=()=>{p.clearRect(0,0,d.width,d.height);const e=B(U,i,P,b,A);q=F("right"===g?"left":"right",y,d.width,2*e,i),b=Math.max(q[0],Math.min(q[1],b));const n=R(b,A,w,i,P,W),s=function(e,t){const n=e/2;return[n,t-n]}(2*e,d.height),r=Math.max(s[0],Math.min(s[1],n));C&&C&&function(e,t,n,s,i,r,a=!0,o=30){const l=o/2,c=[{x:n,y:s-l},{x:n+l,y:s},{x:n,y:s+l},{x:n-l,y:s}];t.beginPath(),t.moveTo(c[0].x,c[0].y);for(let e=1;e<c.length;e++)t.lineTo(c[e].x,c[e].y);t.closePath(),t.fillStyle=a?i%125<63?r:"#fff":r,t.fill()}(0,p,b,r,Math.round(performance.now()-H),v,t.sparkle,2*e),te(p,A,w),Y&&requestAnimationFrame(K)};requestAnimationFrame(K);const Z=e=>{b+=e,b=Math.max(q[0],Math.min(q[1],b)),A=2*y-b,D()},Q=e=>{U=Math.max(o,Math.min(l,U*e));const t=parseFloat(j.value),n=Math.max(0,Math.min(1,t+Math.log10(e)/Math.log10(l/o)));j.value=n.toFixed(3)},X=e=>{k&&("ArrowLeft"===e.key?(e.preventDefault(),Z(-2.5)):"ArrowRight"===e.key?(e.preventDefault(),Z(2.5)):"ArrowUp"===e.key?(e.preventDefault(),Q(1.05)):"ArrowDown"===e.key?(e.preventDefault(),Q(.95)):"Escape"===e.key&&t.showCancelButton&&(e.preventDefault(),xe(!1)))};document.addEventListener("keydown",X),C=!1,k=!1,M("center"),V(G.H.RC_distanceTrackingBlindspotGetReady[e.L],"left"),requestAnimationFrame((()=>M("center"))),requestAnimationFrame((()=>M("center"))),z(),await new Promise((e=>{const t=n=>{" "===n.key&&(n.preventDefault(),document.removeEventListener("keydown",t),e())};document.addEventListener("keydown",t)}));let J=null,se=null;const ie=async n=>{(e=>{g=e,P="left"===e?-t.calibrateTrackDistanceSpotXYDeg[0]:t.calibrateTrackDistanceSpotXYDeg[0];const n=6*i/2.54;b="right"===e?y+n/2:y-n/2;const s=B(U,i,P,b,A);q=F("right"===e?"left":"right",y,d.width,2*s,i),b=Math.max(q[0],Math.min(q[1],b)),A=2*y-b,D()})(n),k=!0,C=!0;let s=0;(()=>{O.innerHTML="";const t=[{key:"none",label:G.H["RC_Diamond-None"][e.L]},{key:"oneTip",label:G.H["RC_Diamond-JustOneTip"][e.L]},{key:"twoTips",label:G.H["RC_Diamond-TipsOnBothSides"][e.L]},{key:"wholeDiamond",label:G.H["RC_Diamond-TheWholeDiamond"][e.L]}],n=document.getElementById("blind-spot-instruction"),s=n?window.getComputedStyle(n):null;t.forEach((e=>{const t=document.createElement("label");t.style.display="flex",t.style.flexDirection="row",t.style.alignItems="center",t.style.gap="0.5em",t.style.cursor="pointer",t.style.margin="0";const n=document.createElement("input");n.type="radio",n.name="bs-radio",n.value=e.key,n.style.margin="0",n.style.transform="scale(1.1)",n.style.flex="0",n.style.opacity="1",n.checked=!1,t.appendChild(n);const i=document.createElement("span");i.innerHTML=(0,I.Kv)(e.label),s?(i.style.fontFamily=s.fontFamily,i.style.fontSize=s.fontSize,i.style.fontWeight="normal",i.style.lineHeight=s.lineHeight,i.style.color=s.color,i.style.whiteSpace="normal"):(i.style.fontSize="1.1rem",i.style.fontWeight="normal"),i.style.paddingLeft="20px",i.style.flex="1",t.appendChild(i),t.addEventListener("click",(async()=>{const e=n.value;n.style.opacity="0.3",i.style.fontWeight="bold","mocha"!==S._&&ut&&ut(),await new Promise((e=>setTimeout(e,200))),O.querySelectorAll('input[name="bs-radio"]').forEach((e=>{e.checked=!1,e.style.opacity="1"})),O.querySelectorAll("span").forEach((e=>{e.style.fontWeight="normal"})),re(e)})),O.appendChild(t)})),z()})(),O.style.display="block",L.style.display="block";const r=()=>{"right"===n?(V(0===s?G.H.RC_distanceTrackingRightEyeBlindspot1[e.L]:G.H.RC_distanceTrackingRightEyeBlindspot2[e.L],"left"),L.innerHTML=(0,I.Kv)(0===s?G.H["RC_Diamond-Hint1"][e.L]:G.H["RC_Diamond-Hint2"][e.L])):(V(0===s?G.H.RC_distanceTrackingLeftEyeBlindspot1[e.L]:G.H.RC_distanceTrackingLeftEyeBlindspot2[e.L],"right"),L.innerHTML=(0,I.Kv)(0===s?G.H["RC_Diamond-Hint1"][e.L]:G.H["RC_Diamond-Hint2"][e.L])),z()};return r(),await new Promise((a=>{window.__bs_handleRadio=c=>{if("none"===c||"oneTip"===c){U=Math.min(l,Math.max(o,1.6*U));const e=parseFloat(j.value),t=Math.max(0,Math.min(1,e+Math.log10(1.6)/Math.log10(l/o)));j.value=t.toFixed(3)}else if("wholeDiamond"===c){U=Math.min(l,Math.max(o,.8*U));const e=parseFloat(j.value),t=Math.max(0,Math.min(1,e+Math.log10(.8)/Math.log10(l/o)));j.value=t.toFixed(3)}else if("twoTips"===c)return void(async()=>{O.style.display="none",L.style.display="none","right"===n?V(G.H.RC_distanceTrackingRightEyeBlindspot3[e.L],"left"):V(G.H.RC_distanceTrackingLeftEyeBlindspot3[e.L],"right");const s=async r=>{if(" "!==r.key)return;r.preventDefault(),document.removeEventListener("keydown",s);const o=R(b,A,w,i,P,W),l=[],c=[];for(let n=0;n<5;n++){try{const n=await mt(e,t.calibrateTrackDistancePupil,c);l.push(n&&!isNaN(n)?n:NaN)}catch(r){l.push(NaN)}await new Promise((e=>setTimeout(e,100)))}const u=l.filter((e=>!isNaN(e))),h=u.length?u.reduce(((e,t)=>e+t),0)/u.length:0;if(!(u.length>=3&&h>0)){const t=gt();return await $.A.fire({...ne(e,{showIcon:!1}),title:G.H.RC_FaceBlocked?G.H.RC_FaceBlocked[e.L]:"",html:t?`<div style="text-align:center"><img src="${t}" style="max-width:300px;max-height:400px;border:2px solid #ccc;border-radius:8px;"/><p style="margin-top:10px;font-size:0.8em;color:#666;">${G.H.RC_FaceImageNotSaved?G.H.RC_FaceImageNotSaved[e.L]:""}</p></div>`:void 0,showConfirmButton:!0}),void document.addEventListener("keydown",s)}const d=Math.hypot(b-A,o-w)/x;try{const s=Math.sqrt(t.calibrateTrackDistanceSpotXYDeg[0]**2+t.calibrateTrackDistanceSpotXYDeg[1]**2),{nearestPointsData:r,currentIPDDistance:u}=await pt(e,t,c,0,i,0,0,"blindspot",1,[A,w],[b,o],s,d,h),p=ft("right"===n?"right-eye":"left-eye",r.distanceCm,r.calibrationFactor,r,u,h);dt(e,"blindspot",[p],U);const f={eye:n,distanceCm:r.distanceCm,avgIPD:h,calibrationFactor:r.calibrationFactor,samples:l};a(f)}catch(r){a({eye:n,distanceCm:0,avgIPD:0,calibrationFactor:0,samples:[]})}};document.addEventListener("keydown",s)})();s+=1,r()}}))},re=e=>{"function"==typeof window.__bs_handleRadio&&window.__bs_handleRadio(e)},ae=()=>z();window.addEventListener("resize",ae),J=await ie("right"),se=await ie("left");const oe=J.calibrationFactor,le=se.calibrationFactor,ce=Math.max(oe/le,le/oe),ue=Math.max(t.calibrateTrackDistanceAllowedRatio||1.1,1/(t.calibrateTrackDistanceAllowedRatio||1.1)),he=Math.min(J.distanceCm,se.distanceCm),de=Math.max(J.distanceCm,se.distanceCm),me=Array.isArray(t.calibrateTrackDistanceAllowedRangeCm)?t.calibrateTrackDistanceAllowedRangeCm[0]:-1/0,ge=Array.isArray(t.calibrateTrackDistanceAllowedRangeCm)?t.calibrateTrackDistanceAllowedRangeCm[1]:1/0;if(he<me||de>ge){const i=G.H.RC_viewingExceededRange[e.L].replace("[[N11]]",Math.round(he)).replace("[[N22]]",Math.round(de)).replace("[[N33]]",Math.round(me)).replace("[[N44]]",Math.round(ge));return await $.A.fire({...ne(e,{showIcon:!1}),html:i||"Calibration not consistent. Please retry."}),xe(!1),await At(e,t,n,s)}if(ce>ue){const i=G.H.RC_viewingBlindSpotRejected[e.L].replace("[[N11]]",Math.round(he)).replace("[[N22]]",Math.round(de));return await $.A.fire({...ne(e,{showIcon:!1}),html:i||"Calibration not consistent. Please retry."}),xe(!1),await At(e,t,n,s)}const ye=[...J.samples.filter((e=>!isNaN(e))),...se.samples.filter((e=>!isNaN(e)))],Ae=ye.length?ye.reduce(((e,t)=>e+t),0)/ye.length:0,we=(0,I.JZ)([J.distanceCm,se.distanceCm]),be=Math.round(Ae*we),ve={value:(0,I.Nh)(we,t.decimalPlace||1),timestamp:performance.now(),method:e._CONST.VIEW_METHOD.B,calibrationFactor:be,averageFaceMesh:Ae,faceMeshSamplesLeft:se.samples,faceMeshSamplesRight:J.samples};function xe(t=!0){Y=!1,_.unobserve(e.background),document.removeEventListener("keydown",X),O&&O.parentNode&&O.parentNode.removeChild(O),L&&L.parentNode&&L.parentNode.removeChild(L),window.removeEventListener("resize",ae);const n=document.getElementById("blindspot-wrapper");if(n&&n.parentNode)try{n.parentNode.removeChild(n)}catch(e){}e._removeBackground();const s=document.getElementById("webgazerVideoContainer");if(s&&e._blindspotOriginalVideoStyle){const t=e._blindspotOriginalVideoStyle;s.style.left=t.left,s.style.right=t.right,s.style.top=t.top,s.style.bottom=t.bottom,s.style.transform=t.transform,s.style.transition=t.transition;try{ee(e,s)}catch(e){}e._blindspotOriginalVideoStyle=null}!e._trackingSetupFinishedStatus.distance&&t&&(e._trackingSetupFinishedStatus.distance=!0,e.gazeTracker.checkInitialized("distance",!1)&&e.endDistance())}e.newViewingDistanceData=ve,xe(!1),t.calibrateTrackDistanceCheckBool?await e._checkDistance(s,ve,n?"trackDistance":"measureDistance",t.checkCallback,t.calibrateTrackDistanceCheckCm,t.callbackStatic,t.calibrateTrackDistanceCheckSecs,t.calibrateTrackDistanceCheckLengthCm,t.calibrateTrackDistanceCenterYourEyesBool,t.calibrateTrackDistancePupil):(0,I.nB)(s,ve)}function wt(e,t){return.5*e/bt(.5*Math.sqrt(t[0]**2+t[1]**2))}function bt(e){return Math.tan(e*Math.PI/180)}async function vt(e,t,n=void 0){e._addBackground();let s=1,i=null,r=[],a=[],o=[],l=[];async function c(e,n,s,i){n.length=0;for(let s=0;s<5;s++){try{const s=await mt(e,t.calibrateTrackDistancePupil,i);s&&!isNaN(s)?n.push(s):n.push(NaN)}catch(e){n.push(NaN)}await new Promise((e=>setTimeout(e,100)))}n.filter((e=>!isNaN(e))),n.filter((e=>isNaN(e)));if(5!==n.length)for(;n.length<5;)n.push(NaN)}let u=e.screenPpi?e.screenPpi.value:96/25.4,h=u/25.4,d=window.innerWidth,p=window.innerHeight,f=0,m=p,g=d,y=0,A=g-f,w=y-m,b=Math.sqrt(A*A+w*w),v=A/b,x=w/b;Math.min(d,p);let C=f+200*v,k=m+200*x;const E=2/3*b;let T=f+E*v,_=m+E*x;const N=document.createElement("div");N.style.position="fixed",N.style.top="0",N.style.left="0",N.style.width="100vw",N.style.height="100vh",N.style.userSelect="none",N.style.overflow="hidden";const D=document.createElement("h1");D.innerText=G.H.RC_SetViewingDistance[e.L],D.style.whiteSpace="pre-line",D.style.alignSelf="flex-start",D.style.position="relative",D.style.textAlign="start",D.style.paddingInlineStart="3rem",D.style.margin="2rem 0 5rem 0",D.dir=e.LD.toLowerCase(),N.appendChild(D);const M=document.getElementById("webgazerVideoContainer").getBoundingClientRect(),B=(d-M.width)/2,R=document.createElement("div");R.style.maxWidth=B-10+"px",R.style.paddingLeft="3rem",R.style.marginTop="-2rem",R.style.textAlign="left",R.style.whiteSpace="pre-line",R.style.alignSelf="flex-start",R.style.position="relative",R.style.zIndex="3",R.style.fontSize="1.4em",R.style.lineHeight="1.6",R.style.textAlign="start",R.style.paddingInlineStart="3rem",R.style.fontSize="clamp(1.1em, 2.5vw, 1.4em)",N.appendChild(R);const F=document.createElement("div");F.style.position="fixed",F.style.top="0",F.style.left="0",F.style.width="100%",F.style.height="100%",F.style.backgroundColor="rgba(0, 0, 0, 0.4)",F.style.zIndex="9998",F.style.display="none",N.appendChild(F);const O=(()=>{const e=Math.round(.75*u),t=document.createElement("div");t.id="diagonal-tape-measurement-component",t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width="100vw",t.style.height="100vh",t.style.pointerEvents="none",t.style.zIndex="10";const n=document.createElement("div");n.style.position="absolute",n.style.background="rgba(255, 221, 51, 0.95)",n.style.border="2px solid rgb(0, 0, 0)",n.style.borderRadius="2px",n.style.zIndex="1",n.style.transformOrigin="left center",t.appendChild(n);const s=document.createElement("div");s.style.position="absolute",s.style.width="3px",s.style.height=`${e}px`,s.style.background="transparent",s.style.borderRadius="1px",s.style.boxShadow="none",s.style.cursor="move",s.style.pointerEvents="auto",s.style.zIndex="3",s.style.transform="translate(-50%, -50%)",s.style.transformOrigin="center center",t.appendChild(s);const i=document.createElement("div");i.style.position="absolute",i.style.width="3px",i.style.height=`${e}px`,i.style.background="transparent",i.style.borderRadius="1px",i.style.boxShadow="none",i.style.cursor="move",i.style.pointerEvents="auto",i.style.zIndex="3",i.style.transform="translate(-50%, -50%)",i.style.transformOrigin="center center",t.appendChild(i);const r=document.createElement("div");r.style.position="absolute",r.style.color="rgb(0, 0, 0)",r.style.fontWeight="bold",r.style.fontSize="1.4rem",r.style.background="rgba(255, 221, 51, 1.0)",r.style.padding="2px 6px",r.style.borderRadius="4px",r.style.whiteSpace="nowrap",r.style.zIndex="20",r.style.transform="translate(-50%, -50%)",t.appendChild(r);const a=document.createElement("div");a.style.position="absolute",a.style.zIndex="18",a.style.pointerEvents="none",t.appendChild(a);const o=document.createElement("div");o.style.position="absolute",o.style.background="rgb(0, 0, 0)",o.style.transformOrigin="left center",o.style.height="2px",a.appendChild(o);const l=document.createElement("div");l.style.position="absolute",l.style.background="rgb(0, 0, 0)",l.style.width="24px",l.style.height="2px",l.style.transformOrigin="left center",a.appendChild(l);const c=document.createElement("div");c.style.position="absolute",c.style.background="rgb(0, 0, 0)",c.style.width="24px",c.style.height="2px",c.style.transformOrigin="left center",a.appendChild(c);const h=document.createElement("div");h.style.position="absolute",h.style.background="rgb(0, 0, 0)",h.style.width="24px",h.style.height="2px",h.style.transformOrigin="left center",a.appendChild(h);const d=document.createElement("div");return d.style.position="absolute",d.style.background="rgb(0, 0, 0)",d.style.width="24px",d.style.height="2px",d.style.transformOrigin="left center",a.appendChild(d),{container:t,elements:{diagonalTape:n,leftHandle:s,rightHandle:i,dynamicLengthLabel:r,arrowContainer:a,arrowLine:o,leftArrowLine1:l,leftArrowLine2:c,rightArrowLine1:h,rightArrowLine2:d},dimensions:{tapeWidth:e,lineThickness:3},helpers:{getDistance:(e,t,n,s)=>Math.sqrt((n-e)**2+(s-t)**2),getAngle:(e,t,n,s)=>Math.atan2(s-t,n-e)*(180/Math.PI)}}})();function L(){const e=b>0?Math.sqrt((C-f)**2+(k-m)**2)/b:0,t=b>0?Math.sqrt((T-f)**2+(_-m)**2)/b:0;d=window.innerWidth,p=window.innerHeight,f=0,m=p,g=d,y=0,A=g-f,w=y-m,b=Math.sqrt(A*A+w*w),v=A/b,x=w/b;const n=e*b,s=t*b;C=f+n*v,k=m+n*x,T=f+s*v,_=m+s*x,q()}N.appendChild(O.container),window.addEventListener("resize",L);const z=(e,t=!0)=>{const n=document.createElement("div");n.style.position="absolute",n.style.zIndex="15";const s=e.length,i=Math.max(12*s,120),r=document.createElement("div");r.style.position="relative",r.style.width=`${i}px`,r.style.height="30px",r.style.background="transparent",r.style.border="none",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center";const a=document.createElement("div");a.innerText=e,a.style.color="rgb(0, 0, 0)",a.style.fontWeight="bold",a.style.fontSize="1.2em",a.style.textAlign="center",a.style.lineHeight="1.2",a.style.whiteSpace="nowrap",a.style.textShadow="1px 1px 2px rgba(255, 255, 255, 0.8)",r.appendChild(a),n.appendChild(r);return{container:n,textElement:a,updateText:e=>{const t=e.length,s=Math.max(12*t,120);return r.style.width=`${s}px`,a.innerText=e,n.dimensions={width:s,height:30},s},dimensions:{width:i,height:30}}},V=z(G.H.RC_LeftEdge[e.L],!0);N.appendChild(V.container);const P=z(G.H.RC_RightEdge[e.L],!1);P.container.id="right-line-label",N.appendChild(P.container);const W=()=>{const e=O.helpers.getDistance(C,k,T,_),t=O.helpers.getAngle(C,k,T,_);O.elements.diagonalTape.style.left=`${C}px`,O.elements.diagonalTape.style.top=k-O.dimensions.tapeWidth/2+"px",O.elements.diagonalTape.style.width=`${e}px`,O.elements.diagonalTape.style.height=`${O.dimensions.tapeWidth}px`,O.elements.diagonalTape.style.transform=`rotate(${t}deg)`,O.elements.leftHandle.style.left=`${C}px`,O.elements.leftHandle.style.top=`${k}px`,O.elements.leftHandle.style.transform=`translate(-50%, -50%) rotate(${t}deg)`,O.elements.rightHandle.style.left=`${T}px`,O.elements.rightHandle.style.top=`${_}px`,O.elements.rightHandle.style.transform=`translate(-50%, -50%) rotate(${t}deg)`;const n=(C+T)/2,s=(k+_)/2,i=e/h/10;O.elements.dynamicLengthLabel.style.left=`${n}px`,O.elements.dynamicLengthLabel.style.top=`${s}px`,O.elements.dynamicLengthLabel.innerText=`${i.toFixed(1)} cm`;const r=10*O.elements.dynamicLengthLabel.innerText.length+12;if(r>.4*e){const t=.4*e/r,n=1.4*Math.max(.7,t);O.elements.dynamicLengthLabel.style.fontSize=`${n}rem`}else O.elements.dynamicLengthLabel.style.fontSize="1.4rem";const a=e,o=C,l=k;O.elements.arrowLine.style.left=`${o}px`,O.elements.arrowLine.style.top=`${l}px`,O.elements.arrowLine.style.width=`${a}px`,O.elements.arrowLine.style.transform=`rotate(${t}deg)`;const c=C,u=k;O.elements.leftArrowLine1.style.left=`${c}px`,O.elements.leftArrowLine1.style.top=`${u}px`,O.elements.leftArrowLine1.style.transform=`rotate(${t-30}deg)`,O.elements.leftArrowLine2.style.left=`${c}px`,O.elements.leftArrowLine2.style.top=`${u}px`,O.elements.leftArrowLine2.style.transform=`rotate(${t+30}deg)`;const d=T,p=_;O.elements.rightArrowLine1.style.left=`${d}px`,O.elements.rightArrowLine1.style.top=`${p}px`,O.elements.rightArrowLine1.style.transform=`rotate(${t+150}deg)`,O.elements.rightArrowLine2.style.left=`${d}px`,O.elements.rightArrowLine2.style.top=`${p}px`,O.elements.rightArrowLine2.style.transform=`rotate(${t-150}deg)`},j=()=>{const n=O.helpers.getDistance(C,k,T,_)/h/10<=(t.calibrateTrackDistanceMinCm||10),s=n?"rgb(255, 0, 0)":"rgb(0, 0, 0)",i=n?"0 0 8px rgba(255, 0, 0, 0.4)":"0 0 8px rgba(0, 0, 0, 0.4)";O.elements.leftHandle.style.background=s,O.elements.leftHandle.style.boxShadow=i,O.elements.rightHandle.style.background=s,O.elements.rightHandle.style.boxShadow=i,O.elements.diagonalTape.style.borderColor=s,P.textElement.style.color=s;const r=n?G.H.RC_viewingDistanceObjectTooShort[e.L]:G.H.RC_RightEdge[e.L];P.updateText(r)};function q(){V.container.style.left=C-V.dimensions.width/2+"px",V.container.style.top=k-V.dimensions.height-10+"px",P.container.style.left=T-P.dimensions.width/2+"px",P.container.style.top=_-P.dimensions.height-10+"px",j(),W()}O.elements.leftHandle.addEventListener("mouseenter",(()=>{O.elements.leftHandle.style.boxShadow="0 0 12px rgba(0, 0, 0, 0.6)"})),O.elements.leftHandle.addEventListener("mouseleave",(()=>{j()})),O.elements.rightHandle.addEventListener("mouseenter",(()=>{O.elements.rightHandle.style.boxShadow="0 0 12px rgba(0, 0, 0, 0.6)"})),O.elements.rightHandle.addEventListener("mouseleave",(()=>{j()}));let H=!1,Y=!1;O.elements.leftHandle.addEventListener("mousedown",(e=>{H=!0,document.body.style.cursor="move",e.preventDefault()})),O.elements.rightHandle.addEventListener("mousedown",(e=>{Y=!0,document.body.style.cursor="move",e.preventDefault()}));const K=(e,t,n,s)=>{const i=(e,t)=>{const n=(e-f)*v+(t-m)*x;return{x:f+n*v,y:m+n*x}},r=i(e,t),a=i(n,s),o=e=>({x:Math.max(10,Math.min(d-10,e.x)),y:Math.max(10,Math.min(p-10,e.y))}),l=o(r),c=o(a);Math.sqrt((c.x-l.x)**2+(c.y-l.y)**2)<50||(C=l.x,k=l.y,T=c.x,_=c.y,q())};window.addEventListener("mousemove",(e=>{if(H){const t=e.clientX,n=e.clientY;K(t,n,T,_)}else if(Y){const t=e.clientX,n=e.clientY;K(C,k,t,n)}})),window.addEventListener("mouseup",(()=>{(H||Y)&&(H=!1,Y=!1,document.body.style.cursor="")}));let Z=!1,Q=null,X=null;const J=e=>{"keydown"===e.type?(e=>{2===s&&(e.preventDefault(),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e.key)&&(Z||(Z=!0,X=e.key,Q&&clearInterval(Q),Q=setInterval((()=>{"ArrowLeft"===X||"ArrowUp"===X?K(C,k,T-5*v,_-5*x):"ArrowRight"!==X&&"ArrowDown"!==X||K(C,k,T+5*v,_+5*x)}),50))))})(e):"keyup"===e.type&&(e=>{2===s&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e.key)&&X===e.key&&(Z=!1,X=null,Q&&(clearInterval(Q),Q=null))})(e)};document.addEventListener("keydown",J),document.addEventListener("keyup",J);const te=()=>{document.removeEventListener("keydown",J),document.removeEventListener("keyup",J),Q&&(clearInterval(Q),Q=null)};window.addEventListener("beforeunload",te),q(),e._replaceBackground(""),e.background.appendChild(N);const se=document.getElementById("webgazerVideoContainer");se&&ee(e,se);const ie=async n=>{if(s=n,0===n){e.showVideo(!0);const n=document.getElementById("webgazerVideoContainer");if(n&&ee(e,n),O.container.style.display="none",V.container.style.display="none",P.container.style.display="none",de.style.display="block",ge.style.display="none",t.calibrateTrackDistanceCheckBool){const e=document.querySelector('div[style*="color: rgb(139, 0, 0)"]');e&&(e.style.display="none")}R.innerText=G.H.RC_UseObjectToSetViewingDistancePage0q[e.L]}else if(1===n){e.showVideo(!0);const n=document.getElementById("webgazerVideoContainer");if(n&&ee(e,n),O.container.style.display="none",V.container.style.display="none",P.container.style.display="none",ge.style.display="block",de.style.display="block",t.calibrateTrackDistanceCheckBool){const e=document.querySelector('div[style*="color: rgb(139, 0, 0)"]');e&&(e.style.display="none")}R.innerText=G.H.RC_UseObjectToSetViewingDistancePage1[e.L]}else if(2===n){if(e.showVideo(!1),O.container.style.display="block",V.container.style.display="block",P.container.style.display="block",de.style.display="none",ge.style.display="block",t.calibrateTrackDistanceCheckBool){const t=document.createElement("div");t.innerText=G.H.RC_DontUseYourRulerYet[e.L],t.style.position="fixed",t.style.top="60%",t.style.transform="translateY(-50%)",t.style.right="3rem",t.style.color="#8B0000",t.style.fontSize="16pt",t.style.fontWeight="normal",t.style.zIndex="10",t.style.userSelect="none",t.style.textAlign="right",t.style.lineHeight="1.6",t.style.textAlign="start",t.style.maxWidth="40vw",t.style.paddingInlineStart="3rem",e.LD===e._CONST.RTL&&(t.style.textAlign="left",t.style.left="3rem",t.style.right="auto"),N.appendChild(t)}q(),R.innerText=G.H["RC_UseObjectToSetViewingDistancePage1&2"][e.L]}else if(3===n){e.showVideo(!0);const t=document.getElementById("webgazerVideoContainer");t&&ee(e,t),O.container.style.display="none",V.container.style.display="none",P.container.style.display="none",de.style.display="none",ge.style.display="block",R.innerText=G.H.RC_UseObjectToSetViewingDistancePage3[e.L]}else if(4===n){e.showVideo(!0);const t=document.getElementById("webgazerVideoContainer");t&&ee(e,t),O.container.style.display="none",V.container.style.display="none",P.container.style.display="none",de.style.display="none",ge.style.display="block",R.innerText=G.H.RC_UseObjectToSetViewingDistancePage4[e.L]}},re=async()=>{if(0===s)await ie(2);else if(1===s)await ie(2);else if(2===s){const e=O.helpers.getDistance(C,k,T,_),t=e/h,n=t/10;i={value:(0,I.Nh)(n,1),timestamp:performance.now(),method:"object",intraocularDistanceCm:null,faceMeshSamplesPage3:r.map((e=>isNaN(e)?e:Math.round(e))),faceMeshSamplesPage4:a.map((e=>isNaN(e)?e:Math.round(e))),raw:{startX:C,startY:k,endX:T,endY:_,screenWidth:d,objectLengthPx:e,objectLengthMm:t,ppi:u}},await ie(3)}else 3===s?await ie(4):4===s&&i&&(async function(e,t,n="iris"){let s=document.getElementById("webgazerVideoCanvas");if(!s)return null;const i=await e.gazeTracker.webgazer.getTracker().model,r=await i.estimateFaces(s);if(!r.length)return null;const a=r[0].keypoints||r[0].scaledMesh,o=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y,e.z-t.z),{leftEye:l,rightEye:c}=Ct(a,n);if(!l||!c)return null;const u=o(l,c);const h=t/25.4,d=u/h;return d/10}(e,u,t.calibrateTrackDistancePupil).then((e=>{e&&(i.intraocularDistanceCm=e)})),e.newObjectTestDistanceData=i,e.newViewingDistanceData=i,document.removeEventListener("keydown",ue),window.removeEventListener("beforeunload",te),e._removeBackground(),"function"==typeof n&&n(i))},ae=async()=>{if(document.removeEventListener("keydown",ue),document.removeEventListener("keyup",ue),t.calibrateTrackDistanceCheckBool){const e=document.querySelector('div[style*="color: rgb(139, 0, 0)"]');e&&(e.style.display="none")}e.gazeTracker.checkInitialized("distance")||e.gazeTracker._init({toFixedN:1,showVideo:!0,showFaceOverlay:!1},"distance");const s=O.helpers.getDistance(C,k,T,_),i=s/h,o={value:(0,I.Nh)(fe,1),timestamp:performance.now(),method:"object",raw:{startX:C,startY:k,endX:T,endY:_,screenWidth:d,objectLengthPx:s,objectLengthMm:i,ppi:u,webcamToEyesCm:fe},intraocularDistanceCm:me,faceMeshSamplesPage3:r.map((e=>isNaN(e)?e:Math.round(e))),faceMeshSamplesPage4:a.map((e=>isNaN(e)?e:Math.round(e)))},l=r.filter((e=>!isNaN(e))),c=a.filter((e=>!isNaN(e))),p=l.length?l.reduce(((e,t)=>e+t),0)/l.length:0,f=c.length?c.reduce(((e,t)=>e+t),0)/c.length:0,m=e.page3FactorCmPx,g=e.page4FactorCmPx,y=Math.round((m+g)/2);o.calibrationFactor=y,o.distance1FactorCmPx=m,o.distance2FactorCmPx=g,o.viewingDistanceByObject1Cm=o.value,o.viewingDistanceByObject2Cm=o.value,o.page3Average=p,o.page4Average=f;let A=null;t.objecttestdebug&&(A=document.createElement("div"),A.style.position="fixed",A.style.bottom="20px",A.style.left="20px",A.style.color="black",A.style.padding="10px",A.style.borderRadius="5px",A.style.fontFamily="monospace",A.style.zIndex="9999999999",A.innerHTML=`\n        <div style="position: absolute; top: 5px; right: 5px; cursor: pointer; font-weight: bold; font-size: 16px; color: #666;" onclick="this.parentElement.remove()">×</div>\n        <div style="margin-top: 10px;">Object distance calibration</div>\n        <div>pxPerCm = ${(u/2.54).toFixed(1)}</div>\n        <div>distanceObjectCm = ${o.value.toFixed(1)}</div>\n        <div>distance1InterpupillaryPx = ${r.map((e=>isNaN(e)?"NaN":Math.round(e))).join(", ")}</div>\n        <div>distance1FactorCmPx = ${m}</div>\n        <div>distance2InterpupillaryPx = ${a.map((e=>isNaN(e)?"NaN":Math.round(e))).join(", ")}</div>\n        <div>distance2FactorCmPx = ${g}</div>\n      `,document.body.appendChild(A)),e.newObjectTestDistanceData=o,e.newViewingDistanceData=o,"both"===t.useObjectTestData?(e._removeBackground(),document.removeEventListener("keydown",ue),document.removeEventListener("keyup",ue),setTimeout((()=>{e._addBackground(),e._replaceBackground((0,I.$O)(`${G.H.RC_distanceTrackingTitle[e.L]}`,null,!0,"")),At(e,t,!0,(async s=>{const i=o.calibrationFactor,l=s.calibrationFactor,c=(0,I.JZ)([i,l]),h={value:o.value,timestamp:Date.now(),method:"both",calibrationFactor:c,averageFaceMesh:o.averageFaceMesh,faceMeshSamplesPage3:r.map((e=>isNaN(e)?e:Math.round(e))),faceMeshSamplesPage4:a.map((e=>isNaN(e)?e:Math.round(e))),raw:{object:o,blindspot:s,objectCalibrationFactor:i,blindspotCalibrationFactor:l,medianCalibrationFactor:c}};t.objecttestdebug&&A&&(A.innerHTML=`\n                      <div style="position: absolute; top: 5px; right: 5px; cursor: pointer; font-weight: bold; font-size: 16px; color: #666;" onclick="this.parentElement.remove()">×</div>\n                      <div style="margin-top: 10px;">Object distance calibration</div>\n                      <div>pxPerCm = ${(u/2.54).toFixed(1)}</div>\n                      <div>distanceObjectCm = ${o.value.toFixed(1)}</div>\n                      <div>distance1InterpupillaryPx = ${r.map((e=>isNaN(e)?"NaN":Math.round(e))).join(", ")}</div>\n                      <div>distance1FactorCmPx = ${m}</div>\n                      <div>distance2InterpupillaryPx = ${a.map((e=>isNaN(e)?"NaN":Math.round(e))).join(", ")}</div>\n                      <div>distance2FactorCmPx = ${g}</div>\n                      <div>blindspotCalibrationFactor = ${l.toFixed(1)}</div>\n                      <div>AverageCombinedCalibrationFactor = ${c.toFixed(1)}</div>\n                  `),e.newObjectTestDistanceData=h,e.newViewingDistanceData=h,t.calibrateTrackDistanceCheckBool?await e._checkDistance(n,o,"trackDistance",t.checkCallback,t.calibrateTrackDistanceCheckCm,t.callbackStatic,t.calibrateTrackDistanceCheckSecs,t.calibrateTrackDistanceCheckLengthCm,t.calibrateTrackDistanceCenterYourEyesBool,t.calibrateTrackDistancePupil):"function"==typeof n&&n(o),e._removeBackground()}))}),500)):(t.calibrateTrackDistanceCheckBool?await e._checkDistance(n,o,"trackDistance",t.checkCallback,t.calibrateTrackDistanceCheckCm,t.callbackStatic,t.calibrateTrackDistanceCheckSecs,t.calibrateTrackDistanceCheckLengthCm,t.calibrateTrackDistanceCenterYourEyesBool,t.calibrateTrackDistancePupil):"function"==typeof n&&n(o),e._removeBackground())},oe=()=>{document.removeEventListener("keydown",ue),document.removeEventListener("keyup",ue),le&&le(),window.removeEventListener("resize",L),N&&N.parentNode&&N.parentNode.removeChild(N),e._removeBackground()};let le=(0,U.KD)(null,e.keypadHandler,(()=>{de.click()}),!1,["return"],e),ce=null;const ue=n=>{if("Enter"===n.key||"Return"===n.key){if(2===s||3===s||4===s)return;de.click()}else" "===n.key&&(2!==s&&3!==s&&4!==s||(n.preventDefault(),3!==s&&4!==s||"mocha"!==S._&&ct&&ct(),2===s&&"mocha"!==S._&&ut&&ut(),3!==s&&4!==s||(ce=gt()),2===s?(async()=>{const t=O.helpers.getDistance(C,k,T,_);fe=t/h/10;await re(),e.gazeTracker.checkInitialized("distance")||e.gazeTracker._init({toFixedN:1,showVideo:!0,showFaceOverlay:!1},"distance")})():3===s?(async()=>{await c(e,r,0,o);if(r.filter((e=>!isNaN(e))).length<5||r.some((e=>isNaN(e)))){const t=ce;await $.A.fire({...ne(e,{showIcon:!1}),title:G.H.RC_FaceBlocked[e.L],html:`<div style="text-align: center;">\n                    <img src="${t}" style="max-width: 300px; max-height: 400px; border: 2px solid #ccc; border-radius: 8px;" alt="Camera view" />\n                    <p style="margin-top: 15px; font-size: 0.7em; color: #666;">${G.H.RC_FaceImageNotSaved[e.L]}</p>\n                   </div>`,showCancelButton:!1,showConfirmButton:!1,allowEnterKey:!0,footer:`\n                  <div style="display: flex; justify-content: space-between; align-items: center; width: 100%; gap: 10px;">\n                    <button class="swal2-confirm swal2-styled" id="ok-button-page3" style="background-color: #3085d6; border: none; flex: 0 0 auto;">\n                      ${G.H.EE_ok[e.L]}\n                    </button>\n                    <div style="display: flex; align-items: center; gap: 10px;">\n                      <div style="color: #000; font-size: 1.6em;">\n                        ${G.H.RC_LongerObjectHelps[e.L]}\n                      </div>\n                      <button class="swal2-confirm swal2-styled" id="new-object-button-page3" style="background-color: #28a745; border: none; flex: 0 0 auto;">\n                        ${G.H.RC_NewObjectButton[e.L]}\n                      </button>\n                    </div>\n                  </div>\n                `,customClass:{footer:"swal2-footer-no-border"},didOpen:()=>{if(!document.getElementById("swal2-footer-no-border-style")){const e=document.createElement("style");e.id="swal2-footer-no-border-style",e.textContent=".swal2-footer-no-border { border-top: none !important; }",document.head.appendChild(e)}document.getElementById("ok-button-page3").addEventListener("click",(()=>{$.A.close()})),document.getElementById("new-object-button-page3").addEventListener("click",(()=>{r.length=0,a.length=0,fe=null,s=1,$.A.close(),re()}))}});ce=null}else await re(),ce=null})():4===s&&(async()=>{await c(e,a,0,l);if(a.filter((e=>!isNaN(e))).length<5||a.some((e=>isNaN(e)))){const t=ce;await $.A.fire({...ne(e,{showIcon:!1}),title:G.H.RC_FaceBlocked[e.L],html:`<div style="text-align: center;">\n                    <img src="${t}" style="max-width: 300px; max-height: 400px; border: 2px solid #ccc; border-radius: 8px;" alt="Camera view" />\n                    <p style="margin-top: 15px; font-size: 0.7em; color: #666;">${G.H.RC_FaceImageNotSaved[e.L]}</p>\n                   </div>`,showCancelButton:!1,showConfirmButton:!1,allowEnterKey:!0,footer:`\n                  <div style="display: flex; justify-content: space-between; align-items: center; width: 100%; gap: 10px;">\n                    <button class="swal2-confirm swal2-styled" id="ok-button-page4" style="background-color: #3085d6; border: none; flex: 0 0 auto;">\n                      ${G.H.EE_ok[e.L]}\n                    </button>\n                    <div style="display: flex; align-items: center; gap: 10px;">\n                      <div style="color: #000; font-size: 1.6em;">\n                        ${G.H.RC_LongerObjectHelps[e.L]}\n                      </div>\n                      <button class="swal2-confirm swal2-styled" id="new-object-button-page4" style="background-color: #28a745; border: none; flex: 0 0 auto;">\n                        ${G.H.RC_NewObjectButton[e.L]}\n                      </button>\n                    </div>\n                  </div>\n                `,customClass:{footer:"swal2-footer-no-border"},didOpen:()=>{if(!document.getElementById("swal2-footer-no-border-style")){const e=document.createElement("style");e.id="swal2-footer-no-border-style",e.textContent=".swal2-footer-no-border { border-top: none !important; }",document.head.appendChild(e)}document.getElementById("ok-button-page4").addEventListener("click",(()=>{$.A.close()})),document.getElementById("new-object-button-page4").addEventListener("click",(()=>{r.length=0,a.length=0,fe=null,s=1,$.A.close(),re()}))}});ce=null}else{const[n,i,c,h,d,p]=xt(e,r,a,t.calibrateTrackDistanceAllowedRatio,t.calibrateTrackDistanceAllowedRangeCm,fe);if(e.measurementHistory&&"Pass"!==i?e.measurementHistory.push(i):"Pass"!==i&&(e.measurementHistory=[i]),n){const n=r.filter((e=>!isNaN(e))),s=a.filter((e=>!isNaN(e))),i=n.length?n.reduce(((e,t)=>e+t),0)/n.length:0,c=s.length?s.reduce(((e,t)=>e+t),0)/s.length:0,h=i*fe;e.page3FactorCmPx=h;const d=c*fe;e.page4FactorCmPx=d;e.averageObjectTestCalibrationFactor=Math.round(Math.sqrt(h*d));try{if(o.length&&l.length){const n=[];if(o.length){const{nearestPointsData:s,currentIPDDistance:i}=await pt(e,t,o,h,u);n.push(ft("firstMeasurement",fe,h,s,i))}if(l.length){const{nearestPointsData:s,currentIPDDistance:i}=await pt(e,t,l,d,u);n.push(ft("secondMeasurement",fe,d,s,i))}dt(e,"object",n)}}catch(e){}await ae()}else{const n=Math.sqrt(r[0]/a[0]),f=c.toFixed(1)*n,m=h.toFixed(1)/n;let g=G.H.RC_viewingObjectRejected[e.L].replace("[[N11]]",Math.round(f)).replace("[[N22]]",Math.round(m));const y=i.includes("out of allowed range");y&&(g=G.H.RC_viewingExceededRange[e.L].replace("[[N11]]",Math.round(f)).replace("[[N22]]",Math.round(m)).replace("[[N33]]",Math.round(d)).replace("[[N44]]",Math.round(p)));const A=r.filter((e=>!isNaN(e))),w=a.filter((e=>!isNaN(e))),b=A.length?A.reduce(((e,t)=>e+t),0)/A.length:0,v=w.length?w.reduce(((e,t)=>e+t),0)/w.length:0,x=b*fe;e.page3FactorCmPx=x;const C=v*fe;e.page4FactorCmPx=C;try{if(o.length&&l.length){const n=[];if(o.length){const{nearestPointsData:s,currentIPDDistance:i}=await pt(e,t,o,x,u);n.push(ft("firstMeasurement",fe,x,s,i))}if(l.length){const{nearestPointsData:s,currentIPDDistance:i}=await pt(e,t,l,C,u);n.push(ft("secondMeasurement",fe,C,s,i))}dt(e,"object",n)}}catch(e){}r.length=0,a.length=0;const k=y,E=e._panelStatus.hasPanel;if(k&&E)return void await $.A.fire({...ne(e,{showIcon:!1}),icon:void 0,html:g,allowEnterKey:!0}).then((()=>{oe(),e._returnToPanelForScreenSize()}));await $.A.fire({...ne(e,{showIcon:!1}),icon:void 0,html:g,allowEnterKey:!0}),s=1,fe=null,await re()}ce=null}})()))};document.addEventListener("keydown",ue);const he=document.createElement("div");he.className="rc-button-container",he.style.position="fixed",he.style.bottom="45px",he.style.right="20px",he.style.zIndex="9999999999",he.style.display="flex",he.style.gap="10px",e.background.appendChild(he);const de=document.createElement("button");de.className="rc-button",de.textContent="Proceed",de.style.border="2px solid #019267",de.style.backgroundColor="#019267",de.style.color="white",de.style.fontSize="1.2rem",de.style.padding="8px 16px",de.style.borderRadius="4px",de.style.cursor="pointer";let fe=null,me=null;de.onclick=async()=>{if(0===s)await re();else if(1===s)await re();else if(2===s){const t=O.helpers.getDistance(C,k,T,_);fe=t/h/10;await re(),e.gazeTracker.checkInitialized("distance")||e.gazeTracker._init({toFixedN:1,showVideo:!0,showFaceOverlay:!1},"distance")}else if(3===s)"mocha"!==S._&&ct&&ct(),await c(e,r,0,o),await re();else if(4===s){"mocha"!==S._&&ct&&ct(),await c(e,a,0,l);const[n,i,h,d,p,f]=xt(e,r,a,t.calibrateTrackDistanceAllowedRatio,t.calibrateTrackDistanceAllowedRangeCm,fe);if(e.measurementHistory&&"Pass"!==i?e.measurementHistory.push(i):"Pass"!==i&&(e.measurementHistory=[i]),n){const n=r.filter((e=>!isNaN(e))),s=a.filter((e=>!isNaN(e))),i=(n.length&&(n.reduce(((e,t)=>e+t),0),n.length),s.length?s.reduce(((e,t)=>e+t),0)/s.length:0),c=e.page3FactorCmPx,h=i*fe;try{if(o.length&&l.length){const n=[];if(o.length){const{nearestPointsData:s,currentIPDDistance:i}=await pt(e,t,o,c,u);n.push(ft("firstMeasurement",fe,c,s,i))}if(l.length){const{nearestPointsData:s,currentIPDDistance:i}=await pt(e,t,l,h,u);n.push(ft("secondMeasurement",fe,h,s,i))}dt(e,"object",n)}}catch(e){}await ae()}else{const n=Math.sqrt(r[0]/a[0]),o=h.toFixed(1)*n,l=d.toFixed(1)/n;let c=G.H.RC_viewingObjectRejected[e.L].replace("[[N11]]",Math.round(o)).replace("[[N22]]",Math.round(l));const m=i.includes("out of allowed range");m&&(c=G.H.RC_viewingExceededRange[e.L].replace("[[N11]]",Math.round(o)).replace("[[N22]]",Math.round(l)).replace("[[N33]]",Math.round(p)).replace("[[N44]]",Math.round(f)));const g=r.filter((e=>!isNaN(e))),y=a.filter((e=>!isNaN(e))),A=(g.length&&(g.reduce(((e,t)=>e+t),0),g.length),y.length&&(y.reduce(((e,t)=>e+t),0),y.length),e.page3FactorCmPx),w=e.page4FactorCmPx,b=(A+w)/2;try{const n=await Ve(e,t.calibrateTrackDistancePupil,meshSamples);if(n){const{leftEye:t,rightEye:s,video:i,currentIPDDistance:r}=n,a=Ue(i,t,s,r,b/r,u/2.54,u,e),{nearestXYPx_left:o,nearestXYPx_right:l,clampedNearestLeft:c,clampedNearestRight:h,nearestDistanceCm_left:d,nearestDistanceCm_right:p,nearestEyeToWebcamDistanceCM:f,nearestEye:m,nearestXYPx:g,nearestDistanceCm:y,distanceCm_left:v,distanceCm_right:x,distanceCm:C}=a;dt(e,"object",[{type:"firstMeasurement",distance:fe,calibrationFactor:A,nearestDistanceCm:y,distanceCm_left:v,distanceCm_right:x,distanceCm:C,nearestDistanceCm_right:p,nearestDistanceCm_left:d},{type:"secondMeasurement",distance:fe,calibrationFactor:w,nearestDistanceCm:y,distanceCm_left:v,distanceCm_right:x,distanceCm:C,nearestDistanceCm_right:p,nearestDistanceCm_left:d}],{currentIPDDistance:r,nearestEyeToWebcamDistanceCM:f,nearestEye:m,nearestXYPx:g,nearestXYPx_left:o,nearestXYPx_right:l})}}catch(e){}r.length=0,a.length=0;const v=m,x=e._panelStatus.hasPanel;if(v&&x)return void await $.A.fire({...ne(e,{showIcon:!1}),icon:void 0,html:c,allowEnterKey:!0}).then((()=>{oe(),e._returnToPanelForScreenSize()}));await $.A.fire({...ne(e,{showIcon:!1}),icon:void 0,html:c,allowEnterKey:!0}),s=1,fe=null,await re()}}},he.appendChild(de);const ge=document.createElement("button");ge.className="rc-button",ge.textContent=G.H.RC_viewingDistanceIntroTitle[e.L],ge.style.border="2px solid #999",ge.style.backgroundColor="#999",ge.style.color="white",ge.style.fontSize="0.9rem",ge.style.padding="8px 16px",ge.style.borderRadius="4px",ge.style.cursor="pointer",ge.onclick=()=>{const t=G.H.RC_viewingDistanceIntroPelliMethod[e.L].replace(/(\d\.)/g,"<br>$1").replace(/^<br>/,"");$.A.fire({...ne(e,{showIcon:!1}),icon:void 0,html:t,allowEnterKey:!0,confirmButtonText:G.H.T_ok?G.H.T_ok[e.L]:"OK"})},he.appendChild(ge),t.cameraSelectionDone||await pe(e,null,t);const ye=document.getElementById("webgazerFaceFeedbackBox");!t.calibrateTrackDistanceCenterYourEyesBool&&ye&&(ye.style.display="none"),t.calibrateTrackDistanceCenterYourEyesBool?ie(0):ie(2)}function xt(e,t,n,s=1.1,i,r){const a=t.filter((e=>!isNaN(e))),o=n.filter((e=>!isNaN(e)));if(a.length<3||o.length<3)return[!1,"Insufficient valid Face Mesh samples for tolerance check",-1/0,1/0,-1/0,1/0];const l=a.reduce(((e,t)=>e+t),0)/a.length,c=o.reduce(((e,t)=>e+t),0)/o.length,u=l*r,h=c*r,d=u/h,p=h/u,f=Math.max(d,p),m=Math.max(s,1/s),g=e.screenPpi?e.screenPpi.value:96,y=l/fe(g),A=c/fe(g),w=Array.isArray(i)?i[0]:-1/0,b=Array.isArray(i)?i[1]:1/0,v=Math.min(r,r),x=Math.max(r,r);if(v<w||x>b)return[!1,`Object measurement out of allowed range\n        MinCm: ${Math.round(v)};\n        MaxCm: ${Math.round(x)};\n        distance1Cm: ${Math.round(y)};\n        distance2Cm: ${Math.round(A)};\n        distance1FactorCmPx: ${u.toFixed(1)};\n        distance2FactorCmPx: ${h.toFixed(1)};\n        `,v,x,w,b];const C=f<=m;return[C,C?"Pass":`Measurements not consistent\n      distance1Cm: ${Math.round(y)};\n      distance2Cm: ${Math.round(A)};\n      distance1FactorCmPx: ${u.toFixed(1)};\n      distance2FactorCmPx: ${h.toFixed(1)};\n      `,v,x,w,b]}S.A.prototype.measureDistance=async function(e={},t=void 0){if(!this.checkInitialized())return;let n;(0,I.$k)(),n=(e.control,G.H.RC_viewingDistanceIntroLiMethod[this.L]);const s=Object.assign({fullscreen:!1,repeatTesting:1,sparkle:!0,decimalPlace:1,control:!0,headline:`${G.H.RC_viewingDistanceTitle[this.L]}`,description:n,check:!1,checkCallback:!1,showCancelButton:!0},e);this.getFullscreen(s.fullscreen),this._addBackground(),this._replaceBackground((0,I.$O)(s.headline,null,!0,"")),await At(this,s,!1,t)},S.A.prototype.measureDistanceObject=async function(e={},t=void 0){if(!this.checkInitialized())return;const n=Object.assign({fullscreen:!1,repeatTesting:1,headline:`📏 ${G.H.RC_viewingDistanceTitle[this.L]}`,description:G.H.RC_viewingDistanceIntroLiMethod[this.L],showCancelButton:!0},e);this.getFullscreen(n.fullscreen),(0,I.$k)(),await vt(this,n,t)},S.A.prototype.validateDistanceData=function(e){return!!e&&(!!(e.value&&e.timestamp&&e.method)&&(!("number"!=typeof e.value||isNaN(e.value)||e.value<=0)&&("number"==typeof e.timestamp&&!isNaN(e.timestamp)&&("object"===e.method||"B"===e.method||"F"===e.method))))},S.A.prototype.validateMethodTransition=function(e,t){return this.gazeTracker.checkInitialized("distance",!0)&&this.endDistance(),("object"===e||"blindspot"===e)&&(("object"===t||"blindspot"===t)&&(!("object"===e&&!this.newObjectTestDistanceData)&&!("blindspot"===e&&!this.newViewingDistanceData)))},S.A.prototype.switchDistanceMethod=function(e,t={},n=void 0){if(!this.checkInitialized())return;if("object"!==e&&"blindspot"!==e)return;this.endDistance(),this.newViewingDistanceData=null,this.newObjectTestDistanceData=null;const s=Object.assign({},{fullscreen:!0,showVideo:!0,desiredDistanceMonitor:!0,check:!1,checkCallback:!1,showCancelButton:!0},t);"object"===e?this.measureDistanceObject(s,n):this.measureDistance(s,n)},S.A.prototype.trackDistanceObject=function(e={},t=void 0,n=void 0){this.checkInitialized()&&this.measureDistanceObject({fullscreen:!0,showVideo:!0,...e},(s=>{this.trackDistance({...e,useObjectTestData:!0,showVideo:!0,desiredDistanceMonitor:!0},t,n)}))};const Ct=(e,t="iris")=>"iris"===t?e[468]&&e[473]?{leftEye:{x:e[468].x,y:e[468].y,z:e[468].z},rightEye:{x:e[473].x,y:e[473].y,z:e[473].z}}:{leftEye:null,rightEye:null}:e[362]&&e[263]&&e[33]&&e[133]?{leftEye:{x:(e[362].x+e[263].x)/2,y:(e[362].y+e[263].y)/2,z:(e[362].z+e[263].z)/2},rightEye:{x:(e[33].x+e[133].x)/2,y:(e[33].y+e[133].y)/2,z:(e[33].z+e[133].z)/2}}:{leftEye:null,rightEye:null};S.A.prototype.nudgeDistance=function(e,t,n){if(this.checkInitialized()&&this._distanceTrackNudging.distanceDesired){if(this.viewingDistanceCm&&this.viewingDistanceCm.method===this._CONST.VIEW_METHOD.F){if(this._nudger&&!this._nudger.nudgerPaused&&!kt(this.viewingDistanceCm.value,this._distanceTrackNudging.distanceDesired,this._distanceTrackNudging.distanceAllowedRatio)){const t=()=>{this._removeNudger(),clearInterval(this._distanceTrackNudging.distanceCorrecting),this._distanceTrackNudging.distanceCorrecting=null,(0,P.l)(n)},n=(0,P.m)(e?{Escape:this.endNudger}:{});if(null===this._distanceTrackNudging.distanceCorrecting&&this._distanceTrackNudging.distanceCorrectEnabled){const[s,i,r,a]=Et(this);let o=e?{cancel:()=>{this.endNudger()}}:{};0,e&&(0,W.F)(this.L,this.nudger,o,this.params.showCancelButton);const l=()=>{s.innerHTML=St(this,this.viewingDistanceCm.value,this._distanceTrackNudging.distanceDesired),i.innerHTML=this.viewingDistanceAllowedPreciseBool?this.viewingDistanceCm.value.toFixed(1):Math.round(this.viewingDistanceCm.value),r.innerHTML=Math.round(this._distanceTrackNudging.distanceDesired),this._distanceTrackNudging.needEasyEyesKeypadBeyondCm&&this._distanceTrackNudging.distanceDesired>this._distanceTrackNudging.needEasyEyesKeypadBeyondCm?a.innerHTML=` ${G.H.RC_canUsePhoneKeypad[this.L]}`:a.innerHTML=""};l(),this._distanceTrackNudging.distanceCorrecting=setInterval((()=>{l(),kt(this.viewingDistanceCm.value,this._distanceTrackNudging.distanceDesired,this._distanceTrackNudging.distanceAllowedRatio)&&(t(),(0,P.l)(n))}),200)}else this._distanceTrackNudging.distanceCorrecting&&!this._distanceTrackNudging.distanceCorrectEnabled&&t();return!1}return!0}return!1}};const kt=(e,t,n)=>{if(!It(n))return!1;const s=t*n,i=t/n;return e<=Math.max(s,i)&&e>=Math.min(s,i)},Et=e=>(e._addNudger(`<div id="rc-distance-correct">\n  <p id="rc-distance-correct-instruction"></p>\n  <p id="rc-distance-correct-guide">${G.H.RC_distanceTrackingGuide1[e.L].replace("[[N11]]",'<span class="rc-distance-num rc-distance-now" id="rc-distance-now"></span>').replace("[[N22]]",'<span class="rc-distance-num rc-distance-desired" id="rc-distance-desired"></span>')}<span class="rc-distance-desired" id="rc-can-use-keypad"></span></p>\n</div>\n  `),[document.querySelector("#rc-distance-correct-instruction"),document.querySelector("#rc-distance-now"),document.querySelector("#rc-distance-desired"),document.querySelector("#rc-can-use-keypad")]),St=(e,t,n)=>t>=n?G.H.RC_distanceTrackingMoveCloser[e.L]:G.H.RC_distanceTrackingMoveFarther[e.L],It=e=>!Number.isNaN(e)&&(e>0&&1!==e);S.A.prototype.setDistanceDesired=function(e,t=null,n=null){return this._distanceTrackNudging.distanceDesired=e,n&&(this._distanceTrackNudging.needEasyEyesKeypadBeyondCm=n),t&&It(t)&&(this._distanceTrackNudging.distanceAllowedRatio=t),e},S.A.prototype._addNudger=function(e){if(null!==this.nudger)return;let t=document.getElementById("calibration-nudger");return t||(t=document.createElement("div"),t.id="calibration-nudger",t.className=`calibration-nudger rc-lang-${this.LD.toLowerCase()}`,document.body.classList.add("lock-view"),document.body.appendChild(t),t.style.background=this.params.backgroundColor),e&&(t.innerHTML=e),this._nudger.element=t,this.nudger},S.A.prototype._removeNudger=function(){const e=document.getElementById("calibration-nudger");return!!e&&(document.body.classList.remove("lock-view"),document.body.removeChild(e),this._nudger={element:null,nudgerPaused:!1},!0)},S.A.prototype.pauseNudger=function(){this._nudger.nudgerPaused=!0,document.body.classList.add("hide-nudger")},S.A.prototype.resumeNudger=function(){this._nudger.nudgerPaused=!1,document.body.classList.remove("hide-nudger")},S.A.prototype.endNudger=function(){return!!this._distanceTrackNudging.distanceCorrectEnabled&&(this._removeNudger(),this._distanceTrackNudging.distanceCorrectEnabled=!1,this._distanceTrackNudging.distanceCorrecting&&clearInterval(this._distanceTrackNudging.distanceCorrecting),this._distanceTrackNudging.distanceCorrecting=null,this._distanceTrackNudging.distanceDesired=null,this._distanceAllowedRatio=null,!0)};const Tt={video:!1,videoWidth:0,videoHeight:0,opacity:1,gaze:!1,faceOverlay:!1},_t=.9;S.A.prototype._measurePD=async function(e={},t=void 0){if(!this.checkInitialized())return;(0,I.$k)();const n=Object.assign({fullscreen:!1,headline:`👁️ ${G.H.RC_nearPointTitle[this.L]}`,description:G.H.RC_nearPointIntro[this.L],shortDescription:G.H.RC_nearPointIntro[this.L]},e);this.getFullscreen(n.fullscreen),await(0,I.yy)(1e3),this._replaceBackground(),this._replaceBackground((0,I.$O)(n.headline,n.shortDescription,!0));const s=this.screenPpi?this.screenPpi.value:this._CONST.N.PPI_DONT_USE,[i,r]=Nt(this),[a,o]=Bt(this,s,i,r),l=(e=!0)=>{a.removeEventListener("mousedown",o),this._removeBackground(),this.showVideo(Tt.video),this.showGazer(Tt.gaze),this.showFaceOverlay(Tt.faceOverlay),this.gazeTracker.webgazer.showFaceFeedbackBox(!0),Object.assign(document.querySelector("#webgazerVideoContainer").style,{height:Tt.videoHeight,width:Tt.videoWidth,opacity:Tt.opacity,borderRadius:"5px"}),ee(this,document.querySelector("#webgazerVideoContainer")),Object.assign(document.querySelector("#webgazerVideoFeed").style,{height:Tt.videoHeight,width:Tt.videoWidth,top:"unset",transform:"scale(-1, 1)",transformOrigin:"unset"}),Tt.video=!1,Tt.videoWidth=0,Tt.videoHeight=0,Tt.opacity=1,Tt.gaze=!1,Tt.faceOverlay=!1,!this._trackingSetupFinishedStatus.distance&&e&&(this._trackingSetupFinishedStatus.distance=!0,this.endDistance()),(0,P.l)(u)},c=()=>{if(-100!==Mt){const e={value:2.54*Mt/s,timestamp:performance.now()};return this.newPDData=e,l(!1),(0,I.nB)(t,e)}},u=(0,P.m)({Escape:l,Enter:c," ":c});(0,W.F)(this.L,this.background,{go:c,cancel:l},this.params.showCancelButton),setTimeout((()=>{$.A.fire({...ne(this,{showIcon:!1}),icon:void 0,imageUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAADwCAIAAABXFyDtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGx2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuZGFiYWNiYiwgMjAyMS8wNC8xNC0wMDozOTo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA3LTI0VDExOjU3OjU0LTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wOC0yNFQyMjoyNDo1MC0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wOC0yNFQyMjoyNDo1MC0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiMTIzYjE3ZS0wMzUzLTQ4YWEtOGJkYy0zNTk0YmRkODBjMjEiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo4MjdjNGM2Yi1jMzExLTE3NGQtYTgxZC0zZGUyN2JmMTgxYjAiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowNWZiNzMxNi1hNDFiLTQyZTYtYmJiNy0yYTY2ODgxMzI1YTAiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA1ZmI3MzE2LWE0MWItNDJlNi1iYmI3LTJhNjY4ODEzMjVhMCIgc3RFdnQ6d2hlbj0iMjAyMS0wNy0yNFQxMTo1Nzo1NC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmQ3MjQ3ZjY2LTllZjItNDgzNy1hMGYzLWFmNzdmZDBjNDUxMyIgc3RFdnQ6d2hlbj0iMjAyMS0wNy0yNFQxMjozNTo1My0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmIxMjNiMTdlLTAzNTMtNDhhYS04YmRjLTM1OTRiZGQ4MGMyMSIgc3RFdnQ6d2hlbj0iMjAyMS0wOC0yNFQyMjoyNDo1MC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+e9Ws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",imageWidth:480,imageAlt:"Measurement Instruction",html:n.description})}),700)};const Nt=e=>{const t=document.querySelector("#webgazerVideoFeed");if(t)return Dt(e,t,document.querySelector("#webgazerVideoCanvas"),document.querySelector("#webgazerVideoContainer"))},Dt=(e,t,n,s,i=null)=>{const r=.3*window.innerWidth/Number.parseInt(t.style.width)*Number.parseInt(t.style.height);Tt.videoWidth=s.style.width,Tt.videoHeight=s.style.height,Tt.opacity=s.style.opacity;const a={height:`${Math.round(r)}px`,width:`${Math.round(window.innerWidth*_t)}px`,opacity:1,borderRadius:"15px"};Object.assign(s.style,a),e.isMobile.value?Object.assign(s.style,{right:`${Math.round(.5*window.innerWidth*.09999999999999998)}px`,top:`${Math.round(.5*(window.innerHeight-r))}px`}):Object.assign(s.style,{left:`${Math.round(.5*window.innerWidth*.09999999999999998)}px`,bottom:`${Math.round(.5*(window.innerHeight-r))}px`});const o={height:`${Math.round(r*_t/.3)}px`,width:`${Math.round(window.innerWidth*_t)}px`,top:`${Math.round(.6000000000000001*-r)}px`,transform:"scale(-2, 2)",transformOrigin:"center"};if(Object.assign(t.style,o),Tt.video=e.gazeTracker.webgazer.params.showVideo,Tt.gaze=e.gazeTracker.webgazer.params.showGazeDot,Tt.faceOverlay=e.gazeTracker.webgazer.params.showFaceOverlay,!Tt.video){e.showVideo(!0);const t=document.getElementById("webgazerVideoContainer");t&&ee(e,t)}return Tt.gaze&&e.showGazer(!1),Tt.faceOverlay&&e.showFaceOverlay(!1),e.gazeTracker.webgazer.showFaceFeedbackBox(!1),[window.innerWidth*_t,r]};let Mt=-100;const Bt=(e,t,n,s)=>{const i=document.createElement("div");i.id="rc-ruler",Object.assign(i.style,{height:.9*(window.innerHeight-s)/2+"px",width:2*window.innerWidth+"px",left:.25*(window.innerWidth-n)+"px",bottom:0,backgroundColor:"#FFD523dd",borderRadius:"7px 0 0 0",boxSizing:"border-box",borderBottom:"5px solid #bb6600"}),e.background.appendChild(i);const r=document.createElement("div");r.id="rc-ruler-scales",i.appendChild(r);const a=2.54*(i.clientWidth-60)/t;for(let n=0;n<=10*(0,I.Nh)(a,1);n++){const s=document.createElement("div"),i=.1*n*t/2.54+"px";if(s.className="rc-ruler-scale "+(n%10==0?"rc-ruler-major":n%5==0?"rc-ruler-secondary":"rc-ruler-minor"),s.style.left=i,r.appendChild(s),n%10==0){const t=document.createElement("p");t.className="rc-ruler-scale-text",t.style.left=i,t.innerHTML=n/10,r.appendChild(t),0===n&&(t.style.color=e._CONST.COLOR.DARK_RED)}}let o=document.createElement("div");r.appendChild(o),o.outerHTML=B(),o=document.querySelector("#size-arrow"),o.setAttribute("preserveAspectRatio","none"),o.style.left="-100px",o.style.top="40px",document.getElementById("size-arrow-fill").setAttribute("fill",e._CONST.COLOR.DARK_RED);const l=e=>{Mt=e.offsetX-30,o.style.left=`${Mt}px`;const t=e=>{Mt=e.offsetX-30,o.style.left=`${Mt}px`};i.addEventListener("mousemove",t),i.addEventListener("mouseup",(function e(){i.removeEventListener("mousemove",t),i.removeEventListener("mouseup",e)}))};return i.addEventListener("mousedown",l),[i,l]};function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}var Ft=/^\s+/,Ot=/\s+$/;function Lt(e,t){if(t=t||{},(e=e||"")instanceof Lt)return e;if(!(this instanceof Lt))return new Lt(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,s=null,i=null,r=null,a=!1,o=!1;"string"==typeof e&&(e=function(e){e=e.replace(Ft,"").replace(Ot,"").toLowerCase();var t,n=!1;if(en[e])e=en[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=fn.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=fn.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=fn.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=fn.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=fn.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=fn.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=fn.hex8.exec(e))return{r:an(t[1]),g:an(t[2]),b:an(t[3]),a:un(t[4]),format:n?"name":"hex8"};if(t=fn.hex6.exec(e))return{r:an(t[1]),g:an(t[2]),b:an(t[3]),format:n?"name":"hex"};if(t=fn.hex4.exec(e))return{r:an(t[1]+""+t[1]),g:an(t[2]+""+t[2]),b:an(t[3]+""+t[3]),a:un(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=fn.hex3.exec(e))return{r:an(t[1]+""+t[1]),g:an(t[2]+""+t[2]),b:an(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==Rt(e)&&(mn(e.r)&&mn(e.g)&&mn(e.b)?(l=e.r,c=e.g,u=e.b,t={r:255*sn(l,255),g:255*sn(c,255),b:255*sn(u,255)},a=!0,o="%"===String(e.r).substr(-1)?"prgb":"rgb"):mn(e.h)&&mn(e.s)&&mn(e.v)?(s=ln(e.s),i=ln(e.v),t=function(e,t,n){e=6*sn(e,360),t=sn(t,100),n=sn(n,100);var s=Math.floor(e),i=e-s,r=n*(1-t),a=n*(1-i*t),o=n*(1-(1-i)*t),l=s%6,c=[n,a,r,r,o,n][l],u=[o,n,n,a,r,r][l],h=[r,r,o,n,n,a][l];return{r:255*c,g:255*u,b:255*h}}(e.h,s,i),a=!0,o="hsv"):mn(e.h)&&mn(e.s)&&mn(e.l)&&(s=ln(e.s),r=ln(e.l),t=function(e,t,n){var s,i,r;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=sn(e,360),t=sn(t,100),n=sn(n,100),0===t)s=i=r=n;else{var o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;s=a(l,o,e+1/3),i=a(l,o,e),r=a(l,o,e-1/3)}return{r:255*s,g:255*i,b:255*r}}(e.h,s,r),a=!0,o="hsl"),e.hasOwnProperty("a")&&(n=e.a));var l,c,u;return n=nn(n),{ok:a,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function zt(e,t,n){e=sn(e,255),t=sn(t,255),n=sn(n,255);var s,i,r=Math.max(e,t,n),a=Math.min(e,t,n),o=(r+a)/2;if(r==a)s=i=0;else{var l=r-a;switch(i=o>.5?l/(2-r-a):l/(r+a),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:i,l:o}}function Vt(e,t,n){e=sn(e,255),t=sn(t,255),n=sn(n,255);var s,i,r=Math.max(e,t,n),a=Math.min(e,t,n),o=r,l=r-a;if(i=0===r?0:l/r,r==a)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:i,v:o}}function Pt(e,t,n,s){var i=[on(Math.round(e).toString(16)),on(Math.round(t).toString(16)),on(Math.round(n).toString(16))];return s&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Wt(e,t,n,s){return[on(cn(s)),on(Math.round(e).toString(16)),on(Math.round(t).toString(16)),on(Math.round(n).toString(16))].join("")}function Gt(e,t){t=0===t?0:t||10;var n=Lt(e).toHsl();return n.s-=t/100,n.s=rn(n.s),Lt(n)}function Ut(e,t){t=0===t?0:t||10;var n=Lt(e).toHsl();return n.s+=t/100,n.s=rn(n.s),Lt(n)}function jt(e){return Lt(e).desaturate(100)}function qt(e,t){t=0===t?0:t||10;var n=Lt(e).toHsl();return n.l+=t/100,n.l=rn(n.l),Lt(n)}function Ht(e,t){t=0===t?0:t||10;var n=Lt(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),Lt(n)}function Yt(e,t){t=0===t?0:t||10;var n=Lt(e).toHsl();return n.l-=t/100,n.l=rn(n.l),Lt(n)}function Kt(e,t){var n=Lt(e).toHsl(),s=(n.h+t)%360;return n.h=s<0?360+s:s,Lt(n)}function Zt(e){var t=Lt(e).toHsl();return t.h=(t.h+180)%360,Lt(t)}function Qt(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Lt(e).toHsl(),s=[Lt(e)],i=360/t,r=1;r<t;r++)s.push(Lt({h:(n.h+r*i)%360,s:n.s,l:n.l}));return s}function Xt(e){var t=Lt(e).toHsl(),n=t.h;return[Lt(e),Lt({h:(n+72)%360,s:t.s,l:t.l}),Lt({h:(n+216)%360,s:t.s,l:t.l})]}function $t(e,t,n){t=t||6,n=n||30;var s=Lt(e).toHsl(),i=360/n,r=[Lt(e)];for(s.h=(s.h-(i*t>>1)+720)%360;--t;)s.h=(s.h+i)%360,r.push(Lt(s));return r}function Jt(e,t){t=t||6;for(var n=Lt(e).toHsv(),s=n.h,i=n.s,r=n.v,a=[],o=1/t;t--;)a.push(Lt({h:s,s:i,v:r})),r=(r+o)%1;return a}Lt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=nn(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Vt(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Vt(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),s=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+s+"%)":"hsva("+t+", "+n+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=zt(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=zt(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),s=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+s+"%)":"hsla("+t+", "+n+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return Pt(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,s,i){var r=[on(Math.round(e).toString(16)),on(Math.round(t).toString(16)),on(Math.round(n).toString(16)),on(cn(s))];if(i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0);return r.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*sn(this._r,255))+"%",g:Math.round(100*sn(this._g,255))+"%",b:Math.round(100*sn(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*sn(this._r,255))+"%, "+Math.round(100*sn(this._g,255))+"%, "+Math.round(100*sn(this._b,255))+"%)":"rgba("+Math.round(100*sn(this._r,255))+"%, "+Math.round(100*sn(this._g,255))+"%, "+Math.round(100*sn(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(tn[Pt(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+Wt(this._r,this._g,this._b,this._a),n=t,s=this._gradientType?"GradientType = 1, ":"";if(e){var i=Lt(e);n="#"+Wt(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,s=this._a<1&&this._a>=0;return t||!s||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return Lt(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(qt,arguments)},brighten:function(){return this._applyModification(Ht,arguments)},darken:function(){return this._applyModification(Yt,arguments)},desaturate:function(){return this._applyModification(Gt,arguments)},saturate:function(){return this._applyModification(Ut,arguments)},greyscale:function(){return this._applyModification(jt,arguments)},spin:function(){return this._applyModification(Kt,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination($t,arguments)},complement:function(){return this._applyCombination(Zt,arguments)},monochromatic:function(){return this._applyCombination(Jt,arguments)},splitcomplement:function(){return this._applyCombination(Xt,arguments)},triad:function(){return this._applyCombination(Qt,[3])},tetrad:function(){return this._applyCombination(Qt,[4])}},Lt.fromRatio=function(e,t){if("object"==Rt(e)){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]="a"===s?e[s]:ln(e[s]));e=n}return Lt(e,t)},Lt.equals=function(e,t){return!(!e||!t)&&Lt(e).toRgbString()==Lt(t).toRgbString()},Lt.random=function(){return Lt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Lt.mix=function(e,t,n){n=0===n?0:n||50;var s=Lt(e).toRgb(),i=Lt(t).toRgb(),r=n/100;return Lt({r:(i.r-s.r)*r+s.r,g:(i.g-s.g)*r+s.g,b:(i.b-s.b)*r+s.b,a:(i.a-s.a)*r+s.a})},Lt.readability=function(e,t){var n=Lt(e),s=Lt(t);return(Math.max(n.getLuminance(),s.getLuminance())+.05)/(Math.min(n.getLuminance(),s.getLuminance())+.05)},Lt.isReadable=function(e,t,n){var s,i,r=Lt.readability(e,t);switch(i=!1,(s=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+s.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7}return i},Lt.mostReadable=function(e,t,n){var s,i,r,a,o=null,l=0;i=(n=n||{}).includeFallbackColors,r=n.level,a=n.size;for(var c=0;c<t.length;c++)(s=Lt.readability(e,t[c]))>l&&(l=s,o=Lt(t[c]));return Lt.isReadable(e,o,{level:r,size:a})||!i?o:(n.includeFallbackColors=!1,Lt.mostReadable(e,["#fff","#000"],n))};var en=Lt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},tn=Lt.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(en);function nn(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function sn(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function rn(e){return Math.min(1,Math.max(0,e))}function an(e){return parseInt(e,16)}function on(e){return 1==e.length?"0"+e:""+e}function ln(e){return e<=1&&(e=100*e+"%"),e}function cn(e){return Math.round(255*parseFloat(e)).toString(16)}function un(e){return an(e)/255}var hn,dn,pn,fn=(dn="[\\s|\\(]+("+(hn="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+hn+")[,|\\s]+("+hn+")\\s*\\)?",pn="[\\s|\\(]+("+hn+")[,|\\s]+("+hn+")[,|\\s]+("+hn+")[,|\\s]+("+hn+")\\s*\\)?",{CSS_UNIT:new RegExp(hn),rgb:new RegExp("rgb"+dn),rgba:new RegExp("rgba"+pn),hsl:new RegExp("hsl"+dn),hsla:new RegExp("hsla"+pn),hsv:new RegExp("hsv"+dn),hsva:new RegExp("hsva"+pn),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function mn(e){return!!fn.CSS_UNIT.exec(e)}var gn=__webpack_require__(782);const yn={video:!1,gazer:!1};function An(e,t){e.background?e._replaceBackground((0,I.$O)(t.headline,t.description)):e._addBackground((0,I.$O)(t.headline,t.description)),e._constructFloatInstructionElement("gaze-system-instruction",G.H.RC_starting[e.L])}S.A.prototype.calibrateGaze=function(e={},t=void 0){if(!this.gazeTracker.checkInitialized("gaze",!0))return;(0,I.$k)();const n=Object.assign({greedyLearner:!1,calibrationCount:1,headline:`👀 ${G.H.RC_gazeTrackingTitle[this.L]}`,description:G.H.RC_gazeTrackingIntro[this.L]},e);n.nudge=!1,yn.video=this.gazeTracker.webgazer.params.showVideo,yn.gazer=this.gazeTracker.webgazer.params.showGazeDot,yn.video||this.showVideo(!0),yn.gazer||this.showGazer(!0),this.gazeTracker.webgazer.params.greedyLearner=n.greedyLearner,An(this,n);const s=wn(this,n,(()=>{this._removeBackground(),(0,P.l)(i),(0,I.nB)(t,{timestamp:performance.now()})})),i=(0,P.m)({Escape:()=>{s.deleteSelf(!1),this._removeBackground(),this.showVideo(yn.video),this.showGazer(yn.gazer),yn.video=!1,yn.gazer=!1,this._trackingSetupFinishedStatus.gaze||(this._trackingSetupFinishedStatus.gaze=!0,this.endGaze()),(0,P.l)(i)}})};const wn=(e,t,n)=>(e._removeFloatInstructionElement(),new bn(e,document.body,t,yn,n));class bn{constructor(e,t,n,s,i){this._sequentialOrder(n.nudge),this.nudge=n.nudge,this.RC=e,this.clickThresholdBase=gn.Y?1:n.calibrationCount,this.clicks=0,this.position=this.order.shift(),this.clickThreshold=this.clickThresholdBase,this.r=this.RC._CONST.N.GAZE_CALIBRATION.R,this.div=document.createElement("div");const r=document.createElement("div"),a=document.createElement("div");this.div.className="rc-crosshair",this.div.id="rc-crosshair",r.className="rc-crosshair-component rc-crosshair-vertical",a.className="rc-crosshair-component rc-crosshair-horizontal",a.style.height=r.style.width="3px",a.style.width=r.style.height="32px",this.div.style.background=e.params.backgroundColor;const o=Lt(e.params.backgroundColor).toRgb();this.div.style.background=`rgba(${o.r}, ${o.g}, ${o.b}, 0.75)`,this.div.appendChild(r),this.div.appendChild(a),this.parent=t,this.parent.appendChild(this.div),this.placeDot(),this.handleClick=this.takeClick.bind(this),this.div.addEventListener("click",this.handleClick,!1),this.originalStyles=s,this.endCalibrationCallback=i}placeDot(){Object.assign(this.div.style,[{left:`${this.RC._CONST.N.GAZE_CALIBRATION.MARGIN}px`,right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px)`,right:"unset"},{left:window.innerWidth-this.RC._CONST.N.GAZE_CALIBRATION.R-this.RC._CONST.N.GAZE_CALIBRATION.MARGIN+"px",right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerWidth)}px)`,right:"unset"},{left:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerWidth)}px)`,right:"unset"}][this.position[0]],[{top:`${this.RC._CONST.N.GAZE_CALIBRATION.MARGIN}px`,bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px)`,bottom:"unset"},{top:window.innerHeight-this.RC._CONST.N.GAZE_CALIBRATION.R-this.RC._CONST.N.GAZE_CALIBRATION.MARGIN+"px",bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.CENTER_EXTRA_CHECK_OFFSET)}px)`,bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px - ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerHeight)}px)`,bottom:"unset"},{top:`calc(50% - ${this.RC._CONST.N.GAZE_CALIBRATION.R/2}px + ${this.getOffsetPx(this.RC._CONST.N.GAZE_CALIBRATION.MID_EXTRA_CHECK_OFFSET,.3*window.innerHeight)}px)`,bottom:"unset"}][this.position[1]])}takeClick(e){if(this.clickAtCenter(e)){this.clicks++,this.clicks>=this.clickThreshold&&(this.order.length?(this.position=this.order.shift(),this.clickThreshold=this.clickThresholdBase,this.placeDot(),this.clicks=0):this.deleteSelf(!0));const e=document.querySelectorAll(".leader-line");e&&e.map((e=>{e.style.opacity=0}))}}deleteSelf(e=!0){this.div.removeEventListener("click",this.handleClick,!1),this.parent.removeChild(this.div),e&&(this.nudge||this.RC.showVideo(this.originalStyles.video),this.nudge||(this.originalStyles.video=!1),this.RC.showGazer(this.originalStyles.gazer),this.originalStyles.gazer=!1,(0,I.nB)(this.endCalibrationCallback),this.nudge||(this.RC._trackingSetupFinishedStatus.gaze=!0))}clickAtCenter(e){const{x:t,y:n}=(0,I.KY)(e),{left:s,top:i,right:r,bottom:a}=this.div.getBoundingClientRect(),o=(s+r)/2,l=(i+a)/2;return t>=o-5&&t<=o+5&&n>=l-5&&n<=l+5}_randomOrder(){this.order=[];for(const e of[0,1,2])for(const t of[0,1,2])this.order.push([e,t]);(0,I.k4)(this.order)}_sequentialOrder(e=!1){this.order=e?[[1,1],[1,3],[4,1],[1,4],[3,1],[1,1],[1,4],[4,1],[1,3],[3,1],[1,1]]:gn.Y?[[0,0],[2,0],[2,2],[0,2],[1,1]]:[[1,1],[1,0],[2,0],[2,1],[2,2],[1,2],[0,2],[0,1],[0,0],[1,1],[1,2],[2,2],[2,1],[2,0],[1,0],[0,0],[0,1],[0,2],[1,1],[1,5],[6,5],[6,1],[6,6],[1,6],[5,6],[5,1],[5,5],[1,1],[1,6],[6,6],[6,1],[6,5],[1,5],[5,5],[5,1],[5,6],[1,1],[1,4],[4,1],[1,3],[3,1],[1,1],[1,3],[4,1],[1,4],[3,1],[1,1]]}getOffsetPx(e,t=null){const n=(s=e,i=this.RC.screenPpi?this.RC.screenPpi.value:this.RC._CONST.N.PPI_DONT_USE,r=this.RC.viewingDistanceCm?this.RC.viewingDistanceCm.value:this.RC._CONST.N.VIEW_DIST_DONT_USE,fe(i)*r*Math.tan(s*(Math.PI/180)));var s,i,r;return t?Math.min(n,t):n}}S.A.prototype.trackGaze=async function(e={},t=null,n=null){if(!this.checkInitialized())return;(0,I.$k)(),!1===this.gazeTracker.webgazer.getTracker().modelLoaded&&this.gazeTracker.webgazer.getTracker().loadModel();const s=Object.assign({fullscreen:!1,greedyLearner:!1,framerate:60,showGazer:!0,showVideo:!0,pipWidthPx:this._CONST.N.VIDEO_W[this.isMobile.value?"MOBILE":"DESKTOP"],showFaceOverlay:!1,calibrationCount:1,thresholdDeg:10,decimalPlace:0,headline:`👀 ${G.H.RC_gazeTrackingTitle[this.L]}`,description:G.H.RC_gazeTrackingIntro[this.L]},e);if(this.getFullscreen(s.fullscreen),this.gazeTracker.checkInitialized("gaze"))return this.gazeTracker._toFixedN=s.decimalPlace,this.showGazer(s.showGazer),this.showVideo(s.showVideo),this.showFaceOverlay(s.showFaceOverlay),this.gazeTracker.attachNewCallback(n),void(this.gazeTracker.defaultGazeCallback=n);this._addBackground(),await ge(this),this.gazeTracker._init({greedyLearner:s.greedyLearner,framerate:s.framerate,toFixedN:s.decimalPlace,showVideo:s.showVideo,showFaceOverlay:s.showFaceOverlay,showGazer:s.showGazer},"gaze"),An(this,s);const i={pipWidthPx:s.pipWidthPx},r={greedyLearner:s.greedyLearner,calibrationCount:s.calibrationCount,headline:s.headline,description:s.description};this.gazeTracker.begin(i,(()=>{this._trackingSetupFinishedStatus.gaze=!1,this.calibrateGaze(r,a)}));const a=e=>{(0,I.nB)(t,e),this.gazeTracker.webgazer.params.greedyLearner||this.gazeTracker.stopLearning({click:!0,move:!0});return s.thresholdDeg,this.gazeTracker.attachNewCallback(n),void(this.gazeTracker.defaultGazeCallback=n)}},S.A.prototype.getGazeNow=async function(e={},t=null){if(!(this.checkInitialized()&&this.gazeTracker.checkInitialized("gaze",!0)&&this.gazeTracker.webgazer.params.paused&&this._trackingPaused.gaze))return;const n=Object.assign({wait:0,frames:5},e),s=t||this.gazeTracker.defaultGazeCallback;return await this.gazeTracker.getGazeNow(n,s)},S.A.prototype.pauseGaze=function(){!this.gazeTracker.checkInitialized("gaze",!0)&&this._trackingPaused.gaze||(this._trackingPaused.gaze=!0,this.gazeTracker.pause())},S.A.prototype.resumeGaze=function(){(this.gazeTracker.checkInitialized("gaze",!0)||this._trackingPaused.gaze)&&(this._trackingPaused.gaze=!1,this.gazeTracker.resume())},S.A.prototype.endGaze=function(e=!1){this.gazeTracker.checkInitialized("gaze",!0)&&(this._trackingPaused.gaze=!1,this.gazeTracker.end("gaze",e))},S.A.prototype.gazeLearning=function(e,t){const n=Object.assign({click:!0,move:!0},t);e?this.gazeTracker.startLearning(n):this.gazeTracker.stopLearning(n)},S.A.prototype.showGazer=function(e=!0){this.gazeTracker.checkInitialized("gaze",!1)&&this.gazeTracker.showGazer(e)},S.A.prototype.showVideo=function(e=!0){this.gazeTracker.checkInitialized("",!1)&&this.gazeTracker.showVideo(e)},S.A.prototype.showFaceOverlay=function(e=!0){this.gazeTracker.checkInitialized("gaze",!1)&&this.gazeTracker.showFaceOverlay(e)};var vn=__webpack_require__(7158),xn=__webpack_require__.n(vn);const Cn={gazer:!1,gazeLearning:!1,gazePaused:!1},kn={current:null};S.A.prototype.nudgeGaze=function(e={},t=void 0){if(!this.checkInitialized()||!this.gazeTracker.checkInitialized("gaze",!0))return;const n=Object.assign({showOffset:!0},e);if(this._gazeTrackNudging.isCorrectingGaze)return;this._gazeTrackNudging.isCorrectingGaze=!0;let s=document.getElementById("gaze-nudger");s||(s=document.createElement("div"),s.id="gaze-nudger",s.className=`gaze-nudger rc-lang-${this.LD.toLowerCase()}`,document.body.classList.add("lock-view"),document.body.appendChild(s),s.style.background=this.params.backgroundColor);const i=`<p class="float-instruction gaze-nudge-instruction" id="float-instruction">${G.H.RC_gazeTrackingNudge[this.L]}</p>`;s.innerHTML+=i;const r=En(this,s,t);if(this._nudger.gazeElement=s,n.showOffset){const e=document.createElement("div");e.id="fake-gaze-dot",e.style.position="absolute",e.style.left=this.gazePositionPx.value.x-5+"px",e.style.top=this.gazePositionPx.value.y-5+"px",e.style.width="10px",e.style.height="10px",e.style.borderRadius="50%",e.style.background="transparent",e.style.zIndex="9999999999",document.body.appendChild(e),kn.current=new(xn())(xn().pointAnchor(e,{x:"50%",y:"50%"}),xn().pointAnchor(r,{x:"50%",y:"50%"}),{path:"straight",color:this._CONST.COLOR.DARK_RED,startPlug:"disc"});const t=document.querySelector(".leader-line");t.style.zIndex=9999999999,t.style.opacity=.7,t.style.transitionDuration="0.2s"}Cn.gazePaused=this._trackingPaused.gaze,Cn.gazer=this.gazeTracker.webgazer.params.showGazeDot,Cn.gazeLearning=this.gazeTracker._learning,Cn.gazePaused&&this.resumeGaze(),Cn.gazer||this.showGazer(!0),Cn.gazeLearning||this.gazeLearning(!0,{click:!0,move:!1})};const En=(e,t,n)=>new bn(e,t,{greedyLearner:!1,calibrationCount:1,nudge:!0},Cn,(()=>{t.remove(),t=null,e._nudgerElement=null,document.body.classList.remove("lock-view"),Cn.gazePaused&&e.pauseGaze(),Cn.gazePaused=!1,kn.current&&(kn.current.remove(),kn.current=null),e._gazeTrackNudging.isCorrectingGaze=!1,(0,I.nB)(n)}));var Sn=__webpack_require__(4948),In=__webpack_require__.n(Sn);let Tn=!1;S.A.prototype.getGazeAccuracy=function(e={},t=void 0,n=void 0){if(!this.checkInitialized())return!1;(0,I.$k)();const s=this.screenPpi,i=this.viewingDistanceCm;if(!s||!i)return!1;const r=Object.assign({backgroundColor:"#eee",thresholdDeg:10,decimalPlace:3},e);this._addBackground();const a=document.createElement("div");a.innerHTML='<canvas id="gaze-accuracy-canvas"></canvas>',this.background.appendChild(a);const o=document.querySelector("#gaze-accuracy-canvas"),l=o.getContext("2d"),c=()=>{o.width=window.innerWidth,o.height=window.innerHeight,o.style.width=`${o.width}px`,o.style.height=`${o.height}px`},u=new ResizeObserver((()=>{c()}));return u.observe(this.background),c(),In().fire({...ne(this,{showIcon:!0}),html:"We will measure your gaze accuracy. Please do not move the mouse and look at the fixation at the middle of the screen for the next 5 seconds."}).then((()=>{Tn=!0,_n(o,l,r),this.gazeTracker.startStoringPoints(),(0,I.yy)(5e3).then((()=>{Tn=!1,this.gazeTracker.stopStoringPoints();const e=this.gazeTracker.webgazer.getStoredPoints(),a=Nn({x:o.width/2,y:o.height/2},e,s.value,i.value);this.newGazeAccuracyData={value:(0,I.Nh)(a,r.decimalPlace),timestamp:performance.now()},a<r.thresholdDeg?(0,I.nB)(t):(0,I.nB)(n),l.clearRect(0,0,o.width,o.height),u.unobserve(this.background),this._removeBackground()}))})),!0};const _n=(e,t,n)=>{const s=()=>{t.fillStyle=n.backgroundColor,t.fillRect(0,0,e.width,e.height),te(t,e.width/2,e.height/2),Tn&&requestAnimationFrame(s)};requestAnimationFrame(s)},Nn=(e,t,n,s)=>{let i=0;for(let r=0;r<t[0].length;r++){t[0][r]-=e.x,t[1][r]-=e.y;const a=2.54*Math.sqrt(t[0][r]**2,t[1][r]**2)/n;i+=180*Math.atan(a/s)/Math.PI}return i/=t[0].length,i};class Dn{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Mn{refCount(e){return Bn("refCount")}incRef(e){return Bn("incRef")}timerAvailable(){return!0}time(e){return Bn("time")}read(e){return Bn("read")}readSync(e){return Bn("readSync")}readToGPU(e,t){return Bn("readToGPU")}numDataIds(){return Bn("numDataIds")}disposeData(e,t){return Bn("disposeData")}write(e,t,n){return Bn("write")}move(e,t,n,s,i){return Bn("move")}createTensorFromGPUData(e,t,n){return Bn("createTensorFromGPUData")}memory(){return Bn("memory")}floatPrecision(){return Bn("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return Bn("dispose")}}function Bn(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function Rn(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,Ln(e,t,n)}function Fn(e,t,n){return Math.max(e,Math.min(t,n))}function On(e){return e%2==0?e:e+1}function Ln(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function zn(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function Vn(e,t,n=""){zn(Gn(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function Pn(e){zn(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function Wn(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function Gn(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Un(e){return e%1==0}function jn(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function qn(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Hn(e,t=e=>0,n,s){return new Promise(((i,r)=>{let a=0;const o=()=>{if(e())return void i();a++;const l=t(a);null!=n&&a>=n?r():null!=s?s(o,l):setTimeout(o,l)};o()}))}function Yn(e,t){let n=1,s=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)n*=e[t];else if(-1===e[t]){if(-1!==s)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${s} and dim ${t}`);s=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===s){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const i=e.slice();return i[s]=t/n,i}function Kn(e,t){const n=t.length;return zn((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),zn(e.every((e=>Un(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function Zn(e,t){const n=[],s=[],i=null!=t&&Array.isArray(t)&&0===t.length,r=null==t||i?null:Kn(t,e).sort();let a=0;for(let t=0;t<e.length;++t){if(null!=r){if(r[a]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==r[a]||r[a]>t)&&1===e[t]&&(n.push(e[t]),s.push(t)),r[a]<=t&&a++}1!==e[t]&&(n.push(e[t]),s.push(t))}return{newShape:n,keptDims:s}}function Qn(e,t){return Xn(e,t)}function Xn(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function $n(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function Jn(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function es(e){return"string"==typeof e||e instanceof String}function ts(e){return"number"==typeof e}function ns(e){return Array.isArray(e)?ns(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":ts(e)?"float32":es(e)?"string":"boolean"==typeof e?"bool":"float32"}function ss(e){return!!(e&&e.constructor&&e.call&&e.apply)}function is(e,t){for(let n=t;n<e;++n)if(e%n==0)return n;return e}function rs(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let s=t-3;s>=0;--s)n[s]=n[s+1]*e[s+1];return n}function as(e,t,n,s=!1){const i=new Array;if(1===t.length){const r=t[0]*(s?2:1);for(let t=0;t<r;t++)i[t]=n[e+t]}else{const r=t[0],a=t.slice(1),o=a.reduce(((e,t)=>e*t))*(s?2:1);for(let t=0;t<r;t++)i[t]=as(e+t*o,a,n,s)}return i}function os(e,t,n=!1){if(0===e.length)return t[0];const s=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===s)return[];if(s!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return as(0,e,t,n)}function ls(e,t){const n=cs(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function cs(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function us(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return os(e,new Float32Array(n));if("int32"===t)return os(e,new Int32Array(n));if("bool"===t)return os(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function hs(e){e.forEach((t=>{zn(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function ds(e,t,n){if(0===t)return 0;if(1===t)return e[0];let s=e[e.length-1];for(let t=0;t<e.length-1;++t)s+=n[t]*e[t];return s}function ps(e,t,n){if(0===t)return[];if(1===t)return[e];const s=new Array(t);for(let t=0;t<s.length-1;++t)s[t]=Math.floor(e/n[t]),e-=s[t]*n[t];return s[s.length-1]=e,s}function fs(e){return e&&e.then&&"function"==typeof e.then}const ms="tfjsflags";class gs{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=ys,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&!As().getBool("IS_TEST")&&As().getBool("PROD"),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];!As().getBool("IS_TEST")&&As().getBool("PROD"),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(fs(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(ms in e){e[ms].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)}))}}}function ys(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function As(){return bs}let ws,bs=null;function vs(){if(null==ws){let e;if("undefined"!=typeof window)e=window;else if(void 0!==__webpack_require__.g)e=__webpack_require__.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}ws=e}return ws}function xs(e,t){const n=function(){const e=vs();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const s=t();return n.set(e,s),n.get(e)}}const Cs="Abs",ks="Acos",Es="Acosh",Ss="Add",Is="AddN",Ts="All",_s="Any",Ns="ArgMax",Ds="ArgMin",Ms="Asin",Bs="Asinh",Rs="Atan",Fs="Atanh",Os="Atan2",Ls="AvgPool",zs="AvgPoolGrad",Vs="AvgPool3D",Ps="AvgPool3DGrad",Ws="BatchMatMul",Gs="BatchToSpaceND",Us="Bincount",js="BitwiseAnd",qs="BroadcastArgs",Hs="Cast",Ys="Ceil",Ks="ClipByValue",Zs="Complex",Qs="ComplexAbs",Xs="Concat",$s="Conv2D",Js="Conv2DBackpropFilter",ei="Conv2DBackpropInput",ti="Conv3D",ni="Conv3DBackpropFilterV2",si="Conv3DBackpropInputV2",ii="Cos",ri="Cosh",ai="Cumprod",oi="Cumsum",li="CropAndResize",ci="DenseBincount",ui="DepthToSpace",hi="DepthwiseConv2dNative",di="DepthwiseConv2dNativeBackpropFilter",pi="DepthwiseConv2dNativeBackpropInput",fi="Diag",mi="Dilation2D",gi="Dilation2DBackpropInput",yi="Dilation2DBackpropFilter",Ai="Draw",wi="RealDiv",bi="Einsum",vi="Elu",xi="EluGrad",Ci="Erf",ki="Equal",Ei="Exp",Si="ExpandDims",Ii="Expm1",Ti="FFT",_i="Fill",Ni="FlipLeftRight",Di="Floor",Mi="FloorDiv",Bi="FusedBatchNorm",Ri="GatherV2",Fi="GatherNd",Oi="Greater",Li="GreaterEqual",zi="Identity",Vi="IFFT",Pi="Imag",Wi="IsFinite",Gi="IsInf",Ui="IsNan",ji="LeakyRelu",qi="Less",Hi="LessEqual",Yi="LinSpace",Ki="Log",Zi="Log1p",Qi="LogicalAnd",Xi="LogicalNot",$i="LogicalOr",Ji="LRN",er="LRNGrad",tr="Max",nr="Maximum",sr="MaxPool",ir="MaxPoolGrad",rr="MaxPool3D",ar="MaxPool3DGrad",or="MaxPoolWithArgmax",lr="Mean",cr="Min",ur="Minimum",hr="MirrorPad",dr="Mod",pr="Multinomial",fr="Multiply",mr="Neg",gr="NotEqual",yr="NonMaxSuppressionV3",Ar="NonMaxSuppressionV4",wr="NonMaxSuppressionV5",br="OnesLike",vr="OneHot",xr="Pack",Cr="PadV2",kr="Pow",Er="Prelu",Sr="Prod",Ir="RaggedGather",Tr="RaggedRange",_r="RaggedTensorToTensor",Nr="Range",Dr="Real",Mr="Reciprocal",Br="Relu",Rr="Reshape",Fr="ResizeNearestNeighbor",Or="ResizeNearestNeighborGrad",Lr="ResizeBilinear",zr="ResizeBilinearGrad",Vr="Relu6",Pr="Reverse",Wr="Round",Gr="Rsqrt",Ur="ScatterNd",jr="TensorScatterUpdate",qr="SearchSorted",Hr="Select",Yr="Selu",Kr="Slice",Zr="Sin",Qr="Sinh",Xr="Sign",$r="Sigmoid",Jr="Softplus",ea="Sqrt",ta="Sum",na="SpaceToBatchND",sa="SplitV",ia="Softmax",ra="SparseFillEmptyRows",aa="SparseReshape",oa="SparseSegmentMean",la="SparseSegmentSum",ca="SparseToDense",ua="SquaredDifference",ha="Square",da="StaticRegexReplace",pa="StridedSlice",fa="StringNGrams",ma="StringSplit",ga="StringToHashBucketFast",ya="Sub",Aa="Tan",wa="Tanh",ba="Tile",va="TopK",xa="Transform",Ca="Transpose",ka="Unique",Ea="Unpack",Sa="UnsortedSegmentSum",Ia="ZerosLike",Ta="Step",_a="FromPixels",Na="RotateWithOffset",Da="_FusedMatMul",Ma="FusedConv2D",Ba="FusedDepthwiseConv2D";function Ra(...e){!As().getBool("IS_TEST")&&As().getBool("PROD")}function Fa(...e){!As().getBool("IS_TEST")&&As().getBool("PROD")}const Oa=xs("kernelRegistry",(()=>new Map)),La=xs("gradRegistry",(()=>new Map));function za(e,t){const n=Ua(e,t);return Oa.get(n)}function Va(e){return La.get(e)}function Pa(e){const t=Oa.entries(),n=[];for(;;){const{done:s,value:i}=t.next();if(s)break;const[r,a]=i,[o]=r.split("_");o===e&&n.push(a)}return n}function Wa(e){const{kernelName:t,backendName:n}=e,s=Ua(t,n);Oa.has(s)&&Ra(),Oa.set(s,e)}function Ga(e){const{kernelName:t}=e;La.has(t)&&As().getBool("DEBUG")&&Ra(),La.set(t,e)}function Ua(e,t){return`${t}_${e}`}function ja(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var qa=__webpack_require__(3122);const Ha=__webpack_require__.n(qa)()||qa;function Ya(e){return Ha.fromString(e,!0,16)}const Ka=Ya("c3a5c85c97cb3127"),Za=Ya("b492b66fbe98f273"),Qa=Ya("9ae16a3b2f90404f");function Xa(e){return e.xor(e.shru(47))}function $a(e,t,n){const s=e.slice(t,t+n);return Ha.fromBytes(Array.from(s),!0,!0)}function Ja(e,t){return $a(e,t,8)}function eo(e,t){return $a(e,t,4)}function to(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function no(e,t,n=Ya("9ddfea08eb382d69")){let s=e.xor(t).mul(n);s=s.xor(s.shru(47));let i=t.xor(s).mul(n);return i=i.xor(i.shru(47)),i=i.mul(n),i}function so(e,t,n,s){return function(e,t,n,s,i,r){i=i.add(e),r=to(r.add(i).add(s),21);const a=i;return i=(i=i.add(t)).add(n),r=r.add(to(i,44)),[i.add(s),r.add(a)]}(Ja(e,t),Ja(e,t+8),Ja(e,t+16),Ja(e,t+24),n,s)}function io(e,t=e.length){const n=Ha.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=Qa.add(2*t),s=Ja(e,0).add(Qa),i=Ja(e,t-8);return no(to(i,37).mul(n).add(s),to(s,25).add(i).mul(n),n)}if(t>=4){const n=Qa.add(2*t);return no(eo(e,0).shl(3).add(t),eo(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),s=t+(e[t-1]<<2);return Xa(Qa.mul(n).xor(Ka.mul(s))).mul(Qa)}return Qa}(e,t):function(e,t=e.length){const n=Qa.add(2*t),s=Ja(e,0).mul(Za),i=Ja(e,8),r=Ja(e,t-8).mul(n),a=Ja(e,t-16).mul(Qa);return no(to(s.add(i),43).add(to(r,30)).add(a),s.add(to(i.add(Qa),18)).add(r),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=Qa.add(2*t),s=Ja(e,0).mul(Qa),i=Ja(e,8),r=Ja(e,t-8).mul(n),a=Ja(e,t-16).mul(Qa),o=to(s.add(i),43).add(to(r,30)).add(a),l=no(o,s.add(to(i.add(Qa),18)).add(r),n),c=Ja(e,16).mul(n),u=Ja(e,24),h=o.add(Ja(e,t-32)).mul(n),d=l.add(Ja(e,t-24)).mul(n);return no(to(c.add(u),43).add(to(h,30)).add(d),c.add(to(u.add(s),18)).add(h),n)}(e,t);let s=n,i=n.mul(Za).add(113),r=Xa(i.mul(Qa).add(113)).mul(Qa),a=[Ha.UZERO,Ha.UZERO],o=[Ha.UZERO,Ha.UZERO];s=s.mul(Qa).add(Ja(e,0));let l=0;const c=64*(t-1>>6),u=c+(t-1&63)-63;do{s=to(s.add(i).add(a[0]).add(Ja(e,l+8)),37).mul(Za),i=to(i.add(a[1]).add(Ja(e,l+48)),42).mul(Za),s=s.xor(o[1]),i=i.add(a[0]).add(Ja(e,l+40)),r=to(r.add(o[0]),33).mul(Za),a=so(e,l,a[1].mul(Za),s.add(o[0])),o=so(e,l+32,r.add(o[1]),i.add(Ja(e,l+16))),[r,s]=[s,r],l+=64}while(l!==c);const h=Za.add(r.and(255).shl(1));return l=u,o[0]=o[0].add(t-1&63),a[0]=a[0].add(o[0]),o[0]=o[0].add(a[0]),s=to(s.add(i).add(a[0]).add(Ja(e,l+8)),37).mul(h),i=to(i.add(a[1]).add(Ja(e,l+48)),42).mul(h),s=s.xor(o[1].mul(9)),i=i.add(a[0].mul(9).add(Ja(e,l+40))),r=to(r.add(o[0]),33).mul(h),a=so(e,l,a[1].mul(h),s.add(o[0])),o=so(e,l+32,r.add(o[1]),i.add(Ja(e,l+16))),[r,s]=[s,r],no(no(a[0],o[0],h).add(Xa(i).mul(Ka)).add(r),no(a[1],o[1],h).add(s),h)}function ro(e,t){return"string"===t?lo(e):ao([e],t)}function ao(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=ho(e)),As().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const s=e[n];if(isNaN(s)||!isFinite(s))throw Error(`A tensor of type ${t} being uploaded contains ${s}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function oo(){return As().platform.now()}function lo(e,t="utf-8"){return t=t||"utf-8",As().platform.encode(e,t)}function co(e,t="utf-8"){return t=t||"utf-8",As().platform.decode(e,t)}function uo(e){return null!=As().platform.isTypedArray?As().platform.isTypedArray(e):ja(e)}function ho(e,t=[],n=!1){if(null==t&&(t=[]),"boolean"==typeof e||"number"==typeof e||"string"==typeof e||fs(e)||null==e||uo(e)&&n)t.push(e);else if(Array.isArray(e)||uo(e))for(let s=0;s<e.length;++s)ho(e[s],t,n);else{let s=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(s=Math.max(s,Number(t)));for(let i=0;i<=s;i++)ho(e[i],t,n)}return t}class po{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new mo)}profileKernel(e,t,n){let s;const i=()=>{s=n()};let r;const a=oo();if(this.backendTimer.timerAvailable())r=this.backendTimer.time(i);else{i();for(const e of s)e.dataSync();r=Promise.resolve({kernelMs:oo()-a})}if(As().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<s.length;t++){const n=s[t];n.data().then((t=>{fo(t,n.dtype,e)}))}return{kernelName:e,outputs:s,inputs:t,timeMs:r.then((e=>e.kernelMs)),extraInfo:r.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:s,inputs:i,extraInfo:r}=e;n.forEach((e=>{Promise.all([e.data(),s,r]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],i,n[2])}))}))}}function fo(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(isNaN(n)||!isFinite(n))return!0}return!1}class mo{logKernelProfile(e,t,n,s,i,r){"number"==typeof s?qn(`${s}ms`,9):s.error,qn(e,25),t.rank,t.size,qn(t.shape.toString(),14);let a="";for(const e in i){const n=i[e];if(null!=n){const s=n.shape||t.shape,i=s.length;a+=`${e}: ${i}D ${i>0?s:""} `}}}}function go(e,t,n,s){const i=rs(t),r=function(e,t,n,s){const i=Wn(t),r=s[s.length-1],a=new Array(r).fill(0),o=t.length,l="complex64"===n?bo(e):e;if(o>1)for(let e=0;e<i/r;e++){const t=e*r;for(let e=0;e<r;e++)a[e]=Math.max(a[e],yo(l[t+e],0,n).length)}return a}(e,t,n,i),a=t.length,o=wo(e,t,n,i,r),l=["Tensor"];return s&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${a}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(o.map((e=>"    "+e)).join("\n")),l.join("\n")}function yo(e,t,n){let s;return s=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:es(e)?`'${e}'`:"bool"===n?Ao(e):parseFloat(e.toFixed(7)).toString(),qn(s,t)}function Ao(e){return 0===e?"false":"true"}function wo(e,t,n,s,i,r=!0){const a="complex64"===n?2:1,o=t[0],l=t.length;if(0===l){if("complex64"===n){return[yo(bo(e)[0],0,n)]}return"bool"===n?[Ao(e[0])]:[e[0].toString()]}if(1===l){if(o>20){const t=3*a;let s=Array.from(e.slice(0,t)),r=Array.from(e.slice((o-3)*a,o*a));return"complex64"===n&&(s=bo(s),r=bo(r)),["["+s.map(((e,t)=>yo(e,i[t],n))).join(", ")+", ..., "+r.map(((e,t)=>yo(e,i[o-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?bo(e):Array.from(e)).map(((e,t)=>yo(e,i[t],n))).join(", ")+"]"]}const c=t.slice(1),u=s.slice(1),h=s[0]*a,d=[];if(o>20){for(let t=0;t<3;t++){const s=t*h,r=s+h;d.push(...wo(e.slice(s,r),c,n,u,i,!1))}d.push("...");for(let t=o-3;t<o;t++){const s=t*h,r=s+h;d.push(...wo(e.slice(s,r),c,n,u,i,t===o-1))}}else for(let t=0;t<o;t++){const s=t*h,r=s+h;d.push(...wo(e.slice(s,r),c,n,u,i,t===o-1))}const p=2===l?",":"";d[0]="["+(o>0?d[0]+p:"");for(let e=1;e<d.length-1;e++)d[e]=" "+d[e]+p;let f=",\n";for(let e=2;e<l;e++)f+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(r?"":f),d}function bo(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class vo{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=Wn(e),null!=n){const e=n.length;zn(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Xn(t,this.size),this.strides=rs(e)}set(e,...t){0===t.length&&(t=[0]),zn(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return xo().makeTensor(this.values,this.shape,this.dtype)}}let xo=null,Co=null,ko=null;class Eo{constructor(e,t,n,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Wn(e),this.strides=rs(e),this.dataId=n,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Co.buffer(this.shape,this.dtype,e)}bufferSync(){return Co.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return os(this.shape,e,"complex64"===this.dtype)}arraySync(){return os(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=xo().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>co(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),xo().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=xo().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>co(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await xo().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),xo().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Co.print(this,e)}clone(){return this.throwIfDisposed(),Co.clone(this)}toString(e=!1){return go(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Co.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),xo().makeVariable(this,e,t,n)}}function So(){return xs("Tensor",(()=>Eo))}Object.defineProperty(Eo,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),So();class Io extends Eo{constructor(e,t,n,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Gn(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);xo().disposeTensor(this),this.dataId=e.dataId,xo().incRef(this,null)}dispose(){xo().disposeVariable(this),this.isDisposedInternal=!0}}var To,_o,No,Do,Mo,Bo,Ro,Fo,Oo,Lo;Object.defineProperty(Io,Symbol.hasInstance,{value:e=>e instanceof Eo&&null!=e.assign&&e.assign instanceof Function}),(_o=To||(To={})).R0="R0",_o.R1="R1",_o.R2="R2",_o.R3="R3",_o.R4="R4",_o.R5="R5",_o.R6="R6",(Do=No||(No={})).float32="float32",Do.int32="int32",Do.bool="int32",Do.complex64="complex64",(Bo=Mo||(Mo={})).float32="float32",Bo.int32="int32",Bo.bool="bool",Bo.complex64="complex64",(Fo=Ro||(Ro={})).float32="float32",Fo.int32="float32",Fo.bool="float32",Fo.complex64="complex64",(Lo=Oo||(Oo={})).float32="complex64",Lo.int32="complex64",Lo.bool="complex64",Lo.complex64="complex64";const zo={float32:Ro,int32:No,bool:Mo,complex64:Oo};function Vo(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return zo[e][t]}function Po(e){return Vo(e,"int32")}function Wo(e){return null!=e&&"object"==typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function Go(e){return"undefined"!=typeof GPUBuffer&&null!=e&&"object"==typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function Uo(e,t){if(e.dtype===t.dtype)return[e,t];const n=Vo(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function jo(e,t){return t.some((t=>t.id===e.id))}function qo(e){const t=[];return Ho(e,t,new Set),t}function Ho(e,t,n){if(null==e)return;if(e instanceof Eo)return void t.push(e);if(s=e,!Array.isArray(s)&&"object"!=typeof s)return;var s;const i=e;for(const e in i){const s=i[e];n.has(s)||(n.add(s),Ho(s,t,n))}}function Yo(e){return null!=e.kernelName}class Ko{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Zo{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Ko}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(Ra(),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new po(this.backendInstance),!0}setupRegisteredKernels(){Pa(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){Pa(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof Mn||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,s=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((e=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,Ra(),Ra(e.stack||e.message)),!1)));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}}catch(e){return Ra(),Ra(e.stack||e.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:s,asyncInit:i}=this.initializeBackend(n);if(i||s)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),s=n.backend,i=this.readSync(t),r=s.refCount(t);s.disposeData(t,!0),n.backend=e,e.move(t,i,n.shape,n.dtype,r),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,s=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");s=e}return this.scopedRun((()=>this.startScope(s)),(()=>this.endScope(n)),(()=>(n=t(),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return Zo.nextTensorId++}nextVariableId(){return Zo.nextVariableId++}clone(e){const t=Xo.runKernel(zi,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return Xo.runKernel(Hs,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=za(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const s=this.backend.numDataIds();let i=0;n.forEach((e=>{i+="complex64"===e.dtype?3:1}));const r=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=s-t-i-r;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const s=this.isTapeOn(),i=this.state.numBytes,r=this.state.numTensors;let a,o;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=Yo(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(Yo(e)){const{kernelName:t,inputs:i,attrs:r}=e;null==this.backendName&&this.backend;const l=za(t,this.backendName);zn(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),a=()=>{const e=this.backend.numDataIds();o=l.kernelFunc({inputs:i,attrs:r,backend:this.backend});const a=Array.isArray(o)?o:[o];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,a);const c=a.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(s){const e=this.getTensorsForGradient(t,i,c);n=this.saveTensorsForBackwardMode(e)}return c}}else{const{forwardFunc:t}=e,i=e=>{s&&(n=e.map((e=>this.keep(this.clone(e)))))};a=()=>{const e=this.backend.numDataIds();o=this.tidy((()=>t(this.backend,i)));const n=Array.isArray(o)?o:[o];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:c,attrs:u}=e,h=Yo(e)?null:e.backwardsFunc;let d;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(d=this.profiler.profileKernel(l,c,(()=>a())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(d),t=d.outputs):t=a()})),s&&this.addTapeNode(l,c,t,h,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-r,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map((e=>null!=c[e]?c[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:d.timeMs,extraInfo:d.extraInfo}),Array.isArray(o)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const s=Va(e);if(null!=s){const e=s.inputsToSave||[],i=s.outputsToSave||[];let r;s.saveAllInputs?(zn(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),r=Object.keys(t).map((e=>t[e]))):r=e.map((e=>t[e]));const a=n.filter(((e,t)=>i[t]));return r.concat(a)}return[]}makeTensor(e,t,n,s){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",s=s||this.backend;let i=e;"string"===n&&es(e[0])&&(i=e.map((e=>lo(e))));const r=s.write(i,t,n),a=new Eo(t,n,r,this.nextTensorId());if(this.trackTensor(a,s),"string"===n){const e=this.state.tensorInfo.get(r),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(i);this.state.numBytes+=t-e.bytes,e.bytes=t}return a}makeTensorFromDataId(e,t,n,s){const i={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(i,s)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:s,dtype:i}=e,r=new Eo(s,i,n,this.nextTensorId());return this.trackTensor(r,t),r}makeVariable(e,t=!0,n,s){n=n||this.nextVariableId().toString(),null!=s&&s!==e.dtype&&(e=e.cast(s));const i=new Io(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*Jn(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Io||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*Jn(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,s,i,r){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},o=Va(e);null!=o&&(s=o.gradFunc),null!=s&&(a.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],s=cs(e.size,e.dtype);return this.makeTensor(s,e.shape,e.dtype)}return e})),s(e.length>1?e:e[0],i,r))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=qo(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==s.id||this.track(e)}))}gradients(e,t,n,s=!1){if(zn(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const i=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));zn(i instanceof Eo,(()=>"The result y returned by f() must be a tensor."));const r=function(e,t,n){const s={},i={};for(let e=0;e<t.length;e++)s[t[e].id]=!0;for(let n=0;n<e.length;n++){const r=e[n],a=r.inputs;for(const e in a){const n=a[e];let o=!1;for(let e=0;e<t.length;e++)if(s[n.id]){r.outputs.forEach((e=>s[e.id]=!0)),o=!0,i[r.id]=!0;break}if(o)break}}const r={};r[n.id]=!0;const a={};for(let t=e.length-1;t>=0;t--){const n=e[t],s=n.inputs;for(let e=0;e<n.outputs.length;e++)if(r[n.outputs[e].id]){for(const e in s)r[s[e].id]=!0,a[n.id]=!0;break}}const o=[];for(let t=0;t<e.length;t++){const n=e[t];if(i[n.id]&&a[n.id]){const e={};for(const t in n.inputs){const i=n.inputs[t];s[i.id]&&(e[t]=i)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,o.push(t)}}return o}(this.state.activeTape,t,i);if(!s&&0===r.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[i.id]=null==n?function(e){const t=ls(Wn(e),"float32");return Xo.makeTensor(t,e,"float32")}(i.shape):n,function(e,t,n,s){for(let i=t.length-1;i>=0;i--){const r=t[i],a=[];if(r.outputs.forEach((t=>{const n=e[t.id];null!=n?a.push(n):a.push(null)})),null==r.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${r.kernelName}.`);const o=r.gradient(a);for(const t in r.inputs){if(!(t in o))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(o)}.`);const i=n((()=>o[t]()));if("float32"!==i.dtype)throw new Error(`Error in gradient for op ${r.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${i.dtype}'`);const a=r.inputs[t];if(!Gn(i.shape,a.shape))throw new Error(`Error in gradient for op ${r.kernelName}. The gradient of input '${t}' has shape '${i.shape}', which does not match the shape of the input '${a.shape}'`);if(null==e[a.id])e[a.id]=i;else{const t=e[a.id];e[a.id]=s(t,i),t.dispose()}}}}(e,r,(e=>this.tidy(e)),$o);const s=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:i,grads:s}}))}customGrad(e){return zn(ss(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;zn(t.every((e=>e instanceof Eo)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const s={};t.forEach(((e,t)=>{s[t]=e}));return this.runKernelFunc({forwardFunc:(s,i)=>(n=e(...t,i),zn(n.value instanceof Eo,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),zn(ss(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,s)=>{const i=n.gradFunc(e,s),r=Array.isArray(i)?i:[i];zn(r.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),zn(r.every((e=>e instanceof Eo)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const a={};return r.forEach(((e,t)=>{a[t]=()=>e})),a},inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=oo(),n=await this.backend.time(e);return n.wallMs=oo()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Ko;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function Qo(){const e=vs();if(null==e._tfengine){const t=new gs(e);e._tfengine=new Zo(t)}var t;return t=e._tfengine.ENV,bs=t,xo=()=>e._tfengine,e._tfengine}Zo.nextTensorId=0,Zo.nextVariableId=0;const Xo=Qo();function $o(e,t){const n={a:e,b:t};return Xo.runKernel(Ss,n)}let Jo;function el(e){if(void 0!==Jo)return Jo;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function tl(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}const nl=As();function sl(e,t){let n=e;if(uo(e))return"string"===t?[]:[e.length];if(Wo(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(Go(e))return[e.buffer.size/(null==t?4:Jn(t))];if(!Array.isArray(e))return[];const s=[];for(;Array.isArray(n)||uo(n)&&"string"!==t;)s.push(n.length),n=n[0];return Array.isArray(e)&&As().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&il(e,s,[]),s}function il(e,t,n){if(n=n||[],!Array.isArray(e)&&!uo(e))return void zn(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));zn(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),zn(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const s=t.slice(1);for(let t=0;t<e.length;++t)il(e[t],s,n.concat(t))}function rl(e,t,n,s){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${s}' must be ${e} tensor, but got ${t} tensor`)}}function al(e,t,n,s="numeric"){if(e instanceof So())return rl(s,e.dtype,t,n),e;let i=ns(e);if("string"!==i&&["bool","int32","float32"].indexOf(s)>=0&&(i=s),rl(s,i,t,n),null==e||!uo(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const s=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${s}'`)}const r=sl(e,i);uo(e)||Array.isArray(e)||(e=[e]);const a="string"!==i?ao(e,i):ho(e,[],!0);return Xo.makeTensor(a,r,i)}function ol(e,t,n,s="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,i)=>al(e,`${t}[${i}]`,n,s)))}nl.registerFlag("DEBUG",(()=>!1),(e=>{})),nl.registerFlag("IS_BROWSER",(()=>tl())),nl.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),nl.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),nl.registerFlag("IS_SAFARI",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),nl.registerFlag("PROD",(()=>!1)),nl.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>nl.getBool("DEBUG"))),nl.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),nl.registerFlag("IS_TEST",(()=>!1)),nl.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>nl.getBool("DEBUG"))),nl.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),nl.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),nl.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const ll="__op";function cl(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const s=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=ll;const i=(...e)=>{Xo.startScope(n);try{const t=s(...e);return fs(t),Xo.endScope(t),t}catch(e){throw Xo.endScope(null),e}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}const ul=cl({complex_:function(e,t){const n=al(e,"real","complex"),s=al(t,"imag","complex");Vn(n.shape,s.shape,`real and imag shapes, ${n.shape} and ${s.shape}, must match in call to tf.complex().`);const i={real:n,imag:s};return Xo.runKernel(Zs,i)}});function hl(e,t,n,s){if(null==s)s=ns(e);else if("complex64"===s)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Go(e)||Wo(e)){if("float32"!==s&&"int32"!==s)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${s}.`);return Xo.backend.createTensorFromGPUData(e,t||n,s)}if(!uo(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){hs(t);const e=Wn(t),s=Wn(n);zn(e===s,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${s}`));for(let e=0;e<n.length;++e){const s=n[e],i=e!==n.length-1||s!==Wn(t.slice(e));zn(n[e]===t[e]||!i,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return uo(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==s?ao(e,s):ho(e,[],!0),Xo.makeTensor(e,t,s)}function dl(e,t,n){return hl(e,t,sl(e,n),n)}const pl={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class fl{static join(e){return new fl(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>uo(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const s=e[n];n!==e.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=t+s.byteLength;this.shards.push({buffer:s,start:t,end:i}),t=i}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,t=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const s=new ArrayBuffer(t-e),i=new Uint8Array(s);let r=0;for(let s=n;s<this.shards.length;s++){const n=this.shards[s],a=e+r-n.start,o=r,l=Math.min(t,n.end)-n.start,c=new Uint8Array(n.buffer,a,l-a);if(i.set(c,o),r+=c.length,t<n.end)break}return s}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,s=e.length;for(;n<=s;){const i=Math.floor((s-n)/2)+n,r=t(e[i]);if(0===r)return i;r<0?s=i:n=i+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function ml(){return Xo}function gl(){return Xo.memory()}function yl(e,t){return Xo.tidy(e,t)}function Al(e){qo(e).forEach((e=>e.dispose()))}function wl(e){return Xo.keep(e)}function bl(e,t,n=1){return Xo.registerBackend(e,t,n)}function vl(){return Xo.backend}ko=function(e){As().getBool("DEPRECATION_WARNINGS_ENABLED")};const xl=4;async function Cl(e,t){const n=[],s=[],i=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let r=0;r<i.length;++r){const a=i[r],o=Array.isArray(e)?e[r].tensor:e[a];if("float32"!==o.dtype&&"int32"!==o.dtype&&"bool"!==o.dtype&&"string"!==o.dtype&&"complex64"!==o.dtype)throw new Error(`Unsupported dtype in weight '${a}': ${o.dtype}`);const l={name:a,shape:o.shape,dtype:o.dtype};if("string"===o.dtype){const e=new Promise((async e=>{const t=await o.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+xl*t.length,s=new Uint8Array(n);let i=0;for(let e=0;e<t.length;e++){const n=t[e],r=new Uint8Array(new Uint32Array([n.length]).buffer);s.set(r,i),i+=xl,s.set(n,i),i+=n.length}e(s)}));s.push(e)}else s.push(o.data());null!=t&&(l.group=t),n.push(l)}return{data:Nl(await Promise.all(s)),specs:n}}function kl(e,t){const n=new fl(e),s={};let i=0;for(const e of t){const t=El(e,((e,t)=>n.slice(i+e,i+t)));s[e.name]=Il(e,n.slice(i,i+t)),i+=t}return s}function El(e,t){const n=Wn(e.shape);let s;if("quantization"in e){const t=e.quantization;s=pl[t.dtype]}else{if("string"===e.dtype){let e=0;for(let s=0;s<n;s++)e+=xl+new Uint32Array(t(e,e+xl))[0];return e}s=pl[e.dtype]}return n*s}async function Sl(e,t){const n=Wn(e.shape);let s;if("quantization"in e){const t=e.quantization;s=pl[t.dtype]}else{if("string"===e.dtype){let e=0;for(let s=0;s<n;s++)e+=xl+new Uint32Array(await t(e,e+xl))[0];return e}s=pl[e.dtype]}return n*s}function Il(e,t){const n=e.name,s=e.dtype,i=e.shape,r=Wn(i);let a,o=0;if("quantization"in e){const i=e.quantization;if("uint8"===i.dtype||"uint16"===i.dtype){if(!("min"in i)||!("scale"in i))throw new Error(`Weight ${e.name} with quantization ${i.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==i.dtype)throw new Error(`Weight ${e.name} has unknown quantization dtype ${i.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==s)throw new Error(`Weight ${e.name} is quantized with ${i.dtype} which only supports weights of type float32 not ${s}.`)}const l=pl[i.dtype],c="uint8"===i.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===s)if("uint8"===i.dtype||"uint16"===i.dtype){a=new Float32Array(c.length);for(let e=0;e<c.length;e++){const t=c[e];a[e]=t*i.scale+i.min}}else{if("float16"!==i.dtype)throw new Error(`Unsupported quantization type ${i.dtype} for weight type float32.`);{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;!(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return s=>{const i=new ArrayBuffer(4*s.length),r=new Uint32Array(i);for(let i=0;i<s.length;i++){const a=s[i],o=e[n[a>>10]+(1023&a)]+t[a>>10];r[i]=o}return new Float32Array(i)}}();a=e(c)}}else{if("int32"!==s)throw new Error(`Unsupported dtype in weight '${n}': ${s}`);if("uint8"!==i.dtype&&"uint16"!==i.dtype)throw new Error(`Unsupported quantization type ${i.dtype} for weight type int32.`);a=new Int32Array(c.length);for(let e=0;e<c.length;e++){const t=c[e];a[e]=Math.round(t*i.scale+i.min)}}o+=r*l}else if("string"===s){const n=Wn(e.shape);a=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(o,o+xl))[0];o+=xl;const n=new Uint8Array(t.slice(o,o+e));a.push(n),o+=e}}else{const e=pl[s];if("float32"===s)a=new Float32Array(t);else if("int32"===s)a=new Int32Array(t);else{if("bool"!==s){if("complex64"===s){a=new Float32Array(t);const e=new Float32Array(a.length/2),n=new Float32Array(a.length/2);for(let t=0;t<e.length;t++)e[t]=a[2*t],n[t]=a[2*t+1];const s=dl(e,i,"float32"),r=dl(n,i,"float32"),o=ul(s,r);return s.dispose(),r.dispose(),o}throw new Error(`Unsupported dtype in weight '${n}': ${s}`)}a=new Uint8Array(t)}o+=r*e}return dl(a,i,s)}async function Tl(e,t,n){let s=new Uint8Array(t);for(;s.byteLength<n;){const{done:t,value:i}=await e.read();if(t&&null==i){const e=n-s.byteLength;throw new Error(`Reader is done but ${e} bytes are still expected`)}const r=new Uint8Array(s.length+i.byteLength);r.set(s,0),r.set(new Uint8Array(i),s.length),s=r}return s.buffer}async function _l(e,t){const n={},s=e.getReader();let i=new ArrayBuffer(0);for(const e of t){const t=await Sl(e,(async(e,t)=>(i=await Tl(s,i,t),i.slice(e,t))));i=await Tl(s,i,t);const r=i.slice(0,t);i=i.slice(t);const a=Il(e,r);if(n[e.name]=a,"webgpu"===Xo.backendName){const e=vl();"uploadToGPU"in e&&Wn(a.shape)>=As().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&e.uploadToGPU(a.dataId)}}return n}function Nl(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const s=new Uint8Array(t);let i=0;return n.forEach((e=>{s.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),s.buffer}const Dl="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Ml(e){return Dl?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function Bl(e){return fl.join(e)}function Rl(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function Fl(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function Ol(e,t,n){const s={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(s.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");s.weightSpecs=t,s.weightData=n}return null!=e.signature&&(s.signature=e.signature),null!=e.userDefinedMetadata&&(s.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(s.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(s.initializerSignature=e.initializerSignature),s}async function Ll(e,t){let n,s;return null!=e.weightsManifest&&([n,s]=await t(e.weightsManifest)),Ol(e,n,s)}function zl(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Ml(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Ml(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new fl(e.weightData).byteLength}}function Vl(e){const t=[];for(const n of e)t.push(...n.weights);return t}class Pl{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Pl.instance&&(Pl.instance=new Pl),Pl.instance}static registerSaveRouter(e){Pl.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Pl.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Pl.getHandlers(e,"save")}static getLoadHandlers(e,t){return Pl.getHandlers(e,"load",t)}static getHandlers(e,t,n){const s=[];return("load"===t?Pl.getInstance().loadRouters:Pl.getInstance().saveRouters).forEach((t=>{const i=t(e,n);null!==i&&s.push(i)})),s}}const Wl=e=>Pl.registerSaveRouter(e),Gl=e=>Pl.registerLoadRouter(e),Ul=e=>Pl.getSaveHandlers(e),jl=(e,t)=>Pl.getLoadHandlers(e,t),ql="tensorflowjs",Hl="models_store",Yl="model_info_store";function Kl(){if(!As().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Zl(e){const t=e.result;t.createObjectStore(Hl,{keyPath:"modelPath"}),t.createObjectStore(Yl,{keyPath:"modelPath"})}class Ql{constructor(e){if(this.indexedDB=Kl(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const s=this.indexedDB.open(ql,1);s.onupgradeneeded=()=>Zl(s),s.onsuccess=()=>{const i=s.result;if(null==t){const t=i.transaction(Hl,"readonly"),s=t.objectStore(Hl).get(this.modelPath);s.onsuccess=()=>{if(null==s.result)return i.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(s.result.modelArtifacts)},s.onerror=e=>(i.close(),n(s.error)),t.oncomplete=()=>i.close()}else{t.weightData=fl.join(t.weightData);const s=zl(t),r=i.transaction(Yl,"readwrite");let a,o,l=r.objectStore(Yl);try{a=l.put({modelPath:this.modelPath,modelArtifactsInfo:s})}catch(e){return n(e)}a.onsuccess=()=>{o=i.transaction(Hl,"readwrite");const a=o.objectStore(Hl);let c;try{c=a.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:s})}catch(e){return n(e)}c.onsuccess=()=>e({modelArtifactsInfo:s}),c.onerror=e=>{l=r.objectStore(Yl);const t=l.delete(this.modelPath);t.onsuccess=()=>(i.close(),n(c.error)),t.onerror=e=>(i.close(),n(c.error))}},a.onerror=e=>(i.close(),n(a.error)),r.oncomplete=()=>{null==o?i.close():o.oncomplete=()=>i.close()}}},s.onerror=e=>n(s.error)}))}}Ql.URL_SCHEME="indexeddb://";const Xl=e=>{return As().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ql.URL_SCHEME)?(t=e.slice(Ql.URL_SCHEME.length),new Ql(t)):null;var t};Pl.registerSaveRouter(Xl),Pl.registerLoadRouter(Xl);class $l{constructor(){this.indexedDB=Kl()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(ql,1);n.onupgradeneeded=()=>Zl(n),n.onsuccess=()=>{const s=n.result,i=s.transaction(Yl,"readonly"),r=i.objectStore(Yl).getAll();r.onsuccess=()=>{const t={};for(const e of r.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},r.onerror=e=>(s.close(),t(r.error)),i.oncomplete=()=>s.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(Ql.URL_SCHEME)?t.slice(Ql.URL_SCHEME.length):t,new Promise(((t,n)=>{const s=this.indexedDB.open(ql,1);s.onupgradeneeded=()=>Zl(s),s.onsuccess=()=>{const i=s.result,r=i.transaction(Yl,"readwrite"),a=r.objectStore(Yl),o=a.get(e);let l;o.onsuccess=()=>{if(null==o.result)return i.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const s=a.delete(e),r=()=>{l=i.transaction(Hl,"readwrite");const s=l.objectStore(Hl).delete(e);s.onsuccess=()=>t(o.result.modelArtifactsInfo),s.onerror=e=>n(o.error)};s.onsuccess=r,s.onerror=e=>(r(),i.close(),n(o.error))}},o.onerror=e=>(i.close(),n(o.error)),r.oncomplete=()=>{null==l?i.close():l.oncomplete=()=>i.close()}},s.onerror=e=>n(s.error)}))}}const Jl="/",ec="tensorflowjs_models",tc="info",nc="model_topology",sc="weight_specs",ic="weight_data",rc="model_metadata";function ac(e){return{info:[ec,e,tc].join(Jl),topology:[ec,e,nc].join(Jl),weightSpecs:[ec,e,sc].join(Jl),weightData:[ec,e,ic].join(Jl),modelMetadata:[ec,e,rc].join(Jl)}}function oc(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function lc(e){const t=e.split(Jl);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(Jl)}class cc{constructor(e){if(!As().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=ac(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),s=zl(e),i=fl.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(Dl)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,s=t.length;e<s;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(i));const r={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(r)),{modelArtifactsInfo:s}}catch(e){throw oc(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==s)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=s;const i=this.LS.getItem(this.keys.modelMetadata);if(null!=i){const e=JSON.parse(i);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const r=this.LS.getItem(this.keys.weightData);if(null==r)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(Dl){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}(r),t}}cc.URL_SCHEME="localstorage://";const uc=e=>{return As().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(cc.URL_SCHEME)?(t=e.slice(cc.URL_SCHEME.length),new cc(t)):null;var t};Pl.registerSaveRouter(uc),Pl.registerLoadRouter(uc);class hc{constructor(){zn(As().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),zn("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=ec+Jl,n=Jl+tc;for(let s=0;s<this.LS.length;++s){const i=this.LS.key(s);if(i.startsWith(t)&&i.endsWith(n)){e[lc(i)]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){var t;const n=ac(e=(t=e).startsWith(cc.URL_SCHEME)?t.slice(cc.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const s=JSON.parse(this.LS.getItem(n.info));return oc(n),s}}const dc="://";class pc{constructor(){this.managers={}}static getInstance(){return null==pc.instance&&(pc.instance=new pc),pc.instance}static registerManager(e,t){zn(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(dc)&&(e=e.slice(0,e.indexOf(dc))),zn(e.length>0,(()=>"scheme must not be an empty string."));const n=pc.getInstance();zn(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=pc.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(pc.getInstance().managers)}}function fc(e){if(-1===e.indexOf(dc))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${pc.getSchemes().join(",")}`);return{scheme:e.split(dc)[0],path:e.split(dc)[1]}}async function mc(e,t,n=!1){zn(e!==t,(()=>`Old path and new path are the same: '${e}'`));const s=Pl.getLoadHandlers(e);zn(s.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),zn(s.length<2,(()=>`Copying failed because more than one (${s.length}) load handlers for source URL ${e}.`));const i=s[0],r=Pl.getSaveHandlers(t);zn(r.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),zn(r.length<2,(()=>`Copying failed because more than one (${s.length}) save handlers for destination URL ${t}.`));const a=r[0],o=fc(e).scheme,l=fc(e).path,c=o===fc(e).scheme,u=await i.load();n&&c&&await pc.getManager(o).removeModel(l);const h=await a.save(u);return n&&!c&&await pc.getManager(o).removeModel(l),h.modelArtifactsInfo}async function gc(){const e=pc.getSchemes(),t={};for(const n of e){const e=await pc.getManager(n).listModels();for(const s in e){t[n+dc+s]=e[s]}}return t}async function yc(e){const t=fc(e);return pc.getManager(t.scheme).removeModel(t.path)}async function Ac(e,t){return mc(e,t,!1)}async function wc(e,t){return mc(e,t,!0)}class bc{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!=typeof window&&As().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return ja(e)}}if(As().get("IS_BROWSER")){As().setPlatform("browser",new bc);try{pc.registerManager(cc.URL_SCHEME,new hc)}catch(e){}try{pc.registerManager(Ql.URL_SCHEME,new $l)}catch(e){}}const vc=()=>__webpack_require__(8273);let xc;class Cc{constructor(){this.util=__webpack_require__(9830),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=As().global.fetch?As().global.fetch(e,t):(null==xc&&(xc=vc()),xc(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function kc(e,t="float32",n){return t=t||"float32",hs(e),new vo(e,t,n)}As().get("IS_NODE")&&!As().get("IS_BROWSER")&&As().setPlatform("node",new Cc);const Ec=cl({cast_:function(e,t){const n=al(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const s={x:n},i={dtype:t};return Xo.runKernel(Hs,s,i)}});const Sc=cl({clone_:function(e){const t={x:al(e,"x","clone","string_or_numeric")};return Xo.runKernel(zi,t)}});function Ic(e,t=!1){}Qo();Co={buffer:kc,cast:Ec,clone:Sc,print:Ic};const Tc=cl({add_:function(e,t){let n=al(e,"a","add"),s=al(t,"b","add");[n,s]=Uo(n,s);const i={a:n,b:s};return Xo.runKernel(Ss,i)}});const _c=cl({floorDiv_:function(e,t){let n=al(e,"a","floorDiv"),s=al(t,"b","floorDiv");[n,s]=Uo(n,s);const i={a:n,b:s};return Xo.runKernel(Mi,i)}});const Nc=cl({div_:function(e,t){let n=al(e,"a","div"),s=al(t,"b","div");if([n,s]=Uo(n,s),"int32"===n.dtype&&"int32"===s.dtype)return _c(n,s);const i={a:n,b:s};return Xo.runKernel(wi,i,{})}});const Dc=cl({mul_:function(e,t){let n=al(e,"a","mul"),s=al(t,"b","mul");[n,s]=Uo(n,s);const i={a:n,b:s};return Xo.runKernel(fr,i)}});const Mc=cl({sqrt_:function(e){const t={x:al(e,"x","sqrt","float32")};return Xo.runKernel(ea,t)}});const Bc=cl({square_:function(e){const t=al(e,"x","square");return Xo.runKernel("Square",{x:t},{})}});const Rc=cl({zerosLike_:function(e){const t={x:al(e,"x","zerosLike")};return Xo.runKernel(Ia,t)}});function Fc(e){return Xo.customGrad(e)}function Oc(e,t){if((uo(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&uo(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return hl(e,[],[],t)}const Lc=new Map,zc=new Map;class Vc{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class Pc{constructor(){this.classNameMap={}}static getMap(){return null==Pc.instance&&(Pc.instance=new Pc),Pc.instance}static register(e){Pc.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Wc(e,t,n){zn(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),zn("string"==typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),zn(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),void 0===t&&(t="Custom"),void 0===n&&(n=e.className);const s=t+">"+n;return Pc.register(e),Lc.set(s,e),zc.set(e,s),e}class Gc extends Vc{minimize(e,t=!1,n){const{value:s,grads:i}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:i[e.name]})));this.applyGradients(e)}else this.applyGradients(i);return Al(i),t?s:(s.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){zn(ss(e),(()=>"The f passed in variableGrads(f) must be a function")),zn(null==t||Array.isArray(t)&&t.every((e=>e instanceof Io)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in Xo.registeredVariables)t.push(Xo.registeredVariables[e])}const s=n?t.filter((e=>!e.trainable)):null,i=t.length;zn((t=t.filter((e=>e.trainable))).length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${i} variables is trainable.`));const{value:r,grads:a}=Xo.gradients(e,t,null,!0);zn(a.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),zn(0===r.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${r.rank} tensor`));const o={};return t.forEach(((e,t)=>{null!=a[t]&&(o[e.name]=a[t])})),null!=s&&s.forEach((e=>o[e.name]=null)),{value:r,grads:o}}(e,t)}dispose(){null!=this.iterations_&&Al(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Oc(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Gc,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class Uc extends Gc{static get className(){return"Adadelta"}constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=Xo.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const s=Xo.registeredVariables[t],i=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:yl((()=>Rc(s).variable(i)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:yl((()=>Rc(s).variable(i)))});const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=this.accumulatedGrads[n].variable,o=this.accumulatedUpdates[n].variable;yl((()=>{const e=Tc(Dc(a,this.rho),Dc(Bc(r),1-this.rho)),t=Dc(Nc(Mc(Tc(o,this.epsilon)),Mc(Tc(a,this.epsilon))),r),n=Tc(Dc(o,this.rho),Dc(Bc(t),1-this.rho));a.assign(e),o.assign(n);const i=Tc(Dc(t,-this.learningRate),s);s.assign(i)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(Al(this.accumulatedGrads.map((e=>e.variable))),Al(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function jc(e,t,n){hs(e);const s={shape:e,value:t,dtype:n=n||ns(t)};return Xo.runKernel(_i,{},s)}class qc extends Gc{static get className(){return"Adagrad"}constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const s=Xo.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:yl((()=>jc(s.shape,this.initialAccumulatorValue).variable(e)))}}const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const r=this.accumulatedGrads[n].variable;yl((()=>{const e=Tc(r,Bc(i));r.assign(e);const t=Tc(Dc(Nc(i,Mc(Tc(e,Xo.backend.epsilon()))),-this.learningRate),s);s.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&Al(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}const Hc=cl({pow_:function(e,t){let n=al(e,"base","pow"),s=al(t,"exp","pow");[n,s]=Uo(n,s);const i={a:n,b:s};return Xo.runKernel(kr,i)}});const Yc=cl({sub_:function(e,t){let n=al(e,"a","sub"),s=al(t,"b","sub");[n,s]=Uo(n,s);const i={a:n,b:s};return Xo.runKernel(ya,i)}});class Kc extends Gc{static get className(){return"Adam"}constructor(e,t,n,s=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],yl((()=>{this.accBeta1=Oc(t).variable(),this.accBeta2=Oc(n).variable()})),null==s&&(this.epsilon=Xo.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);yl((()=>{const n=Yc(1,this.accBeta1),s=Yc(1,this.accBeta2);t.forEach(((t,i)=>{const r=Xo.registeredVariables[t],a=!1;null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${t}/m`,variable:yl((()=>Rc(r).variable(a)))}),null==this.accumulatedSecondMoment[i]&&(this.accumulatedSecondMoment[i]={originalName:`${t}/v`,variable:yl((()=>Rc(r).variable(a)))});const o=Array.isArray(e)?e[i].tensor:e[t];if(null==o)return;const l=this.accumulatedFirstMoment[i].variable,c=this.accumulatedSecondMoment[i].variable,u=Tc(Dc(l,this.beta1),Dc(o,1-this.beta1)),h=Tc(Dc(c,this.beta2),Dc(Bc(o),1-this.beta2)),d=Nc(u,n),p=Nc(h,s);l.assign(u),c.assign(h);const f=Tc(Dc(Nc(d,Tc(Mc(p),this.epsilon)),-this.learningRate),r);r.assign(f)})),this.accBeta1.assign(Dc(this.accBeta1,this.beta1)),this.accBeta2.assign(Dc(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Al(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&Al(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),yl((()=>{this.accBeta1.assign(Hc(this.beta1,this.iterations_+1)),this.accBeta2.assign(Hc(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}const Zc=cl({abs_:function(e){const t=al(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return Xo.runKernel(Qs,e)}{const e={x:t};return Xo.runKernel(Cs,e)}}});function Qc(e,t){const n=e.length,s=[];for(let i=0;i<n;i++){const r=n-1-i,a=e[r]||1;(t[t.length-1-i]||1)>1&&1===a&&s.unshift(r)}return s}function Xc(e,t){const n=[];for(let s=0;s<t.length;s++){const i=e[e.length-s-1],r=t.length-s-1,a=t[r];(null==i||1===i&&a>1)&&n.unshift(r)}return n}function $c(e,t){const n=Math.max(e.length,t.length),s=new Array(n);for(let i=0;i<n;i++){let r=e[e.length-i-1];null==r&&(r=1);let a=t[t.length-i-1];if(null==a&&(a=1),1===r)s[n-i-1]=a;else if(1===a)s[n-i-1]=r;else{if(r!==a){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}s[n-i-1]=r}}return s}const Jc=cl({maximum_:function(e,t){let n=al(e,"a","maximum"),s=al(t,"b","maximum");[n,s]=Uo(n,s),"bool"===n.dtype&&(n=Ec(n,"int32"),s=Ec(s,"int32")),$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel(nr,i)}});class eu extends Gc{static get className(){return"Adamax"}constructor(e,t,n,s=null,i=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=s,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],yl((()=>{this.iteration=Oc(0).variable(),this.accBeta1=Oc(t).variable()})),null==s&&(this.epsilon=Xo.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);yl((()=>{const n=Yc(1,this.accBeta1),s=Nc(-this.learningRate,Tc(Dc(this.iteration,this.decay),1));t.forEach(((t,i)=>{const r=Xo.registeredVariables[t],a=!1;null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${t}/m`,variable:Rc(r).variable(a)}),null==this.accumulatedWeightedInfNorm[i]&&(this.accumulatedWeightedInfNorm[i]={originalName:`${t}/v`,variable:Rc(r).variable(a)});const o=Array.isArray(e)?e[i].tensor:e[t];if(null==o)return;const l=this.accumulatedFirstMoment[i].variable,c=this.accumulatedWeightedInfNorm[i].variable,u=Tc(Dc(l,this.beta1),Dc(o,1-this.beta1)),h=Dc(c,this.beta2),d=Zc(o),p=Jc(h,d);l.assign(u),c.assign(p);const f=Tc(Dc(Nc(s,n),Nc(u,Tc(p,this.epsilon))),r);r.assign(f)})),this.iteration.assign(Tc(this.iteration,1)),this.accBeta1.assign(Dc(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Al(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&Al(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class tu extends Gc{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const s=Array.isArray(e)?e[n].tensor:e[t];if(null==s)return;const i=Xo.registeredVariables[t];yl((()=>{const e=Tc(Dc(this.c,s),i);i.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=wl(Oc(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class nu extends tu{static get className(){return"Momentum"}constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Oc(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const s=Xo.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:yl((()=>Rc(s).variable(e)))}}const i=this.accumulations[n].variable,r=Array.isArray(e)?e[n].tensor:e[t];null!=r&&yl((()=>{let e;const t=Tc(Dc(this.m,i),r);e=this.useNesterov?Tc(Dc(this.c,Tc(r,Dc(t,this.m))),s):Tc(Dc(this.c,t),s),i.assign(t),s.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&Al(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class su extends Gc{static get className(){return"RMSProp"}constructor(e,t=.9,n=0,s=null,i=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,null==s&&(this.epsilon=Xo.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const s=Xo.registeredVariables[t],i=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:yl((()=>Rc(s).variable(i)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:yl((()=>Rc(s).variable(i)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:yl((()=>Rc(s).variable(i)))});const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=this.accumulatedMeanSquares[n].variable,o=this.accumulatedMoments[n].variable;yl((()=>{const e=Tc(Dc(a,this.decay),Dc(Bc(r),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,i=Tc(Dc(t,this.decay),Dc(r,1-this.decay)),l=Nc(Dc(r,this.learningRate),Mc(Yc(e,Tc(Bc(i),this.epsilon)))),c=Tc(Dc(o,this.momentum),l);a.assign(e),t.assign(i),o.assign(c);const u=Yc(s,c);s.assign(u)}else{const e=Tc(Dc(a,this.decay),Dc(Bc(r),1-this.decay)),t=Tc(Dc(o,this.momentum),Nc(Dc(r,this.learningRate),Mc(Tc(e,this.epsilon))));a.assign(e),o.assign(t);const n=Yc(s,t);s.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&Al(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&Al(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&Al(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const iu=[Uc,qc,Kc,eu,nu,su,tu];function ru(e){return new Promise((e=>setTimeout(e))).then(e)}class au{constructor(e){if(!As().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(au.URL_SCHEME)&&(e=e.slice(au.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=fl.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=Fl(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),s=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),i=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(i.download=this.modelJsonFileName,i.href=s,await ru((()=>i.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await ru((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:zl(e)}}}}au.URL_SCHEME="downloads://";class ou{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const s=JSON.parse(n.target.result),i=s.modelTopology;if(null==i)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==s.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:i});const r=Ll(s,(e=>this.loadWeights(e)));e(r)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const s of e)t.push(...s.weights),n.push(...s.paths);const s=this.checkManifestAndWeightFiles(e),i=n.map((e=>this.loadWeightsFile(e,s[e])));return Promise.all(i).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,s)=>{const i=new FileReader;i.onload=e=>{const t=e.target.result;n(t)},i.onerror=t=>s(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>Rl(e.name))),s={};for(const i of e)i.paths.forEach((e=>{const i=Rl(e);if(-1!==t.indexOf(i))throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(t.push(i),-1===n.indexOf(i))throw new Error(`Weight file with basename '${i}' is not provided.`);s[e]=this.weightsFiles[n.indexOf(i)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}function lu(e){return new ou(e)}function cu(e,t,n,s){!function(e){zn(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){zn(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),zn(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),zn(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,s=null==s?1:s);let i=0;return Promise.all(e.map((r=>(r.then((r=>{const a=n+ ++i/e.length*(s-n);return t(a),r})),r))))}async function uu(e,t){null==t&&(t={});const n=null==t.fetchFunc?As().platform.fetch:t.fetchFunc,s=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),i=(null==t.onProgress?await Promise.all(s):await cu(s,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(i):await cu(i,t.onProgress,.5,1)}async function hu(e,t="",n,s){return du((e=>uu(e,{requestInit:s})))(e,t,n)}function du(e){return async(t,n="",s)=>{const i=t.map((()=>!1)),r={},a=null!=s?s.map((()=>!1)):[],o=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,c=pl[l]*Wn(e.shape),u=()=>{i[t]=!0,null==r[t]&&(r[t]=[]),r[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=s?s.forEach(((t,n)=>{t===e.name&&(u(),a[n]=!0)})):u(),o.push(e.name),n+=c}))})),!a.every((e=>e))){const e=s.filter(((e,t)=>!a[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${o.join(", ")}.`)}const l=i.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),c=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;c.push(t)}))}));const u=await e(c),h={};let d=0;return l.forEach((e=>{const n=t[e].paths.length,s=new fl(u.slice(d,d+n));r[e].forEach((e=>{const t=kl(s.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const e in t)h[e]=t[e]})),d+=n})),h}}Pl.registerSaveRouter((e=>As().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(au.URL_SCHEME)?function(e="model"){return new au(e)}(e.slice(au.URL_SCHEME.length)):null));class pu{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(zn("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=As().platform.fetch,zn(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&zn(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=Fl(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=fl.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const s=await this.fetch(this.path,t);if(s.ok)return{modelArtifactsInfo:zl(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,s=t.weightsManifest;if(null==n&&null==s)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return Ll(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=Vl(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const s=null==t.fetchFunc?As().platform.fetch:t.fetchFunc;let i,r=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var a;r<e.length;){if(!i){const n=(await s(e[r],t.requestInit,{isBinary:!0})).body;i=n.getReader()}const{done:o,value:l}=await i.read();if(!o)return void n.enqueue(l);r++,i=void 0,null===(a=t.onProgress)||void 0===a||a.call(t,r/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,s]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),s=e.substring(0,t),i=n>t?e.substring(n):"";return[s+"/",i]}(t),i=this.weightPathPrefix||n,r=[],a=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?a.push(this.weightUrlConverter(e)):r.push(i+e+s);return this.weightUrlConverter&&r.push(...await Promise.all(a)),r}async loadWeights(e){const t=await this.getWeightUrls(e);return[Vl(e),await uu(t,this.loadOptions)]}}function fu(e){return null!=e.match(pu.URL_SCHEME_REGEX)}pu.URL_SCHEME_REGEX=/^https?:\/\//;const mu=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>fu(e))):fu(e),n)return gu(e,t)}return null};function gu(e,t){return new pu(e,t)}function yu(e,t){return gu(e,t)}Pl.registerSaveRouter(mu),Pl.registerLoadRouter(mu);class Au{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class wu{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class bu{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function vu(e,t,n,s){return new bu(xu(...arguments))}function xu(e,t,n,s){if(1===arguments.length){const t=null!=e.modelTopology||null!=e.weightSpecs;return new Au(t?e:{modelTopology:e})}return new Au({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:s})}function Cu(e){return new wu(e)}function ku(e){return new wu(e)}function Eu(e,t,n){if(Pn(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const s=sl(e,n);if(3!==s.length&&1!==s.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return hl(e,t,s,n)}let Su,Iu=!1;function Tu(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,s=!1,i=!1,r=!1,a=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)s=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)r=!0;else if(null!=e.getContext)a=!0;else{if(!("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);o=!0}if(null!=za(_a,Xo.backendName)){const n={pixels:e},s={numChannels:t};return Xo.runKernel(_a,n,s)}const[l,c]=i?[e.videoWidth,e.videoHeight]:[e.width,e.height];let u,h;if(a)u=e.getContext("2d").getImageData(0,0,l,c).data;else if(s||n)u=e.data;else if(r||i||o){if(null==Su)if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas||"undefined"==typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");Su=new OffscreenCanvas(1,1).getContext("2d")}else Su=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Su.canvas.width=l,Su.canvas.height=c,Su.drawImage(e,0,0,l,c),u=Su.getImageData(0,0,l,c).data}if(4===t)h=new Int32Array(u);else{const e=l*c;h=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)h[n*t+e]=u[4*n+e]}return Eu(h,[c,l,t],"int32")}function _u(e){if(2!==e.rank&&3!==e.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}async function Nu(e,t){let n=al(e,"img","toPixels");if(!(e instanceof Eo)){const e=n;n=Ec(e,"int32"),e.dispose()}_u(n);const[s,i]=n.shape.slice(0,2),r=2===n.rank?1:n.shape[2],a=await n.data(),o="float32"===n.dtype?255:1,l=new Uint8ClampedArray(i*s*4);for(let e=0;e<s*i;++e){const t=[0,0,0,255];for(let s=0;s<r;s++){const i=a[e*r+s];if("float32"===n.dtype){if(i<0||i>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${i}.`)}else if("int32"===n.dtype&&(i<0||i>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${i}.`);1===r?(t[0]=i*o,t[1]=i*o,t[2]=i*o):t[s]=i*o}const s=4*e;l[s+0]=Math.round(t[0]),l[s+1]=Math.round(t[1]),l[s+2]=Math.round(t[2]),l[s+3]=Math.round(t[3])}if(null!=t){if(!Iu){null!=za(Ai,Xo.backendName)&&(Iu=!0)}t.width=i,t.height=s;const e=t.getContext("2d"),n=new ImageData(l,i,s);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const Du=cl({fromPixels_:Tu}),Mu=-2,Bu=-1;function Ru(e,t,n){const s=e.shape.length;zn(s===t.length,(()=>`Error in slice${s}D: Length of begin ${t} must match the rank of the array (${s}).`)),zn(s===n.length,(()=>`Error in slice${s}D: Length of size ${n} must match the rank of the array (${s}).`));for(let i=0;i<s;++i)zn(t[i]+n[i]<=e.shape[i],(()=>`Error in slice${s}D: begin[${i}] + size[${i}] (${t[i]+n[i]}) would overflow input.shape[${i}] (${e.shape[i]})`))}function Fu(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Ou(e,t,n){const s=[];for(let i=0;i<e.length;i++)s[i]=Math.ceil((t[i]-e[i])/n[i]);return s}function Lu(e,t,n,s){const i=[...e];for(let e=i.length;e<s.length;e++)i.push(1);for(let e=0;e<n;e++)0===e?i[t]=1:(i.splice(t,0,1),i.pop());return i}function zu(e,t,n){return n<=e?n:n-(t-1)}function Vu(e,t){const n=[];for(let s=0;s<e;s++)n.push(t+s);return n}function Pu(e,t,n,s,i,r,a,o,l){const c=e.length;let u=new Array(c),h=new Array(c),d=new Array(c);if(t.length&&n>0){const l=t[0],c=n+1;u=Wu(a,l,c,s,e),h=Gu(o,l,c,i,e),d=Lu(r,l,c,e)}else for(let t=0;t<c;t++)u[t]=ju(a,s,r,e,t,l),h[t]=qu(o,i,r,e,t,l),d[t]=Uu(r,t,l);return{begin:u,end:h,strides:d}}function Wu(e,t,n,s,i){const r=[...i],a=Vu(n,t);for(let i=0;i<r.length;i++)if(a.indexOf(i)>-1)r[i]=0;else{const a=zu(t,n,i);let o=s[a];e&1<<a&&(o=0),r[i]=o}return r}function Gu(e,t,n,s,i){const r=[...i],a=Vu(n,t);for(let i=0;i<r.length;i++)if(a.indexOf(i)>-1)r[i]=Number.MAX_SAFE_INTEGER;else{const a=zu(t,n,i);let o=s[a];e&1<<a&&(o=Number.MAX_SAFE_INTEGER),r[i]=o}for(let e=0;e<r.length;e++){const t=i[e];r[e]<0&&(r[e]+=t),r[e]=Fn(0,r[e],i[e])}return r}function Uu(e,t,n){let s=e[t];return(n&1<<t||null==s)&&(s=1),s}function ju(e,t,n,s,i,r){let a=t[i];const o=n[i]||1;(e&1<<i||r&1<<i||null==a)&&(a=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=s[i];return a<0&&(a+=l),a=Fn(0,a,l-1),a}function qu(e,t,n,s,i,r){let a=t[i];const o=n[i]||1;(e&1<<i||r&1<<i||null==a)&&(a=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=s[i];return a<0&&(a+=l),a=o>0?Fn(0,a,l):Fn(-1,a,l-1),a}function Hu(e,t,n){let s=n.length;for(let e=0;e<n.length;e++)if(n[e]>1){s=e;break}for(let i=s+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function Yu(e,t){let n=e.length>0?e[e.length-1]:1;for(let s=0;s<e.length-1;s++)n+=e[s]*t[s];return n}function Ku(e,t,n){let s;const i=e.shape.length;let r;return s="number"==typeof t?[t,...new Array(i-1).fill(0)]:t.length<i?t.concat(new Array(i-t.length).fill(0)):t.slice(),s.forEach((e=>{zn(-1!==e,(()=>"slice() does not support negative begin indexing."))})),r=null==n?new Array(i).fill(-1):"number"==typeof n?[n,...new Array(i-1).fill(-1)]:n.length<i?n.concat(new Array(i-n.length).fill(-1)):n,r=r.map(((t,n)=>t>=0?t:(zn(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-s[n]))),[s,r]}function Zu(e,t,n,s,i,r,a,o,l){let c;if(null==s?(c=new Array(t.length),c.fill(1)):c=s,null!=a&&a&a-1)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const h={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:i,endMask:r,ellipsisMask:a,newAxisMask:o,shrinkAxisMask:l};for(let e=0;e<h.dims;e++)u&&1<<e&o&&h.numAddAxisAfterEllipsis++,1<<e&a&&(u=!0);u||(h.ellipsisMask|=1<<h.dims,h.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let s=0;s<e.dims;s++)if(1<<s&e.ellipsisMask){const i=Math.min(t.dims-(e.dims-s)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<i;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=s}else if(1<<s&e.newAxisMask)t.finalShapeGatherIndices.push(Mu),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[s]),null!=e.end&&(t.end[n]=e.end[s]),t.strides[n]=e.strides[s],e.beginMask&1<<s&&(t.beginMask|=1<<n),e.endMask&1<<s&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<s?(t.finalShapeGatherIndices.push(Bu),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(s)),t.inputShapeGatherIndicesSparse[n]=s,n++}}(h,d);let p=!0,f=!0,m=!0;const g=[],y=[];for(let t=0;t<e.length;++t){if(0===d.strides[t])throw Error(`strides[${t}] must be non-zero`);const n=!!(d.shrinkAxisMask&1<<t),s=e[t];if(-1===s){g.push(n?1:-1);continue}const i=[d.beginMask&1<<t,d.endMask&1<<t],r=[d.strides[t]>0?0:-1,d.strides[t]>0?s:s-1];if(n&&d.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===d.strides[t];const a=!!(d.beginMask&1<<t&&d.endMask&1<<t);if(d.beginValid&&d.endValid){if(n){const e=d.begin[t]<0?s+d.begin[t]:d.begin[t];if(d.begin[t]=e,d.end[t]=d.begin[t]+1,e<0||e>=s)throw Error(`slice index ${d.begin[t]} of dimension ${t} out of bounds.`)}else d.begin[t]=Qu(d.begin[t],0,d.strides[t],s,i,r),d.end[t]=Qu(d.end[t],1,d.strides[t],s,i,r);const e=1===d.strides[t]&&0===d.begin[t]&&d.end[t]===s;p=p&&e,f=f&&(0===t&&1===d.strides[t]||e)}else p=p&&1===d.strides[t]&&a,f=f&&(0===t&&1===d.strides[t]||a);let o,l=!1;if(d.beginValid&&d.endValid?(o=d.end[t]-d.begin[t],l=!0):n?(o=1,l=!0):a&&s>=0&&(o=d.strides[t]<0?-s:s,l=!0),l){let e;e=0===o||o<0!=d.strides[t]<0?0:Math.trunc(o/d.strides[t])+(o%d.strides[t]!=0?1:0),g.push(e)}else g.push(-1)}for(let e=0;e<d.finalShapeGatherIndices.length;++e){const t=d.finalShapeGatherIndices[e];t>=0?y.push(g[t]):t===Mu&&y.push(1)}return{finalShapeSparse:y.filter(((e,t)=>d.finalShapeGatherIndices[t]!==Mu)),finalShape:y,isIdentity:p,sliceDim0:f,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function Qu(e,t,n,s,i,r){if(i[t])return n>0?r[t]:r[t+1&1];{const t=e<0?s+e:e;return t<r[0]?r[0]:t>r[1]?r[1]:t}}const Xu=cl({acos_:function(e){const t={x:al(e,"x","acos")};return Xo.runKernel(ks,t)}});const $u=cl({acosh_:function(e){const t={x:al(e,"x","acosh")};return Xo.runKernel(Es,t)}});const Ju=cl({addN_:function(e){zn(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),zn(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>al(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!Gn(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const s=t;return Xo.runKernel(Is,s)}});const eh=cl({all_:function(e,t=null,n=!1){const s={x:al(e,"x","all","bool")},i={axis:t,keepDims:n};return Xo.runKernel(Ts,s,i)}});const th=cl({any_:function(e,t=null,n=!1){const s={x:al(e,"x","any","bool")},i={axis:t,keepDims:n};return Xo.runKernel(_s,s,i)}});const nh=cl({argMax_:function(e,t=0){const n={x:al(e,"x","argMax")},s={axis:t};return Xo.runKernel(Ns,n,s)}});const sh=cl({argMin_:function(e,t=0){const n={x:al(e,"x","argMin")},s={axis:t};return Xo.runKernel(Ds,n,s)}});const ih=cl({asin_:function(e){const t={x:al(e,"x","asin")};return Xo.runKernel(Ms,t)}});const rh=cl({asinh_:function(e){const t={x:al(e,"x","asinh")};return Xo.runKernel(Bs,t)}});const ah=cl({atan_:function(e){const t={x:al(e,"x","atan")};return Xo.runKernel(Rs,t)}});const oh=cl({atan2_:function(e,t){let n=al(e,"a","atan2"),s=al(t,"b","atan2");[n,s]=Uo(n,s);const i={a:n,b:s};return Xo.runKernel(Os,i)}});const lh=cl({atanh_:function(e){const t={x:al(e,"x","atanh")};return Xo.runKernel(Fs,t)}});function ch(e,t,n,s,i="NHWC",r){return dh(e,[...t,e[3]],n,r,s,null,null,xh(i))}function uh(e,t,n,s,i,r,a="channelsLast"){const[o,l]=mh(t);let c;if("channelsLast"===a)c=[o,l,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);c=[o,l,e[1],e[1]]}return dh(e,c,n,s,i,r,!1,a)}function hh(e,t,n,s,i,r,a="NDHWC"){const[o,l,c]=gh(t);let u,h;if("NDHWC"===a)h="channelsLast",u=[o,l,c,e[4],e[4]];else{if("NCDHW"!==a)throw new Error(`Unknown dataFormat ${a}`);h="channelsFirst",u=[o,l,c,e[1],e[1]]}return ph(e,u,n,s,i,!1,h,r)}function dh(e,t,n,s,i,r,a=!1,o="channelsLast"){let[l,c,u,h]=[-1,-1,-1,-1];if("channelsLast"===o)[l,c,u,h]=e;else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);[l,h,c,u]=e}const[d,p,,f]=t,[m,g]=mh(n),[y,A]=mh(s),w=yh(d,y),b=yh(p,A),{padInfo:v,outHeight:x,outWidth:C}=function(e,t,n,s,i,r,a,o,l){let c,u,h;if("number"==typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const i=function(e,t,n,s,i){null==s&&(s=fh(e,t,n));const r=e[0],a=e[1],o=Ah((r-t+2*s)/n+1,i),l=Ah((a-t+2*s)/n+1,i);return[o,l]}([t,n],r,s,e,o);u=i[0],h=i[1]}else if("same"===e){u=Math.ceil(t/s),h=Math.ceil(n/i);const e=Math.max(0,(u-1)*s+r-t),o=Math.max(0,(h-1)*i+a-n),l=Math.floor(e/2),d=e-l,p=Math.floor(o/2);c={top:l,bottom:d,left:p,right:o-p,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-r+1)/s),h=Math.ceil((n-a+1)/i);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const d="channelsLast"===l?e[1][0]:e[2][0],p="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];c={top:d,bottom:p,left:f,right:m,type:0===d&&0===p&&0===f&&0===m?"VALID":"EXPLICIT"},u=Ah((t-r+d+p)/s+1,o),h=Ah((n-a+f+m)/i+1,o)}}return{padInfo:c,outHeight:u,outWidth:h}}(i,c,u,m,g,w,b,r,o),k=a?f*h:f;let E;return"channelsFirst"===o?E=[l,k,x,C]:"channelsLast"===o&&(E=[l,x,C,k]),{batchSize:l,dataFormat:o,inHeight:c,inWidth:u,inChannels:h,outHeight:x,outWidth:C,outChannels:k,padInfo:v,strideHeight:m,strideWidth:g,filterHeight:d,filterWidth:p,effectiveFilterHeight:w,effectiveFilterWidth:b,dilationHeight:y,dilationWidth:A,inShape:e,outShape:E,filterShape:t}}function ph(e,t,n,s,i,r=!1,a="channelsLast",o){let[l,c,u,h,d]=[-1,-1,-1,-1,-1];if("channelsLast"===a)[l,c,u,h,d]=e;else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);[l,d,c,u,h]=e}const[p,f,m,,g]=t,[y,A,w]=gh(n),[b,v,x]=gh(s),C=yh(p,b),k=yh(f,v),E=yh(m,x),{padInfo:S,outDepth:I,outHeight:T,outWidth:_}=function(e,t,n,s,i,r,a,o,l,c,u){let h,d,p,f;"valid"===e&&(e=0);if("number"==typeof e){h={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,s,i,r){null==i&&(i=fh(e,t[0],s[0]));const a=[0,0,0,n];for(let n=0;n<3;n++)e[n]+2*i>=t[n]&&(a[n]=Ah((e[n]-t[n]+2*i)/s[n]+1,r));return a}([t,n,s,1],[o,l,c],1,[i,r,a],e,u);d=m[0],p=m[1],f=m[2]}else{if("same"!==e)throw Error(`Unknown padding parameter: ${e}`);{d=Math.ceil(t/i),p=Math.ceil(n/r),f=Math.ceil(s/a);const e=(d-1)*i+o-t,u=(p-1)*r+l-n,m=(f-1)*a+c-s,g=Math.floor(e/2),y=e-g,A=Math.floor(u/2),w=u-A,b=Math.floor(m/2);h={top:A,bottom:w,left:b,right:m-b,front:g,back:y,type:"SAME"}}}return{padInfo:h,outDepth:d,outHeight:p,outWidth:f}}(i,c,u,h,y,A,w,C,k,E,o),N=r?g*d:g;let D;return"channelsFirst"===a?D=[l,N,I,T,_]:"channelsLast"===a&&(D=[l,I,T,_,N]),{batchSize:l,dataFormat:a,inDepth:c,inHeight:u,inWidth:h,inChannels:d,outDepth:I,outHeight:T,outWidth:_,outChannels:N,padInfo:S,strideDepth:y,strideHeight:A,strideWidth:w,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:C,effectiveFilterHeight:k,effectiveFilterWidth:E,dilationDepth:b,dilationHeight:v,dilationWidth:x,inShape:e,outShape:D,filterShape:t}}function fh(e,t,n,s=1){const i=yh(t,s);return Math.floor((e[0]*(n-1)-n+i)/2)}function mh(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function gh(e){return"number"==typeof e?[e,e,e]:e}function yh(e,t){return t<=1?e:e+(e-1)*(t-1)}function Ah(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function wh(e){const[t,n,s]=mh(e);return 1===t&&1===n&&1===s}function bh(e,t){return wh(e)||wh(t)}function vh(e){return mh(e).every((e=>e>0))}function xh(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function Ch(e,t,n){if(null!=n){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"==typeof t)zn(Un(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{zn(Un(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const kh=cl({reshape_:function(e,t){const n={x:al(e,"x","reshape","string_or_numeric")},s={shape:t};return Xo.runKernel(Rr,n,s)}});const Eh=cl({avgPool_:function(e,t,n,s,i){const r=al(e,"x","avgPool","float32");zn(bh(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let a=r,o=!1;3===r.rank&&(o=!0,a=kh(r,[1,r.shape[0],r.shape[1],r.shape[2]])),zn(4===a.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`)),Ch("avgPool",s,i);const l={x:a},c={filterSize:t,strides:n,pad:s,dimRoundingMode:i};let u=Xo.runKernel(Ls,l,c);return u=Ec(u,r.dtype),o?kh(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Sh=cl({avgPool3d_:function(e,t,n,s,i,r="NDHWC"){const a=al(e,"x","avgPool3d","float32");let o=a,l=!1;4===a.rank&&(l=!0,o=kh(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),zn(5===o.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`)),zn("NDHWC"===r,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${r}`)),zn("number"==typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`)),Ch("avgPool3d",s,i);const c={x:o},u={filterSize:t,strides:n,pad:s,dimRoundingMode:i,dataFormat:r};let h=Xo.runKernel(Vs,c,u);return h=Ec(h,o.dtype),l?kh(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const Ih=cl({concat_:function(e,t=0){zn(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=ol(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return Sc(n[0]);const s=n,i={axis:t};return Xo.runKernel(Xs,s,i)}});const Th=cl({matMul_:function(e,t,n=!1,s=!1){let i=al(e,"a","matMul"),r=al(t,"b","matMul");[i,r]=Uo(i,r);const a={a:i,b:r},o={transposeA:n,transposeB:s};return Xo.runKernel(Ws,a,o)}});const _h=cl({sigmoid_:function(e){const t={x:al(e,"x","sigmoid","float32")};return Xo.runKernel($r,t)}});const Nh=cl({slice_:function(e,t,n){const s=al(e,"x","slice","string_or_numeric");if(0===s.rank)throw new Error("Slicing scalar is not possible");const i={x:s},r={begin:t,size:n};return Xo.runKernel(Kr,i,r)}});const Dh=cl({tanh_:function(e){const t={x:al(e,"x","tanh","float32")};return Xo.runKernel(wa,t)}});const Mh=cl({basicLSTMCell_:function(e,t,n,s,i,r){const a=al(e,"forgetBias","basicLSTMCell"),o=al(t,"lstmKernel","basicLSTMCell"),l=al(n,"lstmBias","basicLSTMCell"),c=al(s,"data","basicLSTMCell"),u=al(i,"c","basicLSTMCell"),h=al(r,"h","basicLSTMCell"),d=Ih([c,h],1),p=Th(d,o),f=Tc(p,l),m=f.shape[0],g=f.shape[1]/4,y=[m,g],A=Nh(f,[0,0],y),w=Nh(f,[0,g],y),b=Nh(f,[0,2*g],y),v=Nh(f,[0,3*g],y),x=Tc(Dc(_h(A),Dh(w)),Dc(u,_h(Tc(a,b))));return[x,Dc(Dh(x),_h(v))]}});const Bh=cl({batchToSpaceND_:function(e,t,n){const s=al(e,"x","batchToSpaceND"),i=t.reduce(((e,t)=>e*t));zn(s.rank>=1+t.length,(()=>`input rank is ${s.rank} but should be > than blockShape.length ${t.length}`)),zn(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),zn(s.shape[0]%i==0,(()=>`input tensor batch is ${s.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${i}`));const r={x:s},a={blockShape:t,crops:n};return Xo.runKernel(Gs,r,a)}});const Rh=cl({batchNorm_:function(e,t,n,s,i,r){null==r&&(r=.001);const a=al(e,"x","batchNorm"),o=al(t,"mean","batchNorm"),l=al(n,"variance","batchNorm");let c,u;null!=i&&(c=al(i,"scale","batchNorm")),null!=s&&(u=al(s,"offset","batchNorm")),zn(o.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),zn(null==u||o.rank===u.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),zn(null==c||o.rank===c.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const h={x:function(e){let t;return t=0===e.rank||1===e.rank?kh(e,[1,1,1,e.size]):2===e.rank?kh(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?kh(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(a),scale:c,offset:u,mean:o,variance:l},d={varianceEpsilon:r},p=Xo.runKernel(Bi,h,d);return kh(p,a.shape)}});const Fh=cl({batchNorm2d_:function(e,t,n,s,i,r){const a=al(e,"x","batchNorm"),o=al(t,"mean","batchNorm"),l=al(n,"variance","batchNorm");let c,u;return null!=i&&(c=al(i,"scale","batchNorm")),null!=s&&(u=al(s,"offset","batchNorm")),zn(2===a.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`)),zn(2===o.rank||1===o.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`)),zn(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=c&&zn(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`)),null!=u&&zn(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`)),Rh(a,o,l,u,c,r)}});const Oh=cl({batchNorm3d_:function(e,t,n,s,i,r){const a=al(e,"x","batchNorm"),o=al(t,"mean","batchNorm"),l=al(n,"variance","batchNorm");let c,u;return null!=i&&(c=al(i,"scale","batchNorm")),null!=s&&(u=al(s,"offset","batchNorm")),zn(3===a.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`)),zn(3===o.rank||1===o.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`)),zn(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=c&&zn(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`)),null!=u&&zn(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`)),Rh(a,o,l,u,c,r)}});const Lh=cl({batchNorm4d_:function(e,t,n,s,i,r){const a=al(e,"x","batchNorm"),o=al(t,"mean","batchNorm"),l=al(n,"variance","batchNorm");let c,u;return null!=i&&(c=al(i,"scale","batchNorm")),null!=s&&(u=al(s,"offset","batchNorm")),zn(4===a.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`)),zn(4===o.rank||1===o.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`)),zn(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=c&&zn(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`)),null!=u&&zn(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`)),Rh(a,o,l,u,c,r)}});const zh=cl({bincount_:function(e,t,n){const s=al(e,"x","bincount"),i=al(t,"weights","bincount");zn("int32"===s.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${s.dtype}`)),zn(n>=0,(()=>`size must be non-negative, but got ${n}.`)),zn(i.size===s.size||0===i.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${s.shape}, weights shape: ${i.shape}.`));const r={x:s,weights:i},a={size:n};return Xo.runKernel(Us,r,a)}});const Vh=cl({bitwiseAnd_:function(e,t){const n=al(e,"x","bitwiseAnd"),s=al(t,"y","bitwiseAnd");if(!Gn(n.shape,s.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${s.shape}`);if("int32"!==n.dtype||"int32"!==s.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${s.dtype}`);const i={a:n,b:s};return Xo.runKernel(js,i)}});const Ph=cl({broadcastArgs_:function(e,t){const n=al(e,"s0","broadcastArgs","int32"),s=al(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==s.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${s.rank}`);const i={s0:n,s1:s};return Xo.runKernel(qs,i)}});const Wh=cl({broadcastTo_:function(e,t){let n=al(e,"broadcastTo","x");const s=n.shape;if(hs(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=kh(n,e)}const i=n.shape,r=Array.from(t);for(let e=t.length-1;e>=0;e--)if(i[e]===t[e])r[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${t}].`);if(0===r.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return Sc(n);const a={x:n},o={reps:r};return Xo.runKernel(ba,a,o)}});const Gh=cl({ceil_:function(e){const t={x:al(e,"x","ceil","float32")};return Xo.runKernel(Ys,t)}});const Uh=cl({clipByValue_:function(e,t,n){const s=al(e,"x","clipByValue");if(zn(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`)),t===n)return jc(s.shape,t,s.dtype);const i={x:s},r={clipValueMin:t,clipValueMax:n};return Xo.runKernel(Ks,i,r)}});const jh=cl({concat1d_:function(e){return Ih(e,0)}});const qh=cl({concat2d_:function(e,t){return Ih(e,t)}});const Hh=cl({concat3d_:function(e,t){return Ih(e,t)}});const Yh=cl({concat4d_:function(e,t){return Ih(e,t)}});const Kh=cl({conv2d_:function(e,t,n,s,i="NHWC",r=[1,1],a){const o=al(e,"x","conv2d","float32"),l=al(t,"filter","conv2d","float32");let c=o,u=!1;3===o.rank&&(u=!0,c=kh(o,[1,o.shape[0],o.shape[1],o.shape[2]])),zn(4===c.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`)),zn(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),Ch("conv2d",s,a);const h="NHWC"===i?c.shape[3]:c.shape[1];zn(h===l.shape[2],(()=>`Error in conv2d: depth of input (${h}) must match input depth for filter ${l.shape[2]}.`)),zn(bh(n,r),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${r}'`)),zn(vh(r),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),zn(vh(n),(()=>"Error in conv2D: Strides should be larger than 0."));const d={x:c,filter:l},p={strides:n,pad:s,dataFormat:i,dilations:r,dimRoundingMode:a},f=Xo.runKernel($s,d,p);return u?kh(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Zh=cl({conv1d_:function(e,t,n,s,i="NWC",r=1,a){const o=al(e,"x","conv1d"),l=al(t,"filter","conv1d");let c=o,u=!1;2===o.rank&&(u=!0,c=kh(o,[1,o.shape[0],o.shape[1]])),zn(3===c.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`)),zn(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),Ch("conv1d",s,a),zn(c.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),zn(bh(n,r),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${r}'`)),zn(vh(r),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),zn(vh(n),(()=>"Error in conv1D: Stride should be larger than 0.")),zn("NWC"===i,(()=>`Error in conv1d: got dataFormat of ${i} but only NWC is currently supported.`));const h=kh(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=kh(c,[c.shape[0],1,c.shape[1],c.shape[2]]),p=Kh(d,h,[1,n],s,"NHWC",[1,r],a);return kh(p,u?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});const Qh=cl({conv2DBackpropInput_:function(e,t,n,s,i,r="NHWC",a){zn(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let o=e,l=t,c=!1;3===t.rank&&(c=!0,l=kh(t,[1,t.shape[0],t.shape[1],t.shape[2]]),o=[1,e[0],e[1],e[2]]),zn(4===o.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`)),zn(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),zn(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const u="NHWC"===r?o[3]:o[1],h="NHWC"===r?l.shape[3]:l.shape[1];zn(u===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`)),zn(h===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${h}) must match output depth for filter ${n.shape[3]}.`)),Ch("conv2dDerInput",i,a);const d={dy:l,filter:n},p={strides:s,pad:i,dataFormat:r,dimRoundingMode:a,inputShape:o},f=Xo.runKernel(ei,d,p);return c?kh(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Xh=cl({conv2dTranspose_:function(e,t,n,s,i,r){const a=al(e,"x","conv2dTranspose"),o=al(t,"filter","conv2dTranspose");return Qh(n,a,o,s,i,"NHWC",r)}});const $h=cl({conv3d_:function(e,t,n,s,i="NDHWC",r=[1,1,1]){const a=al(e,"x","conv3d"),o=al(t,"filter","conv3d");let l=a,c=!1;4===a.rank&&(c=!0,l=kh(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),zn(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),zn(5===o.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`)),zn(l.shape[4]===o.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`)),zn(bh(n,r),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${r}'`)),zn("NDHWC"===i,(()=>`Error in conv3d: got dataFormat of ${i} but only NDHWC is currently supported.`)),zn(vh(r),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),zn(vh(n),(()=>"Error in conv3D: Strides should be larger than 0."));const u={x:l,filter:o},h={strides:n,pad:s,dataFormat:i,dilations:r},d=Xo.runKernel(ti,u,h);return c?kh(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Jh=cl({conv3DBackpropInput_:function(e,t,n,s,i){zn(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let r=e,a=t,o=!1;4===t.rank&&(o=!0,a=kh(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),r=[1,e[0],e[1],e[2],e[3]]);const l=r[4],c=a.shape[4];zn(5===r.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${r.length}.`)),zn(5===a.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`)),zn(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),zn(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),zn(c===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`));const u={dy:a,filter:n},h={pad:i,strides:s,inputShape:r},d=Xo.runKernel(si,u,h);return o?kh(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const ed=cl({conv3dTranspose_:function(e,t,n,s,i){const r=al(e,"x","conv3dTranspose"),a=al(t,"filter","conv3dTranspose");return Jh(n,r,a,s,i)}});const td=cl({cos_:function(e){const t={x:al(e,"x","cos","float32")};return Xo.runKernel(ii,t)}});const nd=cl({cosh_:function(e){const t={x:al(e,"x","cosh","float32")};return Xo.runKernel(ri,t)}});const sd=cl({cumprod_:function(e,t=0,n=!1,s=!1){const i={x:al(e,"x","cumprod")},r={axis:t,exclusive:n,reverse:s};return Xo.runKernel(ai,i,r)}});const id=cl({cumsum_:function(e,t=0,n=!1,s=!1){const i={x:al(e,"x","cumsum")},r={axis:t,exclusive:n,reverse:s};return Xo.runKernel(oi,i,r)}});const rd=cl({denseBincount_:function(e,t,n,s=!1){const i=al(e,"x","denseBincount"),r=al(t,"weights","denseBincount");zn("int32"===i.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${i.dtype}`)),zn(i.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${i.rank}.`)),zn(n>=0,(()=>`size must be non-negative, but got ${n}.`)),zn(r.size===i.size||0===r.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${i.shape}, weights shape: ${r.shape}.`));const a={x:i,weights:r},o={size:n,binaryOutput:s};return Xo.runKernel(ci,a,o)}});const ad=cl({depthToSpace_:function(e,t,n="NHWC"){const s=al(e,"x","depthToSpace","float32"),i="NHWC"===n?s.shape[1]:s.shape[2],r="NHWC"===n?s.shape[2]:s.shape[3],a="NHWC"===n?s.shape[3]:s.shape[1];zn(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),zn(i*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${i} and ${t}  for depthToSpace with input shape\n    ${s.shape}`)),zn(r*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${r} and ${t} for depthToSpace with input shape\n        ${s.shape}`)),zn(a%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${a} for depthToSpace with input shape ${s.shape}`));const o={x:s},l={blockSize:t,dataFormat:n};return Xo.runKernel(ui,o,l)}});const od=cl({depthwiseConv2d_:function(e,t,n,s,i="NHWC",r=[1,1],a){const o=al(e,"x","depthwiseConv2d","float32"),l=al(t,"filter","depthwiseConv2d","float32");let c=o,u=!1;3===o.rank&&(u=!0,c=kh(o,[1,o.shape[0],o.shape[1],o.shape[2]])),zn(4===c.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`)),zn(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`));const h="NHWC"===i?c.shape[3]:c.shape[1];zn(h===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${h}) must match the inChannels dimension in filter ${l.shape[2]}.`)),Ch("depthwiseConv2d",s,a);const d={x:c,filter:l},p={strides:n,pad:s,dataFormat:i,dilations:r,dimRoundingMode:a},f=Xo.runKernel(hi,d,p);return u?kh(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const ld=cl({diag_:function(e){const t={x:al(e,"x","diag")};return Xo.runKernel(fi,t)}});const cd=cl({dilation2d_:function(e,t,n,s,i=[1,1],r="NHWC"){const a=al(e,"x","dilation2d"),o=al(t,"filter","dilation2d");zn(3===a.rank||4===a.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${a.rank}.`)),zn(3===o.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`)),zn("NHWC"===r,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${r}`));let l=a,c=!1;3===a.rank&&(l=kh(a,[1,a.shape[0],a.shape[1],a.shape[2]]),c=!0),zn(l.shape[3]===o.shape[2],(()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${o.shape[2]}`));const u={x:l,filter:o},h={strides:n,pad:s,dilations:i},d=Xo.runKernel(mi,u,h);return c?kh(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const ud=cl({equal_:function(e,t){let n=al(e,"a","equal","string_or_numeric"),s=al(t,"b","equal","string_or_numeric");[n,s]=Uo(n,s),$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel(ki,i)}});const hd=cl({where_:function(e,t,n){const s=al(t,"a","where"),i=al(n,"b","where"),r=al(e,"condition","where","bool"),a=$c($c(r.shape,s.shape),i.shape),o={condition:Wh(r,a),t:Wh(s,a),e:Wh(i,a)};return Xo.runKernel(Hr,o)}});const dd=cl({divNoNan_:function(e,t){let n=al(e,"a","div"),s=al(t,"b","div");[n,s]=Uo(n,s);const i=Nc(n,s),r=Rc(i),a=ud(s,r);return hd(a,r,i)}});const pd=cl({dot_:function(e,t){const n=al(e,"t1","dot"),s=al(t,"t2","dot");zn(!(1!==n.rank&&2!==n.rank||1!==s.rank&&2!==s.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${s.rank}.`));const i=1===n.rank?n.size:n.shape[1],r=1===s.rank?s.size:s.shape[0];if(zn(i===r,(()=>`Error in dot: inner dimensions of inputs must match, but got ${i} and ${r}.`)),1===n.rank&&1===s.rank){const e=kh(n,[1,-1]),t=kh(s,[-1,1]),i=Th(e,t);return kh(i,[])}if(1===n.rank&&2===s.rank){const e=kh(n,[1,-1]),t=kh(s,[s.shape[0],s.shape[1]]),i=Th(e,t);return kh(i,[i.size])}if(2===n.rank&&1===s.rank){const e=kh(s,[-1,1]),t=Th(n,e);return kh(t,[t.size])}{const e=kh(s,[s.shape[0],s.shape[1]]);return Th(n,e)}}});const fd=cl({einsum_:function(e,...t){const n=t.map(((e,t)=>al(e,`tensors${t}`,"einsum"))),s={equation:e};return Xo.runKernel(bi,n,s)}});const md=cl({elu_:function(e){const t={x:al(e,"x","elu","float32")};return Xo.runKernel(vi,t)}});const gd=cl({ensureShape_:function(e,t){const n=al(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}});const yd=cl({erf_:function(e){let t=al(e,"x","erf");zn("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=Ec(t,"float32"));const n={x:t};return Xo.runKernel(Ci,n)}});function Ad(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function wd(e,t,n){const s=e.length+t.length,i=[];let r=0,a=0;for(let o=0;o<s;o++)-1===n.indexOf(o)?i.push(e[r++]):i.push(t[a++]);return i}function bd(e,t){const n=[],s=e.length;for(let i=0;i<s;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map((t=>e[t]))]}function vd(e,t){return wd(e,t.map((e=>1)),t)}function xd(e,t,n){zn(Ad(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function Cd(e,t){if(Ad(e,t))return null;const n=[];for(let s=0;s<t;++s)-1===e.indexOf(s)&&n.push(s);return e.forEach((e=>n.push(e))),n}function kd(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function Ed(e,t){const n=[];for(let s=t-e;s<t;++s)n.push(s);return n}const Sd=cl({max_:function(e,t=null,n=!1){const s={x:al(e,"x","max")},i={reductionIndices:t,keepDims:n};return Xo.runKernel(tr,s,i)}});const Id=cl({min_:function(e,t=null,n=!1){const s={x:al(e,"x","min")},i={axis:t,keepDims:n};return Xo.runKernel(cr,s,i)}});const Td=cl({sum_:function(e,t=null,n=!1){let s=al(e,"x","sum");"bool"===s.dtype&&(s=Ec(s,"int32"));const i={x:s},r={axis:t,keepDims:n};return Xo.runKernel(ta,i,r)}});function _d(e,t,n=null){if(0===e.rank)return Zc(e);if(1!==e.rank&&null===n)return _d(kh(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Td(Zc(e),n);if(t===1/0)return Sd(Zc(e),n);if(t===-1/0)return Id(Zc(e),n);if("euclidean"===t||2===t)return Mc(Td(Hc(Zc(e),Oc(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return Sd(Td(Zc(e),n[0]),n[1]-1);if(t===1/0)return Sd(Td(Zc(e),n[1]),n[0]);if(t===-1/0)return Id(Td(Zc(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Mc(Td(Bc(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Nd=cl({norm_:function(e,t="euclidean",n=null,s=!1){const i=_d(e=al(e,"x","norm"),t,n);let r=i.shape;if(s){const t=Kn(n,e.shape);r=vd(i.shape,t)}return kh(i,r)}});const Dd=cl({euclideanNorm_:function(e,t=null,n=!1){return Nd(e,"euclidean",t,n)}});const Md=cl({exp_:function(e){const t={x:al(e,"x","exp")};return Xo.runKernel(Ei,t)}});const Bd=cl({expandDims_:function(e,t=0){const n=al(e,"x","expandDims","string_or_numeric");zn(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const s={input:n},i={dim:t};return Xo.runKernel(Si,s,i)}});const Rd=cl({expm1_:function(e){const t={x:al(e,"x","expm1")};return Xo.runKernel(Ii,t)}});const Fd=cl({tile_:function(e,t){const n=al(e,"x","tile","string_or_numeric");zn(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const s={x:n},i={reps:t};return Xo.runKernel(ba,s,i)}});const Od=cl({eye_:function(e,t,n,s="float32"){null==t&&(t=e);const i=kc([e,t],s),r=e<=t?e:t;for(let e=0;e<r;++e)i.set(1,e,e);const a=kh(i.toTensor(),[e,t]);if(null==n)return a;if(1===n.length)return Fd(Bd(a,0),[n[0],1,1]);if(2===n.length)return Fd(Bd(Bd(a,0),0),[n[0],n[1],1,1]);if(3===n.length)return Fd(Bd(Bd(Bd(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const Ld=cl({floor_:function(e){const t={x:al(e,"x","floor","float32")};return Xo.runKernel(Di,t)}});const zd=cl({gather_:function(e,t,n=0,s=0){const i={x:al(e,"x","gather"),indices:al(t,"indices","gather","int32")},r={axis:n,batchDims:s};return Xo.runKernel(Ri,i,r)}});const Vd=cl({greater_:function(e,t){let n=al(e,"a","greater","string_or_numeric"),s=al(t,"b","greater","string_or_numeric");[n,s]=Uo(n,s),$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel(Oi,i)}});const Pd=cl({greaterEqual_:function(e,t){let n=al(e,"a","greaterEqual","string_or_numeric"),s=al(t,"b","greaterEqual","string_or_numeric");[n,s]=Uo(n,s),$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel(Li,i)}});const Wd=cl({imag_:function(e){const t={input:al(e,"input","imag")};return Xo.runKernel(Pi,t)}});const Gd=cl({isFinite_:function(e){const t={x:al(e,"x","isFinite")};return Xo.runKernel(Wi,t)}});const Ud=cl({isInf_:function(e){const t={x:al(e,"x","isInf")};return Xo.runKernel(Gi,t)}});const jd=cl({isNaN_:function(e){const t={x:al(e,"x","isNaN")};return Xo.runKernel(Ui,t)}});const qd=cl({leakyRelu_:function(e,t=.2){const n={x:al(e,"x","leakyRelu")},s={alpha:t};return Xo.runKernel(ji,n,s)}});const Hd=cl({less_:function(e,t){let n=al(e,"a","less","string_or_numeric"),s=al(t,"b","less","string_or_numeric");[n,s]=Uo(n,s),$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel(qi,i)}});const Yd=cl({lessEqual_:function(e,t){let n=al(e,"a","lessEqual","string_or_numeric"),s=al(t,"b","lessEqual","string_or_numeric");[n,s]=Uo(n,s),$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel(Hi,i)}});function Kd(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const s={start:e,stop:t,num:n};return Xo.runKernel(Yi,{},s)}const Zd=cl({localResponseNormalization_:function(e,t=5,n=1,s=1,i=.5){const r=al(e,"x","localResponseNormalization");zn(4===r.rank||3===r.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${r.rank}.`)),zn(Un(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let a=r,o=!1;3===r.rank&&(o=!0,a=kh(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const l={x:a},c={depthRadius:t,bias:n,alpha:s,beta:i},u=Xo.runKernel(Ji,l,c);return o?kh(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Qd=cl({log_:function(e){const t={x:al(e,"x","log","float32")};return Xo.runKernel(Ki,t)}});const Xd=cl({log1p_:function(e){const t={x:al(e,"x","log1p")};return Xo.runKernel(Zi,t)}});const $d=cl({neg_:function(e){const t={x:al(e,"x","neg")};return Xo.runKernel(mr,t)}});const Jd=cl({softplus_:function(e){const t={x:al(e,"x","softplus")};return Xo.runKernel(Jr,t)}});const ep=cl({logSigmoid_:function(e){const t=al(e,"x","logSigmoid");return Fc((e=>({value:$d(Jd($d(e))),gradFunc:t=>Dc(t,_h($d(e)))})))(t)}});const tp=cl({logSoftmax_:function(e,t=-1){const n=al(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return Fc(((e,n)=>{const s=Sd(e,t,!0),i=Yc(e,s),r=Yc(Ec(i,"float32"),Qd(Td(Md(i),t,!0)));n([r]);return{value:r,gradFunc:(e,n)=>{const[s]=n,i=Md(s);return Yc(e,Dc(Td(e,t,!0),i))}}}))(n)}});const np=cl({logSumExp_:function(e,t=null,n=!1){const s=al(e,"x","logSumExp"),i=Kn(t,s.shape),r=Sd(s,i,!0),a=Yc(s,r),o=Md(a),l=Td(o,i),c=Qd(l),u=Tc(kh(r,c.shape),c);if(n){const e=vd(u.shape,i);return kh(u,e)}return u}});const sp=cl({logicalAnd_:function(e,t){const n=al(e,"a","logicalAnd","bool"),s=al(t,"b","logicalAnd","bool");$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel(Qi,i)}});const ip=cl({logicalNot_:function(e){const t={x:al(e,"x","logicalNot","bool")};return Xo.runKernel(Xi,t)}});const rp=cl({logicalOr_:function(e,t){const n=al(e,"a","logicalOr","bool"),s=al(t,"b","logicalOr","bool");$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel($i,i)}});const ap=cl({logicalXor_:function(e,t){const n=al(e,"a","logicalXor","bool"),s=al(t,"b","logicalXor","bool");return $c(n.shape,s.shape),sp(rp(e,t),ip(sp(e,t)))}}),op=2147483648;const lp=cl({searchSorted_:function(e,t,n="left"){const s=al(e,"sortedSequence","searchSorted"),i=al(t,"values","searchSorted"),r=s.shape[s.shape.length-1],a=i.shape[i.shape.length-1],o=kh(s,[-1,r]),l=kh(i,[-1,a]);if(o.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(o.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Wn(l.shape)>=op)throw new Error("values tensor size must less than 2147483648");if(o.shape[1]>=op)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${o.shape[1]}`);const c={sortedSequence:o,values:l},u={side:n};return Xo.runKernel(qr,c,u)}});function cp(e,t){return lp(e,t,"left")}const up=cl({maxPool_:function(e,t,n,s,i){const r=al(e,"x","maxPool");let a=r,o=!1;3===r.rank&&(o=!0,a=kh(r,[1,r.shape[0],r.shape[1],r.shape[2]])),zn(4===a.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`)),zn(bh(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),Ch("maxPool",s,i);const l={x:a},c={filterSize:t,strides:n,pad:s,dimRoundingMode:i},u=Xo.runKernel(sr,l,c);return o?kh(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const hp=cl({maxPool3d_:function(e,t=[1,1,1],n,s,i,r="NDHWC"){const a=al(e,"x","maxPool3d");let o=a,l=!1;4===a.rank&&(l=!0,o=kh(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),zn(5===o.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`)),zn("NDHWC"===r,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${r}`)),Ch("maxPool3d",s,i);const c={x:o},u={filterSize:t,strides:n,pad:s,dimRoundingMode:i,dataFormat:r},h=Xo.runKernel(rr,c,u);return l?kh(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const dp=cl({maxPoolWithArgmax_:function(e,t,n,s,i=!1){const r={x:al(e,"x","maxPoolWithArgmax")},a={filterSize:t,strides:n,pad:s,includeBatchInIndex:i},o=Xo.runKernel(or,r,a);return{result:o[0],indexes:o[1]}}});const pp=cl({mean_:function(e,t=null,n=!1){const s={x:al(e,"x","mean")},i={axis:t,keepDims:n};return Xo.runKernel(lr,s,i)}});function fp(e,t="float32"){if(hs(e),"complex64"===t){const t=fp(e,"float32"),n=fp(e,"float32");return ul(t,n)}const n=cs(Wn(e),t);return Xo.makeTensor(n,e,t)}function mp(e,t="float32"){if(hs(e),"complex64"===t){const t=mp(e,"float32"),n=fp(e,"float32");return ul(t,n)}const n=ls(Wn(e),t);return Xo.makeTensor(n,e,t)}function gp(e,t,{indexing:n="xy"}={}){if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let s=al(e,"x","meshgrid",e instanceof Eo?e.dtype:"float32");if(void 0===t)return[s];let i=al(t,"y","meshgrid",t instanceof Eo?t.dtype:"float32");const r=Wn(s.shape),a=Wn(i.shape);return"xy"===n?(s=kh(s,[1,-1]),i=kh(i,[-1,1]),[Th(mp([a,1],s.dtype),s),Th(i,mp([1,r],i.dtype))]):(s=kh(s,[-1,1]),i=kh(i,[1,-1]),[Th(s,mp([1,a],s.dtype)),Th(mp([r,1],i.dtype),i)])}const yp=cl({minimum_:function(e,t){let n=al(e,"a","minimum"),s=al(t,"b","minimum");[n,s]=Uo(n,s),"bool"===n.dtype&&(n=Ec(n,"int32"),s=Ec(s,"int32")),$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel(ur,i)}});const Ap=cl({mirrorPad_:function(e,t,n){zn("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const s=al(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");zn(t.length===s.rank,(()=>`Padding doesn't match input. Must be ${s.rank}. Got ${t.length}.`));const i="reflect"===n?1:0;for(let e=0;e<s.rank;e++)zn(2===t[e].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),zn(t[e][0]>=0&&t[e][0]<=s.shape[e]-i&&t[e][1]>=0&&t[e][1]<=s.shape[e]-i,(()=>`Padding in dimension ${e} cannot be greater than or equal to ${s.shape[e]-i} or less than 0 for input of shape ${s.shape}`));const r={paddings:t,mode:n},a={x:s};return Xo.runKernel(hr,a,r)}});const wp=cl({mod_:function(e,t){let n=al(e,"a","mod"),s=al(t,"b","mod");[n,s]=Uo(n,s);const i={a:n,b:s};return Xo.runKernel(dr,i)}});const bp=cl({moments_:function(e,t=null,n=!1){const s=Kn(t,(e=al(e,"x","moments")).shape),i=pp(e,s,n);let r=i.shape;n||(r=vd(i.shape,s));const a=Bc(Yc(Ec(e,"float32"),kh(i,r)));return{mean:i,variance:pp(a,s,n)}}});const vp=cl({multiRNNCell_:function(e,t,n,s){const i=al(t,"data","multiRNNCell"),r=ol(n,"c","multiRNNCell"),a=ol(s,"h","multiRNNCell");let o=i;const l=[];for(let t=0;t<e.length;t++){const n=e[t](o,r[t],a[t]);l.push(n[0]),l.push(n[1]),o=n[1]}const c=[],u=[];for(let e=0;e<l.length;e+=2)c.push(l[e]),u.push(l[e+1]);return[c,u]}});const xp=cl({multinomial_:function(e,t,n,s=!1){const i=al(e,"logits","multinomial"),r=i.size,a=i.rank;if(r<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${r}.`);if(a>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${a}`);n=n||Math.random();const o={logits:1===a?kh(i,[1,-1]):i},l={numSamples:t,seed:n,normalized:s},c=Xo.runKernel(pr,o,l);return 1===a?kh(c,[c.size]):c}});const Cp=cl({notEqual_:function(e,t){let n=al(e,"a","notEqual","string_or_numeric"),s=al(t,"b","notEqual","string_or_numeric");[n,s]=Uo(n,s),$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel(gr,i)}});const kp=cl({oneHot_:function(e,t,n=1,s=0,i="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const r={indices:al(e,"indices","oneHot","int32")},a={dtype:i,depth:t,onValue:n,offValue:s};return Xo.runKernel(vr,r,a)}});const Ep=cl({onesLike_:function(e){const t={x:al(e,"x","onesLike")};return Xo.runKernel(br,t)}});const Sp=cl({outerProduct_:function(e,t){const n=al(e,"v1","outerProduct"),s=al(t,"v2","outerProduct");zn(1===n.rank&&1===s.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${s.rank}.`));const i=kh(n,[-1,1]),r=kh(s,[1,-1]);return Th(i,r)}});const Ip=cl({pad_:function(e,t,n=0){const s=al(e,"x","pad");if(0===s.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const i={paddings:t,constantValue:n},r={x:s};return Xo.runKernel(Cr,r,i)}});const Tp=cl({pad1d_:function(e,t,n=0){return zn(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),Ip(e,[t],n)}});const _p=cl({pad2d_:function(e,t,n=0){return zn(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Ip(e,t,n)}});const Np=cl({pad3d_:function(e,t,n=0){return zn(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Ip(e,t,n)}});const Dp=cl({pad4d_:function(e,t,n=0){return zn(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Ip(e,t,n)}});const Mp=cl({spaceToBatchND_:function(e,t,n){const s=al(e,"x","spaceToBatchND");zn(s.rank>=1+t.length,(()=>`input rank ${s.rank} should be > than [blockShape] ${t.length}`)),zn(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),zn(s.shape.reduce(((e,s,i)=>i>0&&i<=t.length?e&&(s+n[i-1][0]+n[i-1][1])%t[i-1]==0:e),!0),(()=>`input spatial dimensions ${s.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const i={x:s},r={blockShape:t,paddings:n};return Xo.runKernel(na,i,r)}});const Bp=cl({pool_:function(e,t,n,s,i,r,a){null==i&&(i=[1,1]),null==r&&(r=1),0===s&&(s="valid");const o=al(e,"x","maxPool");let l=o,c=!1;3===o.rank&&(c=!0,l=kh(o,[1,o.shape[0],o.shape[1],o.shape[2]])),zn(bh(r,i),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${r} and dilations '${i}'`));const u=uh(l.shape,t,r,i,s),h=[u.dilationHeight,u.dilationWidth];let d;d="same"===s?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),s=n.map((e=>e-1)),i=s.map((e=>Math.floor(e/2))),r=s.map(((e,t)=>e-i[t]));return s.map(((e,t)=>[i[t],r[t]]))}([u.filterHeight,u.filterWidth],h):[[0,0],[0,0]];const p=1===h[0]&&1===h[1],[f,m]=function(e,t,n){const s=n.map((e=>e[0])),i=n.map((e=>e[1])),r=e.concat(s,i),a=t.map(((e,t)=>(e-r[t]%e)%e)),o=i.map(((e,t)=>e+a[t])),l=t.map(((e,t)=>[s[t],o[t]])),c=t.map(((e,t)=>[0,a[t]]));return[l,c]}([u.inHeight,u.inWidth],h,d),g=p?s:"valid",y=p?l:Mp(l,h,f),A=("avg"===n?()=>Eh(y,t,r,g,a):()=>up(y,t,r,g,a))(),w=p?A:Bh(A,h,m);return c?kh(w,[w.shape[1],w.shape[2],w.shape[3]]):w}});const Rp=cl({prelu_:function(e,t){const n={x:al(e,"x","prelu"),alpha:al(t,"alpha","prelu")};return Xo.runKernel(Er,n)}});const Fp=cl({prod_:function(e,t=null,n=!1){let s=al(e,"x","prod");"bool"===s.dtype&&(s=Ec(s,"int32"));const i={x:s},r={axis:t,keepDims:n};return Xo.runKernel(Sr,i,r)}});const Op=cl({raggedGather_:function(e,t,n,s){const i={paramsNestedSplits:e.map(((e,t)=>al(e,`tensors${t}`,"raggedGather","int32"))),paramsDenseValues:al(t,"paramsDenseValues","raggedGather"),indices:al(n,"indices","raggedGather","int32")},r={outputRaggedRank:s},a=Xo.runKernel(Ir,i,r);return{outputNestedSplits:a.slice(0,a.length-1),outputDenseValues:a[a.length-1]}}});const Lp=cl({raggedRange_:function(e,t,n){const s=al(e,"starts","raggedRange"),i={starts:s,limits:al(t,"limits","raggedRange",s.dtype),deltas:al(n,"deltas","raggedRange",s.dtype)},r=Xo.runKernel(Tr,i);return{rtNestedSplits:r[0],rtDenseValues:r[1]}}});const zp=cl({raggedTensorToTensor_:function(e,t,n,s,i){const r=al(e,"shape","raggedTensorToTensor","int32"),a=al(t,"values","raggedTensorToTensor"),o={shape:r,values:a,defaultValue:al(n,"defaultValue","raggedTensorToTensor",a.dtype),rowPartitionTensors:s.map(((e,t)=>al(e,`tensors${t}`,"raggedTensorToTensor","int32")))},l={rowPartitionTypes:i};return Xo.runKernel(_r,o,l)}});const Vp=cl({rand_:function(e,t,n){hs(e);const s=Wn(e);let i=null;if(null==n||"float32"===n)i=new Float32Array(s);else if("int32"===n)i=new Int32Array(s);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);i=new Uint8Array(s)}for(let e=0;e<s;e++)i[e]=t();return Xo.makeTensor(i,e,n)}});var Pp=__webpack_require__(2183);class Wp{constructor(e,t,n,s,i){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const r=i||Math.random();this.random=Pp.alea(r.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let s,i,r;do{s=2*this.random()-1,i=2*this.random()-1,r=s*s+i*i}while(r>=1||0===r);const a=Math.sqrt(-2*Math.log(r)/r);e=this.mean+this.stdDev*s*a,t=this.mean+this.stdDev*i*a,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Gp{constructor(e,t,n,s){this.alpha=e,this.beta=1/t,this.dtype=n;const i=s||Math.random();this.randu=Pp.alea(i.toString()),this.randn=new Wp(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,s,i,r;for(;;){do{s=this.randn.nextValue(),r=1+this.c*s}while(r<=0);if(r*=r*r,e=s*s,t=1-.331*e*e,n=.5*e+this.d*(1-r+Math.log(r)),i=this.randu(),i<t||Math.log(i)<n)break}return r=1/this.beta*this.d*r,this.alpha<1&&(r*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(r)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class Up{constructor(e=0,t=1,n,s){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==s&&(s=Math.random()),"number"==typeof s&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=Pp.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const jp=cl({randomGamma_:function(e,t,n=1,s="float32",i){if(hs(e),null==n&&(n=1),null==s&&(s="float32"),"float32"!==s&&"int32"!==s)throw new Error(`Unsupported data type ${s}`);const r=new Gp(t,n,s,i),a=kc(e,s);for(let e=0;e<a.values.length;e++)a.values[e]=r.nextValue();return a.toTensor()}});const qp=cl({randomNormal_:function(e,t=0,n=1,s,i){if(hs(e),null!=s&&"bool"===s)throw new Error(`Unsupported data type ${s}`);const r=new Wp(t,n,s,!1,i),a=kc(e,s);for(let e=0;e<a.values.length;e++)a.values[e]=r.nextValue();return a.toTensor()}});const Hp=cl({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return qp(e,0,1,t,n)}});const Yp=cl({randomUniform_:function(e,t=0,n=1,s="float32",i){hs(e);const r=kc(e,s),a=new Up(t,n,null,i);for(let e=0;e<r.values.length;e++)r.values[e]=a.nextValue();return r.toTensor()}});const Kp=cl({randomUniformInt_:function(e,t,n,s){return Yp(e,t,n,"int32",s)}});function Zp(e,t,n=1,s="float32"){if(0===n)throw new Error("Cannot have a step of zero");const i={start:e,stop:t,step:n,dtype:s};return Xo.runKernel(Nr,{},i)}const Qp=cl({real_:function(e){const t={input:al(e,"input","real")};return Xo.runKernel(Dr,t)}});const Xp=cl({reciprocal_:function(e){const t={x:al(e,"x","reciprocal")};return Xo.runKernel(Mr,t)}});const $p=cl({relu_:function(e){const t={x:al(e,"x","relu")};return Xo.runKernel(Br,t)}});const Jp=cl({relu6_:function(e){const t={x:al(e,"x","relu6")};return Xo.runKernel(Vr,t)}});const ef=cl({reverse_:function(e,t){const n={x:al(e,"x","reverse")},s={dims:t};return Xo.runKernel(Pr,n,s)}});const tf=cl({reverse1d_:function(e){const t=al(e,"x","reverse");return zn(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),ef(t,0)}});const nf=cl({reverse2d_:function(e,t){const n=al(e,"x","reverse");return zn(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),ef(n,t)}});const sf=cl({reverse3d_:function(e,t){const n=al(e,"x","reverse");return zn(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),ef(n,t)}});const rf=cl({reverse4d_:function(e,t){const n=al(e,"x","reverse");return zn(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),ef(n,t)}});const af=cl({round_:function(e){const t={x:al(e,"x","round")};return Xo.runKernel(Wr,t)}});const of=cl({rsqrt_:function(e){const t={x:al(e,"x","rsqrt","float32")};return Xo.runKernel(Gr,t)}});const lf=cl({selu_:function(e){const t={x:al(e,"x","selu")};return Xo.runKernel(Yr,t)}});const cf=cl({separableConv2d_:function(e,t,n,s,i,r=[1,1],a="NHWC"){const o=al(e,"x","separableConv2d"),l=al(t,"depthwiseFilter","separableConv2d"),c=al(n,"pointwiseFilter","separableConv2d");let u=o,h=!1;if(3===o.rank&&(h=!0,u=kh(o,[1,o.shape[0],o.shape[1],o.shape[2]])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");zn(4===u.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`)),zn(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),zn(4===c.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),zn(1===c.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`)),zn(1===c.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`));const d=l.shape[2],p=l.shape[3];zn(c.shape[2]===d*p,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*p}, but got ${c.shape[2]}.`));const f=od(u,l,s,i,a,r),m=Kh(f,c,1,"valid",a);return h?kh(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const uf=async function(e,t){const n=al(e,"x","setdiff1d"),s=al(t,"y","setdiff1d");zn(n.dtype===s.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${s.dtype}).`)),zn(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),zn(1===s.rank,(()=>`y should be 1D tensor, but got y (${s.shape}).`));const i=await n.data(),r=await s.data(),a=new Set(r);let o=0;for(let e=0;e<i.length;e++)a.has(i[e])||o++;const l=new vo([o],n.dtype),c=new vo([o],"int32");for(let e=0,t=0;e<i.length;e++)a.has(i[e])||(l.values[t]=i[e],c.values[t]=e,t++);return[l.toTensor(),c.toTensor()]};const hf=cl({sign_:function(e){const t={x:al(e,"x","sign")};return Xo.runKernel(Xr,t)}});const df=cl({sin_:function(e){const t={x:al(e,"x","sin","float32")};return Xo.runKernel(Zr,t)}});const pf=cl({sinh_:function(e){const t={x:al(e,"x","sinh")};return Xo.runKernel(Qr,t)}});const ff=cl({slice1d_:function(e,t,n){const s=al(e,"x","slice1d");return zn(1===s.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${s.rank} tensor`)),Nh(s,[t],[n])}});const mf=cl({slice2d_:function(e,t,n){const s=al(e,"x","slice2d");return zn(2===s.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${s.rank} tensor`)),Nh(s,t,n)}});const gf=cl({slice3d_:function(e,t,n){const s=al(e,"x","slice3d");return zn(3===s.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${s.rank} tensor`)),Nh(s,t,n)}});const yf=cl({slice4d_:function(e,t,n){const s=al(e,"x","slice4d");return zn(4===s.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${s.rank} tensor`)),Nh(s,t,n)}});const Af=cl({softmax_:function(e,t=-1){const n=al(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const s={logits:n},i={dim:t};return Xo.runKernel(ia,s,i)}});const wf=cl({fft_:function(e){zn("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return Xo.runKernel(Ti,t)}});const bf=cl({ifft_:function(e){zn("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return Xo.runKernel(Vi,t)}});const vf=cl({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let s;if(t<=2){const i=kh(e,[n,t]);s=bf(i)}else{const i=[n,2*(t-1)],r=kh(Qp(e),[n,t]),a=kh(Wd(e),[n,t]),o=ef(Nh(r,[0,1],[n,t-2]),1),l=Dc(ef(Nh(a,[0,1],[n,t-2]),1),Oc(-1)),c=Ih([r,o],1),u=Ih([a,l],1),h=kh(ul(c,u),[i[0],i[1]]);s=bf(h)}if(s=Qp(s),3===e.rank&&0!==e.shape[0]){const t=s,n=e.shape[0];s=kh(s,[n,s.shape[0]/n,s.shape[1]]),t.dispose()}return s}});const xf=cl({split_:function(e,t,n=0){const s={x:al(e,"x","split")},i={numOrSizeSplits:t,axis:n};return Xo.runKernel(sa,s,i)}});const Cf=cl({rfft_:function(e,t){zn("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const s=e.size/n;let i;if(null!=t&&t<n){const s=e.shape.map((e=>0)),r=e.shape.map((e=>e));r[e.shape.length-1]=t,i=Nh(e,s,r),n=t}else if(null!=t&&t>n){const s=e.shape.map((e=>e));s[e.shape.length-1]=t-n,i=Ih([e,fp(s)],e.shape.length-1),n=t}else i=e;const r=Rc(i),a=kh(ul(i,r),[s,n]),o=wf(a),l=Math.floor(n/2)+1,c=Qp(o),u=Wd(o),h=xf(c,[l,n-l],c.shape.length-1),d=xf(u,[l,n-l],u.shape.length-1),p=i.shape.slice();return p[i.shape.length-1]=l,kh(ul(h[0],d[0]),p)}});const kf=cl({squaredDifference_:function(e,t){let n=al(e,"a","squaredDifference"),s=al(t,"b","squaredDifference");[n,s]=Uo(n,s),$c(n.shape,s.shape);const i={a:n,b:s};return Xo.runKernel(ua,i,{})}});const Ef=cl({squeeze_:function(e,t){const n=al(e,"x","squeeze","string_or_numeric");return kh(n,Zn(n.shape,t).newShape)}});const Sf=cl({stack_:function(e,t=0){const n=ol(e,"tensors","stack","string_or_numeric");zn(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&zn(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const s=n,i={axis:t};return Xo.runKernel(xr,s,i)}});const If=cl({step_:function(e,t=0){const n={x:al(e,"x","step")},s={alpha:t};return Xo.runKernel(Ta,n,s)}});const Tf=cl({stridedSlice_:function(e,t,n,s,i=0,r=0,a=0,o=0,l=0){const c={x:al(e,"x","stridedSlice","string_or_numeric")},u={begin:t,end:n,strides:s,beginMask:i,endMask:r,ellipsisMask:a,newAxisMask:o,shrinkAxisMask:l};return Xo.runKernel(pa,c,u)}});const _f=cl({tan_:function(e){const t={x:al(e,"x","tan","float32")};return Xo.runKernel(Aa,t)}});function Nf(e,t){Pn(e);const n=sl(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return hl(e,null,n,t)}function Df(e,t,n){if(Pn(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const s=sl(e,n);if(2!==s.length&&1!==s.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return hl(e,t,s,n)}function Mf(e,t,n){if(Pn(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const s=sl(e,n);if(4!==s.length&&1!==s.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return hl(e,t,s,n)}function Bf(e,t,n){if(Pn(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const s=sl(e,n);if(5!==s.length&&1!==s.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return hl(e,t,s,n)}function Rf(e,t,n){if(Pn(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const s=sl(e,n);if(6!==s.length&&1!==s.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return hl(e,t=t||s,s,n)}function Ff(e,t,n){const s=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,r=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${s}, and batchDim: ${i}.`;if(n.rank<i)throw new Error(r+` update.rank < ${i}. `);if(e.length<s+(n.rank-i))throw new Error(r+` Output shape length < ${s+(n.rank-i)}`);if(n.rank!==i+e.length-s)throw new Error(r+" update.rank != "+(i+e.length-s));for(let e=0;e<i;++e)if(n.shape[e]!==t.shape[e])throw new Error(r+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-i;++t)if(n.shape[t+i]!==e[t+s])throw new Error(r+` updates.shape[${t+i}] (${n.shape[t+i]}) != shape[${t+i}] (${e[t+i]})`)}function Of(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}Ff(n,t,e)}function Lf(e,t,n){const s=t.shape.length,i=s>1?t.shape[s-1]:1,r=n.length;let a=1;for(let e=i;e<r;++e)a*=n[e];const o=i<1?1:i;return{sliceRank:i,numUpdates:Wn(t.shape)/o,sliceSize:a,strides:[...rs(n.slice(0,i)),1],outputSize:Wn(n)}}const zf=cl({tensorScatterUpdate_:function(e,t,n){const s=al(e,"tensor","tensorScatterupdate"),i=al(t,"indices","tensorScatterupdate","int32"),r=al(n,"updates","tensorScatterupdate");if(Of(r,i,s.shape),s.dtype!==r.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${s.dtype} and ${r.dtype}.`);const a={tensor:s,indices:i,updates:r};return Xo.runKernel(jr,a,{})}});const Vf=cl({topk_:function(e,t=1,n=!0){const s=al(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const i=s.shape[s.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>i)throw new Error(`'k' passed to topk() must be <= the last dimension (${i}) but got ${t}`);const r={x:s},a={k:t,sorted:n},[o,l]=Xo.runKernel(va,r,a);return{values:o,indices:l}}});const Pf=cl({truncatedNormal_:function(e,t=0,n=1,s,i){if(hs(e),null!=s&&"bool"===s)throw new Error("Unsupported data type $ { dtype }");const r=new Wp(t,n,s,!0,i),a=kc(e,s);for(let e=0;e<a.values.length;e++)a.values[e]=r.nextValue();return a.toTensor()}});const Wf=cl({unique_:function(e,t=0){const n=al(e,"x","unique","string_or_numeric");zn(n.rank>0,(()=>"The input tensor must be at least 1D"));const s={x:n},i={axis:t},[r,a]=Xo.runKernel(ka,s,i);return{values:r,indices:a}}});const Gf=cl({unsortedSegmentSum_:function(e,t,n){const s=al(e,"x","unsortedSegmentSum"),i=al(t,"segmentIds","unsortedSegmentSum","int32");zn(Un(n),(()=>"numSegments must be of dtype int"));const r={x:s,segmentIds:i},a={numSegments:n};return Xo.runKernel(Sa,r,a)}});const Uf=cl({unstack_:function(e,t=0){const n=al(e,"x","unstack","string_or_numeric");zn(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const s={value:n},i={axis:t};return Xo.runKernel(Ea,s,i)}});function jf(e,t){return lp(e,t,"right")}function qf(e,t=!0,n,s){return Xo.makeVariable(e,t,n,s)}function Hf(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const s=kc(e,"int32"),i=kc([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const r=s.indexToLoc(n[t]),a=t*e.length;i.values.set(r,a)}return i.toTensor()}const Yf=async function(e){const t=al(e,"condition","whereAsync","bool"),n=await t.data(),s=Hf(t.shape,n);return e!==t&&t.dispose(),s};const Kf=async function(e,t,n){const s=al(e,"tensor","boolMask"),i=al(t,"mask","boolMask","bool"),r=null==n?0:n,a=i.rank,o=s.shape;zn(a>0,(()=>"mask cannot be scalar")),Vn(o.slice(r,r+a),i.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let e=r;e<r+a;e++)l*=o[e];const c=o.slice(0,r).concat([l],o.slice(r+a)),u=kh(s,c),h=kh(i,[-1]),d=await Yf(h),p=Ef(d,[1]),f=zd(u,p,r);return e!==s&&s.dispose(),t!==i&&i.dispose(),p.dispose(),u.dispose(),h.dispose(),d.dispose(),f};const Zf=cl({transpose_:function(e,t,n){const s=al(e,"x","transpose");if(null==t&&(t=s.shape.map(((e,t)=>t)).reverse()),zn(s.rank===t.length,(()=>`Error in transpose: rank of input ${s.rank} must match length of perm ${t}.`)),t.forEach((e=>{zn(e>=0&&e<s.rank,(()=>"All entries in 'perm' must be between 0 and "+(s.rank-1)+` but got ${t}`))})),s.rank<=1)return s.clone();const i={x:s},r={perm:t};return"complex64"===s.dtype?yl((()=>{let e=Qp(s),t=Wd(s);return e=Xo.runKernel(Ca,{x:e},r),t=Xo.runKernel(Ca,{x:t},r),n&&(t=$d(t)),ul(e,t)})):Xo.runKernel(Ca,i,r)}});const Qf=cl({movingAverage_:function(e,t,n,s,i=!0){const r=al(e,"v","movingAverage"),a=al(t,"x","movingAverage"),o=al(n,"decay","movingAverage");var l,c;c=a,zn((l=r).dtype===c.dtype,(()=>`The dtypes of the first(${l.dtype}) and second(${c.dtype}) input must match`)),zn(Gn(r.shape,a.shape),(()=>"Shape mismatch in v and x"));const u=Oc(1),h=Yc(u,o);let d=Dc(Yc(a,r),h);if(i){zn(null!=s,(()=>"When using zeroDebias: true, step is required."));const e=al(s,"step","movingAverage");d=Nc(d,Yc(u,Hc(o,e)))}return Tc(r,d)}});const Xf=cl({scatterND_:function(e,t,n){hs(n);const s=al(e,"indices","scatterND","int32"),i=al(t,"updates","scatterND");Of(i,s,n);const r={indices:s,updates:i},a={shape:n};return Xo.runKernel(Ur,r,a)}});const $f=cl({sparseToDense_:function(e,t,n,s=0){hs(n);const i=al(e,"sparseIndices","sparseToDense","int32"),r=al(t,"sparseValues","sparseToDense","string_or_numeric"),a=al(s,"defaultValue","sparseToDense",r.dtype);!function(e,t,n,s){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const i=e.rank>0?e.shape[0]:1,r=e.rank>1?e.shape[1]:1;if(n.length!==r)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${r}.`);const a=t.size;if(0!==t.rank&&(1!==t.rank||a!==i))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${i}]`);if(t.dtype!==s.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,r,n,a);const o={sparseIndices:i,sparseValues:r,defaultValue:a},l={outputShape:n};return Xo.runKernel(ca,o,l)}});const Jf=cl({gatherND_:function(e,t){const n=al(t,"indices","gatherND","int32"),s={params:al(e,"x","gatherND","string_or_numeric"),indices:n};return Xo.runKernel(Fi,s)}});const em=cl({dropout_:function(e,t,n,s){const i=al(e,"x","dropout");if(zn("float32"===i.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${i.dtype} tensor instead.`)),zn(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof Eo?i.clone():i;const r=function(e,t){if(null==t)return e.shape.slice();if(Gn(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let s=0;s<e.shape.length;s++)null==t[s]&&null!=e.shape[s]?n.push(e.shape[s]):n.push(t[s]);return n}return t}(i,n),a=1-t,o=Nc(Ld(Tc(Yp(r,0,1,"float32",s),a)),a);return Dc(i,o)}});function tm(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function nm(e,t,n){const s=1-e%2,i=new Float32Array(e);for(let r=0;r<e;++r){const a=2*Math.PI*r/(e+s-1);i[r]=t-n*Math.cos(a)}return Nf(i,"float32")}const sm=async function(e,t,n=1){const s=al(e,"predictions","inTopK"),i=al(t,"targets","inTopK");zn(s.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${s.rank}`)),zn(s.rank-1===i.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${s.rank} and targets rank ${i.rank}`)),Vn(s.shape.slice(0,s.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const r=s.shape[s.shape.length-1];zn(n>0&&n<=r,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${r}), but got ${n}`));const a=await s.data(),o=await i.data(),[l,c]=[a.length/r,r],u=Qn("bool",l);for(let e=0;e<l;e++){const t=e*c,s=a.subarray(t,t+c),i=[];for(let e=0;e<s.length;e++)i.push({value:s[e],index:e});i.sort(((e,t)=>t.value-e.value)),u[e]=0;for(let t=0;t<n;t++)if(i[t].index===o[e]){u[e]=1;break}}return e!==s&&s.dispose(),t!==i&&i.dispose(),dl(u,i.shape,"bool")};const im=cl({conv2DBackpropFilter_:function(e,t,n,s,i,r="NHWC",a){let o=e;3===e.rank&&(o=kh(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=kh(t,[1,t.shape[0],t.shape[1],t.shape[2]])),zn(4===o.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`)),zn(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),zn(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const c="NHWC"===r?o.shape[3]:o.shape[1],u="NHWC"===r?l.shape[3]:l.shape[1];zn(c===n[2],(()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`)),zn(u===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`)),Ch("conv2dDerFilter",i,a);const h={x:o,dy:l},d={strides:s,pad:i,dataFormat:r,dimRoundingMode:a,filterShape:n};return Xo.runKernel(Js,h,d)}});function rm(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Dc(e,If(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function am(e,t){let n=t;const s=Xc(e.shape,t.shape);return s.length>0&&(n=Td(n,s)),kh(n,e.shape)}function om(e,t,n,s){if("linear"===t)return e;if("relu"===t)return $p(e);if("elu"===t)return md(e);if("relu6"===t)return Jp(e);if("prelu"===t)return Rp(e,n);if("leakyrelu"===t)return qd(e,s);if("sigmoid"===t)return _h(e);throw new Error(`Unknown fused activation ${t}.`)}const lm=(e,t)=>!(e>0)||"linear"===t;const cm=cl({fusedConv2d_:function({x:e,filter:t,strides:n,pad:s,dataFormat:i="NHWC",dilations:r=[1,1],dimRoundingMode:a,bias:o,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",!1===lm(Xo.state.gradientDepth,l)){zn("NHWC"===i,(()=>`Error in fused conv2d: got dataFormat of ${i} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let h=Kh(e,t,n,s,i,r,a);return null!=o&&(h=Tc(h,o)),om(h,l,c,u)}const h=al(e,"x","conv2d","float32"),d=al(t,"filter","conv2d","float32");let p=h,f=!1;3===h.rank&&(f=!0,p=kh(h,[1,h.shape[0],h.shape[1],h.shape[2]])),zn(4===p.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`)),zn(4===d.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`)),Ch("fused conv2d",s,a);const m="NHWC"===i?p.shape[3]:p.shape[1];zn(d.shape[2]===m,(()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${d.shape[2]}.`)),zn(bh(n,r),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${r}'`));const g=dh(p.shape,d.shape,n,r,s,a);let y,A;if(null!=o&&(y=al(o,"bias","fused conv2d"),[y]=Uo(y,h),"NHWC"===i?$c(g.outShape,y.shape):(zn(y.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`)),zn(0===y.shape.length||y.shape[0]===g.outChannels||1===y.shape[0],(()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${g.outChannels})`)))),null!=c){const e=c.shape;if(zn(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)zn(1===e[0]||e[0]===g.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${g.outChannels}).`));else if(3===e.length)try{$c(e,g.outShape)}catch(t){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(n)}A=al(c,"prelu weights","fused conv2d")}const w=(e,t)=>{zn("NHWC"===i,(()=>`Error in gradient of fused conv2D: got dataFormat of ${i} but only NHWC is currently supported.`));const[a,o,c,u]=t,h=rm(e,c,l);zn(wh(r),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`));const d=[Qh(o.shape,h,a,n,s),im(o,h,a.shape,n,s)];if(null!=u){const e=am(u,h);d.push(e)}return d},b={x:p,filter:d,bias:y,preluActivationWeights:A},v={strides:n,pad:s,dataFormat:i,dilations:r,dimRoundingMode:a,activation:l,leakyreluAlpha:u};if(null==o){const e=Fc(((e,t,n)=>{let s=Xo.runKernel(Ma,b,v);return n([t,e,s]),f&&(s=kh(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:w}}));return e(p,d)}{const e=Fc(((e,t,n,s)=>{let i=Xo.runKernel(Ma,b,v);return s([t,e,i,n]),f&&(i=kh(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:w}}));return e(p,d,y)}}});const um=cl({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,s,i,r=[1,1],a){let o=e;3===e.rank&&(o=kh(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=kh(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={x:o,dy:l},u={strides:s,pad:i,dimRoundingMode:a,dilations:r,filterShape:n};return Xo.runKernel(di,c,u)}});const hm=cl({depthwiseConv2dNativeBackpropInput_:function(e,t,n,s,i,r=[1,1],a){let o=t,l=!1;3===t.rank&&(l=!0,o=kh(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={dy:o,filter:n},u={strides:s,pad:i,dimRoundingMode:a,dilations:r,inputShape:e},h=Xo.runKernel(pi,c,u);return l?kh(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const dm=cl({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:s,dataFormat:i="NHWC",dilations:r=[1,1],dimRoundingMode:a,bias:o,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(!1===lm(Xo.state.gradientDepth,l)){let h=od(e,t,n,s,i,r,a);return null!=o&&(h=Tc(h,o)),om(h,l,c,u)}const h=al(e,"x","depthwiseConv2d","float32"),d=al(t,"filter","depthwiseConv2d","float32");let p=h,f=!1;3===h.rank&&(f=!0,p=kh(h,[1,h.shape[0],h.shape[1],h.shape[2]])),zn(4===p.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`)),zn(4===d.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`)),zn(p.shape[3]===d.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${p.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`)),null==r&&(r=[1,1]),zn(bh(n,r),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${r}'`)),Ch("fused depthwiseConv2d",s,a);const m=dh(p.shape,d.shape,n,r,s,a,!0);let g,y;null!=o&&(g=al(o,"bias","fused conv2d"),[g]=Uo(g,h),$c(m.outShape,g.shape)),null!=c&&(y=al(c,"prelu weights","fused depthwiseConv2d"));const A=(e,t)=>{zn(wh(r),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${r}'`));const[i,o,c,u]=t,h=rm(e,c,l),d=hm(o.shape,h,i,n,s,r,a),p=um(o,h,i.shape,n,s,r,a);if(null!=u){return[d,p,am(g,h)]}return[d,p]},w={x:p,filter:d,bias:g,preluActivationWeights:y},b={strides:n,pad:s,dataFormat:i,dilations:r,dimRoundingMode:a,activation:l,leakyreluAlpha:u};if(null==o){const e=Fc(((e,t,n)=>{let s=Xo.runKernel(Ba,w,b);return n([t,e,s]),f&&(s=kh(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:A}}));return e(p,d)}{const e=Fc(((e,t,n,s)=>{let i=Xo.runKernel(Ba,w,b);return s([t,e,i,n]),f&&(i=kh(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:A}}));return e(p,d,g)}}});const pm=cl({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:s=!1,bias:i,activation:r="linear",preluActivationWeights:a,leakyreluAlpha:o=.2}){if(!1===lm(Xo.state.gradientDepth,r)){let l=Th(e,t,n,s);return null!=i&&(l=Tc(l,i)),om(l,r,a,o)}let l=al(e,"a","fused matMul"),c=al(t,"b","fused matMul");[l,c]=Uo(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],h=s?c.shape[c.rank-1]:c.shape[c.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=s?c.shape[c.rank-2]:c.shape[c.rank-1],f=l.shape.slice(0,-2),m=c.shape.slice(0,-2),g=Wn(f),y=Wn(m);zn(u===h,(()=>`Error in fused matMul: inner shapes (${u}) and (${h}) of Tensors with shapes ${l.shape} and ${c.shape} and transposeA=${n} and transposeB=${s} must match.`));const A=$c(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([d,p]),w=kh(l,n?[g,u,d]:[g,d,u]),b=kh(c,s?[y,p,h]:[y,h,p]);let v,x;null!=i&&(v=al(i,"bias","fused matMul"),[v]=Uo(v,l),$c(A,v.shape)),null!=a&&(x=al(a,"prelu weights","fused matMul"));const C=(e,t)=>{const[a,o,l,c]=t,u=rm(kh(e,l.shape),l,r);let h,d;if(n||s?!n&&s?(h=Th(u,o,!1,!1),d=Th(u,a,!0,!1)):n&&!s?(h=Th(o,u,!1,!0),d=Th(a,u,!1,!1)):(h=Th(o,u,!0,!0),d=Th(u,a,!0,!0)):(h=Th(u,o,!1,!0),d=Th(a,u,!0,!1)),null!=i){return[h,d,am(c,u)]}return[h,d]},k={a:w,b,bias:v,preluActivationWeights:x},E={transposeA:n,transposeB:s,activation:r,leakyreluAlpha:o};if(null==i){const e=Fc(((e,t,n)=>{const s=Xo.runKernel(Da,k,E);return n([e,t,s]),{value:kh(s,A),gradFunc:C}}));return e(w,b)}{const e=Fc(((e,t,n,s)=>{const i=Xo.runKernel(Da,k,E);return s([e,t,i,n]),{value:kh(i,A),gradFunc:C}}));return e(w,b,v)}}});const fm=cl({hammingWindow_:function(e){return nm(e,.54,.46)}});const mm=cl({hannWindow_:function(e){return nm(e,.5,.5)}});const gm=cl({frame_:function(e,t,n,s=!1,i=0){let r=0;const a=[];for(;r+t<=e.size;)a.push(Nh(e,r,t)),r+=n;if(s)for(;r<e.size;){const s=r+t-e.size,o=Ih([Nh(e,r,t-s),jc([s],i)]);a.push(o),r+=n}return 0===a.length?Df([],[0,t]):kh(Ih(a),[a.length,t])}});const ym=cl({stft_:function(e,t,n,s,i=mm){null==s&&(s=tm(t));const r=gm(e,t,n),a=Dc(r,i(t));return Cf(a,s)}});const Am=cl({cropAndResize_:function(e,t,n,s,i="bilinear",r=0){const a=al(e,"image","cropAndResize"),o=al(t,"boxes","cropAndResize","float32"),l=al(n,"boxInd","cropAndResize","int32"),c=o.shape[0];zn(4===a.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`)),zn(2===o.rank&&4===o.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${o.shape}.`)),zn(1===l.rank&&l.shape[0]===c,(()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${o.shape}.`)),zn(2===s.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${s.length}.`)),zn(s[0]>=1&&s[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${s}`)),zn("bilinear"===i||"nearest"===i,(()=>`method must be bilinear or nearest, but was ${i}`));const u={image:a,boxes:o,boxInd:l},h={method:i,extrapolationValue:r,cropSize:s};return Xo.runKernel(li,u,h)}});const wm=cl({flipLeftRight_:function(e){const t=al(e,"image","flipLeftRight","float32");zn(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return Xo.runKernel(Ni,n,{})}});const bm=cl({grayscaleToRGB_:function(e){const t=al(e,"image","grayscaleToRGB"),n=t.rank-1,s=t.shape[n];zn(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),zn(1===s,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${s}.`));const i=new Array(t.rank);return i.fill(1,0,n),i[n]=3,Fd(t,i)}});const vm=cl({rgbToGrayscale_:function(e){const t=al(e,"image","RGBToGrayscale"),n=t.rank-1,s=t.shape[n];zn(t.rank>=2,(()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`)),zn(3===s,(()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${s}.`));const i=t.dtype,r=Ec(t,"float32"),a=Nf([.2989,.587,.114]);let o;switch(t.rank){case 2:o=fd("ij,j->i",r,a);break;case 3:o=fd("ijk,k->ij",r,a);break;case 4:o=fd("ijkl,l->ijk",r,a);break;case 5:o=fd("ijklm,m->ijkl",r,a);break;case 6:o=fd("ijklmn,n->ijklm",r,a);break;default:throw new Error("Not a valid tensor rank.")}return o=Bd(o,-1),Ec(o,i)}});const xm=cl({rotateWithOffset_:function(e,t,n=0,s=.5){const i=al(e,"image","rotateWithOffset","float32");zn(4===i.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${i.rank}.`));const r={image:i},a={radians:t,fillValue:n,center:s};return Xo.runKernel(Na,r,a)}});function Cm(e,t,n,s,i,r){null==s&&(s=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==r&&(r=0);const a=e.shape[0];return n=Math.min(n,a),zn(0<=s&&s<=1,(()=>`iouThreshold must be in [0, 1], but was '${s}'`)),zn(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),zn(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),zn(1===t.rank,(()=>"scores must be a 1D tensor")),zn(t.shape[0]===a,(()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${t.shape[0]}`)),zn(0<=r&&r<=1,(()=>`softNmsSigma must be in [0, 1], but was '${r}'`)),{maxOutputSize:n,iouThreshold:s,scoreThreshold:i,softNmsSigma:r}}const km=cl({nonMaxSuppression_:function(e,t,n,s=.5,i=Number.NEGATIVE_INFINITY){const r=al(e,"boxes","nonMaxSuppression","float32"),a=al(t,"scores","nonMaxSuppression","float32"),o=Cm(r,a,n,s,i),l={maxOutputSize:n=o.maxOutputSize,iouThreshold:s=o.iouThreshold,scoreThreshold:i=o.scoreThreshold};return Xo.runKernel(yr,{boxes:r,scores:a},l)}});function Em(e,t,n){const s=function(e,t,n){return function(e,t,n){let s=0,i=e.length,r=0,a=!1;for(;s<i;){r=s+(i-s>>>1);const o=n(t,e[r]);o>0?s=r+1:(i=r,a=!o)}return a?s:-s-1}(e,t,n||Sm)}(e,t,n),i=s<0?-(s+1):s;e.splice(i,0,t)}function Sm(e,t){return e>t?1:e<t?-1:0}function Im(e,t,n,s,i){return Nm(e,t,n,s,i,0)}function Tm(e,t,n,s,i,r){return Nm(e,t,n,s,i,0,!1,r,!0)}function _m(e,t,n,s,i,r){return Nm(e,t,n,s,i,r,!0)}function Nm(e,t,n,s,i,r,a=!1,o=!1,l=!1){const c=[];for(let e=0;e<t.length;e++)t[e]>i&&c.push({score:t[e],boxIndex:e,suppressBeginIndex:0});c.sort(Bm);const u=r>0?-.5/r:0,h=[],d=[];for(;h.length<n&&c.length>0;){const t=c.pop(),{score:n,boxIndex:r,suppressBeginIndex:a}=t;if(n<i)break;let o=!1;for(let n=h.length-1;n>=a;--n){const a=Dm(e,r,h[n]);if(a>=s){o=!0;break}if(t.score=t.score*Mm(s,u,a),t.score<=i)break}t.suppressBeginIndex=h.length,o||(t.score===n?(h.push(r),d.push(t.score)):t.score>i&&Em(c,t,Bm))}const p=h.length,f=n-p;o&&f>0&&(h.push(...new Array(f).fill(0)),d.push(...new Array(f).fill(0)));const m={selectedIndices:h};return a&&(m.selectedScores=d),l&&(m.validOutputs=p),m}function Dm(e,t,n){const s=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),r=Math.min(s[0],s[2]),a=Math.min(s[1],s[3]),o=Math.max(s[0],s[2]),l=Math.max(s[1],s[3]),c=Math.min(i[0],i[2]),u=Math.min(i[1],i[3]),h=Math.max(i[0],i[2]),d=Math.max(i[1],i[3]),p=(o-r)*(l-a),f=(h-c)*(d-u);if(p<=0||f<=0)return 0;const m=Math.max(r,c),g=Math.max(a,u),y=Math.min(o,h),A=Math.min(l,d),w=Math.max(y-m,0)*Math.max(A-g,0);return w/(p+f-w)}function Mm(e,t,n){const s=Math.exp(t*n*n);return n<=e?s:0}function Bm(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const Rm=async function(e,t,n,s=.5,i=Number.NEGATIVE_INFINITY){const r=al(e,"boxes","nonMaxSuppressionAsync"),a=al(t,"scores","nonMaxSuppressionAsync"),o=Cm(r,a,n,s,i);n=o.maxOutputSize,s=o.iouThreshold,i=o.scoreThreshold;const l=await Promise.all([r.data(),a.data()]),c=l[0],u=l[1],{selectedIndices:h}=Im(c,u,n,s,i);return r!==e&&r.dispose(),a!==t&&a.dispose(),Nf(h,"int32")};const Fm=cl({nonMaxSuppressionWithScore_:function(e,t,n,s=.5,i=Number.NEGATIVE_INFINITY,r=0){const a=al(e,"boxes","nonMaxSuppression"),o=al(t,"scores","nonMaxSuppression"),l=Cm(a,o,n,s,i,r),c={boxes:a,scores:o},u={maxOutputSize:n=l.maxOutputSize,iouThreshold:s=l.iouThreshold,scoreThreshold:i=l.scoreThreshold,softNmsSigma:r=l.softNmsSigma},h=Xo.runKernel(wr,c,u);return{selectedIndices:h[0],selectedScores:h[1]}}});const Om=async function(e,t,n,s=.5,i=Number.NEGATIVE_INFINITY,r=0){const a=al(e,"boxes","nonMaxSuppressionAsync"),o=al(t,"scores","nonMaxSuppressionAsync"),l=Cm(a,o,n,s,i,r);n=l.maxOutputSize,s=l.iouThreshold,i=l.scoreThreshold,r=l.softNmsSigma;const c=await Promise.all([a.data(),o.data()]),u=c[0],h=c[1],{selectedIndices:d,selectedScores:p}=_m(u,h,n,s,i,r);return a!==e&&a.dispose(),o!==t&&o.dispose(),{selectedIndices:Nf(d,"int32"),selectedScores:Nf(p)}};const Lm=cl({nonMaxSuppressionPadded_:function(e,t,n,s=.5,i=Number.NEGATIVE_INFINITY,r=!1){const a=al(e,"boxes","nonMaxSuppression"),o=al(t,"scores","nonMaxSuppression"),l=Cm(a,o,n,s,i,null),c={boxes:a,scores:o},u={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:r},h=Xo.runKernel(Ar,c,u);return{selectedIndices:h[0],validOutputs:h[1]}}});const zm=async function(e,t,n,s=.5,i=Number.NEGATIVE_INFINITY,r=!1){const a=al(e,"boxes","nonMaxSuppressionAsync"),o=al(t,"scores","nonMaxSuppressionAsync"),l=Cm(a,o,n,s,i,null),c=l.maxOutputSize,u=l.iouThreshold,h=l.scoreThreshold,[d,p]=await Promise.all([a.data(),o.data()]),{selectedIndices:f,validOutputs:m}=Tm(d,p,c,u,h,r);return a!==e&&a.dispose(),o!==t&&o.dispose(),{selectedIndices:Nf(f,"int32"),validOutputs:Oc(m,"int32")}};const Vm=cl({resizeBilinear_:function(e,t,n=!1,s=!1){const i=al(e,"images","resizeBilinear");zn(3===i.rank||4===i.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${i.rank}.`)),zn(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),zn(!1===s||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let r=i,a=!1;3===i.rank&&(a=!0,r=kh(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const[]=t,o={images:r},l={alignCorners:n,halfPixelCenters:s,size:t},c=Xo.runKernel(Lr,o,l);return a?kh(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Pm=cl({resizeNearestNeighbor_:function(e,t,n=!1,s=!1){const i=al(e,"images","resizeNearestNeighbor");zn(3===i.rank||4===i.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${i.rank}.`)),zn(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),zn("float32"===i.dtype||"int32"===i.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),zn(!1===s||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let r=i,a=!1;3===i.rank&&(a=!0,r=kh(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const[]=t,o={images:r},l={alignCorners:n,halfPixelCenters:s,size:t},c=Xo.runKernel(Fr,o,l);return a?kh(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Wm=cl({threshold_:function(e,t="binary",n=!1,s=.5){const i=al(e,"image","threshold"),r=i.shape[0]*i.shape[1];let a,o,l,c,u=Dc(Nf([s]),255);if(zn(3===i.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${i.rank}.`)),zn(3===i.shape[2]||1===i.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${i.shape[2]}.`)),zn("int32"===i.dtype||"float32"===i.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${i.dtype}.`)),zn("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===i.shape[2]){[a,o,l]=xf(i,[1,1,1],-1);const e=Dc(a,.2989),t=Dc(o,.587),n=Dc(l,.114);c=Tc(Tc(e,t),n)}else c=e;if("otsu"===t){u=function(e,t){let n,s,i,r,a,o,l=Nf([-1]),c=Nf([0]),u=Nf([0]);for(let h=0;h<e.size-1;h++){n=Nh(e,0,h+1),s=Nh(e,h+1),a=Nc(Td(n),t),o=Nc(Td(s),t);const d=Td(Dc(n,Zp(0,n.size)));i=Nc(d,Td(n));const p=jc(s.shape,n.size),f=Tc(Zp(0,s.size),p),m=Dc(s,f);r=Nc(Td(m),Td(s));const g=Yc(i,r),y=Yc(i,r),A=Dc(a,o);u=Dc(Dc(A,g),y);const w=Vd(u,c);c=hd(w,u,c),l=hd(w,Nf([h]),l)}return l}(zh(Ec(af(c),"int32"),dl([]),256),r)}const h=n?Yd(c,u):Vd(c,u);return Ec(Dc(h,255),"int32")}});const Gm=cl({transform_:function(e,t,n="nearest",s="constant",i=0,r){const a=al(e,"image","transform","float32"),o=al(t,"transforms","transform","float32");zn(4===a.rank,(()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`)),zn(2===o.rank&&(o.shape[0]===a.shape[0]||1===o.shape[0])&&8===o.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),zn(null==r||2===r.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${r}.`));const l={image:a,transforms:o},c={interpolation:n,fillMode:s,fillValue:i,outputShape:r};return Xo.runKernel(xa,l,c)}});const Um=cl({bandPart_:function(e,t,n){const s=al(e,"a","bandPart");zn(s.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${s.rank}.`));const i=s.shape,[r,a]=s.shape.slice(-2);let o,l;"number"==typeof t?(zn(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),zn(t<=r,(()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${r}).`)),o=al(t<0?r:t,"numLower","bandPart")):(zn("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),o=hd(Hd(t,0),r,yp(t,r))),"number"==typeof n?(zn(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`)),zn(n<=a,(()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`)),l=al(n<0?a:n,"numUpper","bandPart")):(zn("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=hd(Hd(n,0),a,yp(n,a)));const c=kh(Zp(0,r,1,"int32"),[-1,1]),u=Zp(0,a,1,"int32"),h=Yc(c,u),d=sp(Yd(h,o),Pd(h,$d(l))),p=fp([r,a],s.dtype);return kh(Sf(Uf(kh(s,[-1,r,a])).map((e=>hd(d,e,p)))),i)}});const jm=cl({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,zn(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)zn(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=xf(e,e.shape[0],0).map((e=>Ef(e,[0])));zn(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],s=e;for(let t=0;t<e.length;++t)n.push(Xo.tidy((()=>{let e=s[t];if(t>0)for(let s=0;s<t;++s){const t=Dc(Td(Dc(n[s],e)),n[s]);e=Yc(e,t)}return Nc(e,Nd(e,"euclidean"))})));return t?Sf(n,0):n}});function qm(e,t=!1){return Xo.tidy((()=>{zn(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],s=e.shape[1];let i=Od(n),r=Sc(e);const a=Df([[1]],[1,1]);let o=Sc(a);const l=n>=s?s:n;for(let e=0;e<l;++e){const t=r,l=o,c=i;[o,r,i]=Xo.tidy((()=>{const t=Nh(r,[e,e],[n-e,1]),l=Nd(t),c=Nh(r,[e,e],[1,1]),u=hd(Vd(c,0),Df([[-1]]),Df([[1]])),h=Yc(c,Dc(u,l)),d=Nc(t,h);o=1===d.shape[0]?Sc(a):Ih([a,Nh(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);const p=$d(Nc(Th(u,h),l)),f=Nh(r,[e,0],[n-e,s]),m=Dc(p,o),g=Zf(o);if(0===e)r=Yc(f,Th(m,Th(g,f)));else{const t=Yc(f,Th(m,Th(g,f)));r=Ih([Nh(r,[0,0],[e,s]),t],0)}const y=Zf(m),A=Nh(i,[0,e],[n,i.shape[1]-e]);if(0===e)i=Yc(A,Th(Th(A,o),y));else{const t=Yc(A,Th(Th(A,o),y));i=Ih([Nh(i,[0,0],[n,e]),t],1)}return[o,r,i]})),Al([t,l,c])}return!t&&n>s&&(i=Nh(i,[0,0],[n,s]),r=Nh(r,[0,0],[s,s])),[i,r]}))}const Hm=cl({qr_:function(e,t=!1){if(zn(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return qm(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),s=Uf(kh(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],r=[];s.forEach((e=>{const[n,s]=qm(e,t);i.push(n),r.push(s)}));return[kh(Sf(i,0),e.shape),kh(Sf(r,0),e.shape)]}}});var Ym,Km;(Km=Ym||(Ym={}))[Km.NONE=0]="NONE",Km[Km.MEAN=1]="MEAN",Km[Km.SUM=2]="SUM",Km[Km.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS";const Zm=cl({computeWeightedLoss_:function(e,t,n=Ym.SUM_BY_NONZERO_WEIGHTS){const s=al(e,"losses","computeWeightedLoss");let i=null;null!=t&&(i=al(t,"weights","computeWeightedLoss"));const r=null==i?s:Dc(s,i);if(n===Ym.NONE)return r;if(n===Ym.SUM)return Td(r);if(n===Ym.MEAN){if(null==i)return pp(r);{const e=s.size/i.size,t=Nc(Td(r),Td(i));return e>1?Nc(t,Oc(e)):t}}if(n===Ym.SUM_BY_NONZERO_WEIGHTS){if(null==i)return Nc(Td(r),Oc(s.size));{const e=Dc(i,mp(s.shape)),t=Ec(Td(Cp(e,Oc(0))),"float32");return Nc(Td(r),t)}}throw Error(`Unknown reduction: ${n}`)}});const Qm=cl({absoluteDifference_:function(e,t,n,s=Ym.SUM_BY_NONZERO_WEIGHTS){const i=al(e,"labels","absoluteDifference"),r=al(t,"predictions","absoluteDifference");let a=null;null!=n&&(a=al(n,"weights","absoluteDifference")),Vn(i.shape,r.shape,"Error in absoluteDifference: ");const o=Zc(Yc(i,r));return Zm(o,a,s)}});const Xm=cl({cosineDistance_:function(e,t,n,s,i=Ym.SUM_BY_NONZERO_WEIGHTS){const r=al(e,"labels","cosineDistance"),a=al(t,"predictions","cosineDistance");let o=null;null!=s&&(o=al(s,"weights","cosineDistance")),Vn(r.shape,a.shape,"Error in cosineDistance: ");const l=Oc(1),c=Yc(l,Td(Dc(r,a),n,!0));return Zm(c,o,i)}});const $m=cl({hingeLoss_:function(e,t,n,s=Ym.SUM_BY_NONZERO_WEIGHTS){let i=al(e,"labels","hingeLoss");const r=al(t,"predictions","hingeLoss");let a=null;null!=n&&(a=al(n,"weights","hingeLoss")),Vn(i.shape,r.shape,"Error in hingeLoss: ");const o=Oc(1);i=Yc(Dc(Oc(2),i),o);const l=$p(Yc(o,Dc(i,r)));return Zm(l,a,s)}});const Jm=cl({huberLoss_:function(e,t,n,s=1,i=Ym.SUM_BY_NONZERO_WEIGHTS){const r=al(e,"labels","huberLoss"),a=al(t,"predictions","huberLoss");let o=null;null!=n&&(o=al(n,"weights","huberLoss")),Vn(r.shape,a.shape,"Error in huberLoss: ");const l=Oc(s),c=Zc(Yc(a,r)),u=yp(c,l),h=Yc(c,u),d=Tc(Dc(Oc(.5),Bc(u)),Dc(l,h));return Zm(d,o,i)}});const eg=cl({logLoss_:function(e,t,n,s=1e-7,i=Ym.SUM_BY_NONZERO_WEIGHTS){const r=al(e,"labels","logLoss"),a=al(t,"predictions","logLoss");let o=null;null!=n&&(o=al(n,"weights","logLoss")),Vn(r.shape,a.shape,"Error in logLoss: ");const l=Oc(1),c=Oc(s),u=$d(Dc(r,Qd(Tc(a,c)))),h=Dc(Yc(l,r),Qd(Tc(Yc(l,a),c))),d=Yc(u,h);return Zm(d,o,i)}});const tg=cl({meanSquaredError_:function(e,t,n,s=Ym.SUM_BY_NONZERO_WEIGHTS){const i=al(e,"labels","meanSquaredError"),r=al(t,"predictions","meanSquaredError");let a=null;null!=n&&(a=al(n,"weights","meanSquaredError")),Vn(i.shape,r.shape,"Error in meanSquaredError: ");const o=kf(i,r);return Zm(o,a,s)}});const ng=cl({sigmoidCrossEntropy_:function(e,t,n,s=0,i=Ym.SUM_BY_NONZERO_WEIGHTS){let r=al(e,"multiClassLabels","sigmoidCrossEntropy");const a=al(t,"logits","sigmoidCrossEntropy");let o=null;if(null!=n&&(o=al(n,"weights","sigmoidCrossEntropy")),Vn(r.shape,a.shape,"Error in sigmoidCrossEntropy: "),s>0){const e=Oc(s),t=Oc(1),n=Oc(.5);r=Tc(Dc(r,Yc(t,e)),Dc(n,e))}const l=function(e,t){const n=al(e,"labels","sigmoidCrossEntropyWithLogits"),s=al(t,"logits","sigmoidCrossEntropyWithLogits");Vn(n.shape,s.shape,"Error in sigmoidCrossEntropyWithLogits: ");const i=$p(s),r=Dc(s,n),a=Xd(Md($d(Zc(s))));return Tc(Yc(i,r),a)}(r,a);return Zm(l,o,i)}});const sg=cl({softmaxCrossEntropy_:function(e,t,n,s=0,i=Ym.SUM_BY_NONZERO_WEIGHTS){let r=al(e,"onehotLabels","softmaxCrossEntropy");const a=al(t,"logits","softmaxCrossEntropy");let o=null;if(null!=n&&(o=al(n,"weights","softmaxCrossEntropy")),Vn(r.shape,a.shape,"Error in softmaxCrossEntropy: "),s>0){const e=Oc(s),t=Oc(1),n=Oc(r.shape[1]);r=Tc(Dc(r,Yc(t,e)),Nc(e,n))}const l=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const s=Fc(((e,t,s)=>{const i=np(t,[n],!0),r=Yc(Ec(t,"float32"),i);s([e,r]);const a=$d(Dc(r,e));return{value:Td(a,[n]),gradFunc:(e,t)=>{const[s,i]=t,r=vd(e.shape,[n]);return[Dc(kh(e,r),Yc(Ec(s,"float32"),Md(i))),Dc(kh(e,r),Yc(Md(i),Ec(s,"float32")))]}}}));return s(e,t)}(r,a);return Zm(l,o,i)}});const ig={fft:wf,ifft:bf,rfft:Cf,irfft:vf},rg={hammingWindow:fm,hannWindow:mm,frame:gm,stft:ym},ag={flipLeftRight:wm,grayscaleToRGB:bm,resizeNearestNeighbor:Pm,resizeBilinear:Vm,rgbToGrayscale:vm,rotateWithOffset:xm,cropAndResize:Am,nonMaxSuppression:km,nonMaxSuppressionAsync:Rm,nonMaxSuppressionWithScore:Fm,nonMaxSuppressionWithScoreAsync:Om,nonMaxSuppressionPadded:Lm,nonMaxSuppressionPaddedAsync:zm,threshold:Wm,transform:Gm},og={bandPart:Um,gramSchmidt:jm,qr:Hm},lg={absoluteDifference:Qm,computeWeightedLoss:Zm,cosineDistance:Xm,hingeLoss:$m,huberLoss:Jm,logLoss:eg,meanSquaredError:tg,sigmoidCrossEntropy:ng,softmaxCrossEntropy:sg},cg={sparseFillEmptyRows:cl({sparseFillEmptyRows_:function(e,t,n,s){const i=al(e,"indices","sparseFillEmptyRows","int32"),r=al(t,"values","sparseFillEmptyRows"),a=al(n,"denseShape","sparseFillEmptyRows","int32"),o=al(s,"defaultValue","sparseFillEmptyRows",r.dtype);if(2!==i.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${i.shape}`);if(1!==r.rank)throw new Error(`Values should be Tensor1D but received shape ${r.shape}`);if(1!==a.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${a.shape}`);if(0!==o.rank)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const l={indices:i,values:r,denseShape:a,defaultValue:o},c=Xo.runKernel(ra,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}}),sparseReshape:cl({sparseReshape_:function(e,t,n){const s=al(e,"inputIndices","sparseReshape","int32"),i=al(t,"inputShape","sparseReshape","int32"),r=al(n,"newShape","sparseReshape","int32");if(2!==s.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${s.shape}`);if(1!==i.rank)throw new Error(`Input shape should be Tensor1D but received shape ${i.shape}`);if(1!==r.rank)throw new Error(`New shape should be Tensor1D but received shape ${r.shape}`);const a={inputIndices:s,inputShape:i,newShape:r},o=Xo.runKernel(aa,a);return{outputIndices:o[0],outputShape:o[1]}}}),sparseSegmentMean:cl({sparseSegmentMean_:function(e,t,n){const s=al(e,"data","sparseSegmentMean"),i=al(t,"indices","sparseSegmentMean","int32"),r=al(n,"segmentIds","sparseSegmentMean","int32");if(s.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${i.shape}`);if(1!==r.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${r.shape}`);const a={data:s,indices:i,segmentIds:r};return Xo.runKernel(oa,a)}}),sparseSegmentSum:cl({sparseSegmentSum_:function(e,t,n){const s=al(e,"data","sparseSegmentSum"),i=al(t,"indices","sparseSegmentSum","int32"),r=al(n,"segmentIds","sparseSegmentSum","int32");if(s.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${i.shape}`);if(1!==r.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${r.shape}`);const a={data:s,indices:i,segmentIds:r};return Xo.runKernel(la,a)}})},ug={stringNGrams:cl({stringNGrams_:function(e,t,n,s,i,r,a,o){const l=al(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const c=al(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:s,leftPad:i,rightPad:r,padWidth:a,preserveShortSequences:o},h={data:l,dataSplits:c},d=Xo.runKernel(fa,h,u);return{nGrams:d[0],nGramsSplits:d[1]}}}),stringSplit:cl({stringSplit_:function(e,t,n=!0){const s=al(e,"input","stringSplit","string"),i=al(t,"delimiter","stringSplit","string");if(1!==s.rank)throw new Error(`Input should be Tensor1D but received shape ${s.shape}`);if(0!==i.rank)throw new Error(`Delimiter should be a scalar but received shape ${i.shape}`);const r={skipEmpty:n},a={input:s,delimiter:i},o=Xo.runKernel(ma,a,r);return{indices:o[0],values:o[1],shape:o[2]}}}),stringToHashBucketFast:cl({stringToHashBucketFast_:function(e,t){const n=al(e,"input","stringToHashBucketFast","string"),s={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const i={input:n};return Xo.runKernel(ga,i,s)}}),staticRegexReplace:cl({staticRegexReplace_:function(e,t,n,s=!0){const i=al(e,"input","staticRegexReplace","string"),r={pattern:t,rewrite:n,replaceGlobal:s};return Xo.runKernel(da,{x:i},r)}})};const hg=class{static sgd(e){return new tu(e)}static momentum(e,t,n=!1){return new nu(e,t,n)}static rmsprop(e,t=.9,n=0,s=null,i=!1){return new su(e,t,n,s,i)}static adam(e=.001,t=.9,n=.999,s=null){return new Kc(e,t,n,s)}static adadelta(e=.001,t=.95,n=null){return new Uc(e,t,n)}static adamax(e=.002,t=.9,n=.999,s=null,i=0){return new eu(e,t,n,s,i)}static adagrad(e,t=.1){return new qc(e,t)}},dg="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function pg(){return new Promise((e=>dg((()=>e()))))}function fg(e,t){const n=e[0].length;e.forEach(((e,t)=>{zn(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),zn(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const s=e[0];e.forEach(((e,i)=>{for(let r=0;r<n;r++)zn(r===t||e[r]===s[r],(()=>`Error in concat${n}D: Shape of tensors[${i}] (${e}) does not match the shape of the rest (${s}) along the non-concatenated axis ${i}.`))}))}function mg(e,t){const n=e[0].slice();for(let s=1;s<e.length;s++)n[t]+=e[s][t];return n}var gg,yg;function Ag(e,t,n){let s=new Array;if(null==n&&null==t)return s;if(null==t)for(;s.length<e+n.length;)s.push(-1);else s=t.slice();if(null==n)return s;if(e+n.length!==s.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${s.length}`);for(let i=1;i<n.length;++i){const r=n[i],a=s[s.length-n.length+i],o=s[a];if(r>=0)if(o>=0){if(o!==r)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${i+e}] = ${r} but shape[${i+e}] = ${o}`)}else s[a]=r}return s}function wg(e){const t={FIRST_DIM_SIZE:gg.FIRST_DIM_SIZE,VALUE_ROWIDS:gg.VALUE_ROWIDS,ROW_LENGTHS:gg.ROW_LENGTHS,ROW_SPLITS:gg.ROW_SPLITS,ROW_LIMITS:gg.ROW_LIMITS,ROW_STARTS:gg.ROW_STARTS},n=[];for(const s of e){if(!(s in t))break;n.push(t[s])}return n}function bg(e){return 0===e.length?0:e[0]===gg.FIRST_DIM_SIZE?e.length-1:e.length}function vg(e,t){if(null==e||null==t)return;const n=e.length,s=t.length;if(n>=s)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${s})`);for(let i=0;i<Math.min(n,s-1);++i){const n=e[i],s=t[i+1];if(n>=0&&s>=0&&1!==n&&n!==s)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${i-e.length}] = ${n} but ragged tensor input.flatValues.shape[${i-e.length}] = ${s}`)}}(yg=gg||(gg={}))[yg.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",yg[yg.VALUE_ROWIDS=1]="VALUE_ROWIDS",yg[yg.ROW_LENGTHS=2]="ROW_LENGTHS",yg[yg.ROW_SPLITS=3]="ROW_SPLITS",yg[yg.ROW_LIMITS=4]="ROW_LIMITS",yg[yg.ROW_STARTS=5]="ROW_STARTS";const xg=30;function Cg(e){return e<=xg?e:is(e,Math.floor(Math.sqrt(e)))}function kg(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}function Eg(e,t,n,s=!0){let i=[];if(s)i=i.concat(t.slice(0)),i.push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);const n=t.length;for(let s=0;s<n;++s)i=i.concat([e[s+1]/t[s],t[s]]);i=i.concat(e.slice(n+1))}return i}function Sg(e,t,n=!0){const s=[];if(n){s.push(t);for(let n=t+1;n<e;++n)n<=2*t?(s.push(n),s.push(n-(t+1))):s.push(n)}else{const n=[],i=[];for(let s=1;s<e;++s)s>=2*t+1||s%2==1?i.push(s):n.push(s);s.push(...n),s.push(0),s.push(...i)}return s}function Ig(e,t,n,s=!0){const i=[];s?i.push(e[0]/n):i.push(e[0]*n);for(let n=1;n<e.length;++n)n<=t.length?s?i.push(t[n-1]*e[n]):i.push(e[n]/t[n-1]):i.push(e[n]);return i}function Tg(e,t){const n=[0];for(let s=0;s<t;++s)n.push(e[s][0]);return n}function _g(e,t,n){const s=e.slice(0,1);for(let i=0;i<n;++i)s.push(e[i+1]-t[i][0]-t[i][1]);return s}function Ng(e,t){const n=e.shape.length,s=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(s<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${s}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[s-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[s-1]} vs. ${n}`);if(0===Wn(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const i=t.shape,r=i[i.length-1];let a=1;for(let e=0;e<i.length-1;++e)a*=i[e];const o=e.shape,l=i.slice();l.pop();let c=1;for(let e=r;e<n;++e)c*=o[e],l.push(o[e]);const u=[...rs(e.shape).map((e=>e/c)),1].slice(0,r);return[l,a,c,u]}const Dg=1.7580993408473768,Mg=1.0507009873554805,Bg=.3275911,Rg=.254829592,Fg=-.284496736,Og=1.421413741,Lg=-1.453152027,zg=1.061405429;function Vg(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let s=0;s<n.length;s+=2)n[s]=e[s/2],n[s+1]=t[s/2];return n}function Pg(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let s=0;s<e.length;s+=2)t[s/2]=e[s],n[s/2]=e[s+1];return{real:t,imag:n}}function Wg(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),s=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],s[Math.floor(t/4)]=e[t+1];return{real:n,imag:s}}function Gg(e){const t=Math.floor(e.length/4),n=new Float32Array(t),s=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],s[Math.floor(t/4)]=e[t+1];return{real:n,imag:s}}function Ug(e,t){return{real:e[2*t],imag:e[2*t+1]}}function jg(e,t,n,s){e[2*s]=t,e[2*s+1]=n}function qg(e,t){const n=new Float32Array(e/2),s=new Float32Array(e/2);for(let i=0;i<Math.ceil(e/2);i++){const r=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(r),s[i]=Math.sin(r)}return{real:n,imag:s}}function Hg(e,t,n){const s=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(s),imag:Math.sin(s)}}const Yg="->",Kg=/->/g,Zg=",",Qg="...";function Xg(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Kg,"").length)/Yg.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${Yg}").`);const[s,i]=e.split(Yg);zn(-1===s.indexOf(Qg),(()=>`The ellipsis notation ("${Qg}") is not supported yet.`));const r=s.split(Zg),a=r.length;if(t!==a)throw new Error(`Expected ${a} input tensors, received ${t}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let e=0;e<i.length;++e){const t=i[e];if(!r.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===o.indexOf(t)&&o.push(t)}for(let e=0;e<s.length;++e){const t=s[e];-1===o.indexOf(t)&&t!==Zg&&o.push(t)}const l=new Array(r.length);for(let e=0;e<a;++e){if(new Set(r[e].split("")).size!==r[e].length)throw new Error(`Found duplicate axes in input component ${r[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<r[e].length;++t)l[e].push(o.indexOf(r[e][t]))}const c=o.length,u=[];for(let e=i.length;e<c;++e)u.push(e);return{allDims:o,summedDims:u,idDims:l}}function $g(e,t){let n=new Array(e);n.fill(-1);for(let e=0;e<t.length;++e)n[t[e]]=e;const s=[];for(let t=0;t<e;++t)-1===n[t]&&s.push(t);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:s}}function Jg(e,t,n){const s=new Array(e);for(let e=0;e<n.length;++e){const i=n[e].shape;for(let n=0;n<t[e].length;++n)void 0===s[t[e][n]]?s[t[e][n]]=i[n]:zn(s[t[e][n]]===i[n],(()=>`Expected dimension ${s[t[e][n]]} at axis ${n} of input shaped ${JSON.stringify(i)}, but got dimension ${i[n]}`))}}function ey(e,t){const n=e,s=[];let i=0;0===e.length&&n.push(-1),i=e.length+1;for(let e=0;e<i;++e)s.push([]);const r=[];for(let e=0;e<n.length;++e){const i=ny(t,n[e]);for(const t of i)-1===r.indexOf(t)&&(s[e].push(t),r.push(t))}return{path:n,steps:s}}function ty(e){return e.every(((e,t)=>e===t))}function ny(e,t){const n=[];for(let s=0;s<e.length;++s)0!==e[s].length&&-1===e[s].indexOf(t)&&-1!==t||n.push(s);return n}function sy(e,t,n=0){let s=[];if("number"==typeof t)zn(e.shape[n]%t==0,(()=>"Number of splits must evenly divide the axis.")),s=new Array(t).fill(e.shape[n]/t);else{zn(t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0)<=1,(()=>"There should be only one negative value in split array."));const i=t.indexOf(-1);if(-1!==i){const s=t.reduce(((e,t)=>t>0?e+t:e));t[i]=e.shape[n]-s}zn(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),s=t}return s}function iy(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function ry(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function ay(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function oy(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function ly(e,t){return`size ${e} must be non-negative, not ${t}`}function cy(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function uy(e,t){return`Input to reshape is a SparseTensor with ${Wn(e)}\n  dense values, but the requested shape requires a multiple of ${Wn(t)}. inputShape=${e} outputShape= ${t}`}function hy(e,t){return`Input to reshape is a tensor with ${Wn(e)} dense values, but the requested shape has ${Wn(t)}. inputShape=${e} outputShape=${t}`}function dy(){return"segment ids must be >= 0"}function py(){return"segment ids are not increasing"}function fy(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function my(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function gy(e,t){let n,s=!1;for(e<=xg?(n=e,s=!0):n=is(e,Math.floor(Math.sqrt(e)));!s;)n>t||n===e?s=!0:n=is(e,n+1);return n}function yy(e,t,n){const s=[],i=e.length;for(let r=0;r<i;r++)r!==t?s.push(e[r]):s.push(n);return s}function Ay(e,t,n,s){const i=t.shape.length,r=e.shape.length;if(0!==s&&(s<-i||s>i))throw new Error(`Expect batchDims in the range of [-${i}, ${i}], but got ${s}`);if(s<0&&(s+=i),s>r)throw new Error(`batchDims (${s}) must be less than rank(x) (\n    ${r}).`);if(n<s)throw new Error(`batchDims (${s}) must be less than or equal to axis (${n}).`);for(let n=0;n<s;++n)if(e.shape[n]!==t.shape[n])throw new Error(`x.shape[${n}]: ${e.shape[n]} should be equal to indices.shape[${n}]: ${t.shape[n]}.`);const a=e.shape[n],o=[];let l=1,c=1,u=1;for(let t=0;t<s;++t)o.push(e.shape[t]),l*=e.shape[t];for(let t=s;t<n;t++)o.push(e.shape[t]),c*=e.shape[t];for(let e=s;e<i;e++)o.push(t.shape[e]);for(let t=n+1;t<r;t++)o.push(e.shape[t]),u*=e.shape[t];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:a,outputShape:o}}function wy(e){try{return e.map((e=>co(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function by(e){return e.map((e=>lo(e)))}!function(){for(const e of iu)Wc(e)}();const vy={kernelName:Cs,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(e,If(Ec(n,"float32"),-1))}}},xy={kernelName:ks,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Bc(Ec(n,"float32")),s=Mc(Yc(Oc(1),t));return $d(Nc(e,s))}}}},Cy={kernelName:Es,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Mc(Yc(Bc(Ec(n,"float32")),1));return Nc(e,t)}}}},ky={kernelName:Ss,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,i=$c(n.shape,s.shape);return{a:()=>{let t=e;const s=Xc(n.shape,i);return s.length>0&&(t=Td(t,s)),kh(t,n.shape)},b:()=>{let t=e;const n=Xc(s.shape,i);return n.length>0&&(t=Td(t,n)),kh(t,s.shape)}}}},Ey={kernelName:Is,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,s)=>{n[s]=()=>e.clone()})),n}},Sy={kernelName:Ns,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Rc(n)}}},Iy={kernelName:Ds,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Rc(n)}}},Ty={kernelName:Ms,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Nc(e,Mc(Yc(Oc(1),Bc(Ec(n,"float32")))))}}},_y={kernelName:Bs,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Mc(Tc(Oc(1),Bc(Ec(n,"float32"))));return Nc(e,t)}}}},Ny={kernelName:Os,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,i=$c(n.shape,s.shape);return{a:()=>{const t=Tc(Bc(n),Bc(s));let r=Dc(e,Nc(s,t));const a=Xc(n.shape,i);return a.length>0&&(r=Td(r,a)),kh(r,n.shape)},b:()=>{const t=Tc(Bc(n),Bc(s));let r=$d(Dc(e,Nc(n,t)));const a=Xc(s.shape,i);return a.length>0&&(r=Td(r,a)),kh(r,s.shape)}}}},Dy={kernelName:Rs,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Nc(e,Tc(Bc(Ec(n,"float32")),1))}}},My={kernelName:Fs,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Nc(e,Yc(Oc(1),Bc(Ec(n,"float32"))))}}};const By=cl({avgPool3dGrad_:function(e,t,n,s,i,r){const a=al(e,"dy","avgPool3dGrad"),o=al(t,"input","avgPool3dGrad");let l=a,c=o,u=!1;4===o.rank&&(u=!0,l=kh(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),c=kh(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),zn(5===l.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`)),zn(5===c.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${c.rank}.`)),Ch("avgPool3dGrad",i,r);const h={dy:l,input:c},d={filterSize:n,strides:s,pad:i,dimRoundingMode:r},p=Xo.runKernel(Ps,h,d);return u?kh(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),Ry={kernelName:Vs,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{filterSize:i,strides:r,pad:a,dimRoundingMode:o}=n;return{x:()=>By(e,s,i,r,a,o)}}};const Fy=cl({avgPoolGrad_:function(e,t,n,s,i){const r=al(e,"dy","avgPoolGrad"),a=al(t,"input","avgPoolGrad");zn(a.rank===r.rank,(()=>`Rank of input (${a.rank}) does not match rank of dy (${r.rank})`));let o=a,l=r,c=!1;3===a.rank&&(c=!0,o=kh(a,[1,a.shape[0],a.shape[1],a.shape[2]]),l=kh(r,[1,r.shape[0],r.shape[1],r.shape[2]])),zn(4===l.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`)),zn(4===o.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`));const u={dy:l,input:o},h={filterSize:n,strides:s,pad:i},d=Xo.runKernel(zs,u,h);return c?kh(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),Oy={kernelName:Ls,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{filterSize:i,strides:r,pad:a}=n;return{x:()=>Fy(e,s,i,r,a)}}},Ly={kernelName:Ws,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[s,i]=t,{transposeA:r,transposeB:a}=n;return r||a?!r&&a?{a:()=>Th(e,i,!1,!1),b:()=>Th(e,s,!0,!1)}:r&&!a?{a:()=>Th(i,e,!1,!0),b:()=>Th(s,e,!1,!1)}:{a:()=>Th(i,e,!0,!0),b:()=>Th(e,s,!0,!0)}:{a:()=>Th(e,i,!1,!0),b:()=>Th(s,e,!0,!1)}}},zy={kernelName:Gs,gradFunc:(e,t,n)=>{const{blockShape:s,crops:i}=n;return{x:()=>Mp(e,s,i)}}},Vy={kernelName:"BroadcastTo",gradFunc:(e,t,n)=>{const s=n,i=s.inputShape,r=s.shape,a=Array.from(r);for(let e=i.length-1;e>=0;e--)if(i[e]===r[e])a[e]=1;else if(1!==i[e])throw new Error(`broadcastTo(): [${i}] cannot be broadcast to [${r}].`);const o=[];for(let e=0;e<a.length;e++)a[e]>1&&o.push(e);return{x:()=>Td(e,o,!0)}}},Py={kernelName:Hs,gradFunc:e=>({x:()=>e.clone()})},Wy={kernelName:Ys,gradFunc:e=>({x:()=>Rc(e)})},Gy={kernelName:Ks,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{clipValueMin:i,clipValueMax:r}=n;return{x:()=>hd(sp(Pd(s,i),Yd(s,r)),e,Rc(e))}}},Uy={kernelName:Qs,inputsToSave:["x"],gradFunc:vy.gradFunc},jy={kernelName:Xs,saveAllInputs:!0,gradFunc:(e,t,n)=>{const s=t.map((e=>e.shape)),{axis:i}=n,r=Kn(i,t[0].shape)[0],a=s.map((e=>e[r]));return xf(e,a,r).map((e=>()=>e))}},qy={kernelName:$s,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[s,i]=t,{dilations:r,strides:a,pad:o,dataFormat:l}=n;return zn(wh(r),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`)),{x:()=>Qh(s.shape,e,i,a,o,l),filter:()=>im(s,e,i.shape,a,o,l)}}},Hy={kernelName:ei,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[s,i]=t,{strides:r,pad:a,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>Kh(e,i,r,a,o,1,l),filter:()=>im(e,s,i.shape,r,a,o,l)}}};const Yy=cl({conv3DBackpropFilter_:function(e,t,n,s,i){let r=e;4===e.rank&&(r=kh(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let a=t;4===a.rank&&(a=kh(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),zn(5===r.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${r.shape}.`)),zn(5===a.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${a.shape}.`)),zn(5===n.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`)),zn(r.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${r.shape[4]}) must match input depth in filter (${n[3]}.`)),zn(a.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${a.shape[4]}) must match output depth for filter (${n[4]}).`));const o={x:r,dy:a},l={strides:s,pad:i,filterShape:n};return Xo.runKernel(ni,o,l)}}),Ky={kernelName:ti,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:s,strides:i,pad:r}=n;zn(wh(s),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`));const[a,o]=t;return{x:()=>Jh(a.shape,e,o,i,r),filter:()=>Yy(a,e,o.shape,i,r)}}},Zy={kernelName:ii,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc($d(df(Ec(n,"float32"))),e)}}},Qy={kernelName:ri,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(pf(Ec(n,"float32")),e)}}},Xy={kernelName:oi,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{axis:i,exclusive:r,reverse:a}=n;return{x:()=>{const t=Cd([i],s.rank);let n=id(e,i,r,!a);return null!=t&&(n=Zf(n,t)),n}}}},$y={kernelName:hi,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:s,strides:i,pad:r,dimRoundingMode:a}=n,o=null==s?[1,1]:s;zn(wh(o),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`));const[l,c]=t;return zn(4===l.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`)),zn(4===c.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${c.rank}.`)),zn(l.shape[3]===c.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${c.shape[2]}.`)),zn(bh(i,o),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${i} and dilations '${o}'.`)),Ch("depthwiseConv2d",r,a),{x:()=>hm(l.shape,e,c,i,r,o,a),filter:()=>um(l,e,c.shape,i,r,o,a)}}},Jy={kernelName:mi,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[s,i]=t,r={x:s,filter:i,dy:e},a={x:s,filter:i,dy:e};return{x:()=>Xo.runKernel(gi,r,n),filter:()=>Xo.runKernel(yi,a,n)}}},eA={kernelName:vi,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,s={dy:e,y:n};return{x:()=>Xo.runKernel(xi,s)}}},tA={kernelName:Ci,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,s=Dc(Md($d(Bc(n))),2/Math.sqrt(Math.PI));return{x:()=>Dc(e,s)}}},nA={kernelName:Ei,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(e,n)}}},sA={kernelName:Si,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>kh(e,n.shape)}}},iA={kernelName:Ii,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(e,Md(n))}}},rA={kernelName:Di,gradFunc:e=>({x:()=>Rc(e)})},aA={kernelName:Mi,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,i=$c(n.shape,s.shape);return{a:()=>{const t=Nc(e,Ec(s,"float32")),r=Xc(n.shape,i);return r.length>0?kh(Td(t,r),n.shape):t},b:()=>{let t=Dc(e,Ec(n,"float32"));const r=Xc(s.shape,i);r.length>0&&(t=kh(Td(t,r),s.shape));const a=Bc(s);return $d(Nc(t,Ec(a,"float32")))}}}},oA={kernelName:Bi,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:s}=n,[i,r,a,o]=t,l=null==o?Oc(1):o,c=Xc(r.shape,i.shape),u=[];if(1===r.rank){for(let e=0;e<i.shape.length-1;++e)u.push(i.shape[e]);u.push(1)}const h=Yc(i,r),d=Dc(e,l),p=of(Tc(a,Oc(s))),f=Dc(Dc(Dc(p,p),p),Oc(-.5));return{x:()=>1===r.rank?kh(Dc(Dc(e,Fd(kh(p,[1,1,1,r.shape[0]]),u)),l),i.shape):kh(Dc(Dc(e,p),l),i.shape),mean:()=>{let e=Dc(Dc(p,Oc(-1)),d);return 1===r.rank&&(e=Td(e,c)),kh(e,r.shape)},variance:()=>{let e=Dc(Dc(f,h),d);return 1===r.rank&&(e=Td(e,c)),kh(e,r.shape)},scale:()=>{const t=Dc(h,p);let n=Dc(e,t);return 1===r.rank&&(n=Td(n,c)),kh(n,r.shape)},offset:()=>{let t=e;return 1===r.rank&&(t=Td(t,c)),kh(t,r.shape)}}}},lA={kernelName:Ri,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[s,i]=t,{axis:r,batchDims:a}=n,o=Kn(r,s.shape)[0],l=(e,t,n)=>()=>{const s=e.shape,i=t.size,a=s.slice(0,o),l=a.length,c=s.slice(r,s.length).slice(1),u=c.length,h=cA(0,l),d=cA(l+1,l+1+u),p=uA([a,[i],c]),f=kh(n,p),m=kh(t,[i]),g=uA([[l],h,d]),y=Zf(f,g);let A=Gf(y,m,e.shape[o]);const w=kd(g);return A=Zf(A,w),A};if(1===a){const t=s.shape[0],n=s.split(t,0);return{x:()=>{const t=Sf(n.map(((t,n)=>l(t,i.slice(n,1),e.slice(n,1))())));return t.reshape(s.shape)},indices:()=>i}}return{x:l(s,i,e),indices:()=>i}}};function cA(e,t){const n=[];for(let s=e;s<t;++s)n.push(s);return n}function uA(e){const t=[];for(let n=0;n<e.length;++n)for(let s=0;s<e[n].length;++s)t.push(e[n][s]);return t}const hA={kernelName:Li,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t;return{a:()=>Rc(n),b:()=>Rc(s)}}},dA={kernelName:zi,gradFunc:e=>({x:()=>Ec(e,"float32")})},pA={kernelName:Wi,gradFunc:e=>({x:()=>Rc(e)})},fA={kernelName:Gi,gradFunc:e=>({x:()=>Rc(e)})},mA={kernelName:Ui,gradFunc:e=>({x:()=>Rc(e)})},gA={kernelName:ji,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{alpha:i}=n,r=Vd(s,0);return{x:()=>hd(r,e,Dc(e,i))}}},yA={kernelName:Zi,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Nc(e,Tc(n,1))}}},AA={kernelName:Ki,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Nc(e,Ec(n,"float32"))}}},wA={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[s]=t,{axis:i}=n;return{logits:()=>{const t=Md(s);return Yc(e,Dc(Td(e,i,!0),t))}}}};const bA=cl({localResponseNormalizationBackprop_:function(e,t,n,s=5,i=1,r=1,a=.5){const o={x:e,y:t,dy:n},l={depthRadius:s,bias:i,alpha:r,beta:a};return Xo.runKernel(er,o,l)}}),vA={kernelName:Ji,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[s,i]=t,{depthRadius:r,bias:a,alpha:o,beta:l}=n;return{x:()=>bA(s,i,e,r,a,o,l)}}};function xA(e,t,n,s){return t.rank<n.rank&&(t=kh(t,vd(t.shape,s))),e.rank<n.rank&&(e=kh(e,vd(e.shape,s))),{x:()=>Dc(e,Ec(ud(n,t),e.dtype))}}const CA={kernelName:tr,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const s=n,{reductionIndices:i}=s,r=t[0],a=xA(e,t[1],r,Kn(i,r.shape));return{x:()=>a.x()}}},kA={kernelName:nr,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t;return{a:()=>Dc(e,Ec(Pd(n,s),"float32")),b:()=>Dc(e,Ec(Hd(n,s),"float32"))}}};const EA=cl({maxPool3dGrad_:function(e,t,n,s,i,r,a){const o=al(e,"dy","maxPool3dGrad"),l=al(t,"input","maxPool3dGrad"),c=al(n,"output","maxPool3dGrad");let u=o,h=l,d=c,p=!1;4===l.rank&&(p=!0,u=kh(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),h=kh(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=kh(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),zn(5===u.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`)),zn(5===h.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${h.rank}.`)),zn(5===d.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`)),Ch("maxPool3dGrad",r,a);const f={dy:u,input:h,output:d},m={filterSize:s,strides:i,pad:r,dimRoundingMode:a},g=Xo.runKernel(ar,f,m);return p?kh(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),SA={kernelName:rr,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[s,i]=t,{filterSize:r,strides:a,pad:o,dimRoundingMode:l}=n;return{x:()=>EA(e,s,i,r,a,o,l)}}};const IA=cl({maxPoolGrad_:function(e,t,n,s,i,r,a){const o=al(e,"dy","maxPoolGrad"),l=al(t,"input","maxPoolGrad"),c=al(n,"output","maxPoolGrad");zn(l.rank===o.rank,(()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`)),zn(4===o.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`)),zn(4===l.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`)),Ch("maxPoolGrad",r,a);const u={dy:o,input:l,output:c},h={filterSize:s,strides:i,pad:r,dimRoundingMode:a};return Xo.runKernel(ir,u,h)}}),TA={kernelName:xr,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:s}=n;return Uf(e,s).map((e=>()=>e))}},_A={kernelName:Cr,inputsToSave:["x"],gradFunc:(e,t,n)=>{const s=t[0],{paddings:i}=n,r=i.map((e=>e[0]));return{x:()=>Nh(e,r,s.shape)}}};function NA(e,t,n){const s=e.shape.length,i=s-n.length,r=Cd(n,s);let a=e;null!=r&&(a=Zf(e,r));const o=a.shape.slice(),l=o.splice(s-n.length,n.length).reduce(((e,t)=>e*t),1);o.push(l);let c=function(e,t,n){const s=e.shape.slice();s[n]=1;const i=kh(t,s),r=sd(e,n,!0,!1),a=sd(e,n,!0,!0),o=Dc(r,a);return Dc(i,o)}(a.reshape(o),t,i);if(c=c.reshape(a.shape),null!=r){const e=kd(r);c=Zf(c,e)}return c}const DA={kernelName:na,gradFunc:(e,t,n)=>{const{blockShape:s,paddings:i}=n;return{x:()=>Bh(e,s,i)}}},MA={kernelName:sa,gradFunc:(e,t,n)=>{const{axis:s}=n;return{x:()=>Ih(e,s)}}};const BA=[vy,xy,Cy,ky,Ey,Sy,Iy,Ty,_y,Ny,Dy,My,Ry,Oy,Ly,zy,Vy,Py,Wy,Gy,Uy,jy,Hy,qy,Ky,Zy,Qy,Xy,$y,Jy,{kernelName:wi,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,i=$c(n.shape,s.shape);return{a:()=>{const t=Nc(e,Ec(s,"float32")),r=Xc(n.shape,i);return r.length>0?kh(Td(t,r),n.shape):t},b:()=>{let t=Dc(e,Ec(n,"float32"));const r=Xc(s.shape,i);r.length>0&&(t=kh(Td(t,r),s.shape));const a=Bc(s);return $d(Nc(t,Ec(a,"float32")))}}}},eA,tA,nA,sA,iA,aA,rA,oA,lA,hA,dA,pA,fA,mA,gA,yA,AA,wA,vA,CA,CA,kA,SA,{kernelName:sr,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[s,i]=t,{filterSize:r,strides:a,pad:o}=n;return{x:()=>IA(e,s,i,r,a,o)}}},{kernelName:lr,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{axis:i}=n,r=Kn(i,s.shape),a=Wn(bd(s.shape,r)[1]);return{x:()=>{const t=s.shape.slice();r.forEach((e=>{t[e]=1}));const n=kh(e,t);return Nc(Dc(n,mp(s.shape,"float32")),a)}}}},{kernelName:cr,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const s=n,{axis:i}=s,[r,a]=t,o=xA(e,a,r,Kn(i,r.shape));return{x:()=>o.x()}}},{kernelName:ur,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t;return{a:()=>Dc(e,Ec(Yd(n,s),"float32")),b:()=>Dc(e,Ec(Vd(n,s),"float32"))}}},{kernelName:hr,inputsToSave:["x"],gradFunc:(e,t,n)=>{const s=t[0],{paddings:i}=n,r=i.map((e=>e[0]));return{x:()=>Nh(e,r,s.shape)}}},{kernelName:dr,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,i=$c(n.shape,s.shape);return{a:()=>{const t=Xc(n.shape,i);return t.length>0?kh(Td(e,t),n.shape):e},b:()=>{const t=Dc(e,$d(Ld(Nc(n,s)))),r=Xc(s.shape,i);return r.length>0?kh(Td(t,r),s.shape):t}}}},{kernelName:fr,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,i=$c(n.shape,s.shape);return{a:()=>{const t=Dc(e,Ec(s,"float32")),r=Xc(n.shape,i);return r.length>0?kh(Td(t,r),n.shape):t},b:()=>{const t=Dc(e,Ec(n,"float32")),r=Xc(s.shape,i);return r.length>0?kh(Td(t,r),s.shape):t}}}},{kernelName:mr,gradFunc:e=>({x:()=>$d(e)})},{kernelName:vr,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>fp(n.shape,"float32")}}},{kernelName:br,gradFunc:e=>({x:()=>Rc(e)})},TA,_A,_A,{kernelName:kr,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,s,i]=t,r=n,a=s,o=$c(r.shape,a.shape);return{a:()=>{const t=Ec(a,"float32");let n=Dc(e,Dc(t,Hc(r,Yc(t,Oc(1)))));const s=Xc(r.shape,o);return s.length>0&&(n=Td(n,s)),kh(n,r.shape)},b:()=>{const t=Vd(r,0),n=hd(t,Qd(r),Rc(r));let s=Dc(e,Dc(i,n));const l=Xc(a.shape,o);return l.length>0&&(s=Td(s,l)),kh(s,a.shape)}}}},{kernelName:Er,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,s]=t,i=Vd(n,0);return{x:()=>hd(i,e,Dc(e,s)),alpha:()=>{let t=hd(i,Rc(e),Dc(e,n));const r=Xc(s.shape,e.shape);return r.length>0&&(t=Td(t,r)),kh(t,s.shape)}}}},{kernelName:Sr,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{axis:i}=n;let r=[];return r=null==i?s.shape.map(((e,t)=>t)):"number"==typeof i?[i]:i,{x:()=>NA(s,e,r)}}},{kernelName:Mr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Nc(e,$d(Bc(n)))}}},{kernelName:Vr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,s=Dc(Yd(n,6),If(n));return{x:()=>Dc(e,Ec(s,"float32"))}}},{kernelName:Br,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(e,Ec(If(n),"float32"))}}},{kernelName:Rr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>kh(e,n.shape)}}},{kernelName:Lr,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[s]=t,i={dy:e,images:s};return{images:()=>Xo.runKernel(zr,i,n)}}},{kernelName:Fr,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[s]=t,i={dy:e,images:s};return{images:()=>Xo.runKernel(Or,i,n)}}},{kernelName:Pr,gradFunc:(e,t,n)=>{const{dims:s}=n,i=Kn(s,e.shape);return{x:()=>ef(e,i)}}},{kernelName:Wr,gradFunc:e=>({x:()=>Rc(e)})},{kernelName:Gr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>$d(Nc(e,Dc(Hc(n,1.5),2)))}}},{kernelName:Hr,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>Ec(Rc(n),"float32"),t:()=>Dc(e,Ec(n,e.dtype)),e:()=>Dc(e,Ec(ip(n),e.dtype))}}},{kernelName:Yr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Vd(n,Oc(0)),s=Oc(Dg),i=Oc(Mg),r=Dc(e,i),a=Dc(Dc(e,s),Md(Ec(n,"float32")));return hd(t,r,a)}}}},{kernelName:$r,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(e,Dc(n,Yc(Oc(1),n)))}}},{kernelName:Xr,gradFunc:e=>({x:()=>Rc(e)})},{kernelName:Zr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(td(Ec(n,"float32")),e)}}},{kernelName:Qr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(nd(Ec(n,"float32")),e)}}},{kernelName:Kr,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{begin:i,size:r}=n,a=s.shape,[o,l]=Ku(s,i,r),c=[];for(let t=0;t<e.rank;t++)c.push([o[t],a[t]-o[t]-l[t]]);return{x:()=>Ip(e,c)}}},{kernelName:ia,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[s]=t,{dim:i}=n,r=Dc(e,s);return{logits:()=>Yc(r,Dc(Td(r,[i],true),s))}}},{kernelName:Jr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(e,_h(n))}}},DA,DA,MA,MA,{kernelName:ea,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Nc(e,Dc(Mc(Ec(n,"float32")),2))}}},{kernelName:ua,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,i=Oc(2);return{a:()=>Dc(e,Dc(i,Yc(n,s))),b:()=>Dc(e,Dc(i,Yc(s,n)))}}},{kernelName:ha,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(e,Dc(Ec(n,"float32"),2))}}},{kernelName:Ta,gradFunc:e=>({x:()=>Rc(e)})},{kernelName:ya,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,s]=t,i=$c(n.shape,s.shape);return{a:()=>{let t=e;const s=Xc(n.shape,i);return s.length>0&&(t=Td(t,s)),kh(t,n.shape)},b:()=>{let t=e;const n=Xc(s.shape,i);return n.length>0&&(t=Td(t,n)),kh($d(t),s.shape)}}}},{kernelName:ta,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,i=s.shape.slice(),{axis:r}=n;Kn(r,s.shape).forEach((e=>{i[e]=1}));const a=kh(e,i),o=Dc(a,mp(s.shape,"float32"));return{x:()=>o}}},{kernelName:Aa,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Nc(e,Bc(td(n)))}}},{kernelName:wa,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Dc(Yc(Oc(1),Bc(n)),e)}}},{kernelName:ba,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{reps:i}=n;return{x:()=>{let t=Rc(s);if(1===s.rank)for(let n=0;n<i[0];++n)t=Tc(t,Nh(e,[n*s.shape[0]],[s.shape[0]]));else if(2===s.rank)for(let n=0;n<i[0];++n)for(let r=0;r<i[1];++r)t=Tc(t,Nh(e,[n*s.shape[0],r*s.shape[1]],[s.shape[0],s.shape[1]]));else if(3===s.rank)for(let n=0;n<i[0];++n)for(let r=0;r<i[1];++r)for(let a=0;a<i[2];++a)t=Tc(t,Nh(e,[n*s.shape[0],r*s.shape[1],a*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(4!==s.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${s.rank} tensors yet.`);for(let n=0;n<i[0];++n)for(let r=0;r<i[1];++r)for(let a=0;a<i[2];++a)for(let o=0;o<i[3];++o)t=Tc(t,Nh(e,[n*s.shape[0],r*s.shape[1],a*s.shape[2],o*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return t}}}},{kernelName:Ca,gradFunc:(e,t,n)=>{const s=n,{perm:i}=s,r=kd(i);return{x:()=>Zf(e,r)}}},{kernelName:Ea,gradFunc:(e,t,n)=>{const s=n,{axis:i}=s;return{value:()=>Sf(e,i)}}},{kernelName:Sa,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=Jc(t,Rc(t)),s=zd(e,n);let i=Pd(t,Oc(0,"int32"));const r=s.rank-i.rank;for(let e=0;e<r;++e)i=Bd(i,e+1);i=sp(i,mp(s.shape,"bool"));const a=Rc(s);return hd(i,s,a)}(e,n)}}},{kernelName:Ia,gradFunc:e=>({x:()=>Rc(e)})}];for(const e of BA)Ga(e);So().prototype.abs=function(){return this.throwIfDisposed(),Zc(this)},So().prototype.acos=function(){return this.throwIfDisposed(),Xu(this)},So().prototype.acosh=function(){return this.throwIfDisposed(),$u(this)},So().prototype.add=function(e){return this.throwIfDisposed(),Tc(this,e)},So().prototype.all=function(e,t){return this.throwIfDisposed(),eh(this,e,t)},So().prototype.any=function(e,t){return this.throwIfDisposed(),th(this,e,t)},So().prototype.argMax=function(e){return this.throwIfDisposed(),nh(this,e)},So().prototype.argMin=function(e){return this.throwIfDisposed(),sh(this,e)},So().prototype.asScalar=function(){return this.throwIfDisposed(),zn(1===this.size,(()=>"The array must have only 1 element.")),kh(this,[])},So().prototype.asType=function(e){return this.throwIfDisposed(),Ec(this,e)},So().prototype.as1D=function(){return this.throwIfDisposed(),kh(this,[this.size])},So().prototype.as2D=function(e,t){return this.throwIfDisposed(),kh(this,[e,t])},So().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),kh(this,[e,t,n])},So().prototype.as4D=function(e,t,n,s){return this.throwIfDisposed(),kh(this,[e,t,n,s])},So().prototype.as5D=function(e,t,n,s,i){return this.throwIfDisposed(),kh(this,[e,t,n,s,i])},So().prototype.asin=function(){return this.throwIfDisposed(),ih(this)},So().prototype.asinh=function(){return this.throwIfDisposed(),rh(this)},So().prototype.atan=function(){return this.throwIfDisposed(),ah(this)},So().prototype.atan2=function(e){return this.throwIfDisposed(),oh(this,e)},So().prototype.atanh=function(){return this.throwIfDisposed(),lh(this)},So().prototype.avgPool=function(e,t,n,s){return this.throwIfDisposed(),Eh(this,e,t,n,s)},So().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Bh(this,e,t)},So().prototype.batchNorm=function(e,t,n,s,i){return this.throwIfDisposed(),Rh(this,e,t,n,s,i)},So().prototype.broadcastTo=function(e){return this.throwIfDisposed(),Wh(this,e)},So().prototype.cast=function(e){return this.throwIfDisposed(),Ec(this,e)},So().prototype.ceil=function(){return this.throwIfDisposed(),Gh(this)},So().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Uh(this,e,t)},So().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Eo&&(e=[e]),Ih([this,...e],t)},So().prototype.conv1d=function(e,t,n,s,i,r){return this.throwIfDisposed(),Zh(this,e,t,n,s,i,r)},So().prototype.conv2dTranspose=function(e,t,n,s,i){return this.throwIfDisposed(),Xh(this,e,t,n,s,i)},So().prototype.conv2d=function(e,t,n,s,i,r){return this.throwIfDisposed(),Kh(this,e,t,n,s,i,r)},So().prototype.cos=function(){return this.throwIfDisposed(),td(this)},So().prototype.cosh=function(){return this.throwIfDisposed(),nd(this)},So().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),sd(this,e,t,n)},So().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),id(this,e,t,n)},So().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),ad(this,e,t)},So().prototype.depthwiseConv2d=function(e,t,n,s,i,r){return this.throwIfDisposed(),od(this,e,t,n,s,i,r)},So().prototype.dilation2d=function(e,t,n,s,i){return this.throwIfDisposed(),cd(this,e,t,n,s,i)},So().prototype.divNoNan=function(e){return this.throwIfDisposed(),dd(this,e)},So().prototype.div=function(e){return this.throwIfDisposed(),Nc(this,e)},So().prototype.dot=function(e){return this.throwIfDisposed(),pd(this,e)},So().prototype.elu=function(){return this.throwIfDisposed(),md(this)},So().prototype.equal=function(e){return this.throwIfDisposed(),ud(this,e)},So().prototype.erf=function(){return this.throwIfDisposed(),yd(this)},So().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),Dd(this,e,t)},So().prototype.exp=function(){return this.throwIfDisposed(),Md(this)},So().prototype.expandDims=function(e){return this.throwIfDisposed(),Bd(this,e)},So().prototype.expm1=function(){return this.throwIfDisposed(),Rd(this)},So().prototype.fft=function(){return this.throwIfDisposed(),wf(this)},So().prototype.flatten=function(){return this.throwIfDisposed(),kh(this,[this.size])},So().prototype.floor=function(){return this.throwIfDisposed(),Ld(this)},So().prototype.floorDiv=function(e){return this.throwIfDisposed(),_c(this,e)},So().prototype.gather=function(e,t,n){return this.throwIfDisposed(),zd(this,e,t,n)},So().prototype.greaterEqual=function(e){return this.throwIfDisposed(),Pd(this,e)},So().prototype.greater=function(e){return this.throwIfDisposed(),Vd(this,e)},So().prototype.ifft=function(){return this.throwIfDisposed(),bf(this)},So().prototype.irfft=function(){return this.throwIfDisposed(),vf(this)},So().prototype.isFinite=function(){return this.throwIfDisposed(),Gd(this)},So().prototype.isInf=function(){return this.throwIfDisposed(),Ud(this)},So().prototype.isNaN=function(){return this.throwIfDisposed(),jd(this)},So().prototype.leakyRelu=function(e){return this.throwIfDisposed(),qd(this,e)},So().prototype.lessEqual=function(e){return this.throwIfDisposed(),Yd(this,e)},So().prototype.less=function(e){return this.throwIfDisposed(),Hd(this,e)},So().prototype.localResponseNormalization=function(e,t,n,s){return this.throwIfDisposed(),Zd(this,e,t,n,s)},So().prototype.logSigmoid=function(){return this.throwIfDisposed(),ep(this)},So().prototype.logSoftmax=function(e){return this.throwIfDisposed(),tp(this,e)},So().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),np(this,e,t)},So().prototype.log=function(){return this.throwIfDisposed(),Qd(this)},So().prototype.log1p=function(){return this.throwIfDisposed(),Xd(this)},So().prototype.logicalAnd=function(e){return this.throwIfDisposed(),sp(this,e)},So().prototype.logicalNot=function(){return this.throwIfDisposed(),ip(this)},So().prototype.logicalOr=function(e){return this.throwIfDisposed(),rp(this,e)},So().prototype.logicalXor=function(e){return this.throwIfDisposed(),ap(this,e)},So().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Th(this,e,t,n)},So().prototype.maxPool=function(e,t,n,s){return this.throwIfDisposed(),up(this,e,t,n,s)},So().prototype.max=function(e,t){return this.throwIfDisposed(),Sd(this,e,t)},So().prototype.maximum=function(e){return this.throwIfDisposed(),Jc(this,e)},So().prototype.mean=function(e,t){return this.throwIfDisposed(),pp(this,e,t)},So().prototype.min=function(e,t){return this.throwIfDisposed(),Id(this,e,t)},So().prototype.minimum=function(e){return this.throwIfDisposed(),yp(this,e)},So().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),Ap(this,e,t)},So().prototype.mod=function(e){return this.throwIfDisposed(),wp(this,e)},So().prototype.mul=function(e){return this.throwIfDisposed(),Dc(this,e)},So().prototype.neg=function(){return this.throwIfDisposed(),$d(this)},So().prototype.norm=function(e,t,n){return this.throwIfDisposed(),Nd(this,e,t,n)},So().prototype.notEqual=function(e){return this.throwIfDisposed(),Cp(this,e)},So().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),kp(this,e,t,n)},So().prototype.onesLike=function(){return this.throwIfDisposed(),Ep(this)},So().prototype.pad=function(e,t){return this.throwIfDisposed(),Ip(this,e,t)},So().prototype.pool=function(e,t,n,s,i,r){return this.throwIfDisposed(),Bp(this,e,t,n,s,i,r)},So().prototype.pow=function(e){return this.throwIfDisposed(),Hc(this,e)},So().prototype.prelu=function(e){return this.throwIfDisposed(),Rp(this,e)},So().prototype.prod=function(e,t){return this.throwIfDisposed(),Fp(this,e,t)},So().prototype.reciprocal=function(){return this.throwIfDisposed(),Xp(this)},So().prototype.relu=function(){return this.throwIfDisposed(),$p(this)},So().prototype.relu6=function(){return this.throwIfDisposed(),Jp(this)},So().prototype.reshapeAs=function(e){return this.throwIfDisposed(),kh(this,e.shape)},So().prototype.reshape=function(e){return this.throwIfDisposed(),kh(this,e)},So().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),Vm(this,e,t,n)},So().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),Pm(this,e,t,n)},So().prototype.reverse=function(e){return this.throwIfDisposed(),ef(this,e)},So().prototype.rfft=function(){return this.throwIfDisposed(),Cf(this)},So().prototype.round=function(){return this.throwIfDisposed(),af(this)},So().prototype.rsqrt=function(){return this.throwIfDisposed(),of(this)},So().prototype.selu=function(){return this.throwIfDisposed(),lf(this)},So().prototype.separableConv2d=function(e,t,n,s,i,r){return this.throwIfDisposed(),cf(this,e,t,n,s,i,r)},So().prototype.sigmoid=function(){return this.throwIfDisposed(),_h(this)},So().prototype.sign=function(){return this.throwIfDisposed(),hf(this)},So().prototype.sin=function(){return this.throwIfDisposed(),df(this)},So().prototype.sinh=function(){return this.throwIfDisposed(),pf(this)},So().prototype.slice=function(e,t){return this.throwIfDisposed(),Nh(this,e,t)},So().prototype.softmax=function(e){return this.throwIfDisposed(),Af(this,e)},So().prototype.softplus=function(){return this.throwIfDisposed(),Jd(this)},So().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Mp(this,e,t)},So().prototype.split=function(e,t){return this.throwIfDisposed(),xf(this,e,t)},So().prototype.sqrt=function(){return this.throwIfDisposed(),Mc(this)},So().prototype.square=function(){return this.throwIfDisposed(),Bc(this)},So().prototype.squaredDifference=function(e){return this.throwIfDisposed(),kf(this,e)},So().prototype.squeeze=function(e){return this.throwIfDisposed(),Ef(this,e)},So().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof Eo?[this,e]:[this,...e];return Sf(n,t)},So().prototype.step=function(e){return this.throwIfDisposed(),If(this,e)},So().prototype.stridedSlice=function(e,t,n,s,i,r,a,o){return this.throwIfDisposed(),Tf(this,e,t,n,s,i,r,a,o)},So().prototype.sub=function(e){return this.throwIfDisposed(),Yc(this,e)},So().prototype.sum=function(e,t){return this.throwIfDisposed(),Td(this,e,t)},So().prototype.tan=function(){return this.throwIfDisposed(),_f(this)},So().prototype.tanh=function(){return this.throwIfDisposed(),Dh(this)},So().prototype.tile=function(e){return this.throwIfDisposed(),Fd(this,e)},So().prototype.toBool=function(){return this.throwIfDisposed(),Ec(this,"bool")},So().prototype.toFloat=function(){return this.throwIfDisposed(),Ec(this,"float32")},So().prototype.toInt=function(){return this.throwIfDisposed(),Ec(this,"int32")},So().prototype.topk=function(e,t){return this.throwIfDisposed(),Vf(this,e,t)},So().prototype.transpose=function(e){return this.throwIfDisposed(),Zf(this,e)},So().prototype.unique=function(e){return this.throwIfDisposed(),Wf(this,e)},So().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Gf(this,e,t)},So().prototype.unstack=function(e){return this.throwIfDisposed(),Uf(this,e)},So().prototype.where=function(e,t){return this.throwIfDisposed(),hd(e,this,t)},So().prototype.zerosLike=function(){return this.throwIfDisposed(),Rc(this)};class RA extends Error{constructor(e){super(e),Object.setPrototypeOf(this,RA.prototype)}}class FA extends Error{constructor(e){super(e),Object.setPrototypeOf(this,FA.prototype)}}class OA extends Error{constructor(e){super(e),Object.setPrototypeOf(this,OA.prototype)}}class LA extends Error{constructor(e){super(e),Object.setPrototypeOf(this,LA.prototype)}}class zA extends Error{constructor(e){super(e),Object.setPrototypeOf(this,zA.prototype)}}Error;class VA{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function PA(e,t){if(Array.isArray(e)){let n=[];for(let s=0;s<t;s++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function WA(e,t){if(!e)throw new zA(t)}function GA(e,t){let n=0;for(const s of e)s===t&&n++;return n}function UA(e){return 1===e.length?e[0]:e}function jA(e){return Array.isArray(e)?e:[e]}function qA(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function HA(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let YA={};function KA(e){if(null==e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function ZA(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach((e=>ZA(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"==typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!=typeof t.value?ZA(t):e[n]=t.value)}}}function QA(e,t={},n={},s="object",i=!1){if("string"==typeof e){const i=e;let r;if(i in n)r=n[i];else if(i in YA)r=YA[i];else if(r=t[i],null==r)throw new OA(`Unknown ${s}: ${e}. This may be due to one of the following reasons:\n1. The ${s} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${s} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return r}{const r=e;if(null==r.className||null==r.config)throw new OA(`${s}: Improper config format: ${JSON.stringify(r)}.\n'className' and 'config' must set.`);const a=r.className;let o,l;if(a in n?[o,l]=n[a]:a in YA?[o,l]=YA.className:a in t&&([o,l]=t[a]),null==o)throw new OA(`Unknown ${s}: ${a}. This may be due to one of the following reasons:\n1. The ${s} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${s} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){const e={};for(const t of Object.keys(YA))e[t]=YA[t];for(const t of Object.keys(n))e[t]=n[t];r.config.customObjects=e;const t=Object.assign({},YA);for(const e of Object.keys(n))YA[e]=n[e];ZA(r.config);const s=l(o,r.config,n,i);return YA=Object.assign({},t),s}{const e=Object.assign({},YA);for(const e of Object.keys(n))YA[e]=n[e];const t=new o(r.config);return YA=Object.assign({},e),t}}}function XA(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function $A(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function JA(e){if(null==e)throw new OA(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function ew(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new OA(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function tw(e,t,n=0,s=1/0){return WA(n>=0),WA(s>=n),Array.isArray(e)&&e.length>=n&&e.length<=s&&e.every((e=>typeof e===t))}function nw(e,t){Array.isArray(e)?(zn(e.length>0,(()=>`${t} is unexpectedly an empty array.`)),e.forEach(((e,n)=>nw(e,`element ${n+1} of ${t}`)))):zn(Number.isInteger(e)&&e>0,(()=>`Expected ${t} to be a positive integer, but got ${sw(e)}.`))}function sw(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>sw(e))).join(",")+"]":"string"==typeof e?`"${e}"`:`${e}`}function iw(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let rw=0;function aw(){return rw++}const ow={};function lw(e=""){return e in ow||(ow[e]=0),ow[e]+=1,e+ow[e].toString()}const cw=["channelsFirst","channelsLast"],uw=["nearest","bilinear"],hw=["valid","same","causal"],dw=["max","avg"],pw=["sum","mul","concat","ave"],fw=new Map;function mw(e){ew(cw,"DataFormat",e)}function gw(e){ew(hw,"PaddingMode",e)}function yw(e){ew(dw,"PoolMode",e)}const Aw=[];function ww(e,t){Aw.push(e);try{const e=t();return Aw.pop(),e}catch(e){throw Aw.pop(),e}}function bw(e){if(!Cw(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Aw.length?"":Aw.join("/")+"/")+e}function vw(e){if(!Cw(e))throw new Error("Not a valid tensor name: '"+e+"'");fw.has(e)||fw.set(e,0);const t=fw.get(e);if(fw.set(e,fw.get(e)+1),t>0){const n=`${e}_${t}`;return fw.set(n,1),n}return e}const xw=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Cw(e){return!!e.match(xw)}function kw(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let s=1;for(let i=t;i<n;++i)s*=e[i];return s}function Ew(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const s=e[n];s<t&&(t=s)}return t}function Sw(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const s=e[n];s>t&&(t=s)}return t}function Iw(e,t){if(t<e)throw new OA(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let s=e;s<t;++s)n.push(s);return n}let Tw;function _w(){return null==Tw&&(Tw=vl().epsilon()),Tw}function Nw(e,t){return Ec(e,t)}function Dw(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),kh(e,n)}function Mw(e,t,n){return yl((()=>{switch(e.rank){case 1:return ff(e,t,n);case 2:return mf(e,[t,0],[n,e.shape[1]]);case 3:return gf(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return yf(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Nh(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Nh(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new OA(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Bw(e,t,n){return yl((()=>{switch(e.rank){case 1:return ff(e,t,n);case 2:return mf(e,[0,t],[e.shape[0],n]);case 3:return gf(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return yf(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new OA(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Rw(e,t,n,s){return yl((()=>{switch(e.rank){case 1:return ff(e,t,n);case 2:switch(s){case 1:return Mw(e,t,n);case 2:return Bw(e,t,n);default:throw new OA(`The axis is not within the rank of the tensor ${s}`)}case 3:switch(s){case 1:return Mw(e,t,n);case 2:return gf(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Bw(e,t,n);default:throw new OA(`The axis is not within the rank of the tensor ${s}`)}case 4:switch(s){case 1:return Mw(e,t,n);case 2:return yf(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return yf(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Bw(e,t,n);default:throw new OA(`The axis is not within the rank of the tensor ${s}`)}default:throw new OA(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Fw(e,t=-1){let n;return t<0&&(n=e[0].rank,t=0!==n?n:0),t===e[0].rank&&(t=-1),Ih(e,t)}function Ow(e,t){switch(e.rank){case 1:return jh([e,t]);case 2:return qh([e,t],0);case 3:return Hh([e,t],0);case 4:return Yh([e,t],0);default:throw new OA(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function Lw(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new OA(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return Fd(e,t)}function zw(e,t=0,n=1,s,i){return qp(e,t,n,s,i)}function Vw(e,t,n,s){if(e.rank<2||t.rank<2)throw new LA(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new LA(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(2===e.rank&&2===t.rank){return pm({a:e,b:t,transposeA:!1,transposeB:!1,bias:s?Gw(e.rank,s,"channelsLast"):null,activation:n})}{const i=e.shape.slice(),r=i.pop();e=kh(e,[-1,r]);const a=t.shape.slice(),o=a.pop(),l=a.pop(),c=[...a,o],u=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=kh(Zf(t,u),[l,-1]);const h=[...i,...c];return kh(pm({a:e,b:t,transposeA:!1,transposeB:!1,bias:s?Gw(e.rank,s,"channelsLast"):null,activation:n}),h)}}function Pw(e,t,n){return yl((()=>(t=Array.isArray(t)?Nf(t,"int32"):Ec(t,"int32"),zd(e,t,n))))}function Ww(e){return Dc(e,e)}function Gw(e,t,n){const s=t.shape;if(1!==t.rank&&t.rank!==e)throw new OA(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===s.length?kh(t,[1,s[0],1,1,1]):kh(t,[1,s[3],s[0],s[1],s[2]]);if("channelsLast"===n)return 1===s.length?kh(t,[1,1,1,1,s[0]]):kh(t,[1].concat(s))}else if(4===e){if("channelsFirst"===n)return 1===s.length?kh(t,[1,s[0],1,1]):kh(t,[1,s[2],s[0],s[1]]);if("channelsLast"===n)return 1===s.length?kh(t,[1,1,1,s[0]]):kh(t,[1].concat(s))}else if(3===e){if("channelsFirst"===n)return 1===s.length?kh(t,[1,s[0],1]):kh(t,[1,s[1],s[0]]);if("channelsLast"===n)return 1===s.length?kh(t,[1,1,s[0]]):kh(t,[1].concat(s))}else if(e<3)return t;throw new OA(`Unsupported input rank by biasAdd: ${t.rank}`)}function Uw(e,t,n){return yl((()=>(null==n&&(n="channelsLast"),mw(n),Tc(e,Gw(e.rank,t,n)))))}function jw(e,t,n,s){return yl((()=>em(e,t,n,s)))}function qw(e,t,n=!1){return n?e():t()}const Hw=["fanIn","fanOut","fanAvg"],Yw=["normal","uniform","truncatedNormal"];class Kw extends Vc{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class Zw extends Kw{apply(e,t){return fp(e,t)}}Zw.className="Zeros",Wc(Zw);class Qw extends Kw{apply(e,t){return mp(e,t)}}Qw.className="Ones",Wc(Qw);class Xw extends Kw{constructor(e){if(super(),"object"!=typeof e)throw new OA(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new OA(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return yl((()=>Dc(Oc(this.value),mp(e,t))))}getConfig(){return{value:this.value}}}Xw.className="Constant",Wc(Xw);class $w extends Kw{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return Yp(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}$w.className="RandomUniform",Wc($w);class Jw extends Kw{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new LA(`randomNormal does not support dType ${t}.`);return zw(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Jw.className="RandomNormal",Wc(Jw);class eb extends Kw{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new LA(`truncatedNormal does not support dType ${t}.`);return Pf(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}eb.className="TruncatedNormal",Wc(eb);class tb extends Kw{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return yl((()=>{if(2!==e.length||e[0]!==e[1])throw new OA("Identity matrix initializer can only be used for 2D square matrices.");return Dc(this.gain,Od(e[0]))}))}getConfig(){return{gain:this.gain}}}tb.className="Identity",Wc(tb);class nb extends Kw{constructor(e){if(super(),e.scale<0)throw new OA(`scale must be a positive float. Got: ${e.scale}`);var t;this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,t=this.mode,ew(Hw,"FanMode",t),this.distribution=null==e.distribution?"normal":e.distribution,function(e){ew(Yw,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e,t="channelsLast"){let n,s;if(mw(t),2===e.length)n=e[0],s=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===t){const t=kw(e,2);n=e[1]*t,s=e[0]*t}else if("channelsLast"===t){const t=kw(e,0,e.length-2);n=e[e.length-2]*t,s=e[e.length-1]*t}}else{const t=kw(e);n=Math.sqrt(t),s=Math.sqrt(t)}return[n,s]}(e),s=n[0],i=n[1];let r=this.scale;if("fanIn"===this.mode?r/=Math.max(1,s):"fanOut"===this.mode?r/=Math.max(1,i):r/=Math.max(1,(s+i)/2),"normal"===this.distribution){const n=Math.sqrt(r);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new LA(`${this.getClassName()} does not support dType ${t}.`);return Pf(e,0,n,t,this.seed)}{const n=Math.sqrt(3*r);return Yp(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}nb.className="VarianceScaling",Wc(nb);class sb extends nb{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return nb.className}}sb.className="GlorotUniform",Wc(sb);class ib extends nb{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return nb.className}}ib.className="GlorotNormal",Wc(ib);class rb extends nb{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return nb.className}}rb.className="HeNormal",Wc(rb);class ab extends nb{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return nb.className}}ab.className="HeUniform",Wc(ab);class ob extends nb{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return nb.className}}ob.className="LeCunNormal",Wc(ob);class lb extends nb{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return nb.className}}lb.className="LeCunUniform",Wc(lb);class cb extends Kw{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return yl((()=>{if(e.length<2)throw new LA("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError(`Unsupported data type ${t}.`);const n=Wn(e.slice(0,-1)),s=e[e.length-1];this.ELEMENTS_WARN_SLOW;const i=zw([Math.max(s,n),Math.min(s,n)],0,1,t,this.seed),r=og.qr(i,!1);let a=r[0];const o=r[1].flatten().stridedSlice([0],[Math.min(s,n)*Math.min(s,n)],[Math.min(s,n)+1]);return a=Dc(a,o.sign()),n<s&&(a=a.transpose()),Dc(Oc(this.gain),a.reshape(e))}))}getConfig(){return{gain:this.gain,seed:this.seed}}}cb.className="Orthogonal",Wc(cb);const ub={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function hb(e,t={}){return QA(e,Pc.getMap().classNameMap,t,"initializer")}function db(e){return KA(e)}function pb(e){if("string"==typeof e){const t=e in ub?ub[e]:e;if("GlorotNormal"===t)return new ib;if("GlorotUniform"===t)return new sb;if("HeNormal"===t)return new rb;if("HeUniform"===t)return new ab;if("LeCunNormal"===t)return new ob;if("LeCunUniform"===t)return new lb;{const e={};return e.className=t,e.config={},hb(e)}}return e instanceof Kw?e:hb(e)}function fb(e){return Array.isArray(e)&&Array.isArray(e[0])}function mb(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function gb(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new OA(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function yb(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new OA(`Expected exactly 1 Shape; got ${e.length}`)}return e}function Ab(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const wb="Variable";class bb{constructor(e,t="float32",n=wb,s=!0,i=null){this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=aw(),n=null==n?wb:n,this.originalName=bw(n),this.name=vw(this.originalName),this.trainable_=s,this.constraint=i,this.val=qf(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function vb(e){return e.map((e=>e.read()))}function xb(e){e.forEach((e=>{e[0].write(e[1])}))}class Cb{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class kb{constructor(e,t,n,s,i,r,a){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=s,this.callArgs=i,this.outputTensorIndex=a,this.id=aw(),null!=r&&(this.originalName=bw(r),this.name=vw(this.originalName)),this.rank=t.length}}let Eb=0;class Sb{constructor(e,t){this.callArgs=t,this.id=Eb++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const t of e.inboundLayers)null!=t&&t.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let Ib=0;class Tb extends Vc{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Ib++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=qA(e)+"_"+lw(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new FA(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new OA(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return UA(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return UA(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new RA(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new RA(`Layer ${this.name} is not connected, no input to return.`);return UA(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new RA(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new RA(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return UA(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=jA(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=jA(this.inputSpec);if(t.length!==n.length)throw new OA(`Layer ${this.name} expects ${n.length} inputs, but it received ${t.length} input tensors. Input received: ${e}`);for(let e=0;e<t.length;e++){const s=t[e],i=n[e];if(null==i)continue;const r=s.rank;if(null!=i.ndim&&r!==i.ndim)throw new OA(`Input ${e} is incompatible with layer ${this.name}: expected ndim=${i.ndim}, found ndim=${r}`);if(null!=i.maxNDim&&r>i.maxNDim)throw new OA(`Input ${e} is incompatible with layer ${this.name}: expected max_ndim=${i.maxNDim}, found ndim=${r}`);if(null!=i.minNDim&&r<i.minNDim)throw new OA(`Input ${e} is incompatible with layer ${this.name}: expected min_ndim=${i.minNDim}, found ndim=${r}.`);if(null!=i.dtype&&s.dtype!==i.dtype)throw new OA(`Input ${e} is incompatible with layer ${this.name} : expected dtype=${i.dtype}, found dtype=${s.dtype}.`);if(i.axes){const t=s.shape;for(const n in i.axes){const s=Number(n),r=i.axes[n],a=s>=0?t[s]:t[t.length+s];if(null!=r&&-1===[r,null].indexOf(a))throw new OA(`Input ${e} is incompatible with layer ${this.name}: expected axis ${s} of input shape to have value ${r} but got shape ${t}.`)}}if(null!=i.shape)for(let t=0;t<i.shape.length;++t){const n=i.shape[t],r=s.shape[t];if(null!=n&&null!=r&&n!==r)throw new OA(`Input ${e} is incompatible with layer ${this.name}: expected shape=${i.shape}, found shape=${s.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=jA(e),s=function(e){let t=!0;for(const n of jA(e))if(!(n instanceof kb)){t=!1;break}return t}(e),i=function(e){let t=!0;for(const n of jA(e))if(n instanceof kb){t=!1;break}return t}(e);if(s===i)throw new OA("Arguments to apply() must be all SymbolicTensors or all Tensors");return ww(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of jA(e))t.push(n.shape);this.build(UA(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let s=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,s);const i=jA(s),r=[];for(let e of i)-1!==n.indexOf(e)&&(e=e.clone()),r.push(e);if(s=UA(r),null!=this.activityRegularizer)throw new LA("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return s}{const n=function(e){e=jA(e);const t=[];for(const n of e)t.push(n.shape);return UA(t)}(e),s=this.computeOutputShape(n);let i;const r="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),i=null!=s&&s.length>0&&Array.isArray(s[0])?s.map(((n,s)=>new kb(r,n,this,jA(e),t,this.name,s))):new kb(r,s,this,jA(e),t,this.name),this.addInboundNode(e,i,null,null,n,s,t),this._refCount++,null!=this.activityRegularizer)throw new LA("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return i}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length);else{let t=!1;this.batchInputShape.forEach(((n,s)=>{null!=n&&null!=e[s]&&e[s]!==n&&(t=!0)}))}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new RA(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new RA(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new FA(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Ab(this.weights)}build(e){this.built=!0}getWeights(e=!1){return vb(e?this.trainableWeights:this.weights)}setWeights(e){yl((()=>{const t=this.weights;if(t.length!==e.length)throw new OA(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(0===t.length)return;const n=[],s=vb(t);for(let i=0;i<s.length;++i){const r=s[i],a=t[i],o=e[i];if(!Gn(r.shape,o.shape))throw new OA(`Layer weight shape ${r.shape} not compatible with provided weight shape ${o.shape}`);n.push([a,o])}xb(n)}))}addWeight(e,t,n,s,i,r,a,o){if(-1!==this._addedWeightNames.indexOf(e))throw new OA(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(s=null!=o?o():pb("zeros"));const l=s.apply(t,n),c=new bb(l,n,e,r,a);return l.dispose(),null!=i&&this.addLoss((()=>i.apply(c.read()))),null==r&&(r=!0),r?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=jA(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach((e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)}))}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const s=this.computeMask(e,n),i=jA(t),r=jA(s);if(i.length!==r.length)throw new Error(`${this.name} outputs ${i.length} tensors but ${i.length} masks for those tensors`);for(let e=0;e<i.length;e++)i[e].kerasMask=r[e]}addInboundNode(e,t,n,s,i,r,a=null){const o=jA(e);t=jA(t),n=jA(n),s=jA(s),i=mb(i),r=mb(r);const l=[],c=[],u=[];for(const e of o)l.push(e.sourceLayer),c.push(e.nodeIndex),u.push(e.tensorIndex);new Sb({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:u,inputTensors:o,outputTensors:t,inputMasks:n,outputMasks:s,inputShapes:i,outputShapes:r},a);for(let e=0;e<t.length;e++)t[e].sourceLayer=this,t[e].nodeIndex=this.inboundNodes.length-1,t[e].tensorIndex=e}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function _b(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const s=_b(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of s)-1===t.indexOf(e)&&t.push(e)}return t}}}class Nb extends Tb{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:lw("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new OA("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new OA("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new OA("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const s=new kb(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new Sb({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new OA(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}Nb.className="InputLayer",Wc(Nb);class Db{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Db)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new OA(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Ec(t,e.dtype)}catch(n){throw new OA(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof kb){if(null==this.id2Value[e.id])throw new OA(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new OA(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof kb){if(null==this.id2Value[e.id])throw new OA(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new OA(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&Al(this.id2Mask)}}const Mb=new VA,Bb=new VA;function Rb(e,t,n,s){const i=null!=n&&n.training,r=Array.isArray(e),a=r?e:[e],o=a.map((e=>e.name)),l=[],c=t.names();for(const e of o)-1!==c.indexOf(e)?l.push(t.getValue(e)):l.push(null);null!=s&&(s.maxNumTensors=-1/0,s.minNumTensors=1/0);const u=o.join(",")+"|"+t.names().sort().join(",");let h,d=Mb.get(u);if(null==d){const e=function(e,t){zn(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],s={};if(1===e.length){const i=Ob(e[0],t);n=i.sorted,s=i.recipientMap}else{const i=new Set;for(const r of e){const{sorted:e,recipientMap:a}=Ob(r,t);for(const t of e)i.has(t.name)||(n.push(t),i.add(t.name));for(const e in a)null==s[e]&&(s[e]=new Set),a[e].forEach((t=>s[e].add(t)))}}return{sorted:n,recipientCounts:Fb(s)}}(a,t);d=e.sorted,h=e.recipientCounts,Mb.put(u,d),Bb.put(u,h)}h={},i||Object.assign(h,Bb.get(u));const p=new Db(t);for(let e=0;e<d.length;++e){if(null!=s){const e=gl().numTensors;e>s.maxNumTensors&&(s.maxNumTensors=e),e<s.minNumTensors&&(s.minNumTensors=e)}const r=d[e],a=r.sourceLayer;if(a instanceof Nb)continue;const c=[],u=[],f=[];let m=!1;for(const e of r.inputs){const n=p.getValue(e),s=p.getMask(e);c.push(n),u.push(s),null!=s&&(m=!0),i||(h[e.name]--,0!==h[e.name]||t.hasKey(e)||-1!==o.indexOf(e.name)||n.isDisposed||!0===e.sourceLayer.stateful||f.push(n))}m&&((n=n||{}).mask=u[0]);const g=jA(a.apply(c,n));let y=null;a.supportsMasking&&(y=a.computeMask(c,u));const A=Lb(r),w=Array.isArray(A)?A:[A];for(let e=0;e<w.length;++e){p.hasKey(w[e])||p.add(w[e],g[e],Array.isArray(y)?y[0]:y);const t=o.indexOf(w[e].name);-1!==t&&(l[t]=g[e])}i||Al(f)}return p.disposeMasks(),r?l:l[0]}function Fb(e){const t={};for(const n in e)t[n]=e[n].size;return t}function Ob(e,t){const n=new Set,s=[],i={};for(const e of t.names())n.add(e);const r=[],a=[];for(r.push(e);r.length>0;){const e=r[r.length-1];if(n.has(e.name)){r.pop();continue}const t=a[a.length-1]===r.length-1;if(0===e.inputs.length||t)r.pop(),s.push(e),n.add(e.name),t&&a.pop();else{a.push(r.length-1);for(const t of e.inputs)null==i[t.name]&&(i[t.name]=new Set),i[t.name].add(e.name),n.has(t.name)||r.push(t)}}return{sorted:s,recipientMap:i}}function Lb(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const s of e.sourceLayer.inboundNodes[t].outputTensors)if(s.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function zb(e,t){return yl((()=>Mc(Td(Dc(e,e),t,!0))))}As().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=Mb&&Mb.setMaxEntries(e),null!=Bb&&Bb.setMaxEntries(e)}));class Vb extends Vc{getConfig(){return{}}}class Pb extends Vb{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return yl((()=>{const t=zb(e,this.axis),n=Uh(t,0,this.maxValue);return Dc(e,Nc(n,Tc(_w(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}Pb.className="MaxNorm",Wc(Pb);class Wb extends Vb{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return yl((()=>Nc(e,Tc(_w(),zb(e,this.axis)))))}getConfig(){return{axis:this.axis}}}Wb.className="UnitNorm",Wc(Wb);class Gb extends Vb{apply(e){return $p(e)}}Gb.className="NonNeg",Wc(Gb);class Ub extends Vb{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return yl((()=>{const t=zb(e,this.axis),n=Tc(Dc(this.rate,Uh(t,this.minValue,this.maxValue)),Dc(1-this.rate,t));return Dc(e,Nc(n,Tc(_w(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}Ub.className="MinMaxNorm",Wc(Ub);const jb={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function qb(e){return KA(e)}function Hb(e,t={}){return QA(e,Pc.getMap().classNameMap,t,"constraint")}function Yb(e){if(null==e)return null;if("string"==typeof e){return Hb({className:e in jb?jb[e]:e,config:{}})}return e instanceof Vb?e:Hb(e)}async function Kb(e){if(null==e)return;const t=[],n=[],s=[];for(const i in e){const r=e[i];if("number"!=typeof r){const e=r;t.push(e.data()),n.push(i),s.push(e)}}if(t.length>0){const i=await Promise.all(t);for(let t=0;t<i.length;++t)e[n[t]]=i[t][0];Al(s)}}function Zb(e){if(null!=e)for(const t in e){const n=e[t];"number"!=typeof n&&n.dispose()}}var Qb,Xb;(Xb=Qb||(Qb={}))[Xb.SILENT=0]="SILENT",Xb[Xb.VERBOSE=1]="VERBOSE";class $b{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class Jb{constructor(e,t=10){null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class ev extends $b{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const e in t){const s=t[e];if("number"==typeof s)this.totals.hasOwnProperty(e)||(this.totals[e]=0),this.totals[e]=this.totals[e]+s*n;else{let t;e in this.totals?t=this.totals[e]:this.totals[e]=0;const i=yl((()=>Tc(this.totals[e],Dc(s,n))));this.totals[e]=i,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const e of this.params.metrics)null!=this.totals[e]&&("number"==typeof this.totals[e]?t[e]=this.totals[e]/this.seen:yl((()=>{const n=Dc(Nc(1,this.seen),this.totals[e]);t[e]=n,this.totals[e].dispose(),wl(t[e])})))}}class tv extends $b{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const e in t)null==this.history[e]&&(this.history[e]=[]),this.history[e].push(t[e])}async syncData(){const e=[],t=[],n=[];for(const s in this.history){const i=this.history[s];for(let r=0;r<i.length;++r)if("number"!=typeof i[r]){const a=i[r];e.push(a.data()),t.push(s),n.push(r)}}const s=await Promise.all(e);for(let e=0;e<s.length;++e){this.history[t[e]][n[e]].dispose(),this.history[t[e]][n[e]]=s[e][0]}}}class nv extends $b{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||pg,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");ts(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let s,i=null!=n?n():oo();return(...r)=>{const a=null!=n?n():oo();return a-i<t||(i=a,s=e(...r)),s}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const s=[];null!=this.yield&&(await Kb(n),s.push(this.yield(e,t,n))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await Kb(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await Kb(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await Kb(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await Kb(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):ts(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await Kb(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await Kb(e),await this.trainEnd(e))}}function sv(e,t){if(null==e&&(e={}),e instanceof $b)return[e];if(Array.isArray(e)&&e[0]instanceof $b)return e;return jA(e).map((e=>new nv(e,t)))}class iv{constructor(){}static registerCallbackConstructor(e,t){zn(e>=0&&Number.isInteger(e),(()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`)),iv.checkForDuplicate(t),null==iv.constructors[e]&&(iv.constructors[e]=[]),iv.constructors[e].push(t)}static checkForDuplicate(e){for(const t in iv.constructors){iv.constructors[+t].forEach((t=>{if(t===e)throw new OA("Duplicate callback constructor.")}))}}static clear(){iv.constructors={}}static createCallbacks(e){const t=[];for(const n in iv.constructors){const s=+n;e>=s&&t.push(...iv.constructors[s])}return t.map((e=>new e))}}function rv(e,t,n,s,i,r,a,o,l){const c=new tv,u=[new ev,...iv.createCallbacks(t)];null!=e&&u.push(...e),u.push(c);const h=new Jb(u);return h.setParams({epochs:n,initialEpoch:s,samples:i,steps:r,batchSize:a,verbose:t,doValidation:o,metrics:l}),{callbackList:h,history:c}}function av(e,t={},n=!1){return QA(e,Pc.getMap().classNameMap,t,"layer",n)}function ov(e,t){return yl((()=>{"float32"!==e.dtype&&(e=Ec(e,"float32"));const n=Td(Ww(e),t,!0),s=jc(n.shape,_w()),i=Mc(Jc(n,s));return Nc(e,i)}))}function lv(e,t){return yl((()=>pp(Ww(Yc(t,e)),-1)))}function cv(e,t){return yl((()=>pp(Zc(Yc(t,e)),-1)))}function uv(e,t){return yl((()=>{const n=Yc(e,t),s=Uh(Zc(e),_w(),Number.MAX_VALUE),i=Zc(Nc(n,s));return Dc(100,pp(i,-1))}))}function hv(e,t){return yl((()=>{const n=Uh(t,_w(),Number.MAX_VALUE),s=Qd(Tc(1,n)),i=Uh(e,_w(),Number.MAX_VALUE),r=Qd(Tc(1,i));return pp(Ww(Yc(s,r)),-1)}))}function dv(e,t,n=!1){return yl((()=>{if(n)t=Af(t);else{const e=Td(t,t.shape.length-1,!0);t=Nc(t,e)}return t=Uh(t,_w(),1-_w()),$d(Td(Dc(Ec(e,"float32"),Qd(t)),t.shape.length-1))}))}function pv(e,t,n=!1){return yl((()=>{const s=Ec(Ld(function(e){const t=[kw(e.shape)];return kh(e,t)}(e)),"int32"),i=(t=Uh(t,_w(),1-_w())).shape;return dv(kh(kp(s,i[i.length-1]),i),t,n)}))}function fv(e,t){return yl((()=>{let n;return n=Uh(t,_w(),1-_w()),n=Qd(Nc(n,Yc(1,n))),pp(function(e,t){if(!Gn(e.shape,t.shape))throw new OA(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return yl((()=>{const n=$p(t),s=$d(Zc(t));return Tc(Yc(n,Dc(t,e)),Xd(Md(s)))}))}(e,n),-1)}))}function mv(e,t){return yl((()=>{const n=Uh(e,_w(),1),s=Uh(t,_w(),1);return Td(Dc(e,Qd(Nc(n,s))),-1)}))}function gv(e,t){return yl((()=>{const n=ov(e,-1),s=ov(t,-1),i=Dc(n,s);return $d(Td(i,-1))}))}iv.constructors={};const yv={meanSquaredError:lv,meanAbsoluteError:cv,meanAbsolutePercentageError:uv,meanSquaredLogarithmicError:hv,squaredHinge:function(e,t){return yl((()=>{const n=Jc(0,Yc(1,Dc(e,t)));return pp(Ww(n),-1)}))},hinge:function(e,t){return yl((()=>{const n=Jc(0,Yc(1,Dc(e,t)));return pp(n,-1)}))},categoricalHinge:function(e,t){return yl((()=>{const n=Td(Dc(e,t),-1),s=Sd(Dc(Yc(1,e),t),-1);return Jc(0,Tc(1,Yc(s,n)))}))},logcosh:function(e,t){return yl((()=>{const n=Math.log(2),s=Yc(t,e),i=Yc(Tc(s,Jd(Dc(-2,s))),n);return pp(i,-1)}))},categoricalCrossentropy:dv,sparseCategoricalCrossentropy:pv,binaryCrossentropy:fv,kullbackLeiblerDivergence:mv,poisson:function(e,t){return yl((()=>{const n=Qd(Tc(_w(),t));return pp(Yc(t,Dc(e,n)),-1)}))},cosineProximity:gv};function Av(e){if("string"==typeof e){if(e in yv)return yv[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new OA(t)}return e}function wv(e,t){return yl((()=>{const n=Dc(.5,Ep(t)),s=Nw(Vd(t,n),e.dtype);return pp(ud(e,s),-1)}))}function bv(e,t){return yl((()=>Nw(ud(nh(e,-1),nh(t,-1)),"float32")))}function vv(e,t){return yl((()=>Ec(Td(sp(ud(e,1),ud(t,1))),"float32")))}function xv(e,t){return fv(e,t)}function Cv(e,t){return e.rank===t.rank&&(e=Ef(e,[e.rank-1])),(t=nh(t,-1)).dtype!==e.dtype&&(t=Ec(t,e.dtype)),Ec(ud(e,t),"float32")}const kv=dv,Ev=pv,Sv={binaryAccuracy:wv,categoricalAccuracy:bv,precision:function(e,t){return yl((()=>{const n=vv(e,t),s=function(e,t){return yl((()=>Ec(Td(sp(ud(e,0),ud(t,1))),"float32")))}(e,t),i=Tc(n,s);return Ec(hd(Vd(i,0),Nc(n,i),0),"float32")}))},categoricalCrossentropy:kv,sparseCategoricalCrossentropy:Ev,mse:lv,MSE:lv,mae:cv,MAE:cv,mape:uv,MAPE:uv,cosine:gv};function Iv(e){if("string"==typeof e&&e in Sv)return Sv[e];if("string"!=typeof e&&null!=e)return e;throw new OA(`Unknown metric ${e}`)}function Tv(e){if(WA(null!==e,`Unknown LossOrMetricFn ${e}`),"string"==typeof e)return e;{let t;for(const n of Object.keys(yv))if(yv[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(Sv))if(Sv[n]===e){t=n;break}return void 0!==t?t:e.name}}function _v(e,t,n=!1){if(null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!Nv(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){JSON.stringify(e).length}}function Nv(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!=typeof n)return!1;if(!Nv(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!Nv(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function Dv(e,t,n,s=console.log){const i=function(e){let t=!0;const n=[],s=[];for(const t in e.nodesByDepth)n.push(e.nodesByDepth[t]);for(const e of n){if(e.length>1||1===e.length&&e[0].inboundLayers.length>1){t=!1;break}s.push(...e)}if(t)for(const n of e.layers){let e=!1;for(const i of n.inboundNodes)if(-1!==s.indexOf(i)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),r=["Layer (type)","Input Shape","Output shape","Param #"];let a;if(i?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!i){r.push("Receives inputs"),a=[];for(const t in e.nodesByDepth)a.push(...e.nodesByDepth[t])}s("_".repeat(t)),Mv(r,n,s),s("=".repeat(t));const o=e.layers;for(let e=0;e<o.length;++e)i?Bv(o[e],n,s):Rv(o[e],n,a,s),s((e===o.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;t=null!=e.collectedTrainableWeights?Ab(e.collectedTrainableWeights):Ab(e.trainableWeights);return t}(e),c=Ab(e.nonTrainableWeights);s(`Total params: ${l+c}`),s(`Trainable params: ${l}`),s(`Non-trainable params: ${c}`),s("_".repeat(t))}function Mv(e,t,n=console.log){let s="";for(let n=0;n<e.length;++n)n>0&&(s=s.slice(0,s.length-1)+" "),s+=e[n],s=s.slice(0,t[n]),s+=" ".repeat(t[n]-s.length);n(s)}function Bv(e,t,n){let s,i;try{i=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(e){i="multiple"}try{s=JSON.stringify(e.outputShape)}catch(e){s="multiple"}Mv([`${e.name} (${e.getClassName()})`,i,s,e.countParams().toString()],t,n)}function Rv(e,t,n,s){let i,r;try{r=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(e){r="multiple"}try{i=JSON.stringify(e.outputShape)}catch(e){i="multiple"}const a=[];for(const t of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(t)))for(let e=0;e<t.inboundLayers.length;++e){const n=t.inboundLayers[e].name,s=t.nodeIndices[e],i=t.tensorIndices[e];a.push(`${n}[${s}][${i}]`)}const o=e.name,l=e.getClassName(),c=0===a.length?"":a[0];Mv([`${o} (${l})`,r,i,e.countParams().toString(),c],t,s);for(let e=1;e<a.length;++e)Mv(["","","","",a[e]],t,s)}function Fv(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function Ov(e,t){if(null===e)return null;if("string"==typeof e)return HA(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],s=e.length;for(let i=0;i<s;++i){const s=e[i];Fv(t,i,s)?n.push(s):n.push(Ov(s,t))}return n}{const t={};for(const n of Object.keys(e)){const s=e[n];if("name"===n&&"string"==typeof s)t[n]=s;else{const e=HA(n);t[e]=Ov(s,e)}}return t}}function Lv(e,t){if(null==e)return null;if("string"==typeof e)return qA(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],s=e.length;for(let i=0;i<s;++i){const s=e[i];Fv(t,i,s)?n.push(s):n.push(Lv(s,t))}return n}{const t={};for(const n of Object.keys(e)){const s=e[n],i=qA(n);t[i]="name"!==n&&"className"!==n||"string"!=typeof s?Lv(s,n):s}return t}}const zv="4.22.0";class Vv extends Tb{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=lw(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],$A(this.inputs).length!==this.inputs.length)throw new OA(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map((e=>e.name))}`);$A(this.outputs).length,this.outputs.length,this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const e of this.outputs){const t=e.sourceLayer,n=e.nodeIndex,s=e.tensorIndex;this.outputLayers.push(t),this.outputLayersNodeIndices.push(n),this.outputLayersTensorIndices.push(s)}for(const e of this.inputs){const t=e.sourceLayer,n=e.nodeIndex,s=e.tensorIndex;WA(0===n,"input layer has >1 nodes"),WA(0===s,"input layer has >1 tensors"),this.inputLayers.push(t),this.inputLayersNodeIndices.push(n),this.inputLayersTensorIndices.push(s)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let t=0;t<this.inputLayers.length;t++){const n=this.inputLayers[t];if(!(n instanceof Nb))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${t} (0-based) originates from layer type ${n.getClassName()}.`);this.inputNames.push(n.name),this.feedInputShapes.push(n.batchInputShape),this.feedInputNames.push(n.name)}for(const e of this.outputLayers)this.outputNames.push(e.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},s={},i={},r={},a=[],o=(e,t,n,s,i,l)=>{null!=s&&null!=i&&null!=l||(s=e.sourceLayer,i=e.nodeIndex,l=e.tensorIndex);const c=s.inboundNodes[i];if(-1!==n.indexOf(c))throw new FA(`The tensor ${e.name} at layer "${s.name}" is part of a cycle.`);if(-1!==t.indexOf(c))return;this.containerNodes.add(Vv.nodeKey(s,i)),s.id in r||(r[s.id]=Object.keys(r).length),-1===n.indexOf(c)&&n.push(c);const u=c.inboundLayers.length;for(let e=0;e<u;e++){const s=c.inputTensors[e],i=c.inboundLayers[e],r=c.nodeIndices[e],a=c.tensorIndices[e];o(s,t,n,i,r,a)}for(t.push(c);n.indexOf(c)>=0;)n.splice(n.indexOf(c),1);a.push(c)},l=[],c=[];for(const e of this.outputs)o(e,l,c);const u=a.slice().reverse();for(const e of u){n[e.id]=e,e.id in t||(t[e.id]=0);let r=t[e.id];const a=null==s[e.outboundLayer.id]?0:s[e.outboundLayer.id];r=Math.max(r,a),s[e.outboundLayer.id]=r,i[e.outboundLayer.id]=e.outboundLayer,t[e.id]=r;for(let s=0;s<e.inboundLayers.length;s++){const i=e.inboundLayers[s],a=e.nodeIndices[s],o=i.inboundNodes[a],l=null==t[o.id]?0:t[o.id];t[o.id]=Math.max(r+1,l),n[o.id]=o}}const h={};for(const e in t){const s=t[e];s in h||(h[s]=[]),h[s].push(n[e])}const d={};for(const e in s){const t=s[e];t in d||(d[t]=[]),d[t].push(i[e])}let p=Object.keys(d).map((e=>parseInt(e,10))).sort(XA);this.layers=[];for(const e of p){const t=d[e];t.sort(((e,t)=>{const n=r[e.id],s=r[t.id];return n<s?-1:n>s?1:0}));for(const e of t)e instanceof Vv&&this.internalContainerRefs.push(e),this.layers.push(e)}this.layersByDepth=d,p=Object.keys(h).map((e=>parseInt(e,10))).sort(XA);const f=this.inputs.slice(),m=[];for(const e of p)for(const t of h[e]){const e=t.outboundLayer;if(null!=e){for(const n of t.inputTensors)if(-1===f.indexOf(n))throw new FA(`Graph disconnected: cannot obtain value for tensor ${n} at layer "${e.name}". The following previous layers were accessed without issue: ${m}`);for(const e of t.outputTensors)f.push(e);m.push(e.name)}}this.nodesByDepth=h;const g=this.layers.map((e=>e.name));for(const e of g){const t=g.filter((t=>t===e)).length;if(1!==t)throw new FA(`The name "${e}" is used ${t} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new Sb({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new OA("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,t=!0){const n={};let s=0;const i=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);i&&this.parseWeights(e);for(const e of this.layers)for(const[t,r]of e.weights.entries()){const e=i?`${r.name.split("/").slice(0,-1).join("/")+"/"}${t}`:r.originalName;if(null!=n[e])throw new OA(`Duplicate weight name: ${e}`);n[e]=r,s++}const r=[];for(const s in e){let i=s;if(null==n[s]){const e=s.split("/");i=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[i])r.push([n[i],e[s]]);else if(t)throw new OA(`Provided weight data has no target variable: ${s}`);delete n[i]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new OA(`${e.length} of ${s} weights are not set: ${e}`)}xb(r)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),s=["vars","layer_checkpoint_dependencies"],i=n.map((e=>e.startsWith("_")?e.slice(1):e)).filter((e=>!s.includes(e))).join("/");i!==t&&(e[i]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${zv}`,t.backend="TensorFlow.js",t}toJSON(e,t=!0){const n=Lv(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return yl((()=>{e=jA(e);const n=new Db;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return Rb(this.outputs,n,t)}))}computeMask(e,t){return yl((()=>{let n;return e=jA(e),n=null==t?PA(null,e.length):jA(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=mb(e);if(t.length!==this.inputLayers.length)throw new OA(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let e=0;e<t.length;e++){const s=this.inputLayers[e],i=t[e];n[s.name+"_0_0"]=i}const s=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(XA);if(s.length>1)for(const e of s){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(t.id))continue;const s=[];for(let t=0;t<e.inboundLayers.length;t++){const i=e.inboundLayers[t],r=e.nodeIndices[t],a=e.tensorIndices[t],o=n[`${i.name}_${r}_${a}`];s.push(o)}const i=mb(t.computeOutputShape(UA(s))),r=t.inboundNodes.indexOf(e);for(let e=0;e<i.length;e++){n[`${t.name}_${r}_${e}`]=i[e]}}}const i=[],r=[];for(let e=0;e<this.outputLayers.length;e++){const t=this.outputLayers[e],n=this.outputLayersNodeIndices[e],s=this.outputLayersTensorIndices[e],i=`${t.name}_${n}_${s}`;r.push(i)}for(let e=0;e<r.length;e++){const t=r[e];WA(t in n),i.push(n[t])}return UA(i)}runInternalGraph(e,t){null==t&&(t=PA(null,e.length));const n={};for(let s=0;s<this.inputs.length;++s){const i=this.inputs[s],r=e[s],a=t[s];n[i.id]=[r,a]}const s=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(XA);for(const e of s){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer,s=e.inputTensors,i=e.outputTensors,r=new Array;for(const e of s)e.id in n&&r.push(n[e.id]);if(r.length===s.length){let s,a,o,l,c={};if(null!=e.callArgs&&(c=e.callArgs),1===r.length){const[e,n]=r[0];null==c.mask&&(c.mask=n),o=jA(t.call(e,c)),l=jA(t.computeMask(e,n)),s=[e],a=[n]}else s=r.map((e=>e[0])),a=r.map((e=>e[1])),null==c.mask&&(c.mask=a),o=jA(t.call(s,c)),l=jA(t.computeMask(s,a));if(t.activityRegularizer)throw new LA("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<i.length;++e){const t=i[e],s=o[e],r=l[e];n[t.id]=[s,r]}}}}const i=[],r=[],a=[];for(const e of this.outputs){WA(e.id in n,`Could not compute output ${e.name} : ${e.id}`);const[t,s]=n[e.id];a.push(t.shape),i.push(t),r.push(s)}return[i,r,a]}buildNodeConversionMap(e){const t={};let n;for(const e of this.layers){n=e instanceof Vv?1:0;for(let s=0;s<e.inboundNodes.length;s++){const i=Vv.nodeKey(e,s);this.containerNodes.has(i)&&(t[i]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new OA("Provide either a layer name or layer index");if("number"==typeof e)return this.findLayer(e);for(const t of this.layers)if(t.name===e)return t;throw new OA(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new OA(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return yl((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const s=Vv.nodeKey(t,n);this.containerNodes.has(s)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const e of this.layers){const s=e.getClassName(),i=e.getConfig(),r=[];for(let n=0;n<e.inboundNodes.length;n++){const s=e.inboundNodes[n],i=Vv.nodeKey(e,n);let a={};if(this.containerNodes.has(i)){if(s.callArgs)try{JSON.stringify(s.callArgs),a=s.callArgs}catch(e){a={}}if(s.inboundLayers.length>0){const e=[];for(let n=0;n<s.inboundLayers.length;n++){const i=s.inboundLayers[n],r=s.nodeIndices[n],o=s.tensorIndices[n];let l=t[Vv.nodeKey(i,r)];null==l&&(l=0),e.push([i.name,l,o,a])}r.push(e)}}}const a={};a.name=e.name,a.className=s,a.config=i,a.inboundNodes=r,n.push(a)}e.layers=n;const s=[];for(let e=0;e<this.inputLayers.length;e++){const n=this.inputLayers[e],i=this.inputLayersNodeIndices[e],r=Vv.nodeKey(n,i);if(!this.containerNodes.has(r))continue;let a=t[r];null==a&&(a=0);const o=this.inputLayersTensorIndices[e];s.push([n.name,a,o])}e.inputLayers=s;const i=[];for(let e=0;e<this.outputLayers.length;e++){const n=this.outputLayers[e],s=this.outputLayersNodeIndices[e],r=Vv.nodeKey(n,s);if(!this.containerNodes.has(r))continue;let a=t[r];null==a&&(a=0);const o=this.outputLayersTensorIndices[e];i.push([n.name,a,o])}return e.outputLayers=i,e}static fromConfig(e,t,n={},s=!1){const i={},r={};function a(e,t){e.name in r?r[e.name].push(t):r[e.name]=[t]}function o(e,t){const n=[];let s;for(const r of t){const o=r[0],l=r[1],c=r[2];if(s=null==r[3]?{}:r[3],!(o in i))return void a(e,t);const u=i[o];if(u.inboundNodes.length<=l)return void a(e,t);const h=u.inboundNodes[l];n.push(h.outputTensors[c])}n.length>0&&e.apply(UA(n),s)}function l(e){const n=e.name,r=av(e,null!=t.customObjects?t.customObjects:{});r.setFastWeightInitDuringBuild(s),i[n]=r;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new OA(`Corrupted configuration, expected array for nodeData: ${e}`);a(r,e)}))}const c=t.name,u=t.layers;for(const e of u)l(e);for(;!JA(r);)for(const e of u){const t=i[e.name];if(t.name in r){const e=r[t.name];delete r[t.name];for(const n of e)o(t,n)}}const h=[],d=[],p=t.inputLayers;for(const e of p){const t=e[0],n=e[1],s=e[2];WA(t in i);const r=i[t].inboundNodes[n].outputTensors;h.push(r[s])}const f=t.outputLayers;for(const e of f){const t=e[0],n=e[1],s=e[2];WA(t in i);const r=i[t].inboundNodes[n].outputTensors;d.push(r[s])}return new e({inputs:h,outputs:d,name:c})}get stateful(){if(this._stateful)throw new OA("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){yl((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function Pv(e,t,n){const s=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===s)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==s)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${s} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error(`The model has multiple (${s}) outputs, so ${n} must be either an array with ${s} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function Wv(e,t){return Pv(e,t,"classWeight")}async function Gv(e,t,n,s){if(null!=t||null!=s)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=yl((()=>{if(1===e.shape.length)return Sc(e);if(2===e.shape.length){if(e.shape[1]>1){return nh(e,1)}if(1===e.shape[1])return kh(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)})),s=Array.from(await t.data());Al(t);const i=[];return s.forEach((e=>{if(null==n[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);i.push(n[e])})),Nf(i,"float32")}return null}function Uv(e,t){return Dc(e,t)}function jv(e,t){let n,s;const i=t;n=i.xs,s=i.ys,zn(null!=n&&null!=s,(()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`));const r=qv("input",e.inputNames,n),a=qv("output",e.outputNames,s),o=r[0].shape[0];zn(r.length===e.inputs.length,(()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${r.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`)),zn(a.length===e.outputs.length,(()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${a.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`));for(let t=0;t<r.length;t++)zn(r[t].shape[0]===o,(()=>`Batch size mismatch: input ${e.inputNames[t]} has ${r[t].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`));for(let t=0;t<a.length;t++)zn(a[t].shape[0]===o,(()=>`Batch size mismatch: output ${e.outputNames[t]} has ${a[t].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`));return{xs:r,ys:a}}function qv(e,t,n){if(n instanceof Eo)return[n];if(Array.isArray(n))return zn(n.length===t.length,(()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`)),n;{const s=[];for(const i of t){if(null==n[i])throw new OA(`The feature data generated by the dataset lacks the required ${e} key '${i}'.`);s.push(n[i])}return s}}async function Hv(e,t,n){const s=null!=n.batchesPerEpoch;if(zn(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),zn(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),zn(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`)),zn(!s||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`)),zn(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const i=null!=n.validationData;let r,a;if(i)if(Yv(n.validationData))zn(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`));else{const e=function(e){if(3===e.length)throw new LA("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);r=e.xs,a=e.ys}const o=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let c;c=i?l.slice().concat(l.map((e=>"val_"+e))):l.slice();const u=sv(n.callbacks,n.yieldEvery),h=null==n.verbose?1:n.verbose,{callbackList:d,history:p}=rv(u,h,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,i,c);d.setModel(e),e.history=p,await d.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;f<n.epochs;){const c={};await d.onEpochBegin(f);let u=0,h=0;for(s||(m=await t.iterator());!s||u<n.batchesPerEpoch;){const t=await m.next();if(s&&t.done)break;if(null!=t.value){const{xs:s,ys:i}=jv(e,t.value),r={};r.batch=h,r.size=s[0].shape[0],await d.onBatchBegin(h,r);const a=[];if(null!=n.classWeight){const t=Wv(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)a.push(await Gv(i[e],null,t[e]))}const c=s.concat(i).concat(a),p=o(c);Al(c);for(let e=0;e<l.length;++e){const t=l[e],n=p[e];r[t]=n,wl(n)}await d.onBatchEnd(h,r),Zb(r),h++,u++}if(s?u>=n.batchesPerEpoch:t.done){if(i){let t;t=Yv(n.validationData)?jA(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):jA(e.evaluate(r,a,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)c[`val_${e.metricsNames[n]}`]=t[n]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(f,c),f++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function Yv(e){return"function"==typeof e.iterator}function Kv(e){zn(e>0&&Number.isInteger(e),(()=>`batchSize is required to be a positive integer, but got ${e}`))}function Zv(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>Mw(e,t,n-t))):Mw(e,t,n-t)}function Qv(e,t){return yl((()=>null==e?null:Array.isArray(e)?e.map((e=>Qv(e,t))):Pw(e,"int32"===t.dtype?t:Ec(t,"int32"))))}function Xv(e,t){const n=[];let s=0,i=null;for(;s<e;)i=s+t,i>=e&&(i=e),n.push([s,i]),s=i;return n}function $v(e){const t=[];e instanceof Eo&&(e=[e]);for(let n=0;n<e.length;++n){const s=e[n];if(1===s.rank)t.push(Dw(s,1));else{if(0===s.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(s)}}return t}function Jv(e,t){if(null==e)return;const n=[];if(t instanceof Eo)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const e in t){const s=t[e];n.push(s.id)}const s=[];if(e instanceof Eo)-1===n.indexOf(e.id)&&s.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&s.push(e)}));else if(null!=e)for(const t in e){const i=e[t];-1===n.indexOf(i.id)&&s.push(i)}s.forEach((e=>{e.isDisposed||e.dispose()}))}function ex(e){return Array.isArray(e)}function tx(e){return!function(e){return e instanceof Eo}(e)&&!ex(e)}function nx(e,t,n,s=!0,i=""){if(null==t||0===t.length){if(null!=e){let t=!1;if(ex(e)&&e.length>0)t=!0;else if(tx(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new OA(`Error when checking model ${i} expected no data, but got ${e}`)}return[]}if(null==e)return t.map((e=>null));let r;if(tx(e)){r=[];for(const n of t){if(null==e[n])throw new OA(`No data provided for "${n}". Need data for each key in: ${t}`);r.push(e[n])}}else if(ex(e)){if(e.length!==t.length)throw new OA(`Error when checking model ${i}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);r=e}else{if(t.length>1)throw new OA(`The model ${i} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);r=[e]}if(r=$v(r),null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const a=r[e];if(a.shape.length!==n[e].length)throw new OA(`Error when checking ${i}: expected ${t[e]} to have ${n[e].length} dimension(s). but got array with shape ${a.shape}`);for(let t=0;t<n[e].length;++t){if(0===t&&!s)continue;const r=a.shape[t],o=n[e][t];if(null!=o&&o>=0&&r!==o)throw new OA(`${i} expected a batch of elements where each example has shape [${n[e].slice(1,n[e].length)}] (i.e.,tensor shape [*,${n[e].slice(1,n[e].length)}]) but the ${i} received an input with ${a.shape[0]} examples, each with shape [${a.shape.slice(1,a.shape.length)}] (tensor shape [${a.shape}])`)}}return r}function sx(e,t,n,s=!0,i=""){let r;if(Array.isArray(e)){if(e.length!==t.length)throw new OA(`Error when checking model ${i}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);r=e}else{if(t.length>1)throw new OA(`The model expects ${t.length} ${i} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);r=[e]}if(null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const a=r[e];if(a.shape.length!==n[e].length)throw new OA(`Error when checking ${i}: expected ${t[e]} to have ${n[e].length} dimension(s), but got array with shape ${JSON.stringify(a.shape)}`);for(let r=0;r<n[e].length;++r){if(0===r&&!s)continue;const o=a.shape[r],l=n[e][r];if(null!=l&&l!==o)throw new OA(`Error when checking ${i}: expected ${t[e]} to have shape ${JSON.stringify(n[e])} but got array with shape ${JSON.stringify(a.shape)}.`)}}}class ix extends Vv{constructor(e){super(e),this.isTraining=!1}summary(e,t,n=console.log){if(!this.built)throw new OA("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Dv(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>hg.adagrad(.01),Adadelta:()=>hg.adadelta(1,.95,_w()),Adam:()=>hg.adam(.001,.9,.999,_w()),Adamax:()=>hg.adamax(.002,.9,.999,_w(),0),RMSProp:()=>hg.rmsprop(.001,.9,0,_w()),SGD:()=>hg.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new OA(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Gc))throw new OA("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new OA(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);const n=e.loss;t=n.map((e=>Av(e)))}else{const n=Av(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new OA(`Unknown entry in loss dictionary: "${t}". Only expected the following keys: ${this.outputNames}`);for(const n of this.outputNames)e.loss[n],t.push(Av(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let e=0;e<this.outputs.length;++e){const t=this.internalOutputShapes[e],n=this.outputNames[e];this.feedOutputNames.push(n),this.feedOutputShapes.push(t),this.feedLossFns.push(this.lossFunctions[e])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],ww("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const s=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const s of t){let t=n.hasOwnProperty(s)?n[s]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),i=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};ww("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,s,r;for(const a of t){if("string"==typeof a&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(a)){const t=this.internalOutputShapes[e];let i;1===t[t.length-1]||this.lossFunctions[e]===fv?-1!==["accuracy","acc"].indexOf(a)?s=wv:-1!==["crossentropy","ce"].indexOf(a)&&(s=xv):this.lossFunctions[e]===pv?-1!==["accuracy","acc"].indexOf(a)?s=Cv:-1!==["crossentropy","ce"].indexOf(a)&&(s=Ev):-1!==["accuracy","acc"].indexOf(a)?s=bv:-1!==["crossentropy","ce"].indexOf(a)&&(s=kv),-1!==["accuracy","acc"].indexOf(a)?i="acc":-1!==["crossentropy","ce"].indexOf(a)&&(i="ce"),r=s,n=""+i}else{const e=Iv(a);r=e,n=""+Tv(a)}let t;ww(n,(()=>{t=r})),i(e,n,t)}})(s[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&(this.trainableWeights.length,this.collectedTrainableWeights.length)}evaluate(e,t,n={}){const s=null==n.batchSize?32:n.batchSize;Kv(s);const i=this.standardizeUserDataXY(e,t,!0,s);try{const e=i[0].concat(i[1]);this.makeTestFunction();const t=this.testFunction;return UA(this.testLoop(t,e,s,n.verbose,n.steps))}finally{Jv(i[0],e),Jv(i[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const s=null!=(n=n||{}).batches,i=e.testFunction;let r=[];if(n.verbose>0)throw new LA("Verbose mode is not implemented yet.");zn(!s||n.batches>0&&Number.isInteger(n.batches),(()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`));const a="function"==typeof t.next?t:await t.iterator();let o=0,l=0;for(;!s||l<n.batches;){const t=await a.next();if(r=yl((()=>{if(t.value){const{xs:n,ys:s}=jv(e,t.value),a=n.concat(s),c=yl((()=>i(a)));if(Al(a),0===l)for(let e=0;e<c.length;++e)r.push(Oc(0));const u=a[0].shape[0];for(let e=0;e<c.length;++e){const t=c[e],n=r[e];r[e]=yl((()=>Tc(r[e],Dc(u,t)))),l>0&&Al(n)}Al(c),o+=u,++l}return r})),t.done)break}for(let e=0;e<r.length;++e){const t=r[e];r[e]=Nc(r[e],o),Al(t)}return UA(r)}(this,e,t)}checkNumSamples(e,t,n,s="steps"){let i;if(null!=n){if(i=null,null!=t)throw new OA(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else{if(null==e)throw new OA(`Either the input data should have a defined shape, or ${s} shoud be specified.`);i=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return i}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new OA("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),s=n?t:[t],i=this.retrieveSymbolicTensors(s),r=new Db;if(e instanceof Eo&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new OA(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)r.add(this.inputs[t],e[t])}else for(const t of this.inputs){const n=e[t.name];if(null==n)throw new OA(`No value is provided for the model's input ${t.name}`);r.add(t,n)}const a=Rb(i,r);return n?a:a[0]}retrieveSymbolicTensors(e){const t=PA(null,e.length);let n=e.length;for(const s of this.layers){const i=Array.isArray(s.output)?s.output:[s.output],r=i.map((e=>e.name));for(let s=0;s<e.length;++s){const a=r.indexOf(e[s]);if(-1!==a&&(t[s]=i[a],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,s)=>{null==t&&n.push(e[s])})),new OA(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(n)}`)}return t}predictLoop(e,t=32,n=!1){return yl((()=>{const s=this.checkNumSamples(e);if(n)throw new LA("Verbose predictLoop() is not implemented yet.");const i=Xv(s,t),r=this.outputs.map((e=>[]));for(let t=0;t<i.length;++t){yl((()=>{const n=i[t][0],s=i[t][1],r=Zv(e,n,s),a=[];if(Array.isArray(r))for(let e=0;e<r.length;++e)a.push({key:this.inputs[e],value:r[e]});else a.push({key:this.inputs[0],value:r});const o=new Db(a);return Rb(this.outputs,o)})).forEach(((e,t)=>r[t].push(e)))}return UA(r.map((e=>Ih(e,0))))}))}predict(e,t={}){const n=$v(e);sx(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return Kv(e),this.predictLoop(n,e)}finally{Jv(n,e)}}predictOnBatch(e){sx(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t,n=!0,s){if(null==this.optimizer_)throw new FA("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let e=0;e<this.feedOutputShapes.length;++e){const t=this.feedOutputShapes[e];this.feedLossFns[e]===pv?i.push(t.slice(0,t.length-1).concat([1])):i.push(t)}if(function(e,t){const n=$A(e.map((e=>e.shape[0])));n.sort();const s=$A(t.map((e=>e.shape[0])));if(s.sort(),n.length>1)throw new OA(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map((e=>e.shape)))}`);if(s.length>1)throw new OA(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map((e=>e.shape)))}`);if(n.length>0&&s.length>0&&!Gn(n,s))throw new OA(`Input Tensors should have the same number of samples as target Tensors. Found ${n[0]} input sample(s) and ${s[0]} target sample(s).`)}(e=nx(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=nx(t,this.feedOutputNames,i,!1,"target")),function(e,t,n){const s=[lv,fv,dv];for(let i=0;i<e.length;++i){const r=e[i],a=t[i],o=n[i];if(null!=a){if(a===dv&&1===r.shape[r.shape.length-1])throw new OA(`You are passing a target array of shape ${r.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==s.indexOf(a)){const e=r.shape.slice(1),t=o.slice(1);for(let n=0;n<e.length;++n){const s=e[n],i=t[n];if(null!=i&&s!==i)throw new OA(`A target Tensor with shape ${r.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=s&&s>0&&e[0].shape[0]%s!=0)throw new OA(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,s,i=!0,r){const[a,o]=this.standardizeUserDataXY(e,t,i,r);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=s){const e=Wv(s,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await Gv(o[t],null,e[t]))}return[a,o,l]}testLoop(e,t,n,s=0,i){return yl((()=>{const r=this.checkNumSamples(t,n,i,"steps"),a=[];if(s>0)throw new LA("Verbose mode is not implemented yet.");if(null!=i)throw new LA("steps mode in testLoop() is not implemented yet");{const s=Xv(r,n),i=Nf(Iw(0,r));for(let n=0;n<s.length;++n){const r=s[n][0],o=s[n][1],l=Mw(i,r,o-r),c=Qv(t,l),u=e(c);if(0===n)for(let e=0;e<u.length;++e)a.push(Oc(0));for(let e=0;e<u.length;++e){const t=u[e];a[e]=Tc(a[e],Dc(o-r,t))}}for(let e=0;e<a.length;++e)a[e]=Nc(a[e],r)}return a}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const s=e[n];let i=s;if(GA(e,s)>1){i+=`_${GA(e.slice(0,n),s)}`}t.push(i)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),r=[],a=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const a=new Db(e),o=Rb(this.outputs,a,{training:!0});let l;for(let e=0;e<this.lossFunctions.length;++e){let n=(0,this.lossFunctions[e])(s[e],o[e]);null!=i[e]&&(n=Uv(n,i[e]));const r=pp(n);t.push(r),l=0===e?n:Tc(l,n)}for(let e=0;e<this.metricsTensors.length;++e){let n;if(this.outputs.length>1&&e<this.outputs.length)n=t[e];else{const t=this.metricsTensors[e][0],i=this.metricsTensors[e][1];n=pp(t(s[i],o[i]))}wl(n),r.push(n)}return l=pp(l),this.calculateLosses().forEach((e=>{l=Tc(l,e)})),l}),!0,a)].concat(r)}}makeTestFunction(){this.testFunction=e=>yl((()=>{const t=[];let n;const s=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),r=[];for(let e=0;e<this.inputs.length;++e)r.push({key:this.inputs[e],value:s[e]});const a=new Db(r),o=Rb(this.outputs,a);for(let e=0;e<this.lossFunctions.length;++e){const s=this.lossFunctions[e],r=pp(s(i[e],o[e]));n=0===e?r:Tc(n,r),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],s=this.metricsTensors[e][1],r=pp(n(i[s],o[s]));t.push(r)}return t}))}async fit(e,t,n={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let s,i,r,a,o,l,c,u,h;this.isTraining=!0;try{const d=null==n.batchSize?32:n.batchSize;Kv(d);const p=!1,f=await this.standardizeUserData(e,t,n.sampleWeight,n.classWeight,p,d);s=f[0],i=f[1],h=f[2];let m,g=!1;if(null!=n.validationData&&n.validationData.length>0){if(g=!0,2!==n.validationData.length)throw 3===n.validationData.length?new LA("validationData including sample weights is not supported yet."):new OA(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${n.validationData} is invalid.`);o=n.validationData[0],l=n.validationData[1];const e=!0,t=await this.standardizeUserData(o,l,null,null,e,d);c=t[0],u=t[1],m=c.concat(u)}else if(null!=n.validationSplit&&n.validationSplit>0&&n.validationSplit<1){g=!0;const e=Math.floor(s[0].shape[0]*(1-n.validationSplit)),t=s[0].shape[0];c=Zv(s,e,t),r=s,s=Zv(s,0,e),u=Zv(i,e,t),a=i,i=Zv(i,0,e),m=c.concat(u)}else null!=n.validationSteps&&(g=!0);const y=s.concat(i).concat(h);this.checkTrainableWeightsConsistency();const A=this.makeTrainFunction(),w=this.getDedupedMetricsNames();let b,v;g?(this.makeTestFunction(),b=this.testFunction,v=w.slice().concat(w.map((e=>"val_"+e)))):(b=null,m=[],v=w.slice());const x=sv(n.callbacks,n.yieldEvery);return await this.fitLoop(A,y,w,d,n.epochs,n.verbose,x,b,m,n.shuffle,v,n.initialEpoch,null,null)}finally{this.isTraining=!1,Jv(s,e),Jv(i,t),Jv(r,e),Jv(a,t),Jv(c,o),Jv(u,l),null!=h&&Al(h)}}async fitLoop(e,t,n,s,i,r,a,o,l,c,u,h,d,p){null==s&&(s=32),null==i&&(i=1),null==c&&(c=!0),null==h&&(h=0);let f=!1;if(null!=o&&null!=l&&(f=!0),null!=p&&(f=!0,null==d))throw new OA("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,s,d,"steps_per_epoch");let g;null!=m&&(g=Iw(0,m)),null==r&&(r=1);const{callbackList:y,history:A}=rv(a,r,i,h,m,d,s,f,u);y.setModel(this),this.history=A,await y.onTrainBegin(),this.stopTraining_=!1;for(let r=h;r<i;++r){await y.onEpochBegin(r);const i={};if(null!=d)throw new LA("stepsPerEpoch mode is not implemented yet.");{if("batch"===c)throw new LA("batch shuffling is not implemneted yet");c&&Rn(g);const r=Nf(g),a=Xv(m,s);for(let c=0;c<a.length;++c){const u={};if(await y.onBatchBegin(c,u),yl((()=>{const h=a[c][0],d=a[c][1],p=Mw(r,h,d-h);u.batch=c,u.size=d-h;const m=Qv(t,p),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],s=g[e];u[t]=s,wl(s)}if(c===a.length-1&&f){const e=this.testLoop(o,l,s);for(let t=0;t<n.length;++t){const s=n[t],r=e[t];wl(r),i["val_"+s]=r}}})),await y.onBatchEnd(c,u),Zb(u),this.stopTraining_)break}r.dispose()}if(await y.onEpochEnd(r,i),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return Hv(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),s=n[0],i=n[1],r=this.makeTrainFunction()(s.concat(i)),a=[];for(const e of r){const t=await e.data();a.push(t[0])}return Al(r),Jv(n[0],e),Jv(n[1],t),UA(a)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,s=n?this.trainableWeights:this.weights,i=this.getWeights(n);for(let e=0;e<s.length;++e)n&&!s[e].trainable||t.push({name:s[e].originalName,tensor:i[e]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=gl().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-gl().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=qA(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!=typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>qA(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const s of t){if("string"!=typeof n[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=qA(n[s])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[qA(Tv(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>qA(Tv(e))));{const e={};for(const t in this.metrics)e[t]=qA(Tv(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=av(Ov(e.optimizer_config));let n,s;if("string"==typeof e.loss)n=HA(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>HA(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=HA(e.loss[t])}if(Array.isArray(e.metrics))s=e.metrics.map((e=>HA(e)));else if(null!=e.metrics){s={};for(const t in e.metrics)s[t]=HA(e.metrics[t])}this.compile({loss:n,metrics:s,optimizer:t})}async save(e,t){if("string"==typeof e){const t=Ul(e);if(0===t.length)throw new OA(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new OA(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new OA("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await Cl(this.getNamedWeights(t)),s={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:`TensorFlow.js tfjs-layers v${zv}`,convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){s.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:i}=await Cl(await this.optimizer.getWeights(),e);n.specs.push(...i),n.data=Bl([n.data,t])}if(null!=this.userDefinedMetadata){const e=!0;_v(this.userDefinedMetadata,this.name,e),s.userDefinedMetadata=this.userDefinedMetadata}return s.weightData=n.data,s.weightSpecs=n.specs,e.save(s)}setUserDefinedMetadata(e){_v(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}ix.className="Model",Wc(ix);class rx extends ix{}rx.className="Functional",Wc(rx);class ax extends ix{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:lw("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new OA(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof ax||e instanceof ix;let n;if(t){if(n=e,1!==n.outputs.length)throw new OA("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new OA("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new OA("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new OA("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new Nb({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new OA(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new OA("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=_b(this.outputs[0])}this.inboundNodes=[],new Sb({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:PA(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(yb(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new ix({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t,n=console.log){this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t,n={}){if(!this.built)throw new FA("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new FA("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e,t={}){return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t,n={}){if(!this.built)throw new FA("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new FA("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t,n={},s=!1){let i,r={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new OA("Legacy serialization format not supported yet.");i=t}else zn(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),i=t.layers,delete t.layers,r=t;const a=new e(r);if(!(a instanceof ax))throw new LA(`Sequential.fromConfig called on non-Sequential input: ${a}`);for(const e of i){const t=av(e,void 0,s);s&&t.setFastWeightInitDuringBuild(!0),a.add(t)}return a}set stopTraining(e){if(null==this.model)throw new OA("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new OA("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}ax.className="Sequential",Wc(ax);class ox extends Vc{getConfig(){return{}}}class lx extends ox{apply(e,t=1){return function(e,t=1){if(1!==t)throw new LA(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return md(e)}(e,t)}}lx.className="elu",Wc(lx);class cx extends ox{apply(e){return lf(e)}}cx.className="selu",Wc(cx);class ux extends ox{apply(e){return $p(e)}}ux.className="relu",Wc(ux);class hx extends ox{apply(e){return yl((()=>yp(6,$p(e))))}}hx.className="relu6",Wc(hx);class dx extends ox{apply(e){return e}}dx.className="linear",Wc(dx);class px extends ox{apply(e){return _h(e)}}px.className="sigmoid",Wc(px);class fx extends ox{apply(e){return function(e){return yl((()=>{const t=Tc(.5,Dc(.2,e));return Uh(t,0,1)}))}(e)}}fx.className="hardSigmoid",Wc(fx);class mx extends ox{apply(e){return Jd(e)}}mx.className="softplus",Wc(mx);class gx extends ox{apply(e){return function(e){return yl((()=>Nc(e,Tc(Zc(e),1))))}(e)}}gx.className="softsign",Wc(gx);class yx extends ox{apply(e){return Dh(e)}}yx.className="tanh",Wc(yx);class Ax extends ox{apply(e,t=-1){return Af(e,t)}}Ax.className="softmax",Wc(Ax);class wx extends ox{apply(e,t=-1){return tp(e,t)}}wx.className="logSoftmax",Wc(wx);class bx extends ox{apply(e){return yl((()=>yl((()=>{const t=Math.sqrt(2),n=Dc(.5,Tc(1,yd(Nc(e,t))));return Dc(e,n)}))))}}bx.className="gelu",Wc(bx);class vx extends ox{apply(e){return yl((()=>Dc(.5,Dc(e,Tc(1,Dh(Dc(Mc(Nc(2,Math.PI)),Tc(e,Dc(.044715,Hc(e,3))))))))))}}vx.className="gelu_new",Wc(vx);class xx extends ox{apply(e){return yl((()=>Dc(e,Dh(Jd(e)))))}}xx.className="mish",Wc(xx);class Cx extends ox{apply(e,t=1){return yl((()=>Dc(_h(Dc(e,t)),e)))}}function kx(e){return e.getClassName()}function Ex(e,t={}){return QA(e,Pc.getMap().classNameMap,t,"activation")}function Sx(e){if(null==e){const e={className:"linear",config:{}};return Ex(e)}if("string"==typeof e){const t={};return t.className=e,t.config={},Ex(t)}return e instanceof ox?e:Ex(e)}function Ix(e){if(null!=e&&"object"!=typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}Cx.className="swish",Wc(Cx);class Tx extends Vc{}class _x extends Tx{constructor(e){super(),Ix(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return yl((()=>{let t=fp([1]);return this.hasL1&&(t=Tc(t,Td(Dc(this.l1,Zc(e))))),this.hasL2&&(t=Tc(t,Td(Dc(this.l2,Ww(e))))),kh(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}_x.className="L1L2",Wc(_x);const Nx={l1l2:"L1L2"};function Dx(e){return KA(e)}function Mx(e,t={}){return QA(e,Pc.getMap().classNameMap,t,"regularizer")}function Bx(e){if(null==e)return null;if("string"==typeof e){return Mx({className:e in Nx?Nx[e]:e,config:{}})}return e instanceof Tx?e:Mx(e)}class Rx extends Tb{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=gb(e);let n=$p(e);return null!=this.maxValue&&(n=Uh(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}Rx.className="ReLU",Wc(Rx);class Fx extends Tb{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=gb(e);return qd(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}Fx.className="LeakyReLU",Wc(Fx);class Ox extends Tb{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=pb(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Bx(e.alphaRegularizer),this.alphaConstraint=Yb(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new OA(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=yb(e)).slice(1);if(null!=this.sharedAxes)for(const e of this.sharedAxes)t[e-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let t=1;t<e.length;++t)n[t]=e[t];this.inputSpec=[new Cb({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=gb(e),Rp(e,this.alpha.read())}getConfig(){const e={alphaInitializer:db(this.alphaInitializer),alphaRegularizer:Dx(this.alphaRegularizer),alphaConstraint:qb(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}Ox.className="PReLU",Wc(Ox);class Lx extends Tb{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new LA(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=gb(e);return md(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}Lx.className="ELU",Wc(Lx);class zx extends Tb{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=gb(e);return Dc(n,Ec(Vd(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}zx.className="ThresholdedReLU",Wc(zx);class Vx extends Tb{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new Ax).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return yl((()=>{let n=gb(e);const s=t.mask;if(null!=s){const e=Dc(Yc(mp(n.shape),Ec(s,n.dtype)),Oc(-1e9));n=Tc(n,e)}return this.axis instanceof Array?this.axis.length>1?Md(Yc(n,np(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)}))}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function Px(e,t,n){if("number"==typeof e)return PA(e,t);if(e.length!==t)throw new OA(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let i=0;i<t;++i){const r=e[i];if((s=r)!==parseInt(s.toString(),10))throw new OA(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${r}`)}return e;var s}function Wx(e,t,n,s,i=1){if(null==e)return e;let r;return r="same"===n?e:e-(t+(t-1)*(i-1))+1,Math.floor((r+s-1)/s)}function Gx(e,t,n,s){if(null==e)return null;if("valid"===s)e=e*t+Sw([n-t,0]);else{if("same"!==s)throw new OA(`Unsupport padding mode: ${s}.`);e*=t}return e}function Ux(e,t){return yl((()=>(mw(t),"channelsFirst"===t?Zf(e,[0,2,3,1]):e)))}function jx(e,t){return yl((()=>(mw(t),"channelsFirst"===t?Zf(e,[0,2,3,4,1]):e)))}function qx(e,t,n,s=1,i="valid",r,a=1){return yl((()=>{if(null==r&&(r="channelsLast"),mw(r),3!==e.shape.length)throw new OA(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new OA(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new OA(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if("channelsFirst"===r&&(e=Zf(e,[0,2,1])),"causal"===i)throw new LA("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=Zh(e,t,s,"same"===i?"same":"valid","NWC",a);return null!=n&&(o=Uw(o,n)),o}))}function Hx(e,t,n,s=[1,1],i="valid",r,a,o=null){return yl((()=>{if(null==r&&(r="channelsLast"),mw(r),3!==e.rank&&4!==e.rank)throw new OA(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new OA(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=Ux(e,r);if("causal"===i)throw new LA("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=cm({x:l,filter:t,strides:s,pad:"same"===i?"same":"valid",dilations:a,dataFormat:"NHWC",bias:n,activation:o}),"channelsFirst"===r&&(l=Zf(l,[0,3,1,2])),l}))}function Yx(e,t,n,s=[1,1,1],i="valid",r,a){return yl((()=>{if(null==r&&(r="channelsLast"),mw(r),4!==e.rank&&5!==e.rank)throw new OA(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new OA(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let o=jx(e,r);if("causal"===i)throw new LA("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=$h(o,t,s,"same"===i?"same":"valid","NDHWC",a),null!=n&&(o=Uw(o,n)),"channelsFirst"===r&&(o=Zf(o,[0,4,1,2,3])),o}))}Vx.className="Softmax",Wc(Vx);class Kx extends Tb{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",Kx.verifyArgs(t),this.rank=e,nw(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new LA(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Px(t.kernelSize,e,"kernelSize"),this.strides=Px(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,gw(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,mw(this.dataFormat),this.activation=Sx(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=pb(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Yb(t.biasConstraint),this.biasRegularizer=Bx(t.biasRegularizer),this.activityRegularizer=Bx(t.activityRegularizer),this.dilationRate=Px(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new OA(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new OA(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new OA(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(WA("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!tw(e.kernelSize,"number",1,3))throw new OA(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:kx(this.activation),useBias:this.useBias,biasInitializer:db(this.biasInitializer),biasRegularizer:Dx(this.biasRegularizer),activityRegularizer:Dx(this.activityRegularizer),biasConstraint:qb(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class Zx extends Kx{constructor(e,t){super(e,t),this.kernel=null,Zx.verifyArgs(t),this.filters=t.filters,nw(this.filters,"filters"),this.kernelInitializer=pb(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Yb(t.kernelConstraint),this.kernelRegularizer=Bx(t.kernelRegularizer)}build(e){e=yb(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new OA(`The channel dimension of the input should be defined. Found ${e[t]}`);const n=e[t],s=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return yl((()=>{let t;e=gb(e);const n=null==this.bias?null:this.bias.read(),s=iw(this.activation.getClassName());if(null!=s&&2===this.rank)t=Hx(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,s);else{if(1===this.rank)t=qx(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=Hx(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new LA("convolutions greater than 3D are not implemented yet.");t=Yx(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=yb(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let e=0;e<n.length;++e){const s=Wx(n[e],this.kernelSize[e],this.padding,this.strides[e],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[e]);t.push(s)}let s=[e[0]];return"channelsLast"===this.dataFormat?(s=s.concat(t),s.push(this.filters)):(s.push(this.filters),s=s.concat(t)),s}getConfig(){const e={filters:this.filters,kernelInitializer:db(this.kernelInitializer),kernelRegularizer:Dx(this.kernelRegularizer),kernelConstraint:qb(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new OA(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class Qx extends Zx{constructor(e){super(2,e),Qx.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!tw(e.kernelSize,"number",1,2))throw new OA(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}Qx.className="Conv2D",Wc(Qx);class Xx extends Zx{constructor(e){super(3,e),Xx.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new OA(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}Xx.className="Conv3D",Wc(Xx);class $x extends Qx{constructor(e){if(super(e),this.inputSpec=[new Cb({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new OA(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=yb(e)).length)throw new OA("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new OA("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],s=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Cb({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return yl((()=>{let t=gb(e);if(4!==t.shape.length)throw new OA(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,s=n[0];let i,r;"channelsFirst"===this.dataFormat?(i=2,r=3):(i=1,r=2);const a=n[i],o=n[r],l=this.kernelSize[0],c=this.kernelSize[1],u=this.strides[0],h=this.strides[1],d=[s,Gx(a,u,l,this.padding),Gx(o,h,c,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=Zf(t,[0,2,3,1]));let p=Xh(t,this.kernel.read(),d,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(p=Zf(p,[0,3,1,2])),null!=this.bias&&(p=Uw(p,this.bias.read(),this.dataFormat)),null!=this.activation&&(p=this.activation.apply(p)),p}))}computeOutputShape(e){const t=(e=yb(e)).slice();let n,s,i;"channelsFirst"===this.dataFormat?(n=1,s=2,i=3):(n=3,s=1,i=2);const r=this.kernelSize[0],a=this.kernelSize[1],o=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[s]=Gx(t[s],o,r,this.padding),t[i]=Gx(t[i],l,a,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}$x.className="Conv2DTranspose",Wc($x);class Jx extends Xx{constructor(e){if(super(e),this.inputSpec=[new Cb({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new OA(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=yb(e)).length)throw new OA("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new OA("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],s=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Cb({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return yl((()=>{let t=gb(e);if(5!==t.shape.length)throw new OA(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,s=n[0];let i,r,a;"channelsFirst"===this.dataFormat?(a=2,i=3,r=4):(a=1,i=2,r=3);const o=n[a],l=n[i],c=n[r],u=this.kernelSize[0],h=this.kernelSize[1],d=this.kernelSize[2],p=this.strides[0],f=this.strides[1],m=this.strides[2],g=[s,Gx(o,p,u,this.padding),Gx(l,f,h,this.padding),Gx(c,m,d,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=Zf(t,[0,2,3,4,1]));let y=ed(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(y=Zf(y,[0,4,1,2,3])),null!==this.bias&&(y=Uw(y,this.bias.read(),this.dataFormat)),null!==this.activation&&(y=this.activation.apply(y)),y}))}computeOutputShape(e){const t=(e=yb(e)).slice();let n,s,i,r;"channelsFirst"===this.dataFormat?(n=1,s=2,i=3,r=4):(n=4,s=1,i=2,r=3);const a=this.kernelSize[0],o=this.kernelSize[1],l=this.kernelSize[2],c=this.strides[0],u=this.strides[1],h=this.strides[2];return t[n]=this.filters,t[s]=Gx(t[s],c,a,this.padding),t[i]=Gx(t[i],u,o,this.padding),t[r]=Gx(t[r],h,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}Jx.className="Conv3DTranspose",Wc(Jx);class eC extends Zx{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new OA("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new OA("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new OA(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=pb(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Bx(t.depthwiseRegularizer),this.depthwiseConstraint=Yb(t.depthwiseConstraint),this.pointwiseInitializer=pb(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Bx(t.pointwiseRegularizer),this.pointwiseConstraint=Yb(t.pointwiseConstraint)}build(e){if((e=yb(e)).length<this.rank+2)throw new OA(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new OA(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);const n=e[t],s=this.kernelSize.concat([n,this.depthMultiplier]),i=[];for(let e=0;e<this.rank;++e)i.push(1);i.push(n*this.depthMultiplier,this.filters);const r=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,r,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,r,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,r,this.biasConstraint):this.bias=null,this.inputSpec=[new Cb({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return yl((()=>{let t;if(e=gb(e),1===this.rank)throw new LA("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=Zf(e,[0,2,3,1])),t=cf(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=Uw(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=Zf(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=db(this.depthwiseInitializer),e.pointwiseInitializer=db(this.pointwiseInitializer),e.depthwiseRegularizer=Dx(this.depthwiseRegularizer),e.pointwiseRegularizer=Dx(this.pointwiseRegularizer),e.depthwiseConstraint=qb(this.depthwiseConstraint),e.pointwiseConstraint=qb(this.pointwiseConstraint),e}}eC.className="SeparableConv";class tC extends eC{constructor(e){super(2,e)}}tC.className="SeparableConv2D",Wc(tC);class nC extends Zx{constructor(e){super(1,e),nC.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!tw(e.kernelSize,"number",1,1))throw new OA(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}nC.className="Conv1D",Wc(nC);class sC extends Tb{constructor(e){super(e),"number"==typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return yl((()=>{if(e=gb(e),"channelsLast"===this.dataFormat){const t=Rw(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return Rw(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=Rw(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return Rw(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}sC.className="Cropping2D",Wc(sC);class iC extends Tb{constructor(e){var t;super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,mw(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,t=this.interpolation,ew(uw,"InterpolationFormat",t)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return yl((()=>{let t=gb(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=Zf(t,[0,2,3,1]);const e=this.size[0]*n[2],s=this.size[1]*n[3],i="nearest"===this.interpolation?ag.resizeNearestNeighbor(t,[e,s]):ag.resizeBilinear(t,[e,s]);return Zf(i,[0,3,1,2])}{const e=this.size[0]*n[1],s=this.size[1]*n[2];return"nearest"===this.interpolation?ag.resizeNearestNeighbor(t,[e,s]):ag.resizeBilinear(t,[e,s])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}iC.className="UpSampling2D",Wc(iC);class rC extends Kx{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=pb(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Yb(e.depthwiseConstraint),this.depthwiseRegularizer=Bx(e.depthwiseRegularizer)}build(e){if((e=yb(e)).length<4)throw new OA(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new OA(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);const n=e[t],s=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return yl((()=>{let t=function(e,t,n=[1,1],s="valid",i,r){return yl((()=>{null==i&&(i="channelsLast"),mw(i);let a=Ux(e,i);if(4!==e.rank)throw new OA(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new OA(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return a=od(a,t,n,"same"===s?"same":"valid","NHWC",r),"channelsFirst"===i&&(a=Zf(a,[0,3,1,2])),a}))}(e=gb(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=Uw(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=yb(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],s="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=Wx(t,this.kernelSize[0],this.padding,this.strides[0]),r=Wx(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],s,i,r]:[e[0],i,r,s]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=db(this.depthwiseInitializer),e.depthwiseRegularizer=Dx(this.depthwiseRegularizer),e.depthwiseConstraint=qb(this.depthwiseRegularizer),e}}function aC(e,t,n,s){if(Array.isArray(e)){if(null!=t||null!=n)throw new OA("When inputs is an array, neither initialState or constants should be provided");null!=s&&(n=e.slice(e.length-s,e.length),e=e.slice(0,e.length-s)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function oC(e,t,n,s=!1,i,r,a=!1,o=!1){return yl((()=>{const a=t.shape.length;if(a<3)throw new OA(`Input should be at least 3D, but is ${a}D.`);const l=[1,0].concat(Iw(2,a));if(t=Zf(t,l),null!=r)throw new LA("The rnn() functoin of the deeplearn.js backend does not support constants yet.");null!=i&&((i=Ec(Ec(i,"bool"),"float32")).rank===a-1&&(i=Bd(i,-1)),i=Zf(i,l)),s&&(t=ef(t,0),null!=i&&(i=ef(i,0)));const c=[];let u,h=n;const d=t.shape[0],p=Uf(t);let f,m;null!=i&&(f=Uf(i));for(let t=0;t<d;++t){const n=p[t],s=yl((()=>e(n,h)));if(null==i)u=s[0],h=s[1];else{const e=yl((()=>{const e=f[t],n=Yc(Ep(e),e);return{output:Tc(Dc(s[0],e),Dc(h[0],n)),newStates:h.map(((t,i)=>Tc(Dc(s[1][i],e),Dc(t,n))))}}));u=e.output,h=e.newStates}o&&c.push(u)}if(o){m=Sf(c,1)}return[u,m,h]}))}rC.className="DepthwiseConv2D",Wc(rC);class lC extends Tb{constructor(e){let t;if(super(e),null==e.cell)throw new OA("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new gC({cells:e.cell}):e.cell,null==t.stateSize)throw new OA("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new Cb({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return Iw(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){fb(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let s;if(s=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const s of t)n.push([e[0],s]);return[s].concat(n)}return s}computeMask(e,t){return yl((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new LA("Constants support is not implemented in RNN yet.");fb(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Cb({shape:[t,null,...n]});const s=[e[0]].concat(e.slice(2));let i;if(this.cell.build(s),i=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!Gn(this.stateSpec.map((e=>e.shape[e.shape.length-1])),i))throw new OA(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map((e=>new Cb({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e,t=!1){yl((()=>{if(!this.stateful)throw new RA("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new OA("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>fp([n,e]))):this.states_=[fp([n,this.cell.stateSize])];else if(null==e)Al(this.states_),null!=this.keptStates&&(Al(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>fp([n,e]))):this.states_[0]=fp([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new OA(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):Al(this.states_);for(let t=0;t<this.states_.length;++t){const s=e[t],i=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,r=[n,i];if(!Gn(s.shape,r))throw new OA(`State ${t} is incompatible with layer ${this.name}: expected shape=${r}, received shape=${s.shape}`);this.states_[t]=s}}this.states_=this.states_.map((e=>wl(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,s=null==t?null:t.constants;null==t&&(t={});const i=aC(e,n,s,this.numConstants);e=i.inputs,n=i.initialState,s=i.constants;let r=[],a=[];if(null!=n){t.initialState=n,r=r.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new Cb({shape:e.shape}));a=a.concat(this.stateSpec)}null!=s&&(t.constants=s,r=r.concat(s),this.numConstants=s.length);if(r[0]instanceof kb){const n=[e].concat(r),s=this.inputSpec.concat(a),i=this.inputSpec;this.inputSpec=s;const o=super.apply(n,t);return this.inputSpec=i,o}return super.apply(e,t)}call(e,t){return yl((()=>{const n=null==t?null:t.mask,s=null==t?null:t.training;let i=null==t?null:t.initialState;e=gb(e),null==i&&(i=this.stateful?this.states_:this.getInitialState(e));const r=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==r)throw new OA(`RNN Layer has ${r} state(s) but was passed ${i.length} initial state(s).`);this.unroll;const a={training:s},o=oC(((e,t)=>{const n=this.cell.call([e].concat(t),a);return[n[0],n.slice(1)]}),e,i,this.goBackwards,n,null,this.unroll,this.returnSequences),l=o[0],c=o[1],u=o[2];this.stateful&&this.resetStates(u,s);const h=this.returnSequences?c:l;return this.returnState?[h].concat(u):h}))}getInitialState(e){return yl((()=>{let t=fp(e.shape);return t=Td(t,[1,2]),t=Dw(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?Lw(t,[1,e]):t)):this.cell.stateSize>1?[Lw(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===lC.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t,n={}){const s=av(t.cell,n);return new e(Object.assign(t,{cell:s}))}}lC.className="RNN",Wc(lC);class cC extends Tb{}class uC extends cC{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,nw(this.units,"units"),this.activation=Sx(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=pb(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=pb(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=pb(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Bx(e.kernelRegularizer),this.recurrentRegularizer=Bx(e.recurrentRegularizer),this.biasRegularizer=Bx(e.biasRegularizer),this.kernelConstraint=Yb(e.kernelConstraint),this.recurrentConstraint=Yb(e.recurrentConstraint),this.biasConstraint=Yb(e.biasConstraint),this.dropout=Ew([1,Sw([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Ew([1,Sw([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=yb(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return yl((()=>{if(2!==e.length)throw new OA(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const s=null!=t.training&&t.training;let i;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=yC({ones:()=>Ep(e),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=yC({ones:()=>Ep(n),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));const r=this.dropoutMask,a=this.recurrentDropoutMask;i=Vw(null!=r?Dc(e,r):e,this.kernel.read()),null!=this.bias&&(i=Uw(i,this.bias.read())),null!=a&&(n=Dc(n,a));let o=Tc(i,Vw(n,this.recurrentKernel.read()));return null!=this.activation&&(o=this.activation.apply(o)),[o,o]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:kx(this.activation),useBias:this.useBias,kernelInitializer:db(this.kernelInitializer),recurrentInitializer:db(this.recurrentInitializer),biasInitializer:db(this.biasInitializer),kernelRegularizer:Dx(this.kernelRegularizer),recurrentRegularizer:Dx(this.recurrentRegularizer),biasRegularizer:Dx(this.biasRegularizer),activityRegularizer:Dx(this.activityRegularizer),kernelConstraint:qb(this.kernelConstraint),recurrentConstraint:qb(this.recurrentConstraint),biasConstraint:qb(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}uC.className="SimpleRNNCell",Wc(uC);class hC extends lC{constructor(e){e.cell=new uC(e),super(e)}call(e,t){return yl((()=>{null!=this.cell.dropoutMask&&(Al(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Al(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,s=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:s,initialState:i})}))}static fromConfig(e,t){return new e(t)}}hC.className="SimpleRNN",Wc(hC);class dC extends cC{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new OA("GRUCell does not support reset_after parameter set to true.");this.units=e.units,nw(this.units,"units"),this.activation=Sx(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Sx(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=pb(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=pb(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=pb(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Bx(e.kernelRegularizer),this.recurrentRegularizer=Bx(e.recurrentRegularizer),this.biasRegularizer=Bx(e.biasRegularizer),this.kernelConstraint=Yb(e.kernelConstraint),this.recurrentConstraint=Yb(e.recurrentConstraint),this.biasConstraint=Yb(e.biasConstraint),this.dropout=Ew([1,Sw([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Ew([1,Sw([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=yb(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return yl((()=>{if(2!==e.length)throw new OA(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const n=null!=t.training&&t.training;let s=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=yC({ones:()=>Ep(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=yC({ones:()=>Ep(s),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,r=this.recurrentDropoutMask;let a,o,l;0<this.dropout&&this.dropout<1&&(e=Dc(e,i[0]));let c=Vw(e,this.kernel.read());this.useBias&&(c=Uw(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=Dc(s,r[0]));const u=this.recurrentKernel.read(),[h,d]=xf(u,[2*this.units,this.units],u.rank-1),p=Vw(s,h),[f,m,g]=xf(c,3,c.rank-1),[y,A]=xf(p,2,p.rank-1);a=this.recurrentActivation.apply(Tc(f,y)),o=this.recurrentActivation.apply(Tc(m,A));const w=Vw(Dc(o,s),d);l=this.activation.apply(Tc(g,w));const b=Tc(Dc(a,s),Dc(Tc(1,$d(a)),l));return[b,b]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:kx(this.activation),recurrentActivation:kx(this.recurrentActivation),useBias:this.useBias,kernelInitializer:db(this.kernelInitializer),recurrentInitializer:db(this.recurrentInitializer),biasInitializer:db(this.biasInitializer),kernelRegularizer:Dx(this.kernelRegularizer),recurrentRegularizer:Dx(this.recurrentRegularizer),biasRegularizer:Dx(this.biasRegularizer),activityRegularizer:Dx(this.activityRegularizer),kernelConstraint:qb(this.kernelConstraint),recurrentConstraint:qb(this.recurrentConstraint),biasConstraint:qb(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}dC.className="GRUCell",Wc(dC);class pC extends lC{constructor(e){e.implementation,e.cell=new dC(e),super(e)}call(e,t){return yl((()=>{null!=this.cell.dropoutMask&&(Al(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Al(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,s=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:s,initialState:i})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}pC.className="GRU",Wc(pC);class fC extends cC{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,nw(this.units,"units"),this.activation=Sx(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Sx(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=pb(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=pb(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=pb(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Bx(e.kernelRegularizer),this.recurrentRegularizer=Bx(e.recurrentRegularizer),this.biasRegularizer=Bx(e.biasRegularizer),this.kernelConstraint=Yb(e.kernelConstraint),this.recurrentConstraint=Yb(e.recurrentConstraint),this.biasConstraint=Yb(e.biasConstraint),this.dropout=Ew([1,Sw([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Ew([1,Sw([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=yb(e))[e.length-1];let s;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;s=new((t=class extends Kw{apply(t,s){const i=e.apply([n]),r=(new Qw).apply([n]),a=e.apply([2*n]);return Ow(Ow(i,r),a)}}).className="CustomInit",t)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return yl((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new OA(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let s=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=yC({ones:()=>Ep(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=yC({ones:()=>Ep(s),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const r=this.dropoutMask,a=this.recurrentDropoutMask;let o,l,c,u;0<this.dropout&&this.dropout<1&&(e=Dc(e,r[0]));let h=Vw(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=Dc(s,a[0])),h=Tc(h,Vw(s,this.recurrentKernel.read())),this.useBias&&(h=Uw(h,this.bias.read()));const[d,p,f,m]=xf(h,4,h.rank-1);o=this.recurrentActivation.apply(d),l=this.recurrentActivation.apply(p),c=Tc(Dc(l,i),Dc(o,this.activation.apply(f))),u=this.recurrentActivation.apply(m);const g=Dc(u,this.activation.apply(c));return[g,g,c]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:kx(this.activation),recurrentActivation:kx(this.recurrentActivation),useBias:this.useBias,kernelInitializer:db(this.kernelInitializer),recurrentInitializer:db(this.recurrentInitializer),biasInitializer:db(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Dx(this.kernelRegularizer),recurrentRegularizer:Dx(this.recurrentRegularizer),biasRegularizer:Dx(this.biasRegularizer),activityRegularizer:Dx(this.activityRegularizer),kernelConstraint:qb(this.kernelConstraint),recurrentConstraint:qb(this.recurrentConstraint),biasConstraint:qb(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}fC.className="LSTMCell",Wc(fC);class mC extends lC{constructor(e){e.implementation,e.cell=new fC(e),super(e)}call(e,t){return yl((()=>{null!=this.cell.dropoutMask&&(Al(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Al(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,s=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:s,initialState:i})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}mC.className="LSTM",Wc(mC);class gC extends cC{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return yl((()=>{let n=e.slice(1);const s=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?s.push(n.splice(0,e.stateSize.length)):s.push(n.splice(0,1));s.reverse();const i=[];let r;for(let a=0;a<this.cells.length;++a){const o=this.cells[a];n=s[a],r=0===a?[e[0]].concat(n):[r[0]].concat(n),r=o.call(r,t),i.push(r.slice(1))}n=[];for(const e of i.slice().reverse())n.push(...e);return[r[0]].concat(n)}))}build(e){let t;fb(e)&&(e=e[0]),this.cells.forEach(((n,s)=>{ww(`RNNCell_${s}`,(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t,n={}){const s=[];for(const e of t.cells)s.push(av(e,n));return new e({cells:s})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return vb(e)}setWeights(e){const t=[];for(const n of this.cells){const s=n.weights.length,i=e.splice(s);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],i[e]])}xb(t)}}function yC(e){const{ones:t,rate:n,training:s=!1,count:i=1,dropoutFunc:r}=e,a=()=>null!=r?r(t(),n):jw(t(),n),o=()=>qw(a,t,s);if(!i||i<=1)return wl(o().clone());return Array(i).fill(void 0).map(o).map((e=>wl(e.clone())))}gC.className="StackedRNNCells",Wc(gC);var AC=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n};class wC extends lC{constructor(e){if(e.unroll)throw new LA("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new LA("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Cb({ndim:5})]}call(e,t){return yl((()=>{if(null!=this.cell.dropoutMask&&(Al(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Al(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new OA("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,s=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:s,initialState:i})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return yl((()=>{const{stateSize:t}=this.cell,n=e.shape,s=this.computeSingleOutputShape(n),i=fp([s[0],...s.slice(2)]);return Array.isArray(t)?Array(t.length).fill(i):[i]}))}resetStates(e,t=!1){yl((()=>{if(!this.stateful)throw new RA("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,s=this.computeSingleOutputShape(n),i=[s[0],...s.slice(2)];if(null==n[0])throw new OA("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>fp(i))):this.states_=[fp(i)];else if(null==e)Al(this.states_),null!=this.keptStates&&(Al(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>fp(i))):this.states_[0]=fp(i);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new OA(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):Al(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],s=i;if(!Gn(n.shape,s))throw new OA(`State ${t} is incompatible with layer ${this.name}: expected shape=${s}, received shape=${n.shape}`);this.states_[t]=n}}this.states_=this.states_.map((e=>wl(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:s,padding:i,strides:r,dilationRate:a}=this.cell,o="channelsFirst"===t,l=e[o?3:2],c=e[o?4:3],u=Wx(l,s[0],i,r[0],a[0]),h=Wx(c,s[1],i,r[1],a[1]);return[...e.slice(0,2),...o?[n,u,h]:[u,h,n]]}}wC.className="ConvRNN2D";class bC extends fC{constructor(e){const{filters:t,kernelSize:n,strides:s,padding:i,dataFormat:r,dilationRate:a}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,nw(this.filters,"filters"),this.kernelSize=Px(n,2,"kernelSize"),this.kernelSize.forEach((e=>nw(e,"kernelSize"))),this.strides=Px(s||1,2,"strides"),this.strides.forEach((e=>nw(e,"strides"))),this.padding=i||"valid",gw(this.padding),this.dataFormat=r||"channelsLast",mw(this.dataFormat),this.dilationRate=Px(a||1,2,"dilationRate"),this.dilationRate.forEach((e=>nw(e,"dilationRate")))}build(e){var t;e=yb(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new OA(`The channel dimension of the input should be defined. Found ${e[n]}`);const s=e[n],i=this.kernelSize.concat([s,4*this.filters]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const r=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",r,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,s=this.filters;e=new((t=class extends Kw{apply(e,t){return Fw([n.apply([s]),mp([s]),n.apply([2*s])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return yl((()=>{if(3!==e.length)throw new OA(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const n=t.training||!1,s=e[0],i=e[1],r=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=yC({ones:()=>Ep(s),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,o=(e,t,n)=>t&&t[n]?Dc(t[n],e):e;let l=o(s,a,0),c=o(s,a,1),u=o(s,a,2),h=o(s,a,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=yC({ones:()=>Ep(i),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const d=this.recurrentDropoutMask;let p=o(i,d,0),f=o(i,d,1),m=o(i,d,2),g=o(i,d,3);const[y,A,w,b]=xf(this.kernel.read(),4,3),[v,x,C,k]=this.useBias?xf(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,y,v,this.padding),c=this.inputConv(c,A,x,this.padding),u=this.inputConv(u,w,C,this.padding),h=this.inputConv(h,b,k,this.padding);const[E,S,I,T]=xf(this.recurrentKernel.read(),4,3);p=this.recurrentConv(p,E),f=this.recurrentConv(f,S),m=this.recurrentConv(m,I),g=this.recurrentConv(g,T);const _=this.recurrentActivation.apply(Tc(l,p)),N=this.recurrentActivation.apply(Tc(c,f)),D=Tc(Dc(N,r),Dc(_,this.activation.apply(Tc(u,m)))),M=Dc(this.recurrentActivation.apply(Tc(h,g)),this.activation.apply(D));return[M,M,D]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=AC(e,["units"]),s={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),s)}inputConv(e,t,n,s){const i=Kh(e,t,this.strides,s||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?Uw(i,n,this.dataFormat):i}recurrentConv(e,t){return Kh(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}bC.className="ConvLSTM2DCell",Wc(bC);class vC extends wC{constructor(e){const t=new bC(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}vC.className="ConvLSTM2D",Wc(vC);class xC extends Tb{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let e=0;e<this.noiseShape.length;++e)n.push(null==this.noiseShape[e]?t[e]:this.noiseShape[e]);return n}call(e,t){return yl((()=>{this.invokeCallHook(e,t);const n=gb(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,s=this.getNoiseShape(n);return qw((()=>jw(n,this.rate,s,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}xC.className="Dropout",Wc(xC);class CC extends xC{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}CC.className="SpatialDropout1D",Wc(CC);class kC extends Tb{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,nw(this.units,"units"),this.activation=Sx(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=pb(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=pb(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Yb(e.kernelConstraint),this.biasConstraint=Yb(e.biasConstraint),this.kernelRegularizer=Bx(e.kernelRegularizer),this.biasRegularizer=Bx(e.biasRegularizer),this.activityRegularizer=Bx(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=yb(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=yb(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return yl((()=>{this.invokeCallHook(e,t);const n=gb(e),s=iw(this.activation.getClassName());let i;return null!=s?i=Vw(n,this.kernel.read(),s,this.bias?this.bias.read():null):(i=Vw(n,this.kernel.read()),null!=this.bias&&(i=Uw(i,this.bias.read())),null!=this.activation&&(i=this.activation.apply(i))),i}))}getConfig(){const e={units:this.units,activation:kx(this.activation),useBias:this.useBias,kernelInitializer:db(this.kernelInitializer),biasInitializer:db(this.biasInitializer),kernelRegularizer:Dx(this.kernelRegularizer),biasRegularizer:Dx(this.biasRegularizer),activityRegularizer:Dx(this.activityRegularizer),kernelConstraint:qb(this.kernelConstraint),biasConstraint:qb(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}kC.className="Dense",Wc(kC);class EC extends Tb{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=yb(e);for(const t of e.slice(1))if(null==t)throw new OA(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],kw(e,1)]}call(e,t){return yl((()=>{this.invokeCallHook(e,t);let n=gb(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=Zf(n,e)}return function(e){if(e.rank<=1)throw new OA(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],kw(e.shape,1)];return kh(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}EC.className="Flatten",Wc(EC);class SC extends Tb{constructor(e){super(e),this.supportsMasking=!0,this.activation=Sx(e.activation)}call(e,t){return yl((()=>{this.invokeCallHook(e,t);const n=gb(e);return this.activation.apply(n)}))}getConfig(){const e={activation:kx(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}SC.className="Activation",Wc(SC);class IC extends Tb{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return yl((()=>{return e=gb(e),t=e,n=this.n,yl((()=>{if(2!==t.shape.length)throw new OA(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);return Lw(Dw(t,1),[1,n,1])}));var t,n}))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}IC.className="RepeatVector",Wc(IC);class TC extends Tb{constructor(e){super(e),this.targetShape=e.targetShape;for(let e=0;e<this.targetShape.length;++e)this.isUnknown(this.targetShape[e])&&(this.targetShape[e]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",s=t.slice();let i=1,r=null;for(let e=0;e<s.length;++e){const t=s[e];if(this.isUnknown(t)){if(null!==r)throw new OA("Can only specifiy one unknown dimension.");r=e}else i*=t}const a=kw(e);if(null!==r){if(0===i||a%i!=0)throw new OA(n);s[r]=a/i}else if(a!==i)throw new OA(n);return s}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return yl((()=>{this.invokeCallHook(e,t);const n=gb(e),s=n.shape,i=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return kh(n,i)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}TC.className="Reshape",Wc(TC);class _C extends Tb{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const t=Iw(1,e.dims.length+1);if(!Gn(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Cb({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=yb(e)).slice();return this.dims.forEach(((n,s)=>{t[s+1]=e[n]})),t}call(e,t){return Zf(gb(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}_C.className="Permute",Wc(_C);class NC extends Tb{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=gb(e);return th(Cp(n,this.maskValue),-1)}call(e,t){return yl((()=>{this.invokeCallHook(e,t);const n=gb(e),s=th(Cp(n,this.maskValue),-1,!0);return Dc(n,Ec(s,n.dtype))}))}}NC.className="Masking",Wc(NC);class DC extends Tb{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(jA(e.inputLength))}this.inputDim=e.inputDim,nw(this.inputDim,"inputDim"),this.outputDim=e.outputDim,nw(this.outputDim,"outputDim"),this.embeddingsInitializer=pb(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Bx(e.embeddingsRegularizer),this.activityRegularizer=Bx(e.activityRegularizer),this.embeddingsConstraint=Yb(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return yl((()=>this.maskZero?(e=gb(e),Cp(e,Rc(e))):null))}computeOutputShape(e){if(e=yb(e),null==this.inputLength)return[...e,this.outputDim];const t=jA(this.inputLength);if(t.length!==e.length-1)throw new OA(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let s=0;s<t.length;++s){const i=t[s],r=e[s+1];if(null!=i&&null!=r&&i!==r)throw new OA(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==i&&(t[n]=r),n++}}return[e[0],...t,this.outputDim]}call(e,t){return yl((()=>{this.invokeCallHook(e,t);let n=gb(e);"int32"!==n.dtype&&(n=Nw(n,"int32"));const s=Pw(this.embeddings.read(),kh(n,[n.size]));return kh(s,yb(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:db(this.embeddingsInitializer),embeddingsRegularizer:Dx(this.embeddingsRegularizer),activityRegularizer:Dx(this.activityRegularizer),embeddingsConstraint:qb(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}DC.className="Embedding",Wc(DC);class MC extends Tb{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new LA}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let s=0;s<t.length;++s){const i=e[e.length-t.length+s],r=t[s];if(null==i||null==r||i<0||r<0)n.push(null);else if(1===i)n.push(r);else if(1===r)n.push(i);else{if(i!==r)throw new OA("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(i)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[yb(e)]),e.length<2)throw new OA(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(const n of e)null!=n&&null!==n[0]&&t.push(n[0]);if(t=$A(t),t.length>1)throw new OA(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=null==e[0]?null:e[0].slice(1);for(let t=1;t<e.length;++t){const s=null==e[t]?null:e[t].slice(1);n=this.computeElementwiseOpOutputShape(n,s)}const s=e.map((e=>e.length));-1===e.indexOf(null)&&1===$A(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return yl((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const s=Sw(n);for(let n of e){const e=n.rank;for(let t=0;t<s-e;++t)n=Dw(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const s of e){const e=s.rank;if(null==e){const e=s.shape,i=e[0],r=e.slice(1).concat([i]);let a=kh(s,[i].concat(kw(e.slice(1))));a=Zf(a,[1,0]),a=kh(a,r),t.push(a),n=!0}else if(e>1){const i=Iw(1,e).concat([0]);t.push(Zf(s,i)),n=!0}else t.push(s)}let s=this.mergeFunction(t);const i=s.rank;if(n)if(null==i){const e=s.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));s=kh(Zf(kh(s,[-1,t]),[1,0]),n)}else if(i>1){const e=[i-1].concat(Iw(0,i-1));s=Zf(s,e)}return s}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let n=1;n<e.length;++n){const s=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,s)}let n=[];for(const t of e)null!=t&&null!==t[0]&&n.push(t[0]);return n=$A(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return yl((()=>{if(null==t)return null;if(!Array.isArray(t))throw new OA("`mask` should be an Array");if(!Array.isArray(e))throw new OA("`inputs` should be an Array");if(t.length!==e.length)throw new OA(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every((e=>null==e)))return null;let n=(t=t.map((e=>null==e?e:Bd(e,0))))[0];for(let e=1;e<t.length-1;++e)n=sp(n,t[e]);return n}))}}class BC extends MC{constructor(e){super(e)}mergeFunction(e){return yl((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Tc(t,e[n]);return t}))}}BC.className="Add",Wc(BC);class RC extends MC{constructor(e){super(e)}mergeFunction(e){return yl((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Dc(t,e[n]);return t}))}}RC.className="Multiply",Wc(RC);class FC extends MC{constructor(e){super(e)}mergeFunction(e){return yl((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Tc(t,e[n]);return Dc(1/e.length,t)}))}}FC.className="Average",Wc(FC);class OC extends MC{constructor(e){super(e)}mergeFunction(e){return yl((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=Jc(t,e[n]);return t}))}}OC.className="Maximum",Wc(OC);class LC extends MC{constructor(e){super(e)}mergeFunction(e){return yl((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=yp(t,e[n]);return t}))}}LC.className="Minimum",Wc(LC);class zC extends MC{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new OA("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const n of e)if(null!=n){t=!1;break}if(t)return;const n=[];for(let t=0;t<e.length;++t){const s=e[t].slice();s.splice(this.axis,1);let i=!1;for(const e of n)if(Gn(e,s)){i=!0;break}i||n.push(s)}if(n.length>1)throw new OA("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return yl((()=>Fw(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new OA("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),s=this.axis<0?n.length+this.axis:this.axis;for(const e of t.slice(1)){if(null==n[s]||null==e[s]){n[s]=null;break}n[s]+=e[s]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new OA("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new OA("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new OA(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return yl((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const s=[];for(let n=0;n<e.length;++n)null==t[n]?s.push(Ec(Ep(e[n]),"bool")):t[n].rank<e[n].rank?s.push(Bd(t[n],-1)):s.push(t[n]);const i=Ih(s,this.axis);return eh(i,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function VC(e,t){for(;e<0;)e+=t;return e}zC.className="Concatenate",Wc(zC);class PC extends MC{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){zn(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new LA("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(t,n);if(t[s[0]]!==n[s[1]])throw new OA(`Dimension incompatibility: ${t[s[0]]} !== ${n[s[1]]}`)}mergeFunction(e){if(2!==e.length)throw new OA(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t,n=e[0],s=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>VC(t,e[n].shape.length))):[VC(this.axes,n.shape.length),VC(this.axes,s.shape.length)],this.normalize&&(n=ov(n,t[0]),s=ov(s,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new LA("batchDot is not implemented for tensors of 4D or higher rank yet");if(zn(e.shape.length>=2,(()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`)),zn(e.shape.length>=2,(()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`)),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new LA("batchDot is not implemented for complex64-type Tensors yet.");const s=e.shape.length,i=t.shape.length;null==n&&(n=[s-1,i-2]);const r=n;return yl((()=>{let n,a;if(s>i){n=s-i;const e=[];for(let t=0;t<n;++t)e.push(1);t=kh(t,t.shape.concat(e))}else if(i>s){n=i-s;const t=[];for(let e=0;e<n;++e)t.push(1);e=kh(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)a=r[0]===r[1]?Td(Dc(e,t),r[0]):Td(Dc(Zf(e,[1,0]),t),r[1]);else{const n=r[0]!==e.shape.length-1,s=r[1]===t.shape.length-1;a=Th(e,t,n,s)}if(n>0){let e;e=s>i?s+i-3:s-1;const t=[];for(let s=e;s<e+n;++s)t.push(s);a=Ef(a,t)}return 1===a.shape.length&&(a=Bd(a,1)),a}))}(n,s,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[VC(this.axes,e.length),VC(this.axes,t.length)],n}computeOutputShape(e){zn(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new LA("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(t,n);t.splice(s[0],1),n.splice(s[1],1),n.splice(0,1);const i=t.concat(n);return 1===i.length&&i.push(1),i}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}PC.className="Dot",Wc(PC);class WC extends Tb{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return yl((()=>{this.invokeCallHook(e,t);const n=gb(e);return qw((()=>Tc(zw(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}WC.className="GaussianNoise",Wc(WC);class GC extends Tb{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return yl((()=>{this.invokeCallHook(e,t);const n=gb(e);if(this.rate>0&&this.rate<1){return qw((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return Dc(n,zw(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}GC.className="GaussianDropout",Wc(GC);class UC extends Tb{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||gb(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return yl((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e);return qw((()=>{const t=gb(e),s=-1.7580993408473766;let i=Pd(Yp(n),this.rate);i=Nw(i,"float32");const r=((1-this.rate)*(1+this.rate*s**2))**-.5,a=-r*s*this.rate,o=Tc(Dc(t,i),Dc(Tc(i,-1),s));return Tc(Dc(o,r),a)}),(()=>gb(e)),t.training||!1)}return e}))}}function jC(e,t,n,s,i,r=.001){let a;if(2===e.rank)a=Fh(e,t,n,s,i,r);else if(3===e.rank)a=Oh(e,t,n,s,i,r);else{if(4!==e.rank)throw new LA(`batchNormalization is not implemented for array of rank ${e.rank} yet`);a=Lh(e,t,n,s,i,r)}return a}function qC(e,t,n,s,i=.001){return Gn(s.slice().sort(),Iw(0,e.rank-1))?function(e,t,n,s,i=.001){return yl((()=>{const r=bp(e,s),a=r.mean,o=r.variance;return[jC(e,a,o,n,t,i),a,o]}))}(e,t,n,s,i):function(e,t,n,s,i=.001){return yl((()=>{const r=bp(e,s),a=r.mean,o=r.variance,l=[];for(const t of Iw(0,e.rank))-1!==s.indexOf(t)?l.push(1):l.push(e.shape[t]);const c=kh(a,l),u=kh(o,l),h=null==t?null:kh(t,l),d=null==n?null:kh(n,l);return[jC(e,c,u,d,h,i),a,o]}))}(e,t,n,s,i)}UC.className="AlphaDropout",Wc(UC);class HC extends Tb{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=pb(e.betaInitializer||"zeros"),this.gammaInitializer=pb(e.gammaInitializer||"ones"),this.movingMeanInitializer=pb(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=pb(e.movingVarianceInitializer||"ones"),this.betaConstraint=Yb(e.betaConstraint),this.gammaConstraint=Yb(e.gammaConstraint),this.betaRegularizer=Bx(e.betaRegularizer),this.gammaRegularizer=Bx(e.gammaRegularizer)}build(e){e=yb(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new OA(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Cb({ndim:e.length,axes:{[t]:n}})];const s=[n];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return yl((()=>{const n=null!=t.training&&t.training,s=gb(e),i=s.shape,r=i.length,a=Iw(0,r),o=this.axis>=0?this.axis:this.axis+r;a.splice(o,1);const l=PA(1,r);l[o]=i[o];const c=a.slice();c.sort();const u=!Gn(c,Iw(0,r).slice(0,r-1));if(!n)return(()=>{if(u){const e=kh(this.movingMean.read(),l),t=kh(this.movingVariance.read(),l),n=this.center?kh(this.beta.read(),l):null,i=this.scale?kh(this.gamma.read(),l):null;return jC(s,e,t,n,i,this.epsilon)}return jC(s,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[h,d,p]=qC(s,this.gamma.read(),this.beta.read(),a,this.epsilon),f=(e,t,n)=>{yl((()=>{const s=1-n,i=e.read(),r=Dc(Yc(i,t),s);e.write(Yc(i,r))}))};return(()=>{f(this.movingMean,d,this.momentum),f(this.movingVariance,p,this.momentum)})(),h}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:db(this.betaInitializer),gammaInitializer:db(this.gammaInitializer),movingMeanInitializer:db(this.movingMeanInitializer),movingVarianceInitializer:db(this.movingVarianceInitializer),betaRegularizer:Dx(this.betaRegularizer),gammaRegularizer:Dx(this.gammaRegularizer),betaConstraint:qb(this.betaConstraint),gammaConstraint:qb(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}HC.className="BatchNormalization",Wc(HC);class YC extends Tb{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=pb(e.betaInitializer||"zeros"),this.gammaInitializer=pb(e.gammaInitializer||"ones"),this.betaRegularizer=Bx(e.betaRegularizer),this.gammaRegularizer=Bx(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=yb(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let e=0;e<this.axis.length;++e)this.axis[e]<0&&(this.axis[e]+=t);for(const e of this.axis)if(e<0||e>=t)throw new Error(`Invalid axis: ${e}`);if(this.axis.length!==$A(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map((t=>e[t])),s=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(e,t){const n=gb(e),s=n.shape,i=s.length;return yl((()=>{let{mean:e,variance:t}=bp(n,this.axis,!0);const r=PA(1,i);for(const e of this.axis)r[e]=s[e];const a=e=>null!=e&&e.shape.length!==i?kh(e,r):e;let o=this.scale?a(this.gamma.read()):null,l=this.center?a(this.beta.read()):null;const c=[],u=[];for(let e=0;e<i;++e)-1!==this.axis.indexOf(e)?(c.push(s[e]),u.push(1)):(c.push(1),u.push(s[e]));return e=Fd(e,c),t=Fd(t,c),null!=o&&(o=Fd(o,u)),null!=l&&(l=Fd(l,u)),jC(n,e,t,l,o,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:db(this.betaInitializer),gammaInitializer:db(this.gammaInitializer),betaRegularizer:Dx(this.betaRegularizer),gammaRegularizer:Dx(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}YC.className="LayerNormalization",Wc(YC);class KC extends Tb{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new OA(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,n;if("number"==typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new OA(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new OA(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new Cb({ndim:4})]}computeOutputShape(e){let t,n;return e=yb(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return yl((()=>{return t=gb(e),n=this.padding,s=this.dataFormat,yl((()=>{if(4!==t.rank)throw new OA(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(null==n&&(n=[[1,1],[1,1]]),2!==n.length||2!==n[0].length||2!==n[1].length)throw new OA("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==s&&(s="channelsLast"),"channelsLast"!==s&&"channelsFirst"!==s)throw new OA(`Unknown data format: ${s}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let e;return e="channelsFirst"===s?[[0,0],[0,0],n[0],n[1]]:[[0,0],n[0],n[1],[0,0]],Ip(t,e)}));var t,n,s}))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function ZC(e,t,n,s,i,r){return yl((()=>{let a;mw(i),yw(r),gw(s),null==n&&(n=[1,1]),null==s&&(s="valid"),null==i&&(i="channelsLast"),null==r&&(r="max"),e=Ux(e,i);const o="same"===s?"same":"valid";return a="max"===r?up(e,t,n,o):Eh(e,t,n,o),"channelsFirst"===i&&(a=Zf(a,[0,3,1,2])),a}))}function QC(e,t,n,s,i,r){return yl((()=>{let a;mw(i),yw(r),gw(s),null==n&&(n=[1,1,1]),null==s&&(s="valid"),null==i&&(i="channelsLast"),null==r&&(r="max"),e=jx(e,i);const o="same"===s?"same":"valid";return a="max"===r?hp(e,t,n,o):Sh(e,t,n,o),"channelsFirst"===i&&(a=Zf(a,[0,4,1,2,3])),a}))}KC.className="ZeroPadding2D",Wc(KC);class XC extends Tb{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"==typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new OA(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(nw(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"==typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new OA(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);this.strides=e.strides}nw(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,gw(this.padding),this.inputSpec=[new Cb({ndim:3})]}computeOutputShape(e){const t=Wx((e=yb(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return yl((()=>{this.invokeCallHook(e,t),e=Dw(gb(e),2);const n=this.poolingFunction(gb(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Ef(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class $C extends XC{constructor(e){super(e)}poolingFunction(e,t,n,s,i){return mw(i),gw(s),ZC(e,t,n,s,i,"max")}}$C.className="MaxPooling1D",Wc($C);class JC extends XC{constructor(e){super(e)}poolingFunction(e,t,n,s,i){return mw(i),gw(s),ZC(e,t,n,s,i,"avg")}}JC.className="AveragePooling1D",Wc(JC);class ek extends Tb{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new OA(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];nw(this.poolSize,"poolSize"),nw(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,mw(this.dataFormat),gw(this.padding),this.inputSpec=[new Cb({ndim:4})]}computeOutputShape(e){e=yb(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=Wx(t,this.poolSize[0],this.padding,this.strides[0]),n=Wx(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return yl((()=>(this.invokeCallHook(e,t),this.poolingFunction(gb(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class tk extends ek{constructor(e){super(e)}poolingFunction(e,t,n,s,i){return mw(i),gw(s),ZC(e,t,n,s,i,"max")}}tk.className="MaxPooling2D",Wc(tk);class nk extends ek{constructor(e){super(e)}poolingFunction(e,t,n,s,i){return mw(i),gw(s),ZC(e,t,n,s,i,"avg")}}nk.className="AveragePooling2D",Wc(nk);class sk extends Tb{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new OA(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];nw(this.poolSize,"poolSize"),nw(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,mw(this.dataFormat),gw(this.padding),this.inputSpec=[new Cb({ndim:5})]}computeOutputShape(e){e=yb(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],s="channelsFirst"===this.dataFormat?e[4]:e[3];return t=Wx(t,this.poolSize[0],this.padding,this.strides[0]),n=Wx(n,this.poolSize[1],this.padding,this.strides[1]),s=Wx(s,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,s]:[e[0],t,n,s,e[4]]}call(e,t){return yl((()=>(this.invokeCallHook(e,t),this.poolingFunction(gb(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class ik extends sk{constructor(e){super(e)}poolingFunction(e,t,n,s,i){return mw(i),gw(s),QC(e,t,n,s,i,"max")}}ik.className="MaxPooling3D",Wc(ik);class rk extends sk{constructor(e){super(e)}poolingFunction(e,t,n,s,i){return mw(i),gw(s),QC(e,t,n,s,i,"avg")}}rk.className="AveragePooling3D",Wc(rk);class ak extends Tb{constructor(e){super(e),this.inputSpec=[new Cb({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new LA}}class ok extends ak{constructor(e){super(e||{})}call(e,t){return yl((()=>{const t=gb(e);return pp(t,1)}))}}ok.className="GlobalAveragePooling1D",Wc(ok);class lk extends ak{constructor(e){super(e||{})}call(e,t){return yl((()=>{const t=gb(e);return Sd(t,1)}))}}lk.className="GlobalMaxPooling1D",Wc(lk);class ck extends Tb{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,mw(this.dataFormat),this.inputSpec=[new Cb({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new LA}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class uk extends ck{call(e,t){return yl((()=>{const t=gb(e);return"channelsLast"===this.dataFormat?pp(t,[1,2]):pp(t,[2,3])}))}}uk.className="GlobalAveragePooling2D",Wc(uk);class hk extends ck{call(e,t){return yl((()=>{const t=gb(e);return"channelsLast"===this.dataFormat?Sd(t,[1,2]):Sd(t,[2,3])}))}}hk.className="GlobalMaxPooling2D",Wc(hk);class dk extends Tb{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t,n={}){const s=av(t.layer,n);delete t.layer;const i={layer:s};return Object.assign(i,t),new e(i)}}class pk extends dk{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=yb(e)).length<3)throw new OA(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=yb(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),s=e[1];return[n[0],s].concat(n.slice(1))}call(e,t){return yl((()=>oC(((e,n)=>[gb(this.layer.call(e,t)),[]]),e=gb(e),[],!1,null,null,!1,!0)[1]))}}pk.className="TimeDistributed",Wc(pk);class fk extends dk{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=av(n),t.goBackwards=!0!==t.goBackwards;const s={};var i;if(s.className=e.layer.getClassName(),s.config=t,this.backwardLayer=av(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,i=this.mergeMode,ew(pw,"BidirectionalMergeMode",i),e.weights)throw new LA("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,s,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),this.returnState?(s=i.slice(1),t=i[0]):t=i[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(s).concat(s.slice()):[t].concat(s).concat(s.slice()):UA(n)}apply(e,t){let n=null==t?null:t.initialState,s=null==t?null:t.constants;null==t&&(t={});const i=aC(e,n,s,this.numConstants);if(e=i.inputs,n=i.initialState,s=i.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==s)return super.apply(e,t);const r=[],a=[];if(null!=n){const e=n.length;if(e%2>0)throw new OA("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,r.push(...n);const s=n.map((e=>new Cb({shape:e.shape})));this.forwardLayer.stateSpec=s.slice(0,e/2),this.backwardLayer.stateSpec=s.slice(e/2),a.push(...s)}if(null!=s)throw new LA("Support for constants in Bidirectional layers is not implemented yet.");const o=r[0]instanceof kb;for(const e of r)if(e instanceof kb!==o)throw new OA("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(o){const n=[e].concat(r),s=this.inputSpec.concat(a),i=this.inputSpec;this.inputSpec=s;const o=super.apply(n,t);return this.inputSpec=i,o}return super.apply(e,t)}call(e,t){return yl((()=>{const n=t.initialState;let s,i,r,a;if(null==n)s=this.forwardLayer.call(e,t),i=this.backwardLayer.call(e,t);else{const r=n.slice(0,n.length/2),a=n.slice(n.length/2);s=this.forwardLayer.call(e,Object.assign(t,{initialState:r})),i=this.backwardLayer.call(e,Object.assign(t,{initialState:a}))}return this.returnState&&(Array.isArray(s)&&(r=s.slice(1).concat(i.slice(1))),s=s[0],i=i[0]),this.returnSequences&&(i=ef(i,1)),"concat"===this.mergeMode?a=Fw([s,i]):"sum"===this.mergeMode?a=Tc(s,i):"ave"===this.mergeMode?a=Dc(.5,Tc(s,i)):"mul"===this.mergeMode?a=Dc(s,i):null==this.mergeMode&&(a=[s,i]),this.returnState?null==this.mergeMode?a.concat(r):[a].concat(r):a}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){ww(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),ww(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=av(t.layer);if(delete t.layer,null!=t.numConstants)throw new LA("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=t;return s.layer=n,new e(s)}}fk.className="Bidirectional",Wc(fk);class mk extends Tb{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return yl((()=>("float32"!==(e=gb(e)).dtype&&(e=Nw(e,"float32")),Tc(Dc(e,this.scale),this.offset))))}}mk.className="Rescaling",Wc(mk);const{resizeBilinear:gk,cropAndResize:yk}=ag;class Ak extends Tb{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,s,i,r,a,o){return yl((()=>{let l,c=!1;const u=[t/r,n/a,(s+t)/r,(i+n)/a],h=[];3===e.rank?(c=!0,l=Sf([e])):l=e;for(let e=0;e<l.shape[0];e++)h.push(u);const d=dl(h,[h.length,4]),p=Zp(0,h.length,1,"int32"),f=yk(l,d,p,[s,i],"nearest");return Nw(c?gb(Uf(f)):f,o)}))}upsize(e,t,n,s){return yl((()=>Nw(gk(e,[t,n]),s)))}call(e,t){return yl((()=>{const t=gb(e),n=t.dtype,s=t.shape,i=s[s.length-3],r=s[s.length-2];let a=0;i!==this.height&&(a=Math.floor((i-this.height)/2));let o=0;return r!==this.width&&(o=Math.floor((r-this.width)/2),0===o&&(o=1)),a>=0&&o>=0?this.centerCrop(t,a,o,this.height,this.width,i,r,n):this.upsize(e,this.height,this.width,n)}))}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=yb(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}Ak.className="CenterCrop",Wc(Ak);class wk extends Tb{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=yb(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return yl((()=>{let n;if("int32"!==(e=gb(e)).dtype&&(e=Nw(e,"int32")),void 0!==t.countWeights){if("count"!==this.outputMode)throw new OA(`countWeights is not used when outputMode !== count.\n              Received countWeights=${t.countWeights}`);n=gb(t.countWeights)}const s=Sd(e),i=Id(e),r=Vd(this.numTokens,s).bufferSync().get(0),a=Pd(i,0).bufferSync().get(0);if(!r||!a)throw new OA(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return function(e,t,n,s){let i=gb(e);if("int32"!==i.dtype&&(i=Nw(i,"int32")),"int"===t)return i;const r=i.shape;if(0===i.rank&&(i=Bd(i,-1)),"oneHot"===t&&1!==i.shape[i.shape.length-1]&&(i=Bd(i,-1)),i.rank>2)throw new OA(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${r} which would result in output rank ${i.rank}.`);const a=["multiHot","oneHot"].includes(t);let o;if(o=rd(i,void 0!==s&&"count"===t?s:[],n,a),"tfIdf"!==t)return o;if(s)return Dc(o,s);throw new OA("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)}))}}wk.className="CategoryEncoding",Wc(wk);const bk=new Set(["bilinear","nearest"]);class vk extends Tb{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!bk.has(e.interpolation))throw new OA(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=yb(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return yl((()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return ag.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return ag.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...bk]} are supported`)}))}}vk.className="Resizing",Wc(vk);class xk{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}xk.className="RandomSeed";class Ck extends Tb{constructor(e){super(e),this.randomGenerator=new xk(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}Ck.className="BaseRandomLayer";const kk=new Set(["bilinear","nearest"]);class Ek extends Ck{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new OA(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new OA(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new OA(`factor cannot have upper bound less than lower bound.\n        Got upper bound: ${this.widthUpper}.\n        Got lower bound: ${this.widthLower}\n      `);if(n){if(!kk.has(n))throw new OA(`Invalid interpolation parameter: ${n} is not implemented`);this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=yb(e))[2];return[this.imgHeight,-1,t]}call(e,t){return yl((()=>{const t=gb(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=Yp([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let s=this.widthFactor.dataSync()[0]*n;s=Math.round(s);const i=[this.imgHeight,s];switch(this.interpolation){case"bilinear":return ag.resizeBilinear(e,i);case"nearest":return ag.resizeNearestNeighbor(e,i);default:throw new Error(`Interpolation is ${this.interpolation}\n          but only ${[...kk]} are supported`)}}))}}Ek.className="RandomWidth",Wc(Ek);var Sk,Ik,Tk;As().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{})),(Ik=Sk||(Sk={}))[Ik.DT_INVALID=0]="DT_INVALID",Ik[Ik.DT_FLOAT=1]="DT_FLOAT",Ik[Ik.DT_DOUBLE=2]="DT_DOUBLE",Ik[Ik.DT_INT32=3]="DT_INT32",Ik[Ik.DT_UINT8=4]="DT_UINT8",Ik[Ik.DT_INT16=5]="DT_INT16",Ik[Ik.DT_INT8=6]="DT_INT8",Ik[Ik.DT_STRING=7]="DT_STRING",Ik[Ik.DT_COMPLEX64=8]="DT_COMPLEX64",Ik[Ik.DT_INT64=9]="DT_INT64",Ik[Ik.DT_BOOL=10]="DT_BOOL",Ik[Ik.DT_QINT8=11]="DT_QINT8",Ik[Ik.DT_QUINT8=12]="DT_QUINT8",Ik[Ik.DT_QINT32=13]="DT_QINT32",Ik[Ik.DT_BFLOAT16=14]="DT_BFLOAT16",Ik[Ik.DT_QINT16=15]="DT_QINT16",Ik[Ik.DT_QUINT16=16]="DT_QUINT16",Ik[Ik.DT_UINT16=17]="DT_UINT16",Ik[Ik.DT_COMPLEX128=18]="DT_COMPLEX128",Ik[Ik.DT_HALF=19]="DT_HALF",Ik[Ik.DT_RESOURCE=20]="DT_RESOURCE",Ik[Ik.DT_VARIANT=21]="DT_VARIANT",Ik[Ik.DT_UINT32=22]="DT_UINT32",Ik[Ik.DT_UINT64=23]="DT_UINT64",Ik[Ik.DT_FLOAT_REF=101]="DT_FLOAT_REF",Ik[Ik.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",Ik[Ik.DT_INT32_REF=103]="DT_INT32_REF",Ik[Ik.DT_UINT8_REF=104]="DT_UINT8_REF",Ik[Ik.DT_INT16_REF=105]="DT_INT16_REF",Ik[Ik.DT_INT8_REF=106]="DT_INT8_REF",Ik[Ik.DT_STRING_REF=107]="DT_STRING_REF",Ik[Ik.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",Ik[Ik.DT_INT64_REF=109]="DT_INT64_REF",Ik[Ik.DT_BOOL_REF=110]="DT_BOOL_REF",Ik[Ik.DT_QINT8_REF=111]="DT_QINT8_REF",Ik[Ik.DT_QUINT8_REF=112]="DT_QUINT8_REF",Ik[Ik.DT_QINT32_REF=113]="DT_QINT32_REF",Ik[Ik.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",Ik[Ik.DT_QINT16_REF=115]="DT_QINT16_REF",Ik[Ik.DT_QUINT16_REF=116]="DT_QUINT16_REF",Ik[Ik.DT_UINT16_REF=117]="DT_UINT16_REF",Ik[Ik.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",Ik[Ik.DT_HALF_REF=119]="DT_HALF_REF",Ik[Ik.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",Ik[Ik.DT_VARIANT_REF=121]="DT_VARIANT_REF",Ik[Ik.DT_UINT32_REF=122]="DT_UINT32_REF",Ik[Ik.DT_UINT64_REF=123]="DT_UINT64_REF",function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(Tk||(Tk={}));const _k={};function Nk(e){return _k[e]}function Dk(e,t,n,s,i){const r=t.inputParams[e];if(r&&void 0!==r.inputIndexStart){const e=r.inputIndexStart,a=0===r.inputIndexEnd?void 0:void 0===r.inputIndexEnd?e+1:r.inputIndexEnd,o=e<0?t.inputNames.length+e:e;if("tensor"===r.type)return Mk(t.inputNames[o],n,s,i);if("tensors"===r.type){const r=t.inputs.slice(e,a);return t.inputNames.slice(e,a).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=r[t])||void 0===n?void 0:n.op)})).map((e=>Mk(e,n,s,i)))}const l=Mk(t.inputNames[o],n,s,i),c=l.dataSync();return"number"===r.type?c[0]:os(l.shape,c)}const a=t.attrParams[e];return a&&a.value}function Mk(e,t,n,s){const[i,r]=Ok(e,n);if(null!=s){const e=s.getHashTableHandleByName(i);if(null!=e)return e}const a=n.currentContextIds.find((e=>!!t[Fk(i,e)]));return void 0!==a?t[Fk(i,a)][r]:void 0}function Bk(e,t,n){return t[Fk(e,n.currentContextId)]}function Rk(e,t){const[n,s,i]=Ok(e,t);return[Fk(n,t&&t.currentContextId),s,i]}function Fk(e,t){return t?`${e}-${t}`:e}function Ok(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const s=e.split(":");let i;if(1===s.length)i=[e,0,void 0];else{const e=s[0],t=3===s.length?s[1]:void 0;i=[e,Number(s[s.length-1]),t]}return n&&t.parseNodeNameCache.set(e,i),i}function Lk(e,t,n){let s=Dk("pad",e,t,n);if("explicit"===s){s=Dk("explicitPaddings",e,t,n);const i=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)i[e][0]=s[2*e],i[e][1]=s[2*e+1];return i}return s}function zk(e){return e.kept?e:Sc(e)}const Vk=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Pk=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Wk=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Gk=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Uk=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],jk=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],qk=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Hk=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Yk=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Kk=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Zk=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],Qk=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],Xk=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],$k=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Jk=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],eE=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],tE=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],nE=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],sE=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class iE{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[r,a,o,l,c,u,h,d,p,f,m,g,y,A,w,b,v,x,C].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,s=[],i=[],r=[],a=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?s.push(e[t.name]):"Const"===t.op?i.push(e[t.name]):null!=t.input&&0!==t.input.length||r.push(e[t.name]),e)),{});let o=[];const l=[];let c={},u={};null!=t&&(c=this.mapSignatureEntries(t.inputs),u=this.mapSignatureEntries(t.outputs));const h=Object.keys(a);h.forEach((e=>{const t=a[e];t.inputNames.forEach(((e,n)=>{const[s,,i]=Rk(e),r=a[s];if(null!=r.outputs){const e=r.outputs.indexOf(i);if(-1!==e){const i=`${s}:${e}`;t.inputNames[n]=i}}t.inputs.push(r),r.children.push(t)}))})),0===Object.keys(u).length?h.forEach((e=>{const t=a[e];0===t.children.length&&l.push(t)})):Object.keys(u).forEach((e=>{const[t]=Rk(e),n=a[t];null!=n&&(n.signatureKey=u[e],l.push(n))})),Object.keys(c).length>0?Object.keys(c).forEach((e=>{const[t]=Rk(e),n=a[t];n&&(n.signatureKey=c[e],o.push(n))})):o=s;let d={};null!=e.library&&null!=e.library.function&&(d=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const p={nodes:a,inputs:o,outputs:l,weights:i,placeholders:s,signature:t,functions:d};return r.length>0&&(p.initNodes=r),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=Nk(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const s=n.type;let i;switch(n.type){case"string":i=aE(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=aE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":i=gE(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=gE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":i=lE(e.attr,n.tfName,n.defaultValue||0),void 0===i&&n.tfDeprecatedName&&(i=lE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":i=mE(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=mE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":i=oE(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=oE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":i=AE(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=AE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":i=fE(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=fE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":i=yE(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=yE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":i=hE(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=hE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":i=dE(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=dE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":i=uE(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=uE(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:i,type:s},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let s={};null!=t&&(s=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const i=[],r=[];e.signature.inputArg.forEach((e=>{const[t]=Rk(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:cE(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,i.push(n),s[t]=n}));Object.keys(s).forEach((e=>{const t=s[e];t.inputNames.forEach(((e,n)=>{const[i,,r]=Rk(e),a=s[i];if(null!=a.outputs){const e=a.outputs.indexOf(r);if(-1!==e){const s=`${i}:${e}`;t.inputNames[n]=s}}t.inputs.push(a),a.children.push(t)}))}));const a=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=Rk(a[e.name]),i=s[t];null!=i&&(i.defaultOutput=n,r.push(i))}));const o=this.mapArgsToSignature(e);return{nodes:s,inputs:i,outputs:r,weights:n,placeholders:[],signature:o}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function rE(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=As().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function aE(e,t,n,s=!1){const i=e[t];return null!=i?rE(i.s,s):n}function oE(e,t,n){const s=e[t];return s?s.b:n}function lE(e,t,n){const s=e[t]||{},i=null!=s.i?s.i:null!=s.f?s.f:n;return"number"==typeof i?i:parseInt(i,10)}function cE(e){switch("string"==typeof e&&(e=Sk[e]),e){case Sk.DT_FLOAT:case Sk.DT_HALF:return"float32";case Sk.DT_INT32:case Sk.DT_INT64:case Sk.DT_INT8:case Sk.DT_UINT8:return"int32";case Sk.DT_BOOL:return"bool";case Sk.DT_DOUBLE:return"float32";case Sk.DT_STRING:return"string";case Sk.DT_COMPLEX64:case Sk.DT_COMPLEX128:return"complex64";default:return null}}function uE(e,t,n){const s=e[t];return s&&s.func?s.func.name:n}function hE(e,t,n){const s=e[t];return s&&s.type?cE(s.type):n}function dE(e,t,n){const s=e[t];return s&&s.list&&s.list.type?s.list.type.map((e=>cE(e))):n}function pE(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"==typeof e.size?e.size:parseInt(e.size,10))):[]}function fE(e,t,n){const s=e[t];return s&&s.shape?pE(s.shape):n}function mE(e,t,n){const s=e[t];return s?((s.list.f&&s.list.f.length?s.list.f:s.list.i)||[]).map((e=>"number"==typeof e?e:parseInt(e,10))):n}function gE(e,t,n,s=!1){const i=e[t];return i&&i.list&&i.list.s?i.list.s.map((e=>rE(e,s))):n}function yE(e,t,n){const s=e[t];return s&&s.list&&s.list.shape?s.list.shape.map((e=>pE(e))):n}function AE(e,t,n){const s=e[t];return s&&s.list&&s.list.b?s.list.b:n}class wE{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return Mk(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return Mk(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return lE(this.node.rawAttrs,e,t);if(null!=n.s)return aE(this.node.rawAttrs,e,t);if(null!=n.b)return oE(this.node.rawAttrs,e,t);if(null!=n.shape)return fE(this.node.rawAttrs,e,t);if(null!=n.type)return hE(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return mE(this.node.rawAttrs,e,t);if(null!=n.list.s)return gE(this.node.rawAttrs,e,t);if(null!=n.list.shape)return yE(this.node.rawAttrs,e,t);if(null!=n.list.b)return AE(this.node.rawAttrs,e,t);if(null!=n.list.type)return dE(this.node.rawAttrs,e,t)}return t}}function bE(e,t,n=""){if("number"!=typeof e&&"number"!=typeof t){zn(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let s=0;s<e.length;s++){const i=e[s],r=t[s];zn(i<0||r<0||i===r,(()=>n+` Shapes ${e} and ${t} must match`))}}}function vE(e){return"number"!=typeof e&&!e.some((e=>e<0))}function xE(e,t,n){let s=CE(e,n);const i=!vE(s);if(i&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${s}`);if(i&&t.forEach((e=>{s=CE(e.shape,s)})),!vE(s))throw new Error(`Non-fully-defined elementShape: ${s}`);return s}function CE(e,t){if("number"==typeof e)return t;if("number"==typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let s=0;s<e.length;++s){const i=e[s],r=t[s];if(i>=0&&r>=0&&i!==r)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[s]=i>=0?i:r}return n}class kE{constructor(e,t,n,s,i,r,a){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=s,this.identicalElementShapes=i,this.dynamicSize=r,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=Oc(0),wl(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),bE(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,wl(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return dl([],[0].concat(this.elementShape));const n=this.readMany(e);return bE(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),Sf(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return dl([],[0].concat(this.elementShape));const t=[];for(let e=0;e<this.size();e++)t.push(e);const n=this.readMany(t);return bE(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),Ih(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,Uf(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const s=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=0===n?0:t.size/n,r=[];yl((()=>{t=kh(t,[1,n,i]);for(let n=0;n<e.length;++n){const a=[0,0===n?0:s[n-1],0],o=[1,e[n],i];r[n]=kh(Nh(t,a,o),this.elementShape)}return r}));const a=[];for(let t=0;t<e.length;t++)a[t]=t;this.writeMany(a,r)}}class EE{get id(){return this.idTensor.id}constructor(e,t,n,s=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);bE(t,e.shape,"TensorList shape mismatch: "),wl(e)})),this.idTensor=Oc(0),this.maxNumElements=s,wl(this.idTensor)}copy(){return new EE([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);bE(e,this.elementShape,"TensorList shape mismatch: ");const s=xE(this.elementShape,this.tensors,e);return yl((()=>{const e=this.tensors.map((e=>kh(e,s)));return Sf(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=xE(this.elementShape,this.tensors,e),s=this.tensors.pop();return s.kept=!1,bE(s.shape,e,"TensorList shape mismatch: "),kh(s,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(bE(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");wl(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new EE([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);bE(this.tensors[e].shape,t,"TensorList shape mismatch: ");const s=xE(this.elementShape,this.tensors,t);return kh(this.tensors[e],s)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);bE(this.elementShape,t.shape,"TensorList shape mismatch: "),wl(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);bE(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const s=xE(this.elementShape,this.tensors,n);return 0===e.length?dl([],[0].concat(s)):yl((()=>{const t=e.map((e=>kh(this.tensors[e],s)));return Sf(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);bE(this.elementShape,t,"TensorList shape mismatch: ");const n=xE(this.elementShape,this.tensors,t);return 0===this.size()?dl([],[0].concat(n)):yl((()=>{const e=this.tensors.map((e=>kh(e,n)));return Ih(e,0)}))}}const SE=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const s=Dk("thenBranch",e,t,n),i=Dk("elseBranch",e,t,n),r=Dk("cond",e,t,n),a=Dk("args",e,t,n);return(await r.data())[0]?n.functionMap[s].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap):n.functionMap[i].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const s=Dk("body",e,t,n),i=Dk("cond",e,t,n),r=Dk("args",e,t,n),a=await n.functionMap[i].executeFunctionAsync(r,n.tensorArrayMap,n.tensorListMap),o=r.map((e=>e.id));let l=await a[0].data();a.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||e.dispose()}));let c=r;for(;l[0];){const e=c;c=await n.functionMap[s].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const t=c.map((e=>e.id));e.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const r=await n.functionMap[i].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await r[0].data(),r.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return c}case"LoopCond":return[zk(Dk("pred",e,t,n))];case"Switch":{const s=Dk("pred",e,t,n);let i=Dk("data",e,t,n);return i.kept||(i=zk(i)),(await s.data())[0]?[void 0,i]:[i,void 0]}case"Merge":{const s=e.inputNames.find((e=>void 0!==Mk(e,t,n)));if(s){return[zk(Mk(s,t,n))]}return}case"Enter":{const s=Dk("frameName",e,t,n),i=Dk("tensor",e,t,n);return n.enterFrame(s),[zk(i)]}case"Exit":{const s=Dk("tensor",e,t,n);return n.exitFrame(),[zk(s)]}case"NextIteration":{const s=Dk("tensor",e,t,n);return n.nextIteration(),[zk(s)]}case"TensorArrayV3":{const s=Dk("size",e,t,n),i=Dk("dtype",e,t,n),r=Dk("elementShape",e,t,n),a=Dk("dynamicSize",e,t,n),o=Dk("clearAfterRead",e,t,n),l=Dk("identicalElementShapes",e,t,n),c=Dk("name",e,t,n),u=new kE(c,i,s,r,l,a,o);return n.addTensorArray(u),[u.idTensor,Oc(1)]}case"TensorArrayWriteV3":{const s=Dk("tensorArrayId",e,t,n),i=Dk("index",e,t,n),r=Dk("tensor",e,t,n),a=n.getTensorArray(s.id);return a.write(i,r),[a.idTensor]}case"TensorArrayReadV3":{const s=Dk("tensorArrayId",e,t,n),i=Dk("index",e,t,n);return[n.getTensorArray(s.id).read(i)]}case"TensorArrayGatherV3":{const s=Dk("tensorArrayId",e,t,n),i=Dk("indices",e,t,n),r=Dk("dtype",e,t,n);return[n.getTensorArray(s.id).gather(i,r)]}case"TensorArrayScatterV3":{const s=Dk("tensorArrayId",e,t,n),i=Dk("indices",e,t,n),r=Dk("tensor",e,t,n),a=n.getTensorArray(s.id);return a.scatter(i,r),[a.idTensor]}case"TensorArrayConcatV3":{const s=Dk("tensorArrayId",e,t,n),i=n.getTensorArray(s.id),r=Dk("dtype",e,t,n);return[i.concat(r)]}case"TensorArraySplitV3":{const s=Dk("tensorArrayId",e,t,n),i=Dk("tensor",e,t,n),r=Dk("lengths",e,t,n),a=n.getTensorArray(s.id);return a.split(r,i),[a.idTensor]}case"TensorArraySizeV3":{const s=Dk("tensorArrayId",e,t,n);return[Oc(n.getTensorArray(s.id).size(),"int32")]}case"TensorArrayCloseV3":{const s=Dk("tensorArrayId",e,t,n),i=n.getTensorArray(s.id);return i.clearAndClose(),[i.idTensor]}case"TensorListSetItem":{const s=Dk("tensorListId",e,t,n),i=Dk("index",e,t,n),r=Dk("tensor",e,t,n),a=n.getTensorList(s.id);return a.setItem(i,r),[a.idTensor]}case"TensorListGetItem":{const s=Dk("tensorListId",e,t,n),i=Dk("index",e,t,n),r=Dk("elementShape",e,t,n),a=Dk("elementDType",e,t,n);return[n.getTensorList(s.id).getItem(i,r,a)]}case"TensorListScatterV2":case"TensorListScatter":{const s=Dk("indices",e,t,n),i=function(e,t,n,s){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const i=Math.max(...t);if(null!=s&&-1!==s&&i>=s)throw new Error(`Max index must be < array size (${i}  vs. ${s})`);const r=new EE([],n,e.dtype,s),a=Uf(e,0);return t.forEach(((e,t)=>{r.setItem(e,a[t])})),r}(Dk("tensor",e,t,n),s,Dk("elementShape",e,t,n),Dk("numElements",e,t,n));return n.addTensorList(i),[i.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const s=Dk("elementShape",e,t,n),i=Dk("elementDType",e,t,n);let r;r="TensorListReserve"===e.op?"numElements":"maxNumElements";const a=Dk(r,e,t,n),o=function(e,t,n,s){return new EE([],e,t,s)}(s,i,0,"TensorListReserve"===e.op?-1:a);return n.addTensorList(o),[o.idTensor]}case"TensorListGather":{const s=Dk("tensorListId",e,t,n),i=Dk("indices",e,t,n),r=Dk("elementShape",e,t,n),a=Dk("elementDType",e,t,n);return[n.getTensorList(s.id).gather(i,a,r)]}case"TensorListStack":{const s=Dk("tensorListId",e,t,n),i=Dk("elementShape",e,t,n),r=Dk("elementDType",e,t,n),a=Dk("numElements",e,t,n);return[n.getTensorList(s.id).stack(i,r,a)]}case"TensorListFromTensor":{const s=function(e,t,n){const s=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);bE(e.shape.slice(1),t,"TensorList shape mismatch: ");const i=Uf(e);return new EE(i,t,s)}(Dk("tensor",e,t,n),Dk("elementShape",e,t,n),Dk("elementDType",e,t,n));return n.addTensorList(s),[s.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const s=Dk("tensorListId",e,t,n),i=n.getTensorList(s.id),r=Dk("dtype",e,t,n),a=Dk("elementShape",e,t,n);return[i.concat(r,a)]}case"TensorListPushBack":{const s=Dk("tensorListId",e,t,n),i=Dk("tensor",e,t,n),r=n.getTensorList(s.id);return r.pushBack(i),[r.idTensor]}case"TensorListPopBack":{const s=Dk("tensorListId",e,t,n),i=Dk("elementShape",e,t,n),r=Dk("elementDType",e,t,n);return[n.getTensorList(s.id).popBack(i,r)]}case"TensorListSplit":{const s=Dk("tensor",e,t,n),i=Dk("elementShape",e,t,n),r=function(e,t,n){let s=0;const i=t.map((e=>(s+=e,s)));if(s!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${s}, and tensor's shape is: ${e.shape}`);const r=CE(e.shape.slice(1),n),a=0===s?0:e.size/s,o=yl((()=>{const n=[];e=kh(e,[1,s,a]);for(let s=0;s<t.length;++s){const o=[0,0===s?0:i[s-1],0],l=[1,t[s],a];n[s]=kh(Nh(e,o,l),r)}return e.dispose(),n})),l=new EE([],n,e.dtype,t.length);for(let e=0;e<o.length;e++)l.setItem(e,o[e]);return l}(s,Dk("lengths",e,t,n),i);return n.addTensorList(r),[r.idTensor]}case"TensorListLength":{const s=Dk("tensorListId",e,t,n);return[Oc(n.getTensorList(s.id).size(),"int32")]}case"TensorListResize":{const s=Dk("tensorListId",e,t,n),i=Dk("size",e,t,n),r=n.getTensorList(s.id).resize(i);return n.addTensorList(r),[r.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};function IE(e,t,n){const[s,i]=Dk("fusedOps",e,t,n),r="biasadd"===s,a=!r,o="prelu"===i,l="fusedbatchnorm"===s,c=Dk("numArgs",e,t,n);if(r){if(o&&2!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&r&&1!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=Dk("strides",e,t,n),h=Lk(e,t,n),d=Dk("dataFormat",e,t,n).toUpperCase(),p=Dk("dilations",e,t,n);let[f,m]=Dk("args",e,t,n);a&&(m=f,f=void 0);return{stride:u,pad:h,dataFormat:d,dilations:p,biasArg:f,preluArg:m,activationFunc:i,leakyreluAlpha:Dk("leakyreluAlpha",e,t,n)}}function TE(e,t,n){return{boxes:Dk("boxes",e,t,n),scores:Dk("scores",e,t,n),maxOutputSize:Dk("maxOutputSize",e,t,n),iouThreshold:Dk("iouThreshold",e,t,n),scoreThreshold:Dk("scoreThreshold",e,t,n),softNmsSigma:Dk("softNmsSigma",e,t,n)}}class _E{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=Oc(0),this.tensorMap=new Map,wl(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Oc(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),yl((()=>{const e=Uf(t),s=n.length,i=e.length;zn(s===i,(()=>`The number of elements doesn't match, keys has ${s} elements, the values has ${i} elements.`));for(let t=0;t<s;t++){const s=n[t],i=e[t];wl(i),this.tensorMap.set(s,i)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return yl((()=>{const e=[];for(let s=0;s<n.length;s++){const i=n[s],r=this.findWithDefault(i,t);e.push(r)}return Sf(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}function NE(e,t,n,s,i=yl){const r=((e,t,n)=>{switch(e.category){case"arithmetic":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[s.add(Dk("a",e,t,n),Dk("b",e,t,n))];case"AddN":return[s.addN(Dk("tensors",e,t,n))];case"FloorMod":case"Mod":return[s.mod(Dk("a",e,t,n),Dk("b",e,t,n))];case"Mul":return[s.mul(Dk("a",e,t,n),Dk("b",e,t,n))];case"RealDiv":case"Div":return[s.div(Dk("a",e,t,n),Dk("b",e,t,n))];case"DivNoNan":return[s.divNoNan(Dk("a",e,t,n),Dk("b",e,t,n))];case"FloorDiv":return[s.floorDiv(Dk("a",e,t,n),Dk("b",e,t,n))];case"Sub":return[s.sub(Dk("a",e,t,n),Dk("b",e,t,n))];case"Minimum":return[s.minimum(Dk("a",e,t,n),Dk("b",e,t,n))];case"Maximum":return[s.maximum(Dk("a",e,t,n),Dk("b",e,t,n))];case"Pow":return[s.pow(Dk("a",e,t,n),Dk("b",e,t,n))];case"SquaredDifference":return[s.squaredDifference(Dk("a",e,t,n),Dk("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"Abs":case"ComplexAbs":return[s.abs(Dk("x",e,t,n))];case"Acos":return[s.acos(Dk("x",e,t,n))];case"Acosh":return[s.acosh(Dk("x",e,t,n))];case"Asin":return[s.asin(Dk("x",e,t,n))];case"Asinh":return[s.asinh(Dk("x",e,t,n))];case"Atan":return[s.atan(Dk("x",e,t,n))];case"Atan2":return[s.atan2(Dk("x",e,t,n),Dk("y",e,t,n))];case"Atanh":return[s.atanh(Dk("x",e,t,n))];case"Ceil":return[s.ceil(Dk("x",e,t,n))];case"Complex":return[s.complex(Dk("real",e,t,n),Dk("imag",e,t,n))];case"Cos":return[s.cos(Dk("x",e,t,n))];case"Cosh":return[s.cosh(Dk("x",e,t,n))];case"Elu":return[s.elu(Dk("x",e,t,n))];case"Erf":return[s.erf(Dk("x",e,t,n))];case"Exp":return[s.exp(Dk("x",e,t,n))];case"Expm1":return[s.expm1(Dk("x",e,t,n))];case"Floor":return[s.floor(Dk("x",e,t,n))];case"Log":return[s.log(Dk("x",e,t,n))];case"Log1p":return[s.log1p(Dk("x",e,t,n))];case"Imag":return[s.imag(Dk("x",e,t,n))];case"Neg":return[s.neg(Dk("x",e,t,n))];case"Reciprocal":return[s.reciprocal(Dk("x",e,t,n))];case"Real":return[s.real(Dk("x",e,t,n))];case"Relu":return[s.relu(Dk("x",e,t,n))];case"Round":return[s.round(Dk("x",e,t,n))];case"Selu":return[s.selu(Dk("x",e,t,n))];case"Sigmoid":return[s.sigmoid(Dk("x",e,t,n))];case"Sin":return[s.sin(Dk("x",e,t,n))];case"Sign":return[s.sign(Dk("x",e,t,n))];case"Sinh":return[s.sinh(Dk("x",e,t,n))];case"Softplus":return[s.softplus(Dk("x",e,t,n))];case"Sqrt":return[s.sqrt(Dk("x",e,t,n))];case"Square":return[s.square(Dk("x",e,t,n))];case"Tanh":return[s.tanh(Dk("x",e,t,n))];case"Tan":return[s.tan(Dk("x",e,t,n))];case"ClipByValue":return[s.clipByValue(Dk("x",e,t,n),Dk("clipValueMin",e,t,n),Dk("clipValueMax",e,t,n))];case"Relu6":return[s.relu6(Dk("x",e,t,n))];case"Rsqrt":return[s.rsqrt(Mk(e.inputNames[0],t,n))];case"LeakyRelu":return[s.leakyRelu(Dk("x",e,t,n),Dk("alpha",e,t,n))];case"Prelu":return[s.prelu(Dk("x",e,t,n),Dk("alpha",e,t,n))];case"IsNan":return[s.isNaN(Mk(e.inputNames[0],t,n))];case"IsInf":return[s.isInf(Mk(e.inputNames[0],t,n))];case"IsFinite":return[s.isFinite(Mk(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return SE(e,t,n);case"convolution":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"Conv1D":{const i=Dk("stride",e,t,n),r=Dk("pad",e,t,n),a=Dk("dataFormat",e,t,n).toUpperCase(),o=Dk("dilation",e,t,n);return[s.conv1d(Dk("x",e,t,n),Dk("filter",e,t,n),i,r,a,o)]}case"Conv2D":{const i=Dk("strides",e,t,n),r=Lk(e,t,n),a=Dk("dataFormat",e,t,n).toUpperCase(),o=Dk("dilations",e,t,n);return[s.conv2d(Dk("x",e,t,n),Dk("filter",e,t,n),[i[1],i[2]],r,a,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:i,pad:r,dataFormat:a,dilations:o,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:h}=IE(e,t,n);return[s.fused.conv2d({x:Dk("x",e,t,n),filter:Dk("filter",e,t,n),strides:[i[1],i[2]],pad:r,dataFormat:a,dilations:[o[1],o[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:h})]}case"FusedDepthwiseConv2dNative":{const{stride:i,pad:r,dataFormat:a,dilations:o,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:h}=IE(e,t,n);return[s.fused.depthwiseConv2d({x:Dk("x",e,t,n),filter:Dk("filter",e,t,n),strides:[i[1],i[2]],pad:r,dataFormat:a,dilations:[o[1],o[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:h})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const i=Dk("outputShape",e,t,n),r=Dk("strides",e,t,n),a=Lk(e,t,n);return[s.conv2dTranspose(Dk("x",e,t,n),Dk("filter",e,t,n),i,[r[1],r[2]],a)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const i=Dk("strides",e,t,n),r=Lk(e,t,n),a=Dk("dilations",e,t,n),o=Dk("dataFormat",e,t,n).toUpperCase();return[s.depthwiseConv2d(Dk("input",e,t,n),Dk("filter",e,t,n),[i[1],i[2]],r,o,[a[1],a[2]])]}case"Conv3D":{const i=Dk("strides",e,t,n),r=Dk("pad",e,t,n),a=Dk("dataFormat",e,t,n).toUpperCase(),o=Dk("dilations",e,t,n);return[s.conv3d(Dk("x",e,t,n),Dk("filter",e,t,n),[i[1],i[2],i[3]],r,a,[o[1],o[2],o[3]])]}case"AvgPool":{const i=Dk("strides",e,t,n),r=Dk("pad",e,t,n),a=Dk("kernelSize",e,t,n);return[s.avgPool(Dk("x",e,t,n),[a[1],a[2]],[i[1],i[2]],r)]}case"MaxPool":{const i=Dk("strides",e,t,n),r=Dk("pad",e,t,n),a=Dk("kernelSize",e,t,n);return[s.maxPool(Dk("x",e,t,n),[a[1],a[2]],[i[1],i[2]],r)]}case"MaxPoolWithArgmax":{const i=Dk("strides",e,t,n),r=Dk("pad",e,t,n),a=Dk("kernelSize",e,t,n),o=Dk("includeBatchInIndex",e,t,n),{result:l,indexes:c}=s.maxPoolWithArgmax(Dk("x",e,t,n),[a[1],a[2]],[i[1],i[2]],r,o);return[l,c]}case"AvgPool3D":{const i=Dk("strides",e,t,n),r=Dk("pad",e,t,n),a=Dk("kernelSize",e,t,n);return[s.avgPool3d(Dk("x",e,t,n),[a[1],a[2],a[3]],[i[1],i[2],i[3]],r)]}case"MaxPool3D":{const i=Dk("strides",e,t,n),r=Dk("pad",e,t,n),a=Dk("kernelSize",e,t,n);return[s.maxPool3d(Dk("x",e,t,n),[a[1],a[2],a[3]],[i[1],i[2],i[3]],r)]}case"Dilation2D":{const i=Dk("strides",e,t,n),r=Dk("pad",e,t,n),a=Dk("dilations",e,t,n),o=i[1],l=i[2],c=a[1],u=a[2];return[s.dilation2d(Dk("x",e,t,n),Dk("filter",e,t,n),[o,l],r,[c,u],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"Fill":{const i=Dk("shape",e,t,n),r=Dk("dtype",e,t,n),a=Dk("value",e,t,n);return[s.fill(i,a,r)]}case"LinSpace":{const i=Dk("start",e,t,n),r=Dk("stop",e,t,n),a=Dk("num",e,t,n);return[s.linspace(i,r,a)]}case"Multinomial":{const i=Dk("logits",e,t,n),r=Dk("numSamples",e,t,n),a=Dk("seed",e,t,n);return[s.multinomial(i,r,a)]}case"OneHot":{const i=Dk("indices",e,t,n),r=Dk("depth",e,t,n),a=Dk("onValue",e,t,n),o=Dk("offValue",e,t,n),l=Dk("dtype",e,t,n);return[s.oneHot(i,r,a,o,l)]}case"Ones":return[s.ones(Dk("shape",e,t,n),Dk("dtype",e,t,n))];case"OnesLike":return[s.onesLike(Dk("x",e,t,n))];case"RandomStandardNormal":return[s.randomStandardNormal(Dk("shape",e,t,n),Dk("dtype",e,t,n),Dk("seed",e,t,n))];case"RandomUniform":return[s.randomUniform(Dk("shape",e,t,n),Dk("minval",e,t,n),Dk("maxval",e,t,n),Dk("dtype",e,t,n))];case"RandomUniformInt":return[s.randomUniformInt(Dk("shape",e,t,n),Dk("minval",e,t,n),Dk("maxval",e,t,n),Dk("seed",e,t,n))];case"Range":{const i=Dk("start",e,t,n),r=Dk("stop",e,t,n),a=Dk("step",e,t,n);return[s.range(i,r,a,Dk("dtype",e,t,n))]}case"TruncatedNormal":{const i=Dk("shape",e,t,n),r=Dk("mean",e,t,n),a=Dk("stdDev",e,t,n),o=Dk("seed",e,t,n);return[s.truncatedNormal(i,r,a,Dk("dtype",e,t,n),o)]}case"Zeros":return[s.zeros(Dk("shape",e,t,n),Dk("dtype",e,t,n))];case"ZerosLike":return[s.zerosLike(Dk("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n,s,i=k)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:s,scores:r,maxOutputSize:a,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=TE(e,t,n),u=await i.image.nonMaxSuppressionWithScoreAsync(s,r,a,o,l,c);return[u.selectedIndices,u.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:s,scores:r,maxOutputSize:a,iouThreshold:o,scoreThreshold:l}=TE(e,t,n),c=Dk("padToMaxOutputSize",e,t,n),u=await i.image.nonMaxSuppressionPaddedAsync(s,r,a,o,l,c);return[u.selectedIndices,u.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:s,scores:r,maxOutputSize:a,iouThreshold:o,scoreThreshold:l}=TE(e,t,n);return[await i.image.nonMaxSuppressionAsync(s,r,a,o,l)]}case"Where":{const s=i.cast(Dk("condition",e,t,n),"bool"),r=[await i.whereAsync(s)];return s.dispose(),r}case"ListDiff":return i.setdiff1dAsync(Dk("x",e,t,n),Dk("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"LowerBound":{const i=Dk("sortedSequence",e,t,n),r=Dk("values",e,t,n);return[s.lowerBound(i,r)]}case"TopKV2":{const i=Dk("x",e,t,n),r=Dk("k",e,t,n),a=Dk("sorted",e,t,n),o=s.topk(i,r,a);return[o.values,o.indices]}case"UpperBound":{const i=Dk("sortedSequence",e,t,n),r=Dk("values",e,t,n);return[s.upperBound(i,r)]}case"Unique":{const i=Dk("x",e,t,n),r=s.unique(i);return[r.values,r.indices]}case"UniqueV2":{const i=Dk("x",e,t,n),r=Dk("axis",e,t,n),a=s.unique(i,r);return[a.values,a.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"ResizeBilinear":{const i=Dk("images",e,t,n),r=Dk("size",e,t,n),a=Dk("alignCorners",e,t,n),o=Dk("halfPixelCenters",e,t,n);return[s.image.resizeBilinear(i,[r[0],r[1]],a,o)]}case"ResizeNearestNeighbor":{const i=Dk("images",e,t,n),r=Dk("size",e,t,n),a=Dk("alignCorners",e,t,n),o=Dk("halfPixelCenters",e,t,n);return[s.image.resizeNearestNeighbor(i,[r[0],r[1]],a,o)]}case"CropAndResize":{const i=Dk("image",e,t,n),r=Dk("boxes",e,t,n),a=Dk("boxInd",e,t,n),o=Dk("cropSize",e,t,n),l=Dk("method",e,t,n),c=Dk("extrapolationValue",e,t,n);return[s.image.cropAndResize(i,r,a,o,l,c)]}case"ImageProjectiveTransformV3":{const i=Dk("images",e,t,n),r=Dk("transforms",e,t,n),a=Dk("outputShape",e,t,n),o=Dk("fillValue",e,t,n),l=Dk("interpolation",e,t,n),c=Dk("fillMode",e,t,n);return[s.image.transform(i,r,l.toLowerCase(),c.toLowerCase(),o,a)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const i=Dk("default",e,t,n);return[Mk(e.name,t,n)||i];case"Placeholder":return[Mk(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[zk(Dk("x",e,t,n))];case"IdentityN":return Dk("x",e,t,n).map((e=>zk(e)));case"Shape":return[s.tensor1d(Dk("x",e,t,n).shape,"int32")];case"ShapeN":return Dk("x",e,t,n).map((e=>s.tensor1d(e.shape)));case"Size":return[s.scalar(Dk("x",e,t,n).size,"int32")];case"Rank":return[s.scalar(Dk("x",e,t,n).rank,"int32")];case"NoOp":return[s.scalar(1)];case"Print":const r=Dk("x",e,t,n),a=Dk("data",e,t,n);Dk("message",e,t,n),Dk("summarize",e,t,n);for(let e=0;e<a.length;e++);return[r];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"Equal":return[s.equal(Dk("a",e,t,n),Dk("b",e,t,n))];case"NotEqual":return[s.notEqual(Dk("a",e,t,n),Dk("b",e,t,n))];case"Greater":return[s.greater(Dk("a",e,t,n),Dk("b",e,t,n))];case"GreaterEqual":return[s.greaterEqual(Dk("a",e,t,n),Dk("b",e,t,n))];case"Less":return[s.less(Dk("a",e,t,n),Dk("b",e,t,n))];case"LessEqual":return[s.lessEqual(Dk("a",e,t,n),Dk("b",e,t,n))];case"LogicalAnd":return[s.logicalAnd(Dk("a",e,t,n),Dk("b",e,t,n))];case"LogicalNot":return[s.logicalNot(Dk("a",e,t,n))];case"LogicalOr":return[s.logicalOr(Dk("a",e,t,n),Dk("b",e,t,n))];case"Select":case"SelectV2":return[s.where(Dk("condition",e,t,n),Dk("a",e,t,n),Dk("b",e,t,n))];case"BitwiseAnd":return[s.bitwiseAnd(Dk("a",e,t,n),Dk("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[s.matMul(Dk("a",e,t,n),Dk("b",e,t,n),Dk("transposeA",e,t,n),Dk("transposeB",e,t,n))];case"Einsum":return[s.einsum(Dk("equation",e,t,n),...Dk("tensors",e,t,n))];case"Transpose":return[s.transpose(Dk("x",e,t,n),Dk("perm",e,t,n))];case"_FusedMatMul":const[i,r]=Dk("fusedOps",e,t,n),a="biasadd"===i,o="prelu"===r,l=Dk("numArgs",e,t,n),c=Dk("leakyreluAlpha",e,t,n);if(a){if(o&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,h]=Dk("args",e,t,n);return[s.fused.matMul({a:Dk("a",e,t,n),b:Dk("b",e,t,n),transposeA:Dk("transposeA",e,t,n),transposeB:Dk("transposeB",e,t,n),bias:u,activation:r,preluActivationWeights:h,leakyreluAlpha:c})];case"MatrixBandPart":return[s.linalg.bandPart(Dk("a",e,t,n),Dk("numLower",e,t,n),Dk("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"EuclideanNorm":return[s.euclideanNorm(Dk("x",e,t,n),Dk("axis",e,t,n),Dk("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[s.batchNorm(Dk("x",e,t,n),Dk("mean",e,t,n),Dk("variance",e,t,n),Dk("offset",e,t,n),Dk("scale",e,t,n),Dk("epsilon",e,t,n))];case"LRN":return[s.localResponseNormalization(Dk("x",e,t,n),Dk("radius",e,t,n),Dk("bias",e,t,n),Dk("alpha",e,t,n),Dk("beta",e,t,n))];case"Softmax":return[s.softmax(Dk("x",e,t,n))];case"LogSoftmax":return[s.logSoftmax(Dk("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"ragged":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"RaggedGather":{const{outputNestedSplits:i,outputDenseValues:r}=s.raggedGather(Dk("paramsNestedSplits",e,t,n),Dk("paramsDenseValues",e,t,n),Dk("indices",e,t,n),Dk("outputRaggedRank",e,t,n));return i.concat(r)}case"RaggedRange":{const{rtNestedSplits:i,rtDenseValues:r}=s.raggedRange(Dk("starts",e,t,n),Dk("limits",e,t,n),Dk("splits",e,t,n));return[i,r]}case"RaggedTensorToTensor":return[s.raggedTensorToTensor(Dk("shape",e,t,n),Dk("values",e,t,n),Dk("defaultValue",e,t,n),Dk("rowPartitionTensors",e,t,n),Dk("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"Max":{const i=Dk("axis",e,t,n),r=Dk("keepDims",e,t,n);return[s.max(Dk("x",e,t,n),i,r)]}case"Mean":{const i=Dk("axis",e,t,n),r=Dk("keepDims",e,t,n);return[s.mean(Dk("x",e,t,n),i,r)]}case"Min":{const i=Dk("axis",e,t,n),r=Dk("keepDims",e,t,n);return[s.min(Dk("x",e,t,n),i,r)]}case"Sum":{const i=Dk("axis",e,t,n),r=Dk("keepDims",e,t,n);return[s.sum(Dk("x",e,t,n),i,r)]}case"All":{const i=Dk("axis",e,t,n),r=Dk("keepDims",e,t,n);return[s.all(Dk("x",e,t,n),i,r)]}case"Any":{const i=Dk("axis",e,t,n),r=Dk("keepDims",e,t,n);return[s.any(Dk("x",e,t,n),i,r)]}case"ArgMax":{const i=Dk("axis",e,t,n);return[s.argMax(Dk("x",e,t,n),i)]}case"ArgMin":{const i=Dk("axis",e,t,n);return[s.argMin(Dk("x",e,t,n),i)]}case"Prod":{const i=Dk("axis",e,t,n),r=Dk("keepDims",e,t,n);return[s.prod(Dk("x",e,t,n),i,r)]}case"Cumprod":{const i=Dk("axis",e,t,n),r=Dk("exclusive",e,t,n),a=Dk("reverse",e,t,n);return[s.cumprod(Dk("x",e,t,n),i,r,a)]}case"Cumsum":{const i=Dk("axis",e,t,n),r=Dk("exclusive",e,t,n),a=Dk("reverse",e,t,n);return[s.cumsum(Dk("x",e,t,n),i,r,a)]}case"Bincount":const i=Dk("x",e,t,n),r=Dk("weights",e,t,n),a=Dk("size",e,t,n);return[s.bincount(i,r,a)];case"DenseBincount":{const i=Dk("x",e,t,n),r=Dk("weights",e,t,n),a=Dk("size",e,t,n),o=Dk("binaryOutput",e,t,n);return[s.denseBincount(i,r,a,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"ConcatV2":case"Concat":{const i=Dk("n",e,t,n),r=Dk("axis",e,t,n);let a=Dk("tensors",e,t,n);return a=a.slice(0,i),[s.concat(a,r)]}case"Gather":{const i=Dk("x",e,t,n),r=Dk("indices",e,t,n);return[s.gather(i,s.cast(r,"int32"),0)]}case"GatherV2":{const i=Dk("axis",e,t,n),r=Dk("batchDims",e,t,n),a=Dk("x",e,t,n),o=Dk("indices",e,t,n);return[s.gather(a,s.cast(o,"int32"),i,r)]}case"Reverse":{const i=Dk("dims",e,t,n),r=[];for(let e=0;e<i.length;e++)i[e]&&r.push(e);const a=Dk("x",e,t,n);return[s.reverse(a,r)]}case"ReverseV2":{const i=Dk("axis",e,t,n),r=Dk("x",e,t,n);return[s.reverse(r,i)]}case"Slice":{const i=Dk("begin",e,t,n),r=Dk("size",e,t,n);return[s.slice(Dk("x",e,t,n),i,r)]}case"StridedSlice":{const i=Dk("begin",e,t,n),r=Dk("end",e,t,n),a=Dk("strides",e,t,n),o=Dk("beginMask",e,t,n),l=Dk("endMask",e,t,n),c=Dk("ellipsisMask",e,t,n),u=Dk("newAxisMask",e,t,n),h=Dk("shrinkAxisMask",e,t,n),d=Dk("x",e,t,n);return[s.stridedSlice(d,i,r,a,o,l,c,u,h)]}case"Pack":return yl((()=>{const i=Dk("axis",e,t,n),r=Dk("tensors",e,t,n),a=r[0].shape,o=s.squeeze(r[0]).shape,l=r.map((e=>{const t=Gn(e.shape,a);if(!t&&!Gn(s.squeeze(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:s.reshape(e,a)}));return[s.stack(l,i)]}));case"Unpack":{const i=Dk("axis",e,t,n),r=Dk("tensor",e,t,n);return s.unstack(r,i)}case"Tile":{const i=Dk("reps",e,t,n);return[s.tile(Dk("x",e,t,n),i)]}case"Split":case"SplitV":{const i=Dk("axis",e,t,n),r=Dk("numOrSizeSplits",e,t,n),a=Dk("x",e,t,n);return s.split(a,r,i)}case"ScatterNd":{const i=Dk("indices",e,t,n),r=Dk("values",e,t,n),a=Dk("shape",e,t,n);return[s.scatterND(i,r,a)]}case"GatherNd":{const i=Dk("x",e,t,n),r=Dk("indices",e,t,n);return[s.gatherND(i,r)]}case"SparseToDense":{const i=Dk("sparseIndices",e,t,n),r=Dk("outputShape",e,t,n),a=Dk("sparseValues",e,t,n),o=Dk("defaultValue",e,t,n);return[s.sparseToDense(i,a,r,a.dtype===o.dtype?o:s.cast(o,a.dtype))]}case"TensorScatterUpdate":{const i=Dk("indices",e,t,n),r=Dk("values",e,t,n),a=Dk("tensor",e,t,n);return[s.tensorScatterUpdate(a,i,r)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"sparse":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:i,outputValues:r,emptyRowIndicator:a,reverseIndexMap:o}=s.sparse.sparseFillEmptyRows(Dk("indices",e,t,n),Dk("values",e,t,n),Dk("denseShape",e,t,n),Dk("defaultValue",e,t,n));return[i,r,a,o]}case"SparseReshape":{const{outputIndices:i,outputShape:r}=s.sparse.sparseReshape(Dk("inputIndices",e,t,n),Dk("inputShape",e,t,n),Dk("newShape",e,t,n));return[i,r]}case"SparseSegmentMean":return[s.sparse.sparseSegmentMean(Dk("data",e,t,n),Dk("indices",e,t,n),Dk("segmentIds",e,t,n))];case"SparseSegmentSum":return[s.sparse.sparseSegmentSum(Dk("data",e,t,n),Dk("indices",e,t,n),Dk("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"FFT":return[s.fft(Dk("x",e,t,n))];case"IFFT":return[s.ifft(Dk("x",e,t,n))];case"RFFT":return[s.rfft(Dk("x",e,t,n))];case"IRFFT":return[s.irfft(Dk("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"string":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"StaticRegexReplace":return[s.string.staticRegexReplace(Dk("input",e,t,n),Dk("pattern",e,t,n),Dk("rewrite",e,t,n),Dk("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:i,nGramsSplits:r}=s.string.stringNGrams(Dk("data",e,t,n),Dk("dataSplits",e,t,n),Dk("separator",e,t,n),Dk("nGramWidths",e,t,n),Dk("leftPad",e,t,n),Dk("rightPad",e,t,n),Dk("padWidth",e,t,n),Dk("preserveShortSequences",e,t,n));return[i,r]}case"StringSplit":{const{indices:i,values:r,shape:a}=s.string.stringSplit(Dk("input",e,t,n),Dk("delimiter",e,t,n),Dk("skipEmpty",e,t,n));return[i,r,a]}case"StringToHashBucketFast":return[s.string.stringToHashBucketFast(Dk("input",e,t,n),Dk("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return i((()=>((e,t,n,s=k)=>{switch(e.op){case"Cast":return[s.cast(Dk("x",e,t,n),Dk("dtype",e,t,n))];case"ExpandDims":{const i=Dk("axis",e,t,n);return[s.expandDims(Dk("x",e,t,n),i)]}case"Squeeze":{const i=Dk("axis",e,t,n);return[s.squeeze(Dk("x",e,t,n),i)]}case"Reshape":return[s.reshape(Dk("x",e,t,n),Dk("shape",e,t,n))];case"EnsureShape":return[s.ensureShape(Dk("x",e,t,n),Dk("shape",e,t,n))];case"MirrorPad":return[s.mirrorPad(Dk("x",e,t,n),Dk("padding",e,t,n),Dk("mode",e,t,n))];case"PadV2":case"Pad":return[s.pad(Dk("x",e,t,n),Dk("padding",e,t,n),Dk("constantValue",e,t,n))];case"SpaceToBatchND":{const i=Dk("blockShape",e,t,n),r=Dk("paddings",e,t,n);return[s.spaceToBatchND(Dk("x",e,t,n),i,r)]}case"BatchToSpaceND":{const i=Dk("blockShape",e,t,n),r=Dk("crops",e,t,n);return[s.batchToSpaceND(Dk("x",e,t,n),i,r)]}case"DepthToSpace":{const i=Dk("blockSize",e,t,n),r=Dk("dataFormat",e,t,n).toUpperCase();return[s.depthToSpace(Dk("x",e,t,n),i,r)]}case"BroadcastTo":return[s.broadcastTo(Dk("x",e,t,n),Dk("shape",e,t,n))];case"BroadcastArgs":return[s.broadcastArgs(Dk("s0",e,t,n),Dk("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,s)=>{switch(e.op){case"HashTable":case"HashTableV2":{const i=s.getHashTableHandleByName(e.name);if(null!=i)return[i];{const i=Dk("keyDType",e,t,n),r=Dk("valueDType",e,t,n),a=new _E(i,r);return s.addHashTable(e.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const i=Dk("tableHandle",e,t,n,s),r=Dk("keys",e,t,n),a=Dk("values",e,t,n),o=s.getHashTableById(i.id);return[await o.import(r,a)]}case"LookupTableFind":case"LookupTableFindV2":{const i=Dk("tableHandle",e,t,n,s),r=Dk("keys",e,t,n),a=Dk("defaultValue",e,t,n),o=s.getHashTableById(i.id);return[await o.find(r,a)]}case"LookupTableSize":case"LookupTableSizeV2":{const i=Dk("tableHandle",e,t,n,s);return[s.getHashTableById(i.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,s);case"custom":const r=Nk(e.op);if(r&&r.customExecutor)return r.customExecutor(new wE(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return fs(r)?r.then((e=>[].concat(e))):[].concat(r)}class DE{constructor(e={},t={},n={},s={},i){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=s,this.parseNodeNameCache=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function ME(e,t,n,s){const i=new Set,r=[];let a=null,o=null;const l=new Set,c=new Set(Object.keys(e).map((e=>Ok(e)[0])));s=s||[];const u=new Set(s.map((e=>Ok(e.name)[0]))),h=[...t];for(;h.length>0;){const e=h.pop();(zE(e)||VE(e)||PE(e))&&null==a&&(a=e,o=a.children.map((e=>e.name)).filter((e=>i.has(e)))),i.add(e.name),null==n[e.name]&&(c.has(e.name)||u.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),h.push(e))})):r.push(e.name)))}return{inputs:e,outputs:t,usedNodes:i,missingInputs:r,dynamicNode:a,syncInputs:o}}function BE(e,t){const{usedNodes:n,inputs:s}=t,i=Object.keys(s).map((e=>Ok(e)[0])).map((t=>e.nodes[t])),r=e.initNodes||[],a=e=>n.has("string"==typeof e?e:e.name);function o(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const l=o([...i,...e.weights,...r]).filter(a),c=o([...l,...Object.values(e.nodes)]).filter(a),u=new Map(c.map((e=>[e.name,e]))),h={};for(const e of c){h[e.name]=h[e.name]||0;for(const t of e.children)a(t)||(h[t.name]=Number.POSITIVE_INFINITY),h[t.name]=(h[t.name]||0)+1}const d=Object.entries(h).filter((([,e])=>0===e)).map((([e])=>e)),p=[...d];for(;d.length>0;){const e=d.pop(),t=u.get(e);for(const e of t.children.filter(a))0==--h[e.name]&&(p.push(e.name),d.push(e.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),s=t.map((e=>e.name)),i=new Set(s);for(;s.length>0;){const e=s.pop(),t=n.get(e);for(const e of t.children)n.has(e.name)&&!i.has(e.name)&&(i.add(e.name),s.push(e.name))}const r=e.filter((e=>i.has(e.name)));return r}(p.map((e=>u.get(e))),l);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),s=new Set(t.map((e=>e.name))),i=e=>s.has("string"==typeof e?e:e.name),r=new Set(e.map((e=>e.name))),a=e=>r.has("string"==typeof e?e:e.name);for(const t of e){for(const e of t.children.filter(a)){if(!n.has(e.name))throw new RE(`Child ${e.name} of node ${t.name} is unreachable.`);if(n.get(t.name)>n.get(e.name))throw new RE(`Node ${t.name} is scheduled to run after its child ${e.name}.`)}if(!i(t))for(const e of t.inputs){if(!n.has(e.name))throw new RE(`Input ${e.name} of node ${t.name} is unreachable.`);if(n.get(e.name)>n.get(t.name))throw new RE(`Node ${t.name} is scheduled to run before its input ${e.name}.`)}}}(f,l),f}class RE extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}const FE=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),OE=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),LE=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function zE(e){return FE.has(e.op)}function VE(e){return OE.has(e.op)}function PE(e){return LE.has(e.op)}class WE{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new WE(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),s=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+s.join(this.SEPARATOR)}compile(e,t){const n=ME(e,t,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:i,syncInputs:r}=n;if(null!=i)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${r}]`);if(s.length>0){const n=t.map((e=>e.name)),i=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${i}]. Missing the following inputs: [${s}]`)}const a=BE(this.graph,n),o=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,s=e.map(((e,t)=>zE(e)?n:t)),i=e=>{const n=s[t.get(e.name)];return null==n?-1:n},r=e.map(((e,t)=>e.children.map(i).reduce(((e,t)=>Math.max(e,t)),s[t]))),a=new Map;for(let t=0;t<e.length;++t){const s=r[t];if(s===n)continue;const i=e[t],o=e[s];a.has(o.name)||a.set(o.name,[]),a.get(o.name).push(i)}return a}(a);return{orderedNodes:a,nodeLiveUntilMap:o}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return wl(t),t}cloneTensorList(e){if(!e)return null;return e.map((e=>this.cloneAndKeepTensor(e)))}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,this.cloneTensorList(t)])))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const s=n.map((e=>this.graph.nodes[Ok(e)[0]])),i=t.map((e=>Ok(e)[0])),r=new Set(i);let a=i.map((e=>this.graph.nodes[e]));0===a.length&&(a=this._outputs);const o=this.getCompilationKey(s,a);let l=this.compiledMap.get(o);null==l&&(l=this.compile(e,a),this.compiledMap.set(o,l));try{this.keepIntermediateTensors=As().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){this.keepIntermediateTensors=!1}const c={},u={};return yl((()=>{const n=new DE(this.weightMap,c,u,this.functionExecutorMap,this.parseNodeNameCache),s=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[i,r]=Ok(t,n),a=[];a[r]=e[t],s[i]=a,this.keepIntermediateTensors&&(this.clonedTensorsMap[i]=this.cloneTensorList(a))}));const i=this.getFrozenTensorIds(s),{orderedNodes:a,nodeLiveUntilMap:o}=l;for(const e of a){if(s[e.name])continue;const t=NE(e,s,n,this._resourceManager);if(fs(t))throw new Error(`The execution of the op '${e.op}' returned a promise. Please use model.executeAsync() instead.`);s[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,s,n,i,r,o.get(e.name))}return null==this.parent&&n.dispose(i),t.map((e=>Mk(e,s,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,s,i,r,a){if(!zE(t)&&!r.has(e)){for(const s of n[e])null!=s&&(a[s.id]=(a[s.id]||0)+t.children.length);for(const e of t.inputs){if(zE(e))continue;const t=Bk(e.name,n,s);if(null!=t)for(const e of t){if(!e||e.kept||i.has(e.id))continue;const t=a[e.id];1===t?(e.dispose(),delete a[e.id]):null!=t&&a[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,s,i,r){function a(e){return zE(e)||i.has(e.name)}if(!zE(e)&&null!=r)for(const e of r){if(a(e))continue;const i=Bk(e.name,t,n);for(const e of i)!e||e.kept||s.has(e.id)||e.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t,n=!1,s={},i={}){this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=As().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){this.keepIntermediateTensors=!1}const r=new DE(this.weightMap,s,i,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(e,r,t,n),o=t.map((e=>Mk(e,a,r))),l=o.map((e=>e.id)),c=Object.keys(e).map((t=>e[t].id)),u=new Set([...l,...c,...this.weightIds]);return Object.values(a).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||u.has(e.id)||e.dispose()}))})),null==this.parent&&r.dispose(u),o}async executeFunctionAsync(e,t,n){const s=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(s,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,s){const i=Object.keys(e),r=i.map((e=>this.graph.nodes[Ok(e)[0]])),a=n.map((e=>Ok(e)[0])),o=new Set(a);let l=a.map((e=>this.graph.nodes[e]));0===l.length&&(l=this._outputs);const{usedNodes:c,missingInputs:u,dynamicNode:h,syncInputs:d}=ME(e,l,this.weightMap,this._initNodes),p=[...r,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,s]=Ok(t),i=[];i[s]=e[t],f[n]=i}));const m={},g=this.getFrozenTensorIds(f),y={};for(;p.length>0;){const e=this.processStack(r,p,t,f,y,g,o,m,c);await Promise.all(e)}const A=l.filter((e=>!zE(e)&&!Mk(e.name,f,t))).map((e=>e.name));if(A.length>0){let e="";throw null!=h&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${d}]`),new Error(`Cannot compute the outputs [${A}] from the provided inputs [${i}]. Consider providing the following inputs: [${u}]. ${e}`)}return f}processStack(e,t,n,s,i,r,a,o,l){const c=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let u="";if("Enter"===e.node.op&&Dk("isConstant",e.node,s,n)&&([u]=Rk(e.node.name,n)),null==s[e.node.name]){const h=NE(e.node,s,n,this._resourceManager);u||([u]=Rk(e.node.name,n));const d=n.currentContext;fs(h)?c.push(h.then((c=>(s[u]=c,this.keepIntermediateTensors&&(this.clonedTensorsMap[u]=this.cloneTensorList(c)),n.currentContext=d,this.checkTensorForDisposal(u,e.node,s,n,r,a,o),this.processChildNodes(e.node,t,n,s,i,l),c)))):(s[u]=h,this.keepIntermediateTensors&&(this.clonedTensorsMap[u]=this.cloneTensorList(h)),this.checkTensorForDisposal(u,e.node,s,n,r,a,o),this.processChildNodes(e.node,t,n,s,i,l))}else this.processChildNodes(e.node,t,n,s,i,l)}return c}processChildNodes(e,t,n,s,i,r){e.children.forEach((e=>{const[a]=Rk(e.name,n);!i[a]&&r.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!Mk(e,s,n)))&&(i[a]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!Mk(e,s,n)))&&(i[a]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[s]=Ok(t),i=this.graph.nodes[s];if(i.attrParams.shape&&i.attrParams.shape.value){const e=i.attrParams.shape.value;zn(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}i.attrParams.dtype&&i.attrParams.dtype.value&&zn(n.dtype===i.attrParams.dtype.value,(()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){var t,n;const s={};for(const i in e){const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[i];null!=r?s[r.name]=e[i]:s[i]=e[i]}return s}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=Ok(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{var t,n;const s=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=s?s.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=Ok(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class GE{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const UE="?tfjs-format=file",jE="model.json";class qE{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t,n={},s=e){this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=s,null==n&&(this.loadOptions={}),this.resourceManager=new GE}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return fs(e)?e.then((e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e))):this.loadSync(e)}loadSync(e){const t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(null==e.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const t=await _l(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;const n=this.artifacts.modelTopology;let s=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(s=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}if(this.signature=s,this.version=`${n.versions.producer}.${n.versions.minConsumer}`,this.executor=new WE(iE.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=iE.Instance.transformGraph(e.modelInitializer);this.initializer=new WE(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"==typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof Eo?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof Eo||Array.isArray(e))){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const s=n[t];null!=s.resourceId&&(e[t]=this.resourceIdToCapturedInput[s.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${e.length} input tensors provided.`);let s=0;return this.inputNodes.reduce(((t,n)=>{var i,r,a;const o=null===(a=null===(r=null===(i=this.signature)||void 0===i?void 0:i.inputs)||void 0===r?void 0:r[n])||void 0===a?void 0:a.resourceId;return t[n]=null!=o?this.resourceIdToCapturedInput[o]:e[s++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let s=0;s<n.length;s++){const i=t[n[s]];this.resourceIdToCapturedInput[i.resourceId]=e[s]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Al(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function HE(t,n={},s=e){if(null==t)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"==typeof t&&(t=function(e){e.endsWith("/")||(e+="/");return`${e}${jE}${UE}`}(t));const i=new qE(t,n,s);return await i.load(),i}function YE(e,t,n=new Map,s=new Set){if(null==e)return null;if("function"==typeof Blob&&e instanceof Blob)return e.slice();if(s.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if(XE(e)){const i=Array.isArray(e)?[]:{};s.add(e);for(const r in e){const a=YE(e[r],t,n,s);i[r]=a}return s.delete(e),e.__proto__&&(i.__proto__=e.__proto__),i}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return n.set(e,i.value),i.value}function KE(e,t=QE){return ZE(e,t)}function ZE(e,t,n=new Set){const s=e[0];if(n.has(s))throw new Error("Circular references are not supported.");const i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if(XE(s)){const i=Array.isArray(s)?[]:{};n.add(s);for(const r in s){const s=ZE(e.map((e=>e[r])),t,n);i[r]=s}return n.delete(s),i}throw new Error(`Can't recurse into non-iterable type: ${s}`)}return i.value}function QE(e){return null===e?null:XE(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function XE(e){let t=!1;if(As().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:n}=__webpack_require__(7695);t=e instanceof n}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof Eo)&&!(e instanceof Promise)&&!t)}function $E(e){return YE(e,JE)}function JE(e){return e instanceof Eo?{value:e.clone(),recurse:!1}:XE(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class eS{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class tS extends eS{constructor(){super(tS.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let e=0;e<n;e++)t[e]=this.get(this.wrap(this.begin+e));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function nS(e){return new aS(e)}function sS(e,t){return new yS(e,t)}tS.INITIAL_CAPACITY=32;class iS{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new pS(this,e)}filter(e){return new hS(this,e)}map(e){return new dS(this,e)}mapAsync(e){return new fS(this,e)}serialMapAsync(e){return new fS(this,e).serial()}flatmap(e){return new gS(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e,t=!0){return new uS(this,e,t)}columnMajorBatch(e,t=!0,n=QE){return this.rowMajorBatch(e,t).map((e=>KE(e,n)))}concatenate(e,t){return new yS(new rS([this,e]),t)}take(e){return e<0||null==e?this:new cS(this,e)}skip(e){return e<0||null==e?this:new lS(this,e)}prefetch(e){return new wS(this,e)}shuffle(e,t){return new bS(this,e,t)}serial(){return new oS(this)}}class rS extends iS{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:$E(e),done:!1}}}class aS extends iS{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class oS extends iS{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class lS extends iS{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;Al(e.value)}return this.upstream.next()}}class cS extends iS{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class uS extends iS{constructor(e,t,n=!0){super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class hS extends iS{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;Al(e.value)}}}class dS extends iS{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=qo(e.value),n=this.transform(e.value),s=qo(n);for(const e of t)jo(e,s)||e.dispose();return{value:n,done:!1}}}class pS extends iS{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class fS extends iS{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=qo(e.value),n=await this.transform(e.value),s=qo(n);for(const e of t)jo(e,s)||e.dispose();return{value:n,done:!1}}}class mS extends iS{constructor(){super(),this.outputQueue=new tS,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class gS extends mS{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=qo(e.value),n=this.transform(e.value),s=qo(n);this.outputQueue.pushAll(n);for(const e of t)jo(e,s)||e.dispose();return!0}}class yS extends iS{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}var AS;!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(AS||(AS={}));class wS extends iS{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new eS(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class bS extends wS{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=Pp.alea(n||oo().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class vS{constructor(){this.size=null}batch(e,t=!0){const n=this;let s;return zn(e>0,(()=>`batchSize needs to be positive, but it is\n      ${e}`)),s=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),xS((async()=>(await n.iterator()).columnMajorBatch(e,t,CS)),s)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,xS((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,xS((async()=>(await t.iterator()).filter((t=>yl((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return xS((async()=>(await t.iterator()).map((t=>yl((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return xS((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return xS((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,xS((async()=>sS(nS((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,xS((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t,n=!0){if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const s=this,i=Pp.alea(t||oo().toString());return xS((async()=>{let t=i.int32();return n&&(t+=i.int32()),(await s.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,xS((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function xS(e,t=null){return new class extends vS{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function CS(e){if(null===e)return null;const t=e[0];if(null==(n=t)||null===(s=n)||"object"!=typeof s&&"function"!=typeof s||Array.isArray(n)||"object"==typeof n&&n instanceof Eo||uo(n)){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof Eo?Sf(e):dl(e)}(e),recurse:!1}}var n,s;return{value:null,recurse:!0}}vS.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function kS(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&zn("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}const ES=Hf;class SS extends Mn{nextDataId(){return SS.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Dn(this,ml())}write(e,t,n){this.firstUse&&(this.firstUse=!1,As().get("IS_NODE")&&Ra());const s={id:this.nextDataId()};return this.data.set(s,{values:e,dtype:n,refCount:1}),s}makeTensorInfo(e,t,n){let s;if("string"===t&&null!=n&&n.length>0&&es(n[0])){const i=n.map((e=>lo(e)));s=this.write(i,e,t)}else s=this.write(n,e,t);return{dataId:s,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,s,i){this.data.set(e,{values:t,dtype:s,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return Vg(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>co(e)));return kc(e.shape,e.dtype,n)}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return kc(e.shape,e.dtype,t)}makeOutput(e,t,n){return ml().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e,t=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=oo();e();return{kernelMs:oo()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){kS([e],"where");const t=this.readSync(e.dataId);return ES(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}SS.nextDataId=0;function IS(e){return(t,n,s)=>{const i=Xn(n,t.length);for(let n=0;n<t.length;++n)i[n]=e(t[n],s);return i}}function TS(e,t,n){return _S(e,IS(t),n)}function _S(e,t,n){return({inputs:s,attrs:i,backend:r})=>{const{x:a}=s;kS(a,e);const o=r,l=o.data.get(a.dataId).values;let c;if("string"===a.dtype){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");c=wy(l)}else c=l;const u=n||a.dtype,h=t(c,u,i);return o.makeTensorInfo(a.shape,u,h)}}bl("cpu",(()=>new SS),1);const NS=TS(vi,(e=>e>=0?e:Math.exp(e)-1)),DS={kernelName:vi,backendName:"cpu",kernelFunc:NS};function MS(e){const{inputs:t,backend:n}=e,{x:s}=t;return n.incRef(s.dataId),{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}const BS={kernelName:zi,backendName:"cpu",kernelFunc:MS};function RS(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{alpha:r}=s;kS([i],"leakyRelu");const a=Wn(i.shape),o=n.data.get(i.dataId).values,l=Qn("float32",a);for(let e=0;e<o.length;e++)l[e]=o[e]<0?r*o[e]:o[e];return n.makeTensorInfo(i.shape,"float32",l)}const FS={kernelName:ji,backendName:"cpu",kernelFunc:RS};function OS(e){return(t,n,s,i,r)=>{const a=$c(t,n),o=a.length,l=rs(a),c=Qn(r,Wn(a)),u=t.length,h=n.length,d=rs(t),p=rs(n),f=Qc(t,a),m=Qc(n,a);if(f.length+m.length===0)for(let t=0;t<c.length;++t)c[t]=e(s[t%s.length],i[t%i.length]);else for(let t=0;t<c.length;++t){const n=ps(t,o,l),r=n.slice(-u);f.forEach((e=>r[e]=0));const a=ds(r,u,d),g=n.slice(-h);m.forEach((e=>g[e]=0));const y=ds(g,h,p);c[t]=e(s[a],i[y])}return[c,a]}}const LS=OS(((e,t)=>e<0?t*e:e));function zS(e){const{inputs:t,backend:n}=e,{x:s,alpha:i}=t;kS([s,i],"prelu");const r=n.data.get(s.dataId).values,a=n.data.get(i.dataId).values,[o,l]=LS(s.shape,i.shape,r,a,"float32");return n.makeTensorInfo(l,"float32",o)}const VS={kernelName:Er,backendName:"cpu",kernelFunc:zS},PS=TS(Br,(e=>Math.max(0,e))),WS={kernelName:Br,backendName:"cpu",kernelFunc:PS},GS=TS(Vr,(e=>Math.min(Math.max(0,e),6))),US={kernelName:Vr,backendName:"cpu",kernelFunc:GS},jS=IS((e=>1/(1+Math.exp(-e)))),qS=TS($r,(e=>1/(1+Math.exp(-e)))),HS={kernelName:$r,backendName:"cpu",kernelFunc:qS};function YS(e,t,n,s,i){if("linear"===n)return MS({inputs:{x:t},backend:e});if("relu"===n)return PS({inputs:{x:t},backend:e});if("elu"===n)return NS({inputs:{x:t},backend:e});if("relu6"===n)return GS({inputs:{x:t},backend:e});if("prelu"===n)return zS({inputs:{x:t,alpha:s},backend:e});if("leakyrelu"===n)return RS({inputs:{x:t},backend:e,attrs:{alpha:i}});if("sigmoid"===n)return qS({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function KS(e){const{inputs:t,backend:n}=e,{real:s,imag:i}=t,r=n.data.get(s.dataId).values,a=n.data.get(i.dataId).values,o=n.makeTensorInfo(s.shape,"complex64");return n.data.get(o.dataId).complexTensorInfos={real:n.makeTensorInfo(s.shape,"float32",r),imag:n.makeTensorInfo(i.shape,"float32",a)},o}const ZS={kernelName:Zs,backendName:"cpu",kernelFunc:KS};function QS(e,t,n="float32"){if("complex64"===n){return KS({inputs:{real:QS(e,t,"float32"),imag:QS(e,t,"float32")},backend:e})}const s=cs(Wn(t),n);return e.makeTensorInfo(t,n,s)}function XS(e){const{inputs:t,backend:n}=e,{input:s}=t,i=n.data.get(s.dataId).complexTensorInfos.real,r=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,r)}const $S={kernelName:Dr,backendName:"cpu",kernelFunc:XS};function JS(e,t,n,s){if("int32"===s){return[t,"int32",Int32Array.from(e)]}if("bool"===s){const s=ao([0],n),[i,r]=OS(((e,t)=>e!==t?1:0))(t,[],e,s,"bool");return[r,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${s}`)}function eI(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{dtype:r}=s;if("complex64"===r){if("complex64"===i.dtype)return MS({inputs:{x:i},backend:n});const e=QS(n,i.shape,i.dtype),t=eI({inputs:{x:i},backend:n,attrs:{dtype:"float32"}}),s=KS({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),s}if("complex64"===i.dtype){const e=XS({inputs:{input:i},backend:n}),t=eI({inputs:{x:e},backend:n,attrs:{dtype:r}});return n.disposeIntermediateTensorInfo(e),t}if(!$n(i.dtype,r)){const e=MS({inputs:{x:i},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:r}}const a=n.data.get(i.dataId).values,[o,l,c]=JS(a,i.shape,i.dtype,r);return n.makeTensorInfo(o,l,c)}const tI={kernelName:Hs,backendName:"cpu",kernelFunc:eI};function nI(e,t,n,s){return null==n?({inputs:n,backend:i})=>{const{a:r,b:a}=n,o=i;kS([r,a],e);const l=o.data.get(r.dataId).values,c=o.data.get(a.dataId).values,u="string"===r.dtype?wy(l):l,h="string"===r.dtype?wy(c):c,d=s||r.dtype,[p,f]=t(r.shape,a.shape,u,h,d);return o.makeTensorInfo(f,d,p)}:({inputs:e,backend:i})=>{const{a:r,b:a}=e,o=i;if("complex64"===r.dtype||"complex64"===a.dtype){const e=eI({inputs:{x:r},backend:o,attrs:{dtype:"complex64"}}),t=o.data.get(e.dataId),s=t.complexTensorInfos.real,i=t.complexTensorInfos.imag,l=o.data.get(s.dataId).values,c=o.data.get(i.dataId).values,u=eI({inputs:{x:a},backend:o,attrs:{dtype:"complex64"}}),h=o.data.get(u.dataId),d=h.complexTensorInfos.real,p=h.complexTensorInfos.imag,f=o.data.get(d.dataId).values,m=o.data.get(p.dataId).values,[g,y,A]=n(r.shape,a.shape,l,c,f,m),w=o.makeTensorInfo(A,"float32",g),b=o.makeTensorInfo(A,"float32",y),v=KS({inputs:{real:w,imag:b},backend:o});return o.disposeIntermediateTensorInfo(e),o.disposeIntermediateTensorInfo(u),o.disposeIntermediateTensorInfo(w),o.disposeIntermediateTensorInfo(b),v}{const e=o.data.get(r.dataId).values,n=o.data.get(a.dataId).values,i=s||r.dtype,[l,c]=t(r.shape,a.shape,e,n,i);return o.makeTensorInfo(c,i,l)}}}function sI(e){return(t,n,s,i,r,a)=>{const o=$c(t,n),l=Wn(o),c=o.length,u=rs(o),h=Qn("float32",l),d=Qn("float32",l),p=Qc(t,o),f=Qc(n,o),m=Vg(s,i),g=Vg(r,a),y=t.length,A=rs(t),w=n.length,b=rs(n);if(p.length+f.length===0)for(let t=0;t<h.length;t++){const n=t%m.length,s=t%g.length,i=e(m[2*n],m[2*n+1],g[2*s],g[2*s+1]);h[t]=i.real,d[t]=i.imag}else for(let t=0;t<h.length;t++){const n=ps(t,c,u),s=n.slice(-y);p.forEach((e=>s[e]=0));const i=ds(s,y,A),r=n.slice(-w);f.forEach((e=>r[e]=0));const a=ds(r,w,b),o=e(m[2*i],m[2*i+1],g[2*a],g[2*a+1]);h[t]=o.real,d[t]=o.imag}return[h,d,o]}}const iI=OS(((e,t)=>e+t)),rI=sI(((e,t,n,s)=>({real:e+n,imag:t+s}))),aI=nI(Ss,iI,rI),oI={kernelName:Ss,backendName:"cpu",kernelFunc:aI};function lI(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{shape:r}=s,a=Wn(i.shape),o=Yn(r,a),l=Wn(o);zn(a===l,(()=>`The new shape (${o}) has ${l} elements and the old shape (${i.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`)),n.incRef(i.dataId);const c=n.data.get(i.dataId);if(null!=c.complexTensorInfos){const e=c.complexTensorInfos.real,t=c.complexTensorInfos.imag;e.shape=o,t.shape=o}return{dataId:i.dataId,shape:o,dtype:i.dtype}}const cI={kernelName:Rr,backendName:"cpu",kernelFunc:lI};function uI(e){const{inputs:t,backend:n,attrs:s}=e,{a:i,b:r}=t,{transposeA:a,transposeB:o}=s;kS([i,r],"matMul");const l=i.shape.length,c=r.shape.length,u=a?i.shape[l-2]:i.shape[l-1],h=o?r.shape[c-1]:r.shape[c-2],d=a?i.shape[l-1]:i.shape[l-2],p=o?r.shape[c-2]:r.shape[c-1],f=i.shape.slice(0,-2),m=r.shape.slice(0,-2),g=Wn(f),y=Wn(m),A=$c(i.shape.slice(0,-2),r.shape.slice(0,-2)).concat([d,p]);zn(u===h,(()=>`Error in matMul: inner shapes (${u}) and (${h}) of Tensors with shapes ${i.shape} and ${r.shape} and transposeA=${a} and transposeB=${o} must match.`));const w=o?[y,p,h]:[y,h,p],b=lI({inputs:{x:i},backend:n,attrs:{shape:a?[g,u,d]:[g,d,u]}}),v=lI({inputs:{x:r},backend:n,attrs:{shape:w}}),x=a?b.shape[1]:b.shape[2],C=a?b.shape[2]:b.shape[1],k=o?v.shape[1]:v.shape[2],E=Math.max(g,y),S=n.data.get(b.dataId).values,I=n.data.get(v.dataId).values,T=rs(b.shape),_=rs(v.shape),[N,D,M]=a?[T[0],1,T[1]]:[T[0],T[1],1],[B,R,F]=o?[1,_[1],_[0]]:[_[1],1,_[0]],O=C*k,L=kc([E,C,k],b.dtype),z=L.values,V=n.blockSize;for(let e=0;e<E;e++){const t=e%g,n=e%y;for(let s=0;s<C;s+=V){const i=Math.min(s+V,C);for(let r=0;r<k;r+=V){const a=Math.min(r+V,k);for(let o=0;o<x;o+=V){const l=Math.min(o+V,x);for(let c=s;c<i;c++)for(let s=r;s<a;s++){let i=0;for(let e=o;e<l;e++){i+=S[t*N+c*D+e*M]*I[e*B+s*R+n*F]}z[e*O+(c*k+s)]+=i}}}}}return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(v),n.makeTensorInfo(A,L.dtype,L.values)}const hI={kernelName:Ws,backendName:"cpu",kernelFunc:uI};const dI={kernelName:Da,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{a:i,b:r,bias:a,preluActivationWeights:o}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:h}=s;let d,p,f;const m=[];d=uI({inputs:{a:i,b:r},attrs:{transposeA:l,transposeB:c},backend:n}),a&&(p=aI({inputs:{a:d,b:a},backend:n}),m.push(d),d=p),u&&(f=YS(n,d,u,o,h),m.push(d),d=f);for(const e of m)n.disposeIntermediateTensorInfo(e);return d}};function pI(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const fI={kernelName:Cs,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;kS(t,"abs");let s=new Float32Array(Wn(t.shape));return s=pI(n.data.get(t.dataId).values),n.makeOutput(s,t.shape,t.dtype)}},mI=TS(ks,(e=>Math.acos(e))),gI={kernelName:ks,backendName:"cpu",kernelFunc:mI},yI=TS(Es,(e=>Math.acosh(e))),AI={kernelName:Es,backendName:"cpu",kernelFunc:yI};const wI={kernelName:Is,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,s=t;kS(t,"addN");const i=s.map((e=>n.data.get(e.dataId).values)),r=kc(s[0].shape,s[0].dtype),a=r.values;for(let e=0;e<s.length;e++){const t=i[e];for(let e=0;e<a.length;e++)a[e]+=t[e]}return n.makeTensorInfo(r.shape,r.dtype,r.values)}};function bI(e,t,n,s,i){const r=t.length,a=Wn(t),o=rs(t),l=rs(i),c=Qn(n,Wn(i));for(let t=0;t<a;++t){const n=ps(t,r,o),i=new Array(n.length);for(let e=0;e<i.length;e++)i[e]=n[s[e]];c[ds(i,r,l)]=e[t]}return c}function vI(e){const{inputs:t,attrs:n,backend:s}=e,{x:i}=t,{perm:r}=n;kS(i,"transpose");const a=i.shape.length,o=new Array(a);for(let e=0;e<o.length;e++)o[e]=i.shape[r[e]];const l=bI(s.data.get(i.dataId).values,i.shape,i.dtype,r,o);return{dataId:s.write(l,o,i.dtype),shape:o,dtype:i.dtype}}const xI={kernelName:Ca,backendName:"cpu",kernelFunc:vI};const CI={kernelName:Ts,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s;kS(i,"all");const o=Kn(r,i.shape);let l=o;const c=Cd(l,i.shape.length);let u=i;null!=c&&(u=vI({inputs:{x:i},backend:n,attrs:{perm:c}}),l=Ed(l.length,i.shape.length)),xd("all",l,u.shape.length);const[h,d]=bd(u.shape,l),p=Wn(d),f=cs(Wn(h),u.dtype),m=n.data.get(u.dataId).values;for(let e=0;e<f.length;++e){const t=e*p;let n=m[t];for(let e=0;e<p;++e){const s=m[t+e];n=n&&s}f[e]=n}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(h,u.dtype,f);if(a){const e=lI({inputs:{x:g},backend:n,attrs:{shape:vd(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const kI={kernelName:_s,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s;kS(i,"any");const o=Kn(r,i.shape);let l=o;const c=Cd(l,i.shape.length);let u=i;null!=c&&(u=vI({inputs:{x:i},backend:n,attrs:{perm:c}}),l=Ed(l.length,i.shape.length)),xd("any",l,u.shape.length);const[h,d]=bd(u.shape,l),p=Wn(d),f=cs(Wn(h),u.dtype),m=n.data.get(u.dataId).values;for(let e=0;e<f.length;++e){const t=e*p;let n=m[t];for(let e=0;e<p;++e){const s=m[t+e];n=n||s}f[e]=n}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(h,u.dtype,f);if(a){const e=lI({inputs:{x:g},backend:n,attrs:{shape:vd(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const EI={kernelName:Ns,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r}=s;kS(i,"argMax");let a=Kn(r,i.shape);const o=Cd(a,i.shape.length);let l=i;const c=[];null!=o&&(l=vI({inputs:{x:i},backend:n,attrs:{perm:o}}),c.push(l),a=Ed(a.length,l.shape.length)),a=[a[0]],xd("argMax",a,l.shape.length);const[u,h]=bd(l.shape,a),d=cs(Wn(u),"int32"),p=Wn(h),f=n.data.get(l.dataId).values;for(let e=0;e<d.length;++e){const t=e*p;let n=f[t],s=0;for(let e=0;e<p;++e){const i=f[t+e];i>n&&(n=i,s=e)}d[e]=s}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",d)}};const SI={kernelName:Ds,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r}=s;kS(i,"argMin");let a=Kn(r,i.shape);const o=Cd(a,i.shape.length);let l=i;const c=[];null!=o&&(l=vI({inputs:{x:i},backend:n,attrs:{perm:o}}),c.push(l),a=Ed(a.length,l.shape.length)),a=[a[0]],xd("argMin",a,l.shape.length);const[u,h]=bd(l.shape,a),d=cs(Wn(u),"int32"),p=Wn(h),f=n.data.get(l.dataId).values;for(let e=0;e<d.length;++e){const t=e*p;let n=f[t],s=0;for(let e=0;e<p;++e){const i=f[t+e];i<n&&(n=i,s=e)}d[e]=s}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",d)}},II=TS(Ms,(e=>Math.asin(e))),TI={kernelName:Ms,backendName:"cpu",kernelFunc:II},_I=TS(Bs,(e=>Math.asinh(e))),NI={kernelName:Bs,backendName:"cpu",kernelFunc:_I},DI=TS(Rs,(e=>Math.atan(e))),MI={kernelName:Rs,backendName:"cpu",kernelFunc:DI},BI=OS(((e,t)=>Math.atan2(e,t))),RI=nI(Os,BI),FI={kernelName:Os,backendName:"cpu",kernelFunc:RI},OI=TS(Fs,(e=>Math.atanh(e))),LI={kernelName:Fs,backendName:"cpu",kernelFunc:OI};function zI(e,t,n,s,i,r){const a=i.strideHeight,o=i.strideWidth,l=i.dilationHeight,c=i.dilationWidth,u=i.effectiveFilterHeight,h=i.effectiveFilterWidth,d=i.padInfo.top,p=i.padInfo.left,f="max"===r?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=kc(i.outShape,n),g=m.values,y=i.outShape[1]*i.outShape[2]*i.outShape[3],A=i.outShape[2]*i.outShape[3],w=i.outShape[3];for(let t=0;t<i.batchSize;++t){const n=t*y,m=t*s[0];for(let t=0;t<i.inChannels;++t)for(let y=0;y<i.outHeight;++y){const b=y*a-d,v=Math.max(0,b),x=Math.min(i.inHeight,u+b),C=n+y*A;for(let n=0;n<i.outWidth;++n){const a=n*o-p,u=Math.max(0,a),d=Math.min(i.inWidth,h+a);let y=f,A=0,b=0;for(let n=v;n<x;n+=l){const i=m+n*s[1];for(let n=u;n<d;n+=c){const a=e[i+n*s[2]+t];"max"===r&&a>y?y=a:"avg"===r&&(A+=a,b++)}if(isNaN(y))break}g[C+n*w+t]="avg"===r?A/b:y}}}return m}function VI(e,t,n,s,i=!1,r=!1){const a=kc(s.outShape,"int32"),o=s.strideHeight,l=s.strideWidth,c=s.dilationHeight,u=s.dilationWidth,h=s.effectiveFilterHeight,d=s.effectiveFilterWidth,p=s.padInfo.top,f=s.padInfo.left,m=kc(t,n,e);for(let e=0;e<s.batchSize;++e)for(let t=0;t<s.inChannels;++t)for(let n=0;n<s.outHeight;++n){const g=n*o-p;let y=g;for(;y<0;)y+=c;const A=Math.min(s.inHeight,h+g);for(let o=0;o<s.outWidth;++o){const h=o*l-f;let p=h;for(;p<0;)p+=u;const w=Math.min(s.inWidth,d+h);let b=Number.NEGATIVE_INFINITY,v=-1;for(let n=y;n<A;n+=c){const a=n-g;for(let o=p;o<w;o+=u){const l=o-h,c=m.get(e,n,o,t);c>b&&(b=c,v=i?r?((e*s.inHeight+n)*s.inWidth+o)*s.inChannels+t:(n*s.inWidth+o)*s.inChannels+t:a*d+l)}}a.set(v,e,n,o,t)}}return a}function PI(e,t,n,s,i,r){const a=i.strideDepth,o=i.strideHeight,l=i.strideWidth,c=i.dilationDepth,u=i.dilationHeight,h=i.dilationWidth,d=i.effectiveFilterDepth,p=i.effectiveFilterHeight,f=i.effectiveFilterWidth,m=i.padInfo.front,g=i.padInfo.top,y=i.padInfo.left,A="max"===r?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=kc(i.outShape,n),b=w.values,v=i.outShape[1]*i.outShape[2]*i.outShape[3]*i.outShape[4],x=i.outShape[2]*i.outShape[3]*i.outShape[4],C=i.outShape[3]*i.outShape[4],k=i.outShape[4];for(let t=0;t<i.batchSize;++t){const n=t*v,w=t*s[0];for(let t=0;t<i.inChannels;++t)for(let v=0;v<i.outDepth;++v){const E=v*a-m;let S=E;for(;S<0;)S+=c;const I=Math.min(i.inDepth,d+E),T=n+v*x;for(let n=0;n<i.outHeight;++n){const a=n*o-g;let d=a;for(;d<0;)d+=u;const m=Math.min(i.inHeight,p+a),v=T+n*C;for(let n=0;n<i.outWidth;++n){const a=n*l-y;let o=a;for(;o<0;)o+=h;const p=Math.min(i.inWidth,f+a),g=v+n*k;let x=A,C=0,E=0;for(let n=S;n<I;n+=c){const i=w+n*s[1];for(let n=d;n<m;n+=u){const a=i+n*s[2];for(let n=o;n<p;n+=h){const i=e[a+n*s[3]+t];if("max"===r&&i>x?x=i:"avg"===r&&(C+=i,E++),isNaN(x))break}if(isNaN(x))break}if(isNaN(x))break}b[g+t]="avg"===r?C/Math.max(E,1):x}}}}return w}const WI={kernelName:Ls,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t;kS(i,"avgPool");const{filterSize:r,strides:a,pad:o,dimRoundingMode:l}=s;zn(bh(a,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const c=uh(i.shape,r,a,1,o,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&Gn(c.inShape,c.outShape))u=MS({inputs:{x:i},backend:n});else{const e=n.data.get(i.dataId).values,t=rs(i.shape),s=zI(e,i.shape,i.dtype,t,c,"avg");u=n.makeTensorInfo(c.outShape,i.dtype,s.values)}return u}};const GI={kernelName:Vs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{filterSize:r,strides:a,pad:o,dimRoundingMode:l,dataFormat:c}=s;kS(i,"avgPool3d");const u=hh(i.shape,r,a,1,o,l,c),h=PI(n.data.get(i.dataId).values,i.shape,i.dtype,rs(i.shape),u,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}};const UI={kernelName:Ps,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,input:r}=t,{filterSize:a,strides:o,pad:l,dimRoundingMode:c}=s;kS([i,r],"avgPool3DGrad");const u=hh(r.shape,a,o,1,l,c),h=u.strideDepth,d=u.strideHeight,p=u.strideWidth,f=u.filterDepth,m=u.filterHeight,g=u.filterWidth,y=u.dilationDepth,A=u.dilationHeight,w=u.dilationWidth,b=u.effectiveFilterDepth,v=u.effectiveFilterHeight,x=u.effectiveFilterWidth,C=b-1-u.padInfo.front,k=x-1-u.padInfo.left,E=v-1-u.padInfo.top,S=kc(r.shape,"float32"),I=1/(f*m*g),T=n.bufferSync(i);for(let e=0;e<u.batchSize;++e)for(let t=0;t<u.inChannels;++t)for(let n=0;n<u.inDepth;++n)for(let s=0;s<u.inHeight;++s)for(let i=0;i<u.inWidth;++i){const r=n-C,a=s-E,o=i-k;let l=0;for(let n=0;n<b;n+=y){const s=(r+n)/h;if(!(s<0||s>=u.outDepth||Math.floor(s)!==s))for(let n=0;n<v;n+=A){const i=(a+n)/d;if(!(i<0||i>=u.outHeight||Math.floor(i)!==i))for(let n=0;n<x;n+=w){const r=(o+n)/p;if(r<0||r>=u.outWidth||Math.floor(r)!==r)continue;l+=T.get(e,s,i,r,t)}}}S.set(l*I,e,n,s,i,t)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};const jI={kernelName:zs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,input:r}=t,a=r;kS([i,r],"avgPoolGrad");const{filterSize:o,strides:l,pad:c}=s,u=uh(a.shape,o,l,1,c),h=u.strideHeight,d=u.strideWidth,p=u.filterHeight,f=u.filterWidth,m=u.dilationHeight,g=u.dilationWidth,y=u.effectiveFilterHeight,A=u.effectiveFilterWidth,w=A-1-u.padInfo.left,b=y-1-u.padInfo.top,v=kc(a.shape,"float32"),x=1/(p*f),C=n.data.get(i.dataId).values,k=kc(i.shape,"float32",C);for(let e=0;e<u.batchSize;++e)for(let t=0;t<u.inChannels;++t)for(let n=0;n<u.inHeight;++n)for(let s=0;s<u.inWidth;++s){const i=n-b,r=s-w;let a=0;for(let n=0;n<y;n+=m){const s=(i+n)/h;if(!(s<0||s>=u.outHeight||Math.floor(s)!==s))for(let n=0;n<A;n+=g){const i=(r+n)/d;if(i<0||i>=u.outWidth||Math.floor(i)!==i)continue;a+=k.get(e,s,i,t)}}v.set(a*x,e,n,s,t)}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const qI={kernelName:Bi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,scale:r,offset:a,mean:o,variance:l}=t;zn(o.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),zn(null==a||o.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),zn(null==r||o.shape.length===r.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),kS([i,o,l,r,a],"batchNorm");let{varianceEpsilon:c}=s;null==c&&(c=.001);const u=n.data.get(i.dataId).values,h=n.data.get(o.dataId).values,d=n.data.get(l.dataId).values,p=r?n.data.get(r.dataId).values:new Float32Array([1]),f=a?n.data.get(a.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),g=f.length,y=p.length,A=d.length,w=h.length;let b=0,v=0,x=0,C=0;for(let e=0;e<u.length;++e)m[e]=f[b++]+(u[e]-h[v++])*p[x++]/Math.sqrt(d[C++]+c),b>=g&&(b=0),v>=w&&(v=0),x>=y&&(x=0),C>=A&&(C=0);return n.makeTensorInfo(i.shape,i.dtype,m)}};function HI(e,t,n,s,i){const r=Hu(s,t,n),a=Wn(n),o=rs(s);if(r){const n=Yu(t,o);return"string"===i?e.slice(n,n+a):e.subarray(n,n+a)}const l=kc(s,i,"string"===i?wy(e):e),c=kc(n,i);for(let e=0;e<c.size;++e){const n=c.indexToLoc(e),s=n.map(((e,n)=>e+t[n]));c.set(l.get(...s),...n)}return"string"===i?by(c.values):c.values}function YI(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{begin:r,size:a}=s;kS(i,"slice");const[o,l]=Ku(i,r,a);Ru(i,o,l);const c=HI(n.data.get(i.dataId).values,o,l,i.shape,i.dtype);return n.makeTensorInfo(l,i.dtype,c)}const KI={kernelName:Kr,backendName:"cpu",kernelFunc:YI};const ZI={kernelName:Gs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{blockShape:r,crops:a}=s;kS([i],"batchToSpaceND");const o=r.reduce(((e,t)=>e*t)),l=Eg(i.shape,r,o),c=Sg(l.length,r.length),u=Ig(i.shape,r,o),h=Tg(a,r.length),d=_g(u,a,r.length),p=lI({inputs:{x:i},backend:n,attrs:{shape:l}}),f=vI({inputs:{x:p},backend:n,attrs:{perm:c}}),m=lI({inputs:{x:f},backend:n,attrs:{shape:u}}),g=YI({inputs:{x:m},backend:n,attrs:{begin:h,size:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function QI(e,t,n,s,i){const r=Wn(s),a=cs(i,n);for(let n=0;n<e.length;n++){const s=e[n];if(s<0)throw new Error("Input x must be non-negative!");s>=i||(a[s]+=r>0?t[n]:1)}return a}function XI(e,t,n,s=!1){const i=e.shape[0],r=e.shape[1],a=kc([i,n],t.dtype);for(let o=0;o<i;o++)for(let i=0;i<r;i++){const r=e.get(o,i);if(r<0)throw new Error("Input x must be non-negative!");r>=n||(s?a.set(1,o,r):t.size>0?a.set(a.get(o,r)+t.get(o,i),o,r):a.set(a.get(o,r)+1,o,r))}return a}const $I={kernelName:Us,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,weights:r}=t,{size:a}=s,o=QI(n.data.get(i.dataId).values,n.data.get(r.dataId).values,r.dtype,r.shape,a);return n.makeTensorInfo([a],r.dtype,o)}},JI=OS(((e,t)=>e&t)),eT=nI(js,JI),tT={kernelName:js,backendName:"cpu",kernelFunc:eT};const nT={kernelName:qs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:s,s1:i}=t,r=n.data.get(s.dataId).values,a=n.data.get(i.dataId).values,o=$c(Array.from(r),Array.from(a));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},sT=IS((e=>Math.ceil(e))),iT=_S(Ys,sT),rT={kernelName:Ys,backendName:"cpu",kernelFunc:iT},aT=TS(Ks,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),oT={kernelName:Ks,backendName:"cpu",kernelFunc:aT},lT={kernelName:Qs,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,s=new Float32Array(Wn(t.shape)),i=n.data.get(t.dataId),r=i.complexTensorInfos.real,a=i.complexTensorInfos.imag,o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values;for(let e=0;e<o.length;e++){const t=o[e],n=l[e];s[e]=Math.hypot(t,n)}return n.makeOutput(s,t.shape,"float32")}};function cT(e,t,n,s){const i=Xn(n,Wn(t));if(s&&"string"!==n){let t=0;e.forEach((e=>{const n=Wn(e.shape);i.set(e.vals,t),t+=n}))}else{let s=0;e.forEach((e=>{const r="string"===n?wy(e.vals):e.vals;let a=0;for(let n=0;n<e.shape[0];++n){const o=n*t[1]+s;for(let t=0;t<e.shape[1];++t)i[o+t]=r[a++]}s+=e.shape[1]}))}return i}function uT(e){const{inputs:t,backend:n}=e,{input:s}=t,i=n.data.get(s.dataId).complexTensorInfos.imag,r=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,r)}const hT={kernelName:Pi,backendName:"cpu",kernelFunc:uT};function dT(e){const{inputs:t,backend:n,attrs:s}=e,{axis:i}=s,r=Kn(i,t[0].shape)[0];fg(t.map((e=>e.shape)),r);let a=mg(t.map((e=>e.shape)),r);if(0===Wn(a))return n.makeTensorInfo(a,t[0].dtype,[]);const o=t.filter((e=>Wn(e.shape)>0));if(1===o.length)return MS({inputs:{x:o[0]},backend:n});if("complex64"===o[0].dtype){const e=o.map((e=>XS({inputs:{input:e},backend:n}))),t=o.map((e=>uT({inputs:{input:e},backend:n}))),s=dT({inputs:e,backend:n,attrs:{axis:r}}),i=dT({inputs:t,backend:n,attrs:{axis:r}}),a=KS({inputs:{real:s,imag:i},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),a}const l=o.map((e=>{const t=Wn(e.shape.slice(r));return lI({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),c=l.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));a=mg(l.map((e=>e.shape)),1);const u=1===l[0].shape[0],h=cT(c,a,t[0].dtype,u),d=mg(o.map((e=>e.shape)),r),p=n.makeTensorInfo(d,t[0].dtype,h);return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}const pT={kernelName:Xs,backendName:"cpu",kernelFunc:dT};function fT(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r}=t,{strides:a,pad:o,dataFormat:l,dilations:c,dimRoundingMode:u}=s;kS([i,r],"conv2d");const h=xh(l),d=dh(i.shape,r.shape,a,c,o,u,!1,h),p=d.filterHeight,f=d.filterWidth,m=d.dilationHeight,g=d.dilationWidth,y=d.padInfo.left,A=d.padInfo.top,w="channelsLast"===d.dataFormat,b=new vo(d.outShape,i.dtype),v=rs(i.shape),x=rs(r.shape),C=v[0],k=w?v[1]:v[2],E=w?v[2]:1,S=w?1:v[1],I=b.strides[0],T=w?b.strides[1]:b.strides[2],_=w?b.strides[2]:1,N=w?1:b.strides[1],D=n.data.get(i.dataId).values,M=n.data.get(r.dataId).values,B=b.values;for(let e=0;e<d.batchSize;++e){const t=e*C,n=e*I;for(let e=0;e<d.outHeight;++e){const s=n+e*T,i=e*d.strideHeight-A;for(let e=0;e<p;++e){const n=i+e*m;if(n<0||n>=d.inHeight)continue;const r=e*x[0],a=t+n*k;for(let e=0;e<d.outWidth;++e){const t=s+e*_,n=e*d.strideWidth-y;for(let e=0;e<f;++e){const s=n+e*g;if(s<0||s>=d.inWidth)continue;const i=a+s*E;let o=r+e*x[1];for(let e=0;e<d.inChannels;++e){const n=D[i+e*S];for(let e=0;e<d.outChannels;++e)B[t+e*N]+=n*M[o+e];o+=d.outChannels}}}}}}return n.makeTensorInfo(b.shape,b.dtype,B)}const mT={kernelName:$s,backendName:"cpu",kernelFunc:fT};const gT={kernelName:Js,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,dy:r}=t,{strides:a,pad:o,dataFormat:l,dimRoundingMode:c,filterShape:u}=s;kS([i,r],"conv2dBackpropFilter");const h=xh(l),d=dh(i.shape,u,a,1,o,c,!1,h),{strideHeight:p,strideWidth:f,filterHeight:m,filterWidth:g}=d,y="channelsLast"===d.dataFormat,A=new vo(d.filterShape,"float32"),w=d.padInfo.left,b=d.padInfo.top,v=n.data.get(i.dataId).values,x=n.data.get(r.dataId).values,C=new vo(i.shape,i.dtype,v),k=new vo(r.shape,r.dtype,x);for(let e=0;e<m;++e){const t=Math.max(0,Math.ceil((b-e)/p)),n=Math.min(d.outHeight,(d.inHeight+b-e)/p);for(let s=0;s<g;++s){const i=Math.max(0,Math.ceil((w-s)/f)),r=Math.min(d.outWidth,(d.inWidth+w-s)/f);for(let a=0;a<d.inChannels;++a)for(let o=0;o<d.outChannels;++o){let l=0;for(let c=0;c<d.batchSize;++c)for(let u=t;u<n;++u){const t=e+u*p-b;for(let e=i;e<r;++e){const n=s+e*f-w;l+=y?C.get(c,t,n,a)*k.get(c,u,e,o):C.get(c,a,t,n)*k.get(c,o,u,e)}}A.set(l,e,s,a,o)}}}return n.makeTensorInfo(A.shape,A.dtype,A.values)}};const yT={kernelName:ei,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,filter:r}=t,{inputShape:a,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=s;kS([i,r],"conv2dBackpropInput");const h=rs(r.shape),d=rs(i.shape);let p=xh(c);const f=dh(a,r.shape,o,1,l,u,!1,p),m=new vo(f.inShape,"float32"),g=m.values,y=n.data.get(i.dataId).values,A=n.data.get(r.dataId).values,[w,b,v]=h,{batchSize:x,filterHeight:C,filterWidth:k,inChannels:E,inHeight:S,inWidth:I,outChannels:T,outHeight:_,outWidth:N,strideHeight:D,strideWidth:M}=f;p=f.dataFormat;const B=C-1-f.padInfo.top,R=k-1-f.padInfo.left,F="channelsLast"===p,O=m.strides[0],L=F?m.strides[1]:m.strides[2],z=F?m.strides[2]:1,V=F?1:m.strides[1],P=d[0],W=F?d[1]:d[2],G=F?d[2]:1,U=F?1:d[1];for(let e=0;e<x;++e)for(let t=0;t<E;++t)for(let n=0;n<S;++n){const s=n-B,i=Math.max(0,Math.ceil(s/D)),r=Math.min(_,(C+s)/D);for(let a=0;a<I;++a){const o=a-R,l=Math.max(0,Math.ceil(o/M)),c=Math.min(N,(k+o)/M);let u=0;for(let n=i;n<r;++n){const i=n*D-s;for(let s=l;s<c;++s){const r=P*e+W*n+G*s,a=w*(C-1-i)+b*(k-1-(s*M-o))+v*t;for(let e=0;e<T;++e){u+=y[r+U*e]*A[a+e]}}}g[O*e+L*n+z*a+V*t]=u}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const AT={kernelName:ti,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r}=t,{strides:a,pad:o,dilations:l}=s;kS([i,r],"conv3d");const c=ph(i.shape,r.shape,a,l,o),{filterDepth:u,filterHeight:h,filterWidth:d,dilationDepth:p,dilationHeight:f,dilationWidth:m,padInfo:g}=c,y=g.front,A=g.left,w=g.top,b=new vo(c.outShape,i.dtype),v=n.data.get(i.dataId).values,x=n.data.get(r.dataId).values,C=b.values,k=rs(i.shape),E=rs(r.shape);for(let e=0;e<c.batchSize;++e){const t=e*k[0],n=e*b.strides[0];for(let e=0;e<c.outDepth;++e){const s=n+e*b.strides[1],i=e*c.strideDepth-y;for(let e=0;e<u;++e){const n=i+e*p;if(n<0||n>=c.inDepth)continue;const r=e*E[0],a=t+n*k[1];for(let e=0;e<c.outHeight;++e){const t=s+e*b.strides[2],n=e*c.strideHeight-w;for(let e=0;e<h;++e){const s=n+e*f;if(s<0||s>=c.inHeight)continue;const i=r+e*E[1],o=a+s*k[2];for(let e=0;e<c.outWidth;++e){const n=t+e*c.outChannels,s=e*c.strideWidth-A;for(let e=0;e<d;++e){const t=s+e*m;if(t<0||t>=c.inWidth)continue;const r=i+e*E[2],a=o+t*c.inChannels;let l=r;for(let e=0;e<c.inChannels;++e){const t=v[a+e];for(let e=0;e<c.outChannels;++e)C[n+e]+=t*x[l+e];l+=c.outChannels}}}}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const wT={kernelName:ni,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,dy:r}=t,{strides:a,pad:o,filterShape:l}=s;kS([i,r],"conv3dBackpropFilterV2");const c=rs(i.shape),u=rs(r.shape),h=ph(i.shape,l,a,1,o),d=h.strideDepth,p=h.strideHeight,f=h.strideWidth,m=h.filterDepth,g=h.filterHeight,y=h.filterWidth,A=new vo(h.filterShape,"float32"),w=A.values,[b,v,x,C]=A.strides,k=n.data.get(r.dataId).values,[E,S,I,T]=u,_=n.data.get(i.dataId).values,[N,D,M,B]=c,R=h.padInfo.front,F=h.padInfo.left,O=h.padInfo.top;for(let e=0;e<m;++e){const t=Math.max(0,Math.ceil((R-e)/d)),n=Math.min(h.outDepth,(h.inDepth+R-e)/d),s=e*b;for(let i=0;i<g;++i){const r=Math.max(0,Math.ceil((O-i)/p)),a=Math.min(h.outHeight,(h.inHeight+O-i)/p),o=i*v+s;for(let s=0;s<y;++s){const l=Math.max(0,Math.ceil((F-s)/f)),c=Math.min(h.outWidth,(h.inWidth+F-s)/f),u=s*x+o;for(let o=0;o<h.inChannels;++o){const m=o*C+u;for(let u=0;u<h.outChannels;++u){let g=0;for(let m=0;m<h.batchSize;++m){const h=m*N,y=m*E;for(let m=t;m<n;++m){const t=(e+m*d-R)*D+h,n=m*S+y;for(let e=r;e<a;++e){const r=(i+e*p-O)*M+t,a=e*I+n;for(let e=l;e<c;++e){const t=e*T+a;g+=_[(s+e*f-F)*B+r+o]*k[t+u]}}}}w[m+u]=g}}}}}return n.makeTensorInfo(A.shape,A.dtype,A.values)}};const bT={kernelName:si,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,filter:r}=t,{pad:a,strides:o,inputShape:l}=s;kS([i],"conv3dBackpropInputV2");const c=rs(i.shape),u=rs(r.shape),h=ph(l,r.shape,o,1,a),d=new vo(h.inShape,"float32"),p=d.values,[f,m,g,y]=d.strides,A=n.data.get(i.dataId).values,[w,b,v,x]=c,C=n.data.get(r.dataId).values,[k,E,S,I]=u,{batchSize:T,filterDepth:_,filterHeight:N,filterWidth:D,inChannels:M,inDepth:B,inHeight:R,inWidth:F,outChannels:O,outDepth:L,outHeight:z,outWidth:V,strideDepth:P,strideHeight:W,strideWidth:G}=h,U=_-1-h.padInfo.front,j=N-1-h.padInfo.top,q=D-1-h.padInfo.left;for(let e=0;e<T;++e)for(let t=0;t<M;++t)for(let n=0;n<B;++n){const s=n-U,i=Math.max(0,Math.ceil(s/P)),r=Math.min(L,(_+s)/P);for(let a=0;a<R;++a){const o=a-j,l=Math.max(0,Math.ceil(o/W)),c=Math.min(z,(N+o)/W);for(let u=0;u<F;++u){const h=u-q,d=Math.max(0,Math.ceil(h/G)),T=Math.min(V,(D+h)/G);let M=0;for(let n=i;n<r;++n){const i=n*P-s;for(let s=l;s<c;++s){const r=s*W-o;for(let a=d;a<T;++a){const o=w*e+b*n+v*s+x*a,l=k*(_-1-i)+E*(N-1-r)+S*(D-1-(a*G-h))+I*t;for(let e=0;e<O;++e){M+=A[o+e]*C[l+e]}}}}p[f*e+m*n+g*a+y*u+t]=M}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}},vT=TS(ii,(e=>Math.cos(e))),xT={kernelName:ii,backendName:"cpu",kernelFunc:vT},CT=TS(ri,(e=>Math.cosh(e))),kT={kernelName:ri,backendName:"cpu",kernelFunc:CT};const ET={kernelName:li,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{image:i,boxes:r,boxInd:a}=t,{cropSize:o,method:l,extrapolationValue:c}=s,[u,h,d,p]=i.shape,f=r.shape[0],[m,g]=o,y=kc([f,m,g,p],"float32"),A=n.data.get(r.dataId).values,w=n.data.get(a.dataId).values,b=n.data.get(i.dataId).values,v=rs(i.shape),x=rs(y.shape);for(let e=0;e<f;e++){const t=4*e,n=A[t],s=A[t+1],i=A[t+2],r=A[t+3],a=w[e];if(a>=u)continue;const o=m>1?(i-n)*(h-1)/(m-1):0,f=g>1?(r-s)*(d-1)/(g-1):0;for(let t=0;t<m;t++){const u=m>1?n*(h-1)+t*o:.5*(n+i)*(h-1);if(u<0||u>h-1)for(let n=0;n<g;n++)for(let s=0;s<p;s++){const i=s+n*x[2]+t*x[1]+e*x[0];y.values[i]=c}else if("bilinear"===l){const n=Math.floor(u),i=Math.ceil(u),o=u-n;for(let l=0;l<g;l++){const u=g>1?s*(d-1)+l*f:.5*(s+r)*(d-1);if(u<0||u>d-1){for(let n=0;n<p;n++){const s=n+l*x[2]+t*x[1]+e*x[0];y.values[s]=c}continue}const h=Math.floor(u),m=Math.ceil(u),A=u-h;for(let s=0;s<p;s++){let r=s+h*v[2]+n*v[1]+a*v[0];const c=b[r];r=s+m*v[2]+n*v[1]+a*v[0];const u=b[r];r=s+h*v[2]+i*v[1]+a*v[0];const d=b[r];r=s+m*v[2]+i*v[1]+a*v[0];const p=c+(u-c)*A,f=d+(b[r]-d)*A;r=s+l*x[2]+t*x[1]+e*x[0],y.values[r]=p+(f-p)*o}}}else for(let n=0;n<g;++n){const i=g>1?s*(d-1)+n*f:.5*(s+r)*(d-1);if(i<0||i>d-1){for(let s=0;s<p;s++){const i=s+n*x[2]+t*x[1]+e*x[0];y.values[i]=c}continue}const o=Math.round(i),l=Math.round(u);for(let s=0;s<p;s++){const i=s+o*v[2]+l*v[1]+a*v[0],r=s+n*x[2]+t*x[1]+e*x[0];y.values[r]=b[i]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const ST={kernelName:ai,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,exclusive:a,reverse:o}=s;kS(i,"cumprod");const l=Cd([r],i.shape.length);let c=i;null!=l&&(c=vI({inputs:{x:i},backend:n,attrs:{perm:l}}));const u=Ed(1,i.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const h=Vo(c.dtype,"int32"),d=ls(Wn(c.shape),h),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=o?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let e=0;e<p.length;e+=f)for(let t=0;t<f;t++){const n=m(e,t);if(0===t)d[n]=a?1:p[n];else{const s=m(e,t-1);d[n]=a?p[s]*d[s]:p[n]*d[s]}}const g=n.makeTensorInfo(c.shape,h,d);if(null!=l){const e=vI({inputs:{x:g},backend:n,attrs:{perm:kd(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const IT={kernelName:oi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,exclusive:a,reverse:o}=s;kS(i,"cumsum");const l=Cd([r],i.shape.length);let c=i;null!=l&&(c=vI({inputs:{x:i},backend:n,attrs:{perm:l}}));const u=Ed(1,i.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const h=Vo(c.dtype,"int32"),d=cs(Wn(c.shape),h),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=o?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let e=0;e<p.length;e+=f)for(let t=0;t<f;t++){const n=m(e,t);if(0===t)d[n]=a?0:p[n];else{const s=m(e,t-1);d[n]=a?p[s]+d[s]:p[n]+d[s]}}const g=n.makeTensorInfo(c.shape,h,d);if(null!=l){const e=vI({inputs:{x:g},backend:n,attrs:{perm:kd(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const TT={kernelName:ci,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,weights:r}=t,{size:a,binaryOutput:o}=s;if(1===i.shape.length){const e=QI(n.data.get(i.dataId).values,n.data.get(r.dataId).values,r.dtype,r.shape,a);return n.makeTensorInfo([a],r.dtype,e)}if(2===i.shape.length){const e=XI(n.bufferSync(i),n.bufferSync(r),a,o);return n.makeTensorInfo(e.shape,r.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${i.shape.length}.`)}};const _T={kernelName:ui,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{blockSize:r,dataFormat:a}=s;zn("NHWC"===a,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${a}`));const o=i.shape[0],l=i.shape[1],c=i.shape[2],u=i.shape[3],h=l*r,d=c*r,p=u/(r*r),f=n.data.get(i.dataId).values,m=new Float32Array(o*h*d*p);let g=0;for(let e=0;e<o;++e)for(let t=0;t<h;++t){const n=Math.floor(t/r),s=t%r;for(let t=0;t<d;++t){const i=Math.floor(t/r),a=(s*r+t%r)*p;for(let t=0;t<p;++t){const s=t+a+u*(i+c*(n+l*e));m[g++]=f[s]}}}return n.makeTensorInfo([o,h,d,p],i.dtype,m)}};function NT(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r}=t,{strides:a,pad:o,dilations:l,dimRoundingMode:c}=s;kS([i,r],"depthwiseConv2DNative");const u=rs(i.shape),h=rs(r.shape);let d=l;null==d&&(d=[1,1]),zn(bh(a,d),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${d}'`));const p=dh(i.shape,r.shape,a,d,o,c,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:A}=p,w=A.left,b=A.top,v=p.outChannels/p.inChannels,x=new vo(p.outShape,i.dtype),C=n.data.get(i.dataId).values,k=n.data.get(r.dataId).values,E=x.values;for(let e=0;e<p.batchSize;++e){const t=e*u[0],n=e*x.strides[0];for(let e=0;e<p.outHeight;++e){const s=n+e*x.strides[1],i=e*p.strideHeight-b;for(let e=0;e<f;++e){const n=i+e*g;if(n<0||n>=p.inHeight)continue;const r=e*h[0],a=t+n*u[1];for(let e=0;e<p.outWidth;++e){const t=s+e*x.strides[2],n=e*p.strideWidth-w;for(let e=0;e<m;++e){const s=n+e*y;if(s<0||s>=p.inWidth)continue;const i=r+e*h[1],o=a+s*p.inChannels;let l=t,c=i;for(let e=0;e<p.inChannels;++e){const t=C[o+e];for(let e=0;e<v;++e)E[l+e]+=t*k[c+e];l+=v,c+=v}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const DT={kernelName:hi,backendName:"cpu",kernelFunc:NT};const MT={kernelName:di,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,dy:r}=t,{strides:a,dilations:o,pad:l,dimRoundingMode:c,filterShape:u}=s;kS([i,r],"depthwiseConv2dNativeBackpropFilter");const h=dh(i.shape,u,a,o,l,c,!0),{strideHeight:d,strideWidth:p,filterHeight:f,filterWidth:m}=h,g=new vo(h.filterShape,"float32"),y=h.padInfo.left,A=h.padInfo.top,w=h.outChannels/h.inChannels,b=n.data.get(i.dataId).values,v=new vo(i.shape,i.dtype,b),x=n.data.get(r.dataId).values,C=new vo(r.shape,r.dtype,x);for(let e=0;e<f;++e){const t=Math.max(0,Math.ceil((A-e)/d)),n=Math.min(h.outHeight,(h.inHeight+A-e)/d);for(let s=0;s<m;++s){const i=Math.max(0,Math.ceil((y-s)/p)),r=Math.min(h.outWidth,(h.inWidth+y-s)/p);for(let a=0;a<h.outChannels;++a){const o=Math.trunc(a/w),l=a%w;let c=0;for(let l=0;l<h.batchSize;++l)for(let u=t;u<n;++u){const t=e+u*d-A;for(let e=i;e<r;++e){const n=s+e*p-y;c+=v.get(l,t,n,o)*C.get(l,u,e,a)}}g.set(c,e,s,o,l)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const BT={kernelName:pi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,filter:r}=t,{strides:a,dilations:o,pad:l,dimRoundingMode:c,inputShape:u}=s;kS([i,r],"depthwiseConv2DNativeBackpropInput");const h=rs(i.shape),d=rs(r.shape),p=dh(u,r.shape,a,o,l,c,!0),f=new vo(p.inShape,"float32"),m=f.values,[g,y,A]=f.strides,w=n.data.get(i.dataId).values,[b,v,x]=h,C=n.data.get(r.dataId).values,[k,E,S]=d,{batchSize:I,filterHeight:T,filterWidth:_,inChannels:N,inHeight:D,inWidth:M,outChannels:B,outHeight:R,outWidth:F,strideHeight:O,strideWidth:L}=p,z=T-1-p.padInfo.top,V=_-1-p.padInfo.left,P=B/N;for(let e=0;e<I;++e)for(let t=0;t<N;++t)for(let n=0;n<D;++n){const s=n-z,i=Math.max(0,Math.ceil(s/O)),r=Math.min(R,(T+s)/O);for(let a=0;a<M;++a){const o=a-V,l=Math.max(0,Math.ceil(o/L)),c=Math.min(F,(_+o)/L);let u=0;for(let n=i;n<r;++n){const i=n*O-s;for(let s=l;s<c;++s){const r=b*e+v*n+x*s,a=k*(T-1-i)+E*(_-1-(s*L-o))+S*t;for(let e=0;e<P;++e){u+=w[r+(t*P+e)]*C[a+e]}}}m[g*e+y*n+A*a+t]=u}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const RT={kernelName:fi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t,i=Wn(s.shape),r=n.data.get(s.dataId).values,a=kc([i,i],s.dtype),o=a.values;for(let e=0;e<r.length;e++)o[e*i+e]=r[e];const l=[...s.shape,...s.shape];return n.makeTensorInfo(l,a.dtype,a.values)}},FT={kernelName:mi,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:s,filter:i}=e,{strides:r,pad:a,dilations:o}=n,l=t,c=l.data.get(s.dataId).values,u=s.shape.length,h=l.data.get(i.dataId).values,d=i.shape.length,{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:A,padInfo:w,strideHeight:b,strideWidth:v,filterHeight:x,filterWidth:C,dilationHeight:k,dilationWidth:E,outShape:S}=ch(s.shape,i.shape,r,a,"NHWC",o),I=Wn(S),T=S.length,_=Xn(s.dtype,I);for(let e=0;e<p;++e)for(let t=0;t<y;++t){const n=t*b-w.top;for(let r=0;r<A;++r){const a=r*v-w.left;for(let o=0;o<g;++o){let l=Number.MIN_SAFE_INTEGER;for(let t=0;t<x;++t){const r=n+t*k;if(r>=0&&r<f)for(let n=0;n<C;++n){const p=a+n*E;if(p>=0&&p<m){const a=ds([e,r,p,o],u,rs(s.shape)),f=ds([t,n,o],d,rs(i.shape)),m=c[a]+h[f];m>l&&(l=m)}}}_[ds([e,t,r,o],T,rs(S))]=l}}}return{dataId:l.write(ao(_,s.dtype),S,s.dtype),shape:S,dtype:s.dtype}}},OT={kernelName:yi,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:s,filter:i,dy:r}=e,{strides:a,pad:o,dilations:l}=n,c=t,u=os(s.shape,c.data.get(s.dataId).values),h=os(i.shape,c.data.get(i.dataId).values),{batchSize:d,inHeight:p,inWidth:f,inChannels:m,outHeight:g,outWidth:y,padInfo:A,strideHeight:w,strideWidth:b,filterHeight:v,filterWidth:x,dilationHeight:C,dilationWidth:k,outShape:E}=ch(s.shape,i.shape,a,o,"NHWC",l);zn(r.rank===E.length,(()=>`Error in ${yi}, dy must have the same rank as output ${E.length}, but got ${r.rank}`));const S=os(E,c.data.get(r.dataId).values),I=us(i.shape,i.dtype);for(let e=0;e<d;++e)for(let t=0;t<g;++t){const n=t*w-A.top;for(let s=0;s<y;++s){const i=s*b-A.left;for(let r=0;r<m;++r){let a=Number.MIN_SAFE_INTEGER,o=0,l=0;for(let t=0;t<v;++t){const s=n+t*C;if(s>=0&&s<p)for(let n=0;n<x;++n){const c=i+n*k;if(c>=0&&c<f){const i=u[e][s][c][r]+h[t][n][r];i>a&&(a=i,o=t,l=n)}}}I[o][l][r]+=S[e][t][s][r]}}}return{dataId:c.write(ao(I,s.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},LT={kernelName:gi,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:s,filter:i,dy:r}=e,{strides:a,pad:o,dilations:l}=n,c=t,u=os(s.shape,c.data.get(s.dataId).values),h=os(i.shape,c.data.get(i.dataId).values),{batchSize:d,inHeight:p,inWidth:f,inChannels:m,outHeight:g,outWidth:y,padInfo:A,strideHeight:w,strideWidth:b,filterHeight:v,filterWidth:x,dilationHeight:C,dilationWidth:k,outShape:E}=ch(s.shape,i.shape,a,o,"NHWC",l);zn(r.rank===E.length,(()=>`Error in ${gi}, dy must have the same rank as output ${E.length}, but got ${r.rank}`));const S=os(E,c.data.get(r.dataId).values),I=us(s.shape,s.dtype);for(let e=0;e<d;++e)for(let t=0;t<g;++t){const n=t*w-A.top;for(let s=0;s<y;++s){const i=s*b-A.left;for(let r=0;r<m;++r){let a=Number.MIN_SAFE_INTEGER,o=n<0?0:n,l=i<0?0:i;for(let t=0;t<v;++t){const s=n+t*C;if(s>=0&&s<p)for(let n=0;n<x;++n){const c=i+n*k;if(c>=0&&c<f){const i=u[e][s][c][r]+h[t][n][r];i>a&&(a=i,o=s,l=c)}}}I[e][o][l][r]+=S[e][t][s][r]}}}return{dataId:c.write(ao(I,s.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};const zT={kernelName:Ai,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{image:i}=t,{canvas:r,options:a}=s,{contextOptions:o,imageOptions:l}=a||{},c=(null==l?void 0:l.alpha)||1,u=(null==o?void 0:o.contextType)||"2d";if("2d"!==u)throw new Error(`Context type ${o.contextType} is not supported by the CPU backend.`);const h=r.getContext(u,(null==o?void 0:o.contextAttributes)||{});if(null==h)throw new Error(`Could not get the context with ${u} type.`);const[d,p]=i.shape.slice(0,2),f=2===i.shape.length?1:i.shape[2],m=n.data.get(i.dataId).values,g="float32"===i.dtype?255:1,y=new Uint8ClampedArray(p*d*4);for(let e=0;e<d*p;++e){const t=[0,0,0,255*c];for(let n=0;n<f;n++){const s=m[e*f+n];if("float32"===i.dtype){if(s<0||s>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${s}.`)}else if("int32"===i.dtype&&(s<0||s>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${s}.`);1===f?(t[0]=s*g,t[1]=s*g,t[2]=s*g):t[n]=s*g}const n=4*e;y[n+0]=Math.round(t[0]),y[n+1]=Math.round(t[1]),y[n+2]=Math.round(t[2]),y[n+3]=Math.round(t[3])}r.width=p,r.height=d;const A=new ImageData(y,p,d);return h.putImageData(A,0,0),i}},VT=OS(((e,t)=>e*t)),PT=sI(((e,t,n,s)=>({real:e*n-t*s,imag:e*s+t*n}))),WT=nI(fr,VT,PT),GT={kernelName:fr,backendName:"cpu",kernelFunc:WT};function UT(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s;let o;kS(i,"sum"),o="bool"===i.dtype?eI({inputs:{x:i},backend:n,attrs:{dtype:"int32"}}):MS({inputs:{x:i},backend:n});const l=o.shape.length,c=Kn(r,o.shape),u=Cd(c,l);let h=c,d=o;null!=u&&(d=vI({inputs:{x:o},backend:n,attrs:{perm:u}}),h=Ed(h.length,l)),xd("sum",h,d.shape.length);const[p,f]=bd(d.shape,h);let m=QS(n,p,Vo(d.dtype,"int32"));const g=Wn(f),y=n.data.get(m.dataId).values,A=n.data.get(d.dataId).values;for(let e=0;e<y.length;++e){const t=e*g;let n=0;for(let e=0;e<g;++e)n+=A[t+e];y[e]=n}if(a){const e=m;m=lI({inputs:{x:m},backend:n,attrs:{shape:vd(m.shape,c)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(o),null!=u&&n.disposeIntermediateTensorInfo(d),m}const jT={kernelName:ta,backendName:"cpu",kernelFunc:UT};const qT={kernelName:bi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{equation:i}=s,r=t,{allDims:a,summedDims:o,idDims:l}=Xg(i,r.length);Jg(a.length,l,r);const{path:c,steps:u}=ey(o,l),h=u.length;let d=null,p=a.length;const f=[];for(let e=0;e<h;++e){for(const t of u[e]){const{permutationIndices:e,expandDims:s}=$g(p,l[t]);let i;ty(e)?i=r[t]:(i=vI({inputs:{x:r[t]},backend:n,attrs:{perm:e}}),f.push(i));const a=i.shape.slice();for(let e=0;e<s.length;++e)a.splice(s[e],0,1);Gn(i.shape,a)||(i=lI({inputs:{x:i},backend:n,attrs:{shape:a}}),f.push(i)),null===d?d=i:(d=WT({inputs:{a:i,b:d},backend:n}),f.push(d))}e<h-1&&(c[e]>=0&&(d=UT({inputs:{x:d},backend:n,attrs:{axis:c[e]-(a.length-p),keepDims:!1}}),f.push(d)),p--)}for(const e of f)e!==d&&n.disposeIntermediateTensorInfo(e);return d}};const HT={kernelName:xi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:s,y:i}=t;kS([s,i],"eluGrad");const r=new Float32Array(Wn(i.shape)),a=n.data.get(i.dataId).values,o=n.data.get(s.dataId).values;for(let e=0;e<a.length;++e){const t=a[e];r[e]=t>=0?o[e]:o[e]*(t+1)}return n.makeTensorInfo(i.shape,"float32",r)}},YT=OS(((e,t)=>e===t?1:0)),KT=nI(ki,YT,null,"bool"),ZT={kernelName:ki,backendName:"cpu",kernelFunc:KT},QT=Bg,XT=Rg,$T=Fg,JT=Og,e_=Lg,t_=zg,n_=TS(Ci,(e=>{const t=Math.sign(e),n=Math.abs(e),s=1/(1+QT*n);return t*(1-((((t_*s+e_)*s+JT)*s+$T)*s+XT)*s*Math.exp(-n*n))})),s_={kernelName:Ci,backendName:"cpu",kernelFunc:n_},i_=IS((e=>Math.exp(e))),r_=_S(Ei,i_,"float32"),a_={kernelName:Ei,backendName:"cpu",kernelFunc:r_};function o_(e){const{inputs:t,backend:n,attrs:s}=e,{input:i}=t,{dim:r}=s,a=i.shape.length,o=i.shape.slice();let l=r;return r<0&&(zn(-(a+1)<=r,(()=>`Axis must be in the interval [${-(a+1)}, ${a}]`)),l=a+r+1),o.splice(l,0,1),lI({inputs:{x:i},backend:n,attrs:{shape:o}})}const l_={kernelName:Si,backendName:"cpu",kernelFunc:o_},c_=IS((e=>Math.expm1(e))),u_=_S(Ii,c_),h_={kernelName:Ii,backendName:"cpu",kernelFunc:u_},d_=OS(((e,t)=>e/t)),p_=nI(wi,d_),f_={kernelName:wi,backendName:"cpu",kernelFunc:p_},m_=OS(((e,t)=>e-t)),g_=sI(((e,t,n,s)=>({real:e-n,imag:t-s}))),y_=nI(ya,m_,g_),A_={kernelName:ya,backendName:"cpu",kernelFunc:y_};function w_(e,t,n){const s=e.shape,i=s[0],r=s[1],a=n.data.get(e.dataId),o=a.complexTensorInfos.real,l=a.complexTensorInfos.imag,c=[i,r],u=Wn(c),h=Qn("float32",u),d=Qn("float32",u);for(let e=0;e<i;e++){const s=YI({inputs:{x:o},backend:n,attrs:{begin:[e,0],size:[1,r]}}),i=YI({inputs:{x:l},backend:n,attrs:{begin:[e,0],size:[1,r]}}),a=KS({inputs:{real:s,imag:i},backend:n}),{real:c,imag:u}=b_(a,t,n),p=Vg(c,u);for(let t=0;t<r;t++){const n=Ug(p,t);h[e*r+t]=n.real,d[e*r+t]=n.imag}n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a)}const p=n.makeTensorInfo(c,"float32",h),f=n.makeTensorInfo(c,"float32",d),m=KS({inputs:{real:p,imag:f},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}function b_(e,t,n){const s=Wn(e.shape),i=n.data.get(e.dataId),r=n.data.get(i.complexTensorInfos.real.dataId).values,a=n.data.get(i.complexTensorInfos.imag.dataId).values;if((o=s)&o-1){const e=function(e,t,n){const s=new Float32Array(2*t);for(let i=0;i<t;i++){let r=0,a=0;for(let s=0;s<t;s++){const o=Hg(i*s,t,n),l=Ug(e,s);r+=l.real*o.real-l.imag*o.imag,a+=l.real*o.imag+l.imag*o.real}n&&(r/=t,a/=t),jg(s,r,a,i)}return s}(Vg(r,a),s,t);return Pg(e)}{const i=v_(r,a,s,t,n),o=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(o,"float32",i.real),t=n.makeTensorInfo(o,"float32",i.imag),r=n.makeTensorInfo([],"float32",ro(s,"float32")),a=MS({inputs:{x:r},backend:n}),l=f_.kernelFunc({inputs:{a:e,b:r},backend:n}),c=f_.kernelFunc({inputs:{a:t,b:a},backend:n}),u=n.data.get(l.dataId).values,h=n.data.get(c.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),{real:u,imag:h}}return i}var o}function v_(e,t,n,s,i){if(1===n)return{real:e,imag:t};const r=Vg(e,t),a=n/2,o=Wg(r),l=o.real,c=o.imag,u=[l.length],h=i.makeTensorInfo(u,"float32",l),d=i.makeTensorInfo(u,"float32",c),p=KS({inputs:{real:h,imag:d},backend:i}),f=Gg(r),m=f.real,g=f.imag,y=[m.length],A=i.makeTensorInfo(y,"float32",m),w=i.makeTensorInfo(y,"float32",g),b=KS({inputs:{real:A,imag:w},backend:i}),v=v_(l,c,a,s,i),x=v.real,C=v.imag,k=[x.length],E=i.makeTensorInfo(k,"float32",x),S=i.makeTensorInfo(k,"float32",C),I=KS({inputs:{real:E,imag:S},backend:i}),T=v_(m,g,a,s,i),_=T.real,N=T.imag,D=[_.length],M=i.makeTensorInfo(D,"float32",_),B=i.makeTensorInfo(D,"float32",N),R=KS({inputs:{real:M,imag:B},backend:i}),F=qg(n,s),O=[F.real.length],L=i.makeTensorInfo(O,"float32",F.real),z=i.makeTensorInfo(O,"float32",F.imag),V=KS({inputs:{real:L,imag:z},backend:i}),P=WT({inputs:{a:V,b:R},backend:i}),W=aI({inputs:{a:I,b:P},backend:i}),G=y_({inputs:{a:I,b:P},backend:i}),U=XS({inputs:{input:W},backend:i}),j=XS({inputs:{input:G},backend:i}),q=uT({inputs:{input:W},backend:i}),H=uT({inputs:{input:G},backend:i}),Y=dT({inputs:[U,j],backend:i,attrs:{axis:0}}),K=dT({inputs:[q,H],backend:i,attrs:{axis:0}}),Z=i.data.get(Y.dataId).values,Q=i.data.get(K.dataId).values;return i.disposeIntermediateTensorInfo(h),i.disposeIntermediateTensorInfo(d),i.disposeIntermediateTensorInfo(p),i.disposeIntermediateTensorInfo(A),i.disposeIntermediateTensorInfo(w),i.disposeIntermediateTensorInfo(b),i.disposeIntermediateTensorInfo(E),i.disposeIntermediateTensorInfo(S),i.disposeIntermediateTensorInfo(I),i.disposeIntermediateTensorInfo(M),i.disposeIntermediateTensorInfo(B),i.disposeIntermediateTensorInfo(R),i.disposeIntermediateTensorInfo(L),i.disposeIntermediateTensorInfo(z),i.disposeIntermediateTensorInfo(V),i.disposeIntermediateTensorInfo(P),i.disposeIntermediateTensorInfo(W),i.disposeIntermediateTensorInfo(G),i.disposeIntermediateTensorInfo(U),i.disposeIntermediateTensorInfo(q),i.disposeIntermediateTensorInfo(j),i.disposeIntermediateTensorInfo(H),i.disposeIntermediateTensorInfo(Y),i.disposeIntermediateTensorInfo(K),{real:Z,imag:Q}}const x_={kernelName:Ti,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:s}=t,i=Wn(s.shape),r=s.shape[s.shape.length-1],a=lI({inputs:{x:s},backend:n,attrs:{shape:[i/r,r]}}),o=w_(a,!1,n),l=lI({inputs:{x:o},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}};function C_(e){const{backend:t,attrs:n}=e,{shape:s,value:i,dtype:r}=n,a=r||ns(i),o=Xn(a,Wn(s));return function(e,t){e.fill(t)}(o,i),t.makeTensorInfo(s,a,o)}const k_={kernelName:_i,backendName:"cpu",kernelFunc:C_};const E_={kernelName:Ni,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:s}=e,i=n,r=Qn(s.dtype,Wn(s.shape)),[a,o,l,c]=s.shape,u=i.data.get(s.dataId).values;for(let e=0;e<a;e++){const t=e*l*o*c;for(let e=0;e<o;e++){const n=e*(l*c);for(let e=0;e<l;e++){const s=e*c;for(let i=0;i<c;i++){const a=Math.round(l-e-1),o=t+n+s+i;let h=u[o];if(a>=0&&a<l){h=u[t+n+a*c+i]}r[o]=h}}}}return{dataId:i.write(r,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},S_=IS((e=>Math.floor(e))),I_=_S(Di,S_),T_={kernelName:Di,backendName:"cpu",kernelFunc:I_},__=OS(((e,t)=>Math.floor(e/t))),N_=nI(Mi,__,null,"int32"),D_={kernelName:Mi,backendName:"cpu",kernelFunc:N_};const M_={kernelName:Ma,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r,bias:a,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=s;let m=fT({inputs:{x:i,filter:r},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d}});if(a){const e=m;if("NCHW"===u&&1===a.shape.length&&1!==a.shape[0]){const e=lI({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});m=aI({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=aI({inputs:{a:m,b:a},backend:n});n.disposeIntermediateTensorInfo(e)}if(p){const e=m;if("NCHW"===u&&"prelu"===p&&1===o.shape.length&&1!==o.shape[0]){const e=lI({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=YS(n,m,p,e,f),n.disposeIntermediateTensorInfo(e)}else m=YS(n,m,p,o,f);n.disposeIntermediateTensorInfo(e)}return m}};const B_={kernelName:Ba,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r,bias:a,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=s;let m=NT({inputs:{x:i,filter:r},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d}});if(a){const e=m;m=aI({inputs:{a:m,b:a},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=m;m=YS(n,m,p,o,f),n.disposeIntermediateTensorInfo(e)}return m}};function R_(e,t,n,s,i,r,a,o,l){const c=kc([s,r],n);for(let n=0;n<s;n++){const s=[];let u=0;for(let t=0;t<i;t++){const r=e[n*i+t];u+=r*a[t],s.push(r)}if(u<0||u>=l/r)throw new Error(`Invalid indices: ${s} does not index into ${o}`);for(let e=0;e<r;e++)c.values[n*r+e]=t.get(...t.indexToLoc(u*r+e))}return c}const F_={kernelName:Fi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:s,indices:i}=t,r=Wn(s.shape),a=i.shape,o=a[a.length-1],[l,c,u,h]=Ng(s,i);if(0===c)return n.makeTensorInfo(l,s.dtype,[]);const d=R_(n.data.get(i.dataId).values,n.bufferSync(s),s.dtype,c,o,u,h,s.shape,r);return n.makeTensorInfo(l,s.dtype,d.values)}};function O_(e,t,n){const s=kc(n,e.dtype);for(let n=0;n<s.size;++n){const i=s.indexToLoc(n).slice(),r=i[0],a=i[2],o=t.locToIndex([r,a]);i[2]=t.values[o];const l=e.locToIndex(i);0<=l&&l<e.values.length&&(s.values[n]=e.values[l])}return s}const L_={kernelName:Ri,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,indices:r}=t,{axis:a,batchDims:o}=s;kS([i,r],"gatherV2");const l=Kn(a,i.shape)[0],c=n.data.get(r.dataId).values,u=i.shape[l];for(let e=0;e<c.length;++e){const t=c[e];zn(t<=u-1&&t>=0,(()=>`GatherV2: the index value ${t} is not in [0, ${u-1}]`))}let h=o;null==o&&(h=0);const d=Wn(r.shape),p=Ay(i,r,l,h),f=lI({inputs:{x:i},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),m=lI({inputs:{x:r},backend:n,attrs:{shape:[p.batchSize,d/p.batchSize]}}),g=[p.batchSize,p.outerSize,d/p.batchSize,p.sliceSize],y=n.bufferSync(m),A=O_(n.bufferSync(f),y,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(p.outputShape,A.dtype,A.values)}},z_=OS(((e,t)=>e>t?1:0)),V_=nI(Oi,z_,null,"bool"),P_={kernelName:Oi,backendName:"cpu",kernelFunc:V_},W_=OS(((e,t)=>e>=t?1:0)),G_=nI(Li,W_,null,"bool"),U_={kernelName:Li,backendName:"cpu",kernelFunc:G_};const j_={kernelName:Vi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:s}=t,i=Wn(s.shape),r=s.shape[s.shape.length-1],a=lI({inputs:{x:s},backend:n,attrs:{shape:[i/r,r]}}),o=w_(a,!0,n),l=lI({inputs:{x:o},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),l}},q_=TS(Wi,(e=>Number.isFinite(e)?1:0),"bool"),H_={kernelName:Wi,backendName:"cpu",kernelFunc:q_},Y_=TS(Gi,(e=>Math.abs(e)===1/0?1:0),"bool"),K_={kernelName:Gi,backendName:"cpu",kernelFunc:Y_},Z_=TS(Ui,(e=>Number.isNaN(e)?1:0),"bool"),Q_={kernelName:Ui,backendName:"cpu",kernelFunc:Z_},X_=OS(((e,t)=>e<t?1:0)),$_=nI(qi,X_,null,"bool"),J_={kernelName:qi,backendName:"cpu",kernelFunc:$_},eN=OS(((e,t)=>e<=t?1:0)),tN=nI(Hi,eN,null,"bool"),nN={kernelName:Hi,backendName:"cpu",kernelFunc:tN};function sN(e,t,n){const s=(t-e)/(n-1),i=cs(n,"float32");i[0]=e;for(let e=1;e<i.length;e++)i[e]=i[e-1]+s;return i}const iN={kernelName:Yi,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:s,stop:i,num:r}=n,a=sN(s,i,r);return t.makeTensorInfo([a.length],"float32",a)}},rN=IS((e=>Math.log(e))),aN=_S(Ki,rN),oN={kernelName:Ki,backendName:"cpu",kernelFunc:aN},lN=TS(Zi,(e=>Math.log1p(e))),cN={kernelName:Zi,backendName:"cpu",kernelFunc:lN},uN=OS(((e,t)=>e&&t)),hN=nI(Qi,uN,null,"bool"),dN={kernelName:Qi,backendName:"cpu",kernelFunc:hN},pN=TS(Xi,(e=>e?0:1),"bool"),fN={kernelName:Xi,backendName:"cpu",kernelFunc:pN},mN=OS(((e,t)=>e||t)),gN=nI($i,mN,null,"bool"),yN={kernelName:$i,backendName:"cpu",kernelFunc:gN};const AN={kernelName:Ji,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{depthRadius:r,bias:a,alpha:o,beta:l}=s;kS(i,"LRN");const c=i.shape[3],u=c-1,h=n.data.get(i.dataId).values,d=Wn(i.shape),p=new Float32Array(d);function f(e){const t=e%c;let n=e-t+Math.max(0,t-r);const s=e-t+Math.min(t+r,u);let i=0;for(;n<=s;n++){const e=h[n];i+=e*e}return i}for(let e=0;e<d;e++){const t=f(e),n=h[e]*Math.pow(a+o*t,-l);p[e]=n}return n.makeTensorInfo(i.shape,i.dtype,p)}};const wN={kernelName:er,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,y:r,dy:a}=t,{depthRadius:o,bias:l,alpha:c,beta:u}=s;kS(a,"LRNGrad");const h=Wn(a.shape),d=a.shape[3],p=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,m=n.data.get(r.dataId).values,g=new Float32Array(h),y=h;for(let e=0;e<y;e++){const t=e%d,n=e-t+Math.max(0,t-o),s=e-t+Math.min(d,t+o+1);let i=0;for(let e=n;e<s;e++)i+=Math.pow(f[e],2);i=c*i+l;for(let t=n;t<s;t++){let n=-2*c*u*f[t]*m[e]/i;e===t&&(n+=Math.pow(i,-u)),n*=p[e],g[t]+=n}}return n.makeTensorInfo(a.shape,i.dtype,g)}};function bN(e,t,n,s){const i=Qn(s,Wn(n));for(let n=0;n<i.length;++n){const s=n*t;let r=e[s];for(let n=0;n<t;++n){const t=e[s+n];(Number.isNaN(t)||t>r)&&(r=t)}i[n]=r}return i}function vN(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{reductionIndices:r,keepDims:a}=s,o=n;let l=i.shape;const c=l.length,u=Kn(r,l);let h=u;const d=Cd(h,c);let p=o.data.get(i.dataId).values;if(null!=d){const e=new Array(c);for(let t=0;t<e.length;t++)e[t]=l[d[t]];p=bI(p,l,i.dtype,d,e),h=Ed(h.length,c),l=e}kS(i,"max"),xd("max",h,c);const[f,m]=bd(l,h),g=bN(p,Wn(m),f,i.dtype),y=o.write(g,f,i.dtype);let A=f;if(a){A=vd(f,u)}return{dataId:y,shape:A,dtype:i.dtype}}const xN={kernelName:tr,backendName:"cpu",kernelFunc:vN},CN=OS(((e,t)=>Math.max(e,t))),kN=nI(nr,CN),EN={kernelName:nr,backendName:"cpu",kernelFunc:kN};const SN={kernelName:sr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t;kS(i,"maxPool");const{filterSize:r,strides:a,pad:o,dimRoundingMode:l}=s;zn(bh(a,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const c=uh(i.shape,r,a,1,o,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&Gn(c.inShape,c.outShape))u=MS({inputs:{x:i},backend:n});else{const e=n.data.get(i.dataId).values,t=rs(i.shape),s=zI(e,i.shape,i.dtype,t,c,"max");u=n.makeTensorInfo(c.outShape,i.dtype,s.values)}return u}};const IN={kernelName:rr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{filterSize:r,strides:a,pad:o,dimRoundingMode:l,dataFormat:c}=s;kS(i,"maxPool3d");const u=hh(i.shape,r,a,1,o,l,c),h=PI(n.data.get(i.dataId).values,i.shape,i.dtype,rs(i.shape),u,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}};const TN={kernelName:ar,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,input:r}=t,{filterSize:a,strides:o,pad:l,dimRoundingMode:c}=s;kS([i,r],"maxPool3DGrad");const u=hh(r.shape,a,o,1,l,c),h=function(e,t){const n=kc(t.outShape,"int32"),s=t.strideDepth,i=t.strideHeight,r=t.strideWidth,a=t.dilationDepth,o=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,u=t.effectiveFilterHeight,h=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const A=y*s-d;let w=A;for(;w<0;)w+=a;const b=Math.min(t.inDepth,c+A);for(let s=0;s<t.outHeight;++s){const c=s*i-p;let d=c;for(;d<0;)d+=o;const v=Math.min(t.inHeight,u+c);for(let i=0;i<t.outWidth;++i){const p=i*r-f;let x=p;for(;x<0;)x+=l;const C=Math.min(t.inWidth,h+p);let k=Number.NEGATIVE_INFINITY,E=-1;for(let t=w;t<b;t+=a){const n=t-A;for(let s=d;s<v;s+=o){const i=s-c;for(let r=x;r<C;r+=l){const a=r-p,o=e.get(m,t,s,r,g);o>=k&&(k=o,E=n*u*h+i*u+a)}}}n.set(E,m,y,s,i,g)}}}return n}(n.bufferSync(r),u),d=u.strideDepth,p=u.strideHeight,f=u.strideWidth,m=u.dilationDepth,g=u.dilationHeight,y=u.dilationWidth,A=u.effectiveFilterDepth,w=u.effectiveFilterHeight,b=u.effectiveFilterWidth,v=A-1-u.padInfo.front,x=b-1-u.padInfo.left,C=w-1-u.padInfo.top,k=kc(r.shape,"float32"),E=n.bufferSync(i);for(let e=0;e<u.batchSize;++e)for(let t=0;t<u.inChannels;++t)for(let n=0;n<u.inDepth;++n)for(let s=0;s<u.inHeight;++s)for(let i=0;i<u.inWidth;++i){const r=n-v,a=s-C,o=i-x;let l=0;for(let n=0;n<A;n+=m){const s=(r+n)/d;if(!(s<0||s>=u.outDepth||Math.floor(s)!==s))for(let i=0;i<w;i+=g){const r=(a+i)/p;if(!(r<0||r>=u.outHeight||Math.floor(r)!==r))for(let a=0;a<b;a+=y){const c=(o+a)/f;if(c<0||c>=u.outWidth||Math.floor(c)!==c)continue;const d=A*w*b-1-h.get(e,s,r,c,t)===n*w*b+i*b+a?1:0;if(0===d)continue;l+=E.get(e,s,r,c,t)*d}}}k.set(l,e,n,s,i,t)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};const _N={kernelName:ir,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,input:r,output:a}=t,o=r;kS([r,a],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:h}=s,d=uh(o.shape,l,c,1,u,h),p=n.data.get(o.dataId).values,f=kc(d.outShape,o.dtype,VI(p,o.shape,o.dtype,d).values),m=d.strideHeight,g=d.strideWidth,y=d.dilationHeight,A=d.dilationWidth,w=d.effectiveFilterHeight,b=d.effectiveFilterWidth,v=b-1-d.padInfo.left,x=w-1-d.padInfo.top,C=kc(o.shape,"float32"),k=n.data.get(i.dataId).values,E=kc(i.shape,"float32",k);for(let e=0;e<d.batchSize;++e)for(let t=0;t<d.inChannels;++t)for(let n=0;n<d.inHeight;++n)for(let s=0;s<d.inWidth;++s){const i=n-x,r=s-v;let a=0;for(let n=0;n<w;n+=y){const s=(i+n)/m;if(!(s<0||s>=d.outHeight||Math.floor(s)!==s))for(let i=0;i<b;i+=A){const o=(r+i)/g;if(o<0||o>=d.outWidth||Math.floor(o)!==o)continue;const l=w*b-1-f.get(e,s,o,t)===n*b+i?1:0;if(0===l)continue;a+=E.get(e,s,o,t)*l}}C.set(a,e,n,s,t)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};const NN={kernelName:or,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:s}=e,{filterSize:i,strides:r,pad:a,includeBatchInIndex:o}=t,l=n;kS(s,"MaxPoolWithArgmax");const c=l.data.get(s.dataId).values,u=uh(s.shape,i,r,[1,1],a),[h,d]=function(e,t,n,s,i){const r=zI(e,0,n,rs(t),i,"max"),a=VI(e,t,n,i,!0,s);return[r.values,a.values]}(c,s.shape,s.dtype,o,u),p=l.write(h,u.outShape,s.dtype),f=l.write(d,u.outShape,s.dtype);return[{dataId:p,shape:u.outShape,dtype:s.dtype},{dataId:f,shape:u.outShape,dtype:"int32"}]}};const DN={kernelName:lr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s,o=Kn(r,i.shape),l=Wn(bd(i.shape,o)[1]),c=[],u=n.makeTensorInfo([],"float32",new Float32Array([l]));c.push(u);const h=eI({inputs:{x:i},backend:n,attrs:{dtype:"float32"}});c.push(h);const d=p_({inputs:{a:h,b:u},backend:n});c.push(d);const p=UT({inputs:{x:d},backend:n,attrs:{axis:r,keepDims:a}});return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const MN={kernelName:cr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s;kS(i,"min");const o=Kn(r,i.shape);let l=o;const c=Cd(l,i.shape.length);let u=i;null!=c&&(u=vI({inputs:{x:i},backend:n,attrs:{perm:c}}),l=Ed(l.length,i.shape.length)),xd("min",l,u.shape.length);const[h,d]=bd(u.shape,l),p=Wn(d),f=cs(Wn(h),u.dtype),m=n.data.get(u.dataId).values;for(let e=0;e<f.length;++e){const t=e*p;let n=m[t];for(let e=0;e<p;++e){const s=m[t+e];(Number.isNaN(s)||s<n)&&(n=s)}f[e]=n}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(h,u.dtype,f);if(a){const e=lI({inputs:{x:g},backend:n,attrs:{shape:vd(h,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}},BN=OS(((e,t)=>Math.min(e,t))),RN=nI(ur,BN),FN={kernelName:ur,backendName:"cpu",kernelFunc:RN};const ON={kernelName:hr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{paddings:r,mode:a}=s;kS(i,"mirrorPad");const o=r.map(((e,t)=>e[0]+i.shape[t]+e[1])),l=r.map((e=>e[0])),c=r.map(((e,t)=>e[0]+i.shape[t])),u="reflect"===a?0:1,h=n.data.get(i.dataId).values,d=i.shape.length,p=rs(i.shape),f=Wn(o),m=o.length,g=rs(o),y=Qn(i.dtype,f);for(let e=0;e<f;e++){let t=ps(e,m,g);for(let e=0;e<m;e++)t[e]<l[e]?t[e]=2*l[e]-t[e]-u:t[e]>=c[e]&&(t[e]=2*(c[e]-1)-t[e]+u);t=t.map(((e,t)=>e-l[t]));const n=ds(t,d,p);y[e]=h[n]}return{dataId:n.write(y,o,i.dtype),shape:o,dtype:i.dtype}}},LN=OS(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),zN=nI(dr,LN),VN={kernelName:dr,backendName:"cpu",kernelFunc:zN};function PN(e){const{inputs:t,backend:n,attrs:s}=e,{logits:i}=t,{dim:r}=s,a=i.shape.length;let o=r;if(-1===o&&(o=a-1),o!==a-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a} and dim was ${o}`);const l=Kn([o],i.shape),c=vN({inputs:{x:i},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=vd(c.shape,l),h=lI({inputs:{x:c},backend:n,attrs:{shape:u}}),d=y_({inputs:{a:i,b:h},backend:n}),p=r_({inputs:{x:d},backend:n}),f=UT({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),m=lI({inputs:{x:f},backend:n,attrs:{shape:u}}),g=p_({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const WN={kernelName:ia,backendName:"cpu",kernelFunc:PN};const GN={kernelName:pr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{logits:i}=t,{numSamples:r,seed:a,normalized:o}=s;kS(i,"multinomial");const l=o?i:PN({inputs:{logits:i},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],h=n.data.get(l.dataId).values,d=[c,r],p=cs(Wn(d),"int32");for(let e=0;e<c;++e){const t=e*u,n=new Float32Array(u-1);n[0]=h[t];for(let e=1;e<n.length;++e)n[e]=n[e-1]+h[t+e];const s=Pp.alea(a.toString()),i=e*r;for(let e=0;e<r;++e){const t=s();p[i+e]=n.length;for(let s=0;s<n.length;s++)if(t<n[s]){p[i+e]=s;break}}}return o||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",p)}};function UN(e,t,n){const s=ro(-1,n);return VT([],t,s,e,n)}const jN={kernelName:mr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t;kS(s,"neg");const i=n.data.get(s.dataId).values,[r,a]=UN(i,s.shape,s.dtype);return n.makeTensorInfo(a,s.dtype,r)}},qN=Im;const HN={kernelName:yr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{boxes:i,scores:r}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l}=s;kS(i,"NonMaxSuppression");const c=n.data.get(i.dataId).values,u=n.data.get(r.dataId).values,{selectedIndices:h}=qN(c,u,a,o,l);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}},YN=Tm;const KN={kernelName:Ar,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{boxes:i,scores:r}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=s;kS(i,"NonMaxSuppressionPadded");const u=n.data.get(i.dataId).values,h=n.data.get(r.dataId).values,{selectedIndices:d,validOutputs:p}=YN(u,h,a,o,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},ZN=_m;const QN={kernelName:wr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{boxes:i,scores:r}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=s;kS(i,"NonMaxSuppressionWithScore");const u=n.data.get(i.dataId).values,h=n.data.get(r.dataId).values,d=a,p=o,f=l,m=c,{selectedIndices:g,selectedScores:y}=ZN(u,h,d,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}},XN=OS(((e,t)=>e!==t?1:0)),$N=nI(gr,XN,null,"bool"),JN={kernelName:gr,backendName:"cpu",kernelFunc:$N};const eD={kernelName:vr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{indices:i}=t,{dtype:r,depth:a,onValue:o,offValue:l}=s;kS(i,"oneHot");const c=Wn(i.shape),u=new Float32Array(c*a);u.fill(l);const h=n.data.get(i.dataId).values;for(let e=0;e<c;++e)h[e]>=0&&h[e]<a&&(u[e*a+h[e]]=o);return n.makeTensorInfo([...i.shape,a],r,u)}};function tD(e){const{inputs:t,backend:n}=e,{x:s}=t;if("string"===s.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===s.dtype){const e=XS({inputs:{input:s},backend:n}),t=tD({inputs:{x:e},backend:n}),i=uT({inputs:{input:s},backend:n}),r=tD({inputs:{x:i},backend:n}),a=KS({inputs:{real:t,imag:r},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(r),a}return C_({backend:n,attrs:{shape:s.shape,value:0,dtype:s.dtype}})}const nD={kernelName:Ia,backendName:"cpu",kernelFunc:tD};const sD={kernelName:br,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:s}=t,{x:i}=n;if("string"===i.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===i.dtype){const t=XS({inputs:{input:i},backend:s}),n=e({inputs:{x:t},backend:s}),r=uT({inputs:{input:i},backend:s}),a=tD({inputs:{x:r},backend:s}),o=KS({inputs:{real:n,imag:a},backend:s});return s.disposeIntermediateTensorInfo(t),s.disposeIntermediateTensorInfo(n),s.disposeIntermediateTensorInfo(r),s.disposeIntermediateTensorInfo(a),o}return C_({backend:s,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}};function iD(e){const{inputs:t,backend:n,attrs:s}=e,{axis:i}=s;if(1===t.length)return o_({inputs:{input:t[0]},backend:n,attrs:{dim:i}});const r=t[0].shape,a=t[0].dtype;t.forEach((e=>{Vn(r,e.shape,"All tensors passed to stack must have matching shapes"),zn(a===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],l=dT({inputs:t.map((e=>{const t=o_({inputs:{input:e},backend:n,attrs:{dim:i}});return o.push(t),t})),backend:n,attrs:{axis:i}});return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}const rD={kernelName:xr,backendName:"cpu",kernelFunc:iD};const aD={kernelName:Cr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{paddings:r,constantValue:a}=s;kS(i,"pad");const o=r.map(((e,t)=>e[0]+i.shape[t]+e[1])),l=r.map((e=>e[0])),c=n.data.get(i.dataId).values,u=Wn(i.shape),h=i.shape.length,d=rs(i.shape),p=Wn(o),f=o.length,m=rs(o),g=Qn(i.dtype,p);0!==a&&g.fill(a);for(let e=0;e<u;e++){g[ds(ps(e,h,d).map(((e,t)=>e+l[t])),f,m)]=c[e]}return{dataId:n.write(g,o,i.dtype),shape:o,dtype:i.dtype}}},oD=OS(((e,t)=>Math.pow(e,t))),lD=nI(kr,oD),cD={kernelName:kr,backendName:"cpu",kernelFunc:lD};function uD(e,t,n,s){const[i,r]=bd(e,s),a=Vo(t,"int32"),o=cs(Wn(i),a),l=Wn(r);for(let e=0;e<o.length;++e){const t=e*l;let s=1;for(let e=0;e<l;++e)s*=n[t+e];o[e]=s}return{outVals:o,outShape:i,outDtype:a}}const hD={kernelName:Sr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s;kS(i,"prod");const o=i.shape.length,l=Kn(r,i.shape),c=Cd(l,o);let u=l,h=i;const d=[];null!=c&&(h=vI({inputs:{x:i},backend:n,attrs:{perm:c}}),d.push(h),u=Ed(u.length,o));const p=n.data.get(h.dataId).values,{outVals:f,outShape:m,outDtype:g}=uD(h.shape,h.dtype,p,u);let y=m;return a&&(y=vd(m,l)),d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(y,g,f)}};function dD(e,t,n,s){const i=[];let r=0;const a=t.length-1+n.length,o=new Array(a).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const s=e[n],i=n===e.length-1?t:e[n+1].length;if(0===s.length)throw new Error("Ragged splits may not be empty");if(s[0]<0)throw new Error("Ragged splits must be non-negative");if(s[s.length-1]>i)throw new Error("Ragged splits must not point past values");for(let e=1;e<s.length;++e)if(s[e-1]>s[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,s);let l=1;for(let e=0;e<t.length-1;++e){l*=t[e];const n=t[e+1];for(let t=1;t<l+1;++t)o[e].push(t*n)}for(let s=0;s<e.length;++s){let a=e[s],l=e[s]+1;for(let e=0;e<n.length;++e){const s=n[e],i=e+t.length-1;if(i>=0){const e=o[i],t=e[e.length-1]-s[a];for(let e=a;e<l;++e)o[i].push(s[e+1]+t)}a=s[a],l=s[l]}l!==a&&(i.push([a,l]),r+=l-a)}return{outSplits:o,valueSlices:i,numValues:r}}function pD(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let s=t;s<e.length;s++)n[t-1]*=e[s];return n}function fD(e,t,n,s,i){const r=t.slice();r[0]=i;const a=Xn(n,Wn(r)),o=e.length;return function(e,t,n,s,i,r){const a=pD(t,2)[1],o=pD(r,2)[1];let l=0;for(const t of n)for(let n=t[0];n<t[1];++n){for(let t=0;t<s;++t)i[l*o+t]=e[n*a+t];++l}}(e,t,s,0===o?0:o/t[0],a,r),[a,r]}function mD(e,t,n,s,i,r,a,o){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,s)=>{if(e<0||e>=n){const i=ps(s,t.length,rs(t)).join(",");throw new Error(`indices[${i}] = ${e} is not in [0, ${n})`)}}))}(r,a,t[0][0]-1),0===s.length)throw new Error("params.rank must be nonzero");const l=s[0],{outSplits:c,valueSlices:u,numValues:h}=dD(r,a,e,l),d=function(e){const t=[];for(let n=0;n<e.length;++n){const s=Xn("int32",e[n].length);t.push(s),e[n].forEach(((e,t)=>s[t]=e))}return t}(c),p=fD(n,s,i,u,h);return[d,p[0],p[1]]}const gD={kernelName:Ir,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{paramsNestedSplits:i,paramsDenseValues:r,indices:a}=t,{outputRaggedRank:o}=s,l=i.map((e=>n.data.get(e.dataId).values)),c=i.map((e=>e.shape)),u=n.data.get(r.dataId).values,h=n.data.get(a.dataId).values,[d,p,f]=mD(l,c,u,r.shape,r.dtype,h,a.shape),m=d.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,r.dtype,p);return m.concat([g])}},yD=2147483647;function AD(e,t,n,s,i,r,a){if(t.length>1)throw new Error("starts must be a scalar or vector");if(i.length>1)throw new Error("limits must be a scalar or vector");if(a.length>1)throw new Error("deltas must be a scalar or vector");const o=0===t.length,l=0===i.length,c=0===a.length,u=[];o||u.push(t[0]),l||u.push(i[0]),c||u.push(a[0]);for(let e=1;e<u.length;++e)if(u[e]!==u[e-1])throw new Error("starts, limits, and deltas must have the same shape");const h=0===u.length?1:u[0],d=Xn("int32",h+1);d[0]=0;for(let t=0;t<h;++t){const n=o?e[0]:e[t],i=l?s[0]:s[t],a=c?r[0]:r[t];if(0===a)throw new Error("Requires delta != 0");let u;if(a>0&&i<n||a<0&&i>n)u=0;else if(u=Math.ceil(Math.abs((i-n)/a)),u>yD)throw new Error(`Requires ((limit - start) / delta) <= ${yD}`);d[t+1]=d[t]+u}const p=Xn(n,d[h]);let f=0;for(let t=0;t<h;++t){const n=d[t+1]-d[t];let s=o?e[0]:e[t];const i=c?r[0]:r[t];for(let e=0;e<n;++e)p[f++]=s,s+=i}return[d,p]}const wD={kernelName:Tr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:s,limits:i,deltas:r}=t,a=n.data.get(s.dataId).values,o=n.data.get(i.dataId).values,l=n.data.get(r.dataId).values,[c,u]=AD(a,s.shape,s.dtype,o,i.shape,l,r.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],s.dtype,u)]}};var bD=gg;class vD{constructor(e,t,n,s,i,r,a,o,l,c){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=s,this.valuesDType=i,this.defaultValue=r,this.defaultValueShape=a,this.rowPartitionValues=o,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=wg(c),this.raggedRank=bg(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===bD.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===bD.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case bD.VALUE_ROWIDS:return vD.getMaxWidthValueRowID(t);case bD.ROW_SPLITS:return vD.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${bD[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let s=0;s<t-1;++s){const t=e[s+1]-e[s];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,s=e[0],i=0;for(let r=1;r<t;++r){const t=e[r];t!==s&&(s=t,i=Math.max(r-n,i),n=r)}return Math.max(t-n,i)}tensorShapeFromTensor(e,t,n=!0){if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return CD(e,n)}calculateOutputSize(e){const t=this.valuesShape;vg(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),s=Ag(this.raggedRank,n,t);s[0]<0&&(s[0]=e);for(let e=1;e<=this.raggedRank;++e)s[e]<0&&(s[e]=this.getMaxWidth(e));return s}calculateFirstParentOutputIndex(e,t,n){const s=Math.min(e,n),i=[];let r=0;for(let e=0;e<s;++e,r+=t)i.push(r);for(let t=s;t<e;++t)i.push(-1);return zn(i.length===e,(()=>"Final length of result must be equal to firstDimension.")),i}calculateOutputIndexRowSplit(e,t,n,s){const i=e.length,r=[];for(let a=0;a<i-1;++a){const i=e[a+1]-e[a];let o=Math.min(s,i),l=t[a];-1===l&&(o=0);for(let e=0;e<o;++e)r.push(l),l+=n;for(let e=0;e<i-o;++e)r.push(-1)}if(i>0&&r.length!==e[i-1])throw new Error("Invalid row split size.");return r}calculateOutputIndexValueRowID(e,t,n,s){const i=e.length,r=[];if(0===i)return[];let a=0,o=e[0];if(o>=t.length)throw new Error(`Got currentValueRowId=${o}, which is not less than ${t.length}`);let l=t[o];r.push(l);for(let c=1;c<i;++c){const i=e[c];if(i===o)l>=0&&(++a,a<s?l+=n:l=-1);else{if(a=0,o=i,i>=t.length)throw new Error(`Got nextValueRowId=${i} which is not less than ${t.length}`);l=t[i]}r.push(l)}if(r.length!==e.length)throw new Error("Invalid row ids.");return r}calculateOutputIndex(e,t,n,s){const i=this.getRowPartitionTensor(e),r=this.getRowPartitionTypeByDimension(e);switch(r){case bD.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,t,n,s);case bD.ROW_SPLITS:if(i.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(i,t,n,s);default:throw new Error(`Unsupported partition type: ${bD[r]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case bD.FIRST_DIM_SIZE:return e[0];case bD.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case bD.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${bD[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let e=n.length-2;e>=0;--e)n[e]=n[e+1]*t[e+1];const s=CD(t,!1),i=Xn(this.valuesDType,Wn(s));if(n[0]*t[0]>0){let r=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){r=this.calculateOutputIndex(e-1,r,n[e],t[e])}this.setOutput(this.raggedRank,r,i,s)}return[s,i]}setOutput(e,t,n,s){if(0===n.length)return;const i=this.values,r=n;let a=s.slice();a=a.slice(e+1);const o=Wn(a),l=t.length;let c=this.defaultValue;if(c.length!==o&&1!==c.length){const e=this.defaultValueShape;yl((()=>{const t=kh(c,e),n=Wh(t,a);c=n.dataSync()}))}let u=0,h=0,d=0;for(let e=0;e<=l;++e){let s=e<l?t[e]:-1;if(s!==d){if(h<d){const e=i.subarray(u*o);xD(r.subarray(h*o),e,(d-h)*o)}if(e>=l){const e=n.length;s=Math.floor(e/o)}if(s>d)if(1===this.defaultValue.length)r.subarray(d*o,s*o).fill(this.defaultValue[0]),d=s;else for(;s>d;){xD(r.slice(d*o),c,o),++d}s<0?(u=e+1,h=d):(u=e,h=d,d=h+1)}else++d}}}function xD(e,t,n){for(let s=0;s<n;s++)e[s]=t[s]}function CD(e,t){const n=[];for(let s of e){if(s<0){if(!t)throw new Error(`Dimension ${s} must be >= 0`);if(s<-1)throw new Error(`Dimension ${s} must be >= -1`);s=-1}n.push(s)}return n}function kD(e,t,n,s,i,r,a,o,l,c){return new vD(e,t,n,s,i,r,a,o,l,c).compute()}const ED={kernelName:_r,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{shape:i,values:r,defaultValue:a,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=s,c=n.data.get(i.dataId).values,u=n.data.get(r.dataId).values,h=n.data.get(a.dataId).values,d=o.map((e=>n.data.get(e.dataId).values)),p=o.map((e=>e.shape)),[f,m]=kD(c,i.shape,u,r.shape,r.dtype,h,a.shape,d,p,l);return n.makeTensorInfo(f,r.dtype,m)}};function SD(e,t,n,s){if(e===t||e<t&&n<0||t<e&&n>1)return cs(0,s);const i=cs(Math.abs(Math.ceil((t-e)/n)),s);t<e&&1===n&&(n=-1),i[0]=e;for(let e=1;e<i.length;e++)i[e]=i[e-1]+n;return i}const ID={kernelName:Nr,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:s,stop:i,dtype:r,step:a}=n,o=SD(s,i,a,r);return t.makeTensorInfo([o.length],r,o)}},TD=TS(Mr,(e=>1/e)),_D={kernelName:Mr,backendName:"cpu",kernelFunc:TD};const ND={kernelName:Lr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:i}=t,{alignCorners:r,halfPixelCenters:a,size:o}=s;kS(i,"resizeBilinear");const l=rs(i.shape),[c,u]=o,[h,d,p,f]=i.shape,m=n.data.get(i.dataId).values,g=new Float32Array(Wn([h,c,u,f])),y=[r&&c>1?d-1:d,r&&u>1?p-1:p],A=[r&&c>1?c-1:c,r&&u>1?u-1:u];let w=0;const b=y[0]/A[0],v=y[1]/A[1];for(let e=0;e<h;e++)for(let t=0;t<c;t++){let n;n=a?b*(t+.5)-.5:b*t;const s=Math.max(0,Math.floor(n)),i=n-s,r=Math.min(d-1,Math.ceil(n)),o=e*l[0]+s*l[1],c=e*l[0]+r*l[1];for(let e=0;e<u;e++){let t;t=a?v*(e+.5)-.5:v*e;const n=Math.max(0,Math.floor(t)),s=t-n,r=Math.min(p-1,Math.ceil(t)),u=o+n*l[2],h=c+n*l[2],d=o+r*l[2],y=c+r*l[2];for(let e=0;e<f;e++){const t=m[u+e],n=m[h+e],r=t+(m[d+e]-t)*s,a=r+(n+(m[y+e]-n)*s-r)*i;g[w++]=a}}}return n.makeTensorInfo([h,c,u,f],"float32",g)}};const DD={kernelName:zr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:i,dy:r}=t,{alignCorners:a}=s;kS([r,i],"resizeBilinearGrad");const o=rs(i.shape),[l,c,u,h]=i.shape,[,d,p]=r.shape,f=new Float32Array(l*c*u*h),m=[a&&d>1?c-1:c,a&&p>1?u-1:u],g=[a&&d>1?d-1:d,a&&p>1?p-1:p],y=m[0]/g[0],A=m[1]/g[1],w=n.data.get(r.dataId).values;let b=0;for(let e=0;e<l;e++){const t=e*o[0];for(let e=0;e<d;e++){const n=e*y,s=Math.floor(n),i=Math.min(Math.ceil(n),c-1),r=t+s*o[1],a=t+i*o[1],l=n-s,d=1-l;for(let e=0;e<p;e++){const t=e*A,n=Math.floor(t),s=Math.min(Math.ceil(t),u-1),i=t-n,c=1-i,p=r+n*o[2],m=r+s*o[2],g=a+n*o[2],y=a+s*o[2],v=d*c,x=d*i,C=l*c,k=l*i;for(let e=0;e<h;e++){const t=w[b++];f[p+e]+=t*v,f[m+e]+=t*x,f[g+e]+=t*C,f[y+e]+=t*k}}}}return n.makeTensorInfo([l,u,c,h],"float32",f)}};const MD={kernelName:Fr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:i}=t,{alignCorners:r,halfPixelCenters:a,size:o}=s;kS(i,"resizeNearestNeighbor");const l=rs(i.shape),[c,u]=o,[h,d,p,f]=i.shape,m=n.data.get(i.dataId).values,g=new Float32Array(h*c*u*f),y=[r&&c>1?d-1:d,r&&u>1?p-1:p],A=[r&&c>1?c-1:c,r&&u>1?u-1:u],w=y[0]/A[0],b=y[1]/A[1];let v=0;for(let e=0;e<h;e++){const t=e*l[0];for(let e=0;e<c;e++){const n=a?w*(e+.5):w*e;let s=Math.min(d-1,r?Math.round(n):Math.floor(n));a&&(s=Math.max(0,s));const i=t+s*l[1];for(let e=0;e<u;e++){const t=a?b*(e+.5):b*e;let n=Math.min(p-1,r?Math.round(t):Math.floor(t));a&&(n=Math.max(0,n));const s=i+n*l[2];for(let e=0;e<f;e++){const t=m[s+e];g[v++]=t}}}}return n.makeTensorInfo([h,c,u,f],i.dtype,g)}};const BD={kernelName:Or,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:i,dy:r}=t,{alignCorners:a}=s;kS([r,i],"resizeNearestNeighborGrad");const o=rs(i.shape),l=rs(r.shape),[c,u,h,d]=i.shape,[,p,f]=r.shape,m=new Float32Array(c*u*h*d),g=n.data.get(r.dataId).values,y=[a&&p>1?u-1:u,a&&f>1?h-1:h],A=[a&&p>1?p-1:p,a&&f>1?f-1:f],w=y[0]/A[0],b=y[1]/A[1],v=1/w,x=1/b,C=2*Math.ceil(v)+2,k=2*Math.ceil(x)+2;for(let e=0;e<c;e++){const t=e*o[0];for(let e=0;e<u;e++){const n=t+e*o[1],s=Math.floor(e*v),i=Math.floor(s-C/2);for(let s=0;s<h;s++){const r=n+s*o[2],c=Math.floor(s*x),y=Math.floor(c-k/2);for(let n=0;n<d;n++){let o=0;for(let r=0;r<C;r++){const c=r+i;if(c<0||c>=p)continue;const d=t+c*l[1],m=c*w;if(e===Math.min(u-1,a?Math.round(m):Math.floor(m)))for(let e=0;e<k;e++){const t=e+y;if(t<0||t>=f)continue;const i=d+t*l[2],r=t*b;s===Math.min(h-1,a?Math.round(r):Math.floor(r))&&(o+=g[i+n])}}m[r+n]=o}}}}return n.makeTensorInfo(i.shape,i.dtype,m)}};const RD={kernelName:Pr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{dims:r}=s;kS(i,"reverse");const a=i.shape.length,o=Kn(r,i.shape);if(0===a)return MS({inputs:{x:i},backend:n});const l=new vo(i.shape,i.dtype),c=n.bufferSync(i);for(let e=0;e<l.size;e++){const t=l.indexToLoc(e),n=t.slice();o.forEach((e=>n[e]=i.shape[e]-1-n[e])),l.set(c.get(...n),...t)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},FD={kernelName:Na,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:s}=e,{radians:i,fillValue:r,center:a}=t,o=n,l=Qn(s.dtype,Wn(s.shape)),[c,u,h,d]=s.shape,[p,f]=kg(a,u,h),m=Math.sin(i),g=Math.cos(i),y=o.data.get(s.dataId).values;for(let e=0;e<c;e++){const t=e*h*u*d;for(let e=0;e<u;e++){const n=e*(h*d);for(let s=0;s<h;s++){const i=s*d;for(let a=0;a<d;a++){const o=[c,e,s,a],A=o[2],w=o[1];let b=(A-p)*g-(w-f)*m,v=(A-p)*m+(w-f)*g;b=Math.round(b+p),v=Math.round(v+f);let x=r;if("number"!=typeof r&&(x=3===a?255:r[a]),b>=0&&b<h&&v>=0&&v<u){x=y[t+v*(h*d)+b*d+a]}l[t+n+i+a]=x}}}}return{dataId:o.write(l,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}},OD=TS(Wr,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1})),LD={kernelName:Wr,backendName:"cpu",kernelFunc:OD},zD=IS((e=>1/Math.sqrt(e))),VD=_S(Gr,zD),PD={kernelName:Gr,backendName:"cpu",kernelFunc:VD};function WD(e,t,n,s,i,r,a,o,l,c){const u=[s/i,i],h=e.values,d=t.values;if(0===s)return kc(n,t.dtype);const p=l instanceof vo?l:kc(u,t.dtype);"string"==typeof l||"number"==typeof l?p.values.fill(l):"boolean"==typeof l&&p.values.fill(+l);for(let e=0;e<r;e++){const r=[];let l=0;for(let t=0;t<a;t++){const n=h[e*a+t];r.push(n),l+=n*o[t]}if(l<0||l>=s/i)throw new Error(`Invalid indices: ${r} does not index into ${n}`);for(let n=0;n<i;n++)c?p.values[l*i+n]+=d[e*i+n]:p.values[l*i+n]=0===t.rank?d[0]:d[e*i+n]}return p}const GD={kernelName:Ur,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{indices:i,updates:r}=t,{shape:a}=s,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:h}=Lf(0,i,a),d=WD(n.bufferSync(i),n.bufferSync(r),a,h,c,l,o,u,0,!0);return n.makeTensorInfo(a,d.dtype,d.values)}};function UD(e,t){let n=0,s=e.length,i=0;for(;n<s;)i=Math.floor((n+s)/2),e[i]<t?n=i+1:s=i;return s}function jD(e,t){let n=0,s=e.length,i=0;for(;n<s;)i=Math.floor((n+s)/2),e[i]<=t?n=i+1:s=i;return s}const qD={kernelName:qr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{sortedSequence:i,values:r}=t,{side:a}=s,o=function(e,t,n,s,i,r){const a=Xn("int32",n*i);for(let o=0;o<n;++o){const n=e.slice(o*s,(o+1)*s),l=o*i;for(let e=0;e<i;++e)a[l+e]="left"===r?UD(n,t[e+l]):jD(n,t[e+l])}return a}(n.data.get(i.dataId).values,n.data.get(r.dataId).values,i.shape[0],i.shape[1],r.shape[1],a);return n.makeTensorInfo(r.shape,"int32",o)}};const HD={kernelName:Hr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:s,t:i,e:r}=t;kS([s,i,r],"select");const a=s.shape.length,o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=n.data.get(r.dataId).values,u=Vo(i.dtype,r.dtype),h=cs(Wn(i.shape),u);let d=0;const p=0===a||a>1||1===i.shape.length?1:Wn(i.shape.slice(1));for(let e=0;e<o.length;e++)for(let t=0;t<p;t++)1===o[e]?h[d++]=l[e]:h[d++]=c[e];return n.makeTensorInfo(i.shape,u,h)}},YD=Dg,KD=Mg,ZD=TS(Yr,(e=>e>=0?KD*e:YD*(Math.exp(e)-1))),QD={kernelName:Yr,backendName:"cpu",kernelFunc:ZD},XD=TS(Xr,(e=>e<0?-1:e>0?1:0)),$D={kernelName:Xr,backendName:"cpu",kernelFunc:XD},JD=TS(Zr,(e=>Math.sin(e))),eM={kernelName:Zr,backendName:"cpu",kernelFunc:JD},tM=TS(Qr,(e=>Math.sinh(e))),nM={kernelName:Qr,backendName:"cpu",kernelFunc:tM},sM=Math.log(1.1920928955078125e-7)+2,iM=TS(Jr,(e=>{const t=e>-sM,n=e<sM,s=Math.exp(e);let i;return i=n?s:t?e:Math.log(1+s),i})),rM={kernelName:Jr,backendName:"cpu",kernelFunc:iM};const aM={kernelName:na,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{blockShape:r,paddings:a}=s;kS([i],"spaceToBatchND");const o=Wn(r),l=[[0,0]];l.push(...a);for(let e=1+r.length;e<i.shape.length;++e)l.push([0,0]);const c=aD.kernelFunc({inputs:{x:i},backend:n,attrs:{paddings:l,constantValue:0}}),u=Eg(c.shape,r,o,!1),h=Sg(u.length,r.length,!1),d=Ig(c.shape,r,o,!1),p=lI({inputs:{x:c},backend:n,attrs:{shape:u}}),f=vI({inputs:{x:p},backend:n,attrs:{perm:h}}),m=lI({inputs:{x:f},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}};function oM(e,t,n,s,i,r,a){const o=t[0],l=r[0],c=new Array(l),u=new Array(o),h=t[1];if(0===l){if(0!==o)throw new Error(iy(o));return[Xn(n,0),[0,h],Xn(i,0),c,u]}let d=!0,p=0;const f=new Array(l).fill(0);for(let t=0;t<o;++t){const n=e[t*h];if(n<0)throw new Error(ry(t,n));if(n>=l)throw new Error(ay(t,n,l));++f[n],d=d&&n>=p,p=n}let m=!0;for(let e=0;e<l;++e){const t=0===f[e];c[e]=t,m=m&&!t,f[e]=Math.max(f[e],1),e>0&&(f[e]+=f[e-1])}if(m&&d){const t=e,n=s;for(let e=0;e<o;++e)u[e]=e;return[t,[o,h],n,c,u]}{const t=f[l-1],r=Xn(n,t*h),d=Xn(i,t),p=new Array(l).fill(0);for(let t=0;t<o;++t){const n=e[t*h],i=p[n],a=(0===n?0:f[n-1])+i;p[n]++;for(let n=0;n<h;++n)r[a*h+n]=e[t*h+n];d[a]=s[t],u[t]=a}for(let e=0;e<l;++e){if(0===p[e]){const t=0===e?0:f[e-1];r[t*h+0]=e;for(let e=1;e<h;++e)r[t*h+e]=0;d[t]=a}}return[r,[t,h],d,c,u]}}const lM={kernelName:ra,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:s,values:i,denseShape:r,defaultValue:a}=t;if(1!==r.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${r.shape}`);if(2!==s.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${s.shape}`);if(1!==i.shape.length)throw new Error(`Values must be a vector, saw:\n        ${i.shape}`);if(0!==a.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${a.shape}`);const o=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values[0],[h,d,p,f,m]=oM(o,s.shape,s.dtype,l,i.dtype,c,u);return[n.makeTensorInfo(d,s.dtype,h),n.makeTensorInfo([d[0]],i.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],s.dtype,new Int32Array(m))]}};function cM(e,t,n,s,i){const r=Wn(s),a=t[0],o=i.length,l=[];let c=1,u=-1;for(let e=0;e<o;++e){const t=i[e];if(-1===t){if(-1!==u)throw new Error(oy(u,e));u=e,l.push(1)}else{if(t<0)throw new Error(ly(e,t));c*=t,l.push(t)}}if(-1!==u){if(c<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(r/c);if(c*e!==r)throw new Error(uy(s,l));l[u]=e}if(Wn(l)!==r)throw new Error(hy(s,l));const h=s.length,d=[];if(h>0){d[h-1]=1;for(let e=h-2;e>=0;--e)d[e]=d[e+1]*s[e+1]}const p=[];if(o>0){p[o-1]=1;for(let e=o-2;e>=0;--e)p[e]=p[e+1]*l[e+1]}const f=Xn(n,a*o);for(let t=0;t<a;++t){let n=0;for(let s=0;s<h;++s)n+=e[t*h+s]*d[s];for(let e=0;e<o;++e)f[t*o+e]=Math.trunc(n/p[e]),n%=p[e]}return[f,[a,o],l]}const uM={kernelName:aa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:s,inputShape:i,newShape:r}=t;if(2!==s.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${s.shape}`);if(1!==i.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${i.shape}`);if(1!==r.shape.length)throw new Error(`Target shape should be a vector but received shape ${r.shape}`);const a=Array.from(n.data.get(i.dataId).values),o=n.data.get(s.dataId).values,l=Array.from(n.data.get(r.dataId).values),[c,u,h]=cM(o,s.shape,s.dtype,a,l);return[n.makeTensorInfo(u,s.dtype,c),n.makeTensorInfo([h.length],r.dtype,new Int32Array(h))]}};function hM(e,t,n,s,i,r=!1,a=0){const o=s.length,l=[t[0],e.length/t[0]],c=l[1],u=o>0?i[o-1]+1:0;if(u<0)throw new Error("segment ids must be >= 0");const h=t.slice();h[0]=u;const d=Xn(n,h.reduce(((e,t)=>e*t),1));if(0===o)return u>0&&d.fill(a),[d,h];if(u<=0)throw new Error("segment ids must be >= 0");let p=0,f=1,m=0,g=i[p];for(;;){let t=0;if(f<o){if(t=i[f],g===t){++f;continue}if(g>=t)throw new Error("segment ids are not increasing")}if(g<0||g>=u)throw new Error(fy(g,u));g>m&&d.fill(a,m*c,g*c);for(let t=p;t<f;++t){const n=s[t];if(n<0||n>=l[0])throw new Error(my(t,s[t],l[0]));for(let t=0;t<c;t++)d[g*c+t]+=e[n*c+t]}if(r)for(let e=0;e<c;e++)d[g*c+e]/=f-p;if(p=f,++f,m=g+1,g=t,f>o)break}return m<u&&d.fill(a,m*c,u*c),[d,h]}const dM={kernelName:oa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:s,indices:i,segmentIds:r}=t;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${i.shape}`);if(1!==r.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${r.shape}`);if(i.shape[0]!==r.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(s.dataId).values,o=n.data.get(i.dataId).values,l=n.data.get(r.dataId).values,[c,u]=hM(a,s.shape,s.dtype,o,l,!0);return n.makeTensorInfo(u,s.dtype,c)}};const pM={kernelName:la,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:s,indices:i,segmentIds:r}=t;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${i.shape}`);if(1!==r.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${r.shape}`);if(i.shape[0]!==r.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(s.dataId).values,o=n.data.get(i.dataId).values,l=n.data.get(r.dataId).values,[c,u]=hM(a,s.shape,s.dtype,o,l);return n.makeTensorInfo(u,s.dtype,c)}};const fM={kernelName:ca,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{sparseIndices:i,sparseValues:r,defaultValue:a}=t,{outputShape:o}=s,{sliceRank:l,numUpdates:c,sliceSize:u,strides:h,outputSize:d}=Lf(0,i,o),p=!1,f=n.bufferSync(i);let m;switch(r.dtype){case"bool":m=WD(f,n.bufferSync(r),o,d,u,c,l,h,Boolean(n.data.get(a.dataId).values[0]),p);break;case"float32":m=WD(f,n.bufferSync(r),o,d,u,c,l,h,n.data.get(a.dataId).values[0],p);break;case"int32":m=WD(f,n.bufferSync(r),o,d,u,c,l,h,n.data.get(a.dataId).values[0],p);break;case"string":m=WD(f,n.bufferSync(r),o,d,u,c,l,h,co(n.data.get(a.dataId).values[0]),p);break;default:throw new Error(`Unsupported type ${r.dtype}`)}return n.makeTensorInfo(o,m.dtype,m.values)}};const mM={kernelName:sa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{numOrSizeSplits:r,axis:a}=s,o=Kn(a,i.shape)[0],l=sy(i,r,o),c=new Array(i.shape.length).fill(0),u=i.shape.slice();return l.map((e=>{const t=[...u];t[o]=e;const s=YI({inputs:{x:i},backend:n,attrs:{begin:c,size:t}});return c[o]+=e,s}))}},gM=IS((e=>Math.sqrt(e))),yM=TS(ea,(e=>Math.sqrt(e))),AM={kernelName:ea,backendName:"cpu",kernelFunc:yM},wM={kernelName:ha,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,s=t;kS(n,"square");const i=s.data.get(n.dataId).values,r=new Float32Array(i.length);for(let e=0;e<i.length;++e){const t=i[e];r[e]=t*t}return{dataId:s.write(r,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},bM=OS(((e,t)=>{const n=e-t;return n*n})),vM=nI(ua,bM),xM={kernelName:ua,backendName:"cpu",kernelFunc:vM},CM=IS(((e,t)=>{const{pattern:n,replaceGlobal:s,rewrite:i}=t;return e.replace(new RegExp(n,s?"g":""),i)})),kM=_S(da,CM),EM={kernelName:da,backendName:"cpu",kernelFunc:kM},SM=TS(Ta,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),IM={kernelName:Ta,backendName:"cpu",kernelFunc:SM};function TM(e,t,n,s){const i=kc(e,t.dtype);for(let e=0;e<i.size;e++){const r=i.indexToLoc(e),a=new Array(r.length);for(let e=0;e<a.length;e++)a[e]=r[e]*n[e]+s[e];i.set(t.get(...a),...r)}return i}const _M={kernelName:pa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{begin:r,end:a,strides:o,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:h,shrinkAxisMask:d}=s;kS(i,"stridedSlice");const{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:A,end:w,strides:b}=Zu(i.shape,r,a,o,l,c,u,h,d);let v;if(m)v=lI({inputs:{x:i},backend:n,attrs:{shape:f}});else if(g||y){zn(i.shape.length>=1,(()=>`Input must have rank at least 1, got: ${i.shape.length}`));const e=Ou(A,w,b),t=YI({inputs:{x:i},backend:n,attrs:{begin:A,size:e}});v=lI({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=TM(p,n.bufferSync(i),b,A);v=n.makeTensorInfo(f,e.dtype,e.values)}return v}};class NM{constructor(e,t,n,s,i,r){this.separator=lo(e),this.nGramWidths=t,this.leftPad=lo(n),this.rightPad=lo(s),this.padWidth=i,this.preserveShort=r}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,s,i,r){for(let a=0;a<i;++a){const o=this.getPadWidth(r),l=Math.max(0,o-a),c=Math.max(0,o-(i-(a+1))),u=r-(l+c),h=t+(l>0?0:a-o);let d=0;d+=l*this.leftPad.length;for(let t=0;t<u;++t)d+=e[h+t].length;d+=c*this.rightPad.length;d+=(l+c+u-1)*this.separator.length,n[s+a]=new Uint8Array(d);const p=n[s+a];let f=0;const m=e=>e.forEach((e=>p[f++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<u-1;++t)m(e[h+t]),m(this.separator);if(u>0){m(e[h+u-1]);for(let e=0;e<c;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<c-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,s=t.length;if(s>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let i=1;i<s;++i){let s=t[i]>=e;if(s=s&&t[i]<=n,!s)throw new Error(`Invalid split value ${t[i]}, must be in [${e}, ${n}]`);e=t[i]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const i=s-1,r=Xn("int32",s);if(0===n||0===s){const e=new Array(n);for(let e=0;e<=i;++e)r[e]=0;return[e,r]}r[0]=0;for(let e=1;e<=i;++e){const n=t[e]-t[e-1];let s=0;this.nGramWidths.forEach((e=>{s+=this.getNumNGrams(n,e)})),this.preserveShort&&n>0&&0===s&&(s=1),r[e]=r[e-1]+s}const a=new Array(r[i]);for(let n=0;n<i;++n){const s=t[n];let i=r[n];if(this.nGramWidths.forEach((r=>{const o=t[n+1]-t[n],l=this.getNumNGrams(o,r);this.createNGrams(e,s,a,i,l,r),i+=l})),this.preserveShort&&i===r[n]){const r=t[n+1]-t[n];if(0===r)continue;const o=r+2*this.padWidth,l=1;this.createNGrams(e,s,a,i,l,o)}}return[a,r]}}function DM(e,t,n,s,i,r,a,o){return new NM(n,s,i,r,a,o).compute(e,t)}const MM={kernelName:fa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{separator:i,nGramWidths:r,leftPad:a,rightPad:o,padWidth:l,preserveShortSequences:c}=s,{data:u,dataSplits:h}=t,d=n.data.get(u.dataId).values,p=n.data.get(h.dataId).values,[f,m]=DM(d,p,i,r,a,o,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(h.shape,"int32",m)]}};function BM(e,t,n,s){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)s.push(e.subarray(t,t+1));return}if(1===t.length){const i=t[0];let r=e.indexOf(i);for(;-1!==r;){const t=e.subarray(0,r);n&&0===t.length||s.push(t),r=(e=e.subarray(r+1)).indexOf(i)}return void(n&&0===e.length||s.push(e))}let i=0;for(let r=0;r<e.length+1;r++)if(r===e.length||-1!==t.indexOf(e[r])){const t=e.subarray(i,r);n&&0===t.length||s.push(t),i=r+1}}function RM(e,t,n){const s=e.length,i=[];let r=0,a=0;const o=new Array(s);for(let l=0;l<s;++l){const s=i.length;BM(e[l],t,n,i);const c=i.length-s;o[l]=c,r+=c,a=Math.max(a,c)}const l=Xn("int32",2*r),c=new Array(r),u=[s,a];let h=0;for(let e=0;e<s;++e)for(let t=0;t<o[e];++t)l[2*h]=e,l[2*h+1]=t,c[h]=i[h],++h;return[l,c,u]}const FM={kernelName:ma,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{skipEmpty:i}=s,{input:r,delimiter:a}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");if(1!==r.shape.length)throw new Error(`Input must be a vector, got shape: ${r.shape}`);if(0!==a.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values[0],[c,u,h]=RM(o,l,i),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};function OM(e,t){const n=Xn("int32",e.length);for(let s=0;s<e.length;++s)n[s]=io(e[s]).modulo(t).getLowBitsUnsigned();return n}const LM={kernelName:ga,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{numBuckets:i}=s,{input:r}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");if(i<=0)throw new Error("Number of buckets must be at least 1");const a=OM(n.data.get(r.dataId).values,i);return n.makeTensorInfo(r.shape,"int32",a)}},zM=TS(Aa,(e=>Math.tan(e))),VM={kernelName:Aa,backendName:"cpu",kernelFunc:zM},PM=TS(wa,(e=>Math.tanh(e)));function WM(e,t){const n=new Array(e.rank);for(let s=0;s<n.length;s++)n[s]=e.shape[s]*t[s];const s=kc(n,e.dtype);for(let t=0;t<s.values.length;++t){const n=s.indexToLoc(t),i=new Array(e.rank);for(let t=0;t<i.length;t++)i[t]=n[t]%e.shape[t];const r=e.locToIndex(i);s.values[t]=e.values[r]}return s}const GM=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function UM(e,t,n=0,s=e.length-1){for(;s>n;){if(s-n>600){const i=s-n+1,r=t-n+1,a=Math.log(i),o=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*o*(i-o)/i)*Math.sign(r-i/2);UM(e,t,Math.max(n,Math.floor(t-r*o/i+l)),Math.min(s,Math.floor(t+(i-r)*o/i+l)))}const i=e[t];let r=n,a=s;for(Ln(e,n,t),GM(e[s],i)>0&&Ln(e,n,s);r<a;){for(Ln(e,r,a),r++,a--;GM(e[r],i)<0;)r+=1;for(;GM(e[a],i)>0;)a-=1}0===GM(e[n],i)?Ln(e,n,a):(a+=1,Ln(e,a,s)),a<=t&&(n=a+1),t<=a&&(s=a-1)}}function jM(e,t,n,s,i){const r=t[t.length-1],[a,o]=[e.length/r,r],l=Qn(n,a*s),c=Qn("int32",a*s);for(let t=0;t<a;t++){const n=t*o,r=e.subarray(n,n+o);let a=new Array(r.length);r.forEach(((e,t)=>a[t]={value:e,index:t})),s<a.length&&(UM(a,s),a=a.slice(0,s)),i&&a.sort(GM);const u=t*s,h=l.subarray(u,u+s),d=c.subarray(u,u+s);for(let e=0;e<s;e++)h[e]=a[e].value,d[e]=a[e].index}const u=t.slice();return u[u.length-1]=s,[kc(u,n,l),kc(u,"int32",c)]}function qM(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return Fn(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return Fn(0,n,t-1)}(e,t);case"nearest":return function(e,t){return Fn(0,e,t-1)}(e,t);default:return function(e){return e}(e)}}function HM(e,t,n,s,i,r,a,o,l,c,u){return 0<=o&&o<t&&0<=l&&l<n?e[a*s+o*i+l*r+c]:u}function YM(e,t,n,s,i,r,a,o,l,c,u){return HM(e,t,n,s,i,r,a,Math.round(o),Math.round(l),c,u)}function KM(e,t,n,s,i,r,a,o,l,c,u){const h=Math.floor(o),d=Math.floor(l),p=h+1,f=d+1;return(p-o)*((f-l)*HM(e,t,n,s,i,r,a,h,d,c,u)+(l-d)*HM(e,t,n,s,i,r,a,h,f,c,u))+(o-h)*((f-l)*HM(e,t,n,s,i,r,a,p,d,c,u)+(l-d)*HM(e,t,n,s,i,r,a,p,f,c,u))}function ZM(e,t,n,s){const i=Kn(t,n)[0],r=[1,n[0],1];for(let e=0;e<i;e++)r[0]*=n[e];r[1]=n[i];for(let e=i+1;e<n.length;e++)r[2]*=n[e];const a=new Map,o=new Int32Array(n[i]),l=new vo(r,s,e),c=[],u=1===r[0]&&1===r[2];for(let t=0;t<n[i];t++){let n;if(u)n=e[t].toString();else{const e=[];for(let n=0;n<r[0];n++)for(let s=0;s<r[2];s++)e.push(l.get(n,t,s));n=e.join(",")}const s=a.get(n);if(null!=s)o[t]=s;else{const e=a.size;a.set(n,e),o[t]=e,c.push(t)}}const h=r.slice();h[1]=a.size;const d=new vo(h,s);c.forEach(((e,t)=>{for(let n=0;n<r[0];n++)for(let s=0;s<r[2];s++)d.set(l.get(n,e,s),n,t,s)}));const p=n.slice();return p[i]=h[1],{outputValues:d.values,outputShape:p,indices:o}}const QM={kernelName:Sa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,segmentIds:r}=t,{numSegments:a}=s;kS(i,"unsortedSegmentSum");const o=[],l=[],c=i.shape.length-r.shape.length;let u=r;for(let e=0;e<c;++e){const t=o_({inputs:{input:u},backend:n,attrs:{dim:e+1}});u=t,l.push(t)}for(let e=0;e<a;++e){const t=ro(e,"int32"),s=n.makeTensorInfo([],"int32",t),r=KT({inputs:{a:s,b:u},backend:n}),a=eI({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),c=WT({inputs:{a,b:i},backend:n}),h=UT({inputs:{x:c},backend:n,attrs:{axis:0,keepDims:!1}});o.push(h),l.push(s),l.push(r),l.push(a),l.push(c),l.push(h)}const h=iD({inputs:o,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}},XM=[dI,fI,gI,AI,oI,wI,CI,kI,EI,SI,TI,NI,MI,FI,LI,WI,GI,UI,jI,hI,qI,ZI,$I,tT,nT,tI,rT,oT,ZS,lT,pT,mT,gT,yT,AT,wT,bT,xT,kT,ET,ST,IT,TT,_T,DT,MT,BT,RT,FT,OT,LT,zT,qT,DS,HT,ZT,s_,a_,l_,h_,x_,k_,E_,T_,D_,M_,B_,F_,L_,P_,U_,BS,j_,hT,H_,K_,Q_,FS,J_,nN,iN,oN,cN,dN,fN,yN,AN,wN,xN,EN,SN,IN,TN,_N,NN,DN,MN,FN,ON,VN,GN,GT,jN,HN,KN,QN,JN,eD,sD,rD,aD,cD,VS,hD,gD,wD,ED,ID,$S,f_,_D,WS,US,cI,ND,DD,MD,BD,RD,FD,LD,PD,GD,qD,HD,QD,HS,$D,eM,nM,KI,WN,rM,aM,lM,uM,dM,pM,fM,mM,AM,wM,xM,EM,IM,_M,MM,FM,LM,A_,jT,VM,{kernelName:wa,backendName:"cpu",kernelFunc:PM},{kernelName:jr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:s,indices:i,updates:r}=t,{sliceRank:a,numUpdates:o,sliceSize:l,strides:c,outputSize:u}=Lf(0,i,s.shape),h=n.bufferSync(i),d=n.bufferSync(r),p=n.bufferSync(s),f=WD(h,d,s.shape,u,l,o,a,c,p,!1);return n.makeTensorInfo(s.shape,f.dtype,f.values)}},{kernelName:ba,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{reps:r}=s;kS(i,"tile");const a=WM(n.bufferSync(i),r);return n.makeTensorInfo(a.shape,a.dtype,a.values)}},{kernelName:va,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{k:r,sorted:a}=s;kS(i,"topk");const o=n.data.get(i.dataId).values,[l,c]=jM(o,i.shape,i.dtype,r,a);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}},{kernelName:xa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:s}=e,{image:i,transforms:r}=t,{interpolation:a,fillMode:o,fillValue:l,outputShape:c}=n,[u,h,d,p]=i.shape,[f,m]=null!=c?c:[h,d],g=[u,f,m,p],y=rs(i.shape),A=y[0],w=y[1],b=y[2],v=rs(g),x=v[0],C=v[1],k=v[2],E=Qn(i.dtype,Wn(g));E.fill(l);const S=s.data.get(i.dataId).values,I=s.data.get(r.dataId).values;for(let e=0;e<u;++e){const t=1===r.shape[0]?I:I.subarray(8*e,8*e+8);for(let n=0;n<f;++n)for(let s=0;s<m;++s)for(let i=0;i<p;++i){let r;const c=t[6]*s+t[7]*n+1;if(0===c)continue;const u=(t[0]*s+t[1]*n+t[2])/c,p=(t[3]*s+t[4]*n+t[5])/c,f=qM(u,d,o),m=qM(p,h,o);switch(a){case"nearest":r=YM(S,h,d,A,w,b,e,m,f,i,l);break;case"bilinear":r=KM(S,h,d,A,w,b,e,m,f,i,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${a}`)}E[e*x+n*C+s*k+i]=r}return s.makeTensorInfo(g,i.dtype,E)}return{dataId:s.write(E,g,i.dtype),shape:i.shape,dtype:i.dtype}}},xI,{kernelName:ka,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:s}=e,{axis:i}=n,{x:r}=t;kS(r,"unique");const a=s.data.get(r.dataId).values,{outputValues:o,outputShape:l,indices:c}=ZM(a,i,r.shape,r.dtype);return[s.makeTensorInfo(l,r.dtype,o),s.makeTensorInfo([c.length],"int32",c)]}},{kernelName:Ea,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{value:i}=t;let{axis:r}=s;r<0&&(r+=i.shape.length);const a=i.shape.length,o=i.shape[r],l=new Array(a-1);let c=0;for(let e=0;e<a;e++)e!==r&&(l[c++]=i.shape[e]);const u=new Array(a).fill(0),h=i.shape.slice();h[r]=1;const d=new Array(o);for(let e=0;e<d.length;e++){u[r]=e;const t=YI({inputs:{x:i},backend:n,attrs:{begin:u,size:h}});d[e]=lI({inputs:{x:t},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(t)}return d}},QM,nD];for(const e of XM)Wa(e);const $M={},JM={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function eB(e,t){if(!(e in $M)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(As().getBool("IS_SAFARI")||"undefined"==typeof OffscreenCanvas||2!==e){if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete $M[e]}),!1),As().getBool("SOFTWARE_WEBGL_ENABLED")&&(JM.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",JM)||n.getContext("experimental-webgl",JM);return n.getContext("webgl2",JM)}(e,t);if(null===n)return null;$M[e]=n}const n=$M[e];return null==n||n.isContextLost()?(delete $M[e],eB(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),$M[e])}var tB,nB,sB,iB,rB,aB;function oB(e,t){return[t,e]}function lB(e){const t=Wn(e);return jn(Math.ceil(t/4))}function cB(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function uB(e,t){const n=e;let s,i,r,a,o,l,c,u,h,d;return 2===As().getNumber("WEBGL_VERSION")?(s=n.R32F,i=n.R16F,r=n.RGBA16F,a=n.RGBA32F,o=n.RED,c=4,u=1,h=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(s=e.RGBA,i=e.RGBA,r=e.RGBA,a=n.RGBA,o=e.RGBA,c=4,u=4,h=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:s,internalFormatHalfFloat:i,internalFormatPackedHalfFloat:r,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:h,textureTypeFloat:d}}function hB(e,t){const n=t();return As().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}(nB=tB||(tB={}))[nB.DENSE=0]="DENSE",nB[nB.SHARED_BATCH=1]="SHARED_BATCH",(iB=sB||(sB={}))[iB.RENDER=0]="RENDER",iB[iB.UPLOAD=1]="UPLOAD",iB[iB.PIXELS=2]="PIXELS",iB[iB.DOWNLOAD=3]="DOWNLOAD",(aB=rB||(rB={}))[aB.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",aB[aB.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",aB[aB.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",aB[aB.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",aB[aB.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16";function dB(e){return!!(As().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function pB(e,t){return xB(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const fB=/ERROR: [0-9]+:([0-9]+):/g;function mB(e,t){const n=fB.exec(t);if(null==n)return;const s=+n[1],i=e.split("\n"),r=i.length.toString().length+2,a=i.map(((e,t)=>qn((t+1).toString(),r)+e));let o=0;for(let e=0;e<a.length;e++)o=Math.max(a[e].length,o);a.slice(0,s-1),a.slice(s-1,s),a.slice(s)}function gB(e,t){if(hB(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw new Error("Shader program validation failed.")}function yB(e,t,n,s,i,r,a){const o=e.getAttribLocation(t,n);return-1!==o&&(hB(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,s))),hB(e,(()=>e.vertexAttribPointer(o,i,e.FLOAT,!1,r,a))),hB(e,(()=>e.enableVertexAttribArray(o))),!0)}function AB(e,t,n,s){hB(e,(()=>function(e,t,n){CB(e,n),hB(e,(()=>e.activeTexture(e.TEXTURE0+n))),hB(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,s))),hB(e,(()=>e.uniform1i(n,s)))}function wB(e,t,n){hB(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),hB(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function bB(e,t){hB(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),hB(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function vB(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function xB(e,t,n){const s=hB(e,(()=>t()));if(null==s)throw new Error(n);return s}function CB(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,s=t+e.TEXTURE0;if(s<e.TEXTURE0||s>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function kB(e,t=2){return Wn(e.slice(0,e.length-t))}function EB(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function SB(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[kB(e),...EB(e)]),t}function IB(e){return e%2==0}function TB(e,t){if(Gn(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],s=t[t.length-1];if(n===s)return!0;if(IB(n)&&IB(s)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&IB(e[0])&&IB(t[0])}let _B,NB;function DB(e,t){return null!=e.getExtension(t)}function MB(e){try{if(null!=eB(e))return!0}catch(e){return!1}return!1}function BB(e){if(0===e)return!1;const t=eB(e);if(1!==e){if(DB(t,"EXT_color_buffer_float"))return RB(t);const e="EXT_color_buffer_half_float";if(DB(t,e)){const n=t.getExtension(e);return function(e,t){const n=uB(e,t),s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s);const i=1,r=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,i,r,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(s),e.deleteFramebuffer(a),o}(t,n)}return!1}if(!DB(t,"OES_texture_float"))return!1;if(!DB(t,"WEBGL_color_buffer_float"))return!1;return RB(t)}function RB(e){const t=uB(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(s),i}function FB(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&zn("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const OB=As();function LB(){let e,t,n,s,i,r,a,o,l,c;return 2===As().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",s="in",i="texture",r="outputColor",a="out vec4 outputColor;",o=As().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",s="varying",i="texture2D",r="gl_FragColor",a="",o="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:s,texture2D:i,output:r,defineOutput:a,defineSpecialNaN:o,defineSpecialInf:l,defineRound:c}}function zB(e,t,n="index"){const s=rs(t);return s.map(((t,i)=>`${`int ${e[i]} = ${n} / ${t}`}; ${i===s.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${t}`:`index -= ${e[i]} * ${t}`};`)).join("")}function VB(e,t,n="index"){const s=rs(t);return s.map(((t,i)=>`${`int ${e[i]} = ${n} / outShapeStrides[${i}]`}; ${i===s.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * outShapeStrides[${i}]`:`index -= ${e[i]} * outShapeStrides[${i}]`};`)).join("")}function PB(e,t,n="index"){const s=function(e,t){const n=e.length,s=e.map((e=>`${t}[${e}]`)),i=new Array(n-1);i[n-2]=s[n-1];for(let e=n-3;e>=0;--e)i[e]=`(${i[e+1]} * ${s[e+1]})`;return i}(e.map(((e,t)=>t)),t);return s.map(((t,i)=>`${`int ${e[i]} = ${n} / ${s[i]}`}; ${i===s.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${s[i]}`:`index -= ${e[i]} * ${s[i]}`};`)).join("")}function WB(e){const t=rs(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}OB.registerFlag("HAS_WEBGL",(()=>OB.getNumber("WEBGL_VERSION")>0)),OB.registerFlag("WEBGL_VERSION",(()=>MB(2)?2:MB(1)?1:0)),OB.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),OB.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===OB.get("WEBGL_VERSION"))),OB.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),OB.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),OB.registerFlag("WEBGL_PACK",(()=>OB.getBool("HAS_WEBGL"))),OB.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_PACK_CLIP",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_PACK_REDUCE",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_LAZILY_UNPACK",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_CONV_IM2COL",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>OB.getBool("WEBGL_PACK"))),OB.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==_B){const t=eB(e);_B=t.getParameter(t.MAX_TEXTURE_SIZE)}return _B}(OB.getNumber("WEBGL_VERSION")))),OB.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==NB){const t=eB(e);NB=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,NB)}(OB.getNumber("WEBGL_VERSION")))),OB.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=OB.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=eB(e);return t=DB(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:DB(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),OB.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>OB.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!el())),OB.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=eB(e);if(1===e){if(!DB(t,"OES_texture_float"))return!1}else if(!DB(t,"EXT_color_buffer_float"))return!1;return RB(t)}(OB.getNumber("WEBGL_VERSION")))),OB.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!OB.getBool("WEBGL_FORCE_F16_TEXTURES")&&OB.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),OB.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>BB(OB.getNumber("WEBGL_VERSION")))),OB.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=OB.getNumber("WEBGL_VERSION"))&&null!=eB(e).fenceSync;var e})),OB.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>OB.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),OB.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!=typeof e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),OB.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>el()?1:-1),(e=>{if("number"!=typeof e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),OB.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),OB.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),OB.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),OB.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),OB.registerFlag("WEBGL_EXP_CONV",(()=>!1)),OB.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>OB.getBool("IS_TEST"))),OB.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),OB.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),OB.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),OB.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const GB="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:UB}=i;function jB(e,t,n){const s=[];if(e.forEach((e=>{const t=Wn(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?s.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(s.push(`uniform sampler2D ${e.name};`),s.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=tR(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:s.push(`uniform int ${e.name}Shape;`);break;case 2:s.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:s.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:s.push(`uniform ivec4 ${e.name}Shape;`)}s.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:s.push("uniform int outShape;");break;case 2:s.push("uniform ivec2 outShape;"),s.push("uniform int outShapeStrides;");break;case 3:s.push("uniform ivec3 outShape;"),s.push("uniform ivec2 outShapeStrides;");break;case 4:s.push("uniform ivec4 outShape;"),s.push("uniform ivec3 outShapeStrides;")}s.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{s.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const i=s.join("\n"),r=e.map((e=>function(e,t,n=!1,s){let i="";i+=n?HB(e,s):qB(e,s);const r=e.shapeInfo.logicalShape,a=t.logicalShape;r.length<=a.length&&(i+=n?function(e,t){const n=e.name,s=n.charAt(0).toUpperCase()+n.slice(1),i="get"+s+"AtOutCoords",r=e.shapeInfo.logicalShape.length,a=t.logicalShape.length,o=UB(e.shapeInfo.logicalShape,t.logicalShape),l=eR(a),c=a-r;let u;const h=["x","y","z","w","u","v"];u=0===r?"":a<2&&o.length>=1?"coords = 0;":o.map((e=>`coords.${h[e+c]} = 0;`)).join("\n");let d="";d=a<2&&r>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+c]}`)).join(", ");let p="return outputValue;";const f=1===Wn(e.shapeInfo.logicalShape),m=Wn(t.logicalShape),g=1===m;if(1!==r||f||g){if(f&&!g)p=1===a?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(o.length){const e=r-2,t=r-1;o.indexOf(e)>-1&&o.indexOf(t)>-1?p="return vec4(outputValue.x);":o.indexOf(e)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(t)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${i}() {\n      ${l} coords = getOutputCoords();\n      ${u}\n      vec4 outputValue = get${s}(${d});\n      ${p}\n    }\n  `}(e,t):function(e,t){const n=e.name,s=n.charAt(0).toUpperCase()+n.slice(1),i="get"+s+"AtOutCoords",r=t.texShape,a=e.shapeInfo.texShape,o=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&o===l&&null==e.shapeInfo.flatOffset&&Gn(a,r))return`\n      float ${i}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const c=eR(l),u=UB(e.shapeInfo.logicalShape,t.logicalShape),h=l-o;let d;const p=["x","y","z","w","u","v"];d=0===o?"":l<2&&u.length>=1?"coords = 0;":u.map((e=>`coords.${p[e+h]} = 0;`)).join("\n");let f="";f=l<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${p[t+h]}`)).join(", ");return`\n    float ${i}() {\n      ${c} coords = getOutputCoords();\n      ${d}\n      return get${s}(${f});\n    }\n  `}(e,t));return i}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),a=t.texShape,o=LB(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(o);let c,u,h=function(e){const t=`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${YB}\n    ${KB}\n    ${ZB}\n  `;return t}(o);t.isPacked?(c=function(e,t,n){switch(e.length){case 0:return XB();case 1:return function(e,t,n){const s=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===s[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${s[1]}.0);\n      }\n    `;if(1===s[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${s[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n      return 2 * (resTexRC.x * ${s[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const s=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Gn(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${s[0]}, ${s[1]}));\n      }\n    `;const i=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n\n      int index = resTexRC.x * ${s[1]} + resTexRC.y;\n      int r = 2 * (index / ${i});\n      int c = imod(index, ${i}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const s=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[2]/2),r=i*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n      int index = resTexRC.x * ${s[1]} + resTexRC.y;\n\n      int b = index / ${r};\n      index -= b * ${r};\n\n      int r = 2 * (index / ${i});\n      int c = imod(index, ${i}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const s=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[e.length-1]/2),r=i*Math.ceil(e[e.length-2]/2);let a=r,o="",l="b, r, c";for(let t=2;t<e.length-1;t++)a*=e[e.length-t-1],o=`\n      int b${t} = index / ${a};\n      index -= b${t} * ${a};\n    `+o,l=`b${t}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${s[0]}, ${s[1]}));\n      int index = resTexRC.x * ${s[1]} + resTexRC.y;\n\n      ${o}\n\n      int b = index / ${r};\n      index -= b * ${r};\n\n      int r = 2 * (index / ${i});\n      int c = imod(index, ${i}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,a,n.enableShapeUniforms),u=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(o)):(c=function(e,t,n){switch(e.length){case 0:return XB();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(Gn(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${VB(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const s=zB(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${s}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${VB(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const s=zB(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${s}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=zB(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=zB(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,a,n.enableShapeUniforms),u=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(o)),n.packedInputs&&(h+=QB);return[h,l,u,i,c,r,n.userCode].join("\n")}function qB(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${s}() {return ${n};}`;const[i,r]=e.shapeInfo.texShape;if(1===i&&1===r)return`\n      float ${s}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const a=$B(n);if(t)return`\n    float ${s}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${a});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[o,l]=e.shapeInfo.texShape;return`\n    float ${s}() {\n      vec2 uv = uvFromFlat(${o}, ${l}, ${a});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${s}(int index) {\n        ${JB(e)}\n      }\n    `;const i=e.shapeInfo.texShape,r=i[0],a=i[1];if(1===a&&1===r)return`\n      float ${s}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const o=$B(n);if(1===a)return t?`\n      float ${s}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${s}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${r}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===r)return t?`\n      float ${s}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${s}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${a}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${s}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${s}(int index) {\n      vec2 uv = uvFromFlat(${r}, ${a}, index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,s=e.name,i="get"+s.charAt(0).toUpperCase()+s.slice(1),r=e.shapeInfo.texShape;if(null!=r&&Gn(n,r)){if(t)return`\n      float ${i}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `;const e=r[0];return`\n    float ${i}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${r[1]}.0, ${e}.0);\n      return sampleTexture(${s}, uv);\n    }\n  `}const{newShape:a,keptDims:o}=Zn(n),l=a;if(l.length<n.length){const n=["row","col"];return`\n      ${qB(nR(e,l),t)}\n      float ${i}(int row, int col) {\n        return ${i}(${sR(n,o)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${i}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${JB(e)}\n      }\n    `;const c=r[0],u=r[1],h=$B(s);if(1===u)return t?`\n      float ${i}(int row, int col) {\n        float index = dot(vec3(row, col, ${h}), vec3(${s}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${s}TexShape[0]));\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n    float ${i}(int row, int col) {\n      float index = dot(vec3(row, col, ${h}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);\n      return sampleTexture(${s}, uv);\n    }\n  `;if(1===c)return t?`\n      float ${i}(int row, int col) {\n        float index = dot(vec3(row, col, ${h}), vec3(${s}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${s}TexShape[1]), 0.5);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n    float ${i}(int row, int col) {\n      float index = dot(vec3(row, col, ${h}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);\n      return sampleTexture(${s}, uv);\n    }\n  `;if(t)return`\n      float ${i}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${s}Shape[1] + col + ${h};\n        vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index);\n        return sampleTexture(${s}, uv);\n      }\n    `;return`\n  float ${i}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${h};\n    vec2 uv = uvFromFlat(${c}, ${u}, index);\n    return sampleTexture(${s}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,s=e.name,i="get"+s.charAt(0).toUpperCase()+s.slice(1),r=n[1]*n[2],a=n[2],{newShape:o,keptDims:l}=Zn(n),c=o;if(c.length<n.length){const n=["row","col","depth"];return`\n        ${qB(nR(e,c),t)}\n        float ${i}(int row, int col, int depth) {\n          return ${i}(${sR(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${i}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${r}, ${a}, 1)));\n        ${JB(e)}\n      }\n    `;const u=e.shapeInfo.texShape,h=u[0],d=u[1],p=e.shapeInfo.flatOffset;if(d===r&&null==p)return t?`\n      float ${i}(int row, int col, int depth) {\n        int stride1 = ${s}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n        float ${i}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${a}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${d}.0, ${h}.0);\n          return sampleTexture(${s}, uv);\n        }\n      `;if(d===a&&null==p)return t?`\n      float ${i}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${s}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n    float ${i}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${h}.0);\n      return sampleTexture(${s}, uv);\n    }\n  `;const f=$B(s);if(t)return`\n    float ${i}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${s}Shape[1] * ${s}Shape[2];\n      int stride1 = ${s}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${f};\n      vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index);\n      return sampleTexture(${s}, uv);\n    }\n    `;return`\n      float ${i}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r} + col * ${a} + depth + ${f};\n        vec2 uv = uvFromFlat(${h}, ${d}, index);\n        return sampleTexture(${s}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,s=e.name,i="get"+s.charAt(0).toUpperCase()+s.slice(1),r=n[3],a=n[2]*r,o=n[1]*a,{newShape:l,keptDims:c}=Zn(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${qB(nR(e,l),t)}\n      float ${i}(int row, int col, int depth, int depth2) {\n        return ${i}(${sR(n,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${i}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${o}, ${a}, ${r}, 1)));\n        ${JB(e)}\n      }\n    `;const u=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1],f=`int stride2 = ${s}Shape[3];`,m=`int stride1 = ${s}Shape[2] * stride2;`,g=`int stride0 = ${s}Shape[1] * stride1;`;if(p===o&&null==u)return t?`\n      float ${i}(int row, int col, int depth, int depth2) {\n        ${f}\n        ${m}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n      float ${i}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${a}, ${r}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${s}, uv);\n      }\n    `;if(p===r&&null==u)return t?`\n      float ${i}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${s}Shape[1] * ${s}Shape[2], ${s}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${s}TexShape[1], ${s}TexShape[0]);\n        return sampleTexture(${s}, uv);\n      }\n    `:`\n      float ${i}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${s}, uv);\n      }\n    `;const y=$B(s);if(t)return`\n    float ${i}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${f}\n      ${m}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index + ${y});\n      return sampleTexture(${s}, uv);\n    }\n  `;return`\n    float ${i}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${a} +\n          depth * ${r} + depth2;\n      vec2 uv = uvFromFlat(${d}, ${p}, index + ${y});\n      return sampleTexture(${s}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],r=t[3]*i,a=t[2]*r,o=t[1]*a,{newShape:l,keptDims:c}=Zn(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${qB(nR(e,l))}\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        return ${s}(${sR(t,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${o}, ${a}, ${r}, ${i})) +\n          depth3;\n        ${JB(e)}\n      }\n    `;const u=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1];if(p===o&&null==u)return`\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${a}, ${r}, ${i}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(p===i&&null==u)return`\n      float ${s}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const f=$B(n);return`\n    float ${s}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${a} + depth * ${r} +\n          depth2 * ${i} + depth3 + ${f};\n      vec2 uv = uvFromFlat(${d}, ${p}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:i,keptDims:r}=Zn(t);if(i.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${qB(nR(e,i))}\n      float ${s}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${s}(${sR(t,r)});\n      }\n    `}const a=t[5],o=t[4]*a,l=t[3]*o,c=t[2]*l,u=t[1]*c;if(e.shapeInfo.isUniform)return`\n      float ${s}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${u}, ${c}, ${l}, ${o})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${a}, 1)));\n        ${JB(e)}\n      }\n    `;const h=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],f=d[1];if(f===u&&null==h)return`\n      float ${s}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${c}, ${l}, ${o}, ${a})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===a&&null==h)return`\n      float ${s}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=$B(n);return`\n    float ${s}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${c} + depth * ${l} +\n          depth2 * ${o} + depth3 * ${a} + depth4 + ${m};\n      vec2 uv = uvFromFlat(${p}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function HB(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),s=LB();return`\n    vec4 ${n}() {\n      return ${s.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,r=LB();if(t)return`\n    vec4 ${s}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${r.texture2D}(${n}, uv);\n    }\n  `;const a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return`\n    vec4 ${s}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${a[0]}, ${a[1]}, index);\n      return ${r.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,s=e.name,i="get"+s.charAt(0).toUpperCase()+s.slice(1),r=e.shapeInfo.texShape,a=r[0],o=r[1],l=LB();if(null!=r&&Gn(n,r))return t?`\n      vec4 ${i}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);\n\n        return ${l.texture2D}(${s}, uv);\n      }\n    `:`\n      vec4 ${i}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${a}.0);\n\n        return ${l.texture2D}(${s}, uv);\n      }\n    `;if(t)return`\n    vec4 ${i}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${s}TexShape[0]) / 2.0), ceil(float(${s}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${s}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${s}, uv);\n    }\n  `;const c=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],u=Math.ceil(n[1]/2);return`\n    vec4 ${i}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${u}, ${c[0]}, ${c[1]}, row, col);\n      return ${l.texture2D}(${s}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,s=e.name,i="get"+s.charAt(0).toUpperCase()+s.slice(1),r=e.shapeInfo.texShape,a=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];if(1===n[0]){const s=[1,2],r=["b","row","col"];return`\n        ${HB(nR(e,n.slice(1)),t)}\n        vec4 ${i}(int b, int row, int col) {\n          return ${i}(${sR(r,s)});\n        }\n      `}const o=LB();if(t)return`\n    vec4 ${i}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${s}TexShape[0]) / 2.0), ceil(float(${s}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${s}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${s}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${o.texture2D}(${s}, uv);\n    }\n  `;const l=a[0],c=a[1],u=Math.ceil(n[2]/2),h=u*Math.ceil(n[1]/2);return`\n    vec4 ${i}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${c}, ${h}, ${u}, b, row, col);\n      return ${o.texture2D}(${s}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),i=LB();if(t)return`\n    vec4 ${s}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${i.texture2D}(${n}, uv);\n    }\n  `;const r=e.shapeInfo.logicalShape,a=r.length,o=e.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=l[0],u=l[1],h=Math.ceil(r[a-1]/2);let d=h*Math.ceil(r[a-2]/2),p="int b, int row, int col",f=`b * ${d} + (row / 2) * ${h} + (col / 2)`;for(let e=2;e<a-1;e++)p=`int b${e}, `+p,d*=r[a-e-1],f=`b${e} * ${d} + `+f;return`\n    vec4 ${s}(${p}) {\n      int index = ${f};\n      int texR = index / ${u};\n      int texC = index - texR * ${u};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const YB="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",KB="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ZB="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",QB="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function XB(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function $B(e){return`offset${e}`}function JB(e){const t=e.name,n=Wn(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function eR(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function tR(e,t,n){const{newShape:s,keptDims:i}=Zn(t),r=t.length,a=e&&3===r&&1===t[0],o=a?t.slice(1):s,l=!e&&r>1&&!Gn(t,n)&&s.length<r||a;return{useSqueezeShape:l,uniformShape:l?o:t,keptDims:i}}function nR(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function sR(e,t){return t.map((t=>e[t])).join(", ")}function iR(e,t,n,s){const i=n.map(((e,n)=>{const s={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(s.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:s}})),r=i.map((e=>e.shapeInfo)),a={logicalShape:s.shape,texShape:s.texData.texShape,isUniform:!1,isPacked:s.texData.isPacked,flatOffset:null},o=jB(i,a,t),l=function(e,t){const n=xB(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(hB(e,(()=>e.shaderSource(n,t))),hB(e,(()=>e.compileShader(n))),As().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw mB(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,o),c=e.createProgram(l);return As().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:o,webGLProgram:c,inShapeInfos:r,outShapeInfo:a,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(c),Object.assign({program:t,fragmentShader:l,source:o,webGLProgram:c,inShapeInfos:r,outShapeInfo:a},rR(e,t,c)))}function rR(e,t,n){const s=[],i=[];let r,a,o,l=null,c=null;c=e.getUniformLocation(n,"NAN",!1),1===As().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const i of t.variableNames){const r={name:i,uniform:e.getUniformLocation(n,i,u),offset:e.getUniformLocation(n,`offset${i}`,u)};t.enableShapeUniforms&&(r.shape=e.getUniformLocation(n,`${i}Shape`,u),r.texShape=e.getUniformLocation(n,`${i}TexShape`,u)),s.push(r)}if(t.enableShapeUniforms&&(r=e.getUniformLocation(n,"outShape",u),o=e.getUniformLocation(n,"outShapeStrides",u),a=e.getUniformLocation(n,"outTexShape",u)),t.customUniforms)for(const s of t.customUniforms)i.push(e.getUniformLocation(n,s.name,u));return{variablesLocations:s,customUniformLocations:i,infLoc:l,nanLoc:c,outShapeLocation:r,outShapeStridesLocation:o,outTexShapeLocation:a}}function aR(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const s=e.logicalShape,i=t[n],r=i.shape;if(!Gn(s,r))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${r} must match`);if(e.isUniform&&i.isUniform)return;const a=e.texShape,o=i.isUniform?null:i.texData.texShape;if(!Gn(a,o))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${o} must match`)}))}function oR(e){return As().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class lR{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=tB.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=LB();this.outputShape=e,this.enableShapeUniforms=oR(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?VB(["r","c","d"],e):zB(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class cR{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=tB.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=LB();this.outputShape=e,this.enableShapeUniforms=oR(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?VB(["r","c","d"],e):zB(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class uR{constructor(e){this.variableNames=["A"],this.outTexUsage=sB.DOWNLOAD;const t=LB();this.outputShape=e,this.userCode=`\n      ${GB}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class hR{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=sB.DOWNLOAD;const t=LB();this.outputShape=e,this.userCode=`\n      ${GB}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}const dR={R:0,G:1,B:2,A:3};class pR{constructor(e,t=!1,n="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=LB();this.outputShape=e,this.enableShapeUniforms=oR(this.outputShape.length);let i="result";t&&(i="floor(result * 255. + 0.5)");let r="";for(let e=0;e<n.length;e++){const t=n[e];r+=`\n          if(offset == ${e}) {\n            result = values[${dR[t]}];\n          }`}this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":WB(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${n.length});\n\n        flatIndex = idiv(flatIndex, ${n.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${s.texture2D}(A, uv);\n          ${r}\n        }\n        ${s.output} = vec4(${i}, 0., 0., 0.);\n      }\n    `}}class fR{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=LB();this.outputShape=e,this.enableShapeUniforms=oR(this.outputShape.length);let s="",i="result";t&&(i="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let i=0;i<=1;i++){const r=2*t+i;s+=`\n          localCoords = coords;\n          if(localCoords[2] + ${i} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${i};\n          if (localCoords[1] + ${t} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${t};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${r}] = values[0];\n            } else if (offset == 1) {\n              result[${r}] = values[1];\n            } else if (offset == 2) {\n              result[${r}] = values[2];\n            } else {\n              result[${r}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":WB(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${s}\n\n          ${n.output} = ${i};\n        }\n    `}}function mR(e){const t=LB();return function(e,t){const n=xB(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(hB(e,(()=>e.shaderSource(n,t))),hB(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function gR(e){return function(e,t){const n=xB(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return hB(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),hB(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function yR(e){return function(e,t){const n=xB(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return hB(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),hB(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function AR(e,t,n,s,i,r){!function(e,t){const n=As().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const a=function(e){return xB(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),o=e.TEXTURE_2D;return hB(e,(()=>e.bindTexture(o,a))),hB(e,(()=>e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),hB(e,(()=>e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),hB(e,(()=>e.texParameteri(o,e.TEXTURE_MIN_FILTER,e.NEAREST))),hB(e,(()=>e.texParameteri(o,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===As().getNumber("WEBGL_VERSION")?hB(e,(()=>e.texImage2D(o,0,s,t,n,0,i,r,null))):hB(e,(()=>e.texStorage2D(o,1,s,t,n))),hB(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:a,texShape:[n,t]}}function wR(e){return e.internalFormatFloat}function bR(e){return e.internalFormatHalfFloat}function vR(e){return e.downloadTextureFormat}function xR(e){return e.internalFormatPackedFloat}function CR(e){return e.internalFormatPackedHalfFloat}function kR(e,t,n,s,i,r,a,o){const l=e,c=new Float32Array(function(e,t){const[n,s]=cB(e,t);return n*s*4}(r,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}class ER{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=As().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){$M[e]=t}(t,e)):this.gl=eB(t),e=this.gl,2===As().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>hB(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>hB(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>hB(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>hB(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>hB(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>hB(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>hB(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>hB(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===As().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=pB(this.gl,e),DB(this.gl,t))this.textureHalfFloatExtension=pB(this.gl,t);else if(As().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),DB(this.gl,s))this.colorBufferHalfFloatExtension=pB(this.gl,s);else if(As().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",DB(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!DB(this.gl,s))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(s)}this.vertexBuffer=gR(this.gl),this.indexBuffer=yR(this.gl),this.framebuffer=function(e){return xB(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=uB(this.gl,this.textureHalfFloatExtension)}get debug(){return As().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program,this.outputTexture;const e=this.gl;hB(e,(()=>e.finish())),hB(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),hB(e,(()=>e.deleteFramebuffer(this.framebuffer))),hB(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),hB(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),hB(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,s){const[i,r]=oB(t,n);return AR(e,i,r,wR(s),s.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,s){const[i,r]=oB(t,n);return AR(e,i,r,bR(s),s.textureFormatFloat,s.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,s){const[i,r]=oB(t,n);return AR(e,i,r,vR(s),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){hB(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===As().getNumber("WEBGL_VERSION")?hB(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):hB(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===As().getNumber("WEBGL_VERSION")?hB(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):hB(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),hB(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,s){this.throwIfDisposed(),function(e,t,n,s,i,r){let a,o,l;hB(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),i instanceof Uint8Array?(a=new Uint8Array(n*s*4),o=e.UNSIGNED_BYTE,l=e.RGBA):(a=new Float32Array(n*s*4),o=e.FLOAT,l=r.internalFormatPackedFloat),a.set(i),2===As().getNumber("WEBGL_VERSION")?hB(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,s,e.RGBA,o,a))):hB(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,s,0,e.RGBA,o,a))),hB(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,s,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,s){const[i,r]=cB(t,n);return AR(e,i,r,CR(s),e.RGBA,s.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,s){const[i,r]=cB(t,n);return AR(e,i,r,xR(s),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(bB(this.gl,this.framebuffer),this.outputTexture=null),hB(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,s){const[i,r]=oB(t,n),a=new Uint8Array(t*n*4);return hB(e,(()=>e.readPixels(0,0,i,r,s.downloadTextureFormat,e.UNSIGNED_BYTE,a))),new Float32Array(a.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,s,i,r){return kR(this.gl,e,0,0,0,i,r,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const s=e,i=new Float32Array(n);return s.bindBuffer(s.PIXEL_PACK_BUFFER,t),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,i),s.bindBuffer(s.PIXEL_PACK_BUFFER,null),i}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const s=function(e,t,n){const s=e.createBuffer();hB(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,s)));const i=16*t*n;return hB(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ))),hB(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),hB(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),s}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(As().getBool("WEBGL_FENCE_API_ENABLED")){const s=e,i=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=s.clientWaitSync(i,0,0);return e===s.ALREADY_SIGNALED||e===s.CONDITION_SATISFIED},t=i}else As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const s=new Float32Array(t*n*4);return hB(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,s))),s}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=mR(t));const n=function(e){return xB(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);hB(t,(()=>t.attachShader(n,this.vertexShader))),hB(t,(()=>t.attachShader(n,e))),function(e,t){if(hB(e,(()=>e.linkProgram(t))),!As().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw new Error("Failed to link vertex and fragment shaders.")}(t,n);const s=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&gB(t,s),s}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;hB(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),function(e,t,n){hB(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),yB(e,t,"clipSpacePos",n,3,20,0)&&yB(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(hB(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&gB(this.gl,this.program),hB(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?function(e,t,n){return xB(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),hB(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),AB(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[s,i]=cB(t,n);this.setOutputMatrixTextureDriver(e,s,i)}setOutputMatrixWriteRegion(e,t,n,s){this.setOutputMatrixWriteRegionDriver(n,e,s,t)}setOutputPackedMatrixWriteRegion(e,t,n,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&gB(this.gl,this.program),vB(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){this.getVertexArray();this.debugValidate()}hB(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),hB(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=pB(this.gl,2===As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await Hn((()=>this.disposed||this.isQueryAvailable(e,As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),s=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),s&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in As().platform&&(n=As().platform.setTimeoutCustom.bind(As().platform)),Hn((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),wB(this.gl,e,this.framebuffer),this.debug&&vB(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(wB(this.gl,this.outputTexture,this.framebuffer),this.debug&&vB(this.gl)):bB(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const s=this.gl;wB(s,e,this.framebuffer),this.debug&&vB(s),this.outputTexture=e,hB(s,(()=>s.viewport(0,0,t,n))),hB(s,(()=>s.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,s){this.throwIfDisposed(),hB(this.gl,(()=>this.gl.scissor(e,t,n,s)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{mx:SR,XI:IR,Nk:TR,f6:_R,ct:NR,YG:DR,hH:MR,z3:BR,sG:RR,uM:FR,vS:OR,qB:LR,GG:zR,rq:VR,lg:PR,WR,cu:GR,GE:UR,px:jR,jC:qR,He:HR,hE:YR,BF:KR,Dk:ZR,cl:QR,_B:XR,ub:$R,_f:JR,Ku:eF,qy:tF,Zy:nF,bu:sF,zv:iF,dH:rF,HS:aF,yH:oF,l3:lF,z9:cF,x6:uF,_m:hF,eW:dF,GK:pF,SP:fF,yr:mF,dl:gF,Dw:yF,xT:AF,_X:wF,wz:bF}=E;function vF(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function xF(e,t){return 1===t?[e]:vF(e,t)}class CF{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=oR(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=xF("rc",this.rank),t=eR(this.rank),n=this.getOutOfBoundsCondition(e),s=this.getSetup(e),i=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${s}\n\n            setOutput(vec4(${i}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let s=0;s<=1;s++){let i=`${0===n?"r":"rp1"}, ${0===s?"c":"cp1"}`;for(let t=2;t<this.rank;t++)i=`${e[e.length-1-t]},`+i;t.push(i)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${s};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class kF{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=oR(this.outputShape.length);let n="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),n+=`\n        ${t}\n        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${e>0?"}":""}\n      `}var s,i;this.userCode=`\n      ${s=t,i=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${i?PB(["r","c","d"],"inputShape"):zB(["r","c","d"],s)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":WB(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class EF{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const s=IF(t,n),i=TF(e,s,n);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const r=SF(e,s,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=r,this.log();const e=this.freeTextures[i].pop();return this.usedTextures[i].push(e),e}let a;return s===rB.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):s===rB.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):s===rB.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):s===rB.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):s===rB.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),this.numUsedTextures++,this._numBytesAllocated+=r,this.log(),a}releaseTexture(e,t,n,s){if(null==this.freeTextures)return;const i=IF(n,s),r=TF(t,i,s);r in this.freeTextures||(this.freeTextures[r]=[]);const a=SF(t,i,this.gpgpu.gl,this.gpgpu.textureConfig,s),o=As().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==o&&this._numBytesAllocated>o?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[r].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const l=this.usedTextures[r],c=l&&l.indexOf(e);if(null==c||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[c]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;this.numFreeTextures,this.numUsedTextures,this._numBytesFree,this._numBytesAllocated}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function SF(e,t,n,s,i){const r=function(e,t){switch(e){case rB.PACKED_2X2_FLOAT32:return xR(t);case rB.PACKED_2X2_FLOAT16:return CR(t);case rB.UNPACKED_FLOAT32:return wR(t);case rB.UNPACKED_FLOAT16:return bR(t);case rB.PACKED_4X1_UNSIGNED_BYTE:return vR(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,s);let a;if(i){const[t,n]=cB(e[0],e[1]);a=t*n}else{const[t,n]=oB(e[0],e[1]);a=t*n}const o=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,r);return a*o}function IF(e,t){if(e===sB.UPLOAD)return rB.PACKED_2X2_FLOAT32;if(e===sB.RENDER||null==e)return function(e){return As().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?rB.PACKED_2X2_FLOAT32:rB.UNPACKED_FLOAT32:e?rB.PACKED_2X2_FLOAT16:rB.UNPACKED_FLOAT16}(t);if(e===sB.DOWNLOAD||e===sB.PIXELS)return rB.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function TF(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class _F{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=oR(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const NF="if (isnan(x)) return x;",DF="return abs(x);";const MF=NF+"\n  return (x < 0.0) ? 0.0 : x;\n",BF=NF+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",RF="return x;";class FF{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=oR(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class OF{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=oR(this.outputShape.length);const t=e.length,n=xF("rc",t),s=eR(t),i=function(e,t){if(1===e)return"rc";let n="";for(let s=0;s<e;s++)n+=t[s],s<e-1&&(n+=",");return n}(t,n),r=n.slice(-2),a=t<=1?"rc":`vec2(${r.join(",")})`;this.userCode=`\n      void main() {\n        ${s} rc = getOutputCoords();\n        vec4 packedInput = getA(${i});\n\n        setOutput(getChannel(packedInput, ${a}));\n      }\n    `}}const LF=Hf,zF={};const VF=As().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class PF extends Mn{nextDataId(){return PF.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!As().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof ER)t=e;else{const n=eB(As().getNumber("WEBGL_VERSION"),e);t=new ER(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=eB(As().getNumber("WEBGL_VERSION"));t=new ER(e),this.binaryCache=((n=As().getNumber("WEBGL_VERSION"))in zF||(zF[n]={}),zF[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new EF(this.gpgpu),this.numMBBeforeWarning=null==As().global.screen?1024:As().global.screen.height*As().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new Dn(this,ml())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,s,i,r){const a=this.makeTensorInfo(t,n),o=this.texData.get(a.dataId);o.isPacked=!1,o.texture={texture:e,texShape:[s,i]},o.texShape=[s,i];const l=SB(t),c=new pR(l,!1,r),u=this.runWebGLProgram(c,[a],n,[[s,i]]);return u.shape=t,o.texture=null,this.disposeIntermediateTensorInfo(a),u.dataId}write(e,t,n){if((As().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||As().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:t,dtype:n,values:e,usage:sB.UPLOAD,refCount:1}),s}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,s,i){if(As().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===s)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:s,values:t,usage:sB.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:s,complexTensorInfos:i,slice:r,shape:a,isPacked:o}=t;if(null!=r){let t;t=o?new FF(a,RF):new _F(a,RF);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:s}],s),i=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),i}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===s)return n;const l=null!=this.activeTimers;let c,u;if(l&&(c=oo()),"complex64"===s){u=Vg(this.readSync(i.real.dataId),this.readSync(i.imag.dataId))}else u=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=oo()-c),this.convertAndCacheOnCPU(e,u)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:s,slice:i,dtype:r,complexTensorInfos:a,isPacked:o}=t;if(null!=i){let t;t=o?new FF(s,RF):new _F(s,RF);const n=this.runWebGLProgram(t,[{dataId:e,shape:s,dtype:r}],r),i=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),i}if(null!=n)return this.convertAndCacheOnCPU(e);if(As().getBool("DEBUG")&&!As().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===As().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,c,u=null;if("complex64"!==r&&As().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);u=this.gpgpu.createBufferFromTexture(t.texture.texture,...lB(s))}if(this.pendingRead.set(e,[]),"complex64"!==r&&await this.gpgpu.createAndWaitForFence(),"complex64"===r){const e=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]);c=Vg(e[0],e[1])}else if(null==u)c=this.getValuesFromTexture(e);else{const e=Wn(s);c=this.gpgpu.downloadFloat32MatrixFromBuffer(u,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=u){const e=this.gpgpu.gl;hB(e,(()=>e.deleteBuffer(u)))}const h=this.convertAndCacheOnCPU(e,c),d=this.pendingRead.get(e);return this.pendingRead.delete(e),d.forEach((e=>e(h))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&ml().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,t={}){const n=this.texData.get(e),{values:s,shape:i,slice:r,dtype:a,isPacked:o,texture:l}=n;if("complex64"===a)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=r){let n;n=o?new FF(i,RF):new _F(i,RF);const s=this.runWebGLProgram(n,[{dataId:e,shape:i,dtype:a}],a),r=this.readToGPU(s,t);return this.disposeIntermediateTensorInfo(s),r}if(null==l)throw null!=s?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,t.customTexShape),u=ml().makeTensorFromTensorInfo(c),h=this.texData.get(c.dataId);return Object.assign({tensorRef:u},h.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>co(e)));return kc(e.shape,e.dtype,n)}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return kc(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!dB(n)){if(As().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:s}=this.texData.get(e),i=Wn(t);if(As().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),s=this.texData.get(n.dataId),r=this.gpgpu.downloadMatrixFromPackedTexture(s.texture.texture,...lB(t)).subarray(0,i);return this.disposeIntermediateTensorInfo(n),r}const r=As().getBool("WEBGL_PACK")&&!0===s,a=r?SB(t):t,o=r?new hR(a):new uR(a),l=this.runWebGLProgram(o,[{shape:a,dtype:n,dataId:e}],"float32"),c=this.texData.get(l.dataId),u=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(l),u}timerAvailable(){return As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let s=!1;null==this.programTimersStack?(this.programTimersStack=n,s=!0):this.activeTimers.push(n),this.activeTimers=n,e();const i=ho(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),r=ho(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,s&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(i);a.kernelMs=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}(e),a.getExtraProfileInfo=()=>e.map(((e,t)=>({name:r[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:oo(),endMs:null}}endTimer(e){return As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=oo(),e)}async getQueryTime(e){if(As().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:s,usage:i,isPacked:r,slice:a}=this.texData.get(e),o=a&&a.origDataId||e,l=this.dataRefCount.get(o);l>1?this.dataRefCount.set(o,l-1):(this.dataRefCount.delete(o),null!=t&&(this.numBytesInGPU-=this.computeBytes(s,n),this.textureManager.releaseTexture(t,s,i,r)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=VF){return As().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&Wn(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){Ra();const t=e.dataSync();return LF(e.shape,t)}packedUnaryOp(e,t,n){const s=new FF(e.shape,t),i=this.compileAndRun(s,[e],n);return ml().makeTensorFromTensorInfo(i)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=rF(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(As().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,DF,e.dtype);const t=new _F(e.shape,DF),n=this.compileAndRun(t,[e]);return ml().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let s;if("string"===t&&null!=n&&n.length>0&&es(n[0])){const i=n.map((e=>lo(e)));s=this.write(i,e,t)}else s=this.write(n,e,t);return this.texData.get(s).usage=null,{dataId:s,shape:e,dtype:t}}makeOutput(e,t,n){return ml().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new OF(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new CF(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[kB(e.shape),...EB(e.shape)],s={dtype:e.dtype,shape:n,dataId:e.dataId},i=[kB(t),...EB(t)],r=new kF(i,n),a=[n],o=this.runWebGLProgram(r,[s],e.dtype,a,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:s,shape:i,dtype:r}=n;if(null!=t){zn(Wn(i)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const a=SB(i);let o;o=s?new cR(a):new lR(a);const l=[null!=t?t:lB(a)];return{dtype:r,shape:i,dataId:this.runWebGLProgram(o,[{shape:a,dtype:r,dataId:e}],r,l,!0,t).dataId}}runWebGLProgram(e,t,n,s,i=!1,r){const a=this.makeTensorInfo(e.outputShape,n),o=this.texData.get(a.dataId);if(e.packedOutput&&(o.isPacked=!0),e.outPackingScheme===tB.DENSE){const t=null!=r?r:lB(e.outputShape);o.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(o.usage=e.outTexUsage),0===Wn(a.shape))return o.values=Qn(a.dtype,0),a;const l=[],c=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&Wn(t.shape)<=As().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!=!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!TB(n.shape,t.shape)){const e=t,s=t.shape;t.shape=n.shape,t=this.packedReshape(t,s),l.push(t),n=this.texData.get(t.dataId),e.shape=s}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(a.dataId);const u={shape:a.shape,texData:o,isUniform:!1},h=function(e,t,n){let s="";t.concat(n).forEach((t=>{const i=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const r=t.texData.texShape,{useSqueezeShape:a,uniformShape:o,keptDims:l}=tR(e.packedInputs,t.shape,r);let c="",u="",h="";if(1===o.length&&e.packedInputs){const e=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];c=`${e[0]>1}_${e[1]>1}`}else if(2!==o.length||e.packedInputs){if(o.length>2&&!e.packedInputs){const e=rs(o);h=`${e[0]===r[1]}_${e[e.length-1]===r[1]}`}}else u=`${o[0]>1}_${o[1]>1}`;const d=t.shape.length,p=2===o.length&&Gn(t.shape,r),f=1===Wn(t.shape),m=Qc(t.shape,n.shape),g=!e.packedInputs&&d===n.shape.length&&Gn(r,n.texData.texShape),y=e.packedInputs||o.length>2?"":`${r[0]>1}_${r[1]>1}`;s+=`${d}_${g}_${a?l:""}_${o.length}_${f}_${m}_${p}_${c}_${u}_${h}_${y}_${i}`}else{const e=t.isUniform?"uniform":t.texData.texShape;s+=`${t.shape}_${e}_${i}`}}));const i=e.userCode;let r=e.constructor.name;return r+="_"+s+"_"+i+`${As().getNumber("WEBGL_VERSION")}`,r}(e,c,u),d=this.getAndSaveBinary(h,(()=>iR(this.gpgpu,e,c,u))),p=null!=this.activeTimers;let f;p&&(f=this.startTimer()),As().get("ENGINE_COMPILE_ONLY")||function(e,t,n,s,i){t.program.enableShapeUniforms||(aR(t.inShapeInfos,n),aR([t.outShapeInfo],[s]));const r=s.texData.texture,a=s.texData.texShape;s.texData.isPacked?e.setOutputPackedMatrixTexture(r.texture,a[0],a[1]):e.setOutputMatrixTexture(r.texture,a[0],a[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===As().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let s=0;s<n.length;++s){const i=n[s],{uniform:r,offset:a,shape:o,texShape:l}=t.variablesLocations[s];if(o){const{uniformShape:n}=tR(t.program.packedInputs,i.shape,i.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(o,new Int32Array(n));break;case 2:e.gl.uniform2iv(o,new Int32Array(n));break;case 3:e.gl.uniform3iv(o,new Int32Array(n));break;case 4:e.gl.uniform4iv(o,new Int32Array(n))}}if(l&&e.gl.uniform2i(l,i.texData.texShape[0],i.texData.texShape[1]),null!=r)if(i.isUniform)if(Wn(i.shape)<2)e.gl.uniform1f(r,i.uniformValues[0]);else{let t=i.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(r,t)}else null!=i.texData.slice&&null!=a&&e.gl.uniform1i(a,i.texData.slice.flatOffset),e.setInputMatrixTexture(i.texData.texture.texture,r,s)}const o=t.outShapeLocation;if(o)switch(s.shape.length){case 1:e.gl.uniform1iv(o,new Int32Array(s.shape));break;case 2:e.gl.uniform2iv(o,new Int32Array(s.shape));break;case 3:e.gl.uniform3iv(o,new Int32Array(s.shape));break;case 4:e.gl.uniform4iv(o,new Int32Array(s.shape))}if(t.outShapeStridesLocation){const n=rs(s.shape);switch(s.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,s.texData.texShape[0],s.texData.texShape[1]),t.program.customUniforms&&i)for(let n=0;n<t.program.customUniforms.length;++n){const s=t.program.customUniforms[n],r=t.customUniformLocations[n],a=i[n];if("float"===s.type)e.gl.uniform1fv(r,a);else if("vec2"===s.type)e.gl.uniform2fv(r,a);else if("vec3"===s.type)e.gl.uniform3fv(r,a);else if("vec4"===s.type)e.gl.uniform4fv(r,a);else if("int"===s.type)e.gl.uniform1iv(r,a);else if("ivec2"===s.type)e.gl.uniform2iv(r,a);else if("ivec3"===s.type)e.gl.uniform3iv(r,a);else{if("ivec4"!==s.type)throw Error(`uniform type ${s.type} is not supported yet.`);e.gl.uniform4iv(r,a)}}e.executeProgram()}(this.gpgpu,d,c,u,s),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),p&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=As().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=oo();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!As().getBool("WEBGL_LAZILY_UNPACK")&&o.isPacked&&!1===i){const e=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),e}return a}compileAndRun(e,t,n,s,i=!1){n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,s,i)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!As().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=yl((()=>{if(!As().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=As().getBool("DEBUG");As().set("DEBUG",!1);const t=this.abs(Oc(1e-8)).dataSync()[0];if(As().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:s,values:i,texture:r,usage:a,isPacked:o}=t;if(null!=r)return;const l=null!=this.activeTimers;let c;l&&(c=oo());let u=t.texShape;if(null==u&&(u=function(e,t=!1){let n=As().getNumber("WEBGL_MAX_TEXTURE_SIZE"),s=As().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(s===1/0&&As().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(s=n/2),t&&(n*=2,s*=2,1===(e=e.map(((t,n)=>n>=e.length-2?On(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=Zn(e);e=t.newShape}let i=Wn(e),r=null;e.length<=1&&i<=n?r=[1,i]:2===e.length&&e[0]<=n&&e[1]<=n?r=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?r=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?r=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?r=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(r=[e[0],e[1]*e[2]*e[3]]);const a=null!=r&&Math.max(...r)>s&&Math.min(...r)<=(t?2:1)&&Math.min(...r)>0;if(null==r||a)if(t){const t=kB(e);let n=2,s=2;e.length&&([n,s]=EB(e)),i=t*(n/2)*(s/2),r=jn(i).map((e=>2*e))}else r=jn(i);return r}(n,o),t.texShape=u),null!=i){const e=SB(n);let r,a=u[1],h=u[0];const d=i instanceof Uint8Array||i instanceof Uint8ClampedArray;!o&&d||([a,h]=cB(u[0],u[1])),r=o?new fR(e,d):new pR(e,d);const p=d?[h,a]:u,f=this.makeTensorInfo(p,s),m=this.texData.get(f.dataId);m.usage=d?sB.PIXELS:sB.UPLOAD,m.texShape=p,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),a,h,i);const g=[[h,a]],y=!0,A=this.runWebGLProgram(r,[f],s,g,y),w=this.texData.get(A.dataId);t.texShape=w.texShape,t.isPacked=w.isPacked,t.usage=w.usage,As().get("ENGINE_COMPILE_ONLY")?this.disposeData(A.dataId):(t.texture=w.texture,t.values=null,this.texData.delete(A.dataId)),this.disposeIntermediateTensorInfo(f),l&&(this.uploadWaitMs+=oo()-c)}else{const e=this.acquireTexture(u,a,s,o);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:s}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,s)),n.values}acquireTexture(e,t,n,s){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0}return this.textureManager.acquireTexture(e,t,s)}computeBytes(e,t){return e[0]*e[1]*Jn(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(e){throw e}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await pg(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw mB(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:s,nanLoc:i,outShapeLocation:r,outShapeStridesLocation:a,outTexShapeLocation:o}=rR(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=s,e.nanLoc=i,e.outShapeLocation=r,e.outShapeStridesLocation=a,e.outTexShapeLocation=o}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:s,height:i,width:r,channels:a}=e,o=ml().backend;if(!o.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=o.writeTexture(s,t,n,i,r,a);return ml().makeTensorFromDataId(l,t,n,o)}}PF.nextDataId=0;tl()&&bl("webgl",(()=>new PF),2);const WF="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class GF{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=$c(t,n),this.enableShapeUniforms=oR(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}const UF="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class jF{constructor(e,t,n,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=$c(t,n);const i=this.outputShape.length;this.enableShapeUniforms=oR(i);let r="";if(s)if(0===i||1===Wn(this.outputShape))r="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(r=`\n          ${eR(i)} coords = getOutputCoords();\n        `,1===i)this.enableShapeUniforms?r+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":r+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=xF("coords",i);this.enableShapeUniforms?r+=`\n            bool nextRowOutOfBounds =\n              (${e[i-2]} + 1) >= outShape[${i} - 2];\n            bool nextColOutOfBounds =\n              (${e[i-1]} + 1) >= outShape[${i} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:r+=`\n            bool nextRowOutOfBounds =\n              (${e[i-2]} + 1) >= ${this.outputShape[i-2]};\n            bool nextColOutOfBounds =\n              (${e[i-1]} + 1) >= ${this.outputShape[i-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${r}\n\n        setOutput(result);\n      }\n    `}}function qF(e){const{inputs:t,backend:n}=e,{x:s}=t;return n.incRef(s.dataId),{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}const HF={kernelName:zi,backendName:"webgl",kernelFunc:qF};function YF(e){const{inputs:t,backend:n}=e,{real:s,imag:i}=t,r=n.makeTensorInfo(s.shape,"complex64"),a=n.texData.get(r.dataId),o=qF({inputs:{x:s},backend:n}),l=qF({inputs:{x:i},backend:n});return a.complexTensorInfos={real:o,imag:l},r}const KF={kernelName:Zs,backendName:"webgl",kernelFunc:YF},ZF="return (a < 0.) ? b * a : a;",QF="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const XF={kernelName:ji,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{alpha:r}=s,a=n.makeTensorInfo([],"float32",ro(r,"float32")),o=As().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new jF(QF,i.shape,a.shape):new GF(ZF,i.shape,a.shape),l=n.runWebGLProgram(o,[i,a],"float32");return n.disposeIntermediateTensorInfo(a),l}},$F="return (a < 0.) ? b * a : a;",JF="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const eO={kernelName:Er,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s,alpha:i}=t,r=As().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new jF(JF,s.shape,i.shape):new GF($F,s.shape,i.shape);return n.runWebGLProgram(r,[s,i],"float32")}},tO="if (isnan(x)) return x;";function nO({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:s}){return({inputs:i,backend:r})=>{const{x:a}=i,o=r,l=s||a.dtype;if(o.shouldExecuteOnCPU([a])&&null!=n){const e=o.texData.get(a.dataId),t=n(e.values,l);return o.makeTensorInfo(a.shape,l,t)}let c;return c=As().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new FF(a.shape,t):new _F(a.shape,e),o.runWebGLProgram(c,[a],l)}}function sO({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:s=!1,cpuKernelImpl:i,dtype:r}){return({inputs:a,backend:o})=>{const{a:l,b:c}=a,u=o;if(s&&"complex64"===l.dtype){const t=u.texData.get(l.dataId),n=u.texData.get(c.dataId),[s,i]=[[t.complexTensorInfos.real,n.complexTensorInfos.real],[t.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((t=>{const[n,s]=t,i={dataId:n.dataId,dtype:n.dtype,shape:l.shape},r={dataId:s.dataId,dtype:s.dtype,shape:c.shape},a=new GF(e,l.shape,c.shape);return u.runWebGLProgram(a,[i,r],Vo(n.dtype,s.dtype))})),r=YF({inputs:{real:s,imag:i},backend:u});return u.disposeIntermediateTensorInfo(s),u.disposeIntermediateTensorInfo(i),r}const h=r||Vo(l.dtype,c.dtype);if(("string"===l.dtype||"string"===c.dtype||u.shouldExecuteOnCPU([l,c]))&&null!=i){const e=u.texData.get(l.dataId).values,t=u.texData.get(c.dataId).values,n="string"===l.dtype?wy(e):e,s="string"===l.dtype?wy(t):t,[r,a]=i(l.shape,c.shape,n,s,h),o=u.makeTensorInfo(a,h);return u.texData.get(o.dataId).values=r,o}let d;return d=As().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new jF(t,l.shape,c.shape,n):new GF(e,l.shape,c.shape),u.runWebGLProgram(d,[l,c],h)}}function iO(e,t=!1){if("linear"===e)return"return x;";if("relu"===e)return t?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":MF;if("elu"===e)return t?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return t?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":BF;if("prelu"===e)return t?JF:$F;if("leakyrelu"===e)return t?QF:ZF;if("sigmoid"===e)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class rO{constructor(e,t,n,s=!1,i=!1,r=!1,a=null,o=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=oR(this.outputShape.length);const c=s?e[1]:e[2],u=Math.ceil(c/2),h=s?"i * 2, rc.y":"rc.y, i * 2",d=i?"rc.z, i * 2":"i * 2, rc.z",p=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";a&&(m=o?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${a}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${a}\n        }`:`vec4 activation(vec4 x) {\n          ${a}\n        }`,g="result = activation(result);");const y=r?"result += getBiasAtOutCoords();":"";r&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let A="rc.x",w="rc.x";e[0]<t[0]?A=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(w=`imod(rc.x, ${t[0]})`),this.userCode=`\n      ${m}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${u}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${A};\n        int batchB = ${w};\n        for (int i = 0; i < ${u}; i++) {\n          vec4 a = getMatrixA(batchA, ${h});\n          vec4 b = getMatrixB(batchB, ${d});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${p[0]} * ${f[0]});\n          result += (${p[1]} * ${f[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${y}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const aO="return areal * breal - aimag * bimag;",oO="return areal * bimag + aimag * breal;";class lO{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=$c(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const cO="return a * b;";function uO(e){const{inputs:t,backend:n}=e,{a:s,b:i}=t,r=Vo(s.dtype,i.dtype);if("complex64"===s.dtype){const e=n.texData.get(s.dataId),t=n.texData.get(i.dataId),r=new lO(aO,s.shape,i.shape),a=new lO(oO,s.shape,i.shape),o=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:s.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:s.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:i.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:i.shape}],l=n.runWebGLProgram(r,o,"float32"),c=n.runWebGLProgram(a,o,"float32"),u=YF({inputs:{real:l,imag:c},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),u}if(n.shouldExecuteOnCPU([s,i])){const e=n.texData.get(s.dataId),t=n.texData.get(i.dataId),[a,o]=KR(s.shape,i.shape,e.values,t.values,r),l=n.makeTensorInfo(o,r);return n.texData.get(l.dataId).values=a,l}let a;return a=As().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new jF(cO,s.shape,i.shape):new GF(cO,s.shape,i.shape),n.runWebGLProgram(a,[s,i],r)}const hO={kernelName:fr,backendName:"webgl",kernelFunc:uO};function dO(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{shape:r}=s,a=n,o=Wn(i.shape),l=Yn(r,o),c=Wn(l);zn(o===c,(()=>`The new shape (${l}) has ${c} elements and the old shape (${i.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`));const u=a.texData.get(i.dataId);return!u.isPacked||TB(i.shape,l)||null!==u.texture&&TB(u.shape,l)?(a.incRef(i.dataId),{dataId:i.dataId,shape:l,dtype:i.dtype}):function(e,t,n){const s=[kB(e.shape),...EB(e.shape)],i={dtype:e.dtype,shape:s,dataId:e.dataId},r=[kB(t),...EB(t)],a=new kF(r,s),o=[s],l=n.runWebGLProgram(a,[i],e.dtype,o,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(i,l,a)}const pO={kernelName:Rr,backendName:"webgl",kernelFunc:dO};class fO{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:s,inSize:i,outSize:r}=e;this.outputShape=[s,r];const a=4*Math.floor(n/4),o=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${Un(e)?e.toPrecision(2):e}, ones);`}let c="";i%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${a}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${a};\n        if (${1===o}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class mO{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:s,inSize:i,outSize:r}=e;this.outputShape=[s,r];let a="0.0",o="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",o="min"):"max"===t&&(a="-1.0 / 1e-20",o="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const c=4*Math.floor(n/4),u=n%4;let h=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${o}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${o}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,d="vec4";"all"===t?(a="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(a="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");let p="";i%n>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${a};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${p}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${a});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${c}; i += 4) {\n          int inIdx = inOffset + i;\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${h}\n        }\n\n        int inIdx = inOffset + ${c};\n        if (${1===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${h}\n        } else if (${2===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${h}\n        } else if (${3===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${h}\n        }\n        setOutput(${l});\n      }\n    `}}function gO(e,t,n,s){const i=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],s=Cg(n);t.push({inSize:n,windowSize:s,outSize:Math.ceil(n/s)})}return t}(e.shape);let r=e;for(let a=0;a<i.length;a++){const{inSize:o,windowSize:l,outSize:c}=i[a];let u,h;u="mean"===n?0===a?new fO({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c},o):new fO({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c}):new mO({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c},n),h=r,r=s.runWebGLProgram(u,[r],t),h.dataId!==e.dataId&&s.disposeIntermediateTensorInfo(h)}return r}class yO{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e[t[s]];this.outputShape=n,this.rank=n.length;const s=eR(this.rank),i=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],s=new Array(t);for(let t=0;t<e.length;t++)s[e[t]]=n[t];return s.join()}(t);this.userCode=`\n    void main() {\n      ${s} resRC = getOutputCoords();\n      setOutput(getA(${i}));\n    }\n    `}}class AO{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e[t[s]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=eR(this.rank),i=vF("rc",this.rank),r=new Array(this.rank);for(let e=0;e<t.length;e++)r[t[e]]=i[e];const a=`vec2(${r.slice(-2).join()})`,o=`++${i[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${r.join()}), ${a})`;this.userCode=`\n    void main() {\n      ${s} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${o}) {\n        result[1] = ${l};\n      }\n      --${i[this.rank-1]};\n      if(++${i[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${o}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function wO(e,t,n){const s=As().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new AO(e.shape,t):new yO(e.shape,t);return n.runWebGLProgram(s,[e],e.dtype)}function bO(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s;return function(e,t,n,s){const i=t,r=e.shape.length,a=Kn(i,e.shape);let o=a;const l=Cd(o,r),c=null!=l;let u=e;c&&(u=wO(e,l,s),o=Ed(o.length,r)),xd("sum",o,r);const[h,d]=bd(u.shape,o);let p=h;n&&(p=vd(h,a));const f=Wn(d),m=dO({inputs:{x:u},attrs:{shape:[Wn(e.shape)/f,f]},backend:s}),g=gO(m,Po(e.dtype),"sum",s),y=dO({inputs:{x:g},attrs:{shape:p},backend:s});return s.disposeIntermediateTensorInfo(m),s.disposeIntermediateTensorInfo(g),c&&s.disposeIntermediateTensorInfo(u),y}(i,r,a,n)}const vO={kernelName:ta,backendName:"webgl",kernelFunc:bO};function xO(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{perm:r}=s,a=n,o=i.shape.length,l=new Array(o);for(let e=0;e<l.length;e++)l[e]=i.shape[r[e]];let c;if(a.shouldExecuteOnCPU([i])){const e=a.texData.get(i.dataId).values,t=wF(e,i.shape,i.dtype,r,l);c=a.makeTensorInfo(l,i.dtype);a.texData.get(c.dataId).values=t}else c=wO(i,r,a);return c}const CO={kernelName:Ca,backendName:"webgl",kernelFunc:xO};function kO({a:e,b:t,transposeA:n,transposeB:s,backend:i,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:o=0,activation:l=null}){const c=e.shape.length,u=t.shape.length,h=n?e.shape[c-2]:e.shape[c-1],d=s?t.shape[u-1]:t.shape[u-2],p=n?e.shape[c-1]:e.shape[c-2],f=s?t.shape[u-2]:t.shape[u-1],m=e.shape.slice(0,-2),g=t.shape.slice(0,-2),y=Wn(m),A=Wn(g),w=$c(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([p,f]);zn(h===d,(()=>`Error in matMul: inner shapes (${h}) and (${d}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${s} must match.`));const b=n?[y,h,p]:[y,p,h],v=s?[A,f,d]:[A,d,f],x=dO({inputs:{x:e},backend:i,attrs:{shape:b}}),C=dO({inputs:{x:t},backend:i,attrs:{shape:v}}),k=[x,C],E=Math.max(y,A),S=n?x.shape[1]:x.shape[2],I=null!=r,T=null!=a,_="leakyrelu"===l,N=null!=l?iO(l,!0):null;let D;if((1===p||1===f)&&S>1e3&&!1===(I||T||_||null!=N)){let e=x,t=C;n&&(e=xO({inputs:{x},backend:i,attrs:{perm:[0,2,1]}}),k.push(e)),s&&(t=xO({inputs:{x:C},backend:i,attrs:{perm:[0,2,1]}}),k.push(t));const r=1===f;let a=e;1!==f&&(a=dO({inputs:{x:e},backend:i,attrs:{shape:[E,S,1]}}),k.push(a));const o=1===f?2:1;let l=t;r&&(l=dO({inputs:{x:t},backend:i,attrs:{shape:[E,1,S]}}),k.push(l));const c=uO({inputs:{a,b:l},backend:i});D=bO({inputs:{x:c},backend:i,attrs:{axis:o,keepDims:!0}}),k.push(c)}else{const l=Vo(e.dtype,t.dtype),c=new rO(b,v,[E,p,f],n,s,I,N,T,_),u=[x,C];if(null!=r&&u.push(r),T&&u.push(a),_){const e=i.makeTensorInfo([],"float32",ro(o,"float32"));u.push(e),k.push(e)}D=i.runWebGLProgram(c,u,l)}const M=dO({inputs:{x:D},backend:i,attrs:{shape:w}});k.push(D);for(const e of k)i.disposeIntermediateTensorInfo(e);return M}const EO={kernelName:Da,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{a:i,b:r,bias:a,preluActivationWeights:o}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:h}=s;return kO({a:i,b:r,transposeA:l,transposeB:c,backend:n,bias:a,preluActivationWeights:o,leakyreluAlpha:h,activation:u})}},SO="return abs(x);";const IO={kernelName:Cs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t;if(n.shouldExecuteOnCPU([s])&&"complex64"!==s.dtype){const e=n.texData.get(s.dataId),t=rF(e.values);return n.makeTensorInfo(s.shape,s.dtype,t)}let i;return i=As().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new FF(s.shape,SO):new _F(s.shape,SO),n.runWebGLProgram(i,[s],s.dtype)}},TO=nO({opSnippet:NF+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),_O={kernelName:ks,backendName:"webgl",kernelFunc:TO},NO=nO({opSnippet:NF+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),DO={kernelName:Es,backendName:"webgl",kernelFunc:NO},MO="return a + b;",BO=sO({opSnippet:MO,packedOpSnippet:MO,supportsComplex:!0,cpuKernelImpl:SR}),RO={kernelName:Ss,backendName:"webgl",kernelFunc:BO};class FO{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const s=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${s};\n        setOutput(result);\n      }\n    `}}class OO{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const s=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${s};\n        setOutput(result);\n      }\n    `}}const LO={kernelName:Is,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:s}=t,i=n;if(1===i.length)return qF({inputs:{x:i[0]},backend:s});if(i.length>As().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(i.length/2),n=e({inputs:i.slice(0,t),backend:s}),r=e({inputs:i.slice(t),backend:s});return e({inputs:[n,r],backend:s})}const r=i.map((e=>e.dtype)).reduce(((e,t)=>Vo(e,t))),a=i.map((e=>e.shape)),o=As().getBool("WEBGL_PACK")?new OO(i[0].shape,a):new FO(i[0].shape,a);return s.runWebGLProgram(o,i,r)}};const zO={kernelName:Ts,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s,o=i.shape.length,l=Kn(r,i.shape);let c=l;const u=Cd(c,o);let h=i;null!=u&&(h=xO({inputs:{x:i},backend:n,attrs:{perm:u}}),c=Ed(c.length,o)),xd("all",c,o);const[d,p]=bd(h.shape,c),f=dO({inputs:{x:h},backend:n,attrs:{shape:[-1,Wn(p)]}}),m=gO(f,f.dtype,"all",n);let g;if(a){g=dO({inputs:{x:m},backend:n,attrs:{shape:vd(d,l)}})}else g=dO({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(h),g}};const VO={kernelName:_s,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s,o=i.shape.length,l=Kn(r,i.shape);let c=l;const u=Cd(c,o);let h=i;null!=u&&(h=xO({inputs:{x:i},backend:n,attrs:{perm:u}}),c=Ed(c.length,o)),xd("any",c,o);const[d,p]=bd(h.shape,c),f=dO({inputs:{x:h},backend:n,attrs:{shape:[-1,Wn(p)]}}),m=gO(f,f.dtype,"any",n);let g;if(a){g=dO({inputs:{x:m},backend:n,attrs:{shape:vd(d,l)}})}else g=dO({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(h),g}};class PO{constructor(e,t,n){this.variableNames=["A"];const{windowSize:s,batchSize:i,outSize:r}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,r];const a="max"===t?">":"<",o=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${s};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${s}; i++) {\n          int inIdx = ${o};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${a} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class WO{constructor(e,t,n,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,zn(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const i=e[e.length-1],r=Math.ceil(i/t);this.outputShape=e.slice(0,-1),r>1&&this.outputShape.push(r),s||this.variableNames.push("bestIndicesA");const a=this.outputShape,o=a.length,l=eR(o),c=xF("coords",o);let u,h;if(1===r){h=o+1;const e=eR(h);u=`\n        ${e} sourceLocR = ${e}(${c.join()}, 0);\n        ++${c[o-1]};\n        ${e} sourceLocG = ${e}(${c.join()}, 0);\n        ++${c[o-2]};\n        ${e} sourceLocA = ${e}(${c.join()}, 0);\n        --${c[o-1]};\n        ${e} sourceLocB = ${e}(${c.join()}, 0);\n        --${c[o-2]};`}else h=o,u=`\n        ${l} sourceLocR = coords;\n        ++${c[o-1]};\n        ${l} sourceLocG = coords;\n        ++${c[o-2]};\n        ${l} sourceLocA = coords;\n        --${c[o-1]};\n        ${l} sourceLocB = coords;\n        --${c[o-2]};`;const d=["x","y","z","w","u","v"].slice(0,h),p="."+d[h-1],f=d.map((e=>"int "+e)),m=xF("sourceLocR",h-1).concat("inIdx.r"),g=xF("sourceLocG",h-1).concat("inIdx.g"),y=xF("sourceLocB",h-1).concat("inIdx.b"),A=xF("sourceLocA",h-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",b=s?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${y.join()}),\n                             getBestIndicesAChannel(${A.join()})));`,v=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${y.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${A.join()}) : 0.)`,x=s?"":`\n      float getBestIndicesAChannel(${f.join()}) {\n        return getChannel(getBestIndicesA(${d.join()}),\n                                          vec2(${d.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${f.join()}) {\n        return getChannel(getA(${d.join()}),\n                               vec2(${d.slice(-2).join()}));\n      }\n      ${x}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${c[o-1]} < ${a[o-1]-1};\n        bool hasNextRow = ${c[o-2]} < ${a[o-2]-1};\n        ${u}\n        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},\n          sourceLocB${p}, sourceLocA${p}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${v};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${b}\n          vec4 candidate = ${v};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${w}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function GO(e,t,n,s=null){let i=t.shape[0],r=t.shape[1];null!=s&&(i=s.shape[0],r=s.shape[1]);const a=Cg(r),o={windowSize:a,inSize:r,batchSize:i,outSize:Math.ceil(r/a)},l=new PO(o,n,null==s),c=[t];null!=s&&c.push(s);const u=e.runWebGLProgram(l,c,"int32");if(1===u.shape[1])return u;const h=GO(e,t,n,u);return e.disposeIntermediateTensorInfo(u),h}function UO(e,t,n,s=null){const i=null!=s?s.shape:t.shape,r=Cg(i[i.length-1]),a=new WO(i,r,n,null==s),o=null==s?[t]:[t,s],l=e.runWebGLProgram(a,o,"int32");if(l.shape.length===t.shape.length){const s=UO(e,t,n,l);return e.disposeIntermediateTensorInfo(l),s}return l}function jO(e,t,n,s){const i=[n];if(xd("arg"+s.charAt(0).toUpperCase()+s.slice(1),i,t.shape.length),!As().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],r=e.texData.get(t.dataId);let a=t;null!==r&&r.isPacked&&(a=e.unpackTensor(t),n.push(a));const[o,l]=bd(a.shape,i),c=Wn(l),u=dO({inputs:{x:a},backend:e,attrs:{shape:[-1,c]}});n.push(u);const h=GO(e,u,s);n.push(h);const d=dO({inputs:{x:h},backend:e,attrs:{shape:o}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),d}return UO(e,t,s)}const qO={kernelName:Ns,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r}=s;let a=Kn(r,i.shape);const o=Cd(a,i.shape.length);let l=i;const c=[];null!=o&&(l=xO({inputs:{x:i},backend:n,attrs:{perm:o}}),c.push(l),a=Ed(a.length,l.shape.length)),xd("argMax",[a[0]],l.shape.length);const u=jO(n,l,a[0],"max");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}};const HO={kernelName:Ds,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r}=s;let a=Kn(r,i.shape);const o=Cd(a,i.shape.length);let l=i;const c=[];null!=o&&(l=xO({inputs:{x:i},backend:n,attrs:{perm:o}}),c.push(l),a=Ed(a.length,l.shape.length)),xd("argMin",[a[0]],l.shape.length);const u=jO(n,l,a[0],"min");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}},YO=nO({opSnippet:NF+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),KO={kernelName:Ms,backendName:"webgl",kernelFunc:YO},ZO=nO({opSnippet:NF+"return log(x + sqrt(x * x + 1.0));"}),QO={kernelName:Bs,backendName:"webgl",kernelFunc:ZO},XO=nO({opSnippet:NF+"\n  return atan(x);\n"}),$O={kernelName:Rs,backendName:"webgl",kernelFunc:XO},JO=sO({opSnippet:WF+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+UF+"\n  return result;\n"}),eL={kernelName:Os,backendName:"webgl",kernelFunc:JO},tL=nO({opSnippet:NF+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),nL={kernelName:Fs,backendName:"webgl",kernelFunc:tL};class sL{constructor(e,t,n,s=!1,i=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const r=e.filterWidth,a=e.strideHeight,o=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterHeight,h=e.effectiveFilterWidth,d=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let y="0.0";if(f||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${a}, ${o});\n        const ivec2 pads = ivec2(${d}, ${p});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${u};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${h};\n                wC += ${c}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${s?i?m:g:`wR * ${h} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let A=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(A="avgValue / max(count, 1.0)");const w=4*Math.floor(r/4),b=r%4,v=`\n      if (${f}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${o});\n      const ivec2 pads = ivec2(${d}, ${p});\n      const float initializationValue = ${y};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${y});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${u};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${w}; wC += 4) {\n            int xC = xCCorner + wC * ${c};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              getValue(batch, xR, xC + 3 * ${c}, d)\n            );\n\n            ${v}\n          }\n\n          int xC = xCCorner + ${w};\n          if (${1===b}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${v}\n          } else if (${2===b}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${v}\n          } else if (${3===b}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              initializationValue\n            );\n\n            ${v}\n          }\n        }\n        setOutput(${A});\n      }\n    `}}class iL{constructor(e,t,n,s=!1,i=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const r=e.filterWidth,a=e.strideDepth,o=e.strideHeight,l=e.strideWidth,c=e.dilationDepth,u=e.dilationHeight,h=e.dilationWidth,d=e.effectiveFilterDepth,p=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const A="avg"===t;let w="0.0";if(A||(w="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${a}, ${o}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${y});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${d};\n              wD += ${c}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${p};\n                wR += ${u}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${f};\n                  wC += ${h}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${s?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${f} +\n                      wR * ${f} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let b=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(b="avgValue / max(count, 1.0)");const v=4*Math.floor(r/4),x=r%4,C=`\n      if (${A}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${a}, ${o}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${y});\n      const float initializationValue = ${w};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${w});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${d};\n            wD += ${c}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${p};\n            wR += ${u}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${v}; wC += 4) {\n              int xC = xCCorner + wC * ${h};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${h}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${h}, ch)\n              );\n\n              ${C}\n            }\n\n            int xC = xCCorner + ${v};\n            if (${1===x}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${C}\n            } else if (${2===x}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${C}\n            } else if (${3===x}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${h}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${h}, ch),\n                initializationValue\n              );\n\n              ${C}\n            }\n          }\n        }\n        setOutput(${b});\n      }\n    `}}const rL={kernelName:Ls,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t;FB(i,"avgPool");const{filterSize:r,strides:a,pad:o,dimRoundingMode:l}=s;zn(bh(a,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const c=uh(i.shape,r,a,1,o,l);if(1===c.filterWidth&&1===c.filterHeight&&Gn(c.inShape,c.outShape))return qF({inputs:{x:i},backend:n});const u=new sL(c,"avg",!1);return n.runWebGLProgram(u,[i],"float32")}};const aL={kernelName:Vs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{filterSize:r,strides:a,pad:o,dimRoundingMode:l,dataFormat:c}=s,u=hh(i.shape,r,a,[1,1,1],o,l,c),h=new iL(u,"avg",!1);return n.runWebGLProgram(h,[i],"float32")}};class oL{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,s=e.strideHeight,i=e.strideWidth,r=e.dilationHeight,a=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=o-1-e.padInfo.top,u=l-1-e.padInfo.left,h=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${c}, ${u});\n      const float avgMultiplier = float(${h});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n            wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${s}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${a}) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class lL{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,s=e.filterWidth,i=e.strideDepth,r=e.strideHeight,a=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,h=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=u-1-e.padInfo.front,f=h-1-e.padInfo.top,m=d-1-e.padInfo.left,g=1/(t*n*s);this.userCode=`\n      const ivec3 pads = ivec3(${p}, ${f}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${u};\n            wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${i}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${h};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${r}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${d};\n                wC += ${c}) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const cL={kernelName:Ps,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,input:r}=t,a=r,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=s,h=hh(a.shape,o,l,[1,1,1],c,u),d=new lL(h);return n.runWebGLProgram(d,[i],a.dtype)}};const uL={kernelName:zs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,input:r}=t,a=r;FB([i,r],"avgPoolGrad");const{filterSize:o,strides:l,pad:c}=s,u=uh(a.shape,o,l,1,c),h=new oL(u);return n.runWebGLProgram(h,[i],a.dtype)}};const hL={kernelName:Ws,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{a:i,b:r}=t,{transposeA:a,transposeB:o}=s;return kO({a:i,b:r,transposeA:a,transposeB:o,backend:n})}};class dL{constructor(e,t,n,s,i,r){this.outputShape=[],this.variableNames=["x","mean","variance"],$c(e,t),$c(e,n);let a="0.0";null!=s&&($c(e,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let o="1.0";null!=i&&($c(e,i),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${a};\n        float scale = ${o};\n        float inv = scale * inversesqrt(variance + float(${r}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class pL{constructor(e,t,n,s,i,r){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],$c(e,t),$c(e,n);let a="vec4(0.0)";null!=s&&($c(e,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let o="vec4(1.0)";null!=i&&($c(e,i),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${a};\n        vec4 scale = ${o};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${r}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const fL={kernelName:Bi,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:s,mean:i,variance:r,offset:a,scale:o}=e;zn(i.shape.length===r.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),zn(null==a||i.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),zn(null==o||i.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:l}=n;null==l&&(l=.001);const c=[s,i,r];let u=null;null!=a&&(u=a.shape,c.push(a));let h=null;null!=o&&(h=o.shape,c.push(o));const d=As().getBool("WEBGL_PACK_NORMALIZATION")?new pL(s.shape,i.shape,r.shape,u,h,l):new dL(s.shape,i.shape,r.shape,u,h,l);return t.runWebGLProgram(d,c,c[0].dtype)}};class mL{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=eR(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return gL.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let s;s=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${gL[t]} = start[${t}] + coords.${gL[t]};`)).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${s}\n        setOutput(getSource(${n}));\n      }\n    `}}const gL=["x","y","z","w","u","v"];class yL{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=eR(this.rank),n=xF("coords",this.rank),s=xF("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":`vec2(${s.slice(-2).join()})`,r=`getChannel(getSource(${s.join()}), ${i})`,a=`\n      result.x = ${r};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${s[this.rank-1]};\n        result.y = ${r};\n        --${s[this.rank-1]};\n      }\n    `,o=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${s[this.rank-2]};\n        result.z = ${r};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${s[this.rank-1]};\n          result.w = ${r};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${s[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${a}\n        ${o}\n        setOutput(result);\n      }\n    `}}function AL(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{begin:r,size:a}=s,[o,l]=Ku(i,r,a);if(Ru(i,o,l),0===Wn(l))return n.makeTensorInfo(l,i.dtype,[]);if(n.shouldExecuteOnCPU([i])||"string"===i.dtype){const e=n.texData.get(i.dataId),t=aF(e.values,o,l,i.shape,i.dtype);return n.makeTensorInfo(l,i.dtype,t)}const{isPacked:c}=n.texData.get(i.dataId),u=Hu(i.shape,o,l);if(c||!u){const e=As().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yL(l):new mL(l),t=[o];return n.runWebGLProgram(e,[i],i.dtype,t)}return n.uploadToGPU(i.dataId),function(e,t,n,s){const i=s.texData.get(e.dataId),r=s.makeTensorInfo(n,e.dtype),a=s.texData.get(r.dataId);Object.assign(a,i),a.refCount=1,a.shape=n,a.dtype=e.dtype;let o=Yu(t,rs(e.shape));i.slice&&(o+=i.slice.flatOffset),a.slice={flatOffset:o,origDataId:i.slice&&i.slice.origDataId||e.dataId};const l=s.dataRefCount.get(a.slice.origDataId)||1;return s.dataRefCount.set(a.slice.origDataId,l+1),r}(i,o,l,n)}const wL={kernelName:Kr,backendName:"webgl",kernelFunc:AL},bL={kernelName:Gs,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{blockShape:r,crops:a}=s;zn(i.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const o=r.reduce(((e,t)=>e*t)),l=Eg(i.shape,r,o),c=Sg(l.length,r.length),u=Ig(i.shape,r,o),h=Tg(a,r.length),d=_g(u,a,r.length),p=[],f=dO({inputs:{x:i},backend:n,attrs:{shape:l}}),m=xO({inputs:{x:f},backend:n,attrs:{perm:c}}),g=dO({inputs:{x:m},backend:n,attrs:{shape:u}}),y=AL({inputs:{x:g},backend:n,attrs:{begin:h,size:d}});return p.push(f),p.push(m),p.push(g),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const vL={kernelName:Us,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,weights:r}=t,{size:a}=s,o=n.readSync(i.dataId),l=n.readSync(r.dataId),c=IR(o,l,r.dtype,r.shape,a);return n.makeTensorInfo([a],r.dtype,c)}};const xL={kernelName:js,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:s,b:i}=t,r=As().getBool("WEBGL_PACK_BINARY_OPERATIONS"),a=As().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([s,i])||1===a){const e=n.texData.get(s.dataId).values,t=n.texData.get(i.dataId).values,[r,a]=_R(s.shape,i.shape,e,t,s.dtype),o=n.makeTensorInfo(a,s.dtype);return n.texData.get(o.dataId).values=r,o}let o;return o=r?new jF("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",s.shape,i.shape,!1):new GF("\n  return float(int(a.r) & int(b.r));\n",s.shape,i.shape),n.runWebGLProgram(o,[s,i],s.dtype)}};const CL={kernelName:qs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:s,s1:i}=t,r=n.readSync(s.dataId),a=n.readSync(i.dataId),o=$c(Array.from(r),Array.from(a));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},kL=sO({opSnippet:"return float(a != b);",cpuKernelImpl:QR,dtype:"bool"}),EL={kernelName:gr,backendName:"webgl",kernelFunc:kL};function SL(e){const{inputs:t,backend:n}=e,{input:s}=t;return qF({inputs:{x:n.texData.get(s.dataId).complexTensorInfos.real},backend:n})}const IL={kernelName:Dr,backendName:"webgl",kernelFunc:SL};const TL={kernelName:Hs,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:s,attrs:i}=t,{x:r}=n,{dtype:a}=i;if("complex64"===a){if("complex64"===r.dtype)return qF({inputs:{x:r},backend:s});const t=fp(r.shape),n=e({inputs:{x:r},backend:s,attrs:{dtype:"float32"}}),i=YF({inputs:{real:n,imag:t},backend:s});return t.dispose(),s.disposeIntermediateTensorInfo(n),i}if("complex64"===r.dtype){const t=SL({inputs:{input:r},backend:s}),n=e({inputs:{x:t},backend:s,attrs:{dtype:a}});return s.disposeIntermediateTensorInfo(t),n}if(!$n(r.dtype,a)){const e=qF({inputs:{x:r},backend:s});return{dataId:e.dataId,shape:e.shape,dtype:a}}if(s.shouldExecuteOnCPU([r])){const e=s.texData.get(r.dataId).values,[t,n,i]=NR(e,r.shape,r.dtype,a);return s.makeTensorInfo(t,n,i)}if("int32"===a)return function(e,t){const n=new _F(e.shape,"return float(int(x));"),s=t.runWebGLProgram(n,[e],"int32");return{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}(r,s);if("bool"===a){const e=s.makeTensorInfo([],"bool",Qn("bool",1)),t=kL({inputs:{a:r,b:e},backend:s});return s.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${a}`)}},_L="return ceil(x);",NL=nO({opSnippet:_L,packedOpSnippet:_L,cpuKernelImpl:DR}),DL={kernelName:Ys,backendName:"webgl",kernelFunc:NL};class ML{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class BL{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const RL={kernelName:Ks,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{clipValueMin:r,clipValueMax:a}=s;let o;o=As().getBool("WEBGL_PACK_CLIP")?new BL(i.shape):new ML(i.shape);const l=[[r],[a]];return n.runWebGLProgram(o,[i],i.dtype,l)}};class FL{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function OL(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const LL={kernelName:Qs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t,i=n.texData.get(s.dataId),r=new FL(s.shape),a=[OL(s,i.complexTensorInfos.real),OL(s,i.complexTensorInfos.imag)];return n.runWebGLProgram(r,a,a[0].dtype)}};class zL{constructor(e){this.outputShape=[],this.outputShape=mg(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){const s=t[e-1];n.push(`else if (yC < ${t[e]}) setOutput(getT${e}(yR, yC-${s}));`)}const s=t.length,i=t[t.length-1];n.push(`else setOutput(getT${s}(yR, yC-${i}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class VL{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=mg(e,t);const n=this.outputShape,s=n.length,i=eR(s),r=xF("coords",s),a=["x","y","z","w","u","v"].slice(0,s);this.variableNames=e.map(((e,t)=>`T${t}`));const o=new Array(e.length-1);o[0]=e[0][t];for(let n=1;n<o.length;n++)o[n]=o[n-1]+e[n][t];const l=a[t],c=a.slice(-2),u=a.join();let h=`if (${l} < ${o[0]}) {\n        return getChannel(\n            getT0(${u}), vec2(${c.join()}));\n        }`;for(let e=1;e<o.length;e++){const t=o[e-1];h+=`\n        if (${l} < ${o[e]}  && ${l} >= ${o[e-1]}) {\n          return getChannel(\n            getT${e}(${PL(a,l,t)}),\n            vec2(${PL(c,l,t)}));\n        }`}const d=o.length,p=o[o.length-1];h+=`\n        return getChannel(\n          getT${d}(${PL(a,l,p)}),\n          vec2(${PL(c,l,p)}));`,this.userCode=`\n      float getValue(${a.map((e=>"int "+e))}) {\n        ${h}\n      }\n\n      void main() {\n        ${i} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${r}), 0., 0., 0.);\n\n        ${r[s-1]} = ${r[s-1]} + 1;\n        if (${r[s-1]} < ${n[s-1]}) {\n          result.g = getValue(${r});\n        }\n\n        ${r[s-2]} = ${r[s-2]} + 1;\n        if (${r[s-2]} < ${n[s-2]}) {\n          result.a = getValue(${r});\n        }\n\n        ${r[s-1]} = ${r[s-1]} - 1;\n        if (${r[s-2]} < ${n[s-2]} &&\n            ${r[s-1]} < ${n[s-1]}) {\n          result.b = getValue(${r});\n        }\n        setOutput(result);\n      }\n    `}}function PL(e,t,n){const s=e.indexOf(t);return e.map(((e,t)=>t===s?`${e} - ${n}`:e)).join()}function WL(e){const{inputs:t,backend:n}=e,{input:s}=t;return qF({inputs:{x:n.texData.get(s.dataId).complexTensorInfos.imag},backend:n})}const GL={kernelName:Pi,backendName:"webgl",kernelFunc:WL};function UL(e,t,n){const s=e[0].dtype;if("complex64"===s){const s=e.map((e=>SL({inputs:{input:e},backend:n}))),i=e.map((e=>WL({inputs:{input:e},backend:n}))),r=UL(s,t,n),a=UL(i,t,n),o=YF({inputs:{real:r,imag:a},backend:n});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),i.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),o}let i=n.shouldExecuteOnCPU(e);if("string"===s&&(i=!0),i){const i=e.map((e=>{const s=Wn(e.shape.slice(t));return dO({inputs:{x:e},backend:n,attrs:{shape:[-1,s]}})})),r=i.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),a=mg(i.map((e=>e.shape)),1),o=1===i[0].shape[0],l=MR(r,a,s,o),c=mg(e.map((e=>e.shape)),t),u=n.makeTensorInfo(c,s,l);return i.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}const r=e.filter((e=>Wn(e.shape)>0)),a=As().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&r[0].shape.length>1;if(1===r.length){const t=a?new _F(e[0].shape,RF):new FF(e[0].shape,RF);return n.runWebGLProgram(t,e,s)}const o=As().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(r.length>o){const e=[];for(let s=0;s<r.length;s+=o){const i=r.slice(s,s+o);e.push(UL(i,t,n))}const s=UL(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return s}if(a){const e=new VL(r.map((e=>e.shape)),t);return n.runWebGLProgram(e,r,s)}const{tensors2D:l,outShape:c}=function(e,t,n){const s=mg(e.map((e=>e.shape)),t),i=e.map((e=>dO({inputs:{x:e},attrs:{shape:[-1,Wn(e.shape.slice(t))]},backend:n})));return{tensors2D:i,outShape:s}}(r,t,n),u=new zL(l.map((e=>e.shape))),h=n.runWebGLProgram(u,l,s);l.forEach((e=>n.disposeIntermediateTensorInfo(e)));const d=dO({inputs:{x:h},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(h),d}function jL(e){const{inputs:t,backend:n,attrs:s}=e,{axis:i}=s,r=Kn(i,t[0].shape)[0];fg(t.map((e=>e.shape)),r);const a=mg(t.map((e=>e.shape)),r);if(0===Wn(a))return n.makeTensorInfo(a,t[0].dtype,[]);const o=t.filter((e=>Wn(e.shape)>0));return 1===o.length?qF({inputs:{x:o[0]},backend:n}):UL(o,r,n)}const qL={kernelName:Xs,backendName:"webgl",kernelFunc:jL};class HL{constructor(e,t=!1,n=null,s=!1,i=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const r=e.padInfo.top,a=e.padInfo.left,o=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,h=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,A=m?3:1;let w="",b="";n&&(w=s?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:i?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,b="result = activation(result);");const v=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${w}\n\n      const ivec2 strides = ivec2(${o}, ${l});\n      const ivec2 pads = ivec2(${r}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${A}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${y}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${h}; wR++) {\n          int xR = xRCorner + wR * ${c};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${d}; wC++) {\n            int xC = xCCorner + wC * ${u};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${p}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===f}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${p}) *\n                    getW(wR, wC, ${p}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${p}, xR, xC) *\n                    getW(wR, wC, ${p}, d2);\n              }\n\n            } else if (${2===f}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===f}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2),\n                getW(wR, wC, ${p} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1),\n                  getX(batch, xR, xC, ${p} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC),\n                  getX(batch, ${p} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${v}\n        ${b}\n        setOutput(result);\n      }\n    `}}class YL{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,s=e.padInfo.left,i=e.strideDepth,r=e.strideHeight,a=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.filterDepth,h=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${i}, ${r}, ${a});\n      const ivec3 pads = ivec3(${t}, ${n}, ${s});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${u}; wF++) {\n          int xF = xFCorner + wF * ${o};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d}; wC++) {\n              int xC = xCCorner + wC * ${c};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${p}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===f}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${p}) *\n                  getW(wF, wR, wC, ${p}, d2);\n              } else if (${2===f}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===f}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1),\n                  getX(batch, xF, xR, xC, ${p} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2),\n                  getW(wF, wR, wC, ${p} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class KL{constructor(e,t=!1,n=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=oR(this.outputShape.length);const r=e.padInfo.left,a=e.strideWidth,o=e.dilationWidth,l=e.filterHeight,c=e.filterWidth,u=c;let h="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let e=0;e<c;e++)h+=`\n           vec4 xTexelC${2*e};\n           int xTexelC${2*e}Ready;\n           vec4 xTexelC${2*e+1};\n           int xTexelC${2*e+1}Ready;\n           vec4 xC${e};`;h+=`\n     for (int r = 0; r < ${l}; r++) {\n      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {\n       `;for(let e=0;e<c;e++)h+=`\n           xTexelC${2*e} = vec4(0.0);\n           xTexelC${2*e}Ready = 0;\n           xTexelC${2*e+1} = vec4(0.0);\n           xTexelC${2*e+1}Ready = 0;\n           xC${e} = vec4(0.0);`;h+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let t=0;t<(u+1)/2;t++){const n=2*t;if(h+=`\n           xC = xCCorner + ${n*o};\n           `,1===a){if(n<c&&(r%2==1?(h+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n               `,h+=1===o&&n>0?`\n                 xC${n} = vec4(xTexelC${n-2}.zw, xTexelC${n}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${n} = vec4(previous.zw, xTexelC${n}.xy);\n                   } else {\n                     xC${n} = vec4(0.0, 0.0, xTexelC${n}.xy);\n                   }\n                   `):h+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n\n                 xC${n} = xTexelC${n};\n                 `,n+1<c)){const e=r%2==0?On(o):o;o%2==0&&r%2==1||o%2!=0&&r%2!=1?(h+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n+1}Ready == 0) {\n                     xTexelC${n+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${n+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${n+1}Ready = 1;\n                   }\n                   `,h+=o>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${n+1} = vec4(previous.zw, xTexelC${n+1}.xy);\n                     } else {\n                      xC${n+1} = vec4(0.0, 0.0, xTexelC${n+1}.xy);\n                     }\n                     `:`\n                     xC${n+1} = vec4(xTexelC${n}.zw, xTexelC${n+1}.xy);\n                     `):h+=1===e?`\n                     xC${n+1} = xTexelC${n};\n                     `:`\n                     xCOffset = xC + ${e};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n+1}Ready == 0) {\n                       xTexelC${n+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${n+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${n+1}Ready = 1;\n                     }\n\n                     xC${n+1} = xTexelC${n+1};\n                     `}}else n<c&&(r%2==1?(h+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${n+1}Ready == 0) {\n                   xTexelC${n+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${n+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${n+1}Ready = 1;\n                 }\n\n                 xC${n} = vec4(xTexelC${n}.zw, xTexelC${n+1}.zw);\n               `,n+1<c&&(h+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${n+1} = vec4(xTexelC${n+1}.xy, final.xy);\n                 `)):(h+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n+1}Ready == 0) {\n                   xTexelC${n+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${n+1}.zw = vec2(0.);\n                   }\n                   xTexelC${n+1}Ready = 1;\n                 }\n\n                 xC${n} = vec4(\n                   xTexelC${n}.xy, xTexelC${n+1}.xy);\n               `,n+1<c&&(h+=`\n                   xC${n+1} = vec4(xTexelC${n}.zw, xTexelC${n+1}.zw);\n                 `)));n<c&&(h+=`\n             wTexel = getW(r, ${n}, d1, d2);\n             dotProd += xC${n}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${e.inChannels}) {\n               dotProd += xC${n}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,n+1<c&&(h+=`\n               wTexel = getW(r, ${n+1}, d1, d2);\n               dotProd += xC${n+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${e.inChannels}) {\n                 dotProd += xC${n+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}h+="\n     }\n   ",h+="\n     }\n   ",h+="\n     }\n   ";let d="",p="";n&&(d=s?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${n}\n         }`:i?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${n}\n         }`:`vec4 activation(vec4 x) {\n           ${n}\n         }`,p="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${d}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${h}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${f}\n         ${p}\n         setOutput(result);\n       }\n     `}}class ZL{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=oR(this.outputShape.length);const{dataFormat:n}=t,s=LB(),i="channelsLast"===n,r=i?1:2,a=i?2:3,o=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)l+=`\n          blockIndex = rc.z + ${t};\n          pos = rc.y + ${e};\n\n          ${o}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${r}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${a}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${i}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*e+t}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*e+t}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${s.output} = result;\n      }\n    `}}function QL(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function XL({x:e,filter:t,convInfo:n,backend:s,bias:i=null,preluActivationWeights:r=null,leakyreluAlpha:a=0,activation:o=null}){const l=e.shape,c=s.texData.get(e.dataId),u=n.inChannels,h=l[0]*l[1]*l[2],d=n.outChannels,p="channelsLast"===n.dataFormat,f=!1;let m;const g=[];if(null!=r){const e=QL(r.shape,p);null!=e&&(r=dO({inputs:{x:r},backend:s,attrs:{shape:e}}),g.push(r))}if(null!=i){const e=QL(i.shape,p);null!=e&&(i=dO({inputs:{x:i},backend:s,attrs:{shape:e}}),g.push(i))}if(!((1===h||1===d)&&u>1e3)&&c.isPacked&&p&&null!=c.texture&&l[2]%2!=0&&Gn(c.shape.slice(-3),l.slice(-3))){const u=l[0]*l[1]*(l[2]+1),h={dataId:e.dataId,shape:[1,u,n.inChannels],dtype:e.dtype},d=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,zn(TB(c.shape,h.shape),(()=>`packed reshape ${c.shape} to ${h.shape} isn't free`));const p=dO({inputs:{x:t},backend:s,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(p);const y=kO({a:h,b:p,backend:s,transposeA:false,transposeB:f,bias:i,activation:o,preluActivationWeights:r,leakyreluAlpha:a}),A=s.texData.get(y.dataId);zn(A.isPacked,(()=>"batchMatMul result is expected to be packed")),c.shape=d,A.shape=n.outShape,m=qF({inputs:{x:y},backend:s}),m.shape=n.outShape,g.push(y)}else{const l=n.outHeight*n.outWidth,c=dO({inputs:{x:e},backend:s,attrs:{shape:p?[n.batchSize,l,n.inChannels]:[n.batchSize,n.inChannels,l]}}),u=dO({inputs:{x:t},backend:s,attrs:{shape:[1,n.inChannels,n.outChannels]}}),h=kO({a:p?c:u,b:p?u:c,transposeA:!p,transposeB:f,backend:s,bias:i,activation:o,preluActivationWeights:r,leakyreluAlpha:a});m=dO({inputs:{x:h},backend:s,attrs:{shape:n.outShape}}),g.push(c),g.push(u),g.push(h)}for(const e of g)s.disposeIntermediateTensorInfo(e);return m}function $L({x:e,filter:t,convInfo:n,backend:s,bias:i=null,preluActivationWeights:r=null,leakyreluAlpha:a=0,activation:o=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:h,outHeight:d,dataFormat:p}=n,f="channelsLast"===p,m=l*c*u,g=d*h,y=[n.batchSize,m,g],A=[];if(null!=r){const e=QL(r.shape,f);null!=e&&(r=dO({inputs:{x:r},backend:s,attrs:{shape:e}}),A.push(r))}if(null!=i){const e=QL(i.shape,f);null!=e&&(i=dO({inputs:{x:i},backend:s,attrs:{shape:e}}),A.push(i))}const w=dO({inputs:{x:t},backend:s,attrs:{shape:[1,m,Wn(t.shape)/m]}});A.push(w);const b=new ZL(y,n),v=[e.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],x=s.runWebGLProgram(b,[e],"float32",v),C=dO({inputs:{x},backend:s,attrs:{shape:y}});A.push(x),A.push(C);const k=null!=i,E=null!=r,S="leakyrelu"===o,I=o?iO(o,!0):null,T=new rO(f?C.shape:w.shape,f?w.shape:C.shape,f?[n.batchSize,g,n.outChannels]:[n.batchSize,n.outChannels,g],!0,!1,k,I,E,S),_=f?[C,w]:[w,C];if(i&&_.push(i),E&&_.push(r),S){const e=s.makeTensorInfo([],"float32",ro(a,"float32"));_.push(e),A.push(e)}const N=s.runWebGLProgram(T,_,"float32"),D=dO({inputs:{x:N},backend:s,attrs:{shape:n.outShape}});A.push(N);for(const e of A)s.disposeIntermediateTensorInfo(e);return D}const JL={kernelName:$s,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r}=t,{strides:a,pad:o,dataFormat:l,dilations:c,dimRoundingMode:u}=s,h=xh(l),d=dh(i.shape,r.shape,a,c,o,u,!1,h);let p;if(1!==d.filterHeight||1!==d.filterWidth||1!==d.dilationHeight||1!==d.dilationWidth||1!==d.strideHeight||1!==d.strideWidth||"SAME"!==d.padInfo.type&&"VALID"!==d.padInfo.type)if(d.strideWidth<=2&&"channelsLast"===h&&As().getBool("WEBGL_EXP_CONV")){const e=new KL(d),t=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];p=n.runWebGLProgram(e,[i,r],"float32",t)}else if(As().getBool("WEBGL_CONV_IM2COL"))p=$L({x:i,filter:r,convInfo:d,backend:n});else{const e=new HL(d);p=n.runWebGLProgram(e,[i,r],"float32")}else p=XL({x:i,filter:r,convInfo:d,backend:n});const f=dO({inputs:{x:p},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(p),f}};class ez{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,r="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${s};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${i};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              ${r?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class tz{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,s=e.strideHeight,i=e.strideWidth,r="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,o=n-1-e.padInfo.left,l=r?1:2,c=r?2:3,u=r?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${u}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${c}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${s}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${r}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class nz{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,s=e.strideWidth,i=e.padInfo.front,r=e.padInfo.top,a=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${i};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${r};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${s} - ${a};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class sz{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,s=e.filterWidth,i=e.strideDepth,r=e.strideHeight,a=e.strideWidth,o=t-1-e.padInfo.front,l=n-1-e.padInfo.top,c=s-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${o}, ${l}, ${c});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${i}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${r}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${s}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${s} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const iz={kernelName:Js,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,dy:r}=t,{strides:a,pad:o,dataFormat:l,dimRoundingMode:c,filterShape:u}=s,h=xh(l),d=dh(i.shape,u,a,1,o,c,!1,h),p=new ez(d);return n.runWebGLProgram(p,[i,r],"float32")}};class rz{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=oR(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,s=t-1-e.padInfo.top,i=n-1-e.padInfo.left;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            int wCPerm = ${n} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}const az={kernelName:ei,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,filter:r}=t,{inputShape:a,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=s,h=xh(c),d=dh(a,r.shape,o,1,l,u,!1,h);if(As().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===h){const e=[[d.strideHeight,d.strideWidth]],t=new rz(d);return n.runWebGLProgram(t,[i,r],"float32",e)}{const e=new tz(d);return n.runWebGLProgram(e,[i,r],"float32")}}};const oz={kernelName:ti,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r}=t,{strides:a,pad:o,dilations:l}=s,c=ph(i.shape,r.shape,a,l,o),u=new YL(c);return n.runWebGLProgram(u,[i,r],"float32")}};const lz={kernelName:ni,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,dy:r}=t,{strides:a,pad:o,filterShape:l}=s,c=ph(i.shape,l,a,1,o),u=new nz(c);return n.runWebGLProgram(u,[i,r],"float32")}};const cz={kernelName:si,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,filter:r}=t,{pad:a,strides:o,inputShape:l}=s,c=ph(l,r.shape,o,1,a),u=new sz(c);return n.runWebGLProgram(u,[i,r],"float32")}},uz=nO({opSnippet:tO+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${UF}\n  return result;\n`}),hz={kernelName:ii,backendName:"webgl",kernelFunc:uz},dz=nO({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),pz={kernelName:ri,backendName:"webgl",kernelFunc:dz};class fz{constructor(e,t,n,s,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[r,a,o,l]=e,[c]=t,[u,h]=n;this.outputShape=[c,u,h,l];const d="bilinear"===s?1:0,[p,f]=[a-1+".0",o-1+".0"],[m,g,y]=u>1?[""+(a-1)/(u-1),"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[A,w,b]=h>1?[""+(o-1)/(h-1),"(x2-x1) * width_ratio",`x1*${f} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${f}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${A});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${r}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${w};\n\n        float in_y = ${y};\n        if( in_y < 0.0 || in_y > ${p} ) {\n          setOutput(float(${i}));\n          return;\n        }\n        float in_x = ${b};\n        if( in_x < 0.0 || in_x > ${f} ) {\n          setOutput(float(${i}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${d} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const mz={kernelName:li,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{image:i,boxes:r,boxInd:a}=t,{cropSize:o,method:l,extrapolationValue:c}=s,u=new fz(i.shape,r.shape,o,l,c);return n.runWebGLProgram(u,[i,r,a],"float32")}};var gz,yz;(yz=gz||(gz={})).Prod="*",yz.Sum="+";class Az{constructor(e,t,n,s){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,r=this.op===gz.Prod?"1.0":"0.0",a=n?r:`getX(${wz(i,"coords",this.op)})`,o=this.outputShape[this.outputShape.length-1];let l="",c="";n?(l=s?"end != "+(o-1):"end != 0",c=s?"end + 1":"end - 1"):(l=s?`end + pow2 < ${o}`:"end >= pow2",c=s?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${eR(i)} coords = getOutputCoords();\n        int end = ${bz(i,"coords",this.op)};\n        float val = ${a};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${c};\n          ${bz(i,"coords",this.op)} = idx;\n          val ${this.op}= getX(${wz(i,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function wz(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function bz(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function vz(e,t,n,s,i,r){const a=t.shape.length,o=Cd([s],a);let l=t;null!=o&&(l=xO({inputs:{x:t},backend:n,attrs:{perm:o}}));const c=Ed(1,a)[0];if(c!==a-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${s}`);const u=l.shape[c];let h=qF({inputs:{x:l},backend:n});for(let t=0;t<=Math.ceil(Math.log2(u))-1;t++){const s=new Az(e,l.shape,!1,r),i=[[t]],a=h;h=n.runWebGLProgram(s,[h],h.dtype,i),n.disposeIntermediateTensorInfo(a)}if(i){const t=new Az(e,l.shape,i,r),s=h;h=n.runWebGLProgram(t,[h],h.dtype),n.disposeIntermediateTensorInfo(s)}if(null!=o){const e=xO({inputs:{x:h},backend:n,attrs:{perm:kd(o)}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(l),e}return h}const xz={kernelName:ai,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,exclusive:a,reverse:o}=s;return vz(gz.Prod,i,n,r,a,o)}};const Cz={kernelName:oi,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,exclusive:a,reverse:o}=s;return vz(gz.Sum,i,n,r,a,o)}};const kz={kernelName:ci,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,weights:r}=t,{size:a,binaryOutput:o}=s;if(1===i.shape.length){const e=n.readSync(i.dataId),t=n.readSync(r.dataId),s=IR(e,t,r.dtype,r.shape,a);return n.makeTensorInfo([a],r.dtype,s)}if(2===i.shape.length){const e=n.bufferSync(i),t=n.bufferSync(r),s=TR(e,t,a,o);return n.makeTensorInfo(s.shape,r.dtype,s.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${i.shape.length}.`)}};class Ez{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const Sz={kernelName:ui,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{blockSize:r,dataFormat:a}=s,o=i.shape[0],l=("NHWC"===a?i.shape[1]:i.shape[2])*r,c=("NHWC"===a?i.shape[2]:i.shape[3])*r,u=("NHWC"===a?i.shape[3]:i.shape[1])/(r*r),h=new Ez("NHWC"===a?[o,l,c,u]:[o,u,l,c],r,a);return n.runWebGLProgram(h,[i],i.dtype)}};class Iz{constructor(e,t=!1,n=null,s=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=oR(this.outputShape.length);const r=e.filterHeight,a=e.filterWidth,o=e.outChannels/e.inChannels;let l="",c="";n&&(l=s?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:i?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,c="result = activation(result);");const u=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${o};\n        int q = d2 - d1 * ${o};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${r}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${a}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${u}\n        ${c}\n        setOutput(result);\n      }\n    `}}class Tz{constructor(e,t=!1,n=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=oR(this.outputShape.length);const r=e.outChannels/e.inChannels,a=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,h=u;let d="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let e=0;e<u;e++)d+=`\n          vec4 xTexelC${2*e};\n          int xTexelC${2*e}Ready;\n          vec4 xTexelC${2*e+1};\n          int xTexelC${2*e+1}Ready;\n          vec4 xC${e};`;d+=`\n    for (int r = 0; r < ${c}; r++) {\n      `;for(let e=0;e<u;e++)d+=`\n          xTexelC${2*e} = vec4(0.0);\n          xTexelC${2*e}Ready = 0;\n          xTexelC${2*e+1} = vec4(0.0);\n          xTexelC${2*e+1}Ready = 0;\n          xC${e} = vec4(0.0);`;d+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let e=0;e<(h+1)/2;e++){const t=2*e;if(d+=`\n          xC = xCCorner + ${t*l};\n          `,1===o){if(t<u&&(a%2==1?(d+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n              `,d+=1===l&&t>0?`\n                xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                  } else {\n                    xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                  }\n                  `):d+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xC${t} = xTexelC${t};\n                `,t+1<u)){const e=a%2==0?On(l):l;l%2==0&&a%2==1||l%2!=0&&a%2!=1?(d+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                    xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${t+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${t+1}Ready = 1;\n                  }\n                  `,d+=l>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);\n                    } else {\n                     xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);\n                    }\n                    `:`\n                    xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                    `):d+=1===e?`\n                    xC${t+1} = xTexelC${t};\n                    `:`\n                    xCOffset = xC + ${e};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                      xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${t+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${t+1}Ready = 1;\n                    }\n\n                    xC${t+1} = xTexelC${t+1};\n                    `}}else t<u&&(a%2==1?(d+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n              `,t+1<u&&(d+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                `)):(d+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(\n                  xTexelC${t}.xy, xTexelC${t+1}.xy);\n              `,t+1<u&&(d+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                `)));t<u&&(d+=`\n            wTexel = getW(r, ${t}, d1, q);\n            dotProd += xC${t} * vec4(wTexel.xz, wTexel.xz);\n          `,t+1<u&&(d+=`\n              wTexel = getW(r, ${t+1}, d1, q);\n              dotProd += xC${t+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}d+="\n    }\n  ",d+="\n      }\n    ";let p="",f="";n&&(p=s?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:i?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${p}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${r};\n        int q = d2 - d1 * ${r};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${d}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${m}\n        ${f}\n        setOutput(result);\n      }\n    `}}const _z={kernelName:hi,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r}=t,{strides:a,pad:o,dilations:l,dimRoundingMode:c}=s;let u=l;null==u&&(u=[1,1]),zn(bh(a,u),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`));const h=dh(i.shape,r.shape,a,u,o,c,!0);let d;d=As().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels==1?new Tz(h):new Iz(h);const p=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return n.runWebGLProgram(d,[i,r],"float32",p)}};class Nz{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,r=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${r} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${s};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${i};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Dz{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,s=e.strideHeight,i=e.strideWidth,r=t-1-e.padInfo.top,a=n-1-e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${r}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${s}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${o}; dm++) {\n              int d2 = d1 * ${o} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Mz={kernelName:di,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,dy:r}=t,{strides:a,dilations:o,pad:l,dimRoundingMode:c,filterShape:u}=s,h=dh(i.shape,u,a,o,l,c,!0),d=new Nz(h);return n.runWebGLProgram(d,[i,r],"float32")}};const Bz={kernelName:pi,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,filter:r}=t,{strides:a,dilations:o,pad:l,dimRoundingMode:c,inputShape:u}=s,h=dh(u,r.shape,a,o,l,c,!0),d=new Dz(h);return n.runWebGLProgram(d,[i,r],"float32")}};class Rz{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const Fz={kernelName:fi,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t,i=[...s.shape,...s.shape],r=Wn(s.shape),a=dO({inputs:{x:s},backend:n,attrs:{shape:[r]}}),o=new Rz(r),l=n.runWebGLProgram(o,[a],a.dtype),c=dO({inputs:{x:l},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}};class Oz{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:s,strideHeight:i,strideWidth:r,filterHeight:a,filterWidth:o,dilationHeight:l,dilationWidth:c}=e,{top:u,left:h}=s;this.userCode=`\n      const ivec2 strides = ivec2(${i}, ${r});\n      const ivec2 pads = ivec2(${u}, ${h});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${a}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${o}; w++) {\n              int wIn = wBeg + w * ${c};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const Lz={kernelName:mi,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r}=t,{strides:a,pad:o,dilations:l}=s,c=ch(i.shape,r.shape,a,o,"NHWC",l);let u;const h=new Oz(c);u=n.runWebGLProgram(h,[i,r],"float32");const d=dO({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),d}};const zz={kernelName:bi,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{equation:i}=s,r=t,{allDims:a,summedDims:o,idDims:l}=Xg(i,r.length);Jg(a.length,l,r);const{path:c,steps:u}=ey(o,l),h=u.length;let d=null,p=a.length;const f=[];for(let e=0;e<h;++e){for(const t of u[e]){const{permutationIndices:e,expandDims:s}=$g(p,l[t]);let i;ty(e)?i=r[t]:(i=xO({inputs:{x:r[t]},backend:n,attrs:{perm:e}}),f.push(i));const a=i.shape.slice();for(let e=0;e<s.length;++e)a.splice(s[e],0,1);Gn(i.shape,a)||(i=dO({inputs:{x:i},backend:n,attrs:{shape:a}}),f.push(i)),null===d?d=i:(d=uO({inputs:{a:i,b:d},backend:n}),f.push(d))}e<h-1&&(c[e]>=0&&(d=bO({inputs:{x:d},backend:n,attrs:{axis:c[e]-(a.length-p),keepDims:!1}}),f.push(d)),p--)}for(const e of f)e!==d&&n.disposeIntermediateTensorInfo(e);return d}},Vz=nO({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),Pz={kernelName:vi,backendName:"webgl",kernelFunc:Vz},Wz={kernelName:xi,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:s,y:i}=t,r=As().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new jF("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",s.shape,i.shape):new GF("return (b >= 0.0) ? a : a * (b + 1.0);",s.shape,i.shape);return n.runWebGLProgram(r,[s,i],s.dtype)}},Gz=sO({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:BR}),Uz={kernelName:ki,backendName:"webgl",kernelFunc:Gz},jz=nO({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${Bg};\n  float a1 = ${Rg};\n  float a2 = ${Fg};\n  float a3 = ${Og};\n  float a4 = ${Lg};\n  float a5 = ${zg};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),qz={kernelName:Ci,backendName:"webgl",kernelFunc:jz},Hz=nO({opSnippet:tO+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:RR,dtype:"float32"}),Yz={kernelName:Ei,backendName:"webgl",kernelFunc:Hz};function Kz(e){const{inputs:t,attrs:n,backend:s}=e,{dim:i}=n,{input:r}=t,a=r.shape.length,o=r.shape.slice();let l=i;return i<0&&(zn(-(a+1)<=i,(()=>`Axis must be in the interval [${-(a+1)}, ${a}]`)),l=a+i+1),o.splice(l,0,1),dO({inputs:{x:r},backend:s,attrs:{shape:o}})}const Zz={kernelName:Si,backendName:"webgl",kernelFunc:Kz},Qz="return exp(x) - 1.0;",Xz=nO({opSnippet:Qz,packedOpSnippet:Qz,cpuKernelImpl:FR}),$z={kernelName:Ii,backendName:"webgl",kernelFunc:Xz};class Jz{constructor(e,t,n){this.variableNames=["real","imag"];const s=t[1];this.outputShape=t;const i=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,r=n?`${s}.0`:"1.0";let a;if("real"===e)a="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);a="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${i};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${a}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${s});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${s}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${r};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function eV(e,t,n){const s=n.texData.get(e.dataId),i=Wn(e.shape),r=e.shape[e.shape.length-1],a=dO({inputs:{x:e},backend:n,attrs:{shape:[i/r,r]}}),o=a.shape,l=new Jz("real",o,t),c=new Jz("imag",o,t),u=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:o},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:o}],h=n.runWebGLProgram(l,u,"float32"),d=n.runWebGLProgram(c,u,"float32"),p=YF({inputs:{real:h,imag:d},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d);const f=dO({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(p),f}const tV={kernelName:Ti,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:s}=t;return eV(s,!1,n)}};class nV{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function sV(e){const{backend:t,attrs:n}=e,{shape:s,value:i}=n;let{dtype:r}=n;if(r=r||ns(i),"string"===r){const e=Xn(r,Wn(s));return e.fill(i),t.makeTensorInfo(s,r,e)}{const e=new nV(s,i),n=[[i]];return t.runWebGLProgram(e,[],r,n)}}const iV={kernelName:_i,backendName:"webgl",kernelFunc:sV};class rV{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const aV={kernelName:Ni,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,s=t,i=new rV(n.shape);return s.runWebGLProgram(i,[n],n.dtype)}},oV="return floor(x);",lV=nO({opSnippet:oV,packedOpSnippet:oV,cpuKernelImpl:OR}),cV={kernelName:Di,backendName:"webgl",kernelFunc:lV},uV=sO({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),hV={kernelName:Mi,backendName:"webgl",kernelFunc:uV};class dV{constructor(e){this.variableNames=["A"];const t=LB(),[n,s]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class pV{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=LB(),[n,s]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${s}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const fV={kernelName:_a,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e;let{pixels:i}=t;const{numChannels:r}=s,a="undefined"!=typeof HTMLVideoElement&&i instanceof HTMLVideoElement,o="undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement,[l,c]=a?[i.videoWidth,i.videoHeight]:[i.width,i.height],u=[c,l],h=[c,l,r];if(o||a){const e=As().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=mV&&e===gV||(gV=e,mV=document.createElement("canvas").getContext("2d",{willReadFrequently:gV})),mV.canvas.width=l,mV.canvas.height=c,mV.drawImage(i,0,0,l,c),i=mV.canvas}const d=n.makeTensorInfo(u,"int32");n.texData.get(d.dataId).usage=sB.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),i);const p=As().getBool("WEBGL_PACK")?new pV(h):new dV(h),f=n.runWebGLProgram(p,[d],"int32");return n.disposeData(d.dataId),f}};let mV,gV=As().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const yV={kernelName:Ma,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r,bias:a,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:h,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=s,m=xh(u),g=dh(i.shape,r.shape,l,h,c,d,!1,m);let y;const A=[],w=null!=a,b=null!=o,v="leakyrelu"===p,x=()=>{const e=[i,r],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=dO({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return A.push(t),t}return e};if(w&&e.push(t(a,u)),b&&e.push(t(o,u)),v){const t=n.makeTensorInfo([],"float32",ro(f,"float32"));e.push(t),A.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&As().getBool("WEBGL_EXP_CONV")){const e=p?iO(p,!0):null,t=new KL(g,w,e,b,v),s=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],i=x();y=n.runWebGLProgram(t,i,"float32",s)}else if(As().getBool("WEBGL_CONV_IM2COL"))y=$L({x:i,filter:r,convInfo:g,backend:n,bias:a,activation:p,preluActivationWeights:o,leakyreluAlpha:f});else{const e=p?iO(p,!1):null,t=new HL(g,w,e,b,v),s=x();y=n.runWebGLProgram(t,s,"float32")}else y=XL({x:i,filter:r,convInfo:g,backend:n,bias:a,activation:p,preluActivationWeights:o,leakyreluAlpha:f});const C=dO({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return A.push(y),A.forEach((e=>n.disposeIntermediateTensorInfo(e))),C}};const AV={kernelName:Ba,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,filter:r,bias:a,preluActivationWeights:o}=t,{strides:l,pad:c,dilations:u,dimRoundingMode:h,activation:d,leakyreluAlpha:p}=s,f=[];let m=u;null==m&&(m=[1,1]),zn(bh(l,m),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`));const g=dh(i.shape,r.shape,l,m,c,h,!0),y=As().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels==1,A=d?iO(d,y):null,w=[i,r],b=null!=a,v=null!=o,x="leakyrelu"===d;if(b&&w.push(a),v&&w.push(o),x){const e=n.makeTensorInfo([],"float32",ro(p,"float32"));w.push(e),f.push(e)}let C;C=y?new Tz(g,b,A,v,x):new Iz(g,b,A,v,x);const k=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],E=n.runWebGLProgram(C,w,"float32",k);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),E}};class wV{constructor(e,t,n,s){this.sliceDim=e,this.strides=t,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=n;const i=eR(n.length);let r="\n    int index;";for(let e=0;e<this.sliceDim;e++)r+=`\n          index = round(getIndices(coords[0], ${e}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[e]};\n          flattenIndex += index * ${this.strides[e]};`;this.userCode=`\n         void main() {\n          ${i} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${r}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}const bV={kernelName:Fi,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:s,indices:i}=t,r=i.shape,a=r[r.length-1],o=Wn(s.shape),[l,c,u,h]=Ng(s,i),d=dO({inputs:{x:i},backend:n,attrs:{shape:[c,a]}}),p=dO({inputs:{x:s},backend:n,attrs:{shape:[Wn(s.shape)/u,u]}});if(n.shouldExecuteOnCPU([s,i])||"string"===s.dtype){const e=n.readSync(i.dataId),t=n.bufferSync(s),r=LR(e,t,s.dtype,c,a,u,h,s.shape,o);return n.makeTensorInfo(l,s.dtype,r.values)}const f=new wV(a,h,[c,u],s.shape),m=n.runWebGLProgram(f,[p,d],p.dtype),g=dO({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}};class vV{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=eR(this.rank),s=function(e){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let s=0;s<e.length;s++)2===s?n.push("index"):n.push(`${t[s]}`);return n.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${s}));\n      }\n    `}}function xV(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,indices:r}=t,{axis:a,batchDims:o}=s,l=Kn(a,i.shape)[0];if(As().get("DEBUG")){const e=n.readSync(r.dataId),t=i.shape[l];for(let n=0;n<e.length;++n){const s=e[n];zn(s<=t-1&&s>=0,(()=>`GatherV2: the index value ${s} is not in [0, ${t-1}]`))}}const c=Ay(i,r,l,o),u=Wn(r.shape),h=[],d=dO({inputs:{x:i},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),p=dO({inputs:{x:r},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});h.push(d),h.push(p);const f=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([i,r])||"string"===i.dtype){const e=n.bufferSync(p),t=n.bufferSync(d),s=zR(t,e,f);return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c.outputShape,s.dtype,s.values)}const m=new vV(d.shape,f),g=n.runWebGLProgram(m,[d,p],d.dtype);h.push(g);const y=dO({inputs:{x:g},backend:n,attrs:{shape:c.outputShape}});return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const CV={kernelName:Ri,backendName:"webgl",kernelFunc:xV},kV=sO({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:VR,dtype:"bool"}),EV={kernelName:Oi,backendName:"webgl",kernelFunc:kV},SV=sO({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:PR}),IV={kernelName:Li,backendName:"webgl",kernelFunc:SV};const TV={kernelName:Vi,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:s}=t;return eV(s,!0,n)}},_V=nO({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),NV={kernelName:Wi,backendName:"webgl",kernelFunc:_V},DV=nO({opSnippet:"return float(isinf(x));",dtype:"bool"}),MV={kernelName:Gi,backendName:"webgl",kernelFunc:DV},BV=nO({opSnippet:"return float(isnan(x));",dtype:"bool"}),RV={kernelName:Ui,backendName:"webgl",kernelFunc:BV},FV=sO({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:WR,dtype:"bool"}),OV={kernelName:qi,backendName:"webgl",kernelFunc:FV},LV=sO({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:GR,dtype:"bool"}),zV={kernelName:Hi,backendName:"webgl",kernelFunc:LV};const VV={kernelName:Yi,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:s,stop:i,num:r}=n,a=UR(s,i,r);return t.makeTensorInfo([a.length],"float32",a)}},PV=nO({opSnippet:tO+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:jR}),WV={kernelName:Ki,backendName:"webgl",kernelFunc:PV},GV=nO({opSnippet:tO+"\n  return log(1.0 + x);\n"}),UV={kernelName:Zi,backendName:"webgl",kernelFunc:GV},jV=sO({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),qV={kernelName:Qi,backendName:"webgl",kernelFunc:jV},HV=nO({opSnippet:"return float(!(x >= 1.0));"}),YV={kernelName:Xi,backendName:"webgl",kernelFunc:HV},KV=sO({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),ZV={kernelName:$i,backendName:"webgl",kernelFunc:KV};class QV{constructor(e,t,n,s,i){this.variableNames=["x"],this.outputShape=[];const r=t,a=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${s}) * sum`;o=.5===i?`inversesqrt(${l})`:1===i?`1.0/(${l})`:`exp(log(${l}) * float(-${i}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${r}; j <= ${r}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${a}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${o};\n        setOutput(val);\n      }\n    `}}class XV{constructor(e,t,n,s,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const r=t,a=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${s}) * sum`;o=.5===i?`inversesqrt(${l})`:1===i?`1.0/(${l})`:`exp(log(${l}) * float(-${i}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${r};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${r}; j <= ${r}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${o};\n        setOutput(result);\n      }\n    `}}const $V={kernelName:Ji,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{depthRadius:r,bias:a,alpha:o,beta:l}=s,c=As().getBool("WEBGL_PACK_NORMALIZATION")?new XV(i.shape,r,a,o,l):new QV(i.shape,r,a,o,l);return n.runWebGLProgram(c,[i],i.dtype)}};class JV{constructor(e,t,n,s,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=s,this.beta=i,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${s}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${s})\n                * float(${i})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${i});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const eP={kernelName:er,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{x:i,y:r,dy:a}=t,{depthRadius:o,bias:l,alpha:c,beta:u}=s,h=new JV(i.shape,o,l,c,u);return n.runWebGLProgram(h,[i,r,a],i.dtype)}};function tP(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{reductionIndices:r,keepDims:a}=s,o=i.shape.length,l=Kn(r,i.shape);let c=l;const u=Cd(c,o),h=null!=u,d=n.shouldExecuteOnCPU([i]);let p=i;if(h){if(d){const e=n.texData.get(p.dataId).values,t=new Array(o);for(let e=0;e<t.length;e++)t[e]=i.shape[u[e]];const s=wF(e,i.shape,i.dtype,u,t);p=n.makeTensorInfo(t,i.dtype);n.texData.get(p.dataId).values=s}else p=wO(i,u,n);c=Ed(c.length,o)}xd("max",c,o);const[f,m]=bd(p.shape,c);let g,y=f;if(a&&(y=vd(f,l)),d){const e=n.texData.get(p.dataId).values,t=qR(e,Wn(m),y,i.dtype);g=n.makeTensorInfo(y,i.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,s){const i=Wn(t),r=dO({inputs:{x:e},attrs:{shape:[Wn(e.shape)/i,i]},backend:s}),a=gO(r,e.dtype,"max",s),o=dO({inputs:{x:a},attrs:{shape:n},backend:s});return s.disposeIntermediateTensorInfo(r),s.disposeIntermediateTensorInfo(a),o}(p,m,y,n);return h&&n.disposeIntermediateTensorInfo(p),g}const nP={kernelName:tr,backendName:"webgl",kernelFunc:tP},sP=sO({opSnippet:WF+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+UF+"\n  return result;\n",cpuKernelImpl:HR}),iP={kernelName:nr,backendName:"webgl",kernelFunc:sP};const rP={kernelName:sr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t;FB(i,"maxPool");const{filterSize:r,strides:a,pad:o,dimRoundingMode:l}=s;zn(bh(a,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const c=uh(i.shape,r,a,1,o,l);if(1===c.filterWidth&&1===c.filterHeight&&Gn(c.inShape,c.outShape))return qF({inputs:{x:i},backend:n});const u=new sL(c,"max",!1);return n.runWebGLProgram(u,[i],i.dtype)}};const aP={kernelName:rr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{filterSize:r,strides:a,pad:o,dataFormat:l,dimRoundingMode:c}=s,u=hh(i.shape,r,a,[1,1,1],o,c,l),h=new iL(u,"max",!1);return n.runWebGLProgram(h,[i],i.dtype)}};class oP{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,s=e.dilationHeight,i=e.effectiveFilterHeight,r=e.effectiveFilterWidth,a=i-1-e.padInfo.top,o=r-1-e.padInfo.left,l=i*r-1;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${i};\n          wR += ${s}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${r}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${r} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class lP{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,r=e.dilationHeight,a=e.dilationWidth,o=e.effectiveFilterDepth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=o-1-e.padInfo.front,h=l-1-e.padInfo.top,d=c-1-e.padInfo.left,p=o*l*c-1;this.userCode=`\n      const ivec3 pads = ivec3(${u}, ${h}, ${d});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${o};\n           wD += ${i}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${r}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${c};\n                wC += ${a}) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${p} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${c} +\n                  wR * ${c} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const cP={kernelName:ar,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,input:r}=t,a=r,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=s,h=hh(a.shape,o,l,[1,1,1],c,u),d=new iL(h,"max",!0),p=n.runWebGLProgram(d,[a],a.dtype),f=new lP(h),m=n.runWebGLProgram(f,[i,p],a.dtype);return n.disposeIntermediateTensorInfo(p),m}};const uP={kernelName:ir,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{dy:i,input:r,output:a}=t,o=r;FB([r,a],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:h}=s,d=uh(o.shape,l,c,1,u,h),p=new sL(d,"max",!0),f=n.runWebGLProgram(p,[o],o.dtype),m=new oP(d),g=n.runWebGLProgram(m,[i,f],o.dtype);return n.disposeIntermediateTensorInfo(f),g}};const hP={kernelName:or,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:s}=e,{filterSize:i,strides:r,pad:a,includeBatchInIndex:o}=t,l=n;zn(4===s.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${s.shape.length}.`));const c=[1,1];zn(bh(r,c),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${r} and dilations '${c}'`));const u=uh(s.shape,i,r,c,a),[h,d]=function(e,t,n,s){let i=new sL(n,"max",!1);const r=s.runWebGLProgram(i,[e],"float32");return i=new sL(n,"max",!0,!0,t),[r,s.runWebGLProgram(i,[e],"float32")]}(s,o,u,l);return[h,d]}};const dP={kernelName:lr,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:s}=e,{keepDims:i,axis:r}=t,a=n,o=s.shape.length,l=Kn(r,s.shape);let c=l;const u=Cd(c,o),h=null!=u,d=a.shouldExecuteOnCPU([s]),p=[];let f=s;if(h){if(d){const e=a.texData.get(f.dataId).values,t=new Array(o);for(let e=0;e<t.length;e++)t[e]=s.shape[u[e]];const n=wF(e,s.shape,s.dtype,u,t);f=a.makeTensorInfo(t,s.dtype);a.texData.get(f.dataId).values=n}else f=wO(s,u,a);p.push(f),c=Ed(c.length,o)}xd("sum",c,o);const[m,g]=bd(f.shape,c);let y=m;i&&(y=vd(m,l));const A=function(e,t,n,s){const i=Wn(t),r=dO({inputs:{x:e},attrs:{shape:[Wn(e.shape)/i,i]},backend:s}),a=gO(r,"float32","mean",s),o=dO({inputs:{x:a},attrs:{shape:n},backend:s});return s.disposeIntermediateTensorInfo(r),s.disposeIntermediateTensorInfo(a),o}(f,g,y,a);for(const e of p)a.disposeIntermediateTensorInfo(e);return A}};const pP={kernelName:cr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s,o=i.shape.length,l=Kn(r,i.shape);let c=l;const u=Cd(c,o);let h=i;null!=u&&(h=xO({inputs:{x:i},backend:n,attrs:{perm:u}}),c=Ed(c.length,i.shape.length)),xd("min",c,o);const[d,p]=bd(h.shape,c),f=dO({inputs:{x:h},backend:n,attrs:{shape:[-1,Wn(p)]}}),m=gO(f,f.dtype,"min",n);let g;if(a){g=dO({inputs:{x:m},backend:n,attrs:{shape:vd(d,l)}})}else g=dO({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(h),g}},fP=sO({opSnippet:WF+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+UF+"\n  return result;\n",cpuKernelImpl:YR}),mP={kernelName:ur,backendName:"webgl",kernelFunc:fP};class gP{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const s=e.length,i=eR(s),r=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),l="reflect"===n?0:1;this.userCode=1!==s?`\n      ${i} start = ${i}(${r});\n      ${i} end = ${i}(${a});\n\n      void main() {\n        ${i} outC = getOutputCoords();\n        for (int i = 0; i < ${s}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${i} coords = outC - start;\n        setOutput(getX(${o}));\n      }\n    `:`\n        int start = ${r};\n        int end = ${a};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class yP{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const s=e.length,i=eR(s),r=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),o=xF("rc",s),l=xF("source",s),c=`${o[s-1]} < ${this.outputShape[s-1]}`,u=1===s?"source":`vec2(${l.slice(-2).join()})`,h="reflect"===n?0:1;let d="";if(1===s){const e=`\n        ${i} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${h};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${h};\n        }\n        source -= start;\n      `;d=`\n        ${i} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${u});\n        ${o[s-1]} += 1;\n        if(${c}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${u});\n        }\n      `}else{const e=`\n        ${i} source = rc;\n        ${i} lt = ${i}(lessThan(source, start));\n        ${i} gte = ${i}(greaterThanEqual(source, end));\n        ${i} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${h}) +\n                gte * ((end - 1) * 2 - source + ${h});\n        source -= start;\n      `;d=`\n        ${i} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${u});\n        ${o[s-1]} += 1;\n        if(${c}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${u});\n        }\n        rc = outputLoc;\n        ${o[s-2]} += 1;\n        if(${o[s-2]} < ${this.outputShape[s-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${u});\n          ${o[s-1]} += 1;\n          if(${c}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${u});\n          }\n        }\n      `}this.userCode=`\n      const ${i} start = ${i}(${r});\n      const ${i} end = ${i}(${a});\n\n      void main() {\n        ${i} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${d}\n        setOutput(result);\n      }\n    `}}const AP={kernelName:hr,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:s}=e,{paddings:i,mode:r}=n,a=As().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yP(s.shape,i,r):new gP(s.shape,i,r);return t.runWebGLProgram(a,[s],s.dtype)}},wP=sO({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+UF+"\n  return result;\n"}),bP={kernelName:dr,backendName:"webgl",kernelFunc:wP};class vP{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const xP=sO({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),CP={kernelName:wi,backendName:"webgl",kernelFunc:xP},kP="return a - b;",EP=sO({opSnippet:kP,packedOpSnippet:kP,supportsComplex:!0,cpuKernelImpl:gF}),SP={kernelName:ya,backendName:"webgl",kernelFunc:EP};function IP(e){const{inputs:t,backend:n,attrs:s}=e,{logits:i}=t,{dim:r}=s,a=Kn([r],i.shape),o=tP({inputs:{x:i},backend:n,attrs:{reductionIndices:a,keepDims:!1}}),l=vd(o.shape,a),c=dO({inputs:{x:o},backend:n,attrs:{shape:l}}),u=EP({inputs:{a:i,b:c},backend:n}),h=Hz({inputs:{x:u},backend:n}),d=bO({inputs:{x:h},backend:n,attrs:{axis:a,keepDims:!1}}),p=dO({inputs:{x:d},backend:n,attrs:{shape:l}}),f=xP({inputs:{a:h,b:p},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),f}const TP={kernelName:ia,backendName:"webgl",kernelFunc:IP};const _P={kernelName:pr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{logits:i}=t,{numSamples:r,seed:a,normalized:o}=s,l=o?i:IP({inputs:{logits:i},backend:n,attrs:{dim:i.shape.length-1}}),c=l.shape[0],u=l.shape[1],h=new vP(c,u,r),d=[[a]],p=n.runWebGLProgram(h,[l],"int32",d);return o||n.disposeIntermediateTensorInfo(l),p}},NP=NF+"\n  return -x;\n";const DP={kernelName:mr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:s}=t;if(n.shouldExecuteOnCPU([s])){const e=n.texData.get(s.dataId),[t,i]=ZR(e.values,s.shape,s.dtype);return n.makeTensorInfo(i,s.dtype,t)}let i;return i=As().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new FF(s.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new _F(s.shape,NP),n.runWebGLProgram(i,[s],s.dtype)}},MP=Im;const BP={kernelName:yr,backendName:"webgl",kernelFunc:function(e){Ra();const{inputs:t,backend:n,attrs:s}=e,{boxes:i,scores:r}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l}=s,c=n.readSync(i.dataId),u=n.readSync(r.dataId),{selectedIndices:h}=MP(c,u,a,o,l);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}},RP=Tm;const FP={kernelName:Ar,backendName:"webgl",kernelFunc:function(e){Ra();const{inputs:t,backend:n,attrs:s}=e,{boxes:i,scores:r}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=s,u=n.readSync(i.dataId),h=n.readSync(r.dataId),{selectedIndices:d,validOutputs:p}=RP(u,h,a,o,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},OP=_m;const LP={kernelName:wr,backendName:"webgl",kernelFunc:function(e){Ra();const{inputs:t,backend:n,attrs:s}=e,{boxes:i,scores:r}=t,{maxOutputSize:a,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=s,u=n.readSync(i.dataId),h=n.readSync(r.dataId),d=a,p=o,f=l,m=c,{selectedIndices:g,selectedScores:y}=OP(u,h,d,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class zP{constructor(e,t,n,s){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${s}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const VP={kernelName:vr,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{indices:i}=t,{dtype:r,depth:a,onValue:o,offValue:l}=s,c=Wn(i.shape),u=new zP(c,a,o,l),h=dO({inputs:{x:i},backend:n,attrs:{shape:[c]}}),d=n.runWebGLProgram(u,[h],r);n.disposeIntermediateTensorInfo(h);const p=dO({inputs:{x:d},backend:n,attrs:{shape:[...i.shape,a]}});return n.disposeIntermediateTensorInfo(d),p}};function PP(e){const{inputs:t,backend:n}=e,{x:s}=t;if("complex64"===s.dtype){const e=SL({inputs:{input:s},backend:n}),t=PP({inputs:{x:e},backend:n}),i=WL({inputs:{input:s},backend:n}),r=PP({inputs:{x:i},backend:n}),a=YF({inputs:{real:t,imag:r},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(r),a}return sV({attrs:{shape:s.shape,dtype:s.dtype,value:"string"===s.dtype?"":0},backend:n})}const WP={kernelName:Ia,backendName:"webgl",kernelFunc:PP};const GP={kernelName:br,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:s}=t,{x:i}=n;if("string"===i.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===i.dtype){const t=SL({inputs:{input:i},backend:s}),n=e({inputs:{x:t},backend:s}),r=WL({inputs:{input:i},backend:s}),a=PP({inputs:{x:r},backend:s}),o=YF({inputs:{real:n,imag:a},backend:s});return s.disposeIntermediateTensorInfo(t),s.disposeIntermediateTensorInfo(n),s.disposeIntermediateTensorInfo(r),s.disposeIntermediateTensorInfo(a),o}return sV({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:s})}};const UP={kernelName:xr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{axis:i}=s;if(1===t.length)return Kz({inputs:{input:t[0]},backend:n,attrs:{dim:i}});const r=t[0].shape,a=t[0].dtype;t.forEach((e=>{Vn(r,e.shape,"All tensors passed to stack must have matching shapes"),zn(a===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],l=jL({inputs:t.map((e=>{const t=Kz({inputs:{input:e},backend:n,attrs:{dim:i}});return o.push(t),t})),backend:n,attrs:{axis:i}});return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}};class jP{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const s=e.length,i=eR(s),r=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);this.userCode=1!==s?`\n      ${i} start = ${i}(${r});\n      ${i} end = ${i}(${a});\n\n      void main() {\n        ${i} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${i} coords = outC - start;\n          setOutput(getX(${o}));\n        }\n      }\n    `:`\n        int start = ${r};\n        int end = ${a};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class qP{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const s=e.length,i=eR(s),r=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),o=xF("rc",s),l=xF("source",s),c=`${o[s-1]} < ${this.outputShape[s-1]}`,u=1===s?"source":`vec2(${l.slice(-2).join()})`,h=[`${i} rc = outputLoc;`,`${o[s-1]} += 1;\n       if(${c}) {\n      `,1===s?"":`}\n       rc = outputLoc;\n       ${o[s-2]} += 1;\n       if(${o[s-2]} < ${this.outputShape[s-2]}) {`,1===s?"":`  ${o[s-1]} += 1;\n         if(${c}) {`],d=1===s?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let e=0,t=1===s?2:4;e<t;e++)p+=`\n        ${h[e]}\n        if (${d}) {\n          result[${e}] = float(value);\n        } else {\n          ${i} source = rc - start;\n          result[${e}] = getChannel(getX(${l.join()}), ${u});\n        }\n      `;p+=1===s?"} ":"}}",this.userCode=`\n      const ${i} start = ${i}(${r});\n      const ${i} end = ${i}(${a});\n\n      void main() {\n        ${i} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}const HP=e=>{const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{paddings:r,constantValue:a}=s;if(0===Wn(i.shape)){return sV({backend:n,attrs:{shape:r.map(((e,t)=>e[0]+i.shape[t]+e[1])),value:a,dtype:i.dtype}})}const o=As().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new qP(i.shape,r,a):new jP(i.shape,r,a),l=[[a]];return n.runWebGLProgram(o,[i],i.dtype,l)},YP={kernelName:Cr,backendName:"webgl",kernelFunc:HP},KP=sO({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+UF+"\n  return result;\n"}),ZP={kernelName:kr,backendName:"webgl",kernelFunc:KP};const QP={kernelName:Sr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{axis:r,keepDims:a}=s,o=i.shape.length,l=[],c=Kn(r,i.shape);let u=c;const h=Cd(u,o);let d,p=i;if(null!=h&&(p=xO({inputs:{x:i},backend:n,attrs:{perm:h}}),u=Ed(u.length,o),l.push(p)),xd("prod",u,o),n.shouldExecuteOnCPU([p])){const e=n.texData.get(p.dataId).values,{outVals:t,outShape:s,outDtype:i}=XR(p.shape,p.dtype,e,u);d=n.makeTensorInfo(s,i,t)}else{const[e,t]=bd(p.shape,u),s=Wn(t),r=dO({inputs:{x:p},backend:n,attrs:{shape:[-1,s]}}),a=gO(r,Po(i.dtype),"prod",n);d=dO({inputs:{x:a},backend:n,attrs:{shape:e}}),l.push(r),l.push(a)}if(a){l.push(d);const e=vd(d.shape,c);d=dO({inputs:{x:d},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}};const XP={kernelName:Ir,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{paramsNestedSplits:i,paramsDenseValues:r,indices:a}=t,{outputRaggedRank:o}=s,l=i.map((e=>n.readSync(e.dataId))),c=i.map((e=>e.shape)),u=n.readSync(r.dataId),h=n.readSync(a.dataId),[d,p,f]=$R(l,c,u,r.shape,r.dtype,h,a.shape,o),m=d.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,r.dtype,p);return m.concat([g])}};const $P={kernelName:Tr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:s,limits:i,deltas:r}=t,a=n.readSync(s.dataId),o=n.readSync(i.dataId),l=n.readSync(r.dataId),[c,u]=JR(a,s.shape,s.dtype,o,i.shape,l,r.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],s.dtype,u)]}};const JP={kernelName:_r,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{shape:i,values:r,defaultValue:a,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=s,c=n.readSync(i.dataId),u=n.readSync(r.dataId),h=n.readSync(a.dataId),d=o.map((e=>n.readSync(e.dataId))),p=o.map((e=>e.shape)),[f,m]=eF(c,i.shape,u,r.shape,r.dtype,h,a.shape,d,p,l);return n.makeTensorInfo(f,r.dtype,m)}},eW=e=>{const{backend:t,attrs:n}=e,{start:s,stop:i,step:r,dtype:a}=n,o=tF(s,i,r,a);return t.makeTensorInfo([o.length],a,o)},tW={kernelName:Nr,backendName:"webgl",kernelFunc:eW},nW=nO({opSnippet:"return 1.0 / x;"}),sW={kernelName:Mr,backendName:"webgl",kernelFunc:nW},iW=nO({opSnippet:NF+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),rW={kernelName:Br,backendName:"webgl",kernelFunc:iW},aW=nO({opSnippet:NF+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),oW={kernelName:Vr,backendName:"webgl",kernelFunc:aW};class lW{constructor(e,t,n,s,i){this.variableNames=["A"],this.outputShape=[];const[r,a,o,l]=e;this.outputShape=[r,t,n,l];const c=[s&&t>1?a-1:a,s&&n>1?o-1:o],u=[s&&t>1?t-1:t,s&&n>1?n-1:n];let h;h=i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${a}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${h};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class cW{constructor(e,t,n,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[r,a,o,l]=e;this.outputShape=[r,t,n,l];const c=[s&&t>1?a-1:a,s&&n>1?o-1:o],u=[s&&t>1?t-1:t,s&&n>1?n-1:n];let h;h=i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]},\n          ${c[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${a}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${h};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const uW={kernelName:Lr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:i}=t,{alignCorners:r,halfPixelCenters:a,size:o}=s,[l,c]=o,u=As().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new cW(i.shape,l,c,r,a):new lW(i.shape,l,c,r,a);return n.runWebGLProgram(u,[i],"float32")}};class hW{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,s,i]=t,[,r,a]=e,o=[n&&r>1?s-1:s,n&&a>1?i-1:i],l=[n&&r>1?r-1:r,n&&a>1?a-1:a],c=o[0]/l[0],u=o[1]/l[1],h=1/c,d=1/u,p=2*Math.ceil(h)+2,f=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${c});\n        const float widthScale = float(${u});\n\n        const float invHeightScale = float(${h});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${r}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${a}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const dW={kernelName:zr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:i,dy:r}=t,{alignCorners:a}=s,o=new hW(r.shape,i.shape,a);return n.runWebGLProgram(o,[r],r.dtype)}};class pW{constructor(e,t,n,s,i){this.variableNames=["A"],this.outputShape=[];const[r,a,o,l]=e;this.outputShape=[r,t,n,l];const c=[s&&t>1?a-1:a,s&&n>1?o-1:o],u=[s&&t>1?t-1:t,s&&n>1?n-1:n],h=s?"0.5":"0.0";let d;d=i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${a}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class fW{constructor(e,t,n,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[r,a,o,l]=e;this.outputShape=[r,t,n,l];const c=[s&&t>1?a-1:a,s&&n>1?o-1:o],u=[s&&t>1?t-1:t,s&&n>1?n-1:n],h=s?"0.5":"0.0";let d;d=i?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]},\n          ${c[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${a}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const mW={kernelName:Fr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:i}=t,{alignCorners:r,halfPixelCenters:a,size:o}=s,[l,c]=o,u=As().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new fW(i.shape,l,c,r,a):new pW(i.shape,l,c,r,a);return n.runWebGLProgram(u,[i],i.dtype)}};class gW{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,s,i]=t,[,r,a]=e,o=[n&&r>1?s-1:s,n&&a>1?i-1:i],l=[n&&r>1?r-1:r,n&&a>1?a-1:a],c=o[0]/l[0],u=o[1]/l[1],h=1/c,d=1/u,p=2*Math.ceil(h)+2,f=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${c});\n        const float widthScale = float(${u});\n\n        const float invHeightScale = float(${h});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${r}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${a}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${o[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${o[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${s}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${i}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const yW={kernelName:Or,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{images:i,dy:r}=t,{alignCorners:a}=s,o=new gW(r.shape,i.shape,a);return n.runWebGLProgram(o,[r],r.dtype)}};class AW{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const s=e.map(((n,s)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(s))).join(","),i=eR(n);this.userCode=`\n      void main() {\n        ${i} coords = getOutputCoords();\n        setOutput(getX(${s}));\n      }\n    `}}class wW{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const s=xF("rc",n),i=`${s[n-1]} + 1 < ${this.outputShape[n-1]}`,r=`${s[n-2]} + 1 < ${this.outputShape[n-2]}`,a=eR(n);function o(n){const s=e.map(((s,i)=>function(n,s){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${s[n]} - 1`:`${s[n]}`}(i,n)));return`getChannel(getX(${s.join(",")}), vec2(${s.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${i}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${a} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return o(e)}(s.slice())};\n          if(${i}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",o(e)}(s.slice())};\n          }\n          if(${r}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",o(e)}(s.slice())};\n            if(${i}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",o(e)}(s.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const bW={kernelName:Pr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{dims:r}=s,a=i.shape.length,o=Kn(r,i.shape);if(0===a)return qF({inputs:{x:i},backend:n});const l=As().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wW(i.shape,o):new AW(i.shape,o);return n.runWebGLProgram(l,[i],i.dtype)}};class vW{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],s=e[2];this.outputShape=e;let i="";i="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${i}\n          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const xW={kernelName:Na,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:s}=e,{radians:i,fillValue:r,center:a}=t,o=n,l=new vW(s.shape,r),[c,u]=kg(a,s.shape[1],s.shape[2]),h=[[c,u,Math.sin(i),Math.cos(i)]];return o.runWebGLProgram(l,[s],s.dtype,h)}},CW=nO({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),kW={kernelName:Wr,backendName:"webgl",kernelFunc:CW},EW=nO({opSnippet:"return inversesqrt(x);",cpuKernelImpl:nF}),SW={kernelName:Gr,backendName:"webgl",kernelFunc:EW};class IW{constructor(e,t,n,s,i,r,a=!0,o=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=r;const l=eR(i.length),c=eR(r.length);let u="";1===n?u="i":2===n&&(u="i, j");const h=`getIndices(${u})`;let d="";1===s?d="i":2===s&&(d="i, coords[1]");const p=`getUpdates(${d})`;let f="";o&&(f="coords[0], coords[1]");const m=`getDefaultValue(${f})`,g=t>1?"strides[j]":"strides";this.userCode=`\n        ${l} strides = ${l}(${i});\n\n        void main() {\n          ${c} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${h});\n              flattenedIndex += index * ${g};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${p};\n              found = true;\n            }\n          }\n          setOutput(mix(${m}, sum, float(found)));\n        }\n      `}}class TW{constructor(e,t,n,s,i,r,a=!0,o=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r;const l=eR(i.length),c=eR(r.length);let u="";1===n?u="i":2===n&&(u="i, j");const h=`getIndices(${u})`;let d="";1===s?d="i":2===s&&(d="i, coords[1]");const p=`getUpdates(${d})`;let f="";o&&(f="coords[0], coords[1]");const m=`getDefaultValue(${f})`,g=t>1?"strides[j]":"strides",y=t>1?"strides[j + 1]":"strides";this.userCode=`\n        ${l} strides = ${l}(${i});\n\n        void main() {\n          ${c} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${e}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${t}; j+=2) {\n              ivec4 index = round(${h});\n              flattenedIndex += index.xz * ${g};\n              if (j + 1 < ${t}) {\n                flattenedIndex += index.yw * ${y};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ${p};\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(${m}, sum, found));\n        }\n      `}}const _W={kernelName:Ur,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{indices:i,updates:r}=t,{shape:a}=s,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:h}=Lf(0,i,a),d=[h/c,c];if(0===h)return n.makeTensorInfo(a,i.dtype);const p=dO({inputs:{x:i},backend:n,attrs:{shape:[l,o]}}),f=dO({inputs:{x:r},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=As().getBool("WEBGL_PACK")?new TW(l,o,p.shape.length,f.shape.length,u,d):new IW(l,o,p.shape.length,f.shape.length,u,d);const y=n.runWebGLProgram(g,[f,p,m],f.dtype),A=dO({inputs:{x:y},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),A}};class NW{constructor(e,t,n,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const i=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,r=2===As().getNumber("WEBGL_VERSION")?"while (left < right) {":i,a="left"===s?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${r}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${a} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}const DW={kernelName:qr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{sortedSequence:i,values:r}=t,{side:a}=s,o=new NW(i.shape[0],i.shape[1],r.shape[1],a),l=[[i.shape[1]]];return n.runWebGLProgram(o,[i,r],"int32",l)}};class MW{constructor(e,t,n){let s,i;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)i="resRC",s="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=[];for(let s=0;s<t.length;s++)a.push(`${n[s]}`),s<e&&r.push(`${n[s]}`);s=r.join(),i=a.join()}const r=eR(n);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        float cVal = getC(${s});\n        if (cVal >= 1.0) {\n          setOutput(getA(${i}));\n        } else {\n          setOutput(getB(${i}));\n        }\n      }\n    `}}const BW={kernelName:Hr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:s,t:i,e:r}=t,a=new MW(s.shape.length,i.shape,i.shape.length);return n.runWebGLProgram(a,[s,i,r],Vo(i.dtype,r.dtype))}},RW=nO({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${Dg};\n  float scale = ${Mg};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),FW={kernelName:Yr,backendName:"webgl",kernelFunc:RW},OW=nO({opSnippet:tO+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:iF}),LW={kernelName:$r,backendName:"webgl",kernelFunc:OW},zW=nO({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),VW={kernelName:Xr,backendName:"webgl",kernelFunc:zW},PW=nO({opSnippet:tO+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${UF}\n  return result;\n`}),WW={kernelName:Zr,backendName:"webgl",kernelFunc:PW},GW=nO({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),UW={kernelName:Qr,backendName:"webgl",kernelFunc:GW},jW=nO({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),qW={kernelName:Jr,backendName:"webgl",kernelFunc:jW},HW={kernelName:na,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{blockShape:r,paddings:a}=s;zn(i.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const o=r.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...a);for(let e=1+r.length;e<i.shape.length;++e)l.push([0,0]);const c=[],u=HP({inputs:{x:i},backend:n,attrs:{paddings:l,constantValue:0}}),h=Eg(u.shape,r,o,!1),d=Sg(h.length,r.length,!1),p=Ig(u.shape,r,o,!1),f=dO({inputs:{x:u},backend:n,attrs:{shape:h}}),m=xO({inputs:{x:f},backend:n,attrs:{perm:d}}),g=dO({inputs:{x:m},backend:n,attrs:{shape:p}});return c.push(u),c.push(f),c.push(m),c.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const YW={kernelName:ra,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:s,values:i,denseShape:r,defaultValue:a}=t;if(1!==r.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${r.shape}`);if(2!==s.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${s.shape}`);if(1!==i.shape.length)throw new Error(`Values must be a vector, saw:\n         ${i.shape}`);if(0!==a.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${a.shape}`);const o=n.readSync(s.dataId),l=n.readSync(i.dataId),c=n.readSync(r.dataId),u=n.readSync(a.dataId)[0],[h,d,p,f,m]=oF(o,s.shape,s.dtype,l,i.dtype,c,u);return[n.makeTensorInfo(d,s.dtype,h),n.makeTensorInfo([d[0]],i.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],s.dtype,new Int32Array(m))]}};const KW={kernelName:aa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:s,inputShape:i,newShape:r}=t;if(2!==s.shape.length)throw new Error(`Input indices should be a matrix but received shape ${s.shape}`);if(1!==i.shape.length)throw new Error(`Input shape should be a vector but received shape ${i.shape}`);if(1!==r.shape.length)throw new Error(`Target shape should be a vector but received shape ${r.shape}`);const a=Array.from(n.readSync(i.dataId)),o=n.readSync(s.dataId),l=Array.from(n.readSync(r.dataId)),[c,u,h]=lF(o,s.shape,s.dtype,a,l);return[n.makeTensorInfo(u,s.dtype,c),n.makeTensorInfo([h.length],r.dtype,new Int32Array(h))]}};const ZW={kernelName:oa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:s,indices:i,segmentIds:r}=t;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${i.shape}`);if(1!==r.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${r.shape}`);const a=n.readSync(s.dataId),o=n.readSync(i.dataId),l=n.readSync(r.dataId),[c,u]=cF(a,s.shape,s.dtype,o,l,!0);return n.makeTensorInfo(u,s.dtype,c)}};const QW={kernelName:la,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:s,indices:i,segmentIds:r}=t;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${i.shape}`);if(1!==r.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${r.shape}`);const a=n.readSync(s.dataId),o=n.readSync(i.dataId),l=n.readSync(r.dataId),[c,u]=cF(a,s.shape,s.dtype,o,l);return n.makeTensorInfo(u,s.dtype,c)}};const XW={kernelName:ca,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{sparseIndices:i,sparseValues:r,defaultValue:a}=t,{outputShape:o}=s,{sliceRank:l,numUpdates:c,sliceSize:u,strides:h,outputSize:d}=Lf(0,i,o),p=!1;if("string"===r.dtype){const e=n.bufferSync(i),t=n.bufferSync(r),s=co(n.readSync(a.dataId)[0]),f=sF(e,t,o,d,u,c,l,h,s,p);return n.makeTensorInfo(o,f.dtype,f.values)}const f=new IW(c,l,i.shape.length,r.shape.length,h,[d,1],p),m=n.runWebGLProgram(f,[r,i,a],r.dtype),g=dO({inputs:{x:m},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),g}};const $W={kernelName:sa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{numOrSizeSplits:r,axis:a}=s,o=Kn(a,i.shape)[0],l=sy(i,r,o),c=i.shape.length,u=new Array(c).fill(0),h=i.shape.slice();return l.map((e=>{const t=[...h];t[o]=e;const s=AL({inputs:{x:i},backend:n,attrs:{begin:u,size:t}});return u[o]+=e,s}))}},JW="return sqrt(x);",eG=nO({opSnippet:JW,packedOpSnippet:JW,cpuKernelImpl:uF}),tG={kernelName:ea,backendName:"webgl",kernelFunc:eG},nG={kernelName:ha,backendName:"webgl",kernelFunc:nO({opSnippet:"return x * x;"})},sG="return (a - b) * (a - b);",iG=sO({opSnippet:sG,packedOpSnippet:sG}),rG={kernelName:ua,backendName:"webgl",kernelFunc:iG};const aG={kernelName:da,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");const r=wy(n.readSync(i.dataId)),a=hF(r,"string",s);return n.makeTensorInfo(i.shape,"string",a)}};const oG={kernelName:Ta,backendName:"webgl",kernelFunc:function({inputs:e,attrs:t,backend:n}){const{x:s}=e,i=NF+`\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `,r=new _F(s.shape,i);return n.runWebGLProgram(r,[s],s.dtype)}};class lG{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const s=n.length,i=eR(n.length),r=eR(n.length);let a="";if(1===s)a="coords * strides + begin";else{let e=0;a=n.map(((t,s)=>(e++,1===n.length?`coords * strides[${s}] + begin[${s}]`:`coords[${e-1}] * strides[${s}] + begin[${s}]`))).join(",")}this.userCode=`\n      ${i} begin = ${i}(${e});\n      ${i} strides = ${i}(${t});\n\n      void main() {\n        ${r} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}const cG={kernelName:pa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{begin:r,end:a,strides:o,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:h,shrinkAxisMask:d}=s,{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:A,end:w,strides:b}=Zu(i.shape,r,a,o,l,c,u,h,d);let v;if(m)v=dO({inputs:{x:i},backend:n,attrs:{shape:f}});else if(g||y){zn(i.shape.length>=1,(()=>`Input must have rank at least 1, got: ${i.shape.length}`));const e=Ou(A,w,b),t=AL({inputs:{x:i},backend:n,attrs:{begin:A,size:e}});v=dO({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([i])){const e=n.readSync(i.dataId),t=kc(i.shape,i.dtype,e),s=dF(p,t,b,A);v=n.makeTensorInfo(f,i.dtype,s.values)}else{const e=new lG(A,b,p);v=n.runWebGLProgram(e,[i],i.dtype)}}const x=dO({inputs:{x:v},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(v),x}};const uG={kernelName:fa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{separator:i,nGramWidths:r,leftPad:a,rightPad:o,padWidth:l,preserveShortSequences:c}=s,{data:u,dataSplits:h}=t,d=n.readSync(u.dataId),p=n.readSync(h.dataId),[f,m]=pF(d,p,i,r,a,o,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(h.shape,"int32",m)]}};const hG={kernelName:ma,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{skipEmpty:i}=s,{input:r,delimiter:a}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");if(1!==r.shape.length)throw new Error(`Input must be a vector, got shape: ${r.shape}`);if(0!==a.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const o=n.readSync(r.dataId),l=n.readSync(a.dataId)[0],[c,u,h]=fF(o,l,i),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};const dG={kernelName:ga,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{numBuckets:i}=s,{input:r}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");if(i<=0)throw new Error("Number of buckets must be at least 1");const a=n.readSync(r.dataId),o=mF(a,i);return n.makeTensorInfo(r.shape,"int32",o)}},pG=nO({opSnippet:"return tan(x);"}),fG={kernelName:Aa,backendName:"webgl",kernelFunc:pG},mG=nO({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),gG={kernelName:wa,backendName:"webgl",kernelFunc:mG};const yG={kernelName:jr,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{tensor:i,indices:r,updates:a}=t,{}=s,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:h}=Lf(0,r,i.shape),d=[h/c,c];if(0===h)return n.makeTensorInfo(i.shape,r.dtype);const p=dO({inputs:{x:r},backend:n,attrs:{shape:[l,o]}}),f=dO({inputs:{x:a},backend:n,attrs:{shape:[l,c]}}),m=dO({inputs:{x:i},backend:n,attrs:{shape:d}}),g=new IW(l,o,p.shape.length,f.shape.length,u,d,!1,!0),y=n.runWebGLProgram(g,[f,p,m],m.dtype),A=dO({inputs:{x:y},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),A}};class AG{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e[s]*t[s];this.outputShape=n,this.rank=n.length;const s=eR(this.rank),i=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],s=[];for(let t=0;t<e.length;t++)s.push(`imod(${n[t]}, ${e[t]})`);return s.join()}(e);this.userCode=`\n      void main() {\n        ${s} resRC = getOutputCoords();\n        setOutput(getA(${i}));\n      }\n    `}}function wG(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{reps:r}=s;if("string"===i.dtype||i.shape.length>5){const e=n.readSync(i.dataId),t="string"===i.dtype?e.map((e=>co(e))):e,s=kc(i.shape,i.dtype,t),a=yF(s,r);return n.makeTensorInfo(a.shape,a.dtype,a.values)}const a=new AG(i.shape,r);return n.runWebGLProgram(a,[i],i.dtype)}const bG={kernelName:ba,backendName:"webgl",kernelFunc:wG};class vG{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class xG{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function CG(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function kG(e){let t=1;for(;t<e;)t*=2;return t}const EG={kernelName:va,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i}=t,{k:r,sorted:a}=s,o=As().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=As().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=i.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([i])||u<o||r>l){const e=n.readSync(i.dataId),[t,s]=AF(e,c,i.dtype,r,a);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(s.shape,s.dtype,s.values)]}if(0===r)return c[c.length-1]=0,[n.makeTensorInfo(c,i.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(1===u)return[i,sV({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const h=n.texData.get(i.dataId),d=null!==h&&h.isPacked,p=d?n.unpackTensor(i):i,f=Wn(c)/u,m=dO({inputs:{x:p},attrs:{shape:[f,u]},backend:n});d&&CG(n,p);const g=kG(r),y=kG(u);let A=null;const w=()=>null===A?[m,m]:[m,A],b=(e,t,s)=>{const i=w(),r=new vG(s),a=[[u],[null===A?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],o=A;A=n.runWebGLProgram(r,i,"int32",a),CG(n,o)};for(let e=1;e<g;e*=2){const t=2*e;for(let n=e;n>=1;n/=2)b(t,n,[f,y])}for(let e=y;e>g;e/=2){const t=w(),s=new xG([f,e/2]),i=[[u],[null===A?1:0],[g]],r=A;A=n.runWebGLProgram(s,t,"int32",i),CG(n,r);const a=g/2,o=2*a;for(let e=a;e>=1;e/=2)b(o,e,A.shape)}let v=A;A=AL({inputs:{x:A},backend:n,attrs:{begin:0,size:[f,r]}}),CG(n,v);let x=xV({inputs:{x:m,indices:A},backend:n,attrs:{axis:1,batchDims:1}});CG(n,m);const C=c.slice(0,-1);C.push(r),v=A,A=dO({inputs:{x:A},attrs:{shape:C},backend:n}),CG(n,v);const k=x;return x=dO({inputs:{x},attrs:{shape:C},backend:n}),CG(n,k),[x,A]}};class SG{constructor(e,t,n,s,i,r){this.variableNames=["Image","Transforms"],this.outputShape=r;const a="nearest"===n?1:2;let o;switch(s){case"constant":default:o=1;break;case"reflect":o=2;break;case"wrap":o=3;break;case"nearest":o=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${o} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${i});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${i});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${a} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const IG={kernelName:xa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{image:i,transforms:r}=t,{interpolation:a,fillMode:o,fillValue:l,outputShape:c}=s,[u,h,d,p]=i.shape,[f,m]=null!=c?c:[h,d],g=new SG(h,d,a,o,l,[u,f,m,p]);return n.runWebGLProgram(g,[i,r],"float32")}};const TG={kernelName:ka,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:s}=e,{axis:i}=n,{x:r}=t;FB(r,"unique");const a=s.readSync(r.dataId),{outputValues:o,outputShape:l,indices:c}=bF(a,i,r.shape,r.dtype);return[s.makeTensorInfo(l,r.dtype,o),s.makeTensorInfo([c.length],"int32",c)]}};const _G={kernelName:Ea,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{value:i}=t;let{axis:r}=s;r<0&&(r+=i.shape.length);const a=i,o=a.shape.length,l=i.shape[r],c=new Array(o-1);let u=0;for(let e=0;e<o;e++)e!==r&&(c[u++]=a.shape[e]);const h=[],d=new Array(o).fill(0),p=a.shape.slice();p[r]=1;const f=new Array(l);for(let e=0;e<f.length;e++){d[r]=e;const t=AL({inputs:{x:a},backend:n,attrs:{begin:d,size:p}}),s=dO({inputs:{x:t},backend:n,attrs:{shape:c}});f[e]=s,h.push(t)}return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class NG{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,s=e.batchSize,i=e.inSize,r=e.numSegments,a=r*Math.ceil(i/n);this.outputShape=[s,a];const o=4*Math.floor(n/4),l=n%4,c="\n        sumValue += dot(values, segFilter);\n    ";let u="";i%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return initializationValue;\n        }\n      `);let h="";i%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${h}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${r})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${r})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${o}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${c}\n        }\n\n        int inIdx = inOffset + ${o};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${c}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${c}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${c}\n        }\n        setOutput(sumValue);\n      }\n    `}}const DG={kernelName:Sa,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:s}=e,{x:i,segmentIds:r}=t,{numSegments:a}=s,o=i.shape.length,l=[];let c=0;const u=Cd([c],o);let h=i;null!=u&&(h=xO({inputs:{x:i},backend:n,attrs:{perm:u}}),l.push(h),c=Ed(1,o)[0]);const d=yy(h.shape,c,a),p=Wn([h.shape[c]]),f=dO({inputs:{x:h},backend:n,attrs:{shape:[-1,p]}});l.push(f);const m=Po(i.dtype),g=(e,t,s,i,r)=>{const a=e.shape[0],o=e.shape[1],c=gy(o,r),u=new NG({windowSize:c,inSize:o,batchSize:a,numSegments:r},t),h=n.compileAndRun(u,[e,s],i);if(l.push(h),h.shape[1]===r)return h;const d=eW({backend:n,attrs:{start:0,stop:r,step:1,dtype:"float32"}}),p=wG({inputs:{x:d},backend:n,attrs:{reps:[o/c]}});l.push(d),l.push(p);return g(h,t,p,i,r)},y=dO({inputs:{x:g(f,"unsortedSegmentSum",r,m,a)},backend:n,attrs:{shape:d}});let A=y;if(null!=u){l.push(y);const e=kd(u);A=xO({inputs:{x:A},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),A}},MG=[EO,IO,_O,DO,RO,LO,zO,VO,qO,HO,KO,QO,$O,eL,nL,rL,aL,cL,uL,hL,fL,bL,vL,xL,CL,TL,DL,RL,KF,LL,qL,JL,iz,az,oz,lz,cz,hz,pz,mz,xz,Cz,kz,Sz,_z,Mz,Bz,Fz,Lz,zz,Pz,Wz,Uz,qz,Yz,Zz,$z,tV,iV,aV,cV,hV,fV,yV,AV,bV,CV,EV,IV,HF,TV,GL,NV,MV,RV,XF,OV,zV,VV,WV,UV,qV,YV,ZV,$V,eP,nP,iP,rP,aP,cP,uP,hP,dP,pP,mP,AP,bP,_P,hO,DP,BP,FP,LP,EL,VP,GP,UP,YP,ZP,eO,QP,XP,$P,JP,tW,IL,CP,sW,rW,oW,pO,uW,dW,mW,yW,bW,xW,kW,SW,_W,DW,BW,FW,LW,VW,WW,UW,wL,TP,qW,HW,YW,KW,ZW,QW,XW,$W,tG,nG,rG,aG,oG,cG,uG,hG,dG,SP,vO,fG,gG,yG,bG,EG,IG,CO,TG,_G,DG,WP];for(const e of MG)Wa(e);__webpack_require__(9464);const BG={moveTickSize:50,videoContainerId:"webgazerVideoContainer",videoElementId:"webgazerVideoFeed",videoElementCanvasId:"webgazerVideoCanvas",faceOverlayId:"webgazerFaceOverlay",faceFeedbackBoxId:"webgazerFaceFeedbackBox",gazeDotId:"webgazerGazeDot",videoViewerWidth:320,videoViewerHeight:240,faceFeedbackBoxRatio:.66,showVideo:!0,mirrorVideo:!0,showFaceOverlay:!0,showFaceFeedbackBox:!0,showGazeDot:!0,camConstraints:{video:{width:{min:640,ideal:1920,max:7680},height:{min:360,ideal:1080,max:4320},aspectRatio:{min:1.33,ideal:1.78,max:2.33},facingMode:"user"}},dataTimestep:50,showVideoPreview:!0,applyKalmanFilter:!0,saveDataAcrossSessions:!0,storingPoints:!1,videoIsOn:!1,trackEye:"both"};__webpack_require__(6003);var RG=__webpack_require__(7350),FG=__webpack_require__.n(RG),OG=__webpack_require__(8990),LG=function(){return LG=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},LG.apply(this,arguments)};function zG(e,t,n,s){return new(n||(n=Promise))((function(i,r){function a(e){try{l(s.next(e))}catch(e){r(e)}}function o(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))}function VG(e,t){var n,s,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,s=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],s=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}function PG(e){var t=e.map((function(e){return e[0]}));return t.push(e[e.length-1][1]),t}var WG={lips:PG([[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]]),leftEye:PG([[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]]),leftEyebrow:PG([[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]]),leftIris:PG([[474,475],[475,476],[476,477],[477,474]]),rightEye:PG([[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]]),rightEyebrow:PG([[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]]),rightIris:PG([[469,470],[470,471],[471,472],[472,469]]),faceOval:PG([[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]])},GG=[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]],UG=Object.entries(WG).map((function(e){var t=e[0];return e[1].map((function(e){return[e,t]}))})).flat(),jG=new Map(UG);function qG(e){for(var t={locationData:{relativeKeypoints:[]}},n=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,a=0;a<e.length;++a){var o=e[a];n=Math.min(n,o.x),s=Math.max(s,o.x),i=Math.min(i,o.y),r=Math.max(r,o.y),t.locationData.relativeKeypoints.push({x:o.x,y:o.y})}return t.locationData.relativeBoundingBox={xMin:n,yMin:i,xMax:s,yMax:r,width:s-n,height:r-i},t}var HG={runtime:"mediapipe",maxFaces:1,refineLandmarks:!1},YG=function(){function e(e){var t=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceMeshSolution=new OG.FaceMesh({locateFile:function(t,n){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+t:n+"/"+t}}),this.faceMeshSolution.setOptions({refineLandmarks:e.refineLandmarks,selfieMode:this.selfieMode,maxNumFaces:e.maxFaces}),this.faceMeshSolution.onResults((function(e){if(t.height=e.image.height,t.width=e.image.width,t.faces=[],null!==e.multiFaceLandmarks)for(var n=e.multiFaceLandmarks,s=0;s<n.length;s++){var i=t.translateOutput(n[s]);t.faces.push({keypoints:i,box:qG(i).locationData.relativeBoundingBox})}}))}return e.prototype.translateOutput=function(e){var t=this;return e.map((function(e,n){var s={x:e.x*t.width,y:e.y*t.height,z:e.z*t.width},i=jG.get(n);return null!=i&&(s.name=i),s}))},e.prototype.estimateFaces=function(e,t){return zG(this,void 0,void 0,(function(){var n,s;return VG(this,(function(i){switch(i.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.faceMeshSolution.setOptions({selfieMode:this.selfieMode})),e instanceof Eo?(s=ImageData.bind,[4,Nu(e)]):[3,2];case 1:return n=new(s.apply(ImageData,[void 0,i.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:n=e,i.label=3;case 3:return e=n,[4,this.faceMeshSolution.send({image:e})];case 4:return i.sent(),[2,this.faces]}}))}))},e.prototype.dispose=function(){this.faceMeshSolution.close()},e.prototype.reset=function(){this.faceMeshSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceMeshSolution.initialize()},e}();function KG(e){return zG(this,void 0,void 0,(function(){var t,n;return VG(this,(function(s){switch(s.label){case 0:return t=function(e){if(null==e)return LG({},HG);var t=LG({},e);return t.runtime="mediapipe",null==t.maxFaces&&(t.maxFaces=HG.maxFaces),null==t.refineLandmarks&&(t.refineLandmarks=HG.refineLandmarks),t}(e),[4,(n=new YG(t)).initialize()];case 1:return s.sent(),[2,n]}}))}))}var ZG="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},QG={};(function(){var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},s=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ZG&&ZG];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function i(e,t){if(t)e:{var i=s;e=e.split(".");for(var r=0;r<e.length-1;r++){var a=e[r];if(!(a in i))break e;i=i[a]}(t=t(r=i[e=e[e.length-1]]))!=r&&null!=t&&n(i,e,{configurable:!0,writable:!0,value:t})}}function r(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function a(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function o(e){if(!(e instanceof Array)){e=a(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}i("Symbol",(function(e){function t(e,t){this.g=e,n(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var s="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(s+(n||"")+"_"+i++,n)}})),i("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var i="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),a=0;a<i.length;a++){var o=s[i[a]];"function"==typeof o&&"function"!=typeof o.prototype[e]&&n(o.prototype,e,{configurable:!0,writable:!0,value:function(){return r(t(this))}})}return e}));var l,c="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var u;e:{var h={};try{h.__proto__={a:!0},u=h.a;break e}catch(e){}u=!1}l=u?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=l;function p(e,t){if(e.prototype=c(t.prototype),e.prototype.constructor=e,d)d(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var s=Object.getOwnPropertyDescriptor(t,n);s&&Object.defineProperty(e,n,s)}else e[n]=t[n];e.na=t.prototype}function f(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={da:t,ea:!0},e.g=e.o||e.u}function y(e,t,n){return e.g=n,{value:t}}function A(e){this.g=new f,this.h=e}function w(e,t,n,s){try{var i=t.call(e.g.i,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.l=!1,i;var r=i.value}catch(t){return e.g.i=null,g(e.g,t),b(e)}return e.g.i=null,s.call(e.g,r),b(e)}function b(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(t){e.g.h=void 0,g(e.g,t)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.ea)throw t.da;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function v(e){this.next=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=b(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.s):(g(e.g,t),t=b(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),b(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function x(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(s,i){!function e(r){r.done?s(r.value):Promise.resolve(r.value).then(t,n).then(e,i)}(e.next())}))}(new v(new A(e)))}f.prototype.s=function(e){this.h=e},f.prototype.return=function(e){this.j={return:e},this.g=this.u},i("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.g=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var r=s.setTimeout;n.prototype.i=function(e){r(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(s){n||(n=!0,e.call(t,s))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.o(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(e){return void this.l(e)}"function"==typeof t?this.I(t,e):this.o(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.o=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.B()},t.prototype.G=function(){var e=this;r((function(){if(e.C()){var t=s.console;void 0!==t&&t.error(e.i)}}),1)},t.prototype.C=function(){if(this.s)return!1;var e=s.CustomEvent,t=s.Event,n=s.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)o.h(this.g[e]);this.g=null}};var o=new n;return t.prototype.H=function(e){var t=this.j();e.M(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function s(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){r(e)}}:t}var i,r,a=new t((function(e,t){i=e,r=t}));return this.M(s(e,i),s(n,r)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.M=function(e,t){function n(){switch(s.h){case 1:e(s.i);break;case 2:t(s.i);break;default:throw Error("Unexpected state: "+s.h)}}var s=this;null==this.g?o.h(n):this.g.push(n),this.s=!0},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var s=a(e),r=s.next();!r.done;r=s.next())i(r.value).M(t,n)}))},t.all=function(e){var n=a(e),s=n.next();return s.done?i([]):new t((function(e,t){function r(t){return function(n){a[t]=n,0==--o&&e(a)}}var a=[],o=0;do{a.push(void 0),o++,i(s.value).M(r(a.length-1),t),s=n.next()}while(!s.done)}))},t}));var C="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var s=arguments[n];if(s)for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e};i("Object.assign",(function(e){return e||C})),i("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),i("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var s=n.length;for(0>(t=t||0)&&(t=Math.max(t+s,0));t<s;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),i("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),i("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,s=!1,i={next:function(){if(!s&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return s=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e){return e}))}}));var k=this||self;function E(e,t){e=e.split(".");var n,s=k;e[0]in s||void 0===s.execScript||s.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?s=s[n]&&s[n]!==Object.prototype[n]?s[n]:s[n]={}:s[n]=t}function S(){throw Error("Invalid UTF8")}function I(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var T,_,N="undefined"!=typeof TextDecoder,D="undefined"!=typeof TextEncoder,M={},B=null;function R(e){var t;void 0===t&&(t=0),O(),t=M[t];for(var n=Array(Math.floor(e.length/3)),s=t[64]||"",i=0,r=0;i<e.length-2;i+=3){var a=e[i],o=e[i+1],l=e[i+2],c=t[a>>2];a=t[(3&a)<<4|o>>4],o=t[(15&o)<<2|l>>6],l=t[63&l],n[r++]=c+a+o+l}switch(c=0,l=s,e.length-i){case 2:l=t[(15&(c=e[i+1]))<<2]||s;case 1:e=e[i],n[r]=t[e>>2]+t[(3&e)<<4|c>>4]+l+s}return n.join("")}function F(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var s=new Uint8Array(n),i=0;return function(e,t){function n(t){for(;s<e.length;){var n=e.charAt(s++),i=B[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}O();for(var s=0;;){var i=n(-1),r=n(0),a=n(64),o=n(64);if(64===o&&-1===i)break;t(i<<2|r>>4),64!=a&&(t(r<<4&240|a>>2),64!=o&&t(a<<6&192|o))}}(e,(function(e){s[i++]=e})),i!==n?s.subarray(0,i):s}function O(){if(!B){B={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var s=e.concat(t[n].split(""));M[n]=s;for(var i=0;i<s.length;i++){var r=s[i];void 0===B[r]&&(B[r]=i)}}}}var L,z="function"==typeof Uint8Array;function V(e){return z&&null!=e&&e instanceof Uint8Array}function P(e){if(this.L=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var W="function"==typeof Uint8Array.prototype.slice,G=0;function U(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function j(){return Error("Failed to read varint, encoding is invalid.")}function q(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.v=t,e&&H(this,e)}function H(e,t){e.h=function(e,t){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return F(e);if(e.constructor===P)return!t&&(t=e.L)&&t.constructor===Uint8Array?t:(t=null==(t=e.L)||V(t)?t:"string"==typeof t?F(t):null,(e=e.L=t)?new Uint8Array(e):L||(L=new Uint8Array(0)));if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function Y(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function K(e){var t=e.h,n=t[e.g],s=127&n;if(128>n)return e.g+=1,Y(e),s;if(s|=(127&(n=t[e.g+1]))<<7,128>n)return e.g+=2,Y(e),s;if(s|=(127&(n=t[e.g+2]))<<14,128>n)return e.g+=3,Y(e),s;if(s|=(127&(n=t[e.g+3]))<<21,128>n)return e.g+=4,Y(e),s;if(n=t[e.g+4],e.g+=5,s|=(15&n)<<28,128>n)return Y(e),s;if(128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++])throw j();return Y(e),s}q.prototype.reset=function(){this.g=this.j};var Z=[];function Q(){this.g=[]}function X(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function $(e){var t={},n=void 0!==t.W&&t.W;this.l={v:void 0!==t.v&&t.v},this.W=n,t=this.l,Z.length?(n=Z.pop(),t&&(n.v=t.v),e&&H(n,e),e=n):e=new q(e,t),this.g=e,this.j=this.g.g,this.h=this.i=-1}function J(e){var t=e.g;if(t.g==t.i)return!1;e.j=e.g.g;var n=K(e.g)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw U(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.i=t,e.h=n,!0}function ee(e){switch(e.h){case 0:if(0!=e.h)ee(e);else e:{for(var t=(e=e.g).g,n=t+10;t<n;)if(!(128&e.h[t++])){e.g=t,Y(e);break e}throw j()}break;case 1:(e=e.g).g+=8,Y(e);break;case 2:2!=e.h?ee(e):(t=K(e.g)>>>0,(e=e.g).g+=t,Y(e));break;case 5:(e=e.g).g+=4,Y(e);break;case 3:for(t=e.i;;){if(!J(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.i!=t)throw Error("Unmatched end-group tag");break}ee(e)}break;default:throw U(e.h,e.j)}}Q.prototype.length=function(){return this.g.length},Q.prototype.end=function(){var e=this.g;return this.g=[],e},$.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var te=[];function ne(){this.i=[],this.h=0,this.g=new Q}function se(e,t){0!==t.length&&(e.i.push(t),e.h+=t.length)}var ie="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function re(e,t){Object.isFrozen(e)||(ie?e[ie]|=t:void 0!==e.N?e.N|=t:Object.defineProperties(e,{N:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function ae(e){var t;return null==(t=ie?e[ie]:e.N)?0:t}function oe(e){return re(e,1),e}function le(e){return!!Array.isArray(e)&&!!(2&ae(e))}function ce(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");re(e,2)}function ue(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}var he=Object.freeze(oe([]));function de(e){if(le(e.m))throw Error("Cannot mutate an immutable Message")}var pe,fe="undefined"!=typeof Symbol&&void 0!==Symbol.hasInstance;function me(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function ge(e,t,n){return-1===t?null:t>=e.i?e.g?e.g[t]:void 0:void 0!==n&&n&&e.g&&null!=(n=e.g[t])?n:e.m[t+e.h]}function ye(e,t,n,s){s=void 0!==s&&s,de(e),t<e.i&&!s?e.m[t+e.h]=n:(e.g||(e.g=e.m[e.i+e.h]={}))[t]=n}function Ae(e,t,n,s){n=void 0===n||n;var i=ge(e,t,s=void 0!==s&&s);return null==i&&(i=he),le(e.m)?n&&(ce(i),Object.freeze(i)):(i===he||le(i))&&ye(e,t,i=oe(i.slice()),s),i}function we(e,t,n){return null==(e=null==(e=ge(e,t))?e:+e)?void 0===n?0:n:e}function be(e,t,n,s){e.j||(e.j={});var i=le(e.m),r=e.j[n];if(!r){s=Ae(e,n,!0,void 0!==s&&s),r=[],i=i||le(s);for(var a=0;a<s.length;a++)r[a]=new t(s[a]),i&&ce(r[a].m);i&&(ce(r),Object.freeze(r)),e.j[n]=r}return r}function ve(e,t,n,s,i){var r=void 0!==r&&r;return de(e),r=be(e,n,t,r),n=s||new n,e=Ae(e,t),null!=i?(r.splice(i,0,n),e.splice(i,0,n.m)):(r.push(n),e.push(n.m)),n}function xe(e,t){return null==(e=ge(e,t))?0:e}function Ce(e,t){return null==(e=ge(e,t))?"":e}function ke(e){return Se(e,void 0===Ie?Te:Ie)}function Ee(e,t){if(null!=e){if(Array.isArray(e))e=Se(e,t);else if(ue(e)){var n,s={};for(n in e)s[n]=Ee(e[n],t);e=s}else e=t(e);return e}}function Se(e,t){for(var n=e.slice(),s=0;s<n.length;s++)n[s]=Ee(n[s],t);return Array.isArray(e)&&1&ae(e)&&oe(n),n}function Ie(e){return e&&"object"==typeof e&&e.toJSON?e.toJSON():(e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e&&!Array.isArray(e)){if(V(e))return R(e);if(e instanceof P){var t=e.L;return t=null==t||"string"==typeof t?t:z&&t instanceof Uint8Array?R(t):null,(e.L=t)||""}}}return e}(e),Array.isArray(e)?ke(e):e)}function Te(e){return V(e)?new Uint8Array(e):e}function _e(e,t,n){e||(e=pe),pe=null;var s=this.constructor.h;if(e||(e=s?[s]:[]),this.h=(s?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(s=this.m.length)-1,s&&ue(s=this.m[e])?(this.i=e-this.h,this.g=s):void 0!==t&&-1<t?(this.i=Math.max(t,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)if((e=n[t])<this.i)e+=this.h,(s=this.m[e])?Array.isArray(s)&&oe(s):this.m[e]=he;else{var i=(s=this.g||(this.g=this.m[this.i+this.h]={}))[e];i?Array.isArray(i)&&oe(i):s[e]=he}}function Ne(){_e.apply(this,arguments)}if(_e.prototype.toJSON=function(){return ke(this.m)},_e.prototype.toString=function(){return this.m.toString()},p(Ne,_e),fe){var De={};Object.defineProperties(Ne,(De[Symbol.hasInstance]=me((function(){throw Error("Cannot perform instanceof checks for MutableMessage")})),De))}function Me(e,t,n){if(n){var s,i={};for(s in n){var r=n[s],a=r.ha;a||(i.F=r.la||r.fa.P,r.aa?(i.U=Ve(r.aa),a=function(e){return function(t,n,s){return e.F(t,n,s,e.U)}}(i)):r.ca?(i.T=Pe(r.X.g,r.ca),a=function(e){return function(t,n,s){return e.F(t,n,s,e.T)}}(i)):a=i.F,r.ha=a),a(t,e,r.X),i={F:i.F,U:i.U,T:i.T}}}!function(e,t){if(t=t.ba){se(e,e.g.end());for(var n=0;n<t.length;n++)se(e,t[n])}}(t,e)}var Be=Symbol();function Re(e,t,n){return e[Be]||(e[Be]=function(e,s){return t(e,s,n)})}function Fe(e){var t=e[Be];if(!t){var n=$e(e);t=function(e,t){return Je(e,t,n)},e[Be]=t}return t}function Oe(e){var t=function(e){var t=e.aa;return t?Fe(t):(t=e.ka)?Re(e.X.g,t,e.ca):void 0}(e),n=e.X,s=e.fa.O;return t?function(e,i){return s(e,i,n,t)}:function(e,t){return s(e,t,n)}}function Le(e,t,n,s,i,r){var a=0;for((e=e()).length&&"number"!=typeof e[0]&&(n(t,e[0]),a++);a<e.length;){n=e[a++];for(var o=a+1;o<e.length&&"number"!=typeof e[o];)o++;var l=e[a++];switch(o-=a){case 0:s(t,n,l);break;case 1:s(t,n,l,e[a++]);break;case 2:i(t,n,l,e[a++],e[a++]);break;case 3:o=e[a++];var c=e[a++],u=e[a++];Array.isArray(u)?i(t,n,l,o,c,u):r(t,n,l,o,c,u);break;case 4:r(t,n,l,e[a++],e[a++],e[a++],e[a++]);break;default:throw Error("unexpected number of binary field arguments: "+o)}}return t}var ze=Symbol();function Ve(e){var t=e[ze];if(!t){var n=He(e);t=function(e,t){return tt(e,t,n)},e[ze]=t}return t}function Pe(e,t){var n=e[ze];return n||(n=function(e,n){return Me(e,n,t)},e[ze]=n),n}var We=Symbol();function Ge(e,t){e.push(t)}function Ue(e,t,n){e.push(t,n.P)}function je(e,t,n,s,i){var r=Ve(i),a=n.P;e.push(t,(function(e,t,n){return a(e,t,n,s,r)}))}function qe(e,t,n,s,i,r){var a=Pe(s,r),o=n.P;e.push(t,(function(e,t,n){return o(e,t,n,s,a)}))}function He(e){return e[We]||Le(e,e[We]=[],Ge,Ue,je,qe)}var Ye=Symbol();function Ke(e,t){e[0]=t}function Ze(e,t,n,s){var i=n.O;e[t]=s?function(e,t,n){return i(e,t,n,s)}:i}function Qe(e,t,n,s,i,r){var a=n.O,o=Fe(i);e[t]=function(e,t,n){return a(e,t,n,s,o,r)}}function Xe(e,t,n,s,i,r,a){var o=n.O,l=Re(s,i,r);e[t]=function(e,t,n){return o(e,t,n,s,l,a)}}function $e(e){return e[Ye]||Le(e,e[Ye]={},Ke,Ze,Qe,Xe)}function Je(e,t,n){for(;J(t)&&4!=t.h;){var s=t.i,i=n[s];if(!i){var r=n[0];r&&(r=r[s])&&(i=n[s]=Oe(r))}if(!(i&&i(t,e,s)||(i=t,s=e,r=i.j,ee(i),i.W))){var a=i.g.h;i=r===(i=i.g.g)?L||(L=new Uint8Array(0)):W?a.slice(r,i):new Uint8Array(a.subarray(r,i)),(r=s.ba)?r.push(i):s.ba=[i]}}return e}function et(e,t,n){if(te.length){var s=te.pop();e&&(H(s.g,e),s.i=-1,s.h=-1),e=s}else e=new $(e);try{return Je(new t,e,$e(n))}finally{(t=e.g).h=null,t.j=0,t.i=0,t.g=0,t.v=!1,e.i=-1,e.h=-1,100>te.length&&te.push(e)}}function tt(e,t,n){for(var s=n.length,i=1==s%2,r=i?1:0;r<s;r+=2)(0,n[r+1])(t,e,n[r]);Me(e,t,i?n[0]:void 0)}function nt(e,t){var n=new ne;tt(e,n,He(t)),se(n,n.g.end()),e=new Uint8Array(n.h);for(var s=(t=n.i).length,i=0,r=0;r<s;r++){var a=t[r];e.set(a,i),i+=a.length}return n.i=[e],e}function st(e,t){return{O:e,P:t}}var it=st((function(e,t,n){if(5!==e.h)return!1;var s=(e=e.g).h[e.g],i=e.h[e.g+1],r=e.h[e.g+2],a=e.h[e.g+3];return e.g+=4,Y(e),e=2*((i=(s|i<<8|r<<16|a<<24)>>>0)>>31)+1,s=i>>>23&255,i&=8388607,ye(t,n,255==s?i?NaN:1/0*e:0==s?e*Math.pow(2,-149)*i:e*Math.pow(2,s-150)*(i+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=ge(t,n))){X(e.g,8*n+5),e=e.g;var s=t;0===(s=(n=0>s?1:0)?-s:s)?G=0<1/s?0:2147483648:isNaN(s)?G=2147483647:34028234663852886e22<s?G=(n<<31|2139095040)>>>0:11754943508222875e-54>s?(s=Math.round(s/Math.pow(2,-149)),G=(n<<31|s)>>>0):(t=Math.floor(Math.log(s)/Math.LN2),s*=Math.pow(2,-t),16777216<=(s=Math.round(8388608*s))&&++t,G=(n<<31|t+127<<23|8388607&s)>>>0),n=G,e.g.push(n>>>0&255),e.g.push(n>>>8&255),e.g.push(n>>>16&255),e.g.push(n>>>24&255)}})),rt=st((function(e,t,n){if(0!==e.h)return!1;for(var s=e.g,i=128,r=0,a=e=0;4>a&&128<=i;a++)i=s.h[s.g++],Y(s),r|=(127&i)<<7*a;if(128<=i&&(i=s.h[s.g++],Y(s),r|=(127&i)<<28,e|=(127&i)>>4),128<=i)for(a=0;5>a&&128<=i;a++)i=s.h[s.g++],Y(s),e|=(127&i)<<7*a+3;if(!(128>i))throw j();return s=r>>>0,(e=2147483648&(i=e>>>0))&&(i=~i>>>0,0==(s=1+~s>>>0)&&(i=i+1>>>0)),s=4294967296*i+(s>>>0),ye(t,n,e?-s:s),!0}),(function(e,t,n){if(null!=(t=ge(t,n))&&null!=t){X(e.g,8*n),e=e.g;var s=t;for(n=0>s,t=(s=Math.abs(s))>>>0,s=Math.floor((s-t)/4294967296),s>>>=0,n&&(s=~s>>>0,4294967295<(t=1+(~t>>>0))&&(t=0,4294967295<++s&&(s=0))),n=G=t,t=s;0<t||127<n;)e.g.push(127&n|128),n=(n>>>7|t<<25)>>>0,t>>>=7;e.g.push(n)}})),at=st((function(e,t,n){return 0===e.h&&(ye(t,n,K(e.g)),!0)}),(function(e,t,n){if(null!=(t=ge(t,n))&&null!=t)if(X(e.g,8*n),e=e.g,0<=(n=t))X(e,n);else{for(t=0;9>t;t++)e.g.push(127&n|128),n>>=7;e.g.push(1)}})),ot=st((function(e,t,n){if(2!==e.h)return!1;var s,i=K(e.g)>>>0,r=(e=e.g).g;if(e.g+=i,Y(e),e=e.h,N)(s=T)||(s=T=new TextDecoder("utf-8",{fatal:!0})),s=s.decode(e.subarray(r,r+i));else{i=r+i;for(var a,o,l,c=[],u=null;r<i;)128>(a=e[r++])?c.push(a):224>a?r>=i?S():(o=e[r++],194>a||128!=(192&o)?(r--,S()):c.push((31&a)<<6|63&o)):240>a?r>=i-1?S():128!=(192&(o=e[r++]))||224===a&&160>o||237===a&&160<=o||128!=(192&(s=e[r++]))?(r--,S()):c.push((15&a)<<12|(63&o)<<6|63&s):244>=a?r>=i-2?S():128!=(192&(o=e[r++]))||o-144+(a<<28)>>30||128!=(192&(s=e[r++]))||128!=(192&(l=e[r++]))?(r--,S()):(a=(7&a)<<18|(63&o)<<12|(63&s)<<6|63&l,a-=65536,c.push(55296+(a>>10&1023),56320+(1023&a))):S(),8192<=c.length&&(u=I(u,c),c.length=0);s=I(u,c)}return ye(t,n,s),!0}),(function(e,t,n){if(null!=(t=ge(t,n))){var s=!1;if(s=void 0!==s&&s,D){if(s&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(_||(_=new TextEncoder)).encode(t)}else{for(var i=0,r=new Uint8Array(3*t.length),a=0;a<t.length;a++){var o=t.charCodeAt(a);if(128>o)r[i++]=o;else{if(2048>o)r[i++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&a<t.length){var l=t.charCodeAt(++a);if(56320<=l&&57343>=l){o=1024*(o-55296)+l-56320+65536,r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=63&o|128;continue}a--}if(s)throw Error("Found an unpaired surrogate");o=65533}r[i++]=o>>12|224,r[i++]=o>>6&63|128}r[i++]=63&o|128}}t=r.subarray(0,i)}X(e.g,8*n+2),X(e.g,t.length),se(e,e.g.end()),se(e,t)}})),lt=st((function(e,t,n,s,i){if(2!==e.h)return!1;t=ve(t,n,s),n=e.g.i,s=K(e.g)>>>0;var r=e.g.g+s,a=r-n;if(0>=a&&(e.g.i=r,i(t,e),a=r-e.g.g),a)throw Error("Message parsing ended unexpectedly. Expected to read "+s+" bytes, instead read "+(s-a)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=r,e.g.i=n,!0}),(function(e,t,n,s,i){if(null!=(t=be(t,s,n)))for(s=0;s<t.length;s++){var r=e;X(r.g,8*n+2);var a=r.g.end();se(r,a),a.push(r.h),r=a,i(t[s],e),a=e;var o=r.pop();for(o=a.h+a.g.length()-o;127<o;)r.push(127&o|128),o>>>=7,a.h++;r.push(o),a.h++}}));function ct(){Ne.apply(this,arguments)}if(p(ct,Ne),fe){var ut={};Object.defineProperties(ct,(ut[Symbol.hasInstance]=me(Object[Symbol.hasInstance]),ut))}function ht(e){ct.call(this,e)}function dt(){return[1,at,2,it,3,ot,4,ot]}function pt(e){ct.call(this,e,-1,mt)}function ft(){return[1,lt,ht,dt]}p(ht,ct),p(pt,ct),pt.prototype.addClassification=function(e,t){return ve(this,1,ht,e,t),this};var mt=[1];function gt(e){ct.call(this,e)}function yt(){return[1,it,2,it,3,it,4,it,5,it]}function At(e){ct.call(this,e,-1,bt)}function wt(){return[1,lt,gt,yt]}p(gt,ct),p(At,ct);var bt=[1];function vt(e){ct.call(this,e)}function xt(){return[1,it,2,it,3,it,4,it,5,it,6,rt]}p(vt,ct);var Ct=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],kt=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Et=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],St=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],It=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Tt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],_t=[].concat(o(Ct),o(kt),o(Et),o(St),o(It),o(Tt));function Nt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Dt(e){return be(e,ht,1).map((function(e){return{index:xe(e,1),ga:we(e,2),label:null!=ge(e,3)?Ce(e,3):void 0,displayName:null!=ge(e,4)?Ce(e,4):void 0}}))}function Mt(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=ge(e,4)?we(e,4):void 0}}function Bt(e,t){this.h=e,this.g=t,this.l=0}function Rt(e,t,n){return function(e,t){var n=e.g;if(void 0===e.o){var s=Nt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=Nt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),r=n.createProgram();if(n.attachShader(r,s),n.attachShader(r,i),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(r));s=e.o=r,n.useProgram(s),i=n.getUniformLocation(s,"sampler0"),e.j={K:n.getAttribLocation(s,"aVertex"),J:n.getAttribLocation(s,"aTex"),ma:i},e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.j.K),n.vertexAttribPointer(e.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}s=e.j,n.useProgram(e.o),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(s.K),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(s.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(s.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(s.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(s.K),n.disableVertexAttribArray(s.J),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"==typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise((function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)})))}function Ft(e){this.g=e}var Ot=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Lt(e,t){return t+e}function zt(e,t){window[e]=t}function Vt(e){if(this.g=e,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=e&&e.locateFile||Lt,"object"==typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"==typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=t,e.options)for(var n=(t=a(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var s=e.options[n].default;void 0!==s&&(this.j[n]="function"==typeof s?s():s)}}function Pt(e,t){var n,s;return x((function(i){return t in e.H?i.return(e.H[t]):(n=e.locateFile(t,""),s=fetch(n).then((function(e){return e.arrayBuffer()})),e.H[t]=s,i.return(s))}))}function Wt(e,t,n){var s,i,r,o,l,c,u,h,d,p,f,m,g,A;return x((function(w){switch(w.g){case 1:if(!n)return w.return(t);for(s={},i=0,r=a(Object.keys(n)),o=r.next();!o.done;o=r.next())l=o.value,"string"!=typeof(c=n[l])&&"texture"===c.type&&void 0!==t[c.stream]&&++i;1<i&&(e.I=!1),u=a(Object.keys(n)),o=u.next();case 2:if(o.done){w.g=4;break}if(h=o.value,"string"==typeof(d=n[h]))return g=s,A=h,y(w,function(e,t,n){var s;return x((function(i){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?i.return(n):n instanceof e.h.Texture2dDataOut?((s=e.u[t])||(s=new Bt(e.h,e.G),e.u[t]=s),i.return(Rt(s,n,e.I))):i.return(void 0)}))}(e,h,t[d]),14);if(p=t[d.stream],"detection_list"===d.type){if(p){for(var b=p.getRectList(),v=p.getLandmarksList(),C=p.getClassificationsList(),k=[],E=0;E<b.size();++E){var S=et(b.get(E),vt,xt);S={boundingBox:{xCenter:we(S,1),yCenter:we(S,2),height:we(S,3),width:we(S,4),rotation:we(S,5,0),rectId:xe(S,6)},landmarks:be(et(v.get(E),At,wt),gt,1).map(Mt),V:Dt(et(C.get(E),pt,ft))},k.push(S)}b=k}else b=[];s[h]=b,w.g=7;break}if("proto_list"===d.type){if(p){for(b=Array(p.size()),v=0;v<p.size();v++)b[v]=p.get(v);p.delete()}else b=[];s[h]=b,w.g=7;break}if(void 0===p){w.g=3;break}if("float_list"===d.type){s[h]=p,w.g=7;break}if("proto"===d.type){s[h]=p,w.g=7;break}if("texture"!==d.type)throw Error("Unknown output config type: '"+d.type+"'");return(f=e.u[h])||(f=new Bt(e.h,e.G),e.u[h]=f),y(w,Rt(f,p,e.I),13);case 13:m=w.h,s[h]=m;case 7:d.transform&&s[h]&&(s[h]=d.transform(s[h])),w.g=3;break;case 14:g[A]=w.h;case 3:o=u.next(),w.g=2;break;case 4:return w.return(s)}}))}function Gt(e,t){for(var n=t.name||"$",s=[].concat(o(t.wants)),i=new e.h.StringList,r=a(t.wants),l=r.next();!l.done;l=r.next())i.push_back(l.value);r=e.h.PacketListener.implement({onResults:function(i){for(var r={},a=0;a<t.wants.length;++a)r[s[a]]=i.get(a);var o=e.listeners[n];o&&(e.D=Wt(e,r,t.outs).then((function(n){n=o(n);for(var i=0;i<t.wants.length;++i){var a=r[s[i]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.D=n)})))}}),e.i.attachMultiListener(i,r),i.delete()}function Ut(e){var t=this;e=e||{};var n={url:"face_detection_short.binarypb"},s={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Vt({locateFile:e.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:n,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(e){var i,r,o,l,c;return x((function(u){switch(u.g){case 1:i=a("short"===e?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),r=i.next();case 2:if(r.done){u.g=4;break}return o=r.value,l="third_party/mediapipe/modules/face_detection/"+o,y(u,Pt(t.g,o),5);case 5:c=u.h,t.g.overrideFile(l,c),r=i.next(),u.g=2;break;case 4:return n.url="short"===e?"face_detection_short.binarypb":"face_detection_full.binarypb",s.graphOptionXref.calculatorName="short"===e?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",u.return(!0)}}))}},minDetectionConfidence:s}})}(e=Vt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){var e=this;return x((function(t){e.i&&(e.i.reset(),e.o={},e.u={}),t.g=0}))},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var s=[],i=[],r={},o=a(Object.keys(e)),l=o.next();!l.done;r={R:r.R,S:r.S},l=o.next()){var c=l.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(l=t[c])&&(l.onChange&&(r.R=l.onChange,r.S=e[c],s.push(function(e){return function(){return x((function(t){if(1==t.g)return y(t,e.R(e.S),2);!0===t.h&&(n.s=!0),t.g=0}))}}(r))),l.graphOptionXref&&(c={valueNumber:1===l.type?e[c]:0,valueBoolean:0===l.type&&e[c],valueString:2===l.type?e[c]:""},l=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),l.graphOptionXref),c),i.push(l))))}0===s.length&&0===i.length||(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(i),this.A=(void 0===this.A?[]:this.A).concat(s))}},e.initialize=function(){var e=this;return x((function(t){return 1==t.g?y(t,function(e){var t,n,s,i,r,a,l,c,u,h,d;return x((function(p){switch(p.g){case 1:return e.Z?(t=void 0===e.g.files?[]:"function"==typeof e.g.files?e.g.files(e.j):e.g.files,y(p,x((function(e){switch(e.g){case 1:return e.o=2,y(e,WebAssembly.instantiate(Ot),4);case 4:e.g=3,e.o=0;break;case 2:return e.o=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):p.return();case 2:if(n=p.h,"object"==typeof window)return zt("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),zt("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),a=t.filter((function(e){return void 0!==e.data})),l=t.filter((function(e){return void 0===e.data})),c=Promise.all(a.map((function(t){var n=Pt(e,t.url);if(void 0!==t.path){var s=t.path;n=n.then((function(t){return e.overrideFile(s,t),Promise.resolve(t)}))}return n}))),u=Promise.all(l.map((function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(e.locateFile(t.url,e.$)):Promise.resolve()}))).then((function(){var t,n,s;return x((function(i){if(1==i.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,s=e,y(i,t(n),2);s.h=i.h,i.g=0}))})),h=x((function(t){return e.g.graph&&e.g.graph.url?t=y(t,Pt(e,e.g.graph.url),0):(t.g=0,t=void 0),t})),y(p,Promise.all([u,c,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return s=t.filter((function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n})).map((function(t){return e.locateFile(t.url,e.$)})),importScripts.apply(null,o(s)),i=e,y(p,createMediapipeSolutionsWasm(Module),6);case 6:i.h=p.h,e.l=new OffscreenCanvas(1,1),e.h.canvas=e.l,r=e.h.GL.createContext(e.l,{antialias:!1,alpha:!1,ja:"undefined"!=typeof WebGL2RenderingContext?2:1}),e.h.GL.makeContextCurrent(r),p.g=4;break;case 7:if(e.l=document.createElement("canvas"),!(d=e.l.getContext("webgl2",{}))&&!(d=e.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),p.return();e.G=d,e.h.canvas=e.l,e.h.createContext(e.l,!0,!0,{});case 4:e.i=new e.h.SolutionWasm,e.Z=!1,p.g=0}}))}(e),2):3!=t.g?y(t,function(e){var t,n,s,i,r,o,l,c;return x((function(u){if(1==u.g)return e.g.graph&&e.g.graph.url&&e.Y===e.g.graph.url?u.return():(e.s=!0,e.g.graph&&e.g.graph.url?(e.Y=e.g.graph.url,y(u,Pt(e,e.g.graph.url),3)):void(u.g=2));for(2!=u.g&&(t=u.h,e.i.loadGraph(t)),n=a(Object.keys(e.C)),s=n.next();!s.done;s=n.next())i=s.value,e.i.overrideFile(i,e.C[i]);if(e.C={},e.g.listeners)for(r=a(e.g.listeners),o=r.next();!o.done;o=r.next())l=o.value,Gt(e,l);c=e.j,e.j={},e.setOptions(c),u.g=0}))}(e),3):y(t,function(e){var t,n,s,i,r,o;return x((function(l){switch(l.g){case 1:if(!e.s)return l.return();if(!e.A){l.g=2;break}t=a(e.A),n=t.next();case 3:if(n.done){l.g=5;break}return y(l,(0,n.value)(),4);case 4:n=t.next(),l.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(s=new e.h.GraphOptionChangeRequestList,i=a(e.B),r=i.next();!r.done;r=i.next())o=r.value,s.push_back(o);e.i.changeOptions(s),s.delete(),e.B=void 0}e.s=!1,l.g=0}}))}(e),0)}))},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},e.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){var n,s,i,r,o,l,c,u,h,d=this;return x((function(p){switch(p.g){case 1:return d.g.inputs?(n=1e3*(null==t?performance.now():t),y(p,d.D,2)):p.return();case 2:return y(p,d.initialize(),3);case 3:for(s=new d.h.PacketDataList,i=a(Object.keys(e)),r=i.next();!r.done;r=i.next())if(o=r.value,l=d.g.inputs[o]){e:{var f=e[o];switch(l.type){case"video":var m=d.o[l.stream];if(m||(m=new Bt(d.h,d.G),d.o[l.stream]=m),0===m.l&&(m.l=m.h.createTexture()),"undefined"!=typeof HTMLVideoElement&&f instanceof HTMLVideoElement)var g=f.videoWidth,A=f.videoHeight;else"undefined"!=typeof HTMLImageElement&&f instanceof HTMLImageElement?(g=f.naturalWidth,A=f.naturalHeight):(g=f.width,A=f.height);A={glName:m.l,width:g,height:A},(g=m.g).canvas.width=A.width,g.canvas.height=A.height,g.activeTexture(g.TEXTURE0),m.h.bindTexture2d(m.l),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,f),m.h.bindTexture2d(0),m=A;break e;case"detections":for((m=d.o[l.stream])||(m=new Ft(d.h),d.o[l.stream]=m),m.data||(m.data=new m.g.DetectionListData),m.data.reset(f.length),A=0;A<f.length;++A){g=f[A];var w=m.data,b=w.setBoundingBox,v=A,x=g.boundingBox,C=new vt;if(ye(C,1,x.xCenter),ye(C,2,x.yCenter),ye(C,3,x.height),ye(C,4,x.width),ye(C,5,x.rotation),ye(C,6,x.rectId),x=nt(C,xt),b.call(w,v,x),g.landmarks)for(w=0;w<g.landmarks.length;++w){var k=!!(C=g.landmarks[w]).visibility;v=(b=m.data).addNormalizedLandmark,x=A,C=Object.assign(Object.assign({},C),{visibility:k?C.visibility:0}),ye(k=new gt,1,C.x),ye(k,2,C.y),ye(k,3,C.z),C.visibility&&ye(k,4,C.visibility),C=nt(k,yt),v.call(b,x,C)}if(g.V)for(w=0;w<g.V.length;++w)v=(b=m.data).addClassification,x=A,C=g.V[w],ye(k=new ht,2,C.ga),C.index&&ye(k,1,C.index),C.label&&ye(k,3,C.label),C.displayName&&ye(k,4,C.displayName),C=nt(k,dt),v.call(b,x,C)}m=m.data;break e;default:m={}}}switch(c=m,u=l.stream,l.type){case"video":s.pushTexture2d(Object.assign(Object.assign({},c),{stream:u,timestamp:n}));break;case"detections":(h=c).stream=u,h.timestamp=n,s.pushDetectionList(h);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return d.i.send(s),y(p,d.D,4);case 4:s.delete(),p.g=0}}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},E("Solution",Vt),E("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=Ut.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){var e=this;return x((function(t){return y(t,e.g.initialize(),0)}))},e.reset=function(){this.g.reset()},e.send=function(e){var t=this;return x((function(n){return y(n,t.g.send(e),0)}))},e.setOptions=function(e){this.g.setOptions(e)},E("FaceDetection",Ut),E("FACEDETECTION_LIPS",Ct),E("FACEDETECTION_LEFT_EYE",kt),E("FACEDETECTION_LEFT_EYEBROW",Et),E("FACEDETECTION_RIGHT_EYE",St),E("FACEDETECTION_RIGHT_EYEBROW",It),E("FACEDETECTION_FACE_OVAL",Tt),E("FACEDETECTION_CONTOURS",_t),E("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),E("VERSION","0.4.1646425229")}).call(ZG);var XG=function(){return XG=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},XG.apply(this,arguments)};function $G(e,t,n,s){return new(n||(n=Promise))((function(i,r){function a(e){try{l(s.next(e))}catch(e){r(e)}}function o(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))}function JG(e,t){var n,s,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,s=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],s=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}var eU=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],tU={modelType:"short",runtime:"mediapipe",maxFaces:1},nU=function(){function e(e){var t=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new QG.FaceDetection({locateFile:function(t,n){if(e.solutionPath){var s=e.solutionPath.replace(/\/+$/,"");return"".concat(s,"/").concat(t)}return"".concat(n,"/").concat(t)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults((function(e){if(t.height=e.image.height,t.width=e.image.width,t.faces=[],null!==e.detections)for(var n=0,s=e.detections;n<s.length;n++){var i=s[n];t.faces.push(t.normalizedToAbsolute(i.landmarks,{xMin:a=(r=i.boundingBox).xCenter-r.width/2,xMax:a+r.width,yMin:o=r.yCenter-r.height/2,yMax:o+r.height,width:r.width,height:r.height}))}var r,a,o}))}return e.prototype.normalizedToAbsolute=function(e,t){var n=this;return{keypoints:e.map((function(e,t){return{x:e.x*n.width,y:e.y*n.height,name:eU[t]}})),box:{xMin:t.xMin*this.width,yMin:t.yMin*this.height,xMax:t.xMax*this.width,yMax:t.yMax*this.height,width:t.width*this.width,height:t.height*this.height}}},e.prototype.estimateFaces=function(e,t){return $G(this,void 0,void 0,(function(){var n,s;return JG(this,(function(i){switch(i.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof Eo?(s=ImageData.bind,[4,Nu(e)]):[3,2];case 1:return n=new(s.apply(ImageData,[void 0,i.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:n=e,i.label=3;case 3:return e=n,[4,this.faceDetectorSolution.send({image:e})];case 4:return i.sent(),[2,this.faces]}}))}))},e.prototype.dispose=function(){this.faceDetectorSolution.close()},e.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},e}();function sU(e){return $G(this,void 0,void 0,(function(){var t,n;return JG(this,(function(s){switch(s.label){case 0:return t=function(e){if(null==e)return XG({},tU);var t=XG({},e);return t.runtime="mediapipe",null==t.modelType&&(t.modelType=tU.modelType),null==t.maxFaces&&(t.maxFaces=tU.maxFaces),t}(e),[4,(n=new nU(t)).initialize()];case 1:return s.sent(),[2,n]}}))}))}function iU(e){return e instanceof Eo?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function rU(e){return e instanceof Eo?e:Du(e)}function aU(e,t){zn(0!==e.width,(function(){return"".concat(t," width cannot be 0.")})),zn(0!==e.height,(function(){return"".concat(t," height cannot be 0.")}))}function oU(e){null==e.reduceBoxesInLowestLayer&&(e.reduceBoxesInLowestLayer=!1),null==e.interpolatedScaleAspectRatio&&(e.interpolatedScaleAspectRatio=1),null==e.fixedAnchorSize&&(e.fixedAnchorSize=!1);for(var t=[],n=0;n<e.numLayers;){for(var s=[],i=[],r=[],a=[],o=n;o<e.strides.length&&e.strides[o]===e.strides[n];){var l=lU(e.minScale,e.maxScale,o,e.strides.length);if(0===o&&e.reduceBoxesInLowestLayer)r.push(1),r.push(2),r.push(.5),a.push(.1),a.push(l),a.push(l);else{for(var c=0;c<e.aspectRatios.length;++c)r.push(e.aspectRatios[c]),a.push(l);if(e.interpolatedScaleAspectRatio>0){var u=o===e.strides.length-1?1:lU(e.minScale,e.maxScale,o+1,e.strides.length);a.push(Math.sqrt(l*u)),r.push(e.interpolatedScaleAspectRatio)}}o++}for(var h=0;h<r.length;++h){var d=Math.sqrt(r[h]);s.push(a[h]/d),i.push(a[h]*d)}var p=0,f=0;if(e.featureMapHeight.length>0)p=e.featureMapHeight[n],f=e.featureMapWidth[n];else{var m=e.strides[n];p=Math.ceil(e.inputSizeHeight/m),f=Math.ceil(e.inputSizeWidth/m)}for(var g=0;g<p;++g)for(var y=0;y<f;++y)for(var A=0;A<s.length;++A){var w={xCenter:(y+e.anchorOffsetX)/f,yCenter:(g+e.anchorOffsetY)/p,width:0,height:0};e.fixedAnchorSize?(w.width=1,w.height=1):(w.width=i[A],w.height=s[A]),t.push(w)}n=o}return t}function lU(e,t,n,s){return 1===s?.5*(e+t):e+(t-e)*n/(s-1)}function cU(e,t){var n=t[0],s=t[1];return[n*e[0]+s*e[1]+e[3],n*e[4]+s*e[5]+e[7]]}function uU(e,t,n,s){return $G(this,void 0,void 0,(function(){var s,i,r,a,o;return JG(this,(function(l){switch(l.label){case 0:return e.sort((function(e,t){return Math.max.apply(Math,t.score)-Math.max.apply(Math,e.score)})),s=Df(e.map((function(e){return[e.locationData.relativeBoundingBox.yMin,e.locationData.relativeBoundingBox.xMin,e.locationData.relativeBoundingBox.yMax,e.locationData.relativeBoundingBox.xMax]}))),i=Nf(e.map((function(e){return e.score[0]}))),[4,ag.nonMaxSuppressionAsync(s,i,t,n)];case 1:return[4,(r=l.sent()).array()];case 2:return a=l.sent(),o=e.filter((function(e,t){return a.indexOf(t)>-1})),Al([s,i,r]),[2,o]}}))}))}function hU(e,t,n){return $G(this,void 0,void 0,(function(){var s,i,r,a,o;return JG(this,(function(l){switch(l.label){case 0:return s=e[0],i=e[1],r=function(e,t,n){return yl((function(){var s,i,r,a;n.reverseOutputOrder?(i=Ef(Nh(e,[0,n.boxCoordOffset+0],[-1,1])),s=Ef(Nh(e,[0,n.boxCoordOffset+1],[-1,1])),a=Ef(Nh(e,[0,n.boxCoordOffset+2],[-1,1])),r=Ef(Nh(e,[0,n.boxCoordOffset+3],[-1,1]))):(s=Ef(Nh(e,[0,n.boxCoordOffset+0],[-1,1])),i=Ef(Nh(e,[0,n.boxCoordOffset+1],[-1,1])),r=Ef(Nh(e,[0,n.boxCoordOffset+2],[-1,1])),a=Ef(Nh(e,[0,n.boxCoordOffset+3],[-1,1]))),i=Tc(Dc(Nc(i,n.xScale),t.w),t.x),s=Tc(Dc(Nc(s,n.yScale),t.h),t.y),n.applyExponentialOnBoxSize?(r=Dc(Md(Nc(r,n.hScale)),t.h),a=Dc(Md(Nc(a,n.wScale)),t.w)):(r=Dc(Nc(r,n.hScale),t.h),a=Dc(Nc(a,n.wScale),t.h));var o=Yc(s,Nc(r,2)),l=Yc(i,Nc(a,2)),c=Tc(s,Nc(r,2)),u=Tc(i,Nc(a,2)),h=Ih([kh(o,[n.numBoxes,1]),kh(l,[n.numBoxes,1]),kh(c,[n.numBoxes,1]),kh(u,[n.numBoxes,1])],1);if(n.numKeypoints)for(var d=0;d<n.numKeypoints;++d){var p=n.keypointCoordOffset+d*n.numValuesPerKeypoint,f=void 0,m=void 0;n.reverseOutputOrder?(f=Ef(Nh(e,[0,p],[-1,1])),m=Ef(Nh(e,[0,p+1],[-1,1]))):(m=Ef(Nh(e,[0,p],[-1,1])),f=Ef(Nh(e,[0,p+1],[-1,1])));var g=Tc(Dc(Nc(f,n.xScale),t.w),t.x),y=Tc(Dc(Nc(m,n.yScale),t.h),t.y);h=Ih([h,kh(g,[n.numBoxes,1]),kh(y,[n.numBoxes,1])],1)}return h}))}(i,t,n),a=yl((function(){var e=s;return n.sigmoidScore?(null!=n.scoreClippingThresh&&(e=Uh(s,-n.scoreClippingThresh,n.scoreClippingThresh)),e=_h(e)):e})),[4,dU(r,a,n)];case 1:return o=l.sent(),Al([r,a]),[2,o]}}))}))}function dU(e,t,n){return $G(this,void 0,void 0,(function(){var s,i,r,a,o,l,c,u,h,d,p,f;return JG(this,(function(m){switch(m.label){case 0:return s=[],[4,e.data()];case 1:return i=m.sent(),[4,t.data()];case 2:for(r=m.sent(),a=0;a<n.numBoxes;++a)if(!(null!=n.minScoreThresh&&r[a]<n.minScoreThresh||(o=a*n.numCoords,l=pU(i[o+0],i[o+1],i[o+2],i[o+3],r[a],n.flipVertically,a),(c=l.locationData.relativeBoundingBox).width<0||c.height<0))){if(n.numKeypoints>0)for((u=l.locationData).relativeKeypoints=[],h=n.numKeypoints*n.numValuesPerKeypoint,d=0;d<h;d+=n.numValuesPerKeypoint)p=o+n.keypointCoordOffset+d,f={x:i[p+0],y:n.flipVertically?1-i[p+1]:i[p+1]},u.relativeKeypoints.push(f);s.push(l)}return[2,s]}}))}))}function pU(e,t,n,s,i,r,a){return{score:[i],ind:a,locationData:{relativeBoundingBox:{xMin:t,yMin:r?1-n:e,xMax:s,yMax:r?1-e:n,width:s-t,height:n-e}}}}var fU,mU={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},gU={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},yU={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},AU={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},wU={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},bU={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},vU={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},xU=function(){function e(e,t,n){this.detectorModel=t,this.maxFaces=n,"full"===e?(this.imageToTensorConfig=vU,this.tensorsToDetectionConfig=wU,this.anchors=oU(gU)):(this.imageToTensorConfig=bU,this.tensorsToDetectionConfig=AU,this.anchors=oU(mU));var s=Nf(this.anchors.map((function(e){return e.width}))),i=Nf(this.anchors.map((function(e){return e.height}))),r=Nf(this.anchors.map((function(e){return e.xCenter}))),a=Nf(this.anchors.map((function(e){return e.yCenter})));this.anchorTensor={x:r,y:a,w:s,h:i}}return e.prototype.dispose=function(){this.detectorModel.dispose(),Al([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},e.prototype.reset=function(){},e.prototype.detectFaces=function(e,t){return void 0===t&&(t=!1),$G(this,void 0,void 0,(function(){var n,s,i,r,a,o,l,c,u,h,d;return JG(this,(function(p){switch(p.label){case 0:return null==e?(this.reset(),[2,[]]):(n=yl((function(){var n=Ec(rU(e),"float32");return t&&(n=Ef(ag.flipLeftRight(Bd(n,0)),[0])),n})),s=function(e,t,n){var s=t.outputTensorSize,i=t.keepAspectRatio,r=t.borderMode,a=t.outputTensorFloatRange,o=iU(e),l=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(o,n),c=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var s=t.height,i=t.width;aU(t,"targetSize"),aU(e,"roi");var r,a,o=s/i,l=e.height/e.width,c=0,u=0;return o>l?(r=e.width,a=e.width*o,u=(1-l/o)/2):(r=e.height/o,a=e.height,c=(1-o/l)/2),e.width=r,e.height=a,{top:u,left:c,right:c,bottom:u}}(l,s,i),u=function(e,t,n){var s=e.width,i=e.height,r=Math.cos(e.rotation),a=Math.sin(e.rotation),o=e.xCenter,l=e.yCenter,c=1/t,u=1/n,h=new Array(16);return h[0]=s*r*1*c,h[1]=-i*a*c,h[2]=0,h[3]=(-.5*s*r*1+.5*i*a+o)*c,h[4]=s*a*1*u,h[5]=i*r*u,h[6]=0,h[7]=(-.5*i*r-.5*s*a*1+l)*u,h[8]=0,h[9]=0,h[10]=s*c,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,function(e){if(16!==e.length)throw new Error("Array length must be 16 but got ".concat(e.length));return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(h)}(l,o.width,o.height),h=yl((function(){var t=rU(e),n=Df(function(e,t,n){return aU(n,"inputResolution"),[1/n.width*e[0][0]*t.width,1/n.height*e[0][1]*t.width,e[0][3]*t.width,1/n.width*e[1][0]*t.height,1/n.height*e[1][1]*t.height,e[1][3]*t.height,0,0]}(u,o,s),[1,8]),i="zero"===r?"constant":"nearest",l=ag.transform(Bd(Ec(t,"float32")),n,"bilinear",i,0,[s.height,s.width]);return null!=a?function(e,t){var n=function(e,t,n,s){var i=(s-n)/255;return{scale:i,offset:n-0*i}}(0,0,t[0],t[1]);return yl((function(){return Tc(Dc(e,n.scale),n.offset)}))}(l,a):l}));return{imageTensor:h,padding:c,transformationMatrix:u}}(n,this.imageToTensorConfig),i=s.imageTensor,r=s.transformationMatrix,a=this.detectorModel.execute(i,"Identity:0"),o=function(e){return yl((function(){var t=function(e){return yl((function(){return[Nh(e,[0,0,0],[1,-1,1]),Nh(e,[0,0,1],[1,-1,-1])]}))}(e),n=t[0],s=t[1];return{boxes:Ef(s),logits:Ef(n)}}))}(a),l=o.boxes,[4,hU([c=o.logits,l],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return 0===(u=p.sent()).length?(Al([n,i,a,c,l]),[2,u]):[4,uU(u,this.maxFaces,.3)];case 2:return h=p.sent(),d=function(e,t){void 0===e&&(e=[]);var n,s=(n=t,[].concat.apply([],n));return e.forEach((function(e){var t=e.locationData;t.relativeKeypoints.forEach((function(e){var t=cU(s,[e.x,e.y]),n=t[0],i=t[1];e.x=n,e.y=i}));var n=t.relativeBoundingBox,i=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MIN_VALUE,o=Number.MIN_VALUE;[[n.xMin,n.yMin],[n.xMin+n.width,n.yMin],[n.xMin+n.width,n.yMin+n.height],[n.xMin,n.yMin+n.height]].forEach((function(e){var t=cU(s,e),n=t[0],l=t[1];i=Math.min(i,n),a=Math.max(a,n),r=Math.min(r,l),o=Math.max(o,l)})),t.relativeBoundingBox={xMin:i,xMax:a,yMin:r,yMax:o,width:a-i,height:o-r}})),e}(h,r),Al([n,i,a,c,l]),[2,d]}}))}))},e.prototype.estimateFaces=function(e,t){return $G(this,void 0,void 0,(function(){var n,s;return JG(this,(function(i){return n=iU(e),s=!!t&&t.flipHorizontal,[2,this.detectFaces(e,s).then((function(e){return e.map((function(e){for(var t=e.locationData.relativeKeypoints.map((function(e,t){return XG(XG({},e),{x:e.x*n.width,y:e.y*n.height,name:eU[t]})})),s=e.locationData.relativeBoundingBox,i=0,r=["width","xMax","xMin"];i<r.length;i++)s[r[i]]*=n.width;for(var a=0,o=["height","yMax","yMin"];a<o.length;a++)s[o[a]]*=n.height;return{keypoints:t,box:s}}))}))]}))}))},e}();function CU(e){return $G(this,void 0,void 0,(function(){var t,n,s;return JG(this,(function(i){switch(i.label){case 0:return t=function(e){if(null==e)return XG({},yU);var t=XG({},e);return null==t.modelType&&(t.modelType=yU.modelType),null==t.maxFaces&&(t.maxFaces=yU.maxFaces),null==t.detectorModelUrl&&("full"===t.modelType?t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),t}(e),n="string"==typeof t.detectorModelUrl&&t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,HE(t.detectorModelUrl,{fromTFHub:n})];case 1:return s=i.sent(),[2,new xU(t.modelType,s,t.maxFaces)]}}))}))}function kU(e,t){return $G(this,void 0,void 0,(function(){var n,s;return JG(this,(function(i){if(e===fU.MediaPipeFaceDetector){if(s=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,CU(n)];if("mediapipe"===n.runtime)return[2,sU(n)];s=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(s))}throw new Error("".concat(e," is not a supported model name."))}))}))}function EU(e){return e.width*e.height}function SU(e){var t=e.xCenter-e.width/2,n=t+e.width,s=e.yCenter-e.height/2;return{xMin:t,xMax:n,yMin:s,yMax:s+e.height,width:e.width,height:e.height}}function IU(e){return e instanceof Eo?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function TU(e){return e-2*Math.PI*Math.floor((e+Math.PI)/(2*Math.PI))}function _U(e){return e instanceof Eo?e:Du(e)}function NU(e,t){zn(0!==e.width,(function(){return t+" width cannot be 0."})),zn(0!==e.height,(function(){return t+" height cannot be 0."}))}function DU(e,t,n){var s=t.outputTensorSize,i=t.keepAspectRatio,r=t.borderMode,a=t.outputTensorFloatRange,o=IU(e),l=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(o,n),c=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var s=t.height,i=t.width;NU(t,"targetSize"),NU(e,"roi");var r,a,o=s/i,l=e.height/e.width,c=0,u=0;return o>l?(r=e.width,a=e.width*o,u=(1-l/o)/2):(r=e.height/o,a=e.height,c=(1-o/l)/2),e.width=r,e.height=a,{top:u,left:c,right:c,bottom:u}}(l,s,i),u=function(e,t,n,s){var i=e.width,r=e.height,a=s?-1:1,o=Math.cos(e.rotation),l=Math.sin(e.rotation),c=e.xCenter,u=e.yCenter,h=1/t,d=1/n,p=new Array(16);return p[0]=i*o*a*h,p[1]=-r*l*h,p[2]=0,p[3]=(-.5*i*o*a+.5*r*l+c)*h,p[4]=i*l*a*d,p[5]=r*o*d,p[6]=0,p[7]=(-.5*r*o-.5*i*l*a+u)*d,p[8]=0,p[9]=0,p[10]=i*h,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,function(e){if(16!==e.length)throw new Error("Array length must be 16 but got "+e.length);return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(p)}(l,o.width,o.height,!1),h=yl((function(){var t=_U(e),n=Df(function(e,t,n){return NU(n,"inputResolution"),[1/n.width*e[0][0]*t.width,1/n.height*e[0][1]*t.width,e[0][3]*t.width,1/n.width*e[1][0]*t.height,1/n.height*e[1][1]*t.height,e[1][3]*t.height,0,0]}(u,o,s),[1,8]),i="zero"===r?"constant":"nearest",l=ag.transform(Bd(Ec(t,"float32")),n,"bilinear",i,0,[s.height,s.width]);return null!=a?function(e,t){var n=function(e,t,n,s){var i=(s-n)/255;return{scale:i,offset:n-0*i}}(0,0,t[0],t[1]);return yl((function(){return Tc(Dc(e,n.scale),n.offset)}))}(l,a):l}));return{imageTensor:h,padding:c,transformationMatrix:u}}function MU(e){return{xCenter:e.xMin+e.width/2,yCenter:e.yMin+e.height/2,width:e.width,height:e.height}}function BU(e){var t=e.relativeKeypoints;if(t.length<=1)throw new Error("2 or more keypoints required to calculate a rect.");var n=Number.MAX_VALUE,s=Number.MAX_VALUE,i=Number.MIN_VALUE,r=Number.MIN_VALUE;return t.forEach((function(e){n=Math.min(n,e.x),i=Math.max(i,e.x),s=Math.min(s,e.y),r=Math.max(r,e.y)})),{xCenter:(n+i)/2,yCenter:(s+r)/2,width:i-n,height:r-s}}function RU(e,t,n,s,i){var r="rect"===n?function(e,t,n){var s,i=e.locationData;if("boundingbox"===t)s=MU(i.boundingBox);else{s=BU(i);var r=n.width,a=n.height;s.xCenter=Math.round(s.xCenter*r),s.yCenter=Math.round(s.yCenter*a),s.width=Math.round(s.width*r),s.height=Math.round(s.height*a)}return s}(e,t,s):function(e,t){var n=e.locationData;return"boundingbox"===t?MU(n.relativeBoundingBox):BU(n)}(e,t);return i&&(r.rotation=function(e,t,n){var s,i=e.locationData,r=n.rotationVectorStartKeypointIndex,a=n.rotationVectorEndKeypointIndex;s=n.rotationVectorTargetAngle?n.rotationVectorTargetAngle:Math.PI*n.rotationVectorTargetAngleDegree/180;var o=i.relativeKeypoints[r].x*t.width,l=i.relativeKeypoints[r].y*t.height,c=i.relativeKeypoints[a].x*t.width,u=i.relativeKeypoints[a].y*t.height;return TU(s-Math.atan2(-(u-l),c-o))}(e,s,i)),r}function FU(e,t,n){for(var s=0;s<t.length;++s){var i=t[s],r=n[e[s]];r.x=i.x,r.y=i.y}}function OU(e,t,n,s){if("string"==typeof t){if("copy"===t)for(var i=0;i<n.length;++i)s[e[i]].z=n[i].z}else{var r=function(e,t){for(var n=0,s=0;s<t.length;++s)n+=e[t[s]].z;return n/t.length}(s,t);for(i=0;i<e.length;++i)s[e[i]].z=r}}function LU(e,t){for(var n=function(e){var t=[].concat.apply([],e.map((function(e){return e.indexesMapping})));if(0===t.length)throw new Error("There should be at least one landmark in indexes mapping");var n=t[0],s=t[0],i=new Set(t);i.forEach((function(e){n=Math.min(n,e),s=Math.max(s,e)}));var r=i.size;if(0!==n)throw new Error("Indexes are expected to start with 0 instead of "+n);if(s+1!==r)throw new Error("Indexes should have no gaps but "+(s-r+1)+" indexes are missing");return r}(t),s=new Array(n).fill(null).map(Object),i=0;i<e.length;++i){var r=e[i],a=t[i];if(r.length!==a.indexesMapping.length)throw new Error("There are "+r.length+" refinement landmarks while mapping has "+a.indexesMapping.length);FU(a.indexesMapping,r,s),OU(a.indexesMapping,a.zRefinement,r,s)}return s}function zU(e,t){return e.map((function(e){var n=LG(LG({},e),{x:e.x*t.width,y:e.y*t.height});return null!=e.z&&(n.z=e.z*t.width),n}))}function VU(e,t){return"none"===e?t:function(e){return 1/(1+Math.exp(-e))}(t)}function PU(e,t,n,s){return zG(this,void 0,void 0,(function(){var i,r,a,o,l,c,u,h;return VG(this,(function(d){switch(d.label){case 0:return n=n||t.flipHorizontally||!1,s=s||t.flipVertically||!1,i=e.size,r=i/t.numLandmarks,[4,e.data()];case 1:for(a=d.sent(),o=[],l=0;l<t.numLandmarks;++l)c=l*r,(h={x:0,y:0}).x=n?t.inputImageWidth-a[c]:a[c],r>1&&(h.y=s?t.inputImageHeight-a[c+1]:a[c+1]),r>2&&(h.z=a[c+2]),r>3&&(h.score=VU(t.visibilityActivation,a[c+3])),o.push(h);for(u=0;u<o.length;++u)(h=o[u]).x=h.x/t.inputImageWidth,h.y=h.y/t.inputImageHeight,h.z=h.z/t.inputImageWidth/(t.normalizeZ||1);return[2,o]}}))}))}function WU(e,t,n){var s=e.width,i=e.height,r=e.rotation;if(null==n.rotation&&null==n.rotationDegree||(r=function(e,t){return null!=t.rotation?e+=t.rotation:null!=t.rotationDegree&&(e+=Math.PI*t.rotationDegree/180),TU(e)}(r,n)),0===r)e.xCenter=e.xCenter+s*n.shiftX,e.yCenter=e.yCenter+i*n.shiftY;else{var a=(t.width*s*n.shiftX*Math.cos(r)-t.height*i*n.shiftY*Math.sin(r))/t.width,o=(t.width*s*n.shiftX*Math.sin(r)+t.height*i*n.shiftY*Math.cos(r))/t.height;e.xCenter=e.xCenter+a,e.yCenter=e.yCenter+o}if(n.squareLong){var l=Math.max(s*t.width,i*t.height);s=l/t.width,i=l/t.height}else if(n.squareShort){var c=Math.min(s*t.width,i*t.height);s=c/t.width,i=c/t.height}return e.width=s*n.scaleX,e.height=i*n.scaleY,e}(fU||(fU={})).MediaPipeFaceDetector="MediaPipeFaceDetector";var GU,UU={runtime:"tfjs",maxFaces:1,refineLandmarks:!1,landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"},jU={flipHorizontal:!1,staticImageMode:!1},qU={shiftX:0,shiftY:0,scaleX:1.5,scaleY:1.5,squareLong:!0},HU={outputTensorSize:{width:192,height:192},outputTensorFloatRange:[0,1],borderMode:"replicate"},YU={numLandmarks:468,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},KU={numLandmarks:80,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},ZU={numLandmarks:71,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},QU={numLandmarks:5,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},XU={indexesMapping:Array.from(Array(468).keys()),zRefinement:"copy"},$U={indexesMapping:[61,146,91,181,84,17,314,405,321,375,291,185,40,39,37,0,267,269,270,409,78,95,88,178,87,14,317,402,318,324,308,191,80,81,82,13,312,311,310,415,76,77,90,180,85,16,315,404,320,307,306,184,74,73,72,11,302,303,304,408,62,96,89,179,86,15,316,403,319,325,292,183,42,41,38,12,268,271,272,407],zRefinement:"none"},JU={indexesMapping:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173,130,25,110,24,23,22,26,112,243,247,30,29,27,28,56,190,226,31,228,229,230,231,232,233,244,113,225,224,223,222,221,189,35,124,46,53,52,65,143,111,117,118,119,120,121,128,245,156,70,63,105,66,107,55,193],zRefinement:"none"},ej={indexesMapping:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398,359,255,339,254,253,252,256,341,463,467,260,259,257,258,286,414,446,261,448,449,450,451,452,453,464,342,445,444,443,442,441,413,265,353,276,283,282,295,372,340,346,347,348,349,350,357,465,383,300,293,334,296,336,285,417],zRefinement:"none"},tj={indexesMapping:[468,469,470,471,472],zRefinement:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173]},nj={indexesMapping:[473,474,475,476,477],zRefinement:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398]},sj=function(){function e(e,t,n,s){this.detector=e,this.landmarkModel=t,this.maxFaces=n,this.withAttention=s,this.prevFaceRectsFromLandmarks=null}return e.prototype.estimateFaces=function(e,t){return zG(this,void 0,void 0,(function(){var n,s,i,r,a,o,l,c,u,h,d,p,f,m=this;return VG(this,(function(g){switch(g.label){case 0:return n=function(e){if(null==e)return LG({},jU);var t=LG({},e);return null==t.flipHorizontal&&(t.flipHorizontal=jU.flipHorizontal),null==t.staticImageMode&&(t.staticImageMode=jU.staticImageMode),t}(t),null==e?(this.reset(),[2,[]]):(s=IU(e),i=yl((function(){var t=Ec(_U(e),"float32");return n.flipHorizontal&&(t=Ef(ag.flipLeftRight(Bd(t,0)),[0])),t})),r=this.prevFaceRectsFromLandmarks,n.staticImageMode||null==r||r.length<this.maxFaces?[4,this.detector.detectFaces(i,!1)]:[3,2]);case 1:return 0===(o=g.sent()).length?(this.reset(),i.dispose(),[2,[]]):(a=o.map((function(e){return m.faceDetectionFrontDetectionToRoi(e,s)})),[3,3]);case 2:a=[],g.label=3;case 3:return y=[],[a,r||[]].forEach((function(e){return e.forEach((function(e){(y=y.filter((function(t){return function(e,t){var n=SU(e),s=SU(t);if(!function(e,t){return!(e.xMax<t.xMin||t.xMax<e.xMin||e.yMax<t.yMin||t.yMax<e.yMin)}(n,s))return 0;var i=EU(function(e,t){var n=Math.max(e.xMin,t.xMin),s=Math.min(e.xMax,t.xMax),i=Math.max(e.yMin,t.yMin),r=Math.min(e.yMax,t.yMax);return{xMin:n,xMax:s,yMin:i,yMax:r,width:Math.max(s-n,0),height:Math.max(r-i,0)}}(n,s)),r=EU(n)+EU(s)-i;return r>0?i/r:0}(e,t)<=.5}))).push(e)}))})),l=y,[4,Promise.all(l.map((function(e){return m.faceLandmark(e,i)})))];case 4:for(c=g.sent(),u=[],this.prevFaceRectsFromLandmarks=[],h=0;h<c.length;++h)null!=(d=c[h])&&(this.prevFaceRectsFromLandmarks.push(this.faceLandmarksToRoi(d,s)),null!=(p=zU(d,s))&&p.forEach((function(e,t){var n=jG.get(t);null!=n&&(e.name=n)})),f=qG(p),u.push({keypoints:p,box:f.locationData.relativeBoundingBox}));return i.dispose(),[2,u]}var y}))}))},e.prototype.dispose=function(){this.detector.dispose(),this.landmarkModel.dispose()},e.prototype.reset=function(){this.detector.reset(),this.prevFaceRectsFromLandmarks=null},e.prototype.faceDetectionFrontDetectionToRoi=function(e,t){return WU(RU(e,"boundingbox","normRect",t,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:0}),t,qU)},e.prototype.faceLandmark=function(e,t){return zG(this,void 0,void 0,(function(){var n,s,i,r,a,o,l;return VG(this,(function(c){switch(c.label){case 0:return n=DU(t,HU,e).imageTensor,s=["output_faceflag"].concat(this.withAttention?["output_mesh_identity","output_lips","Identity_6:0","Identity_1:0","Identity_2:0","Identity_5:0"]:["output_mesh"]),i=this.landmarkModel.execute(n,s),r=i[0],a=i.slice(1),[4,r.data()];case 1:return c.sent()[0]<.5?(Al(i),Al(n),[2,null]):this.withAttention?[4,this.tensorsToFaceLandmarksWithAttention(a)]:[3,3];case 2:return o=c.sent(),[3,5];case 3:return[4,this.tensorsToFaceLandmarks(a)];case 4:o=c.sent(),c.label=5;case 5:return l=function(e,t,n){void 0===n&&(n={ignoreRotation:!1});for(var s=[],i=0,r=e;i<r.length;i++){var a=r[i],o=a.x-.5,l=a.y-.5,c=n.ignoreRotation?0:t.rotation,u=Math.cos(c)*o-Math.sin(c)*l,h=Math.sin(c)*o+Math.cos(c)*l;u=u*t.width+t.xCenter,h=h*t.height+t.yCenter;var d=a.z*t.width,p=LG({},a);p.x=u,p.y=h,p.z=d,s.push(p)}return s}(o,e),Al(i),Al(n),[2,l]}}))}))},e.prototype.tensorsToFaceLandmarks=function(e){return zG(this,void 0,void 0,(function(){return VG(this,(function(t){return[2,PU(e[0],YU)]}))}))},e.prototype.tensorsToFaceLandmarksWithAttention=function(e){return zG(this,void 0,void 0,(function(){var t,n,s,i,r,a;return VG(this,(function(o){switch(o.label){case 0:return[4,PU(e[0],YU)];case 1:return t=o.sent(),[4,PU(e[1],KU)];case 2:return n=o.sent(),[4,PU(e[3],ZU)];case 3:return s=o.sent(),[4,PU(e[5],ZU)];case 4:return i=o.sent(),[4,PU(e[4],QU)];case 5:return r=o.sent(),[4,PU(e[2],QU)];case 6:return a=o.sent(),[2,LU([t,n,s,i,r,a],[XU,$U,JU,ej,tj,nj])]}}))}))},e.prototype.faceLandmarksToRoi=function(e,t){return WU(RU(qG(e),"boundingbox","normRect",t,{rotationVectorStartKeypointIndex:33,rotationVectorEndKeypointIndex:263,rotationVectorTargetAngleDegree:0}),t,qU)},e}();function ij(e){return zG(this,void 0,void 0,(function(){var t,n,s,i;return VG(this,(function(r){switch(r.label){case 0:return t=function(e){if(null==e)return LG({},UU);var t=LG({},e);return t.runtime="tfjs",null==t.maxFaces&&(t.maxFaces=UU.maxFaces),null==t.refineLandmarks&&(t.refineLandmarks=UU.refineLandmarks),null==t.landmarkModelUrl&&(t.landmarkModelUrl=t.refineLandmarks?"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/attention_mesh/1":"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"),t}(e),n="string"==typeof t.landmarkModelUrl&&t.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,HE(t.landmarkModelUrl,{fromTFHub:n})];case 1:return s=r.sent(),[4,kU(fU.MediaPipeFaceDetector,{modelType:"short",maxFaces:t.maxFaces,detectorModelUrl:t.detectorModelUrl,runtime:t.runtime})];case 2:return i=r.sent(),[2,new sj(i,s,t.maxFaces,t.refineLandmarks)]}}))}))}(GU||(GU={})).MediaPipeFaceMesh="MediaPipeFaceMesh";Object.freeze({__proto__:null,getKeypointIndexByContour:function(e){if(e===GU.MediaPipeFaceMesh)return WG;throw new Error("Model "+e+" is not supported.")},getAdjacentPairs:function(e){if(e===GU.MediaPipeFaceMesh)return GG;throw new Error("Model "+e+" is not supported.")}});const rj=(e,t,n,s)=>1===s?.5*(e+t):e+(t-e)*n/(s-1),aj={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},oj={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},lj={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},cj=e=>{e.detector.imageToTensorConfig=lj,e.detector.tensorsToDetectionConfig=aj,e.detector.anchors=(e=>{null===e.reduceBoxesInLowestLayer&&(e.reduceBoxesInLowestLayer=!1),null===e.interpolatedScaleAspectRatio&&(e.interpolatedScaleAspectRatio=1),null===e.fixedAnchorSize&&(e.fixedAnchorSize=!1);const t=[];let n=0;for(;n<e.numLayers;){const s=[],i=[],r=[],a=[];let o=n;for(;o<e.strides.length&&e.strides[o]===e.strides[n];){const t=rj(e.minScale,e.maxScale,o,e.strides.length);if(0===o&&e.reduceBoxesInLowestLayer)r.push(1),r.push(2),r.push(.5),a.push(.1),a.push(t),a.push(t);else{for(let n=0;n<e.aspectRatios.length;++n)r.push(e.aspectRatios[n]),a.push(t);if(e.interpolatedScaleAspectRatio>0){const n=o===e.strides.length-1?1:rj(e.minScale,e.maxScale,o+1,e.strides.length);a.push(Math.sqrt(t*n)),r.push(e.interpolatedScaleAspectRatio)}}o++}for(let e=0;e<r.length;++e){const t=Math.sqrt(r[e]);s.push(a[e]/t),i.push(a[e]*t)}let l=0,c=0;if(e.featureMapHeight.length>0)l=e.featureMapHeight[n],c=e.featureMapWidth[n];else{const t=e.strides[n];l=Math.ceil(e.inputSizeHeight/t),c=Math.ceil(e.inputSizeWidth/t)}for(let n=0;n<l;++n)for(let r=0;r<c;++r)for(let a=0;a<s.length;++a){const o={xCenter:(r+e.anchorOffsetX)/c,yCenter:(n+e.anchorOffsetY)/l,width:0,height:0};e.fixedAnchorSize?(o.width=1,o.height=1):(o.width=i[a],o.height=s[a]),t.push(o)}n=o}return t})(oj);const t=Nf(e.detector.anchors.map((e=>e.width))),n=Nf(e.detector.anchors.map((e=>e.height))),s=Nf(e.detector.anchors.map((e=>e.xCenter))),i=Nf(e.detector.anchors.map((e=>e.yCenter)));e.detector.anchorTensor={x:s,y:i,w:t,h:n}},uj=function(e=!0){this.model=function(e,t){return zG(this,void 0,void 0,(function(){var n,s;return VG(this,(function(i){if(e===GU.MediaPipeFaceMesh){if(s=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,ij(n)];if("mediapipe"===n.runtime)return[2,KG(n)];s=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+s)}throw new Error(e+" is not a supported model name.")}))}))}(GU.MediaPipeFaceMesh,{runtime:"tfjs",detectorModelUrl:"./models/detector/model.json",landmarkModelUrl:e?"./models/landmark_attention/model.json":"./models/landmark/model.json",refineLandmarks:e}),this.predictionReady=!1,this.modelLoaded=!1},hj={current:!1,resolves:[]};uj.prototype.loadModel=async function(){if(!this.modelLoaded){if(hj.current){const e=new Promise((e=>{hj.resolves.push(e)}));return await e}hj.current=!0;try{this.model=await this.model,cj(this.model),this.modelLoaded=!0,hj.resolves.forEach((e=>e()))}finally{hj.current=!1,hj.resolves=[]}}},uj.prototype.positionsArray=null,uj.prototype.getEyePatches=async function(e,t,n,s){if(0===t.width)return null;this.modelLoaded||await this.loadModel();const i=this.model,r=await i.estimateFaces(t,{flipHorizontal:!1});if(0===r.length)return this.positionsArray=null,!1;this.positionsArray=r[0].keypoints;const a=r[0],[o,l]=[{eyeTopArc:[466,388,387,386,385,384,398].map((e=>a.keypoints[e])),eyeBottomArc:[263,249,390,373,374,380,381,382,362].map((e=>a.keypoints[e]))},{eyeTopArc:[246,161,160,159,158,157,173].map((e=>a.keypoints[e])),eyeBottomArc:[33,7,163,144,145,153,154,155,133].map((e=>a.keypoints[e]))}].map((({eyeTopArc:e,eyeBottomArc:t})=>{const n={x:Math.round(Math.min(...e.map((e=>e.x)))),y:Math.round(Math.min(...e.map((e=>e.y))))},s=Math.round(Math.max(...t.map((e=>e.x)))),i=Math.round(Math.max(...t.map((e=>e.y))));return{origin:n,width:s-n.x,height:i-n.y}}));var c=o.origin.x,u=o.origin.y,h=o.width,d=o.height,p=l.origin.x,f=l.origin.y,m=l.width,g=l.height;if(0===h||0===m)return null;if(0===d||0===g)return null;var y={},A=t.getContext("2d").getImageData(c,u,h,d);y.left={patch:A,imagex:c,imagey:u,width:h,height:d};var w=t.getContext("2d").getImageData(p,f,m,g);return y.right={patch:w,imagex:p,imagey:f,width:m,height:g},this.predictionReady=!0,y},uj.prototype.getPositions=function(){return this.positionsArray},uj.prototype.reset=function(){},uj.prototype.drawFaceOverlay=function(e,t){if(t){e.fillStyle="#32EEDB",e.strokeStyle="#32EEDB",e.lineWidth=.5;for(let n=0;n<t.length;n++){const s=t[n][0],i=t[n][1];e.beginPath(),e.arc(s,i,1,0,2*Math.PI),e.closePath(),e.fill()}}},uj.prototype.name="TFFaceMesh";const dj=uj,pj={};function fj(e,t,n){return e<t?t:e>n?n:e}pj.Eye=function(e,t,n,s,i){this.patch=e,this.imagex=t,this.imagey=n,this.width=s,this.height=i},pj.getEyeFeats=function(e){var t=this.resizeEye(e.left,10,6),n=this.resizeEye(e.right,10,6),s=this.grayscale(t.data,t.width,t.height),i=this.grayscale(n.data,n.width,n.height),r=[];this.equalizeHistogram(s,5,r);var a=[];return this.equalizeHistogram(i,5,a),r.concat(a)},pj.DataWindow=function(e,t){this.data=[],this.windowSize=e,this.index=0,this.length=0,t&&(this.data=t.slice(t.length-e,t.length),this.length=this.data.length)},pj.DataWindow.prototype.push=function(e){return this.data.length<this.windowSize?(this.data.push(e),this.length=this.data.length,this):(this.data[this.index]=e,this.index=(this.index+1)%this.windowSize,this)},pj.DataWindow.prototype.get=function(e){return this.data[this.getTrueIndex(e)]},pj.DataWindow.prototype.getTrueIndex=function(e){return this.data.length<this.windowSize?e:(e+this.index)%this.windowSize},pj.DataWindow.prototype.addAll=function(e){for(var t=0;t<e.length;t++)this.push(e[t])},pj.grayscale=function(e,t,n){for(var s=new Uint8ClampedArray(e.length>>2),i=0,r=0,a=0;a<n;a++)for(var o=0;o<t;o++){var l=.299*e[r]+.587*e[r+1]+.114*e[r+2];s[i++]=l,r+=4}return s},pj.equalizeHistogram=function(e,t,n){var s=e.length;n||(n=e),t||(t=5);for(var i=Array(256).fill(0),r=0;r<s;r+=t)++i[e[r]];for(var a=255*t/s,o=0,l=0;l<256;++l){var c=i[l];o=c+=o,i[l]=c*a}for(var u=0;u<s;++u)n[u]=i[e[u]];return n},pj.threshold=function(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]>t?255:0;return e},pj.correlation=function(e,t){const n=Math.min(e.length,t.length);let s=0;for(let i=0;i<n;i++)e[i]===t[i]&&s++;return s/Math.max(e.length,t.length)},pj.resizeEye=function(e,t,n){var s=document.createElement("canvas");s.width=e.width,s.height=e.height,s.getContext("2d").putImageData(e.patch,0,0);var i=document.createElement("canvas");return i.width=t,i.height=n,i.getContext("2d").drawImage(s,0,0,s.width,s.height,0,0,t,n),i.getContext("2d").getImageData(0,0,t,n)},pj.bound=function(e){return e.x=fj(e.x,0,window.innerWidth),e.y=fj(e.y,0,window.innerHeight),e},pj.DebugBox=function(e){var t;this.para=document.createElement("p"),this.div=document.createElement("div"),this.div.appendChild(this.para),document.body.appendChild(this.div),this.buttons={},this.canvas={},this.stats={},t=this,setInterval((function(){!function(e,t){var n="";for(var s in t)n+=s+": "+t[s]+"\n";e.innerText=n}(t.para,t.stats)}),e||300)},pj.DebugBox.prototype.set=function(e,t){this.stats[e]=t},pj.DebugBox.prototype.inc=function(e,t,n){this.stats[e]||(this.stats[e]=n||0),this.stats[e]+=t||1},pj.DebugBox.prototype.addButton=function(e,t){this.buttons[e]||(this.buttons[e]=document.createElement("button"),this.div.appendChild(this.buttons[e]));var n=this.buttons[e];this.buttons[e]=n,n.addEventListener("click",t),n.innerText=e},pj.DebugBox.prototype.show=function(e,t){this.canvas[e]||(this.canvas[e]=document.createElement("canvas"),this.div.appendChild(this.canvas[e]));var n=this.canvas[e];n.getContext("2d").clearRect(0,0,n.width,n.height),t(n)};const mj=pj;function gj(e,t,n){if(e.length!==t.length||e[0].length!==t[0].length)throw new Error("Matrix dimensions must agree.");const s=e.length,i=e[0].length,r=new Array(s);for(let a=0;a<s;a++){r[a]=new Array(i);for(let s=0;s<i;s++)r[a][s]=n(e[a][s],t[a][s])}return r}const yj={transpose(e){const t=e.length,n=e[0].length,s=new Array(n);for(let i=0;i<n;i++){s[i]=new Array(t);for(let n=0;n<t;n++)s[i][n]=e[n][i]}return s},getMatrix(e,t,n,s){const i=new Array(t.length),r=s-n+1;for(let a=0,o=t.length;a<o;a++){i[a]=new Array(r);for(let r=n;r<=s;r++)i[a][r-n]=e[t[a]][r]}return i},getSubMatrix(e,t,n,s,i){const r=i-s+1,a=new Array(n-t+1);for(let o=t;o<=n;o++){const n=o-t;a[n]=new Array(r);for(let t=s;t<=i;t++)a[n][t-s]=e[o][t]}return a},mult(e,t){t.length,e[0].length;for(var n=new Array(e.length),s=new Array(e[0].length),i=0;i<t[0].length;i++){for(var r=0;r<e[0].length;r++)s[r]=t[r][i];for(var a=0;a<e.length;a++){0===i&&(n[a]=new Array(t[0].length));var o=e[a],l=0;for(r=0;r<e[0].length;r++)l+=o[r]*s[r];n[a][i]=l}}return n},multScalar(e,t){const n=e.length,s=e[0].length,i=new Array(n);for(let r=0;r<n;r++){i[r]=new Array(s);for(let n=0;n<s;n++)i[r][n]=e[r][n]*t}return i},add:(e,t)=>gj(e,t,((e,t)=>e+t)),sub:(e,t)=>gj(e,t,((e,t)=>e-t)),inv:e=>yj.solve(e,yj.identity(e.length,e[0].length)),identity(e,t=e){const n=new Array(e);for(let s=0;s<e;s++){n[s]=new Array(t);for(let e=0;e<t;e++)n[s][e]=s===e?1:0}return n},solve:(e,t)=>e.length===e[0].length?yj.LUDecomposition(e,t):yj.QRDecomposition(e,t),LUDecomposition(e,t){for(var n=new Array(e.length),s=0;s<e.length;s++){n[s]=new Array(e[0].length);for(var i=0;i<e[0].length;i++)n[s][i]=e[s][i]}var r=e.length,a=e[0].length,o=new Array(r);for(s=0;s<r;s++)o[s]=s;var l=1,c=new Array,u=new Array(r);for(i=0;i<a;i++){for(s=0;s<r;s++)u[s]=n[s][i];for(s=0;s<r;s++){c=n[s];for(var h=Math.min(s,i),d=0,p=0;p<h;p++)d+=c[p]*u[p];c[i]=u[s]-=d}var f=i;for(s=i+1;s<r;s++)Math.abs(u[s])>Math.abs(u[f])&&(f=s);if(f!=i){for(p=0;p<a;p++){var m=n[f][p];n[f][p]=n[i][p],n[i][p]=m}p=o[f];o[f]=o[i],o[i]=p,l=-l}if(i<r&0!=n[i][i])for(s=i+1;s<r;s++)n[s][i]/=n[i][i]}t.length;for(i=0;i<a;i++)n[i][i];var g=t[0].length,y=yj.getMatrix(t,o,0,g-1);for(p=0;p<a;p++)for(s=p+1;s<a;s++)for(i=0;i<g;i++)y[s][i]-=y[p][i]*n[s][p];for(p=a-1;p>=0;p--){for(i=0;i<g;i++)y[p][i]/=n[p][p];for(s=0;s<p;s++)for(i=0;i<g;i++)y[s][i]-=y[p][i]*n[s][p]}return y},QRDecomposition(e,t){for(var n=new Array(e.length),s=0;s<e.length;s++){n[s]=new Array(e[0].length);for(var i=0;i<e[0].length;i++)n[s][i]=e[s][i]}for(var r,a=e.length,o=e[0].length,l=new Array(o),c=0;c<o;c++){r=0;for(s=c;s<a;s++)r=Math.hypot(r,n[s][c]);if(0!=r){n[c][c]<0&&(r=-r);for(s=c;s<a;s++)n[s][c]/=r;n[c][c]+=1;for(i=c+1;i<o;i++){var u=0;for(s=c;s<a;s++)u+=n[s][c]*n[s][i];u=-u/n[c][c];for(s=c;s<a;s++)n[s][i]+=u*n[s][c]}}l[c]=-r}t.length;for(i=0;i<o;i++)l[i];var h=t[0].length,d=new Array(t.length);for(s=0;s<t.length;s++)d[s]=new Array(t[0].length);for(s=0;s<t.length;s++)for(i=0;i<t[0].length;i++)d[s][i]=t[s][i];for(c=0;c<o;c++)for(i=0;i<h;i++){for(u=0,s=c;s<a;s++)u+=n[s][c]*d[s][i];u=-u/n[c][c];for(s=c;s<a;s++)d[s][i]+=u*n[s][c]}for(c=o-1;c>=0;c--){for(i=0;i<h;i++)d[c][i]/=l[c];for(s=0;s<c;s++)for(i=0;i<h;i++)d[s][i]-=d[c][i]*n[s][c]}return yj.getSubMatrix(d,0,o-1,0,h-1)}},Aj=yj,wj={InitRegression:function(){var e=700;this.ridgeParameter=Math.pow(10,-5),this.errorXArray=new mj.DataWindow(e),this.errorYArray=new mj.DataWindow(e),this.screenXClicksArray=new mj.DataWindow(e),this.screenYClicksArray=new mj.DataWindow(e),this.eyeFeaturesClicks=new mj.DataWindow(e),this.trailTime=1e3,this.trailDataWindow=this.trailTime/BG.moveTickSize,this.screenXTrailArray=new mj.DataWindow(10),this.screenYTrailArray=new mj.DataWindow(10),this.eyeFeaturesTrail=new mj.DataWindow(10),this.trailTimes=new mj.DataWindow(10),this.dataClicks=new mj.DataWindow(e),this.dataTrail=new mj.DataWindow(10);var t=[[1/4,0,.5,0],[0,1/4,0,.5],[.5,0,1,0],[0,.5,0,1]];t=Aj.multScalar(t,.1);var n=Aj.multScalar(Aj.identity(2),47),s=Aj.multScalar(Aj.identity(4),1e-4);this.kalman=new wj.KalmanFilter([[1,0,1,0],[0,1,0,1],[0,0,1,0],[0,0,0,1]],[[1,0,0,0],[0,1,0,0]],t,n,s,[[500],[500],[0],[0]])},KalmanFilter:function(e,t,n,s,i,r){this.F=e,this.Q=n,this.H=t,this.R=s,this.P=i,this.X=r}};wj.KalmanFilter.prototype.update=function(e){for(var{add:t,sub:n,mult:s,inv:i,identity:r,transpose:a}=Aj,o=s(this.F,this.X),l=t(s(s(this.F,this.P),a(this.F)),this.Q),c=n(e=a([e]),s(this.H,o)),u=t(s(s(this.H,l),a(this.H)),this.R),h=s(l,s(a(this.H),i(u))),d=0;d<c.length;d++)c[d]=[c[d]];return this.X=t(o,s(h,c)),this.P=s(n(r(h.length),s(h,this.H)),l),a(s(this.H,this.X))[0]},wj.ridge=function(e,t,n){var s=t[0].length,i=new Array(s),r=Aj.transpose(t),a=new Array,o=!0;do{for(var l=Aj.mult(r,t),c=0;c<s;c++)l[c][c]=l[c][c]+n;var u=Aj.mult(r,e);for(c=0;c<s;c++)i[c]=u[c][0];try{0!==i.length&&(i.length,i.length);i.length,i.length,a=Aj.solve(l,u);for(c=0;c<s;c++)i[c]=a[c];o=!0}catch(e){n*=10,o=!1}}while(!o);return i},wj.setData=function(e){for(var t=0;t<e.length;t++){var n=new Uint8ClampedArray(e[t].eyes.left.patch.data),s=new Uint8ClampedArray(e[t].eyes.right.patch.data);e[t].eyes.left.patch=new ImageData(n,e[t].eyes.left.width,e[t].eyes.left.height),e[t].eyes.right.patch=new ImageData(s,e[t].eyes.right.width,e[t].eyes.right.height),this.addData(e[t].eyes,e[t].screenPos,e[t].type)}},wj.getCurrentFixationIndex=function(){for(var e=this.screenXTrailArray.get(0),t=this.screenYTrailArray.get(0),n=this.screenXTrailArray.length-1;n>=0;n--){var s=this.screenXTrailArray.get(n),i=this.screenYTrailArray.get(n);if(Math.sqrt(Math.pow(s-e,2)+Math.pow(i-t,2))>72)return n+1}return n},wj.addData=function(e,t,n){e&&("click"===n?(this.screenXClicksArray.push([t[0]]),this.screenYClicksArray.push([t[1]]),this.eyeFeaturesClicks.push(mj.getEyeFeats(e)),this.dataClicks.push({eyes:e,screenPos:t,type:n})):"move"===n&&(this.screenXTrailArray.push([t[0]]),this.screenYTrailArray.push([t[1]]),this.eyeFeaturesTrail.push(mj.getEyeFeats(e)),this.trailTimes.push(performance.now()),this.dataTrail.push({eyes:e,screenPos:t,type:n})))};const bj=wj,vj={RidgeReg:function(){this.init()}};vj.RidgeReg.prototype.init=bj.InitRegression,vj.RidgeReg.prototype.addData=bj.addData,vj.RidgeReg.prototype.predict=function(e){if(!e||0===this.eyeFeaturesClicks.length)return null;for(var t=performance.now()-this.trailTime,n=[],s=[],i=[],r=0;r<this.trailDataWindow;r++)this.trailTimes.get(r)>t&&(n.push(this.screenXTrailArray.get(r)),s.push(this.screenYTrailArray.get(r)),i.push(this.eyeFeaturesTrail.get(r)));var a=this.screenXClicksArray.data.concat(n),o=this.screenYClicksArray.data.concat(s),l=this.eyeFeaturesClicks.data.concat(i),c=bj.ridge(a,l,this.ridgeParameter),u=bj.ridge(o,l,this.ridgeParameter),h=mj.getEyeFeats(e),d=0;for(r=0;r<h.length;r++)d+=h[r]*c[r];var p=0;for(r=0;r<h.length;r++)p+=h[r]*u[r];if(d=Math.floor(d),p=Math.floor(p),BG.applyKalmanFilter){var f=[d,p];return{x:(f=this.kalman.update(f))[0],y:f[1]}}return{x:d,y:p}},vj.RidgeReg.prototype.setData=bj.setData,vj.RidgeReg.prototype.getData=function(){return this.dataClicks.data},vj.RidgeReg.prototype.name="ridge";const xj=vj,Cj={RidgeWeightedReg:function(){this.init()}};Cj.RidgeWeightedReg.prototype.init=bj.InitRegression,Cj.RidgeWeightedReg.prototype.addData=bj.addData,Cj.RidgeWeightedReg.prototype.predict=function(e){if(!e||0===this.eyeFeaturesClicks.length)return null;for(var t=performance.now()-this.trailTime,n=[],s=[],i=[],r=0;r<this.trailDataWindow;r++)this.trailTimes.get(r)>t&&(n.push(this.screenXTrailArray.get(r)),s.push(this.screenYTrailArray.get(r)),i.push(this.eyeFeaturesTrail.get(r)));var a=this.eyeFeaturesClicks.data.length,o=Array(a),l=Array(a),c=Array(a);for(r=0;r<a;r++){for(var u=Math.sqrt(1/(a-r)),h=this.eyeFeaturesClicks.getTrueIndex(r),d=0;d<this.eyeFeaturesClicks.data[h].length;d++){var p=this.eyeFeaturesClicks.data[h][d]*u;void 0!==o[h]?o[h].push(p):o[h]=[p]}l[r]=this.screenXClicksArray.get(r).slice(0,this.screenXClicksArray.get(r).length),c[r]=this.screenYClicksArray.get(r).slice(0,this.screenYClicksArray.get(r).length),l[r][0]=l[r][0]*u,c[r][0]=c[r][0]*u}var f=l.concat(n),m=c.concat(s),g=o.concat(i),y=bj.ridge(f,g,this.ridgeParameter),A=bj.ridge(m,g,this.ridgeParameter),w=mj.getEyeFeats(e),b=0;for(r=0;r<w.length;r++)b+=w[r]*y[r];var v=0;for(r=0;r<w.length;r++)v+=w[r]*A[r];if(b=Math.floor(b),v=Math.floor(v),BG.applyKalmanFilter){var x=[b,v];return{x:(x=this.kalman.update(x))[0],y:x[1]}}return{x:b,y:v}},Cj.RidgeWeightedReg.prototype.setData=bj.setData,Cj.RidgeWeightedReg.prototype.getData=function(){return this.dataClicks.data},Cj.RidgeWeightedReg.prototype.name="ridgeWeighted";const kj=Cj,Ej={};Math.pow(10,-5);var Sj=700,Ij={X:[0],Y:[0]};Ej.RidgeRegThreaded=function(){this.init()},Ej.RidgeRegThreaded.prototype.init=function(){this.screenXClicksArray=new mj.DataWindow(Sj),this.screenYClicksArray=new mj.DataWindow(Sj),this.eyeFeaturesClicks=new mj.DataWindow(Sj),this.screenXTrailArray=new mj.DataWindow(10),this.screenYTrailArray=new mj.DataWindow(10),this.eyeFeaturesTrail=new mj.DataWindow(10),this.dataClicks=new mj.DataWindow(Sj),this.dataTrail=new mj.DataWindow(Sj),this.worker||(this.worker=new Worker("ridgeWorker.mjs"),this.worker.onerror=function(e){},this.worker.onmessage=function(e){Ij.X=e.data.X,Ij.Y=e.data.Y});var e=[[1/4,0,.5,0],[0,1/4,0,.5],[.5,0,1,0],[0,.5,0,1]];e=Aj.multScalar(e,.1);var t=Aj.multScalar(Aj.identity(2),47),n=Aj.multScalar(Aj.identity(4),1e-4);this.kalman=new bj.KalmanFilter([[1,0,1,0],[0,1,0,1],[0,0,1,0],[0,0,0,1]],[[1,0,0,0],[0,1,0,0]],e,t,n,[[500],[500],[0],[0]])},Ej.RidgeRegThreaded.prototype.addData=function(e,t,n){e&&this.worker.postMessage({eyes:mj.getEyeFeats(e),screenPos:t,type:n})},Ej.RidgeRegThreaded.prototype.predict=function(e){if(!e)return null;for(var t=Ij.X,n=Ij.Y,s=mj.getEyeFeats(e),i=0,r=0,a=0;a<s.length;a++)i+=s[a]*t[a],r+=s[a]*n[a];if(i=Math.floor(i),r=Math.floor(r),BG.applyKalmanFilter){var o=[i,r];return{x:(o=this.kalman.update(o))[0],y:o[1]}}return{x:i,y:r}},Ej.RidgeRegThreaded.prototype.setData=bj.setData,Ej.RidgeRegThreaded.prototype.getData=function(){return this.dataClicks.data},Ej.RidgeRegThreaded.prototype.name="ridge";const Tj=Ej;function _j(e){return new Promise((t=>setTimeout(t,e)))}function Nj(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}const Dj={tracker:{}};Dj.tracker.TFFaceMesh=dj,Dj.reg=xj,Dj.reg.RidgeWeightedReg=kj.RidgeWeightedReg,Dj.reg.RidgeRegThreaded=Tj.RidgeRegThreaded,Dj.util=mj,Dj.params=BG,Dj.videoParamsToReport={height:0,width:0};var Mj=null,Bj=null,Rj=null,Fj=null,Oj=null,Lj=null,zj=null,Vj=!1,Pj=new Array(50),Wj=new Array(50),Gj=(performance.now(),null),Uj=null;const jj=1e3/30;let qj=0;Dj.params.paused=!1,Dj.params.greedyLearner=!1,Dj.params.framerate=30,Dj.params.showGazeDot=!1,Dj.params.getLatestVideoFrameTimestamp=()=>{},Dj.params.activeCamera={label:"",id:""};let Hj=[];var Yj=function(e){},Kj=Yj,Zj=["click","move"],Qj=performance.now(),Xj=new Dj.tracker.TFFaceMesh,$j=[new Dj.reg.RidgeReg],Jj={TFFacemesh:function(){return new Dj.tracker.TFFaceMesh},TFFacemesh_unrefined_landmarks:function(){return new Dj.tracker.TFFaceMesh(!1)}},eq={ridge:function(){return new Dj.reg.RidgeReg},weightedRidge:function(){return new Dj.reg.RidgeWeightedReg},threadedRidge:function(){return new Dj.reg.RidgeRegThreaded}},tq="webgazerGlobalData",nq="webgazerGlobalSettings",sq={},iq=[];let rq,aq,oq,lq,cq,uq,hq,dq,pq,fq,mq,gq;Dj.computeValidationBoxSize=function(){var e=Rj.videoWidth,t=Rj.videoHeight,n=parseInt(Math.min(Rj.offsetWidth,Bj.offsetWidth)),s=parseInt(Bj.offsetHeight);if(!n||!s){const e=parseInt(Bj.style.width),t=parseInt(Bj.style.height);n=e||Dj.params.videoViewerWidth,s=t||Dj.params.videoViewerHeight}var i=Math.min(e,t),r=e==Math.max(e,t)?n/e:s/t,a=i*Dj.params.faceFeedbackBoxRatio*r;return[(s-a)/2,(n-a)/2,a,a]};let yq=!1,Aq=!1;function wq(){null!==Lj&&Gj?(yq||Aq||(Aq=!0,setTimeout((()=>{rq=Rj.videoWidth,aq=Rj.videoHeight,oq=Math.min(rq,aq),lq=oq*Dj.params.faceFeedbackBoxRatio,cq=(aq-lq)/2,uq=(rq-lq)/2,hq=uq+lq,dq=cq+lq,yq=!0,Aq=!1}),500)),pq=rq-Gj.left.imagex,mq=rq-Gj.right.imagex,fq=Gj.left.imagey,gq=Gj.right.imagey,Lj.style.border=yq&&pq>uq&&pq<hq&&mq>uq&&mq<hq&&fq>cq&&fq<dq&&gq>cq&&gq<dq?"solid gray 2px":"solid red 4px"):Lj.style.border=Gj?"solid red 4px":"solid gray 2px"}function bq(e,t,n){if(e)try{return Xj.getEyePatches(Rj,e,t,n)}catch(e){return null}}function vq(e,t,n){e.width!==t&&(e.width=t),e.height!==n&&(e.height=n),e.getContext("2d").drawImage(Rj,0,0,e.width,e.height)}async function xq(e,t=Gj){var n=[];if(0===$j.length)return null;for(var s in $j)n.push($j[s].predict(t));return void 0!==e?null===n[e]?null:{x:n[e].x,y:n[e].y,eyeFeatures:t}:0===n.length||null===n[0]?null:{x:n[0].x,y:n[0].y,eyeFeatures:t,all:n}}var Cq=new mj.DataWindow(4),kq=0;let Eq=null,Sq=-1,Iq=!0;async function Tq(){return Gj=await bq(Fj,Fj.width,Fj.height)}async function _q(e){if(Eq=window.performance.now(),e-qj>=jj){if(Dj.params.videoIsOn&&(Iq&&(Iq=!1,Dj.params.getLatestVideoFrameTimestamp(performance.now())),await async function(e=!1){if(vq(Fj,Fj.width,Fj.height),Dj.params.paused&&!e||(Gj=await bq(Fj,Fj.width,Fj.height)),Dj.params.showFaceOverlay){var t=Dj.getTracker();Oj.getContext("2d").clearRect(0,0,Rj.videoWidth,Rj.videoHeight),t.drawFaceOverlay(Oj.getContext("2d"),t.getPositions())}Dj.params.showFaceFeedbackBox&&wq()}()),Dj.params.paused)zj&&!Vj&&(zj.style.opacity="0");else if(Eq-Sq>=1e3/Dj.params.framerate&&(Sq=Eq,Uj=xq(),Uj=await Uj,Kj(Uj),Iq=!0,Uj)){Cq.push(Uj);var t=0,n=0,s=Cq.length;for(var i in Cq.data)t+=Cq.get(i).x,n+=Cq.get(i).y;var r=mj.bound({x:t/s,y:n/s});Dj.params.storingPoints&&(Dj.storePoints(r.x,r.y,kq),50==++kq&&(kq=0)),zj.style.opacity="",zj.style.left=`${r.x}px`,zj.style.top=`${r.y}px`}qj=e}requestAnimationFrame(_q)}var Nq=function(e,t,n){if(!Dj.params.paused){if(0===$j.length)return null;for(var s in $j)Gj&&$j[s].addData(Gj,[e,t],n)}},Dq=async function(e){Nq(e.clientX,e.clientY,Zj[0]),Dj.params.saveDataAcrossSessions&&await async function(){var e=$j[0].getData()||iq;FG().setItem(nq,sq),FG().setItem(tq,e)}()},Mq=function(e){if(!Dj.params.paused){var t=performance.now();t<Qj+Dj.params.moveTickSize||(Qj=t,Nq(e.clientX,e.clientY,Zj[1]))}},Bq=function(e={}){(e=Object.assign({click:!0,move:!0},e)).click&&document.addEventListener("click",Dq,!0),e.move&&document.addEventListener("mousemove",Mq,!0)},Rq=function(e={}){(e=Object.assign({click:!0,move:!0},e)).click&&document.removeEventListener("click",Dq,!0),e.move&&document.removeEventListener("mousemove",Mq,!0)};async function Fq(e="all",t){if(!Dj.params.videoIsOn){function n(e){Vq(Rj.videoWidth,Rj.videoHeight),Dj.setVideoViewerSize(Dj.params.videoViewerWidth,Dj.params.videoViewerHeight),Bj.appendChild(Fj),Dj.videoCanvas=Fj,Bj.appendChild(Oj),Bj.appendChild(Lj),e.target.removeEventListener(e.type,n)}Mj=t,(Bj=document.createElement("div")).id=Dj.params.videoContainerId,Bj.style.display="block",Bj.style.opacity=Dj.params.showVideo?.8:0,Bj.style.left="10px",Bj.style.bottom="10px",Bj.style.width=Dj.params.videoViewerWidth+"px",Bj.style.height=Dj.params.videoViewerHeight+"px",(Rj=document.createElement("video")).setAttribute("playsinline",""),Rj.id=Dj.params.videoElementId,Rj.srcObject=t,Rj.autoplay=!0,Rj.style.display="block",Rj.style.position="absolute",Rj.style.width=Dj.params.videoViewerWidth+"px",Rj.style.height=Dj.params.videoViewerHeight+"px",Rj.addEventListener("loadedmetadata",(function(){Rj.videoWidth<Rj.videoHeight&&(Rj.style.transform=Rj.style.transform+" rotate(90deg)",Bj.style.width=Dj.params.videoViewerHeight+"px",Bj.style.height=Dj.params.videoViewerWidth+"px")})),(Fj=document.createElement("canvas")).id=Dj.params.videoElementCanvasId,Fj.style.display="block",Fj.style.opacity=0,(Oj=document.createElement("canvas")).id=Dj.params.faceOverlayId,Oj.style.display=Dj.params.showFaceOverlay?"block":"none",Oj.style.position="absolute",Dj.params.mirrorVideo&&(Rj.style.setProperty("-moz-transform","scale(-1, 1)"),Rj.style.setProperty("-webkit-transform","scale(-1, 1)"),Rj.style.setProperty("-o-transform","scale(-1, 1)"),Rj.style.setProperty("transform","scale(-1, 1)"),Rj.style.setProperty("filter","FlipH"),Oj.style.setProperty("-moz-transform","scale(-1, 1)"),Oj.style.setProperty("-webkit-transform","scale(-1, 1)"),Oj.style.setProperty("-o-transform","scale(-1, 1)"),Oj.style.setProperty("transform","scale(-1, 1)"),Oj.style.setProperty("filter","FlipH")),(Lj=document.createElement("canvas")).id=Dj.params.faceFeedbackBoxId,Lj.style.display=Dj.params.showFaceFeedbackBox?"block":"none",Lj.style.border="solid red 4px",Lj.style.position="absolute",Bj.appendChild(Rj),document.body.appendChild(Bj),Rj.addEventListener("timeupdate",n)}"video"!=e&&((zj=document.createElement("div")).id=Dj.params.gazeDotId,zj.style.display=Dj.params.showGazeDot?"block":"none",zj.style.width="10px",zj.style.height="10px",zj.style.left="-10px",zj.style.top="-10px",zj.style.transform="translate(-5px, -5px)",document.body.appendChild(zj),Bq(),Dj.params.paused=!1,performance.now()),await Xj.loadModel(),await _q()}Dj.begin=function(e){return Dj._begin(!1,e)},Dj.beginVideo=function(e){Dj._begin(!0,e)};const Oq=e=>{if(!Dj.params.activeCamera.id)return e;return{video:{...e.video,deviceId:Dj.params.activeCamera.id,aspectRatio:{min:1.33,ideal:1.78,max:2.33},width:{min:640,ideal:1920,max:7680},height:{min:360,ideal:1080,max:4320}}}};function Lq(e){navigator.vendor&&navigator.vendor.indexOf("Apple")>-1?(e.style.opacity=Dj.params.showVideo?"1":"0",e.style.display="block"):e.style.display=Dj.params.showVideo?"block":"none"}Dj._begin=function(e,t){if(!Dj.params.videoIsOn)return void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(n,s){t.call(navigator,e,n,s)})):Promise.reject(new Error("Unfortunately, your browser does not support access to the webcam through the getUserMedia API. Try to use the latest version of Google Chrome, Mozilla Firefox, Opera, or Microsoft Edge instead."))}),new Promise((async(n,s)=>{let i;try{if(void 0!==navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.enumerateDevices){const s=await navigator.mediaDevices.enumerateDevices();if((e=>{let t,n;Hj=[];let s=[];e.forEach((e=>{"videoinput"===e.kind&&(Hj.push(e),e.label.includes("FaceTime")?(t=e.label,n=e.deviceId):e.label.includes("iPhone")||s.push(e))})),Hj.length&&(t&&n?(Dj.params.activeCamera.label=t,Dj.params.activeCamera.id=n):s.length>0?(Dj.params.activeCamera.label=s[0].label,Dj.params.activeCamera.id=s[0].deviceId):(Dj.params.activeCamera.label=Hj[0].label,Dj.params.activeCamera.id=Hj[0].deviceId))})(s),0===Hj.length)throw t(Hj),JSON.stringify({message:"We can't find any video input devices.",devices:s});try{i=await navigator.mediaDevices.getUserMedia(Oq(Dj.params.camConstraints));const e=i.getVideoTracks()[0],{height:t,width:n}=e.getSettings();if(n<t)try{await e.applyConstraints({width:{min:640,ideal:1920,max:7680},height:{min:360,ideal:1080,max:4320},aspectRatio:{min:1.33,ideal:1.78,max:2.33}});const t=e.getSettings();Dj.videoParamsToReport={height:t.height,width:t.width}}catch(e){Dj.videoParamsToReport={height:t,width:n}}else Dj.videoParamsToReport={height:t,width:n}}catch(e){throw t(Hj),e}Fq(e?"video":"all",i).then((()=>{})),Dj.params.videoIsOn=!0,e||n(Dj)}else t([])}catch(e){throw Rj=null,i=null,t([]),s(e),JSON.stringify({error:e,devices:await navigator.mediaDevices.enumerateDevices()})}}));Fq("gaze")},Dj.isReady=function(){return null!==Fj&&Fj.width>0},Dj.pause=function(){return Dj.params.paused=!0,Dj},Dj.stopLearning=function(e){return Rq(e),Dj},Dj.startLearning=function(e){return Bq(e),Dj},Dj.resume=async function(){return Dj.params.paused?(Dj.params.paused=!1,Iq=!0,zq.current&&(clearInterval(zq.current),zq.current=void 0,Vj=!1,zj.style.backgroundColor="",zj.style.opacity=""),await _q(),Dj):Dj},Dj.end=function(e=!1){return e&&(Cq=new mj.DataWindow(4),kq=0,Eq=null,Sq=-1,yq=!1,Dj.params.videoIsOn=!1,setTimeout((()=>{Dj.stopVideo(),Bj.remove()}),500)),Dj},Dj.stopVideo=function(){return Mj.getTracks()[0].stop(),Dj},Dj.detectCompatibility=function(){return void 0!==(navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia)},Dj.showVideoPreview=function(e){return Dj.params.showVideoPreview=e,Dj.showVideo(e&&Dj.params.showVideo),Dj.showFaceOverlay(e&&Dj.params.showFaceOverlay),Dj.showFaceFeedbackBox(e&&Dj.params.showFaceFeedbackBox),Dj},Dj.showVideo=function(e,t=.8){return Dj.params.showVideo=e,Rj&&Lq(Rj),Bj&&Lq(Bj),Dj},Dj.showFaceOverlay=function(e){return Dj.params.showFaceOverlay=e,Oj&&(Oj.style.display=e?"block":"none"),Dj},Dj.showFaceFeedbackBox=function(e){return Dj.params.showFaceFeedbackBox=e,Lj&&(Lj.style.display=e?"block":"none"),Dj},Dj.showPredictionPoints=function(e){return Dj.params.showGazeDot=e,zj&&(zj.style.display=e?"block":"none"),Dj};const zq={current:void 0};function Vq(e,t){Fj&&(Fj.width=e,Fj.height=t),Oj&&(Oj.width=e,Oj.height=t)}Dj.popPredictionPoints=function(){return zq.current&&(clearInterval(zq.current),zq.current=void 0,Vj=!1),zj&&Dj.params.showGazeDot&&(Vj=!0,zj.style.backgroundColor="red",zj.style.opacity=1,zq.current=setInterval((()=>{zj.style.opacity-=.02,zj.style.opacity<=.02&&(clearInterval(zq.current),zq.current=void 0,Vj=!1,zj.style.backgroundColor="",zj.style.opacity="")}),50)),Dj},Dj.saveDataAcrossSessions=function(e){return Dj.params.saveDataAcrossSessions=e,Dj},Dj.applyKalmanFilter=function(e){return Dj.params.applyKalmanFilter=e,Dj},Dj.setCameraConstraints=async function(e){const t={...e,video:{...e.video,aspectRatio:{min:1.33,ideal:1.78,max:2.33},width:{min:640,ideal:1920,max:7680},height:{min:360,ideal:1080,max:4320}}};if(Dj.params.camConstraints=t,Mj){Dj.pause();try{Mj.getVideoTracks().forEach((e=>{e.stop()}));const e=await navigator.mediaDevices.getUserMedia(Dj.params.camConstraints);setTimeout((()=>{const t=e.getVideoTracks()[0],n=t.getSettings();if(n.width<n.height)try{t.applyConstraints({width:{min:640,ideal:1920,max:7680},height:{min:360,ideal:1080,max:4320},aspectRatio:{min:1.33,ideal:1.78,max:2.33}})}catch(e){}Mj=e,Rj.srcObject=e,Vq(n.width,n.height),Dj.videoParamsToReport={height:n.height,width:n.width}}),1500)}catch(e){return}await Dj.resume()}},Dj.setStaticVideo=function(e){return Dj},Dj.setVideoViewerSize=function(e,t){Dj.params.videoViewerWidth=e,Dj.params.videoViewerHeight=t,Rj.style.width="100%",Rj.style.height="100%",Rj.style.objectFit="cover",Bj.style.width=e+"px",Bj.style.height=t+"px",Oj.style.width=e+"px",Oj.style.height=t+"px";var n=Dj.computeValidationBoxSize();Lj.style.top=n[0]+"px",Lj.style.left=n[1]+"px",Lj.style.width=n[2]+"px",Lj.style.height=n[3]+"px"},Dj.addMouseEventListeners=function(){return Bq(),Dj},Dj.removeMouseEventListeners=function(){return Rq(),Dj},Dj.recordScreenPosition=function(e,t,n){return Nq(e,t,n||Zj[0]),Dj},Dj.storePoints=function(e,t,n){Pj[n]=e,Wj[n]=t},Dj.setTracker=async function(e){if(void 0===Jj[e]){for(var t in Jj);return Dj}return Xj=Jj[e](),await Xj.loadModel(),Dj},Dj.setRegression=function(e){if(void 0===eq[e]){for(var t in eq);return Dj}return iq=$j[0].getData(),($j=[eq[e]()])[0].setData(iq),Dj},Dj.addTrackerModule=function(e,t){Jj[e]=function(){return new t}},Dj.addRegressionModule=function(e,t){eq[e]=function(){return new t}},Dj.addRegression=function(e){var t=eq[e]();return iq=$j[0].getData(),t.setData(iq),$j.push(t),Dj},Dj.setGazeListener=function(e){return Kj=e,Dj},Dj.clearGazeListener=function(){return Kj=Yj,Dj},Dj.setVideoElementCanvas=function(e){return Fj=e},Dj.clearData=async function(){!function(){for(var e in FG().clear(),$j)$j[e].init()}()},Dj.getTracker=function(){return Xj},Dj.getRegression=function(){return $j},Dj.getCurrentPrediction=async function(e=0,t=150,n=5){let s=0;const i=[],r=[];for(let e=0;e<n;e++)s+=performance.now(),vq(Fj,Fj.width,Fj.height),i.push(await Tq()),await _j(1e3/Dj.params.framerate);let a;Dj.params.getLatestVideoFrameTimestamp(Math.round(s/n)),await _j(t);for(const e of i){for(let t=0;t<2;t++)a=await xq(void 0,e);r.push(a)}const o=Math.round(r.reduce(((e,t)=>t.x>=0&&t.x<=window.innerWidth?e+t.x:e),0)/r.length),l=Math.round(r.reduce(((e,t)=>t.y>=0&&t.y<=window.innerHeight?e+t.y:e),0)/r.length);return zj&&(zj.style.left=`${o}px`,zj.style.top=`${l}px`),{x:o,y:l,raw:r.map((e=>({x:Nj(e.x,0),y:Nj(e.y,0)})))}},Dj.params.getEventTypes=function(){return Zj.slice()},Dj.getVideoElementCanvas=function(){return Fj},Dj.getVideoPreviewToCameraResolutionRatio=function(){return[Dj.params.videoViewerWidth/Rj.videoWidth,Dj.params.videoViewerHeight/Rj.videoHeight]},Dj.getStoredPoints=function(){return[Pj,Wj]};const Pq=Dj;class Wq{constructor(e){this.calibrator=e,this.webgazer=Pq,this.defaultGazeCallback=null,this.defaultDistanceTrackCallback=null,this._initialized={distance:!1,gaze:!1},this._learning=!0,this._running={distance:!1,gaze:!1},this._runningVideo=!1,this._toFixedN=1}begin({pipWidthPx:e},t){this.checkInitialized("gaze",!0)&&(this._running.gaze||(this.webgazer.begin(this.videoFailed.bind(this)),this._running.gaze=!0,this._runningVideo=!0),J(this.calibrator,e,this.calibrator.params.videoOpacity,this.webgazer,t))}beginVideo({pipWidthPx:e},t){this.checkInitialized("distance",!0)&&(this._runningVideo||(this.webgazer.beginVideo(this.videoFailed.bind(this)),this._runningVideo=!0),J(this.calibrator,e,this.calibrator.params.videoOpacity,this.webgazer,t))}videoFailed(e){const t=ne(this.calibrator,{showIcon:!0});$.A.fire({...t,icon:"error",iconColor:this.calibrator._CONST.COLOR.DARK_RED,showConfirmButton:!1,html:e.length?G.H.RC_errorCameraUseDenied[this.calibrator.L]:G.H.RC_errorNoCamera[this.calibrator.L]})}attachNewCallback(e){this.checkInitialized("gaze",!0)&&this.webgazer.setGazeListener((t=>{if(t){const n=this.getData(t);this.calibrator.newGazePositionData=n,(0,I.nB)(e,n)}}))}async getGazeNow(e={},t=void 0){const n=Object.assign({wait:0,frames:5},e),s=this.getData(await this.webgazer.getCurrentPrediction(0,n.wait,n.frames));return this.calibrator.newGazePositionData=s,this.webgazer.popPredictionPoints(),(0,I.nB)(t,s),s}end(){this.webgazer.end()}}Wq.prototype._init=function({greedyLearner:e,framerate:t,toFixedN:n,showVideo:s,showFaceOverlay:i,showGazer:r},a){this.checkInitialized(a)||("gaze"===a&&(this.webgazer.params.greedyLearner=e,this.webgazer.params.framerate=t,this.webgazer.params.getLatestVideoFrameTimestamp=this._getLatestVideoTimestamp.bind(this),this.showGazer(r)),this._toFixedN=n,this.showVideo(s),this.showFaceOverlay(i),this._initialized[a]=!0)},Wq.prototype.checkInitialized=function(e,t=!1){return!!(""===e?this._initialized.gaze||this._initialized.distance:this._initialized[e])},Wq.prototype.getData=function(e){const t=performance.now();return{value:{x:(0,I.Nh)(e.x,this._toFixedN),y:(0,I.Nh)(e.y,this._toFixedN),latencyMs:t-this.calibrator._trackingVideoFrameTimestamps.gaze},timestamp:t,raw:e.raw?e.raw:void 0}},Wq.prototype.pause=function(){this.webgazer.pause()},Wq.prototype.resume=function(){this.webgazer.resume()},Wq.prototype.end=function(e,t=!1){if(!this.checkInitialized(e,!0))return;const n=t||!this._initialized.gaze||!this._initialized.distance;"gaze"===e?(this._endGaze(),n&&this.checkInitialized("distance")&&this.calibrator.endDistance(!1,!1),this.calibrator._trackingVideoFrameTimestamps.gaze=0):(this.defaultDistanceTrackCallback=null,n&&this.checkInitialized("gaze")&&this._endGaze()),n?(this._initialized={distance:!1,gaze:!1},this._running={distance:!1,gaze:!1},this.webgazer.end(!0),this._runningVideo=!1):(this._initialized[e]=!1,this._running[e]=!1)},Wq.prototype._endGaze=function(){this.webgazer.params.paused=!0,this._learning=!0,this.defaultGazeCallback=null,this.webgazer.clearData(),this.webgazer.params.greedyLearner=!1,this.webgazer.params.framerate=60,this.webgazer.params.getLatestVideoFrameTimestamp=()=>{}},Wq.prototype._getLatestVideoTimestamp=function(e){this.calibrator._trackingVideoFrameTimestamps.gaze=e},Wq.prototype.startStoringPoints=function(){this.webgazer.params.storingPoints=!0},Wq.prototype.stopStoringPoints=function(){this.webgazer.params.storingPoints=!1},Wq.prototype.startLearning=function(e){this._learning||(this.webgazer.startLearning(e),this._learning=!0)},Wq.prototype.stopLearning=function(e){this._learning&&(this.webgazer.stopLearning(e),this._learning=!1)},Wq.prototype.showGazer=function(e){this.webgazer.showPredictionPoints(e)},Wq.prototype.showVideo=function(e){this.webgazer.showVideo(e,this.calibrator._params.videoOpacity)},Wq.prototype.showFaceOverlay=function(e){this.webgazer.showFaceOverlay(e)},S.A.prototype.performanceCompute=async function(e,t=!1){if(!this.checkInitialized())return;const n=performance.now(),s={_useless:void 0,time:0,randomTime:0};for(;performance.now()-n<500;)s._useless=Array(5e3).fill(Math.floor(10*Math.random())),s.time++;const i=performance.now();for(s._useless=0;performance.now()-i<500;)s._useless+=Math.random(),s.randomTime++;const r={value:{computeArrayFillMHz:(0,I.Nh)(2*s.time/1e6,3),computeRandomMHz:(0,I.Nh)(2*s.randomTime/1e6,3),idealFps:void 0,stressFps:void 0},timestamp:performance.now()};return t||(this.newPerformanceData=r),(0,I.nB)(e,r),r},S.A.prototype.performance=async function(e={},t=void 0){if(!this.checkInitialized())return;const n=Object.assign({testComputation:!0,testFrameCount:180,testObjectCount:1e4,headline:`🚀 ${G.H.RC_performanceTitle[this.L]}`,description:G.H.RC_performanceIntro[this.L]},e);this._addBackground(),this._addBackgroundText(n.headline,n.description),await(0,I.yy)(200);const s=n.testComputation?await this.performanceCompute(null,!0):{value:{computeArrayFillMHz:void 0,computeRandomMHz:void 0}},i=document.createElement("canvas"),r=i.getContext("2d");i.width=window.innerWidth,i.height=window.innerHeight,this.background.appendChild(i);const a=await Gq(r),o=await Uq(r,n.testFrameCount,n.testObjectCount),l={value:{computeArrayFillMHz:s.value.computeArrayFillMHz,computeRandomMHz:s.value.computeRandomMHz,idealFps:Math.round(6e4/(a.end-a.start)),stressFps:Math.round(1e3*n.testFrameCount/(o.end-o.start))},timestamp:performance.now()};return this.newPerformanceData=l,this._removeBackground(),(0,I.nB)(t,l),l};const Gq=()=>{let e=60;const t=performance.now();return new Promise((n=>{const s=()=>{e--,e>0?requestAnimationFrame(s):n({start:t,end:performance.now()})};requestAnimationFrame(s)}))},Uq=async(e,t,n)=>{let s=t;const i=[],r=["#000000","#333333","#999999"];for(let e=0;e<n;e++)i.push(new jq(r));e.fillStyle="#ffffff";const a=performance.now();return new Promise((t=>{const n=()=>{e.clearRect(0,0,window.innerWidth,window.innerHeight),e.beginPath();for(const t of i)t.move(),t.draw(e);s--,s>0?requestAnimationFrame(n):t({start:a,end:performance.now()})};requestAnimationFrame(n)}))};class jq{constructor(e){this.w=(0,I.Av)(20,70),this.h=(0,I.Av)(30,70),this.x=-this.w+Math.random()*window.innerWidth,this.y=-this.h/2+Math.random()*(window.innerHeight+this.h/2),this.speed=(0,I.Av)(1,5),this.stroke=e[Math.floor(Math.random()*e.length)]}move(){this.x+=this.speed+.5*Math.random(),this.x>window.innerWidth&&(this.x=-this.w)}draw(e){e.strokeStyle=this.stroke,e.fillRect(this.x,this.y,this.w,this.h),e.strokeRect(this.x,this.y,this.w,this.h)}}S.A.prototype.getEquipment=async function(e,t=!1,n="original"){if(this.equipment&&!t)return(0,I.nB)(e);let s,i;if(this._replaceBackground(),"original"===n)s="Do you have a ruler or tape measure?",i=`\n      <p>\n        Ideally, it should be long enough to measure your viewing distance, but even a 6 inch (15 cm) ruler can be useful. \n        Please select the units you'll use, or indicate that no ruler or tape measure is available.\n      </p>\n      <div id="custom-radio-group">\n        <label>\n          <input type="radio" name="equipment" value="cm" />\n          ${G.H.RC_cm[this.language.value]}\n        </label>\n        <label>\n          <input type="radio" name="equipment" value="inches" />\n          ${G.H.RC_Inches[this.language.value]}\n        </label>\n        <label>\n          <input type="radio" name="equipment" value="none" />\n          ${G.H.RC_NoRuler[this.language.value]}\n        </label>\n      </div>\n    `;else{const e=document.querySelector("#webgazerVideoContainer");e&&(e.style.zIndex=9999999999),s=`<p style="text-align:justify; margin:0" class="heading1">${G.H.RC_TestDistances[this.language.value].replace(/(?:\r\n|\r|\n)/g,"<br>")}<p/>`,i=`\n      <p class="bodyText">${G.H.RC_rulerUnit[this.language.value].replace(/(?:\r\n|\r|\n)/g,"<br>")}</p>\n      <div id="custom-radio-group">\n        <label class="bodyText">\n          <input class="custom-input-class"  type="radio" name="equipment" value="inches" />\n          ${G.H.RC_Inches[this.language.value]}\n        </label>\n        <label class="bodyText">\n          <input class="custom-input-class"  type="radio" name="equipment" value="cm" />\n          ${G.H.RC_cm[this.language.value]}\n        </label>\n        <label class="bodyText">\n          <input class="custom-input-class"  type="radio" name="equipment" value="none" />\n          ${G.H.RC_NoRuler[this.language.value]}\n        </label>\n      </div>\n    `}this.showVideo(!1);const{value:r}=await $.A.fire({...ne(this,{showIcon:!1}),title:s,html:i,preConfirm:()=>{const e=document.querySelector('input[name="equipment"]:checked');return e?e.value:($.A.showValidationMessage(G.H.RC_PleaseSelectAnOption[this.language.value]),null)},didOpen:()=>{const e=document.querySelectorAll(".custom-input-class"),t=e=>{"Enter"===e.key&&$.A.clickConfirm()};if(e.forEach((e=>{e.addEventListener("keyup",t)})),this.keypadHandler){const e=(0,U.KD)(null,this.keypadHandler,(()=>{e(),$.A.clickConfirm()}),!1,["return"],this)}this.customKeydownListener=t,this.customInputs=e},willClose:()=>{this.customInputs&&this.customInputs.forEach((e=>{e.removeEventListener("keyup",this.customKeydownListener)}))}});if(!r)return;const a="none"!==r,o={value:{has:a,unit:a?r:null,equipment:a?"":null,length:a?"":null},timestamp:performance.now()};return this.rulerUnits=a?r:null,"original"!==n&&a?await qq(this,o):(this.newEquipmentData=o,this.showVideo(!0)),(0,I.nB)(e)};const qq=async(e,t)=>{e.showVideo(!1);const{value:n}=await $.A.fire({...ne(e,{showIcon:!1}),title:'<p style=text-align:justify class="heading2">'+G.H.RC_howLong[e.language.value].replace("[[AAA]]",t.value.unit)+"</p>",input:"number",inputAttributes:{min:0,step:1},inputPlaceholder:"",inputValidator:n=>new Promise((s=>{(!n?.length||isNaN(n)||parseInt(n)<=0)&&s("Please provide a number for the length of your ruler or tape measure."),e.rulerLength=n,t.value.length=n,e.newEquipmentData=t,s()})),didOpen:()=>{const t=$.A.getInput(),n=e=>{"Enter"===e.key&&$.A.clickConfirm()};if(t&&t.addEventListener("keyup",n),e.keypadHandler){const t=(0,U.KD)(null,e.keypadHandler,(()=>{t(),$.A.clickConfirm()}),!1,["return"],void 0)}e.swalKeydownListener=n},willClose:()=>{const t=$.A.getInput();t&&e.swalKeydownListener&&t.removeEventListener("keydown",e.swalKeydownListener)}});e.showVideo(!0);const s=document.getElementById("webgazerVideoContainer");return s&&ee(e,s),n};var Hq=__webpack_require__(2016),Yq=__webpack_require__(980),Kq=__webpack_require__.n(Yq),Zq=__webpack_require__(3890),Qq=__webpack_require__.n(Zq);S.A.prototype._checkScreenSize=async function(e,t,n){await this.getEquipment((()=>{Xq(this,e,t,n)}))};const Xq=async(e,t,n,s)=>{if(e.equipment?.value?.has){e._replaceBackground((0,I.$O)("📏 Measure the Length of the Arrow",'Use your ruler (or tape measure) to measure the length of the arrow. Type your numerical answer into the box. Just digits, period, decimal comma, and <span style="font-family: Courier, monospace;">/</span> (forward slash) for fractional inches. Then click OK or hit RETURN.'));const t=t=>[()=>{const n=document.createElement("div");e.background.appendChild(n),n.outerHTML=t},()=>{for(const t of e.background.getElementsByClassName("arrow-two-sided-svg"))t.remove()},{callback:()=>{},content:"Ruler is too short"}],n=await(0,Hq.K)(e,...t(Kq())),i=await(0,Hq.K)(e,...t(Qq())),r={};if(n){const t=n.value,s=e.windowWidthPx.value,i=(0,I.Nh)(2.54*s/e.screenPpi.value,1);r.horizontal={...t,calibratorArrowWidthCm:i,arrowWidthPx:s}}if(i){const t=i.value,n=e.windowHeightPx.value,s=(0,I.Nh)(2.54*n/e.screenPpi.value,1);r.vertical={...t,calibratorArrowHeightCm:s,arrowHeightPx:n}}if(r.vertical||r.horizontal){const t={value:r,timestamp:n?n.timestamp:i.timestamp,measure:"screenSize"};e.newCheckData=t,(0,I.nB)(s,t)}}e._removeBackground(),(0,I.nB)(t,n)};let $q;try{const e=__webpack_require__(877);$q=e.cameraShutterSound}catch(e){}const Jq=e=>{try{const e=document.getElementById("webgazerVideoCanvas");if(!e)return null;const t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.videoWidth||e.width,t.height=e.videoHeight||e.height,n.save(),n.translate(t.width,0),n.scale(-1,1),n.drawImage(e,0,0,t.width,t.height),n.restore(),t.toDataURL("image/jpeg",.8)}catch(e){return null}},eH=async(e,t="iris")=>{const n=[];let s=null,i=null;for(let r=0;r<5;r++){try{const r=await nH(e,t);r&&r.ipdPixels&&!isNaN(r.ipdPixels)?(n.push(r.ipdPixels),r.nearestXYPx_left&&r.nearestXYPx_left.length>0&&!isNaN(r.nearestXYPx_left[0])&&!isNaN(r.nearestXYPx_left[1])&&(s=r.nearestXYPx_left),r.nearestXYPx_right&&r.nearestXYPx_right.length>0&&!isNaN(r.nearestXYPx_right[0])&&!isNaN(r.nearestXYPx_right[1])&&(i=r.nearestXYPx_right)):n.push(NaN)}catch(e){n.push(NaN)}await new Promise((e=>setTimeout(e,100)))}const r=n.filter((e=>!isNaN(e)));return{isValid:r.length>=3,samples:n,validCount:r.length,nearestXYPx_left:s,nearestXYPx_right:i}},tH=async(e,t)=>{const n=document.getElementById("webgazerVideoContainer");let s=null;n&&(s=n.style.display,n.style.display="none");const i=await $.A.fire({...ne(e,{showIcon:!1}),title:G.H.RC_FaceBlocked[e.language.value],html:`<div style="text-align: center;">\n        <img src="${t}" style="max-width: 300px; max-height: 400px; border: 2px solid #ccc; border-radius: 8px;" alt="Camera view" />\n        <p style="margin-top: 15px; font-size: 0.7em; color: #666;">${G.H.RC_FaceImageNotSaved[e.language.value]}</p>\n       </div>`,showCancelButton:!1,showConfirmButton:!0,confirmButtonText:G.H.EE_ok[e.language.value],allowEnterKey:!0});return n&&(n.style.display=s||""),i},nH=async(e,t="iris")=>{try{const n=document.getElementById("webgazerVideoCanvas");if(!n)return null;const s=await e.gazeTracker.webgazer.getTracker().model,i=await s.estimateFaces(n);if(!i.length)return null;const r=i[0].keypoints||i[0].scaledMesh,a=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y,e.z-t.z),{leftEye:o,rightEye:l}=Ct(r,t),c=a(o,l);let u=null;if(e.screenPpi&&e.screenPpi.value){u=c/(c/e._CONST.IPD_CM)}const h=ve.current.calibrationFactor,d=(e._CONST.IPD_CM,e.screenPpi?e.screenPpi.value:e._CONST.N.PPI_DONT_USE),p=Ue(n,o,l,c,h,d/2.54,e.screenPpi.value,e,0,0,"",1,[],[],0,0,c),{nearestXYPx_left:f,nearestXYPx_right:m}=p;return{ipdPixels:Math.round(c),ipdCm:u?Number(u.toFixed(2)):null,timestamp:performance.now(),eyePositions:{left:o,right:l},nearestXYPx_left:f,nearestXYPx_right:m}}catch(e){return null}};S.A.prototype._checkDistance=async function(e,t,n,s,i=[],r=()=>{},a=0,o=[],l=!0,c="iris"){await this.getEquipment((async()=>await lH(this,e,t,n,s,i,r,a,o,l,c)),!1,"new")};const sH=e=>{const t=e.screenPpi.value,n=t/25.4;let s=Math.round(5*n),i=window.innerWidth,r=Math.round(2*i/3),a=window.innerHeight-65;const o=document.createElement("div");o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100vw",o.style.height="100vh",o.style.userSelect="none",o.style.overflow="hidden",o.style.zIndex="1000";const l=Math.round(.75*t),c=`\n    position: absolute; \n    top: ${a}px; \n    transform: translateY(-50%); \n    height: ${l}px; \n    width: 6px; \n    background: rgb(0, 0, 0); \n    border-radius: 2px; \n    z-index: 1;\n  `,u=document.createElement("div");u.style=c+`left: ${s}px; cursor: ew-resize;`,o.appendChild(u);const h=document.createElement("div");h.style=c+`left: ${r}px; cursor: ew-resize;`,o.appendChild(h);const d=document.createElement("div");d.style.position="absolute",d.style.left=`${s}px`,d.style.width=r-s+3+"px",d.style.top=`calc(${a}px - ${l/2}px)`,d.style.height=`${l}px`,d.style.background="rgba(255, 221, 51, 0.95)",d.style.borderRadius="2px",d.style.zIndex="0",o.appendChild(d);const p=document.createElement("div");p.style.position="absolute",p.style.left=`${s}px`,p.style.width=r-s+3+"px",p.style.top=`calc(${a}px - ${l/2}px)`,p.style.height="3px",p.style.background="rgb(0, 0, 0)",p.style.borderRadius="2px",p.style.zIndex="1",o.appendChild(p);const f=document.createElement("div");function m(){d.style.left=`${s}px`,d.style.width=r-s+3+"px",p.style.left=`${s}px`,p.style.width=r-s+3+"px",f.style.left=`${s}px`,f.style.width=r-s+3+"px"}function g(){const e=window.innerWidth,t=window.innerHeight-65;i=e,a=t;const n=r/(i||1);r=Math.round(e*n);const o=s+10,c=e;r=Math.max(o,Math.min(r,c));const m=`\n      position: absolute; \n      top: ${a}px; \n      transform: translateY(-50%); \n      height: ${l}px; \n      width: 6px; \n      background: rgb(0, 0, 0); \n      border-radius: 2px; \n      z-index: 1;\n    `;u.style=m+`left: ${s}px; cursor: ew-resize;`,h.style=m+`left: ${r}px; cursor: ew-resize;`,d.style.left=`${s}px`,d.style.width=r-s+3+"px",d.style.top=`calc(${a}px - ${l/2}px)`,d.style.height=`${l}px`,p.style.left=`${s}px`,p.style.width=r-s+3+"px",p.style.top=`calc(${a}px - ${l/2}px)`,f.style.left=`${s}px`,f.style.width=r-s+3+"px",f.style.top=`calc(${a}px + ${l/2}px - 3px)`}f.style.position="absolute",f.style.left=`${s}px`,f.style.width=r-s+3+"px",f.style.top=`calc(${a}px + ${l/2}px - 3px)`,f.style.height="3px",f.style.background="rgb(0, 0, 0)",f.style.borderRadius="2px",f.style.zIndex="1",o.appendChild(f);let y=!1;h.addEventListener("mousedown",(e=>{y=!0,document.body.style.cursor="ew-resize",e.preventDefault()}));const A=e=>{if(!y)return;let t=e.clientX;t=Math.max(s+10,Math.min(t,i)),r=t,h.style.left=`${r}px`,m()},w=()=>{y=!1,document.body.style.cursor=""};window.addEventListener("mousemove",A),window.addEventListener("mouseup",w);let b=!1;u.addEventListener("mousedown",(e=>{b=!0,document.body.style.cursor="ew-resize",e.preventDefault()}));const v=e=>{if(!b)return;let t=e.clientX;t=Math.max(0,Math.min(t,r-2)),s=t,u.style.left=`${s}px`,m()},x=()=>{b=!1,document.body.style.cursor=""};window.addEventListener("mousemove",v),window.addEventListener("mouseup",x);let C=!1,k=null,E=null;const S=e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||(e.preventDefault(),C||(C=!0,E=e.key,k&&clearInterval(k),k=setInterval((()=>{"ArrowLeft"===E?(r-=5,T()):"ArrowRight"===E&&(r+=5,T())}),50)))},I=e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||E===e.key&&(C=!1,E=null,k&&(clearInterval(k),k=null))},T=()=>{const e=s+10,t=i;r=Math.max(e,Math.min(r,t)),h.style.left=`${r}px`,m()};document.addEventListener("keydown",S),document.addEventListener("keyup",I),window.addEventListener("resize",g);return{container:o,cleanup:()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",w),window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",x),window.removeEventListener("resize",g),document.removeEventListener("keydown",S),document.removeEventListener("keyup",I),k&&clearInterval(k),o.parentNode&&o.parentNode.removeChild(o)},getCurrentLengthPx:()=>r-s}},iH=e=>{const t=e.parentElement,n=t.offsetWidth,s=t.offsetHeight;let i=n;for(e.style.fontSize=`${i}px`;(e.scrollWidth>n||e.offsetHeight>s)&&i>10;)i-=1,e.style.fontSize=`${i}px`},rH=(e,t)=>{const n=document.getElementById("length-display-input");n&&(n.value=`${e} ${t}`,iH(n))},aH=__webpack_require__(877).stampOfApprovalSound,oH=async(e,t=[])=>{e.showVideo(!1);e.screenPpi.value;const n=e.screenWidthCm.value,s=e.equipment?.value?.length;Math.min(s,n);let i=t.map((t=>"inches"===e.equipment?.value?.unit?Math.floor(Number(t)/2.54):Math.floor(Number(t))));if(i=i.filter((e=>e>0)),0===i.length)return;const r=Math.max(...i);if(r>n){const e=.9*n/r;i=i.map((t=>Math.floor(t*e)))}e.calibrateTrackLengthMeasuredCm=[],e.calibrateTrackLengthRequestedCm=[],e.calibrateTrackDistancePxPerCm=[],(e=>{if(document.getElementById("length-display-div"))return;const t=e.screenPpi.value,n=Math.round(.75*t),s=document.createElement("div");s.id="calibration-checkSize-lengthDisplay-container",s.className="calibration-checkSize-lengthDisplay-container",s.style.display="inline-flex",s.style.alignItems="baseline",s.style.justifyContent="flex-start",s.style.position="absolute";let i=window.innerHeight-65;s.style.top=i-n/2-375+"px",s.style.transform="translate(-50%)",s.style.width="100%",s.style.height="350px",s.style.marginLeft="25px";const r=document.createElement("input");r.id="length-display-input",r.className="calibration-checkSize-lengthDisplay",r.type="text",r.style.border="none",r.style.background="transparent",r.style.textAlign="left",r.style.width="auto",r.style.outline="none",r.style.marginRight="0",r.style.marginLeft="0",r.style.padding="0",s.appendChild(r),document.body.appendChild(s),window.updateLengthDisplayPosition=()=>{const e=window.innerHeight-65;s.style.top=e-n/2-375+"px"},window.addEventListener("resize",window.updateLengthDisplayPosition)})(e);for(let t=0;t<i.length;t++){const n=i[t],s=t+1;rH(n,e.equipment?.value?.unit);const r=t=>{const n=G.H.RC_SetLengthTitle[e.language.value].replace("[[N11]]",s).replace("[[N22]]",i.length),r=G.H.RC_SetLength[e.language.value].replace("[[N33]]",t).replace("[[UUU]]",e.equipment?.value?.unit).replace(/(?:\r\n|\r|\n)/g,"<br><br>");if(document.getElementById("instruction-title")){const e=document.getElementById("instruction-title"),t=document.getElementById("instruction-body");e&&(e.innerHTML=n),t&&(t.innerHTML=r)}else{const t=(0,I.$O)(n,r,!1,"bodyText","left");e._replaceBackground(t);const s=document.querySelector(".calibration-instruction"),i=document.getElementById("webgazerVideoContainer");if(s&&i){const e=i.getBoundingClientRect(),t=(window.innerWidth-e.width)/2;s.style.maxWidth=t-3+"px"}}};r(n);const a=sH(e);e.background.appendChild(a.container),await new Promise((t=>{let n=!0;function s(e){if("string"!=typeof e)return NaN;const t=e.match(/-?\d+(?:\.\d+)?/);return t?Number(t[0]):NaN}function i(){if(n){"mocha"!==S._&&aH&&aH(),n=!1;const i=s(document.getElementById("length-display-input").value),r=a.getCurrentLengthPx();e.calibrateTrackLengthMeasuredCm.push(Number(r.toFixed(1))),e.calibrateTrackLengthRequestedCm.push(Number("inches"===e.equipment?.value?.unit?(2.54*i).toFixed(1):i.toFixed(1)));const c=Number("inches"===e.equipment?.value?.unit?(2.54*i).toFixed(1):i.toFixed(1));e.calibrateTrackDistancePxPerCm.push((Number(r.toFixed(1))/c).toFixed(1)),document.removeEventListener("keyup",o),l(),a.cleanup(),t()}}function o(e){" "===e.key&&i()}const l=(0,U.KD)(null,e.keypadHandler,(e=>{"space"===e&&i()}),!1,["space"],e,!0),c=document.getElementById("length-display-input");c.addEventListener("input",(t=>{if(""===t.target.value||"-"===t.target.value)return;const n=s(t.target.value);if(isNaN(n))return;const i=Math.max(1,Math.min(100,n));t.target.value=`${i} ${e.equipment?.value?.unit||""}`,r(i),iH(c)})),c.addEventListener("blur",(t=>{const n=s(t.target.value);if(""===t.target.value||isNaN(n)||n<1)t.target.value=`1 ${e.equipment?.value?.unit||""}`,r(1);else{const s=Math.max(1,Math.min(100,n));t.target.value=`${s} ${e.equipment?.value?.unit||""}`,r(s)}iH(c)})),document.addEventListener("keyup",o)}))}(()=>{const e=document.getElementById("length-display-input"),t=document.getElementById("calibration-checkSize-lengthDisplay-units"),n=document.getElementById("calibration-checkSize-lengthDisplay-container");window.updateLengthDisplayPosition&&(window.removeEventListener("resize",window.updateLengthDisplayPosition),delete window.updateLengthDisplayPosition),e&&e.remove(),t&&t.remove(),n&&n.remove()})(),e.showVideo(!0);const a=document.getElementById("webgazerVideoContainer");a&&ee(e,a)},lH=async(e,t,n,s,i,r,a,o=0,l=[],c=!0,u="iris")=>{const h="trackDistance"===s,d=()=>{m(),e._removeBackground(),h||(0,I.nB)(t,n,!1),a()};h&&(0,I.nB)(t,n,!1);let p=null;const f=()=>{p||(p=setInterval((async()=>{let t=null;try{const n=document.getElementById("webgazerVideoCanvas");if(n&&e.gazeTracker?.webgazer){const s=await e.gazeTracker.webgazer.getTracker().model,i=await s.estimateFaces(n);if(i.length>0){const e=i[0].keypoints||i[0].scaledMesh,{leftEye:n,rightEye:s}=Ct(e,u);if(n&&s){const e=n.x,i=n.y,r=n.z,a=s.x,o=s.y,l=s.z;t=Math.hypot(a-e,o-i,l-r)}}}}catch(e){}if(t&&e.screenHeightCm?.value){const n=document.getElementById("webgazerVideoCanvas");if(n){const s=n.height;((e,t,n=0)=>{if(!e)return;if(!document.getElementById(e))return;const s=document.getElementById("webgazerVideoContainer");if(!s)return;const i=document.getElementById("webgazerFaceFeedbackBox"),r=(2*n*100).toFixed(2);s.style.clipPath=`inset(${r}% 0% 0% 0%)`;const a=s.getBoundingClientRect().height,o=parseFloat(r)/100,l=a*o;if(s.style.position="fixed",s.style.left="50%",s.style.top=`calc(50% - ${l/2}px)`,s.style.transform="translate(-50%, -50%)",i){const e=s.getBoundingClientRect().height,t=parseFloat(r)/100,n=e*(1-t),a=(e*t+n/2)/e*100,o=.66*n;i.style.left="50%",i.style.top=`${a}%`,i.style.height=`${o}px`,i.style.transform="translate(-50%, -50%)"}})("webgazerVideoFeed",0,e.screenHeightCm.value/2*(t/6.3)/s)}}}),100))},m=()=>{p&&(clearInterval(p),p=null);const e=document.getElementById("webgazerVideoContainer");e&&(e.style.clipPath="",e.style.position="",e.style.left="",e.style.top="",e.style.transform="",e.style.zIndex="")};if(e.equipment?.value?.has){if(e.pauseNudger(),await oH(e,l),e.resumeNudger(),c&&f(),0===(r=(r=r.map((t=>"inches"===e.equipment?.value?.unit?Math.round(Number(t)/2.54):Math.round(Number(t))))).filter((t=>t>0&&t<=e.equipment?.value?.length))).length)return void d();e._removeBackground(),e.pauseNudger(),dH(e),cH(),e.calibrateTrackDistanceMeasuredCm=[],e.calibrateTrackDistanceRequestedCm=[],e.calibrateTrackDistanceIPDPixels=[],e.calibrateTrackDistanceRequestedDistances=[],e.calibrateTrackDistanceEyeFeetXYPx=[];let t=0;for(let n=0;n<r.length;n++){let s=!0;const i=r[n],a=n+1;pH(a/r.length*100,a,r.length),hH(i,e.equipment?.value?.unit);const l=(0,I.$O)(G.H.RC_produceDistanceTitle[e.language.value].replace("[[N22]]",a).replace("[[N33]]",r.length),G.H.RC_produceDistance[e.language.value].replace("[[N11]]",i).replace("[[UUU]]",e.equipment?.value?.unit).replace(/(?:\r\n|\r|\n)/g,"<br><br>"),!1,"bodyText","left");e._replaceBackground(l);const c=document.querySelector(".calibration-instruction"),h=document.getElementById("webgazerVideoContainer");if(c&&h){const e=h.getBoundingClientRect(),t=(window.innerWidth-e.width)/2;c.style.maxWidth=t-3+"px"}await new Promise((async a=>{o||(o=0),setTimeout((async()=>{let o=null;async function l(h){if(" "===h.key&&s){$q&&$q(),o=Jq();const t=await eH(e,u);if(!t.isValid)return await tH(e,o),void(o=null);s=!1;const n=e.viewingDistanceCm.value.toFixed(1),r=t.samples.filter((e=>!isNaN(e))),h=r.length>0?Math.round(r.reduce(((e,t)=>e+t),0)/r.length):null;e.calibrateTrackDistanceMeasuredCm.push(Number(n)),e.calibrateTrackDistanceRequestedCm.push(Number("inches"===e.equipment?.value?.unit?(2.54*i).toFixed(1):i.toFixed(1)));const d=t.nearestXYPx_left,p=t.nearestXYPx_right;e.calibrateTrackDistanceIPDPixels.push(h),e.calibrateTrackDistanceEyeFeetXYPx.push(d,p),e.calibrateTrackDistanceRequestedDistances.push(Number("inches"===e.equipment?.value?.unit?(2.54*i).toFixed(1):i.toFixed(1))),o=null,document.removeEventListener("keydown",l),c(),a()}else"x"===h.key&&s&&(s=!1,t++,r.splice(n,1),n--,document.removeEventListener("keydown",l),c(),a())}const c=(0,U.KD)(null,e.keypadHandler,(async s=>{if("space"===s){$q&&$q(),o=Jq();const t=await eH(e,u);if(!t.isValid)return await tH(e,o),void(o=null);const n=e.viewingDistanceCm.value.toFixed(1),s=t.samples.filter((e=>!isNaN(e))),r=s.length>0?Math.round(s.reduce(((e,t)=>e+t),0)/s.length):null;e.calibrateTrackDistanceMeasuredCm.push(n),e.calibrateTrackDistanceRequestedCm.push("inches"===e.equipment?.value?.unit?(2.54*i).toFixed(1):i.toFixed(1));const h=t.nearestXYPx_left,d=t.nearestXYPx_right;e.calibrateTrackDistanceEyeFeetXYPx.push(h,d),e.calibrateTrackDistanceIPDPixels.push(r),e.calibrateTrackDistanceRequestedDistances.push(Number("inches"===e.equipment?.value?.unit?(2.54*i).toFixed(1):i.toFixed(1))),o=null,c(),document.removeEventListener("keyup",l),a()}else"❌"===s&&(t++,r.splice(n,1),n--,c(),document.removeEventListener("keyup",l),a())}),!1,["space","❌"],e,!0);document.addEventListener("keyup",l)}),1e3*o)}))}fH(e),uH();const n=document.getElementById("webgazerVideoContainer");n&&(n.style.display="none"),await $.A.fire({...ne(e,{showIcon:!1}),title:'<p class="heading2">'+G.H.RC_AllDistancesRecorded[e.language.value].replace("[[N11]]",e.calibrateTrackDistanceRequestedCm.length)+"</p>",didOpen:()=>{if(e.keypadHandler){const t=(0,U.KD)(null,e.keypadHandler,(()=>{t(),$.A.clickConfirm()}),!1,["space"],e)}}}),e.resumeNudger()}d()},cH=()=>{if(document.getElementById("viewing-distance-div"))return;const e=document.createElement("viewing-distance-div");e.id="calibration-trackDistance-check-viewingDistance-container",e.className="calibration-trackDistance-check-viewingDistance-container";const t=document.createElement("p");t.id="viewing-distance-p",t.className="calibration-trackDistance-check-viewingDistance";const n=document.createElement("p");n.id="calibration-trackDistance-check-viewingDistance-units",n.className="calibration-trackDistance-check-viewingDistance-units",e.appendChild(t),e.appendChild(n),document.body.appendChild(e)},uH=()=>{const e=document.getElementById("viewing-distance-p"),t=document.getElementById("calibration-trackDistance-check-viewingDistance-units"),n=document.getElementById("calibration-trackDistance-check-viewingDistance-container");e&&e.remove(),t&&t.remove(),n&&n.remove()},hH=(e,t)=>{const n=document.getElementById("viewing-distance-p");if(!n)return;n.innerText=e;const s=document.getElementById("calibration-trackDistance-check-viewingDistance-units");s&&(s.innerText=t,((e,t)=>{const n=e.parentElement,s=n.offsetWidth,i=n.offsetHeight;let r=s;for(e.style.fontSize=`${r}px`,t.style.fontSize=.5*r+"px";(e.scrollWidth>s||t.scrollWidth>s||e.offsetHeight+t.offsetHeight>i)&&r>10;)r-=1,e.style.fontSize=`${r}px`,t.style.fontSize=.5*r+"px"})(n,s))},dH=e=>{if(document.getElementById("custom-progress-bar"))return;const t=document.createElement("div");t.id="custom-progress-bar",t.className="calibration-trackDistance-check-progessBar-container";const n=document.createElement("div");n.id="calibration-trackDistance-check-progessBar",n.className="calibration-trackDistance-check-progessBar";const s=document.createElement("p");s.id="calibration-trackDistance-check-progessBar-text",s.className="calibration-trackDistance-check-progessBar-text",t.appendChild(n),t.appendChild(s),document.body.appendChild(t);const i=document.getElementById("webgazerVideoContainer");i&&e&&ee(e,i)},pH=(e,t,n)=>{const s=document.getElementById("calibration-trackDistance-check-progessBar"),i=document.getElementById("calibration-trackDistance-check-progessBar-text");if(!s||!i)return;const r=Math.min(100,Math.max(0,e));s.style.width=`${r}%`,i.innerText=`${t}/${n}`},fH=e=>{const t=document.getElementById("custom-progress-bar");if(t){document.body.removeChild(t);const n=document.getElementById("webgazerVideoContainer");n&&e&&ee(e,n)}};var mH=__webpack_require__(7790),gH=__webpack_require__(627),yH=__webpack_require__.n(gH),AH=__webpack_require__(8110),wH=__webpack_require__.n(AH),bH=__webpack_require__(5072),vH=__webpack_require__.n(bH),xH=__webpack_require__(7825),CH=__webpack_require__.n(xH),kH=__webpack_require__(7659),EH=__webpack_require__.n(kH),SH=__webpack_require__(5056),IH=__webpack_require__.n(SH),TH=__webpack_require__(540),_H=__webpack_require__.n(TH),NH=__webpack_require__(1113),DH=__webpack_require__.n(NH),MH=__webpack_require__(4636),BH={};BH.styleTagTransform=DH(),BH.setAttributes=IH(),BH.insert=EH().bind(null,"head"),BH.domAPI=CH(),BH.insertStyleElement=_H();vH()(MH.A,BH);MH.A&&MH.A.locals&&MH.A.locals;S.A.prototype.removePanel=function(){return!!this._panelStatus.hasPanel&&(this._panel.panelObserver.unobserve(this._panel.panel),this._panel.panel.remove(),this._panel.panel=null,this._panel.panelObserver=null,this._panel.panelTasks=[],this._panel.panelParent=null,this._panel.panelOptions={},this._panel.panelCallback=null,this._panel.panelResolve=null,this._panelStatus.hasPanel=!1,this._panelStatus.panelFinished=!1,jH(this),!0)},S.A.prototype.resetPanel=function(e=null,t=null,n=null,s=null,i=null){if(!this._panelStatus.hasPanel)return!1;const r=e||[...this._panel.panelTasks],a=n||{...this._panel.panelOptions},o=s&&"function"==typeof s?s:this._panel.panelCallback,l=i||this._panel.panelResolve;return null!==t&&t!==this._panel.panelParent?(this.removePanel(),this.panel(r,t,a,o,l)):(jH(this),this.panel(r,this._panel.panelParent,a,o,l,!0))},S.A.prototype.panel=async function(e,t,n={},s=null,i=null,r=!1){if(this._panelStatus.hasPanel^r)return!1;if(!OH(e))return!1;const a=document.querySelector(t);if(!a)return!1;const o=Object.assign({headline:G.H.RC_panelTitle[this.L],description:G.H.RC_panelIntro[this.L],showNextButton:!1,nextHeadline:G.H.RC_panelTitleNext[this.L],nextDescription:G.H.RC_panelIntroNext[this.L],nextButton:G.H.RC_panelButton[this.L],color:"#3490de",debug:!1,i18n:!0,fullscreen:!0,_demoActivateAll:!1},n);this.getFullscreen(o.fullscreen);const l=Lt(o.color).darken(20).toString();document.documentElement.style.setProperty("--rc-panel-theme-color",o.color),document.documentElement.style.setProperty("--rc-panel-darken-color",l),document.documentElement.style.setProperty("--rc-panel-theme-color-semi",`${o.color}66`),document.documentElement.style.setProperty("--rc-panel-darken-color-semi",`${l}88`);const c=document.createElement("div");c.className=c.id="rc-panel",this.LD===this._CONST.RTL?c.className+=" rc-lang-rtl":c.className+=" rc-lang-ltr",o.i18n&&(c.innerHTML+='<div class="rc-panel-language-parent" id="rc-panel-language-parent"></div>'),c.innerHTML+=`<h1 class="rc-panel-title" id="rc-panel-title">${o.headline}</h1>`,c.innerHTML+=`<p class="rc-panel-description" id="rc-panel-description">${o.description}</p>`,c.innerHTML+='<div class="rc-panel-steps" id="rc-panel-steps"></div>',r?a.replaceChild(c,this._panel.panel):a.appendChild(c);const u=c.querySelector("#rc-panel-steps"),h=new ResizeObserver((()=>{VH(u,c.offsetWidth,this.LD)}));if(h.observe(c),VH(u,c.offsetWidth,this.LD),0===e.length)u.className+=" rc-panel-no-steps";else for(const t in e){const n=LH(this,t,e[t],o);u.appendChild(n)}(o.showNextButton||o._demoActivateAll)&&u.appendChild(zH(e.length,o));PH(this,{index:0,finished:[]},e,o,s),this._panel.panel=c,this._panel.panelObserver=h,this._panel.panelTasks=e,this._panel.panelParent=t;const d={...o};return o.headline===G.H.RC_panelTitle[this.L]&&(d.headline=void 0),o.description===G.H.RC_panelIntro[this.L]&&(d.description=void 0),o.nextHeadline===G.H.RC_panelTitleNext[this.L]&&(d.nextHeadline=void 0),o.nextDescription===G.H.RC_panelIntroNext[this.L]&&(d.nextDescription=void 0),o.nextButton===G.H.RC_panelButton[this.L]&&(d.nextButton=void 0),this._panel.panelOptions=d,this._panel.panelCallback=s,this._panel.panelResolve=i,this._panelStatus.hasPanel=!0,this._panelStatus.panelFinished=!1,o.i18n&&qH(this,document.querySelector("#rc-panel-language-parent"),l),o.debug&&(0,mH.K)(this,c,e,s),null===i&&(i=!0),new Promise((e=>{const t=setInterval((()=>{this._panelStatus.panelFinished&&(clearInterval(t),e(i))}),100);this._panelStatus.panelResolveIntervals.push(t)}))};const RH={screenSize:{use:1,name:G.H.RC_screenSize["en-US"],phraseHandle:"RC_screenSize"},measureDistance:{use:1,name:G.H.RC_viewingDistance["en-US"],phraseHandle:"RC_viewingDistance"},trackDistance:{use:2,name:G.H.RC_distanceTracking["en-US"],phraseHandle:"RC_distanceTracking"},trackGaze:{use:2,name:G.H.RC_gazeTracking["en-US"],phraseHandle:"RC_gazeTracking"},performance:{use:1,name:G.H.RC_performance["en-US"],phraseHandle:"RC_performance"}},FH=Object.keys(RH),OH=e=>{if(!Array.isArray(e))return!1;for(const t of e){if("object"==typeof t&&(null===t||!FH.includes(t.name)))return!1;if("string"==typeof t&&!FH.includes(t))return!1}return!0},LH=(e,t,n,s)=>{let i,r;switch(RH[GH(n)].use){case 0:case 1:default:i="",r="";break;case 2:i=yH(),r=G.H.RC_panelUsesWebcam[e.L];break;case 3:i=yH()+wH(),r=G.H.RC_panelUsesWebcamPhone[e.L]}const a=document.createElement("button");return a.className="rc-panel-step rc-panel-step-todo"+(s._demoActivateAll?" rc-panel-step-active":" rc-panel-step-inactive"),a.dataset.index=t,a.innerHTML=`${i.length?`<p class="rc-panel-step-use">${i}</p>`:""}<p class="rc-panel-step-name">${Number(t)+1}&nbsp;&nbsp;${G.H[RH[GH(n)].phraseHandle][e.L]}</p>${i.length?`<p class="rc-panel-step-use-tip">${i} ${r}</p>`:""}`,a},zH=(e,t)=>{const n=document.createElement("button");return n.className="rc-panel-step rc-panel-next-button rc-panel-step-inactive",n.dataset.index=e,n.innerHTML=`<p class="rc-panel-step-name">${t.nextButton}</p>`,n},VH=(e,t,n)=>{if(t<640){e.classList.add("rc-panel-steps-s"),e.classList.remove("rc-panel-steps-l");for(const t of e.childNodes)t.classList.add(`rc-lang-${n.toLowerCase()}`)}else{e.classList.add("rc-panel-steps-l"),e.classList.remove("rc-panel-steps-s");for(const t of e.childNodes)t.classList.remove("rc-lang-ltr"),t.classList.remove("rc-lang-rtl")}},PH=(e,t,n,s,i)=>{document.querySelectorAll(".rc-panel-step").forEach(((r,a)=>{const o=Number(r.dataset.index);if(s._demoActivateAll)r.onclick=()=>{e[GH(n[a])](...UH(n[a])),WH(a),t.finished.push(GH(n[a]));for(const e of n)if(!t.finished.includes(GH(e)))return;const s=document.querySelector(".rc-panel-next-button");s.classList.replace("rc-panel-step-inactive","rc-panel-step-active"),s.onclick=()=>{e._panelStatus.panelFinished=!0,(0,I.nB)(i,{timestamp:performance.now()})}},(0,U.KD)(r,e.keypadHandler,null,!0,["return"],e);else if(o===t.index)if(r.classList.replace("rc-panel-step-inactive","rc-panel-step-active"),r.focus(),o!==n.length)o!==n.length-1||s.showNextButton?r.onclick=()=>{e[GH(n[t.index])](...UH(n[t.index],(()=>{WH(t.index),t.index++,PH(e,t,n,s,i)})))}:r.onclick=()=>{e[GH(n[t.index])](...UH(n[t.index],(()=>{WH(t.index)}),i,(()=>{e._panelStatus.panelFinished=!0})))},(0,U.KD)(r,e.keypadHandler,null,!0,["return"],e);else if(o===n.length&&s.showNextButton){const{headline:t,nextHeadline:n,description:a,nextDescription:o}=s;t!==n&&(document.querySelector("#rc-panel-title").innerHTML=n),a!==o&&(document.querySelector("#rc-panel-description").innerHTML=o),r.onclick=()=>{e._panelStatus.panelFinished=!0,(0,I.nB)(i,{timestamp:performance.now()})},(0,U.KD)(r,e.keypadHandler,null,!0,["return"],e)}}))},WH=e=>{const t=document.querySelectorAll(".rc-panel-step");for(const n of t)Number(n.dataset.index)===e&&(n.classList.replace("rc-panel-step-todo","rc-panel-step-finished"),n.classList.replace("rc-panel-step-active","rc-panel-step-inactive"))},GH=e=>"string"==typeof e?e:e.name,UH=(e,t,n=null,s=null)=>{"string"==typeof e&&(e={name:e});const i=()=>{(0,I.nB)(t),(0,I.nB)(n,{timestamp:performance.now()}),(0,I.nB)(s)};return["screenSize","measureDistance","performance"].includes(e.name)?[e.options||{},t=>{(0,I.nB)(e.callback,t),i()}]:"trackGaze"===e.name?[e.options||{},t=>{(0,I.nB)(e.callbackOnCalibrationEnd,t),i()},e.callbackTrack||null]:"trackDistance"===e.name?[e.options||{},t=>{(0,I.nB)(e.callbackStatic,t),i()},e.callbackTrack||null]:void 0},jH=e=>{e._panelStatus.panelResolveIntervals.map((e=>clearInterval(e))),e._panelStatus.panelResolveIntervals=[]},qH=(e,t,n)=>{let s=`<select name="rc-lang" id="rc-panel-lang-picker" style="color: ${n} !important">`;for(const t of e.supportedLanguages)e.L===t.language&&(s+=`<option value="${t.language}" selected>${t.languageNameNative}</option>`);for(const t of e.supportedLanguages)e.L!==t.language&&(s+=`<option value="${t.language}">${t.languageNameNative}</option>`);s+="</select>",t.innerHTML=s,document.querySelector("#rc-panel-lang-picker").onchange=()=>{e.newLanguage(document.querySelector("#rc-panel-lang-picker").value),e.resetPanel()}};S.A.prototype.backgroundColor=function(e=null){if(!this.checkInitialized())return null;null!==e&&/^#([0-9A-F]{3}){1,2}$/i.test(e)?this._params.backgroundColor=e:this._params.backgroundColor="#eee";const t=document.querySelector("#calibration-background");return t&&(t.style.background=this.params.backgroundColor),this.params.backgroundColor},S.A.prototype.videoOpacity=function(e=null){if(!this.checkInitialized())return null;null===e||Number(e)!==e||Number(e)>1||Number(e)<0?this._params.videoOpacity=.8:this._params.videoOpacity=e;const t=document.querySelector("#webgazerVideoContainer");return t&&(t.style.opacity=this.params.videoOpacity),this.params.videoOpacity},S.A.prototype.showCancelButton=function(e=!0){return this.checkInitialized()?(this._params.showCancelButton=!!e,this.params.showCancelButton):null};var HH=__webpack_require__(9725),YH={};YH.styleTagTransform=DH(),YH.setAttributes=IH(),YH.insert=EH().bind(null,"head"),YH.domAPI=CH(),YH.insertStyleElement=_H();vH()(HH.A,YH);HH.A&&HH.A.locals&&HH.A.locals;var KH=__webpack_require__(5151),ZH={};ZH.styleTagTransform=DH(),ZH.setAttributes=IH(),ZH.insert=EH().bind(null,"head"),ZH.domAPI=CH(),ZH.insertStyleElement=_H();vH()(KH.A,ZH);KH.A&&KH.A.locals&&KH.A.locals;var QH=__webpack_require__(2945),XH={};XH.styleTagTransform=DH(),XH.setAttributes=IH(),XH.insert=EH().bind(null,"head"),XH.domAPI=CH(),XH.insertStyleElement=_H();vH()(QH.A,XH);QH.A&&QH.A.locals&&QH.A.locals;var $H=__webpack_require__(9057),JH={};JH.styleTagTransform=DH(),JH.setAttributes=IH(),JH.insert=EH().bind(null,"head"),JH.domAPI=CH(),JH.insertStyleElement=_H();vH()($H.A,JH);$H.A&&$H.A.locals&&$H.A.locals;var eY=__webpack_require__(4889),tY={};tY.styleTagTransform=DH(),tY.setAttributes=IH(),tY.insert=EH().bind(null,"head"),tY.domAPI=CH(),tY.insertStyleElement=_H();vH()(eY.A,tY);eY.A&&eY.A.locals&&eY.A.locals;var nY=__webpack_require__(2636),sY={};sY.styleTagTransform=DH(),sY.setAttributes=IH(),sY.insert=EH().bind(null,"head"),sY.domAPI=CH(),sY.insertStyleElement=_H();vH()(nY.A,sY);nY.A&&nY.A.locals&&nY.A.locals;var iY=__webpack_require__(2921),rY={};rY.styleTagTransform=DH(),rY.setAttributes=IH(),rY.insert=EH().bind(null,"head"),rY.domAPI=CH(),rY.insertStyleElement=_H();vH()(iY.A,rY);iY.A&&iY.A.locals&&iY.A.locals;var aY=__webpack_require__(7271),oY={};oY.styleTagTransform=DH(),oY.setAttributes=IH(),oY.insert=EH().bind(null,"head"),oY.domAPI=CH(),oY.insertStyleElement=_H();vH()(aY.A,oY);aY.A&&aY.A.locals&&aY.A.locals;var lY=__webpack_require__(2551),cY={};cY.styleTagTransform=DH(),cY.setAttributes=IH(),cY.insert=EH().bind(null,"head"),cY.domAPI=CH(),cY.insertStyleElement=_H();vH()(lY.A,cY);lY.A&&lY.A.locals&&lY.A.locals;var uY=__webpack_require__(8470),hY={};hY.styleTagTransform=DH(),hY.setAttributes=IH(),hY.insert=EH().bind(null,"head"),hY.domAPI=CH(),hY.insertStyleElement=_H();vH()(uY.A,hY);uY.A&&uY.A.locals&&uY.A.locals;var dY=__webpack_require__(2535),pY={};pY.styleTagTransform=DH(),pY.setAttributes=IH(),pY.insert=EH().bind(null,"head"),pY.domAPI=CH(),pY.insertStyleElement=_H();vH()(dY.A,pY);dY.A&&dY.A.locals&&dY.A.locals;var fY=__webpack_require__(663),mY={};mY.styleTagTransform=DH(),mY.setAttributes=IH(),mY.insert=EH().bind(null,"head"),mY.domAPI=CH(),mY.insertStyleElement=_H();vH()(fY.A,mY);fY.A&&fY.A.locals&&fY.A.locals;var gY=__webpack_require__(5319),yY={};yY.styleTagTransform=DH(),yY.setAttributes=IH(),yY.insert=EH().bind(null,"head"),yY.domAPI=CH(),yY.insertStyleElement=_H();vH()(gY.A,yY);gY.A&&gY.A.locals&&gY.A.locals;var AY=__webpack_require__(290),wY={};wY.styleTagTransform=DH(),wY.setAttributes=IH(),wY.insert=EH().bind(null,"head"),wY.domAPI=CH(),wY.insertStyleElement=_H();vH()(AY.A,wY);AY.A&&AY.A.locals&&AY.A.locals;const bY=new S.A;bY.gazeTracker=new Wq(bY);const vY=bY})(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__})()));
//# sourceMappingURL=RemoteCalibrator.min.js.map